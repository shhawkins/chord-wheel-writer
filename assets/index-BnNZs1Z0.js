(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var S1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hm={exports:{}},If={};var J5;function E_(){if(J5)return If;J5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:o}}return If.Fragment=e,If.jsx=t,If.jsxs=t,If}var ev;function M_(){return ev||(ev=1,hm.exports=E_()),hm.exports}var v=M_(),fm={exports:{}},cn={};var tv;function L_(){if(tv)return cn;tv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function C(z,M,H){this.props=z,this.context=M,this.refs=k,this.updater=H||A}C.prototype.isReactComponent={},C.prototype.setState=function(z,M){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,M,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function R(){}R.prototype=C.prototype;function D(z,M,H){this.props=z,this.context=M,this.refs=k,this.updater=H||A}var I=D.prototype=new R;I.constructor=D,N(I,C.prototype),I.isPureReactComponent=!0;var F=Array.isArray;function Y(){}var G={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function B(z,M,H){var J=H.ref;return{$$typeof:n,type:z,key:M,ref:J!==void 0?J:null,props:H}}function K(z,M){return B(z.type,M,z.props)}function j(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function V(z){var M={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(H){return M[H]})}var ne=/\/+/g;function W(z,M){return typeof z=="object"&&z!==null&&z.key!=null?V(""+z.key):M.toString(36)}function oe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Y,Y):(z.status="pending",z.then(function(M){z.status==="pending"&&(z.status="fulfilled",z.value=M)},function(M){z.status==="pending"&&(z.status="rejected",z.reason=M)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function $(z,M,H,J,Q){var ae=typeof z;(ae==="undefined"||ae==="boolean")&&(z=null);var fe=!1;if(z===null)fe=!0;else switch(ae){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(z.$$typeof){case n:case e:fe=!0;break;case p:return fe=z._init,$(fe(z._payload),M,H,J,Q)}}if(fe)return Q=Q(z),fe=J===""?"."+W(z,0):J,F(Q)?(H="",fe!=null&&(H=fe.replace(ne,"$&/")+"/"),$(Q,M,H,"",function(we){return we})):Q!=null&&(j(Q)&&(Q=K(Q,H+(Q.key==null||z&&z.key===Q.key?"":(""+Q.key).replace(ne,"$&/")+"/")+fe)),M.push(Q)),1;fe=0;var de=J===""?".":J+":";if(F(z))for(var xe=0;xe<z.length;xe++)J=z[xe],ae=de+W(J,xe),fe+=$(J,M,H,ae,Q);else if(xe=b(z),typeof xe=="function")for(z=xe.call(z),xe=0;!(J=z.next()).done;)J=J.value,ae=de+W(J,xe++),fe+=$(J,M,H,ae,Q);else if(ae==="object"){if(typeof z.then=="function")return $(oe(z),M,H,J,Q);throw M=String(z),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return fe}function te(z,M,H){if(z==null)return z;var J=[],Q=0;return $(z,J,"","",function(ae){return M.call(H,ae,Q++)}),J}function le(z){if(z._status===-1){var M=z._result;M=M(),M.then(function(H){(z._status===0||z._status===-1)&&(z._status=1,z._result=H)},function(H){(z._status===0||z._status===-1)&&(z._status=2,z._result=H)}),z._status===-1&&(z._status=0,z._result=M)}if(z._status===1)return z._result.default;throw z._result}var pe=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},be={map:te,forEach:function(z,M,H){te(z,function(){M.apply(this,arguments)},H)},count:function(z){var M=0;return te(z,function(){M++}),M},toArray:function(z){return te(z,function(M){return M})||[]},only:function(z){if(!j(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return cn.Activity=y,cn.Children=be,cn.Component=C,cn.Fragment=t,cn.Profiler=a,cn.PureComponent=D,cn.StrictMode=s,cn.Suspense=f,cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,cn.__COMPILER_RUNTIME={__proto__:null,c:function(z){return G.H.useMemoCache(z)}},cn.cache=function(z){return function(){return z.apply(null,arguments)}},cn.cacheSignal=function(){return null},cn.cloneElement=function(z,M,H){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var J=N({},z.props),Q=z.key;if(M!=null)for(ae in M.key!==void 0&&(Q=""+M.key),M)!O.call(M,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&M.ref===void 0||(J[ae]=M[ae]);var ae=arguments.length-2;if(ae===1)J.children=H;else if(1<ae){for(var fe=Array(ae),de=0;de<ae;de++)fe[de]=arguments[de+2];J.children=fe}return B(z.type,Q,J)},cn.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},cn.createElement=function(z,M,H){var J,Q={},ae=null;if(M!=null)for(J in M.key!==void 0&&(ae=""+M.key),M)O.call(M,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(Q[J]=M[J]);var fe=arguments.length-2;if(fe===1)Q.children=H;else if(1<fe){for(var de=Array(fe),xe=0;xe<fe;xe++)de[xe]=arguments[xe+2];Q.children=de}if(z&&z.defaultProps)for(J in fe=z.defaultProps,fe)Q[J]===void 0&&(Q[J]=fe[J]);return B(z,ae,Q)},cn.createRef=function(){return{current:null}},cn.forwardRef=function(z){return{$$typeof:c,render:z}},cn.isValidElement=j,cn.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:le}},cn.memo=function(z,M){return{$$typeof:d,type:z,compare:M===void 0?null:M}},cn.startTransition=function(z){var M=G.T,H={};G.T=H;try{var J=z(),Q=G.S;Q!==null&&Q(H,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Y,pe)}catch(ae){pe(ae)}finally{M!==null&&H.types!==null&&(M.types=H.types),G.T=M}},cn.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},cn.use=function(z){return G.H.use(z)},cn.useActionState=function(z,M,H){return G.H.useActionState(z,M,H)},cn.useCallback=function(z,M){return G.H.useCallback(z,M)},cn.useContext=function(z){return G.H.useContext(z)},cn.useDebugValue=function(){},cn.useDeferredValue=function(z,M){return G.H.useDeferredValue(z,M)},cn.useEffect=function(z,M){return G.H.useEffect(z,M)},cn.useEffectEvent=function(z){return G.H.useEffectEvent(z)},cn.useId=function(){return G.H.useId()},cn.useImperativeHandle=function(z,M,H){return G.H.useImperativeHandle(z,M,H)},cn.useInsertionEffect=function(z,M){return G.H.useInsertionEffect(z,M)},cn.useLayoutEffect=function(z,M){return G.H.useLayoutEffect(z,M)},cn.useMemo=function(z,M){return G.H.useMemo(z,M)},cn.useOptimistic=function(z,M){return G.H.useOptimistic(z,M)},cn.useReducer=function(z,M,H){return G.H.useReducer(z,M,H)},cn.useRef=function(z){return G.H.useRef(z)},cn.useState=function(z){return G.H.useState(z)},cn.useSyncExternalStore=function(z,M,H){return G.H.useSyncExternalStore(z,M,H)},cn.useTransition=function(){return G.H.useTransition()},cn.version="19.2.0",cn}var nv;function kg(){return nv||(nv=1,fm.exports=L_()),fm.exports}var re=kg();const Xn=j_(re);var dm={exports:{}},Vf={},pm={exports:{}},mm={};var rv;function O_(){return rv||(rv=1,(function(n){function e($,te){var le=$.length;$.push(te);e:for(;0<le;){var pe=le-1>>>1,be=$[pe];if(0<a(be,te))$[pe]=te,$[le]=be,le=pe;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var te=$[0],le=$.pop();if(le!==te){$[0]=le;e:for(var pe=0,be=$.length,z=be>>>1;pe<z;){var M=2*(pe+1)-1,H=$[M],J=M+1,Q=$[J];if(0>a(H,le))J<be&&0>a(Q,H)?($[pe]=Q,$[J]=le,pe=J):($[pe]=H,$[M]=le,pe=M);else if(J<be&&0>a(Q,le))$[pe]=Q,$[J]=le,pe=J;else break e}}return te}function a($,te){var le=$.sortIndex-te.sortIndex;return le!==0?le:$.id-te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],p=1,y=null,_=3,b=!1,A=!1,N=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function I($){for(var te=t(d);te!==null;){if(te.callback===null)s(d);else if(te.startTime<=$)s(d),te.sortIndex=te.expirationTime,e(f,te);else break;te=t(d)}}function F($){if(N=!1,I($),!A)if(t(f)!==null)A=!0,Y||(Y=!0,V());else{var te=t(d);te!==null&&oe(F,te.startTime-$)}}var Y=!1,G=-1,O=5,B=-1;function K(){return k?!0:!(n.unstable_now()-B<O)}function j(){if(k=!1,Y){var $=n.unstable_now();B=$;var te=!0;try{e:{A=!1,N&&(N=!1,R(G),G=-1),b=!0;var le=_;try{t:{for(I($),y=t(f);y!==null&&!(y.expirationTime>$&&K());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,_=y.priorityLevel;var be=pe(y.expirationTime<=$);if($=n.unstable_now(),typeof be=="function"){y.callback=be,I($),te=!0;break t}y===t(f)&&s(f),I($)}else s(f);y=t(f)}if(y!==null)te=!0;else{var z=t(d);z!==null&&oe(F,z.startTime-$),te=!1}}break e}finally{y=null,_=le,b=!1}te=void 0}}finally{te?V():Y=!1}}}var V;if(typeof D=="function")V=function(){D(j)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,W=ne.port2;ne.port1.onmessage=j,V=function(){W.postMessage(null)}}else V=function(){C(j,0)};function oe($,te){G=C(function(){$(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function($){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var le=_;_=te;try{return $()}finally{_=le}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=_;_=$;try{return te()}finally{_=le}},n.unstable_scheduleCallback=function($,te,le){var pe=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?pe+le:pe):le=pe,$){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=le+be,$={id:p++,callback:te,priorityLevel:$,startTime:le,expirationTime:be,sortIndex:-1},le>pe?($.sortIndex=le,e(d,$),t(f)===null&&$===t(d)&&(N?(R(G),G=-1):N=!0,oe(F,le-pe))):($.sortIndex=be,e(f,$),A||b||(A=!0,Y||(Y=!0,V()))),$},n.unstable_shouldYield=K,n.unstable_wrapCallback=function($){var te=_;return function(){var le=_;_=te;try{return $.apply(this,arguments)}finally{_=le}}}})(mm)),mm}var sv;function D_(){return sv||(sv=1,pm.exports=O_()),pm.exports}var gm={exports:{}},si={};var iv;function R_(){if(iv)return si;iv=1;var n=kg();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:d,implementation:p}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,si.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},si.flushSync=function(f){var d=u.T,p=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=d,s.p=p,s.d.f()}},si.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(f,d))},si.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},si.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?s.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):p==="script"&&s.d.X(f,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},si.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(f)},si.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);s.d.L(f,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},si.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);s.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(f)},si.requestFormReset=function(f){s.d.r(f)},si.unstable_batchedUpdates=function(f,d){return f(d)},si.useFormState=function(f,d,p){return u.H.useFormState(f,d,p)},si.useFormStatus=function(){return u.H.useHostTransitionStatus()},si.version="19.2.0",si}var av;function Ax(){if(av)return gm.exports;av=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gm.exports=R_(),gm.exports}var ov;function I_(){if(ov)return Vf;ov=1;var n=D_(),e=kg(),t=Ax();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function c(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(s(188))}function d(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var l=r,h=i;;){var g=l.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===l)return f(g),r;if(w===h)return f(g),i;w=w.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=w;else{for(var L=!1,ee=g.child;ee;){if(ee===l){L=!0,l=g,h=w;break}if(ee===h){L=!0,h=g,l=w;break}ee=ee.sibling}if(!L){for(ee=w.child;ee;){if(ee===l){L=!0,l=w,h=g;break}if(ee===h){L=!0,h=w,l=g;break}ee=ee.sibling}if(!L)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:i}function p(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=p(r),i!==null)return i;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function V(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var ne=Symbol.for("react.client.reference");function W(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ne?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case F:return"Suspense";case Y:return"SuspenseList";case B:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case D:return r.displayName||"Context";case R:return(r._context.displayName||"Context")+".Consumer";case I:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return i=r.displayName||null,i!==null?i:W(r.type)||"Memo";case O:i=r._payload,r=r._init;try{return W(r(i))}catch{}}return null}var oe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},pe=[],be=-1;function z(r){return{current:r}}function M(r){0>be||(r.current=pe[be],pe[be]=null,be--)}function H(r,i){be++,pe[be]=r.current,r.current=i}var J=z(null),Q=z(null),ae=z(null),fe=z(null);function de(r,i){switch(H(ae,i),H(Q,r),H(J,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?_5(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=_5(i),r=S5(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}M(J),H(J,r)}function xe(){M(J),M(Q),M(ae)}function we(r){r.memoizedState!==null&&H(fe,r);var i=J.current,l=S5(i,r.type);i!==l&&(H(Q,r),H(J,l))}function Ve(r){Q.current===r&&(M(J),M(Q)),fe.current===r&&(M(fe),Lf._currentValue=le)}var Xe,et;function ct(r){if(Xe===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Xe=i&&i[1]||"",et=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+r+et}var P=!1;function Ae(r,i){if(!r||P)return"";P=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(Fe){var Ie=Fe}Reflect.construct(r,[],Ze)}else{try{Ze.call()}catch(Fe){Ie=Fe}r.call(Ze.prototype)}}else{try{throw Error()}catch(Fe){Ie=Fe}(Ze=r())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(Fe){if(Fe&&Ie&&typeof Fe.stack=="string")return[Fe.stack,Ie.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),L=w[0],ee=w[1];if(L&&ee){var me=L.split(`
`),Re=ee.split(`
`);for(g=h=0;h<me.length&&!me[h].includes("DetermineComponentFrameRoot");)h++;for(;g<Re.length&&!Re[g].includes("DetermineComponentFrameRoot");)g++;if(h===me.length||g===Re.length)for(h=me.length-1,g=Re.length-1;1<=h&&0<=g&&me[h]!==Re[g];)g--;for(;1<=h&&0<=g;h--,g--)if(me[h]!==Re[g]){if(h!==1||g!==1)do if(h--,g--,0>g||me[h]!==Re[g]){var Ue=`
`+me[h].replace(" at new "," at ");return r.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",r.displayName)),Ue}while(1<=h&&0<=g);break}}}finally{P=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?ct(l):""}function nt(r,i){switch(r.tag){case 26:case 27:case 5:return ct(r.type);case 16:return ct("Lazy");case 13:return r.child!==i&&i!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return Ae(r.type,!1);case 11:return Ae(r.type.render,!1);case 1:return Ae(r.type,!0);case 31:return ct("Activity");default:return""}}function Be(r){try{var i="",l=null;do i+=nt(r,l),l=r,r=r.return;while(r);return i}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Le=Object.prototype.hasOwnProperty,Ke=n.unstable_scheduleCallback,He=n.unstable_cancelCallback,ut=n.unstable_shouldYield,at=n.unstable_requestPaint,ze=n.unstable_now,st=n.unstable_getCurrentPriorityLevel,tt=n.unstable_ImmediatePriority,ht=n.unstable_UserBlockingPriority,yt=n.unstable_NormalPriority,dt=n.unstable_LowPriority,xt=n.unstable_IdlePriority,ft=n.log,hn=n.unstable_setDisableYieldValue,Xt=null,Nt=null;function St(r){if(typeof ft=="function"&&hn(r),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Xt,r)}catch{}}var Tt=Math.clz32?Math.clz32:Lt,gt=Math.log,Jt=Math.LN2;function Lt(r){return r>>>=0,r===0?32:31-(gt(r)/Jt|0)|0}var It=256,bn=262144,bt=4194304;function _e(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function it(r,i,l){var h=r.pendingLanes;if(h===0)return 0;var g=0,w=r.suspendedLanes,L=r.pingedLanes;r=r.warmLanes;var ee=h&134217727;return ee!==0?(h=ee&~w,h!==0?g=_e(h):(L&=ee,L!==0?g=_e(L):l||(l=ee&~r,l!==0&&(g=_e(l))))):(ee=h&~w,ee!==0?g=_e(ee):L!==0?g=_e(L):l||(l=h&~r,l!==0&&(g=_e(l)))),g===0?0:i!==0&&i!==g&&(i&w)===0&&(w=g&-g,l=i&-i,w>=l||w===32&&(l&4194048)!==0)?i:g}function Ne(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function rt(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pt(){var r=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),r}function At(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function ot(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Pt(r,i,l,h,g,w){var L=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var ee=r.entanglements,me=r.expirationTimes,Re=r.hiddenUpdates;for(l=L&~l;0<l;){var Ue=31-Tt(l),Ze=1<<Ue;ee[Ue]=0,me[Ue]=-1;var Ie=Re[Ue];if(Ie!==null)for(Re[Ue]=null,Ue=0;Ue<Ie.length;Ue++){var Fe=Ie[Ue];Fe!==null&&(Fe.lane&=-536870913)}l&=~Ze}h!==0&&yn(r,h,0),w!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=w&~(L&~i))}function yn(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var h=31-Tt(i);r.entangledLanes|=i,r.entanglements[h]=r.entanglements[h]|1073741824|l&261930}function xn(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var h=31-Tt(l),g=1<<h;g&i|r[h]&i&&(r[h]|=i),l&=~g}}function wn(r,i){var l=i&-i;return l=(l&42)!==0?1:Gt(l),(l&(r.suspendedLanes|i))!==0?0:l}function Gt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function fn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function dn(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:G5(r.type))}function Vn(r,i){var l=te.p;try{return te.p=r,i()}finally{te.p=l}}var Fn=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Fn,Ln="__reactProps$"+Fn,hr="__reactContainer$"+Fn,Mr="__reactEvents$"+Fn,Cn="__reactListeners$"+Fn,Ee="__reactHandles$"+Fn,Te="__reactResources$"+Fn,Ye="__reactMarker$"+Fn;function vt(r){delete r[Mn],delete r[Ln],delete r[Mr],delete r[Cn],delete r[Ee]}function Bt(r){var i=r[Mn];if(i)return i;for(var l=r.parentNode;l;){if(i=l[hr]||l[Mn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=E5(r);r!==null;){if(l=r[Mn])return l;r=E5(r)}return i}r=l,l=r.parentNode}return null}function Rt(r){if(r=r[Mn]||r[hr]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Vt(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function mn(r){var i=r[Te];return i||(i=r[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Wt(r){r[Ye]=!0}var yr=new Set,Zn={};function tr(r,i){xr(r,i),xr(r+"Capture",i)}function xr(r,i){for(Zn[r]=i,r=0;r<i.length;r++)yr.add(i[r])}var ei=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qs={},wi={};function _i(r){return Le.call(wi,r)?!0:Le.call(qs,r)?!1:ei.test(r)?wi[r]=!0:(qs[r]=!0,!1)}function wr(r,i,l){if(_i(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function Us(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function Hs(r,i,l,h){if(h===null)r.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+h)}}function _n(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function yo(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hi(r,i,l){var h=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,w=h.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(L){l=""+L,w.call(this,L)}}),Object.defineProperty(r,i,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(L){l=""+L},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ha(r){if(!r._valueTracker){var i=yo(r)?"checked":"value";r._valueTracker=hi(r,i,""+r[i])}}function xo(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return r&&(h=yo(r)?r.checked?"true":"false":r.value),r=h,r!==l?(i.setValue(r),!0):!1}function cs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var zr=/[\n"\\]/g;function Lr(r){return r.replace(zr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wo(r,i,l,h,g,w,L,ee){r.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?r.type=L:r.removeAttribute("type"),i!=null?L==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+_n(i)):r.value!==""+_n(i)&&(r.value=""+_n(i)):L!=="submit"&&L!=="reset"||r.removeAttribute("value"),i!=null?Xo(r,L,_n(i)):l!=null?Xo(r,L,_n(l)):h!=null&&r.removeAttribute("value"),g==null&&w!=null&&(r.defaultChecked=!!w),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?r.name=""+_n(ee):r.removeAttribute("name")}function Il(r,i,l,h,g,w,L,ee){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),i!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||i!=null)){ha(r);return}l=l!=null?""+_n(l):"",i=i!=null?""+_n(i):l,ee||i===r.value||(r.value=i),r.defaultValue=i}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=ee?r.checked:!!h,r.defaultChecked=!!h,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(r.name=L),ha(r)}function Xo(r,i,l){i==="number"&&cs(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Ws(r,i,l,h){if(r=r.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=i.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&h&&(r[l].defaultSelected=!0)}else{for(l=""+_n(l),i=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,h&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Oc(r,i,l){if(i!=null&&(i=""+_n(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+_n(l):""}function Dc(r,i,l,h){if(i==null){if(h!=null){if(l!=null)throw Error(s(92));if(oe(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),i=l}l=_n(i),r.defaultValue=l,h=r.textContent,h===l&&h!==""&&h!==null&&(r.value=h),ha(r)}function $i(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tu(r,i,l){var h=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":h?r.setProperty(i,l):typeof l!="number"||l===0||Zo.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function Cu(r,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var g in i)h=i[g],i.hasOwnProperty(g)&&l[g]!==h&&Tu(r,g,h)}else for(var w in i)i.hasOwnProperty(w)&&Tu(r,w,i[w])}function Rc(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ic=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ku=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(r){return ku.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Xi(){}var Oa=null;function Qo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _o=null,Yt=null;function ju(r){var i=Rt(r);if(i&&(r=i.stateNode)){var l=r[Ln]||null;e:switch(r=i.stateNode,i.type){case"input":if(wo(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lr(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==r&&h.form===r.form){var g=h[Ln]||null;if(!g)throw Error(s(90));wo(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)h=l[i],h.form===r.form&&xo(h)}break e;case"textarea":Oc(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Ws(r,!!l.multiple,i,!1)}}}var Vc=!1;function Eu(r,i,l){if(Vc)return r(i,l);Vc=!0;try{var h=r(i);return h}finally{if(Vc=!1,(_o!==null||Yt!==null)&&(t1(),_o&&(i=_o,r=Yt,Yt=_o=null,ju(i),r)))for(i=0;i<r.length;i++)ju(r[i])}}function fi(r,i){var l=r.stateNode;if(l===null)return null;var h=l[Ln]||null;if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fc=!1;if(xs)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){Fc=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{Fc=!1}var di=null,Jo=null,fa=null;function Mu(){if(fa)return fa;var r,i=Jo,l=i.length,h,g="value"in di?di.value:di.textContent,w=g.length;for(r=0;r<l&&i[r]===g[r];r++);var L=l-r;for(h=1;h<=L&&i[l-h]===g[w-h];h++);return fa=g.slice(r,1<h?1-h:void 0)}function Si(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Vl(){return!0}function Fl(){return!1}function us(r){function i(l,h,g,w,L){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=L,this.currentTarget=null;for(var ee in r)r.hasOwnProperty(ee)&&(l=r[ee],this[ee]=l?l(w):w[ee]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Vl:Fl,this.isPropagationStopped=Fl,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),i}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=us(da),Da=y({},da,{view:0,detail:0}),Bl=us(Da),el,Ra,Ia,tl=y({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ia&&(Ia&&r.type==="mousemove"?(el=r.screenX-Ia.screenX,Ra=r.screenY-Ia.screenY):Ra=el=0,Ia=r),el)},movementY:function(r){return"movementY"in r?r.movementY:Ra}}),Bc=us(tl),Va=y({},tl,{dataTransfer:0}),Fa=us(Va),Lu=y({},Da,{relatedTarget:0}),Ba=us(Lu),Ou=y({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),S=us(Ou),q=y({},da,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),he=us(q),ge=y({},da,{data:0}),Ce=us(ge),We={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Je={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ot(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=kt[r])?!!i[r]:!1}function Kt(){return Ot}var on=y({},Da,{key:function(r){if(r.key){var i=We[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Si(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Je[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kt,charCode:function(r){return r.type==="keypress"?Si(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Si(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),On=us(on),_r=y({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pr=us(_r),nr=y({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kt}),ns=us(nr),Yr=y({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),ws=us(Yr),za=y({},tl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Zi=us(za),Pa=y({},da,{newState:0,oldState:0}),zc=us(Pa),zl=[9,13,27,32],pa=xs&&"CompositionEvent"in window,Qi=null;xs&&"documentMode"in document&&(Qi=document.documentMode);var nl=xs&&"TextEvent"in window&&!Qi,qa=xs&&(!pa||Qi&&8<Qi&&11>=Qi),hs=" ",So=!1;function No(r,i){switch(r){case"keyup":return zl.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pl(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ma=!1;function Gs(r,i){switch(r){case"compositionend":return Pl(i);case"keypress":return i.which!==32?null:(So=!0,hs);case"textInput":return r=i.data,r===hs&&So?null:r;default:return null}}function Ua(r,i){if(ma)return r==="compositionend"||!pa&&No(r,i)?(r=Mu(),fa=Jo=di=null,ma=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return qa&&i.locale!=="ko"?null:i.data;default:return null}}var ql={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ql[r.type]:i==="textarea"}function pi(r,i,l,h){_o?Yt?Yt.push(h):Yt=[h]:_o=h,i=l1(i,"onChange"),0<i.length&&(l=new Ni("onChange","change",null,l,h),r.push({event:l,listeners:i}))}var Ki=null,Ha=null;function qc(r){g5(r,0)}function Ji(r){var i=Vt(r);if(xo(i))return r}function Ao(r,i){if(r==="change")return i}var ni=!1;if(xs){var Ys;if(xs){var ga="oninput"in document;if(!ga){var ba=document.createElement("div");ba.setAttribute("oninput","return;"),ga=typeof ba.oninput=="function"}Ys=ga}else Ys=!1;ni=Ys&&(!document.documentMode||9<document.documentMode)}function Wa(){Ki&&(Ki.detachEvent("onpropertychange",Ul),Ha=Ki=null)}function Ul(r){if(r.propertyName==="value"&&Ji(Ha)){var i=[];pi(i,Ha,r,Qo(r)),Eu(qc,i)}}function Hl(r,i,l){r==="focusin"?(Wa(),Ki=i,Ha=l,Ki.attachEvent("onpropertychange",Ul)):r==="focusout"&&Wa()}function qr(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ji(Ha)}function Du(r,i){if(r==="click")return Ji(i)}function va(r,i){if(r==="input"||r==="change")return Ji(i)}function ya(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var _s=typeof Object.is=="function"?Object.is:ya;function Ga(r,i){if(_s(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Le.call(i,g)||!_s(r[g],i[g]))return!1}return!0}function Wl(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Gl(r,i){var l=Wl(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=i&&h>=i)return{node:l,offset:i-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wl(l)}}function Ya(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Ya(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function $a(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=cs(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=cs(r.document)}return i}function xa(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var rl=xs&&"documentMode"in document&&11>=document.documentMode,mi=null,Xa=null,Ms=null,Ai=!1;function qn(r,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ai||mi==null||mi!==cs(h)||(h=mi,"selectionStart"in h&&xa(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ms&&Ga(Ms,h)||(Ms=h,h=l1(Xa,"onSelect"),0<h.length&&(i=new Ni("onSelect","select",null,i,l),r.push({event:i,listeners:h}),i.target=mi)))}function Dn(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var rr={animationend:Dn("Animation","AnimationEnd"),animationiteration:Dn("Animation","AnimationIteration"),animationstart:Dn("Animation","AnimationStart"),transitionrun:Dn("Transition","TransitionRun"),transitionstart:Dn("Transition","TransitionStart"),transitioncancel:Dn("Transition","TransitionCancel"),transitionend:Dn("Transition","TransitionEnd")},Ur={},wa={};xs&&(wa=document.createElement("div").style,"AnimationEvent"in window||(delete rr.animationend.animation,delete rr.animationiteration.animation,delete rr.animationstart.animation),"TransitionEvent"in window||delete rr.transitionend.transition);function ea(r){if(Ur[r])return Ur[r];if(!rr[r])return r;var i=rr[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in wa)return Ur[r]=i[l];return r}var sl=ea("animationend"),Uc=ea("animationiteration"),ef=ea("animationstart"),Md=ea("transitionrun"),Ld=ea("transitionstart"),Od=ea("transitioncancel"),tf=ea("transitionend"),nf=new Map,il="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");il.push("scrollEnd");function Ti(r,i){nf.set(r,i),tr(i,[r])}var Hc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},gi=[],al=0,Ru=0;function Wc(){for(var r=al,i=Ru=al=0;i<r;){var l=gi[i];gi[i++]=null;var h=gi[i];gi[i++]=null;var g=gi[i];gi[i++]=null;var w=gi[i];if(gi[i++]=null,h!==null&&g!==null){var L=h.pending;L===null?g.next=g:(g.next=L.next,L.next=g),h.pending=g}w!==0&&Yc(l,g,w)}}function Gc(r,i,l,h){gi[al++]=r,gi[al++]=i,gi[al++]=l,gi[al++]=h,Ru|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Iu(r,i,l,h){return Gc(r,i,l,h),Ls(r)}function Za(r,i){return Gc(r,null,null,i),Ls(r)}function Yc(r,i,l){r.lanes|=l;var h=r.alternate;h!==null&&(h.lanes|=l);for(var g=!1,w=r.return;w!==null;)w.childLanes|=l,h=w.alternate,h!==null&&(h.childLanes|=l),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(g=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,g&&i!==null&&(g=31-Tt(l),r=w.hiddenUpdates,h=r[g],h===null?r[g]=[i]:h.push(i),i.lane=l|536870912),w):null}function Ls(r){if(50<Af)throw Af=0,R0=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Ss={};function Vu(r,i,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(r,i,l,h){return new Vu(r,i,l,h)}function Fu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ci(r,i){var l=r.alternate;return l===null?(l=Os(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function $c(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Yl(r,i,l,h,g,w){var L=0;if(h=r,typeof r=="function")Fu(r)&&(L=1);else if(typeof r=="string")L=b_(r,l,J.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case B:return r=Os(31,l,i,g),r.elementType=B,r.lanes=w,r;case N:return To(l.children,g,w,i);case k:L=8,g|=24;break;case C:return r=Os(12,l,i,g|2),r.elementType=C,r.lanes=w,r;case F:return r=Os(13,l,i,g),r.elementType=F,r.lanes=w,r;case Y:return r=Os(19,l,i,g),r.elementType=Y,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:L=10;break e;case R:L=9;break e;case I:L=11;break e;case G:L=14;break e;case O:L=16,h=null;break e}L=29,l=Error(s(130,r===null?"null":typeof r,"")),h=null}return i=Os(L,l,i,g),i.elementType=r,i.type=h,i.lanes=w,i}function To(r,i,l,h){return r=Os(7,r,h,i),r.lanes=l,r}function Xc(r,i,l){return r=Os(6,r,null,i),r.lanes=l,r}function Bu(r){var i=Os(18,null,null,0);return i.stateNode=r,i}function $l(r,i,l){return i=Os(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var zu=new WeakMap;function ki(r,i){if(typeof r=="object"&&r!==null){var l=zu.get(r);return l!==void 0?l:(i={value:r,source:i,stack:Be(i)},zu.set(r,i),i)}return{value:r,source:i,stack:Be(i)}}var Xl=[],ol=0,Pu=null,Zc=0,ji=[],Ei=0,Co=null,Mi=1,Li="";function bi(r,i){Xl[ol++]=Zc,Xl[ol++]=Pu,Pu=r,Zc=i}function Dd(r,i,l){ji[Ei++]=Mi,ji[Ei++]=Li,ji[Ei++]=Co,Co=r;var h=Mi;r=Li;var g=32-Tt(h)-1;h&=~(1<<g),l+=1;var w=32-Tt(i)+g;if(30<w){var L=g-g%5;w=(h&(1<<L)-1).toString(32),h>>=L,g-=L,Mi=1<<32-Tt(i)+g|l<<g|h,Li=w+r}else Mi=1<<w|l<<g|h,Li=r}function rf(r){r.return!==null&&(bi(r,1),Dd(r,1,0))}function qu(r){for(;r===Pu;)Pu=Xl[--ol],Xl[ol]=null,Zc=Xl[--ol],Xl[ol]=null;for(;r===Co;)Co=ji[--Ei],ji[Ei]=null,Li=ji[--Ei],ji[Ei]=null,Mi=ji[--Ei],ji[Ei]=null}function Rd(r,i){ji[Ei++]=Mi,ji[Ei++]=Li,ji[Ei++]=Co,Mi=i.id,Li=i.overflow,Co=r}var Ns=null,fr=null,Nn=!1,$s=null,Or=!1,ta=Error(s(519));function ko(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(ki(i,r)),ta}function sf(r){var i=r.stateNode,l=r.type,h=r.memoizedProps;switch(i[Mn]=r,i[Ln]=h,l){case"dialog":Tn("cancel",i),Tn("close",i);break;case"iframe":case"object":case"embed":Tn("load",i);break;case"video":case"audio":for(l=0;l<Cf.length;l++)Tn(Cf[l],i);break;case"source":Tn("error",i);break;case"img":case"image":case"link":Tn("error",i),Tn("load",i);break;case"details":Tn("toggle",i);break;case"input":Tn("invalid",i),Il(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Tn("invalid",i);break;case"textarea":Tn("invalid",i),Dc(i,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||h.suppressHydrationWarning===!0||x5(i.textContent,l)?(h.popover!=null&&(Tn("beforetoggle",i),Tn("toggle",i)),h.onScroll!=null&&Tn("scroll",i),h.onScrollEnd!=null&&Tn("scrollend",i),h.onClick!=null&&(i.onclick=Xi),i=!0):i=!1,i||ko(r,!0)}function Qa(r){for(Ns=r.return;Ns;)switch(Ns.tag){case 5:case 31:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:Ns=Ns.return}}function As(r){if(r!==Ns)return!1;if(!Nn)return Qa(r),Nn=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Z0(r.type,r.memoizedProps)),l=!l),l&&fr&&ko(r),Qa(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));fr=j5(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));fr=j5(r)}else i===27?(i=fr,uc(r.type)?(r=tm,tm=null,fr=r):fr=i):fr=Ns?Aa(r.stateNode.nextSibling):null;return!0}function ll(){fr=Ns=null,Nn=!1}function af(){var r=$s;return r!==null&&(Fi===null?Fi=r:Fi.push.apply(Fi,r),$s=null),r}function Zl(r){$s===null?$s=[r]:$s.push(r)}var Uu=z(null),jo=null,_a=null;function Eo(r,i,l){H(Uu,i._currentValue),i._currentValue=l}function Oi(r){r._currentValue=Uu.current,M(Uu)}function Ql(r,i,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===l)break;r=r.return}}function cl(r,i,l,h){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var w=g.dependencies;if(w!==null){var L=g.child;w=w.firstContext;e:for(;w!==null;){var ee=w;w=g;for(var me=0;me<i.length;me++)if(ee.context===i[me]){w.lanes|=l,ee=w.alternate,ee!==null&&(ee.lanes|=l),Ql(w.return,l,r),h||(L=null);break e}w=ee.next}}else if(g.tag===18){if(L=g.return,L===null)throw Error(s(341));L.lanes|=l,w=L.alternate,w!==null&&(w.lanes|=l),Ql(L,l,r),L=null}else L=g.child;if(L!==null)L.return=g;else for(L=g;L!==null;){if(L===r){L=null;break}if(g=L.sibling,g!==null){g.return=L.return,L=g;break}L=L.return}g=L}}function Mo(r,i,l,h){r=null;for(var g=i,w=!1;g!==null;){if(!w){if((g.flags&524288)!==0)w=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var L=g.alternate;if(L===null)throw Error(s(387));if(L=L.memoizedProps,L!==null){var ee=g.type;_s(g.pendingProps.value,L.value)||(r!==null?r.push(ee):r=[ee])}}else if(g===fe.current){if(L=g.alternate,L===null)throw Error(s(387));L.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Lf):r=[Lf])}g=g.return}r!==null&&cl(i,r,l,h),i.flags|=262144}function Hu(r){for(r=r.firstContext;r!==null;){if(!_s(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Lo(r){jo=r,_a=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ts(r){return Id(jo,r)}function Wu(r,i){return jo===null&&Lo(r),Id(r,i)}function Id(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},_a===null){if(r===null)throw Error(s(308));_a=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else _a=_a.next=i;return l}var e0=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,h){r.push(h)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},t0=n.unstable_scheduleCallback,n0=n.unstable_NormalPriority,Hr={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kl(){return{controller:new e0,data:new Map,refCount:0}}function Qc(r){r.refCount--,r.refCount===0&&t0(n0,function(){r.controller.abort()})}var Kc=null,Gu=0,m=0,x=null;function T(r,i){if(Kc===null){var l=Kc=[];Gu=0,m=P0(),x={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Gu++,i.then(E,E),i}function E(){if(--Gu===0&&Kc!==null){x!==null&&(x.status="fulfilled");var r=Kc;Kc=null,m=0,x=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function U(r,i){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){h.status="fulfilled",h.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var X=$.S;$.S=function(r,i){Hb=ze(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&T(r,i),X!==null&&X(r,i)};var Z=z(null);function se(){var r=Z.current;return r!==null?r:pr.pooledCache}function ie(r,i){i===null?H(Z,Z.current):H(Z,i.pool)}function ue(){var r=se();return r===null?null:{parent:Hr._currentValue,pool:r}}var ve=Error(s(460)),Oe=Error(s(474)),ce=Error(s(542)),Se={then:function(){}};function je(r){return r=r.status,r==="fulfilled"||r==="rejected"}function qe(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(Xi,Xi),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,lt(r),r;default:if(typeof i.status=="string")i.then(Xi,Xi);else{if(r=pr,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(h){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=h}},function(h){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,lt(r),r}throw Pe=i,ve}}function Me(r){try{var i=r._init;return i(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pe=l,ve):l}}var Pe=null;function Ge(){if(Pe===null)throw Error(s(459));var r=Pe;return Pe=null,r}function lt(r){if(r===ve||r===ce)throw Error(s(483))}var Qe=null,Et=0;function wt(r){var i=Et;return Et+=1,Qe===null&&(Qe=[]),qe(Qe,r,i)}function tn(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Ct(r,i){throw i.$$typeof===_?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Sn(r){function i(ke,ye){if(r){var De=ke.deletions;De===null?(ke.deletions=[ye],ke.flags|=16):De.push(ye)}}function l(ke,ye){if(!r)return null;for(;ye!==null;)i(ke,ye),ye=ye.sibling;return null}function h(ke){for(var ye=new Map;ke!==null;)ke.key!==null?ye.set(ke.key,ke):ye.set(ke.index,ke),ke=ke.sibling;return ye}function g(ke,ye){return ke=Ci(ke,ye),ke.index=0,ke.sibling=null,ke}function w(ke,ye,De){return ke.index=De,r?(De=ke.alternate,De!==null?(De=De.index,De<ye?(ke.flags|=67108866,ye):De):(ke.flags|=67108866,ye)):(ke.flags|=1048576,ye)}function L(ke){return r&&ke.alternate===null&&(ke.flags|=67108866),ke}function ee(ke,ye,De,$e){return ye===null||ye.tag!==6?(ye=Xc(De,ke.mode,$e),ye.return=ke,ye):(ye=g(ye,De),ye.return=ke,ye)}function me(ke,ye,De,$e){var Ut=De.type;return Ut===N?Ue(ke,ye,De.props.children,$e,De.key):ye!==null&&(ye.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===O&&Me(Ut)===ye.type)?(ye=g(ye,De.props),tn(ye,De),ye.return=ke,ye):(ye=Yl(De.type,De.key,De.props,null,ke.mode,$e),tn(ye,De),ye.return=ke,ye)}function Re(ke,ye,De,$e){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==De.containerInfo||ye.stateNode.implementation!==De.implementation?(ye=$l(De,ke.mode,$e),ye.return=ke,ye):(ye=g(ye,De.children||[]),ye.return=ke,ye)}function Ue(ke,ye,De,$e,Ut){return ye===null||ye.tag!==7?(ye=To(De,ke.mode,$e,Ut),ye.return=ke,ye):(ye=g(ye,De),ye.return=ke,ye)}function Ze(ke,ye,De){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Xc(""+ye,ke.mode,De),ye.return=ke,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case b:return De=Yl(ye.type,ye.key,ye.props,null,ke.mode,De),tn(De,ye),De.return=ke,De;case A:return ye=$l(ye,ke.mode,De),ye.return=ke,ye;case O:return ye=Me(ye),Ze(ke,ye,De)}if(oe(ye)||V(ye))return ye=To(ye,ke.mode,De,null),ye.return=ke,ye;if(typeof ye.then=="function")return Ze(ke,wt(ye),De);if(ye.$$typeof===D)return Ze(ke,Wu(ke,ye),De);Ct(ke,ye)}return null}function Ie(ke,ye,De,$e){var Ut=ye!==null?ye.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return Ut!==null?null:ee(ke,ye,""+De,$e);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case b:return De.key===Ut?me(ke,ye,De,$e):null;case A:return De.key===Ut?Re(ke,ye,De,$e):null;case O:return De=Me(De),Ie(ke,ye,De,$e)}if(oe(De)||V(De))return Ut!==null?null:Ue(ke,ye,De,$e,null);if(typeof De.then=="function")return Ie(ke,ye,wt(De),$e);if(De.$$typeof===D)return Ie(ke,ye,Wu(ke,De),$e);Ct(ke,De)}return null}function Fe(ke,ye,De,$e,Ut){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return ke=ke.get(De)||null,ee(ye,ke,""+$e,Ut);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case b:return ke=ke.get($e.key===null?De:$e.key)||null,me(ye,ke,$e,Ut);case A:return ke=ke.get($e.key===null?De:$e.key)||null,Re(ye,ke,$e,Ut);case O:return $e=Me($e),Fe(ke,ye,De,$e,Ut)}if(oe($e)||V($e))return ke=ke.get(De)||null,Ue(ye,ke,$e,Ut,null);if(typeof $e.then=="function")return Fe(ke,ye,De,wt($e),Ut);if($e.$$typeof===D)return Fe(ke,ye,De,Wu(ye,$e),Ut);Ct(ye,$e)}return null}function jt(ke,ye,De,$e){for(var Ut=null,Hn=null,Dt=ye,gn=ye=0,jn=null;Dt!==null&&gn<De.length;gn++){Dt.index>gn?(jn=Dt,Dt=null):jn=Dt.sibling;var Wn=Ie(ke,Dt,De[gn],$e);if(Wn===null){Dt===null&&(Dt=jn);break}r&&Dt&&Wn.alternate===null&&i(ke,Dt),ye=w(Wn,ye,gn),Hn===null?Ut=Wn:Hn.sibling=Wn,Hn=Wn,Dt=jn}if(gn===De.length)return l(ke,Dt),Nn&&bi(ke,gn),Ut;if(Dt===null){for(;gn<De.length;gn++)Dt=Ze(ke,De[gn],$e),Dt!==null&&(ye=w(Dt,ye,gn),Hn===null?Ut=Dt:Hn.sibling=Dt,Hn=Dt);return Nn&&bi(ke,gn),Ut}for(Dt=h(Dt);gn<De.length;gn++)jn=Fe(Dt,ke,gn,De[gn],$e),jn!==null&&(r&&jn.alternate!==null&&Dt.delete(jn.key===null?gn:jn.key),ye=w(jn,ye,gn),Hn===null?Ut=jn:Hn.sibling=jn,Hn=jn);return r&&Dt.forEach(function(mc){return i(ke,mc)}),Nn&&bi(ke,gn),Ut}function Zt(ke,ye,De,$e){if(De==null)throw Error(s(151));for(var Ut=null,Hn=null,Dt=ye,gn=ye=0,jn=null,Wn=De.next();Dt!==null&&!Wn.done;gn++,Wn=De.next()){Dt.index>gn?(jn=Dt,Dt=null):jn=Dt.sibling;var mc=Ie(ke,Dt,Wn.value,$e);if(mc===null){Dt===null&&(Dt=jn);break}r&&Dt&&mc.alternate===null&&i(ke,Dt),ye=w(mc,ye,gn),Hn===null?Ut=mc:Hn.sibling=mc,Hn=mc,Dt=jn}if(Wn.done)return l(ke,Dt),Nn&&bi(ke,gn),Ut;if(Dt===null){for(;!Wn.done;gn++,Wn=De.next())Wn=Ze(ke,Wn.value,$e),Wn!==null&&(ye=w(Wn,ye,gn),Hn===null?Ut=Wn:Hn.sibling=Wn,Hn=Wn);return Nn&&bi(ke,gn),Ut}for(Dt=h(Dt);!Wn.done;gn++,Wn=De.next())Wn=Fe(Dt,ke,gn,Wn.value,$e),Wn!==null&&(r&&Wn.alternate!==null&&Dt.delete(Wn.key===null?gn:Wn.key),ye=w(Wn,ye,gn),Hn===null?Ut=Wn:Hn.sibling=Wn,Hn=Wn);return r&&Dt.forEach(function(k_){return i(ke,k_)}),Nn&&bi(ke,gn),Ut}function or(ke,ye,De,$e){if(typeof De=="object"&&De!==null&&De.type===N&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case b:e:{for(var Ut=De.key;ye!==null;){if(ye.key===Ut){if(Ut=De.type,Ut===N){if(ye.tag===7){l(ke,ye.sibling),$e=g(ye,De.props.children),$e.return=ke,ke=$e;break e}}else if(ye.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===O&&Me(Ut)===ye.type){l(ke,ye.sibling),$e=g(ye,De.props),tn($e,De),$e.return=ke,ke=$e;break e}l(ke,ye);break}else i(ke,ye);ye=ye.sibling}De.type===N?($e=To(De.props.children,ke.mode,$e,De.key),$e.return=ke,ke=$e):($e=Yl(De.type,De.key,De.props,null,ke.mode,$e),tn($e,De),$e.return=ke,ke=$e)}return L(ke);case A:e:{for(Ut=De.key;ye!==null;){if(ye.key===Ut)if(ye.tag===4&&ye.stateNode.containerInfo===De.containerInfo&&ye.stateNode.implementation===De.implementation){l(ke,ye.sibling),$e=g(ye,De.children||[]),$e.return=ke,ke=$e;break e}else{l(ke,ye);break}else i(ke,ye);ye=ye.sibling}$e=$l(De,ke.mode,$e),$e.return=ke,ke=$e}return L(ke);case O:return De=Me(De),or(ke,ye,De,$e)}if(oe(De))return jt(ke,ye,De,$e);if(V(De)){if(Ut=V(De),typeof Ut!="function")throw Error(s(150));return De=Ut.call(De),Zt(ke,ye,De,$e)}if(typeof De.then=="function")return or(ke,ye,wt(De),$e);if(De.$$typeof===D)return or(ke,ye,Wu(ke,De),$e);Ct(ke,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,ye!==null&&ye.tag===6?(l(ke,ye.sibling),$e=g(ye,De),$e.return=ke,ke=$e):(l(ke,ye),$e=Xc(De,ke.mode,$e),$e.return=ke,ke=$e),L(ke)):l(ke,ye)}return function(ke,ye,De,$e){try{Et=0;var Ut=or(ke,ye,De,$e);return Qe=null,Ut}catch(Dt){if(Dt===ve||Dt===ce)throw Dt;var Hn=Os(29,Dt,null,ke.mode);return Hn.lanes=$e,Hn.return=ke,Hn}finally{}}}var dr=Sn(!0),ln=Sn(!1),_t=!1;function mt(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sr(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function $t(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function pn(r,i,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,($n&2)!==0){var g=h.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i,i=Ls(r),Yc(r,null,l),i}return Gc(r,h,i,l),Ls(r)}function Gn(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,xn(r,l)}}function rs(r,i){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var L={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?g=w=L:w=w.next=L,l=l.next}while(l!==null);w===null?g=w=i:w=w.next=i}else g=w=i;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var Cs=!1;function sr(){if(Cs){var r=x;if(r!==null)throw r}}function $r(r,i,l,h){Cs=!1;var g=r.updateQueue;_t=!1;var w=g.firstBaseUpdate,L=g.lastBaseUpdate,ee=g.shared.pending;if(ee!==null){g.shared.pending=null;var me=ee,Re=me.next;me.next=null,L===null?w=Re:L.next=Re,L=me;var Ue=r.alternate;Ue!==null&&(Ue=Ue.updateQueue,ee=Ue.lastBaseUpdate,ee!==L&&(ee===null?Ue.firstBaseUpdate=Re:ee.next=Re,Ue.lastBaseUpdate=me))}if(w!==null){var Ze=g.baseState;L=0,Ue=Re=me=null,ee=w;do{var Ie=ee.lane&-536870913,Fe=Ie!==ee.lane;if(Fe?(kn&Ie)===Ie:(h&Ie)===Ie){Ie!==0&&Ie===m&&(Cs=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var jt=r,Zt=ee;Ie=i;var or=l;switch(Zt.tag){case 1:if(jt=Zt.payload,typeof jt=="function"){Ze=jt.call(or,Ze,Ie);break e}Ze=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Zt.payload,Ie=typeof jt=="function"?jt.call(or,Ze,Ie):jt,Ie==null)break e;Ze=y({},Ze,Ie);break e;case 2:_t=!0}}Ie=ee.callback,Ie!==null&&(r.flags|=64,Fe&&(r.flags|=8192),Fe=g.callbacks,Fe===null?g.callbacks=[Ie]:Fe.push(Ie))}else Fe={lane:Ie,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ue===null?(Re=Ue=Fe,me=Ze):Ue=Ue.next=Fe,L|=Ie;if(ee=ee.next,ee===null){if(ee=g.shared.pending,ee===null)break;Fe=ee,ee=Fe.next,Fe.next=null,g.lastBaseUpdate=Fe,g.shared.pending=null}}while(!0);Ue===null&&(me=Ze),g.baseState=me,g.firstBaseUpdate=Re,g.lastBaseUpdate=Ue,w===null&&(g.shared.lanes=0),ic|=L,r.lanes=L,r.memoizedState=Ze}}function Ds(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function Xr(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Ds(l[r],i)}var vn=z(null),Bn=z(0);function Nr(r,i){r=yl,H(Bn,r),H(vn,i),yl=r|i.baseLanes}function Un(){H(Bn,yl),H(vn,vn.current)}function ss(){yl=Bn.current,M(vn),M(Bn)}var Ar=z(null),zn=null;function Wr(r){var i=r.alternate;H(Rn,Rn.current&1),H(Ar,r),zn===null&&(i===null||vn.current!==null||i.memoizedState!==null)&&(zn=r)}function Yn(r){H(Rn,Rn.current),H(Ar,r),zn===null&&(zn=r)}function Zr(r){r.tag===22?(H(Rn,Rn.current),H(Ar,r),zn===null&&(zn=r)):Qr()}function Qr(){H(Rn,Rn.current),H(Ar,Ar.current)}function Qn(r){M(Ar),zn===r&&(zn=null),M(Rn)}var Rn=z(0);function Rs(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||J0(l)||em(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dr=0,zt=null,qt=null,Pn=null,ri=!1,Di=!1,Xs=!1,Kr=0,Oo=0,Do=null,Yu=0;function ir(){throw Error(s(321))}function of(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!_s(r[l],i[l]))return!1;return!0}function lf(r,i,l,h,g,w){return Dr=w,zt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=r===null||r.memoizedState===null?tb:u0,Xs=!1,w=l(h,g),Xs=!1,Di&&(w=Ka(i,l,h,g)),$u(r),w}function $u(r){$.H=gf;var i=qt!==null&&qt.next!==null;if(Dr=0,Pn=qt=zt=null,ri=!1,Oo=0,Do=null,i)throw Error(s(300));r===null||ds||(r=r.dependencies,r!==null&&Hu(r)&&(ds=!0))}function Ka(r,i,l,h){zt=r;var g=0;do{if(Di&&(Do=null),Oo=0,Di=!1,25<=g)throw Error(s(301));if(g+=1,Pn=qt=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}$.H=nb,w=i(l,h)}while(Di);return w}function r0(){var r=$.H,i=r.useState()[0];return i=typeof i.then=="function"?Ro(i):i,r=r.useState()[0],(qt!==null?qt.memoizedState:null)!==r&&(zt.flags|=1024),i}function cf(){var r=Kr!==0;return Kr=0,r}function uf(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function Xu(r){if(ri){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ri=!1}Dr=0,Pn=qt=zt=null,Di=!1,Oo=Kr=0,Do=null}function fs(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?zt.memoizedState=Pn=r:Pn=Pn.next=r,Pn}function Rr(){if(qt===null){var r=zt.alternate;r=r!==null?r.memoizedState:null}else r=qt.next;var i=Pn===null?zt.memoizedState:Pn.next;if(i!==null)Pn=i,qt=r;else{if(r===null)throw zt.alternate===null?Error(s(467)):Error(s(310));qt=r,r={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Pn===null?zt.memoizedState=Pn=r:Pn=Pn.next=r}return Pn}function Jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ro(r){var i=Oo;return Oo+=1,Do===null&&(Do=[]),r=qe(Do,r,i),i=zt,(Pn===null?i.memoizedState:Pn.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?tb:u0),r}function Jl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ro(r);if(r.$$typeof===D)return Ts(r)}throw Error(s(438,String(r)))}function ul(r){var i=null,l=zt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var h=zt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Jc(),zt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),h=0;h<r;h++)l[h]=K;return i.index++,l}function Sa(r,i){return typeof i=="function"?i(r):i}function Zu(r){var i=Rr();return ec(i,qt,r)}function ec(r,i,l){var h=r.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=r.baseQueue,w=h.pending;if(w!==null){if(g!==null){var L=g.next;g.next=w.next,w.next=L}i.baseQueue=g=w,h.pending=null}if(w=r.baseState,g===null)r.memoizedState=w;else{i=g.next;var ee=L=null,me=null,Re=i,Ue=!1;do{var Ze=Re.lane&-536870913;if(Ze!==Re.lane?(kn&Ze)===Ze:(Dr&Ze)===Ze){var Ie=Re.revertLane;if(Ie===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),Ze===m&&(Ue=!0);else if((Dr&Ie)===Ie){Re=Re.next,Ie===m&&(Ue=!0);continue}else Ze={lane:0,revertLane:Re.revertLane,gesture:null,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},me===null?(ee=me=Ze,L=w):me=me.next=Ze,zt.lanes|=Ie,ic|=Ie;Ze=Re.action,Xs&&l(w,Ze),w=Re.hasEagerState?Re.eagerState:l(w,Ze)}else Ie={lane:Ze,revertLane:Re.revertLane,gesture:Re.gesture,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null},me===null?(ee=me=Ie,L=w):me=me.next=Ie,zt.lanes|=Ze,ic|=Ze;Re=Re.next}while(Re!==null&&Re!==i);if(me===null?L=w:me.next=ee,!_s(w,r.memoizedState)&&(ds=!0,Ue&&(l=x,l!==null)))throw l;r.memoizedState=w,r.baseState=L,r.baseQueue=me,h.lastRenderedState=w}return g===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Qu(r){var i=Rr(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=l.dispatch,g=l.pending,w=i.memoizedState;if(g!==null){l.pending=null;var L=g=g.next;do w=r(w,L.action),L=L.next;while(L!==g);_s(w,i.memoizedState)||(ds=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),l.lastRenderedState=w}return[w,h]}function Ku(r,i,l){var h=zt,g=Rr(),w=Nn;if(w){if(l===void 0)throw Error(s(407));l=l()}else l=i();var L=!_s((qt||g).memoizedState,l);if(L&&(g.memoizedState=l,ds=!0),g=g.queue,s0(ff.bind(null,h,g,r),[r]),g.getSnapshot!==i||L||Pn!==null&&Pn.memoizedState.tag&1){if(h.flags|=2048,fl(9,{destroy:void 0},hf.bind(null,h,g,l,i),null),pr===null)throw Error(s(349));w||(Dr&127)!==0||Ja(h,i,l)}return l}function Ja(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=zt.updateQueue,i===null?(i=Jc(),zt.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function hf(r,i,l,h){i.value=l,i.getSnapshot=h,Vd(i)&&df(r)}function ff(r,i,l){return l(function(){Vd(i)&&df(r)})}function Vd(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!_s(r,l)}catch{return!0}}function df(r){var i=Za(r,2);i!==null&&Bi(i,r,2)}function Io(r){var i=fs();if(typeof r=="function"){var l=r;if(r=l(),Xs){St(!0);try{l()}finally{St(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:r},i}function Fd(r,i,l,h){return r.baseState=l,ec(r,qt,typeof h=="function"?h:Sa)}function Bd(r,i,l,h,g){if(Ud(r))throw Error(s(485));if(r=i.action,r!==null){var w={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){w.listeners.push(L)}};$.T!==null?l(!0):w.isTransition=!1,h(w),l=i.pending,l===null?(w.next=i.pending=w,zd(i,w)):(w.next=l.next,i.pending=l.next=w)}}function zd(r,i){var l=i.action,h=i.payload,g=r.state;if(i.isTransition){var w=$.T,L={};$.T=L;try{var ee=l(g,h),me=$.S;me!==null&&me(L,ee),pf(r,i,ee)}catch(Re){hl(r,i,Re)}finally{w!==null&&L.types!==null&&(w.types=L.types),$.T=w}}else try{w=l(g,h),pf(r,i,w)}catch(Re){hl(r,i,Re)}}function pf(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Pd(r,i,h)},function(h){return hl(r,i,h)}):Pd(r,i,l)}function Pd(r,i,l){i.status="fulfilled",i.value=l,Ju(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,zd(r,l)))}function hl(r,i,l){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=l,Ju(i),i=i.next;while(i!==h)}r.action=null}function Ju(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function eu(r,i){return i}function Na(r,i){if(Nn){var l=pr.formState;if(l!==null){e:{var h=zt;if(Nn){if(fr){t:{for(var g=fr,w=Or;g.nodeType!==8;){if(!w){g=null;break t}if(g=Aa(g.nextSibling),g===null){g=null;break t}}w=g.data,g=w==="F!"||w==="F"?g:null}if(g){fr=Aa(g.nextSibling),h=g.data==="F!";break e}}ko(h)}h=!1}h&&(i=l[0])}}return l=fs(),l.memoizedState=l.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:i},l.queue=h,l=K2.bind(null,zt,h),h.dispatch=l,h=Io(!1),w=c0.bind(null,zt,!1,h.queue),h=fs(),g={state:i,dispatch:null,action:r,pending:null},h.queue=g,l=Bd.bind(null,zt,g,w,l),g.dispatch=l,h.memoizedState=r,[i,l,!1]}function eo(r){var i=Rr();return to(i,qt,r)}function to(r,i,l){if(i=ec(r,i,eu)[0],r=Zu(Sa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=Ro(i)}catch(L){throw L===ve?ce:L}else h=i;i=Rr();var g=i.queue,w=g.dispatch;return l!==i.memoizedState&&(zt.flags|=2048,fl(9,{destroy:void 0},eh.bind(null,g,l),null)),[h,w,r]}function eh(r,i){r.action=i}function th(r){var i=Rr(),l=qt;if(l!==null)return to(i,l,r);Rr(),i=i.memoizedState,l=Rr();var h=l.queue.dispatch;return l.memoizedState=r,[i,h,!1]}function fl(r,i,l,h){return r={tag:r,create:l,deps:h,inst:i,next:null},i=zt.updateQueue,i===null&&(i=Jc(),zt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,i.lastEffect=r),r}function qd(){return Rr().memoizedState}function tc(r,i,l,h){var g=fs();zt.flags|=r,g.memoizedState=fl(1|i,{destroy:void 0},l,h===void 0?null:h)}function nc(r,i,l,h){var g=Rr();h=h===void 0?null:h;var w=g.memoizedState.inst;qt!==null&&h!==null&&of(h,qt.memoizedState.deps)?g.memoizedState=fl(i,w,l,h):(zt.flags|=r,g.memoizedState=fl(1|i,w,l,h))}function F2(r,i){tc(8390656,8,r,i)}function s0(r,i){nc(2048,8,r,i)}function _4(r){zt.flags|=4;var i=zt.updateQueue;if(i===null)i=Jc(),zt.updateQueue=i,i.events=[r];else{var l=i.events;l===null?i.events=[r]:l.push(r)}}function B2(r){var i=Rr().memoizedState;return _4({ref:i,nextImpl:r}),function(){if(($n&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function z2(r,i){return nc(4,2,r,i)}function P2(r,i){return nc(4,4,r,i)}function q2(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function U2(r,i,l){l=l!=null?l.concat([r]):null,nc(4,4,q2.bind(null,i,r),l)}function i0(){}function H2(r,i){var l=Rr();i=i===void 0?null:i;var h=l.memoizedState;return i!==null&&of(i,h[1])?h[0]:(l.memoizedState=[r,i],r)}function W2(r,i){var l=Rr();i=i===void 0?null:i;var h=l.memoizedState;if(i!==null&&of(i,h[1]))return h[0];if(h=r(),Xs){St(!0);try{r()}finally{St(!1)}}return l.memoizedState=[h,i],h}function a0(r,i,l){return l===void 0||(Dr&1073741824)!==0&&(kn&261930)===0?r.memoizedState=i:(r.memoizedState=l,r=Gb(),zt.lanes|=r,ic|=r,l)}function G2(r,i,l,h){return _s(l,i)?l:vn.current!==null?(r=a0(r,l,h),_s(r,i)||(ds=!0),r):(Dr&42)===0||(Dr&1073741824)!==0&&(kn&261930)===0?(ds=!0,r.memoizedState=l):(r=Gb(),zt.lanes|=r,ic|=r,i)}function Y2(r,i,l,h,g){var w=te.p;te.p=w!==0&&8>w?w:8;var L=$.T,ee={};$.T=ee,c0(r,!1,i,l);try{var me=g(),Re=$.S;if(Re!==null&&Re(ee,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ue=U(me,h);mf(r,i,Ue,sa(r))}else mf(r,i,h,sa(r))}catch(Ze){mf(r,i,{then:function(){},status:"rejected",reason:Ze},sa())}finally{te.p=w,L!==null&&ee.types!==null&&(L.types=ee.types),$.T=L}}function S4(){}function o0(r,i,l,h){if(r.tag!==5)throw Error(s(476));var g=$2(r).queue;Y2(r,g,i,le,l===null?S4:function(){return X2(r),l(h)})}function $2(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:le},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function X2(r){var i=$2(r);i.next===null&&(i=r.alternate.memoizedState),mf(r,i.next.queue,{},sa())}function l0(){return Ts(Lf)}function Z2(){return Rr().memoizedState}function Q2(){return Rr().memoizedState}function N4(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=sa();r=$t(l);var h=pn(i,r,l);h!==null&&(Bi(h,i,l),Gn(h,i,l)),i={cache:Kl()},r.payload=i;return}i=i.return}}function A4(r,i,l){var h=sa();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ud(r)?J2(i,l):(l=Iu(r,i,l,h),l!==null&&(Bi(l,r,h),eb(l,i,h)))}function K2(r,i,l){var h=sa();mf(r,i,l,h)}function mf(r,i,l,h){var g={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ud(r))J2(i,g);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var L=i.lastRenderedState,ee=w(L,l);if(g.hasEagerState=!0,g.eagerState=ee,_s(ee,L))return Gc(r,i,g,0),pr===null&&Wc(),!1}catch{}finally{}if(l=Iu(r,i,g,h),l!==null)return Bi(l,r,h),eb(l,i,h),!0}return!1}function c0(r,i,l,h){if(h={lane:2,revertLane:P0(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ud(r)){if(i)throw Error(s(479))}else i=Iu(r,l,h,2),i!==null&&Bi(i,r,2)}function Ud(r){var i=r.alternate;return r===zt||i!==null&&i===zt}function J2(r,i){Di=ri=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function eb(r,i,l){if((l&4194048)!==0){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,xn(r,l)}}var gf={readContext:Ts,use:Jl,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useLayoutEffect:ir,useInsertionEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useSyncExternalStore:ir,useId:ir,useHostTransitionStatus:ir,useFormState:ir,useActionState:ir,useOptimistic:ir,useMemoCache:ir,useCacheRefresh:ir};gf.useEffectEvent=ir;var tb={readContext:Ts,use:Jl,useCallback:function(r,i){return fs().memoizedState=[r,i===void 0?null:i],r},useContext:Ts,useEffect:F2,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,tc(4194308,4,q2.bind(null,i,r),l)},useLayoutEffect:function(r,i){return tc(4194308,4,r,i)},useInsertionEffect:function(r,i){tc(4,2,r,i)},useMemo:function(r,i){var l=fs();i=i===void 0?null:i;var h=r();if(Xs){St(!0);try{r()}finally{St(!1)}}return l.memoizedState=[h,i],h},useReducer:function(r,i,l){var h=fs();if(l!==void 0){var g=l(i);if(Xs){St(!0);try{l(i)}finally{St(!1)}}}else g=i;return h.memoizedState=h.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},h.queue=r,r=r.dispatch=A4.bind(null,zt,r),[h.memoizedState,r]},useRef:function(r){var i=fs();return r={current:r},i.memoizedState=r},useState:function(r){r=Io(r);var i=r.queue,l=K2.bind(null,zt,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:i0,useDeferredValue:function(r,i){var l=fs();return a0(l,r,i)},useTransition:function(){var r=Io(!1);return r=Y2.bind(null,zt,r.queue,!0,!1),fs().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var h=zt,g=fs();if(Nn){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),pr===null)throw Error(s(349));(kn&127)!==0||Ja(h,i,l)}g.memoizedState=l;var w={value:l,getSnapshot:i};return g.queue=w,F2(ff.bind(null,h,w,r),[r]),h.flags|=2048,fl(9,{destroy:void 0},hf.bind(null,h,w,l,i),null),l},useId:function(){var r=fs(),i=pr.identifierPrefix;if(Nn){var l=Li,h=Mi;l=(h&~(1<<32-Tt(h)-1)).toString(32)+l,i="_"+i+"R_"+l,l=Kr++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=Yu++,i="_"+i+"r_"+l.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:l0,useFormState:Na,useActionState:Na,useOptimistic:function(r){var i=fs();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=c0.bind(null,zt,!0,l),l.dispatch=i,[r,i]},useMemoCache:ul,useCacheRefresh:function(){return fs().memoizedState=N4.bind(null,zt)},useEffectEvent:function(r){var i=fs(),l={impl:r};return i.memoizedState=l,function(){if(($n&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},u0={readContext:Ts,use:Jl,useCallback:H2,useContext:Ts,useEffect:s0,useImperativeHandle:U2,useInsertionEffect:z2,useLayoutEffect:P2,useMemo:W2,useReducer:Zu,useRef:qd,useState:function(){return Zu(Sa)},useDebugValue:i0,useDeferredValue:function(r,i){var l=Rr();return G2(l,qt.memoizedState,r,i)},useTransition:function(){var r=Zu(Sa)[0],i=Rr().memoizedState;return[typeof r=="boolean"?r:Ro(r),i]},useSyncExternalStore:Ku,useId:Z2,useHostTransitionStatus:l0,useFormState:eo,useActionState:eo,useOptimistic:function(r,i){var l=Rr();return Fd(l,qt,r,i)},useMemoCache:ul,useCacheRefresh:Q2};u0.useEffectEvent=B2;var nb={readContext:Ts,use:Jl,useCallback:H2,useContext:Ts,useEffect:s0,useImperativeHandle:U2,useInsertionEffect:z2,useLayoutEffect:P2,useMemo:W2,useReducer:Qu,useRef:qd,useState:function(){return Qu(Sa)},useDebugValue:i0,useDeferredValue:function(r,i){var l=Rr();return qt===null?a0(l,r,i):G2(l,qt.memoizedState,r,i)},useTransition:function(){var r=Qu(Sa)[0],i=Rr().memoizedState;return[typeof r=="boolean"?r:Ro(r),i]},useSyncExternalStore:Ku,useId:Z2,useHostTransitionStatus:l0,useFormState:th,useActionState:th,useOptimistic:function(r,i){var l=Rr();return qt!==null?Fd(l,qt,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:ul,useCacheRefresh:Q2};nb.useEffectEvent=B2;function h0(r,i,l,h){i=r.memoizedState,l=l(h,i),l=l==null?i:y({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var f0={enqueueSetState:function(r,i,l){r=r._reactInternals;var h=sa(),g=$t(h);g.payload=i,l!=null&&(g.callback=l),i=pn(r,g,h),i!==null&&(Bi(i,r,h),Gn(i,r,h))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var h=sa(),g=$t(h);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=pn(r,g,h),i!==null&&(Bi(i,r,h),Gn(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=sa(),h=$t(l);h.tag=2,i!=null&&(h.callback=i),i=pn(r,h,l),i!==null&&(Bi(i,r,l),Gn(i,r,l))}};function rb(r,i,l,h,g,w,L){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,w,L):i.prototype&&i.prototype.isPureReactComponent?!Ga(l,h)||!Ga(g,w):!0}function sb(r,i,l,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==r&&f0.enqueueReplaceState(i,i.state,null)}function tu(r,i){var l=i;if("ref"in i){l={};for(var h in i)h!=="ref"&&(l[h]=i[h])}if(r=r.defaultProps){l===i&&(l=y({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}function ib(r){Hc(r)}function ab(r){console.error(r)}function ob(r){Hc(r)}function Hd(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function lb(r,i,l){try{var h=r.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function d0(r,i,l){return l=$t(l),l.tag=3,l.payload={element:null},l.callback=function(){Hd(r,i)},l}function cb(r){return r=$t(r),r.tag=3,r}function ub(r,i,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var w=h.value;r.payload=function(){return g(w)},r.callback=function(){lb(i,l,h)}}var L=l.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(r.callback=function(){lb(i,l,h),typeof g!="function"&&(ac===null?ac=new Set([this]):ac.add(this));var ee=h.stack;this.componentDidCatch(h.value,{componentStack:ee!==null?ee:""})})}function T4(r,i,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=l.alternate,i!==null&&Mo(i,l,g,!0),l=Ar.current,l!==null){switch(l.tag){case 31:case 13:return zn===null?n1():l.alternate===null&&Jr===0&&(Jr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===Se?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([h]):i.add(h),F0(r,h,g)),!1;case 22:return l.flags|=65536,h===Se?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([h]):l.add(h)),F0(r,h,g)),!1}throw Error(s(435,l.tag))}return F0(r,h,g),n1(),!1}if(Nn)return i=Ar.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,h!==ta&&(r=Error(s(422),{cause:h}),Zl(ki(r,l)))):(h!==ta&&(i=Error(s(423),{cause:h}),Zl(ki(i,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,h=ki(h,l),g=d0(r.stateNode,h,g),rs(r,g),Jr!==4&&(Jr=2)),!1;var w=Error(s(520),{cause:h});if(w=ki(w,l),Nf===null?Nf=[w]:Nf.push(w),Jr!==4&&(Jr=2),i===null)return!0;h=ki(h,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=d0(l.stateNode,h,r),rs(l,r),!1;case 1:if(i=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ac===null||!ac.has(w))))return l.flags|=65536,g&=-g,l.lanes|=g,g=cb(g),ub(g,r,l,h),rs(l,g),!1}l=l.return}while(l!==null);return!1}var p0=Error(s(461)),ds=!1;function Zs(r,i,l,h){i.child=r===null?ln(i,null,l,h):dr(i,r.child,l,h)}function hb(r,i,l,h,g){l=l.render;var w=i.ref;if("ref"in h){var L={};for(var ee in h)ee!=="ref"&&(L[ee]=h[ee])}else L=h;return Lo(i),h=lf(r,i,l,L,w,g),ee=cf(),r!==null&&!ds?(uf(r,i,g),dl(r,i,g)):(Nn&&ee&&rf(i),i.flags|=1,Zs(r,i,h,g),i.child)}function fb(r,i,l,h,g){if(r===null){var w=l.type;return typeof w=="function"&&!Fu(w)&&w.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=w,db(r,i,w,h,g)):(r=Yl(l.type,null,h,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(w=r.child,!_0(r,g)){var L=w.memoizedProps;if(l=l.compare,l=l!==null?l:Ga,l(L,h)&&r.ref===i.ref)return dl(r,i,g)}return i.flags|=1,r=Ci(w,h),r.ref=i.ref,r.return=i,i.child=r}function db(r,i,l,h,g){if(r!==null){var w=r.memoizedProps;if(Ga(w,h)&&r.ref===i.ref)if(ds=!1,i.pendingProps=h=w,_0(r,g))(r.flags&131072)!==0&&(ds=!0);else return i.lanes=r.lanes,dl(r,i,g)}return m0(r,i,l,h,g)}function pb(r,i,l,h){var g=h.children,w=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((i.flags&128)!==0){if(w=w!==null?w.baseLanes|l:l,r!==null){for(h=i.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~w}else h=0,i.child=null;return mb(r,i,w,l,h)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&ie(i,w!==null?w.cachePool:null),w!==null?Nr(i,w):Un(),Zr(i);else return h=i.lanes=536870912,mb(r,i,w!==null?w.baseLanes|l:l,l,h)}else w!==null?(ie(i,w.cachePool),Nr(i,w),Qr(),i.memoizedState=null):(r!==null&&ie(i,null),Un(),Qr());return Zs(r,i,g,l),i.child}function bf(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function mb(r,i,l,h,g){var w=se();return w=w===null?null:{parent:Hr._currentValue,pool:w},i.memoizedState={baseLanes:l,cachePool:w},r!==null&&ie(i,null),Un(),Zr(i),r!==null&&Mo(r,i,h,!0),i.childLanes=g,null}function Wd(r,i){return i=Yd({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function gb(r,i,l){return dr(i,r.child,null,l),r=Wd(i,i.pendingProps),r.flags|=2,Qn(i),i.memoizedState=null,r}function C4(r,i,l){var h=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Nn){if(h.mode==="hidden")return r=Wd(i,h),i.lanes=536870912,bf(null,r);if(Yn(i),(r=fr)?(r=k5(r,Or),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Co!==null?{id:Mi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},l=Bu(r),l.return=i,i.child=l,Ns=i,fr=null)):r=null,r===null)throw ko(i);return i.lanes=536870912,null}return Wd(i,h)}var w=r.memoizedState;if(w!==null){var L=w.dehydrated;if(Yn(i),g)if(i.flags&256)i.flags&=-257,i=gb(r,i,l);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(ds||Mo(r,i,l,!1),g=(l&r.childLanes)!==0,ds||g){if(h=pr,h!==null&&(L=wn(h,l),L!==0&&L!==w.retryLane))throw w.retryLane=L,Za(r,L),Bi(h,r,L),p0;n1(),i=gb(r,i,l)}else r=w.treeContext,fr=Aa(L.nextSibling),Ns=i,Nn=!0,$s=null,Or=!1,r!==null&&Rd(i,r),i=Wd(i,h),i.flags|=4096;return i}return r=Ci(r.child,{mode:h.mode,children:h.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Gd(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function m0(r,i,l,h,g){return Lo(i),l=lf(r,i,l,h,void 0,g),h=cf(),r!==null&&!ds?(uf(r,i,g),dl(r,i,g)):(Nn&&h&&rf(i),i.flags|=1,Zs(r,i,l,g),i.child)}function bb(r,i,l,h,g,w){return Lo(i),i.updateQueue=null,l=Ka(i,h,l,g),$u(r),h=cf(),r!==null&&!ds?(uf(r,i,w),dl(r,i,w)):(Nn&&h&&rf(i),i.flags|=1,Zs(r,i,l,w),i.child)}function vb(r,i,l,h,g){if(Lo(i),i.stateNode===null){var w=Ss,L=l.contextType;typeof L=="object"&&L!==null&&(w=Ts(L)),w=new l(h,w),i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=f0,i.stateNode=w,w._reactInternals=i,w=i.stateNode,w.props=h,w.state=i.memoizedState,w.refs={},mt(i),L=l.contextType,w.context=typeof L=="object"&&L!==null?Ts(L):Ss,w.state=i.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(h0(i,l,L,h),w.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(L=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),L!==w.state&&f0.enqueueReplaceState(w,w.state,null),$r(i,h,w,g),sr(),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(r===null){w=i.stateNode;var ee=i.memoizedProps,me=tu(l,ee);w.props=me;var Re=w.context,Ue=l.contextType;L=Ss,typeof Ue=="object"&&Ue!==null&&(L=Ts(Ue));var Ze=l.getDerivedStateFromProps;Ue=typeof Ze=="function"||typeof w.getSnapshotBeforeUpdate=="function",ee=i.pendingProps!==ee,Ue||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(ee||Re!==L)&&sb(i,w,h,L),_t=!1;var Ie=i.memoizedState;w.state=Ie,$r(i,h,w,g),sr(),Re=i.memoizedState,ee||Ie!==Re||_t?(typeof Ze=="function"&&(h0(i,l,Ze,h),Re=i.memoizedState),(me=_t||rb(i,l,me,h,Ie,Re,L))?(Ue||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=Re),w.props=h,w.state=Re,w.context=L,h=me):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{w=i.stateNode,Sr(r,i),L=i.memoizedProps,Ue=tu(l,L),w.props=Ue,Ze=i.pendingProps,Ie=w.context,Re=l.contextType,me=Ss,typeof Re=="object"&&Re!==null&&(me=Ts(Re)),ee=l.getDerivedStateFromProps,(Re=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(L!==Ze||Ie!==me)&&sb(i,w,h,me),_t=!1,Ie=i.memoizedState,w.state=Ie,$r(i,h,w,g),sr();var Fe=i.memoizedState;L!==Ze||Ie!==Fe||_t||r!==null&&r.dependencies!==null&&Hu(r.dependencies)?(typeof ee=="function"&&(h0(i,l,ee,h),Fe=i.memoizedState),(Ue=_t||rb(i,l,Ue,h,Ie,Fe,me)||r!==null&&r.dependencies!==null&&Hu(r.dependencies))?(Re||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Fe,me),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Fe,me)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||L===r.memoizedProps&&Ie===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&Ie===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Fe),w.props=h,w.state=Fe,w.context=me,h=Ue):(typeof w.componentDidUpdate!="function"||L===r.memoizedProps&&Ie===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||L===r.memoizedProps&&Ie===r.memoizedState||(i.flags|=1024),h=!1)}return w=h,Gd(r,i),h=(i.flags&128)!==0,w||h?(w=i.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:w.render(),i.flags|=1,r!==null&&h?(i.child=dr(i,r.child,null,g),i.child=dr(i,null,l,g)):Zs(r,i,l,g),i.memoizedState=w.state,r=i.child):r=dl(r,i,g),r}function yb(r,i,l,h){return ll(),i.flags|=256,Zs(r,i,l,h),i.child}var g0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function b0(r){return{baseLanes:r,cachePool:ue()}}function v0(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=ra),r}function xb(r,i,l){var h=i.pendingProps,g=!1,w=(i.flags&128)!==0,L;if((L=w)||(L=r!==null&&r.memoizedState===null?!1:(Rn.current&2)!==0),L&&(g=!0,i.flags&=-129),L=(i.flags&32)!==0,i.flags&=-33,r===null){if(Nn){if(g?Wr(i):Qr(),(r=fr)?(r=k5(r,Or),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Co!==null?{id:Mi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},l=Bu(r),l.return=i,i.child=l,Ns=i,fr=null)):r=null,r===null)throw ko(i);return em(r)?i.lanes=32:i.lanes=536870912,null}var ee=h.children;return h=h.fallback,g?(Qr(),g=i.mode,ee=Yd({mode:"hidden",children:ee},g),h=To(h,g,l,null),ee.return=i,h.return=i,ee.sibling=h,i.child=ee,h=i.child,h.memoizedState=b0(l),h.childLanes=v0(r,L,l),i.memoizedState=g0,bf(null,h)):(Wr(i),y0(i,ee))}var me=r.memoizedState;if(me!==null&&(ee=me.dehydrated,ee!==null)){if(w)i.flags&256?(Wr(i),i.flags&=-257,i=x0(r,i,l)):i.memoizedState!==null?(Qr(),i.child=r.child,i.flags|=128,i=null):(Qr(),ee=h.fallback,g=i.mode,h=Yd({mode:"visible",children:h.children},g),ee=To(ee,g,l,null),ee.flags|=2,h.return=i,ee.return=i,h.sibling=ee,i.child=h,dr(i,r.child,null,l),h=i.child,h.memoizedState=b0(l),h.childLanes=v0(r,L,l),i.memoizedState=g0,i=bf(null,h));else if(Wr(i),em(ee)){if(L=ee.nextSibling&&ee.nextSibling.dataset,L)var Re=L.dgst;L=Re,h=Error(s(419)),h.stack="",h.digest=L,Zl({value:h,source:null,stack:null}),i=x0(r,i,l)}else if(ds||Mo(r,i,l,!1),L=(l&r.childLanes)!==0,ds||L){if(L=pr,L!==null&&(h=wn(L,l),h!==0&&h!==me.retryLane))throw me.retryLane=h,Za(r,h),Bi(L,r,h),p0;J0(ee)||n1(),i=x0(r,i,l)}else J0(ee)?(i.flags|=192,i.child=r.child,i=null):(r=me.treeContext,fr=Aa(ee.nextSibling),Ns=i,Nn=!0,$s=null,Or=!1,r!==null&&Rd(i,r),i=y0(i,h.children),i.flags|=4096);return i}return g?(Qr(),ee=h.fallback,g=i.mode,me=r.child,Re=me.sibling,h=Ci(me,{mode:"hidden",children:h.children}),h.subtreeFlags=me.subtreeFlags&65011712,Re!==null?ee=Ci(Re,ee):(ee=To(ee,g,l,null),ee.flags|=2),ee.return=i,h.return=i,h.sibling=ee,i.child=h,bf(null,h),h=i.child,ee=r.child.memoizedState,ee===null?ee=b0(l):(g=ee.cachePool,g!==null?(me=Hr._currentValue,g=g.parent!==me?{parent:me,pool:me}:g):g=ue(),ee={baseLanes:ee.baseLanes|l,cachePool:g}),h.memoizedState=ee,h.childLanes=v0(r,L,l),i.memoizedState=g0,bf(r.child,h)):(Wr(i),l=r.child,r=l.sibling,l=Ci(l,{mode:"visible",children:h.children}),l.return=i,l.sibling=null,r!==null&&(L=i.deletions,L===null?(i.deletions=[r],i.flags|=16):L.push(r)),i.child=l,i.memoizedState=null,l)}function y0(r,i){return i=Yd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Yd(r,i){return r=Os(22,r,null,i),r.lanes=0,r}function x0(r,i,l){return dr(i,r.child,null,l),r=y0(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function wb(r,i,l){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Ql(r.return,i,l)}function w0(r,i,l,h,g,w){var L=r.memoizedState;L===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g,treeForkCount:w}:(L.isBackwards=i,L.rendering=null,L.renderingStartTime=0,L.last=h,L.tail=l,L.tailMode=g,L.treeForkCount=w)}function _b(r,i,l){var h=i.pendingProps,g=h.revealOrder,w=h.tail;h=h.children;var L=Rn.current,ee=(L&2)!==0;if(ee?(L=L&1|2,i.flags|=128):L&=1,H(Rn,L),Zs(r,i,h,l),h=Nn?Zc:0,!ee&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&wb(r,l,i);else if(r.tag===19)wb(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(g){case"forwards":for(l=i.child,g=null;l!==null;)r=l.alternate,r!==null&&Rs(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),w0(i,!1,g,l,w,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Rs(r)===null){i.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}w0(i,!0,l,null,w,h);break;case"together":w0(i,!1,null,null,void 0,h);break;default:i.memoizedState=null}return i.child}function dl(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),ic|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(Mo(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,l=Ci(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Ci(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function _0(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Hu(r)))}function k4(r,i,l){switch(i.tag){case 3:de(i,i.stateNode.containerInfo),Eo(i,Hr,r.memoizedState.cache),ll();break;case 27:case 5:we(i);break;case 4:de(i,i.stateNode.containerInfo);break;case 10:Eo(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Yn(i),null;break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(Wr(i),i.flags|=128,null):(l&i.child.childLanes)!==0?xb(r,i,l):(Wr(i),r=dl(r,i,l),r!==null?r.sibling:null);Wr(i);break;case 19:var g=(r.flags&128)!==0;if(h=(l&i.childLanes)!==0,h||(Mo(r,i,l,!1),h=(l&i.childLanes)!==0),g){if(h)return _b(r,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),H(Rn,Rn.current),h)break;return null;case 22:return i.lanes=0,pb(r,i,l,i.pendingProps);case 24:Eo(i,Hr,r.memoizedState.cache)}return dl(r,i,l)}function Sb(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)ds=!0;else{if(!_0(r,l)&&(i.flags&128)===0)return ds=!1,k4(r,i,l);ds=(r.flags&131072)!==0}else ds=!1,Nn&&(i.flags&1048576)!==0&&Dd(i,Zc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var h=i.pendingProps;if(r=Me(i.elementType),i.type=r,typeof r=="function")Fu(r)?(h=tu(r,h),i.tag=1,i=vb(null,i,r,h,l)):(i.tag=0,i=m0(null,i,r,h,l));else{if(r!=null){var g=r.$$typeof;if(g===I){i.tag=11,i=hb(null,i,r,h,l);break e}else if(g===G){i.tag=14,i=fb(null,i,r,h,l);break e}}throw i=W(r)||r,Error(s(306,i,""))}}return i;case 0:return m0(r,i,i.type,i.pendingProps,l);case 1:return h=i.type,g=tu(h,i.pendingProps),vb(r,i,h,g,l);case 3:e:{if(de(i,i.stateNode.containerInfo),r===null)throw Error(s(387));h=i.pendingProps;var w=i.memoizedState;g=w.element,Sr(r,i),$r(i,h,null,l);var L=i.memoizedState;if(h=L.cache,Eo(i,Hr,h),h!==w.cache&&cl(i,[Hr],l,!0),sr(),h=L.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:L.cache},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){i=yb(r,i,h,l);break e}else if(h!==g){g=ki(Error(s(424)),i),Zl(g),i=yb(r,i,h,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(fr=Aa(r.firstChild),Ns=i,Nn=!0,$s=null,Or=!0,l=ln(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ll(),h===g){i=dl(r,i,l);break e}Zs(r,i,h,l)}i=i.child}return i;case 26:return Gd(r,i),r===null?(l=D5(i.type,null,i.pendingProps,null))?i.memoizedState=l:Nn||(l=i.type,r=i.pendingProps,h=c1(ae.current).createElement(l),h[Mn]=i,h[Ln]=r,Qs(h,l,r),Wt(h),i.stateNode=h):i.memoizedState=D5(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return we(i),r===null&&Nn&&(h=i.stateNode=M5(i.type,i.pendingProps,ae.current),Ns=i,Or=!0,g=fr,uc(i.type)?(tm=g,fr=Aa(h.firstChild)):fr=g),Zs(r,i,i.pendingProps.children,l),Gd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Nn&&((g=h=fr)&&(h=s_(h,i.type,i.pendingProps,Or),h!==null?(i.stateNode=h,Ns=i,fr=Aa(h.firstChild),Or=!1,g=!0):g=!1),g||ko(i)),we(i),g=i.type,w=i.pendingProps,L=r!==null?r.memoizedProps:null,h=w.children,Z0(g,w)?h=null:L!==null&&Z0(g,L)&&(i.flags|=32),i.memoizedState!==null&&(g=lf(r,i,r0,null,null,l),Lf._currentValue=g),Gd(r,i),Zs(r,i,h,l),i.child;case 6:return r===null&&Nn&&((r=l=fr)&&(l=i_(l,i.pendingProps,Or),l!==null?(i.stateNode=l,Ns=i,fr=null,r=!0):r=!1),r||ko(i)),null;case 13:return xb(r,i,l);case 4:return de(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=dr(i,null,h,l):Zs(r,i,h,l),i.child;case 11:return hb(r,i,i.type,i.pendingProps,l);case 7:return Zs(r,i,i.pendingProps,l),i.child;case 8:return Zs(r,i,i.pendingProps.children,l),i.child;case 12:return Zs(r,i,i.pendingProps.children,l),i.child;case 10:return h=i.pendingProps,Eo(i,i.type,h.value),Zs(r,i,h.children,l),i.child;case 9:return g=i.type._context,h=i.pendingProps.children,Lo(i),g=Ts(g),h=h(g),i.flags|=1,Zs(r,i,h,l),i.child;case 14:return fb(r,i,i.type,i.pendingProps,l);case 15:return db(r,i,i.type,i.pendingProps,l);case 19:return _b(r,i,l);case 31:return C4(r,i,l);case 22:return pb(r,i,l,i.pendingProps);case 24:return Lo(i),h=Ts(Hr),r===null?(g=se(),g===null&&(g=pr,w=Kl(),g.pooledCache=w,w.refCount++,w!==null&&(g.pooledCacheLanes|=l),g=w),i.memoizedState={parent:h,cache:g},mt(i),Eo(i,Hr,g)):((r.lanes&l)!==0&&(Sr(r,i),$r(i,null,null,l),sr()),g=r.memoizedState,w=i.memoizedState,g.parent!==h?(g={parent:h,cache:h},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Eo(i,Hr,h)):(h=w.cache,Eo(i,Hr,h),h!==g.cache&&cl(i,[Hr],l,!0))),Zs(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function pl(r){r.flags|=4}function S0(r,i,l,h,g){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(g&335544128)===g)if(r.stateNode.complete)r.flags|=8192;else if(Zb())r.flags|=8192;else throw Pe=Se,Oe}else r.flags&=-16777217}function Nb(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!B5(i))if(Zb())r.flags|=8192;else throw Pe=Se,Oe}function $d(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?pt():536870912,r.lanes|=i,ih|=i)}function vf(r,i){if(!Nn)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Tr(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(i)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=h,r.childLanes=l,i}function j4(r,i,l){var h=i.pendingProps;switch(qu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(i),null;case 1:return Tr(i),null;case 3:return l=i.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),Oi(Hr),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(As(i)?pl(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,af())),Tr(i),null;case 26:var g=i.type,w=i.memoizedState;return r===null?(pl(i),w!==null?(Tr(i),Nb(i,w)):(Tr(i),S0(i,g,null,h,l))):w?w!==r.memoizedState?(pl(i),Tr(i),Nb(i,w)):(Tr(i),i.flags&=-16777217):(r=r.memoizedProps,r!==h&&pl(i),Tr(i),S0(i,g,r,h,l)),null;case 27:if(Ve(i),l=ae.current,g=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==h&&pl(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return Tr(i),null}r=J.current,As(i)?sf(i):(r=M5(g,h,l),i.stateNode=r,pl(i))}return Tr(i),null;case 5:if(Ve(i),g=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==h&&pl(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return Tr(i),null}if(w=J.current,As(i))sf(i);else{var L=c1(ae.current);switch(w){case 1:w=L.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:w=L.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":w=L.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":w=L.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":w=L.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?L.createElement("select",{is:h.is}):L.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?L.createElement(g,{is:h.is}):L.createElement(g)}}w[Mn]=i,w[Ln]=h;e:for(L=i.child;L!==null;){if(L.tag===5||L.tag===6)w.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===i)break e;for(;L.sibling===null;){if(L.return===null||L.return===i)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}i.stateNode=w;e:switch(Qs(w,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&pl(i)}}return Tr(i),S0(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,l),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==h&&pl(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(s(166));if(r=ae.current,As(i)){if(r=i.stateNode,l=i.memoizedProps,h=null,g=Ns,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}r[Mn]=i,r=!!(r.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||x5(r.nodeValue,l)),r||ko(i,!0)}else r=c1(r).createTextNode(h),r[Mn]=i,i.stateNode=r}return Tr(i),null;case 31:if(l=i.memoizedState,r===null||r.memoizedState!==null){if(h=As(i),l!==null){if(r===null){if(!h)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[Mn]=i}else ll(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tr(i),r=!1}else l=af(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return i.flags&256?(Qn(i),i):(Qn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Tr(i),null;case 13:if(h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=As(i),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[Mn]=i}else ll(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tr(i),g=!1}else g=af(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Qn(i),i):(Qn(i),null)}return Qn(i),(i.flags&128)!==0?(i.lanes=l,i):(l=h!==null,r=r!==null&&r.memoizedState!==null,l&&(h=i.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==g&&(h.flags|=2048)),l!==r&&l&&(i.child.flags|=8192),$d(i,i.updateQueue),Tr(i),null);case 4:return xe(),r===null&&W0(i.stateNode.containerInfo),Tr(i),null;case 10:return Oi(i.type),Tr(i),null;case 19:if(M(Rn),h=i.memoizedState,h===null)return Tr(i),null;if(g=(i.flags&128)!==0,w=h.rendering,w===null)if(g)vf(h,!1);else{if(Jr!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=Rs(r),w!==null){for(i.flags|=128,vf(h,!1),r=w.updateQueue,i.updateQueue=r,$d(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)$c(l,r),l=l.sibling;return H(Rn,Rn.current&1|2),Nn&&bi(i,h.treeForkCount),i.child}r=r.sibling}h.tail!==null&&ze()>Jd&&(i.flags|=128,g=!0,vf(h,!1),i.lanes=4194304)}else{if(!g)if(r=Rs(w),r!==null){if(i.flags|=128,g=!0,r=r.updateQueue,i.updateQueue=r,$d(i,r),vf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!Nn)return Tr(i),null}else 2*ze()-h.renderingStartTime>Jd&&l!==536870912&&(i.flags|=128,g=!0,vf(h,!1),i.lanes=4194304);h.isBackwards?(w.sibling=i.child,i.child=w):(r=h.last,r!==null?r.sibling=w:i.child=w,h.last=w)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=ze(),r.sibling=null,l=Rn.current,H(Rn,g?l&1|2:l&1),Nn&&bi(i,h.treeForkCount),r):(Tr(i),null);case 22:case 23:return Qn(i),ss(),h=i.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(l&536870912)!==0&&(i.flags&128)===0&&(Tr(i),i.subtreeFlags&6&&(i.flags|=8192)):Tr(i),l=i.updateQueue,l!==null&&$d(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==l&&(i.flags|=2048),r!==null&&M(Z),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Oi(Hr),Tr(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function E4(r,i){switch(qu(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Oi(Hr),xe(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ve(i),null;case 31:if(i.memoizedState!==null){if(Qn(i),i.alternate===null)throw Error(s(340));ll()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(Qn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ll()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return M(Rn),null;case 4:return xe(),null;case 10:return Oi(i.type),null;case 22:case 23:return Qn(i),ss(),r!==null&&M(Z),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Oi(Hr),null;case 25:return null;default:return null}}function Ab(r,i){switch(qu(i),i.tag){case 3:Oi(Hr),xe();break;case 26:case 27:case 5:Ve(i);break;case 4:xe();break;case 31:i.memoizedState!==null&&Qn(i);break;case 13:Qn(i);break;case 19:M(Rn);break;case 10:Oi(i.type);break;case 22:case 23:Qn(i),ss(),r!==null&&M(Z);break;case 24:Oi(Hr)}}function yf(r,i){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&r)===r){h=void 0;var w=l.create,L=l.inst;h=w(),L.destroy=h}l=l.next}while(l!==g)}}catch(ee){Jn(i,i.return,ee)}}function rc(r,i,l){try{var h=i.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var w=g.next;h=w;do{if((h.tag&r)===r){var L=h.inst,ee=L.destroy;if(ee!==void 0){L.destroy=void 0,g=i;var me=l,Re=ee;try{Re()}catch(Ue){Jn(g,me,Ue)}}}h=h.next}while(h!==w)}}catch(Ue){Jn(i,i.return,Ue)}}function Tb(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{Xr(i,l)}catch(h){Jn(r,r.return,h)}}}function Cb(r,i,l){l.props=tu(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(h){Jn(r,i,h)}}function xf(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof l=="function"?r.refCleanup=l(h):l.current=h}}catch(g){Jn(r,i,g)}}function Vo(r,i){var l=r.ref,h=r.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){Jn(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Jn(r,i,g)}else l.current=null}function kb(r){var i=r.type,l=r.memoizedProps,h=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){Jn(r,r.return,g)}}function N0(r,i,l){try{var h=r.stateNode;K4(h,r.type,l,i),h[Ln]=i}catch(g){Jn(r,r.return,g)}}function jb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&uc(r.type)||r.tag===4}function A0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||jb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&uc(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function T0(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Xi));else if(h!==4&&(h===27&&uc(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(T0(r,i,l),r=r.sibling;r!==null;)T0(r,i,l),r=r.sibling}function Xd(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(h!==4&&(h===27&&uc(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Xd(r,i,l),r=r.sibling;r!==null;)Xd(r,i,l),r=r.sibling}function Eb(r){var i=r.stateNode,l=r.memoizedProps;try{for(var h=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Qs(i,h,l),i[Mn]=r,i[Ln]=l}catch(w){Jn(r,r.return,w)}}var ml=!1,ps=!1,C0=!1,Mb=typeof WeakSet=="function"?WeakSet:Set,Is=null;function M4(r,i){if(r=r.containerInfo,$0=g1,r=$a(r),xa(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var L=0,ee=-1,me=-1,Re=0,Ue=0,Ze=r,Ie=null;t:for(;;){for(var Fe;Ze!==l||g!==0&&Ze.nodeType!==3||(ee=L+g),Ze!==w||h!==0&&Ze.nodeType!==3||(me=L+h),Ze.nodeType===3&&(L+=Ze.nodeValue.length),(Fe=Ze.firstChild)!==null;)Ie=Ze,Ze=Fe;for(;;){if(Ze===r)break t;if(Ie===l&&++Re===g&&(ee=L),Ie===w&&++Ue===h&&(me=L),(Fe=Ze.nextSibling)!==null)break;Ze=Ie,Ie=Ze.parentNode}Ze=Fe}l=ee===-1||me===-1?null:{start:ee,end:me}}else l=null}l=l||{start:0,end:0}}else l=null;for(X0={focusedElem:r,selectionRange:l},g1=!1,Is=i;Is!==null;)if(i=Is,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Is=r;else for(;Is!==null;){switch(i=Is,w=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)g=r[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,l=i,g=w.memoizedProps,w=w.memoizedState,h=l.stateNode;try{var jt=tu(l.type,g);r=h.getSnapshotBeforeUpdate(jt,w),h.__reactInternalSnapshotBeforeUpdate=r}catch(Zt){Jn(l,l.return,Zt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)K0(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":K0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Is=r;break}Is=i.return}}function Lb(r,i,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:bl(r,l),h&4&&yf(5,l);break;case 1:if(bl(r,l),h&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(L){Jn(l,l.return,L)}else{var g=tu(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(L){Jn(l,l.return,L)}}h&64&&Tb(l),h&512&&xf(l,l.return);break;case 3:if(bl(r,l),h&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Xr(r,i)}catch(L){Jn(l,l.return,L)}}break;case 27:i===null&&h&4&&Eb(l);case 26:case 5:bl(r,l),i===null&&h&4&&kb(l),h&512&&xf(l,l.return);break;case 12:bl(r,l);break;case 31:bl(r,l),h&4&&Rb(r,l);break;case 13:bl(r,l),h&4&&Ib(r,l),h&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=z4.bind(null,l),a_(r,l))));break;case 22:if(h=l.memoizedState!==null||ml,!h){i=i!==null&&i.memoizedState!==null||ps,g=ml;var w=ps;ml=h,(ps=i)&&!w?vl(r,l,(l.subtreeFlags&8772)!==0):bl(r,l),ml=g,ps=w}break;case 30:break;default:bl(r,l)}}function Ob(r){var i=r.alternate;i!==null&&(r.alternate=null,Ob(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&vt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ir=null,Ri=!1;function gl(r,i,l){for(l=l.child;l!==null;)Db(r,i,l),l=l.sibling}function Db(r,i,l){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Xt,l)}catch{}switch(l.tag){case 26:ps||Vo(l,i),gl(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ps||Vo(l,i);var h=Ir,g=Ri;uc(l.type)&&(Ir=l.stateNode,Ri=!1),gl(r,i,l),jf(l.stateNode),Ir=h,Ri=g;break;case 5:ps||Vo(l,i);case 6:if(h=Ir,g=Ri,Ir=null,gl(r,i,l),Ir=h,Ri=g,Ir!==null)if(Ri)try{(Ir.nodeType===9?Ir.body:Ir.nodeName==="HTML"?Ir.ownerDocument.body:Ir).removeChild(l.stateNode)}catch(w){Jn(l,i,w)}else try{Ir.removeChild(l.stateNode)}catch(w){Jn(l,i,w)}break;case 18:Ir!==null&&(Ri?(r=Ir,T5(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),dh(r)):T5(Ir,l.stateNode));break;case 4:h=Ir,g=Ri,Ir=l.stateNode.containerInfo,Ri=!0,gl(r,i,l),Ir=h,Ri=g;break;case 0:case 11:case 14:case 15:rc(2,l,i),ps||rc(4,l,i),gl(r,i,l);break;case 1:ps||(Vo(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"&&Cb(l,i,h)),gl(r,i,l);break;case 21:gl(r,i,l);break;case 22:ps=(h=ps)||l.memoizedState!==null,gl(r,i,l),ps=h;break;default:gl(r,i,l)}}function Rb(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{dh(r)}catch(l){Jn(i,i.return,l)}}}function Ib(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{dh(r)}catch(l){Jn(i,i.return,l)}}function L4(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Mb),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Mb),i;default:throw Error(s(435,r.tag))}}function Zd(r,i){var l=L4(r);i.forEach(function(h){if(!l.has(h)){l.add(h);var g=P4.bind(null,r,h);h.then(g,g)}})}function Ii(r,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],w=r,L=i,ee=L;e:for(;ee!==null;){switch(ee.tag){case 27:if(uc(ee.type)){Ir=ee.stateNode,Ri=!1;break e}break;case 5:Ir=ee.stateNode,Ri=!1;break e;case 3:case 4:Ir=ee.stateNode.containerInfo,Ri=!0;break e}ee=ee.return}if(Ir===null)throw Error(s(160));Db(w,L,g),Ir=null,Ri=!1,w=g.alternate,w!==null&&(w.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Vb(i,r),i=i.sibling}var no=null;function Vb(r,i){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ii(i,r),Vi(r),h&4&&(rc(3,r,r.return),yf(3,r),rc(5,r,r.return));break;case 1:Ii(i,r),Vi(r),h&512&&(ps||l===null||Vo(l,l.return)),h&64&&ml&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=no;if(Ii(i,r),Vi(r),h&512&&(ps||l===null||Vo(l,l.return)),h&4){var w=l!==null?l.memoizedState:null;if(h=r.memoizedState,l===null)if(h===null)if(r.stateNode===null){e:{h=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":w=g.getElementsByTagName("title")[0],(!w||w[Ye]||w[Mn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=g.createElement(h),g.head.insertBefore(w,g.querySelector("head > title"))),Qs(w,h,l),w[Mn]=r,Wt(w),h=w;break e;case"link":var L=V5("link","href",g).get(h+(l.href||""));if(L){for(var ee=0;ee<L.length;ee++)if(w=L[ee],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){L.splice(ee,1);break t}}w=g.createElement(h),Qs(w,h,l),g.head.appendChild(w);break;case"meta":if(L=V5("meta","content",g).get(h+(l.content||""))){for(ee=0;ee<L.length;ee++)if(w=L[ee],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){L.splice(ee,1);break t}}w=g.createElement(h),Qs(w,h,l),g.head.appendChild(w);break;default:throw Error(s(468,h))}w[Mn]=r,Wt(w),h=w}r.stateNode=h}else F5(g,r.type,r.stateNode);else r.stateNode=I5(g,h,r.memoizedProps);else w!==h?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,h===null?F5(g,r.type,r.stateNode):I5(g,h,r.memoizedProps)):h===null&&r.stateNode!==null&&N0(r,r.memoizedProps,l.memoizedProps)}break;case 27:Ii(i,r),Vi(r),h&512&&(ps||l===null||Vo(l,l.return)),l!==null&&h&4&&N0(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Ii(i,r),Vi(r),h&512&&(ps||l===null||Vo(l,l.return)),r.flags&32){g=r.stateNode;try{$i(g,"")}catch(jt){Jn(r,r.return,jt)}}h&4&&r.stateNode!=null&&(g=r.memoizedProps,N0(r,g,l!==null?l.memoizedProps:g)),h&1024&&(C0=!0);break;case 6:if(Ii(i,r),Vi(r),h&4){if(r.stateNode===null)throw Error(s(162));h=r.memoizedProps,l=r.stateNode;try{l.nodeValue=h}catch(jt){Jn(r,r.return,jt)}}break;case 3:if(f1=null,g=no,no=u1(i.containerInfo),Ii(i,r),no=g,Vi(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{dh(i.containerInfo)}catch(jt){Jn(r,r.return,jt)}C0&&(C0=!1,Fb(r));break;case 4:h=no,no=u1(r.stateNode.containerInfo),Ii(i,r),Vi(r),no=h;break;case 12:Ii(i,r),Vi(r);break;case 31:Ii(i,r),Vi(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Zd(r,h)));break;case 13:Ii(i,r),Vi(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Kd=ze()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Zd(r,h)));break;case 22:g=r.memoizedState!==null;var me=l!==null&&l.memoizedState!==null,Re=ml,Ue=ps;if(ml=Re||g,ps=Ue||me,Ii(i,r),ps=Ue,ml=Re,Vi(r),h&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||me||ml||ps||nu(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){me=l=i;try{if(w=me.stateNode,g)L=w.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{ee=me.stateNode;var Ze=me.memoizedProps.style,Ie=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null;ee.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(jt){Jn(me,me.return,jt)}}}else if(i.tag===6){if(l===null){me=i;try{me.stateNode.nodeValue=g?"":me.memoizedProps}catch(jt){Jn(me,me.return,jt)}}}else if(i.tag===18){if(l===null){me=i;try{var Fe=me.stateNode;g?C5(Fe,!0):C5(me.stateNode,!1)}catch(jt){Jn(me,me.return,jt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=r.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Zd(r,l))));break;case 19:Ii(i,r),Vi(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Zd(r,h)));break;case 30:break;case 21:break;default:Ii(i,r),Vi(r)}}function Vi(r){var i=r.flags;if(i&2){try{for(var l,h=r.return;h!==null;){if(jb(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,w=A0(r);Xd(r,w,g);break;case 5:var L=l.stateNode;l.flags&32&&($i(L,""),l.flags&=-33);var ee=A0(r);Xd(r,ee,L);break;case 3:case 4:var me=l.stateNode.containerInfo,Re=A0(r);T0(r,Re,me);break;default:throw Error(s(161))}}catch(Ue){Jn(r,r.return,Ue)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Fb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Fb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function bl(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Lb(r,i.alternate,i),i=i.sibling}function nu(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:rc(4,i,i.return),nu(i);break;case 1:Vo(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Cb(i,i.return,l),nu(i);break;case 27:jf(i.stateNode);case 26:case 5:Vo(i,i.return),nu(i);break;case 22:i.memoizedState===null&&nu(i);break;case 30:nu(i);break;default:nu(i)}r=r.sibling}}function vl(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,g=r,w=i,L=w.flags;switch(w.tag){case 0:case 11:case 15:vl(g,w,l),yf(4,w);break;case 1:if(vl(g,w,l),h=w,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Re){Jn(h,h.return,Re)}if(h=w,g=h.updateQueue,g!==null){var ee=h.stateNode;try{var me=g.shared.hiddenCallbacks;if(me!==null)for(g.shared.hiddenCallbacks=null,g=0;g<me.length;g++)Ds(me[g],ee)}catch(Re){Jn(h,h.return,Re)}}l&&L&64&&Tb(w),xf(w,w.return);break;case 27:Eb(w);case 26:case 5:vl(g,w,l),l&&h===null&&L&4&&kb(w),xf(w,w.return);break;case 12:vl(g,w,l);break;case 31:vl(g,w,l),l&&L&4&&Rb(g,w);break;case 13:vl(g,w,l),l&&L&4&&Ib(g,w);break;case 22:w.memoizedState===null&&vl(g,w,l),xf(w,w.return);break;case 30:break;default:vl(g,w,l)}i=i.sibling}}function k0(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Qc(l))}function j0(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Qc(r))}function ro(r,i,l,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bb(r,i,l,h),i=i.sibling}function Bb(r,i,l,h){var g=i.flags;switch(i.tag){case 0:case 11:case 15:ro(r,i,l,h),g&2048&&yf(9,i);break;case 1:ro(r,i,l,h);break;case 3:ro(r,i,l,h),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Qc(r)));break;case 12:if(g&2048){ro(r,i,l,h),r=i.stateNode;try{var w=i.memoizedProps,L=w.id,ee=w.onPostCommit;typeof ee=="function"&&ee(L,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(me){Jn(i,i.return,me)}}else ro(r,i,l,h);break;case 31:ro(r,i,l,h);break;case 13:ro(r,i,l,h);break;case 23:break;case 22:w=i.stateNode,L=i.alternate,i.memoizedState!==null?w._visibility&2?ro(r,i,l,h):wf(r,i):w._visibility&2?ro(r,i,l,h):(w._visibility|=2,nh(r,i,l,h,(i.subtreeFlags&10256)!==0||!1)),g&2048&&k0(L,i);break;case 24:ro(r,i,l,h),g&2048&&j0(i.alternate,i);break;default:ro(r,i,l,h)}}function nh(r,i,l,h,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var w=r,L=i,ee=l,me=h,Re=L.flags;switch(L.tag){case 0:case 11:case 15:nh(w,L,ee,me,g),yf(8,L);break;case 23:break;case 22:var Ue=L.stateNode;L.memoizedState!==null?Ue._visibility&2?nh(w,L,ee,me,g):wf(w,L):(Ue._visibility|=2,nh(w,L,ee,me,g)),g&&Re&2048&&k0(L.alternate,L);break;case 24:nh(w,L,ee,me,g),g&&Re&2048&&j0(L.alternate,L);break;default:nh(w,L,ee,me,g)}i=i.sibling}}function wf(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,h=i,g=h.flags;switch(h.tag){case 22:wf(l,h),g&2048&&k0(h.alternate,h);break;case 24:wf(l,h),g&2048&&j0(h.alternate,h);break;default:wf(l,h)}i=i.sibling}}var _f=8192;function rh(r,i,l){if(r.subtreeFlags&_f)for(r=r.child;r!==null;)zb(r,i,l),r=r.sibling}function zb(r,i,l){switch(r.tag){case 26:rh(r,i,l),r.flags&_f&&r.memoizedState!==null&&v_(l,no,r.memoizedState,r.memoizedProps);break;case 5:rh(r,i,l);break;case 3:case 4:var h=no;no=u1(r.stateNode.containerInfo),rh(r,i,l),no=h;break;case 22:r.memoizedState===null&&(h=r.alternate,h!==null&&h.memoizedState!==null?(h=_f,_f=16777216,rh(r,i,l),_f=h):rh(r,i,l));break;default:rh(r,i,l)}}function Pb(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Sf(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];Is=h,Ub(h,r)}Pb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)qb(r),r=r.sibling}function qb(r){switch(r.tag){case 0:case 11:case 15:Sf(r),r.flags&2048&&rc(9,r,r.return);break;case 3:Sf(r);break;case 12:Sf(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Qd(r)):Sf(r);break;default:Sf(r)}}function Qd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];Is=h,Ub(h,r)}Pb(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:rc(8,i,i.return),Qd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Qd(i));break;default:Qd(i)}r=r.sibling}}function Ub(r,i){for(;Is!==null;){var l=Is;switch(l.tag){case 0:case 11:case 15:rc(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Qc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Is=h;else e:for(l=r;Is!==null;){h=Is;var g=h.sibling,w=h.return;if(Ob(h),h===l){Is=null;break e}if(g!==null){g.return=w,Is=g;break e}Is=w}}}var O4={getCacheForType:function(r){var i=Ts(Hr),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l},cacheSignal:function(){return Ts(Hr).controller.signal}},D4=typeof WeakMap=="function"?WeakMap:Map,$n=0,pr=null,An=null,kn=0,Kn=0,na=null,sc=!1,sh=!1,E0=!1,yl=0,Jr=0,ic=0,ru=0,M0=0,ra=0,ih=0,Nf=null,Fi=null,L0=!1,Kd=0,Hb=0,Jd=1/0,e1=null,ac=null,ks=0,oc=null,ah=null,xl=0,O0=0,D0=null,Wb=null,Af=0,R0=null;function sa(){return($n&2)!==0&&kn!==0?kn&-kn:$.T!==null?P0():dn()}function Gb(){if(ra===0)if((kn&536870912)===0||Nn){var r=bn;bn<<=1,(bn&3932160)===0&&(bn=262144),ra=r}else ra=536870912;return r=Ar.current,r!==null&&(r.flags|=32),ra}function Bi(r,i,l){(r===pr&&(Kn===2||Kn===9)||r.cancelPendingCommit!==null)&&(oh(r,0),lc(r,kn,ra,!1)),ot(r,l),(($n&2)===0||r!==pr)&&(r===pr&&(($n&2)===0&&(ru|=l),Jr===4&&lc(r,kn,ra,!1)),Fo(r))}function Yb(r,i,l){if(($n&6)!==0)throw Error(s(327));var h=!l&&(i&127)===0&&(i&r.expiredLanes)===0||Ne(r,i),g=h?V4(r,i):V0(r,i,!0),w=h;do{if(g===0){sh&&!h&&lc(r,i,0,!1);break}else{if(l=r.current.alternate,w&&!R4(l)){g=V0(r,i,!1),w=!1;continue}if(g===2){if(w=i,r.errorRecoveryDisabledLanes&w)var L=0;else L=r.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){i=L;e:{var ee=r;g=Nf;var me=ee.current.memoizedState.isDehydrated;if(me&&(oh(ee,L).flags|=256),L=V0(ee,L,!1),L!==2){if(E0&&!me){ee.errorRecoveryDisabledLanes|=w,ru|=w,g=4;break e}w=Fi,Fi=g,w!==null&&(Fi===null?Fi=w:Fi.push.apply(Fi,w))}g=L}if(w=!1,g!==2)continue}}if(g===1){oh(r,0),lc(r,i,0,!0);break}e:{switch(h=r,w=g,w){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:lc(h,i,ra,!sc);break e;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=Kd+300-ze(),10<g)){if(lc(h,i,ra,!sc),it(h,0,!0)!==0)break e;xl=i,h.timeoutHandle=N5($b.bind(null,h,l,Fi,e1,L0,i,ra,ru,ih,sc,w,"Throttled",-0,0),g);break e}$b(h,l,Fi,e1,L0,i,ra,ru,ih,sc,w,null,-0,0)}}break}while(!0);Fo(r)}function $b(r,i,l,h,g,w,L,ee,me,Re,Ue,Ze,Ie,Fe){if(r.timeoutHandle=-1,Ze=i.subtreeFlags,Ze&8192||(Ze&16785408)===16785408){Ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xi},zb(i,w,Ze);var jt=(w&62914560)===w?Kd-ze():(w&4194048)===w?Hb-ze():0;if(jt=y_(Ze,jt),jt!==null){xl=w,r.cancelPendingCommit=jt(n5.bind(null,r,i,w,l,h,g,L,ee,me,Ue,Ze,null,Ie,Fe)),lc(r,w,L,!Re);return}}n5(r,i,w,l,h,g,L,ee,me)}function R4(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],w=g.getSnapshot;g=g.value;try{if(!_s(w(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function lc(r,i,l,h){i&=~M0,i&=~ru,r.suspendedLanes|=i,r.pingedLanes&=~i,h&&(r.warmLanes|=i),h=r.expirationTimes;for(var g=i;0<g;){var w=31-Tt(g),L=1<<w;h[w]=-1,g&=~L}l!==0&&yn(r,l,i)}function t1(){return($n&6)===0?(Tf(0),!1):!0}function I0(){if(An!==null){if(Kn===0)var r=An.return;else r=An,_a=jo=null,Xu(r),Qe=null,Et=0,r=An;for(;r!==null;)Ab(r.alternate,r),r=r.return;An=null}}function oh(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,t_(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),xl=0,I0(),pr=r,An=l=Ci(r.current,null),kn=i,Kn=0,na=null,sc=!1,sh=Ne(r,i),E0=!1,ih=ra=M0=ru=ic=Jr=0,Fi=Nf=null,L0=!1,(i&8)!==0&&(i|=i&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=i;0<h;){var g=31-Tt(h),w=1<<g;i|=r[g],h&=~w}return yl=i,Wc(),l}function Xb(r,i){zt=null,$.H=gf,i===ve||i===ce?(i=Ge(),Kn=3):i===Oe?(i=Ge(),Kn=4):Kn=i===p0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,na=i,An===null&&(Jr=1,Hd(r,ki(i,r.current)))}function Zb(){var r=Ar.current;return r===null?!0:(kn&4194048)===kn?zn===null:(kn&62914560)===kn||(kn&536870912)!==0?r===zn:!1}function Qb(){var r=$.H;return $.H=gf,r===null?gf:r}function Kb(){var r=$.A;return $.A=O4,r}function n1(){Jr=4,sc||(kn&4194048)!==kn&&Ar.current!==null||(sh=!0),(ic&134217727)===0&&(ru&134217727)===0||pr===null||lc(pr,kn,ra,!1)}function V0(r,i,l){var h=$n;$n|=2;var g=Qb(),w=Kb();(pr!==r||kn!==i)&&(e1=null,oh(r,i)),i=!1;var L=Jr;e:do try{if(Kn!==0&&An!==null){var ee=An,me=na;switch(Kn){case 8:I0(),L=6;break e;case 3:case 2:case 9:case 6:Ar.current===null&&(i=!0);var Re=Kn;if(Kn=0,na=null,lh(r,ee,me,Re),l&&sh){L=0;break e}break;default:Re=Kn,Kn=0,na=null,lh(r,ee,me,Re)}}I4(),L=Jr;break}catch(Ue){Xb(r,Ue)}while(!0);return i&&r.shellSuspendCounter++,_a=jo=null,$n=h,$.H=g,$.A=w,An===null&&(pr=null,kn=0,Wc()),L}function I4(){for(;An!==null;)Jb(An)}function V4(r,i){var l=$n;$n|=2;var h=Qb(),g=Kb();pr!==r||kn!==i?(e1=null,Jd=ze()+500,oh(r,i)):sh=Ne(r,i);e:do try{if(Kn!==0&&An!==null){i=An;var w=na;t:switch(Kn){case 1:Kn=0,na=null,lh(r,i,w,1);break;case 2:case 9:if(je(w)){Kn=0,na=null,e5(i);break}i=function(){Kn!==2&&Kn!==9||pr!==r||(Kn=7),Fo(r)},w.then(i,i);break e;case 3:Kn=7;break e;case 4:Kn=5;break e;case 7:je(w)?(Kn=0,na=null,e5(i)):(Kn=0,na=null,lh(r,i,w,7));break;case 5:var L=null;switch(An.tag){case 26:L=An.memoizedState;case 5:case 27:var ee=An;if(L?B5(L):ee.stateNode.complete){Kn=0,na=null;var me=ee.sibling;if(me!==null)An=me;else{var Re=ee.return;Re!==null?(An=Re,r1(Re)):An=null}break t}}Kn=0,na=null,lh(r,i,w,5);break;case 6:Kn=0,na=null,lh(r,i,w,6);break;case 8:I0(),Jr=6;break e;default:throw Error(s(462))}}F4();break}catch(Ue){Xb(r,Ue)}while(!0);return _a=jo=null,$.H=h,$.A=g,$n=l,An!==null?0:(pr=null,kn=0,Wc(),Jr)}function F4(){for(;An!==null&&!ut();)Jb(An)}function Jb(r){var i=Sb(r.alternate,r,yl);r.memoizedProps=r.pendingProps,i===null?r1(r):An=i}function e5(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=bb(l,i,i.pendingProps,i.type,void 0,kn);break;case 11:i=bb(l,i,i.pendingProps,i.type.render,i.ref,kn);break;case 5:Xu(i);default:Ab(l,i),i=An=$c(i,yl),i=Sb(l,i,yl)}r.memoizedProps=r.pendingProps,i===null?r1(r):An=i}function lh(r,i,l,h){_a=jo=null,Xu(i),Qe=null,Et=0;var g=i.return;try{if(T4(r,g,i,l,kn)){Jr=1,Hd(r,ki(l,r.current)),An=null;return}}catch(w){if(g!==null)throw An=g,w;Jr=1,Hd(r,ki(l,r.current)),An=null;return}i.flags&32768?(Nn||h===1?r=!0:sh||(kn&536870912)!==0?r=!1:(sc=r=!0,(h===2||h===9||h===3||h===6)&&(h=Ar.current,h!==null&&h.tag===13&&(h.flags|=16384))),t5(i,r)):r1(i)}function r1(r){var i=r;do{if((i.flags&32768)!==0){t5(i,sc);return}r=i.return;var l=j4(i.alternate,i,yl);if(l!==null){An=l;return}if(i=i.sibling,i!==null){An=i;return}An=i=r}while(i!==null);Jr===0&&(Jr=5)}function t5(r,i){do{var l=E4(r.alternate,r);if(l!==null){l.flags&=32767,An=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){An=r;return}An=r=l}while(r!==null);Jr=6,An=null}function n5(r,i,l,h,g,w,L,ee,me){r.cancelPendingCommit=null;do s1();while(ks!==0);if(($n&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(w=i.lanes|i.childLanes,w|=Ru,Pt(r,l,w,L,ee,me),r===pr&&(An=pr=null,kn=0),ah=i,oc=r,xl=l,O0=w,D0=g,Wb=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,q4(yt,function(){return o5(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=$.T,$.T=null,g=te.p,te.p=2,L=$n,$n|=4;try{M4(r,i,l)}finally{$n=L,te.p=g,$.T=h}}ks=1,r5(),s5(),i5()}}function r5(){if(ks===1){ks=0;var r=oc,i=ah,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var h=te.p;te.p=2;var g=$n;$n|=4;try{Vb(i,r);var w=X0,L=$a(r.containerInfo),ee=w.focusedElem,me=w.selectionRange;if(L!==ee&&ee&&ee.ownerDocument&&Ya(ee.ownerDocument.documentElement,ee)){if(me!==null&&xa(ee)){var Re=me.start,Ue=me.end;if(Ue===void 0&&(Ue=Re),"selectionStart"in ee)ee.selectionStart=Re,ee.selectionEnd=Math.min(Ue,ee.value.length);else{var Ze=ee.ownerDocument||document,Ie=Ze&&Ze.defaultView||window;if(Ie.getSelection){var Fe=Ie.getSelection(),jt=ee.textContent.length,Zt=Math.min(me.start,jt),or=me.end===void 0?Zt:Math.min(me.end,jt);!Fe.extend&&Zt>or&&(L=or,or=Zt,Zt=L);var ke=Gl(ee,Zt),ye=Gl(ee,or);if(ke&&ye&&(Fe.rangeCount!==1||Fe.anchorNode!==ke.node||Fe.anchorOffset!==ke.offset||Fe.focusNode!==ye.node||Fe.focusOffset!==ye.offset)){var De=Ze.createRange();De.setStart(ke.node,ke.offset),Fe.removeAllRanges(),Zt>or?(Fe.addRange(De),Fe.extend(ye.node,ye.offset)):(De.setEnd(ye.node,ye.offset),Fe.addRange(De))}}}}for(Ze=[],Fe=ee;Fe=Fe.parentNode;)Fe.nodeType===1&&Ze.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<Ze.length;ee++){var $e=Ze[ee];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}g1=!!$0,X0=$0=null}finally{$n=g,te.p=h,$.T=l}}r.current=i,ks=2}}function s5(){if(ks===2){ks=0;var r=oc,i=ah,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var h=te.p;te.p=2;var g=$n;$n|=4;try{Lb(r,i.alternate,i)}finally{$n=g,te.p=h,$.T=l}}ks=3}}function i5(){if(ks===4||ks===3){ks=0,at();var r=oc,i=ah,l=xl,h=Wb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ks=5:(ks=0,ah=oc=null,a5(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(ac=null),fn(l),i=i.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Xt,i,void 0,(i.current.flags&128)===128)}catch{}if(h!==null){i=$.T,g=te.p,te.p=2,$.T=null;try{for(var w=r.onRecoverableError,L=0;L<h.length;L++){var ee=h[L];w(ee.value,{componentStack:ee.stack})}}finally{$.T=i,te.p=g}}(xl&3)!==0&&s1(),Fo(r),g=r.pendingLanes,(l&261930)!==0&&(g&42)!==0?r===R0?Af++:(Af=0,R0=r):Af=0,Tf(0)}}function a5(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Qc(i)))}function s1(){return r5(),s5(),i5(),o5()}function o5(){if(ks!==5)return!1;var r=oc,i=O0;O0=0;var l=fn(xl),h=$.T,g=te.p;try{te.p=32>l?32:l,$.T=null,l=D0,D0=null;var w=oc,L=xl;if(ks=0,ah=oc=null,xl=0,($n&6)!==0)throw Error(s(331));var ee=$n;if($n|=4,qb(w.current),Bb(w,w.current,L,l),$n=ee,Tf(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Xt,w)}catch{}return!0}finally{te.p=g,$.T=h,a5(r,i)}}function l5(r,i,l){i=ki(l,i),i=d0(r.stateNode,i,2),r=pn(r,i,2),r!==null&&(ot(r,2),Fo(r))}function Jn(r,i,l){if(r.tag===3)l5(r,r,l);else for(;i!==null;){if(i.tag===3){l5(i,r,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ac===null||!ac.has(h))){r=ki(l,r),l=cb(2),h=pn(i,l,2),h!==null&&(ub(l,h,i,r),ot(h,2),Fo(h));break}}i=i.return}}function F0(r,i,l){var h=r.pingCache;if(h===null){h=r.pingCache=new D4;var g=new Set;h.set(i,g)}else g=h.get(i),g===void 0&&(g=new Set,h.set(i,g));g.has(l)||(E0=!0,g.add(l),r=B4.bind(null,r,i,l),i.then(r,r))}function B4(r,i,l){var h=r.pingCache;h!==null&&h.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,pr===r&&(kn&l)===l&&(Jr===4||Jr===3&&(kn&62914560)===kn&&300>ze()-Kd?($n&2)===0&&oh(r,0):M0|=l,ih===kn&&(ih=0)),Fo(r)}function c5(r,i){i===0&&(i=pt()),r=Za(r,i),r!==null&&(ot(r,i),Fo(r))}function z4(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),c5(r,l)}function P4(r,i){var l=0;switch(r.tag){case 31:case 13:var h=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(i),c5(r,l)}function q4(r,i){return Ke(r,i)}var i1=null,ch=null,B0=!1,a1=!1,z0=!1,cc=0;function Fo(r){r!==ch&&r.next===null&&(ch===null?i1=ch=r:ch=ch.next=r),a1=!0,B0||(B0=!0,H4())}function Tf(r,i){if(!z0&&a1){z0=!0;do for(var l=!1,h=i1;h!==null;){if(r!==0){var g=h.pendingLanes;if(g===0)var w=0;else{var L=h.suspendedLanes,ee=h.pingedLanes;w=(1<<31-Tt(42|r)+1)-1,w&=g&~(L&~ee),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,d5(h,w))}else w=kn,w=it(h,h===pr?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Ne(h,w)||(l=!0,d5(h,w));h=h.next}while(l);z0=!1}}function U4(){u5()}function u5(){a1=B0=!1;var r=0;cc!==0&&e_()&&(r=cc);for(var i=ze(),l=null,h=i1;h!==null;){var g=h.next,w=h5(h,i);w===0?(h.next=null,l===null?i1=g:l.next=g,g===null&&(ch=l)):(l=h,(r!==0||(w&3)!==0)&&(a1=!0)),h=g}ks!==0&&ks!==5||Tf(r),cc!==0&&(cc=0)}function h5(r,i){for(var l=r.suspendedLanes,h=r.pingedLanes,g=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var L=31-Tt(w),ee=1<<L,me=g[L];me===-1?((ee&l)===0||(ee&h)!==0)&&(g[L]=rt(ee,i)):me<=i&&(r.expiredLanes|=ee),w&=~ee}if(i=pr,l=kn,l=it(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,l===0||r===i&&(Kn===2||Kn===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&He(h),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Ne(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(h!==null&&He(h),fn(l)){case 2:case 8:l=ht;break;case 32:l=yt;break;case 268435456:l=xt;break;default:l=yt}return h=f5.bind(null,r),l=Ke(l,h),r.callbackPriority=i,r.callbackNode=l,i}return h!==null&&h!==null&&He(h),r.callbackPriority=2,r.callbackNode=null,2}function f5(r,i){if(ks!==0&&ks!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(s1()&&r.callbackNode!==l)return null;var h=kn;return h=it(r,r===pr?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(Yb(r,h,i),h5(r,ze()),r.callbackNode!=null&&r.callbackNode===l?f5.bind(null,r):null)}function d5(r,i){if(s1())return null;Yb(r,i,!0)}function H4(){n_(function(){($n&6)!==0?Ke(tt,U4):u5()})}function P0(){if(cc===0){var r=m;r===0&&(r=It,It<<=1,(It&261888)===0&&(It=256)),cc=r}return cc}function p5(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ti(""+r)}function m5(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function W4(r,i,l,h,g){if(i==="submit"&&l&&l.stateNode===g){var w=p5((g[Ln]||null).action),L=h.submitter;L&&(i=(i=L[Ln]||null)?p5(i.formAction):L.getAttribute("formAction"),i!==null&&(w=i,L=null));var ee=new Ni("action","action",null,h,g);r.push({event:ee,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(cc!==0){var me=L?m5(g,L):new FormData(g);o0(l,{pending:!0,data:me,method:g.method,action:w},null,me)}}else typeof w=="function"&&(ee.preventDefault(),me=L?m5(g,L):new FormData(g),o0(l,{pending:!0,data:me,method:g.method,action:w},w,me))},currentTarget:g}]})}}for(var q0=0;q0<il.length;q0++){var U0=il[q0],G4=U0.toLowerCase(),Y4=U0[0].toUpperCase()+U0.slice(1);Ti(G4,"on"+Y4)}Ti(sl,"onAnimationEnd"),Ti(Uc,"onAnimationIteration"),Ti(ef,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(Md,"onTransitionRun"),Ti(Ld,"onTransitionStart"),Ti(Od,"onTransitionCancel"),Ti(tf,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cf));function g5(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],g=h.event;h=h.listeners;e:{var w=void 0;if(i)for(var L=h.length-1;0<=L;L--){var ee=h[L],me=ee.instance,Re=ee.currentTarget;if(ee=ee.listener,me!==w&&g.isPropagationStopped())break e;w=ee,g.currentTarget=Re;try{w(g)}catch(Ue){Hc(Ue)}g.currentTarget=null,w=me}else for(L=0;L<h.length;L++){if(ee=h[L],me=ee.instance,Re=ee.currentTarget,ee=ee.listener,me!==w&&g.isPropagationStopped())break e;w=ee,g.currentTarget=Re;try{w(g)}catch(Ue){Hc(Ue)}g.currentTarget=null,w=me}}}}function Tn(r,i){var l=i[Mr];l===void 0&&(l=i[Mr]=new Set);var h=r+"__bubble";l.has(h)||(b5(i,r,2,!1),l.add(h))}function H0(r,i,l){var h=0;i&&(h|=4),b5(l,r,h,i)}var o1="_reactListening"+Math.random().toString(36).slice(2);function W0(r){if(!r[o1]){r[o1]=!0,yr.forEach(function(l){l!=="selectionchange"&&($4.has(l)||H0(l,!1,r),H0(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[o1]||(i[o1]=!0,H0("selectionchange",!1,i))}}function b5(r,i,l,h){switch(G5(i)){case 2:var g=__;break;case 8:g=S_;break;default:g=am}l=g.bind(null,i,l,r),g=void 0,!Fc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),h?g!==void 0?r.addEventListener(i,l,{capture:!0,passive:g}):r.addEventListener(i,l,!0):g!==void 0?r.addEventListener(i,l,{passive:g}):r.addEventListener(i,l,!1)}function G0(r,i,l,h,g){var w=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var L=h.tag;if(L===3||L===4){var ee=h.stateNode.containerInfo;if(ee===g)break;if(L===4)for(L=h.return;L!==null;){var me=L.tag;if((me===3||me===4)&&L.stateNode.containerInfo===g)return;L=L.return}for(;ee!==null;){if(L=Bt(ee),L===null)return;if(me=L.tag,me===5||me===6||me===26||me===27){h=w=L;continue e}ee=ee.parentNode}}h=h.return}Eu(function(){var Re=w,Ue=Qo(l),Ze=[];e:{var Ie=nf.get(r);if(Ie!==void 0){var Fe=Ni,jt=r;switch(r){case"keypress":if(Si(l)===0)break e;case"keydown":case"keyup":Fe=On;break;case"focusin":jt="focus",Fe=Ba;break;case"focusout":jt="blur",Fe=Ba;break;case"beforeblur":case"afterblur":Fe=Ba;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=Fa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=ns;break;case sl:case Uc:case ef:Fe=S;break;case tf:Fe=ws;break;case"scroll":case"scrollend":Fe=Bl;break;case"wheel":Fe=Zi;break;case"copy":case"cut":case"paste":Fe=he;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=Pr;break;case"toggle":case"beforetoggle":Fe=zc}var Zt=(i&4)!==0,or=!Zt&&(r==="scroll"||r==="scrollend"),ke=Zt?Ie!==null?Ie+"Capture":null:Ie;Zt=[];for(var ye=Re,De;ye!==null;){var $e=ye;if(De=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||De===null||ke===null||($e=fi(ye,ke),$e!=null&&Zt.push(kf(ye,$e,De))),or)break;ye=ye.return}0<Zt.length&&(Ie=new Fe(Ie,jt,null,l,Ue),Ze.push({event:Ie,listeners:Zt}))}}if((i&7)===0){e:{if(Ie=r==="mouseover"||r==="pointerover",Fe=r==="mouseout"||r==="pointerout",Ie&&l!==Oa&&(jt=l.relatedTarget||l.fromElement)&&(Bt(jt)||jt[hr]))break e;if((Fe||Ie)&&(Ie=Ue.window===Ue?Ue:(Ie=Ue.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,Fe?(jt=l.relatedTarget||l.toElement,Fe=Re,jt=jt?Bt(jt):null,jt!==null&&(or=o(jt),Zt=jt.tag,jt!==or||Zt!==5&&Zt!==27&&Zt!==6)&&(jt=null)):(Fe=null,jt=Re),Fe!==jt)){if(Zt=Bc,$e="onMouseLeave",ke="onMouseEnter",ye="mouse",(r==="pointerout"||r==="pointerover")&&(Zt=Pr,$e="onPointerLeave",ke="onPointerEnter",ye="pointer"),or=Fe==null?Ie:Vt(Fe),De=jt==null?Ie:Vt(jt),Ie=new Zt($e,ye+"leave",Fe,l,Ue),Ie.target=or,Ie.relatedTarget=De,$e=null,Bt(Ue)===Re&&(Zt=new Zt(ke,ye+"enter",jt,l,Ue),Zt.target=De,Zt.relatedTarget=or,$e=Zt),or=$e,Fe&&jt)t:{for(Zt=X4,ke=Fe,ye=jt,De=0,$e=ke;$e;$e=Zt($e))De++;$e=0;for(var Ut=ye;Ut;Ut=Zt(Ut))$e++;for(;0<De-$e;)ke=Zt(ke),De--;for(;0<$e-De;)ye=Zt(ye),$e--;for(;De--;){if(ke===ye||ye!==null&&ke===ye.alternate){Zt=ke;break t}ke=Zt(ke),ye=Zt(ye)}Zt=null}else Zt=null;Fe!==null&&v5(Ze,Ie,Fe,Zt,!1),jt!==null&&or!==null&&v5(Ze,or,jt,Zt,!0)}}e:{if(Ie=Re?Vt(Re):window,Fe=Ie.nodeName&&Ie.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ie.type==="file")var Hn=Ao;else if(Pc(Ie))if(ni)Hn=va;else{Hn=qr;var Dt=Hl}else Fe=Ie.nodeName,!Fe||Fe.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Re&&Rc(Re.elementType)&&(Hn=Ao):Hn=Du;if(Hn&&(Hn=Hn(r,Re))){pi(Ze,Hn,l,Ue);break e}Dt&&Dt(r,Ie,Re),r==="focusout"&&Re&&Ie.type==="number"&&Re.memoizedProps.value!=null&&Xo(Ie,"number",Ie.value)}switch(Dt=Re?Vt(Re):window,r){case"focusin":(Pc(Dt)||Dt.contentEditable==="true")&&(mi=Dt,Xa=Re,Ms=null);break;case"focusout":Ms=Xa=mi=null;break;case"mousedown":Ai=!0;break;case"contextmenu":case"mouseup":case"dragend":Ai=!1,qn(Ze,l,Ue);break;case"selectionchange":if(rl)break;case"keydown":case"keyup":qn(Ze,l,Ue)}var gn;if(pa)e:{switch(r){case"compositionstart":var jn="onCompositionStart";break e;case"compositionend":jn="onCompositionEnd";break e;case"compositionupdate":jn="onCompositionUpdate";break e}jn=void 0}else ma?No(r,l)&&(jn="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(jn="onCompositionStart");jn&&(qa&&l.locale!=="ko"&&(ma||jn!=="onCompositionStart"?jn==="onCompositionEnd"&&ma&&(gn=Mu()):(di=Ue,Jo="value"in di?di.value:di.textContent,ma=!0)),Dt=l1(Re,jn),0<Dt.length&&(jn=new Ce(jn,r,null,l,Ue),Ze.push({event:jn,listeners:Dt}),gn?jn.data=gn:(gn=Pl(l),gn!==null&&(jn.data=gn)))),(gn=nl?Gs(r,l):Ua(r,l))&&(jn=l1(Re,"onBeforeInput"),0<jn.length&&(Dt=new Ce("onBeforeInput","beforeinput",null,l,Ue),Ze.push({event:Dt,listeners:jn}),Dt.data=gn)),W4(Ze,r,Re,l,Ue)}g5(Ze,i)})}function kf(r,i,l){return{instance:r,listener:i,currentTarget:l}}function l1(r,i){for(var l=i+"Capture",h=[];r!==null;){var g=r,w=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||w===null||(g=fi(r,l),g!=null&&h.unshift(kf(r,g,w)),g=fi(r,i),g!=null&&h.push(kf(r,g,w))),r.tag===3)return h;r=r.return}return[]}function X4(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function v5(r,i,l,h,g){for(var w=i._reactName,L=[];l!==null&&l!==h;){var ee=l,me=ee.alternate,Re=ee.stateNode;if(ee=ee.tag,me!==null&&me===h)break;ee!==5&&ee!==26&&ee!==27||Re===null||(me=Re,g?(Re=fi(l,w),Re!=null&&L.unshift(kf(l,Re,me))):g||(Re=fi(l,w),Re!=null&&L.push(kf(l,Re,me)))),l=l.return}L.length!==0&&r.push({event:i,listeners:L})}var Z4=/\r\n?/g,Q4=/\u0000|\uFFFD/g;function y5(r){return(typeof r=="string"?r:""+r).replace(Z4,`
`).replace(Q4,"")}function x5(r,i){return i=y5(i),y5(r)===i}function ar(r,i,l,h,g,w){switch(l){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||$i(r,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&$i(r,""+h);break;case"className":Us(r,"class",h);break;case"tabIndex":Us(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Us(r,l,h);break;case"style":Cu(r,h,w);break;case"data":if(i!=="object"){Us(r,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(l);break}h=ti(""+h),r.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(i!=="input"&&ar(r,i,"name",g.name,g,null),ar(r,i,"formEncType",g.formEncType,g,null),ar(r,i,"formMethod",g.formMethod,g,null),ar(r,i,"formTarget",g.formTarget,g,null)):(ar(r,i,"encType",g.encType,g,null),ar(r,i,"method",g.method,g,null),ar(r,i,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(l);break}h=ti(""+h),r.setAttribute(l,h);break;case"onClick":h!=null&&(r.onclick=Xi);break;case"onScroll":h!=null&&Tn("scroll",r);break;case"onScrollEnd":h!=null&&Tn("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}l=ti(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(l,""+h):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":h===!0?r.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(l,h):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(l,h):r.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(l):r.setAttribute(l,h);break;case"popover":Tn("beforetoggle",r),Tn("toggle",r),wr(r,"popover",h);break;case"xlinkActuate":Hs(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Hs(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Hs(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Hs(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Hs(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Hs(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Hs(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Hs(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Hs(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":wr(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ic.get(l)||l,wr(r,l,h))}}function Y0(r,i,l,h,g,w){switch(l){case"style":Cu(r,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof h=="string"?$i(r,h):(typeof h=="number"||typeof h=="bigint")&&$i(r,""+h);break;case"onScroll":h!=null&&Tn("scroll",r);break;case"onScrollEnd":h!=null&&Tn("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Xi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zn.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),w=r[Ln]||null,w=w!=null?w[l]:null,typeof w=="function"&&r.removeEventListener(i,w,g),typeof h=="function")){typeof w!="function"&&w!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,h,g);break e}l in r?r[l]=h:h===!0?r.setAttribute(l,""):wr(r,l,h)}}}function Qs(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tn("error",r),Tn("load",r);var h=!1,g=!1,w;for(w in l)if(l.hasOwnProperty(w)){var L=l[w];if(L!=null)switch(w){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ar(r,i,w,L,l,null)}}g&&ar(r,i,"srcSet",l.srcSet,l,null),h&&ar(r,i,"src",l.src,l,null);return;case"input":Tn("invalid",r);var ee=w=L=g=null,me=null,Re=null;for(h in l)if(l.hasOwnProperty(h)){var Ue=l[h];if(Ue!=null)switch(h){case"name":g=Ue;break;case"type":L=Ue;break;case"checked":me=Ue;break;case"defaultChecked":Re=Ue;break;case"value":w=Ue;break;case"defaultValue":ee=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(s(137,i));break;default:ar(r,i,h,Ue,l,null)}}Il(r,w,ee,me,Re,L,g,!1);return;case"select":Tn("invalid",r),h=L=w=null;for(g in l)if(l.hasOwnProperty(g)&&(ee=l[g],ee!=null))switch(g){case"value":w=ee;break;case"defaultValue":L=ee;break;case"multiple":h=ee;default:ar(r,i,g,ee,l,null)}i=w,l=L,r.multiple=!!h,i!=null?Ws(r,!!h,i,!1):l!=null&&Ws(r,!!h,l,!0);return;case"textarea":Tn("invalid",r),w=g=h=null;for(L in l)if(l.hasOwnProperty(L)&&(ee=l[L],ee!=null))switch(L){case"value":h=ee;break;case"defaultValue":g=ee;break;case"children":w=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(91));break;default:ar(r,i,L,ee,l,null)}Dc(r,h,g,w);return;case"option":for(me in l)if(l.hasOwnProperty(me)&&(h=l[me],h!=null))switch(me){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ar(r,i,me,h,l,null)}return;case"dialog":Tn("beforetoggle",r),Tn("toggle",r),Tn("cancel",r),Tn("close",r);break;case"iframe":case"object":Tn("load",r);break;case"video":case"audio":for(h=0;h<Cf.length;h++)Tn(Cf[h],r);break;case"image":Tn("error",r),Tn("load",r);break;case"details":Tn("toggle",r);break;case"embed":case"source":case"link":Tn("error",r),Tn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Re in l)if(l.hasOwnProperty(Re)&&(h=l[Re],h!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ar(r,i,Re,h,l,null)}return;default:if(Rc(i)){for(Ue in l)l.hasOwnProperty(Ue)&&(h=l[Ue],h!==void 0&&Y0(r,i,Ue,h,l,void 0));return}}for(ee in l)l.hasOwnProperty(ee)&&(h=l[ee],h!=null&&ar(r,i,ee,h,l,null))}function K4(r,i,l,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,w=null,L=null,ee=null,me=null,Re=null,Ue=null;for(Fe in l){var Ze=l[Fe];if(l.hasOwnProperty(Fe)&&Ze!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":me=Ze;default:h.hasOwnProperty(Fe)||ar(r,i,Fe,null,h,Ze)}}for(var Ie in h){var Fe=h[Ie];if(Ze=l[Ie],h.hasOwnProperty(Ie)&&(Fe!=null||Ze!=null))switch(Ie){case"type":w=Fe;break;case"name":g=Fe;break;case"checked":Re=Fe;break;case"defaultChecked":Ue=Fe;break;case"value":L=Fe;break;case"defaultValue":ee=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(s(137,i));break;default:Fe!==Ze&&ar(r,i,Ie,Fe,h,Ze)}}wo(r,L,ee,me,Re,Ue,w,g);return;case"select":Fe=L=ee=Ie=null;for(w in l)if(me=l[w],l.hasOwnProperty(w)&&me!=null)switch(w){case"value":break;case"multiple":Fe=me;default:h.hasOwnProperty(w)||ar(r,i,w,null,h,me)}for(g in h)if(w=h[g],me=l[g],h.hasOwnProperty(g)&&(w!=null||me!=null))switch(g){case"value":Ie=w;break;case"defaultValue":ee=w;break;case"multiple":L=w;default:w!==me&&ar(r,i,g,w,h,me)}i=ee,l=L,h=Fe,Ie!=null?Ws(r,!!l,Ie,!1):!!h!=!!l&&(i!=null?Ws(r,!!l,i,!0):Ws(r,!!l,l?[]:"",!1));return;case"textarea":Fe=Ie=null;for(ee in l)if(g=l[ee],l.hasOwnProperty(ee)&&g!=null&&!h.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:ar(r,i,ee,null,h,g)}for(L in h)if(g=h[L],w=l[L],h.hasOwnProperty(L)&&(g!=null||w!=null))switch(L){case"value":Ie=g;break;case"defaultValue":Fe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==w&&ar(r,i,L,g,h,w)}Oc(r,Ie,Fe);return;case"option":for(var jt in l)if(Ie=l[jt],l.hasOwnProperty(jt)&&Ie!=null&&!h.hasOwnProperty(jt))switch(jt){case"selected":r.selected=!1;break;default:ar(r,i,jt,null,h,Ie)}for(me in h)if(Ie=h[me],Fe=l[me],h.hasOwnProperty(me)&&Ie!==Fe&&(Ie!=null||Fe!=null))switch(me){case"selected":r.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:ar(r,i,me,Ie,h,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zt in l)Ie=l[Zt],l.hasOwnProperty(Zt)&&Ie!=null&&!h.hasOwnProperty(Zt)&&ar(r,i,Zt,null,h,Ie);for(Re in h)if(Ie=h[Re],Fe=l[Re],h.hasOwnProperty(Re)&&Ie!==Fe&&(Ie!=null||Fe!=null))switch(Re){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(s(137,i));break;default:ar(r,i,Re,Ie,h,Fe)}return;default:if(Rc(i)){for(var or in l)Ie=l[or],l.hasOwnProperty(or)&&Ie!==void 0&&!h.hasOwnProperty(or)&&Y0(r,i,or,void 0,h,Ie);for(Ue in h)Ie=h[Ue],Fe=l[Ue],!h.hasOwnProperty(Ue)||Ie===Fe||Ie===void 0&&Fe===void 0||Y0(r,i,Ue,Ie,h,Fe);return}}for(var ke in l)Ie=l[ke],l.hasOwnProperty(ke)&&Ie!=null&&!h.hasOwnProperty(ke)&&ar(r,i,ke,null,h,Ie);for(Ze in h)Ie=h[Ze],Fe=l[Ze],!h.hasOwnProperty(Ze)||Ie===Fe||Ie==null&&Fe==null||ar(r,i,Ze,Ie,h,Fe)}function w5(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J4(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var g=l[h],w=g.transferSize,L=g.initiatorType,ee=g.duration;if(w&&ee&&w5(L)){for(L=0,ee=g.responseEnd,h+=1;h<l.length;h++){var me=l[h],Re=me.startTime;if(Re>ee)break;var Ue=me.transferSize,Ze=me.initiatorType;Ue&&w5(Ze)&&(me=me.responseEnd,L+=Ue*(me<ee?1:(ee-Re)/(me-Re)))}if(--h,i+=8*(w+L)/(g.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var $0=null,X0=null;function c1(r){return r.nodeType===9?r:r.ownerDocument}function _5(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S5(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Z0(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Q0=null;function e_(){var r=window.event;return r&&r.type==="popstate"?r===Q0?!1:(Q0=r,!0):(Q0=null,!1)}var N5=typeof setTimeout=="function"?setTimeout:void 0,t_=typeof clearTimeout=="function"?clearTimeout:void 0,A5=typeof Promise=="function"?Promise:void 0,n_=typeof queueMicrotask=="function"?queueMicrotask:typeof A5<"u"?function(r){return A5.resolve(null).then(r).catch(r_)}:N5;function r_(r){setTimeout(function(){throw r})}function uc(r){return r==="head"}function T5(r,i){var l=i,h=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(h===0){r.removeChild(g),dh(i);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")jf(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,jf(l);for(var w=l.firstChild;w;){var L=w.nextSibling,ee=w.nodeName;w[Ye]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=L}}else l==="body"&&jf(r.ownerDocument.body);l=g}while(l);dh(i)}function C5(r,i){var l=r;r=0;do{var h=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=h}while(l)}function K0(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":K0(l),vt(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function s_(r,i,l,h){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Ye])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var w=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=Aa(r.nextSibling),r===null)break}return null}function i_(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Aa(r.nextSibling),r===null))return null;return r}function k5(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Aa(r.nextSibling),r===null))return null;return r}function J0(r){return r.data==="$?"||r.data==="$~"}function em(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function a_(r,i){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||l.readyState!=="loading")i();else{var h=function(){i(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function Aa(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var tm=null;function j5(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(i===0)return Aa(r.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}r=r.nextSibling}return null}function E5(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return r;i--}else l!=="/$"&&l!=="/&"||i++}r=r.previousSibling}return null}function M5(r,i,l){switch(i=c1(l),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function jf(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);vt(r)}var Ta=new Map,L5=new Set;function u1(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var wl=te.d;te.d={f:o_,r:l_,D:c_,C:u_,L:h_,m:f_,X:p_,S:d_,M:m_};function o_(){var r=wl.f(),i=t1();return r||i}function l_(r){var i=Rt(r);i!==null&&i.tag===5&&i.type==="form"?X2(i):wl.r(r)}var uh=typeof document>"u"?null:document;function O5(r,i,l){var h=uh;if(h&&typeof i=="string"&&i){var g=Lr(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),L5.has(g)||(L5.add(g),r={rel:r,crossOrigin:l,href:i},h.querySelector(g)===null&&(i=h.createElement("link"),Qs(i,"link",r),Wt(i),h.head.appendChild(i)))}}function c_(r){wl.D(r),O5("dns-prefetch",r,null)}function u_(r,i){wl.C(r,i),O5("preconnect",r,i)}function h_(r,i,l){wl.L(r,i,l);var h=uh;if(h&&r&&i){var g='link[rel="preload"][as="'+Lr(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Lr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Lr(l.imageSizes)+'"]')):g+='[href="'+Lr(r)+'"]';var w=g;switch(i){case"style":w=hh(r);break;case"script":w=fh(r)}Ta.has(w)||(r=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),Ta.set(w,r),h.querySelector(g)!==null||i==="style"&&h.querySelector(Ef(w))||i==="script"&&h.querySelector(Mf(w))||(i=h.createElement("link"),Qs(i,"link",r),Wt(i),h.head.appendChild(i)))}}function f_(r,i){wl.m(r,i);var l=uh;if(l&&r){var h=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Lr(h)+'"][href="'+Lr(r)+'"]',w=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=fh(r)}if(!Ta.has(w)&&(r=y({rel:"modulepreload",href:r},i),Ta.set(w,r),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Mf(w)))return}h=l.createElement("link"),Qs(h,"link",r),Wt(h),l.head.appendChild(h)}}}function d_(r,i,l){wl.S(r,i,l);var h=uh;if(h&&r){var g=mn(h).hoistableStyles,w=hh(r);i=i||"default";var L=g.get(w);if(!L){var ee={loading:0,preload:null};if(L=h.querySelector(Ef(w)))ee.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":i},l),(l=Ta.get(w))&&nm(r,l);var me=L=h.createElement("link");Wt(me),Qs(me,"link",r),me._p=new Promise(function(Re,Ue){me.onload=Re,me.onerror=Ue}),me.addEventListener("load",function(){ee.loading|=1}),me.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,h1(L,i,h)}L={type:"stylesheet",instance:L,count:1,state:ee},g.set(w,L)}}}function p_(r,i){wl.X(r,i);var l=uh;if(l&&r){var h=mn(l).hoistableScripts,g=fh(r),w=h.get(g);w||(w=l.querySelector(Mf(g)),w||(r=y({src:r,async:!0},i),(i=Ta.get(g))&&rm(r,i),w=l.createElement("script"),Wt(w),Qs(w,"link",r),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(g,w))}}function m_(r,i){wl.M(r,i);var l=uh;if(l&&r){var h=mn(l).hoistableScripts,g=fh(r),w=h.get(g);w||(w=l.querySelector(Mf(g)),w||(r=y({src:r,async:!0,type:"module"},i),(i=Ta.get(g))&&rm(r,i),w=l.createElement("script"),Wt(w),Qs(w,"link",r),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(g,w))}}function D5(r,i,l,h){var g=(g=ae.current)?u1(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=hh(l.href),l=mn(g).hoistableStyles,h=l.get(i),h||(h={type:"style",instance:null,count:0,state:null},l.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=hh(l.href);var w=mn(g).hoistableStyles,L=w.get(r);if(L||(g=g.ownerDocument||g,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,L),(w=g.querySelector(Ef(r)))&&!w._p&&(L.instance=w,L.state.loading=5),Ta.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ta.set(r,l),w||g_(g,r,l,L.state))),i&&h===null)throw Error(s(528,""));return L}if(i&&h!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fh(l),l=mn(g).hoistableScripts,h=l.get(i),h||(h={type:"script",instance:null,count:0,state:null},l.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function hh(r){return'href="'+Lr(r)+'"'}function Ef(r){return'link[rel="stylesheet"]['+r+"]"}function R5(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function g_(r,i,l,h){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=r.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),Qs(i,"link",l),Wt(i),r.head.appendChild(i))}function fh(r){return'[src="'+Lr(r)+'"]'}function Mf(r){return"script[async]"+r}function I5(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var h=r.querySelector('style[data-href~="'+Lr(l.href)+'"]');if(h)return i.instance=h,Wt(h),h;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Wt(h),Qs(h,"style",g),h1(h,l.precedence,r),i.instance=h;case"stylesheet":g=hh(l.href);var w=r.querySelector(Ef(g));if(w)return i.state.loading|=4,i.instance=w,Wt(w),w;h=R5(l),(g=Ta.get(g))&&nm(h,g),w=(r.ownerDocument||r).createElement("link"),Wt(w);var L=w;return L._p=new Promise(function(ee,me){L.onload=ee,L.onerror=me}),Qs(w,"link",h),i.state.loading|=4,h1(w,l.precedence,r),i.instance=w;case"script":return w=fh(l.src),(g=r.querySelector(Mf(w)))?(i.instance=g,Wt(g),g):(h=l,(g=Ta.get(w))&&(h=y({},l),rm(h,g)),r=r.ownerDocument||r,g=r.createElement("script"),Wt(g),Qs(g,"link",h),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,h1(h,l.precedence,r));return i.instance}function h1(r,i,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,w=g,L=0;L<h.length;L++){var ee=h[L];if(ee.dataset.precedence===i)w=ee;else if(w!==g)break}w?w.parentNode.insertBefore(r,w.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function nm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function rm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var f1=null;function V5(r,i,l){if(f1===null){var h=new Map,g=f1=new Map;g.set(l,h)}else g=f1,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(r))return h;for(h.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var w=l[g];if(!(w[Ye]||w[Mn]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var L=w.getAttribute(i)||"";L=r+L;var ee=h.get(L);ee?ee.push(w):h.set(L,[w])}}return h}function F5(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function b_(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function B5(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function v_(r,i,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=hh(h.href),w=i.querySelector(Ef(g));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=d1.bind(r),i.then(r,r)),l.state.loading|=4,l.instance=w,Wt(w);return}w=i.ownerDocument||i,h=R5(h),(g=Ta.get(g))&&nm(h,g),w=w.createElement("link"),Wt(w);var L=w;L._p=new Promise(function(ee,me){L.onload=ee,L.onerror=me}),Qs(w,"link",h),l.instance=w}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=d1.bind(r),i.addEventListener("load",l),i.addEventListener("error",l))}}var sm=0;function y_(r,i){return r.stylesheets&&r.count===0&&m1(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var h=setTimeout(function(){if(r.stylesheets&&m1(r,r.stylesheets),r.unsuspend){var w=r.unsuspend;r.unsuspend=null,w()}},6e4+i);0<r.imgBytes&&sm===0&&(sm=62500*J4());var g=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&m1(r,r.stylesheets),r.unsuspend)){var w=r.unsuspend;r.unsuspend=null,w()}},(r.imgBytes>sm?50:800)+i);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function d1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)m1(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var p1=null;function m1(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,p1=new Map,i.forEach(x_,r),p1=null,d1.call(r))}function x_(r,i){if(!(i.state.loading&4)){var l=p1.get(r);if(l)var h=l.get(null);else{l=new Map,p1.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<g.length;w++){var L=g[w];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(l.set(L.dataset.precedence,L),h=L)}h&&l.set(null,h)}g=i.instance,L=g.getAttribute("data-precedence"),w=l.get(L)||h,w===h&&l.set(null,g),l.set(L,g),this.count++,h=d1.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),w?w.parentNode.insertBefore(g,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var Lf={$$typeof:D,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function w_(r,i,l,h,g,w,L,ee,me){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=At(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.hiddenUpdates=At(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=w,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function z5(r,i,l,h,g,w,L,ee,me,Re,Ue,Ze){return r=new w_(r,i,l,L,me,Re,Ue,Ze,ee),i=1,w===!0&&(i|=24),w=Os(3,null,null,i),r.current=w,w.stateNode=r,i=Kl(),i.refCount++,r.pooledCache=i,i.refCount++,w.memoizedState={element:h,isDehydrated:l,cache:i},mt(w),r}function P5(r){return r?(r=Ss,r):Ss}function q5(r,i,l,h,g,w){g=P5(g),h.context===null?h.context=g:h.pendingContext=g,h=$t(i),h.payload={element:l},w=w===void 0?null:w,w!==null&&(h.callback=w),l=pn(r,h,i),l!==null&&(Bi(l,r,i),Gn(l,r,i))}function U5(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function im(r,i){U5(r,i),(r=r.alternate)&&U5(r,i)}function H5(r){if(r.tag===13||r.tag===31){var i=Za(r,67108864);i!==null&&Bi(i,r,67108864),im(r,67108864)}}function W5(r){if(r.tag===13||r.tag===31){var i=sa();i=Gt(i);var l=Za(r,i);l!==null&&Bi(l,r,i),im(r,i)}}var g1=!0;function __(r,i,l,h){var g=$.T;$.T=null;var w=te.p;try{te.p=2,am(r,i,l,h)}finally{te.p=w,$.T=g}}function S_(r,i,l,h){var g=$.T;$.T=null;var w=te.p;try{te.p=8,am(r,i,l,h)}finally{te.p=w,$.T=g}}function am(r,i,l,h){if(g1){var g=om(h);if(g===null)G0(r,i,h,b1,l),Y5(r,h);else if(A_(g,r,i,l,h))h.stopPropagation();else if(Y5(r,h),i&4&&-1<N_.indexOf(r)){for(;g!==null;){var w=Rt(g);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var L=_e(w.pendingLanes);if(L!==0){var ee=w;for(ee.pendingLanes|=2,ee.entangledLanes|=2;L;){var me=1<<31-Tt(L);ee.entanglements[1]|=me,L&=~me}Fo(w),($n&6)===0&&(Jd=ze()+500,Tf(0))}}break;case 31:case 13:ee=Za(w,2),ee!==null&&Bi(ee,w,2),t1(),im(w,2)}if(w=om(h),w===null&&G0(r,i,h,b1,l),w===g)break;g=w}g!==null&&h.stopPropagation()}else G0(r,i,h,null,l)}}function om(r){return r=Qo(r),lm(r)}var b1=null;function lm(r){if(b1=null,r=Bt(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=u(i),r!==null)return r;r=null}else if(l===31){if(r=c(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return b1=r,null}function G5(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case tt:return 2;case ht:return 8;case yt:case dt:return 32;case xt:return 268435456;default:return 32}default:return 32}}var cm=!1,hc=null,fc=null,dc=null,Of=new Map,Df=new Map,pc=[],N_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y5(r,i){switch(r){case"focusin":case"focusout":hc=null;break;case"dragenter":case"dragleave":fc=null;break;case"mouseover":case"mouseout":dc=null;break;case"pointerover":case"pointerout":Of.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Df.delete(i.pointerId)}}function Rf(r,i,l,h,g,w){return r===null||r.nativeEvent!==w?(r={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},i!==null&&(i=Rt(i),i!==null&&H5(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function A_(r,i,l,h,g){switch(i){case"focusin":return hc=Rf(hc,r,i,l,h,g),!0;case"dragenter":return fc=Rf(fc,r,i,l,h,g),!0;case"mouseover":return dc=Rf(dc,r,i,l,h,g),!0;case"pointerover":var w=g.pointerId;return Of.set(w,Rf(Of.get(w)||null,r,i,l,h,g)),!0;case"gotpointercapture":return w=g.pointerId,Df.set(w,Rf(Df.get(w)||null,r,i,l,h,g)),!0}return!1}function $5(r){var i=Bt(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){r.blockedOn=i,Vn(r.priority,function(){W5(l)});return}}else if(i===31){if(i=c(l),i!==null){r.blockedOn=i,Vn(r.priority,function(){W5(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function v1(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=om(r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Oa=h,l.target.dispatchEvent(h),Oa=null}else return i=Rt(l),i!==null&&H5(i),r.blockedOn=l,!1;i.shift()}return!0}function X5(r,i,l){v1(r)&&l.delete(i)}function T_(){cm=!1,hc!==null&&v1(hc)&&(hc=null),fc!==null&&v1(fc)&&(fc=null),dc!==null&&v1(dc)&&(dc=null),Of.forEach(X5),Df.forEach(X5)}function y1(r,i){r.blockedOn===i&&(r.blockedOn=null,cm||(cm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,T_)))}var x1=null;function Z5(r){x1!==r&&(x1=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){x1===r&&(x1=null);for(var i=0;i<r.length;i+=3){var l=r[i],h=r[i+1],g=r[i+2];if(typeof h!="function"){if(lm(h||l)===null)continue;break}var w=Rt(l);w!==null&&(r.splice(i,3),i-=3,o0(w,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function dh(r){function i(me){return y1(me,r)}hc!==null&&y1(hc,r),fc!==null&&y1(fc,r),dc!==null&&y1(dc,r),Of.forEach(i),Df.forEach(i);for(var l=0;l<pc.length;l++){var h=pc[l];h.blockedOn===r&&(h.blockedOn=null)}for(;0<pc.length&&(l=pc[0],l.blockedOn===null);)$5(l),l.blockedOn===null&&pc.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],w=l[h+1],L=g[Ln]||null;if(typeof w=="function")L||Z5(l);else if(L){var ee=null;if(w&&w.hasAttribute("formAction")){if(g=w,L=w[Ln]||null)ee=L.formAction;else if(lm(g)!==null)continue}else ee=L.action;typeof ee=="function"?l[h+1]=ee:(l.splice(h,3),h-=3),Z5(l)}}}function Q5(){function r(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(L){return g=L})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function um(r){this._internalRoot=r}w1.prototype.render=um.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,h=sa();q5(l,h,r,i,null,null)},w1.prototype.unmount=um.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;q5(r.current,2,null,r,null,null),t1(),i[hr]=null}};function w1(r){this._internalRoot=r}w1.prototype.unstable_scheduleHydration=function(r){if(r){var i=dn();r={blockedOn:null,target:r,priority:i};for(var l=0;l<pc.length&&i!==0&&i<pc[l].priority;l++);pc.splice(l,0,r),l===0&&$5(r)}};var K5=e.version;if(K5!=="19.2.0")throw Error(s(527,K5,"19.2.0"));te.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=d(i),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var C_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_1.isDisabled&&_1.supportsFiber)try{Xt=_1.inject(C_),Nt=_1}catch{}}return Vf.createRoot=function(r,i){if(!a(r))throw Error(s(299));var l=!1,h="",g=ib,w=ab,L=ob;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(L=i.onRecoverableError)),i=z5(r,1,!1,null,null,l,h,null,g,w,L,Q5),r[hr]=i.current,W0(r),new um(i)},Vf.hydrateRoot=function(r,i,l){if(!a(r))throw Error(s(299));var h=!1,g="",w=ib,L=ab,ee=ob,me=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(ee=l.onRecoverableError),l.formState!==void 0&&(me=l.formState)),i=z5(r,1,!0,i,l??null,h,g,me,w,L,ee,Q5),i.context=P5(null),l=i.current,h=sa(),h=Gt(h),g=$t(h),g.callback=null,pn(l,g,h),l=h,i.current.lanes=l,ot(i,l),Fo(i),r[hr]=i.current,W0(r),new w1(i)},Vf.version="19.2.0",Vf}var lv;function V_(){if(lv)return dm.exports;lv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dm.exports=I_(),dm.exports}var F_=V_();const cv=n=>{let e;const t=new Set,s=(d,p)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const _=e;e=p??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(b=>b(e,_))}},a=()=>e,c={setState:s,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=n(s,a,c);return c},B_=(n=>n?cv(n):cv),z_=n=>n;function P_(n,e=z_){const t=Xn.useSyncExternalStore(n.subscribe,Xn.useCallback(()=>e(n.getState()),[n,e]),Xn.useCallback(()=>e(n.getInitialState()),[n,e]));return Xn.useDebugValue(t),t}const q_=n=>{const e=B_(n),t=s=>P_(e,s);return Object.assign(t,e),t},U_=(n=>q_);function H_(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var o;const u=f=>f===null?null:JSON.parse(f,void 0),c=(o=t.getItem(a))!=null?o:null;return c instanceof Promise?c.then(u):u(c)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const Wm=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(s){return Wm(s)(t)},catch(s){return this}}}catch(t){return{then(s){return this},catch(s){return Wm(s)(t)}}}},W_=(n,e)=>(t,s,a)=>{let o={storage:H_(()=>localStorage),partialize:N=>N,version:0,merge:(N,k)=>({...k,...N}),...e},u=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return n((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...N)},s,a);const p=()=>{const N=o.partialize({...s()});return d.setItem(o.name,{state:N,version:o.version})},y=a.setState;a.setState=(N,k)=>(y(N,k),p());const _=n((...N)=>(t(...N),p()),s,a);a.getInitialState=()=>_;let b;const A=()=>{var N,k;if(!d)return;u=!1,c.forEach(R=>{var D;return R((D=s())!=null?D:_)});const C=((k=o.onRehydrateStorage)==null?void 0:k.call(o,(N=s())!=null?N:_))||void 0;return Wm(d.getItem.bind(d))(o.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==o.version){if(o.migrate){const D=o.migrate(R.state,R.version);return D instanceof Promise?D.then(I=>[!0,I]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var D;const[I,F]=R;if(b=o.merge(F,(D=s())!=null?D:_),t(b,!0),I)return p()}).then(()=>{C?.(b,void 0),b=s(),u=!0,f.forEach(R=>R(b))}).catch(R=>{C?.(void 0,R)})};return a.persist={setOptions:N=>{o={...o,...N},N.storage&&(d=N.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>A(),hasHydrated:()=>u,onHydrate:N=>(c.add(N),()=>{c.delete(N)}),onFinishHydration:N=>(f.add(N),()=>{f.delete(N)})},o.skipHydration||A(),b||_},G_=W_,Tl=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Hf=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],Y_=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}],$_={major:"",maj:"",minor:"m",diminished:"",dim:"",augmented:"+",major7:"maj7",minor7:"m7",dominant7:"7",halfDiminished7:"m75",sus2:"sus2",sus4:"sus4",dominant9:"9",dominant11:"11",dominant13:"13",major9:"maj9",minor9:"m9",add9:"add9",6:"6",m6:"m6","7sus4":"7sus4",dominant7sus4:"7sus4"};function Nh(n){return $_[n]??n}function Lh(n){return n.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[n]||n}const X_={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},Z_={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function ka(n,e){const t=Lh(n),s=Tl.indexOf(t);if(s===-1)return[];const a=X_[e]||e,o=Z_[a];return o?o.map(u=>Tl[(s+u)%12]):(console.warn(`Unknown chord quality: ${e} (resolved to ${a})`),Tl.slice(s,s+1).concat([Tl[(s+4)%12],Tl[(s+7)%12]]))}function su(n,e){if(!n||n.length===0)return n;const t=n.length-1,s=Math.max(0,Math.min(e,t));return s===0?n:[...n.slice(s),...n.slice(0,s)]}function Q_(n){return Math.max(0,(n?.length||1)-1)}function K_(n){return["Root","1st","2nd","3rd","4th","5th","6th"][n]||`${n}th`}function uv(n,e,t,s){const o=`${n}${e==="major"||e==="maj"?"":e}`;if(!s||s===0||!t||t.length===0)return o;const u=t[s%t.length];return`${o}/${u}`}function J_(n){const e=["G","D","A","E","B","F#","C#"],t=["F","Bb","Eb","Ab","Db","Gb","Cb"],s=e.indexOf(n),a=t.indexOf(n);return s>=0?{sharps:s+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function pd(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function eS(n,e){const t=Lh(n),s=Lh(e),a=Tl.indexOf(t),o=Tl.indexOf(s);if(a===-1||o===-1)return"?";let u=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[u]||"?"}function lr(n){return n&&n.replace(/([A-G])b/g,"$1")}const Ks=[];for(let n=0;n<256;++n)Ks.push((n+256).toString(16).slice(1));function tS(n,e=0){return(Ks[n[e+0]]+Ks[n[e+1]]+Ks[n[e+2]]+Ks[n[e+3]]+"-"+Ks[n[e+4]]+Ks[n[e+5]]+"-"+Ks[n[e+6]]+Ks[n[e+7]]+"-"+Ks[n[e+8]]+Ks[n[e+9]]+"-"+Ks[n[e+10]]+Ks[n[e+11]]+Ks[n[e+12]]+Ks[n[e+13]]+Ks[n[e+14]]+Ks[n[e+15]]).toLowerCase()}let bm;const nS=new Uint8Array(16);function rS(){if(!bm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bm=crypto.getRandomValues.bind(crypto)}return bm(nS)}const sS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hv={randomUUID:sS};function iS(n,e,t){n=n||{};const s=n.random??n.rng?.()??rS();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,tS(s)}function Vs(n,e,t){return hv.randomUUID&&!n?hv.randomUUID():iS(n)}function fv(n){if(n.length===0)return"intro";const e=n.map(o=>o.type),t=e[e.length-1],s=e.slice(-4),a=e.reduce((o,u)=>(o[u]=(o[u]||0)+1,o),{});if(t==="intro")return"verse";if(s.length>=4){const[o,u,c,f]=s;if(o==="verse"&&u==="chorus"&&c==="verse"&&f==="chorus"||o==="chorus"&&u==="verse"&&c==="chorus"&&f==="verse")return"bridge"}if(t==="bridge"||t==="verse")return"chorus";if(t==="chorus"){const o=e.includes("bridge"),u=a.chorus||0;return o&&u>=3?"outro":"verse"}return t==="outro"?"verse":t==="pre-chorus"||t==="interlude"||t==="solo"||t==="breakdown"?"chorus":"verse"}const Fs=[4,4],qf=(n=Fs)=>{const[e,t]=n;return!e||!t?4:e*(4/t)},lu=n=>{const e=qf(n);return{id:Vs(),beats:[{id:Vs(),chord:null,duration:e}]}},Bo=n=>n?`${n.sectionId}:${n.slotId}`:"",jg=n=>{const e=[];return n.forEach(t=>{t.measures.forEach(s=>{s.beats.forEach(a=>{e.push({sectionId:t.id,slotId:a.id,chord:a.chord??null})})})}),e},iu=(n,e)=>{if(!e)return null;for(const t of n)if(t.id===e.sectionId){for(const s of t.measures)for(const a of s.beats)if(a.id===e.slotId)return a.chord??null}return null},dv=(n,e)=>e?jg(n).findIndex(s=>s.sectionId===e.sectionId&&s.slotId===e.slotId):-1,aS=(n,e,t)=>{const s=jg(n),a=s.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId),o=s.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId);if(a===-1||o===-1)return[];const[u,c]=a<=o?[a,o]:[o,a];return s.slice(u,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},z1=(n,e)=>e?n.some(t=>t.id===e.sectionId&&t.measures.some(s=>s.beats.some(a=>a.id===e.slotId))):!1,au=(n,e,t,s,a)=>{const o=e&&t?{sectionId:e,slotId:t}:null,u=s.filter(p=>z1(n,p)),c=z1(n,o),f=u[u.length-1]||(c?o:null),d=a&&z1(n,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:u,selectionAnchor:d?a:u[0]??f??null}},Gm=100,Uf=n=>typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n)),Vr=n=>{const e=Uf(n.currentSong),t=[...n.historyPast,e].slice(-Gm);return{historyPast:t,historyFuture:[],canUndo:t.length>0,canRedo:!1}},pv=(n,e,t,s,a)=>{const o=au(n.sections,e,t,s,a),u=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=u?iu(n.sections,u):null;return{...o,selectedChord:c}},oS=(n,e,t)=>{let s=!1;for(const a of n)for(const o of a.measures)for(const u of o.beats){if(s)return{sectionId:a.id,slotId:u.id};a.id===e&&u.id===t&&(s=!0)}return null},Ff={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:Fs,measures:Array(4).fill(null).map(()=>lu(Fs))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:Fs,measures:Array(4).fill(null).map(()=>lu(Fs))}],notes:"",createdAt:new Date,updatedAt:new Date},vm={root:"C",quality:"major",numeral:"I",notes:["C","E","G"],symbol:"C"},sn=U_()(G_(n=>({currentSong:Ff,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,songMapVisible:!1,songInfoModalVisible:!1,collapsedSections:{},chordPanelGuitarExpanded:!1,chordPanelVoicingsExpanded:!1,chordPanelAttention:!1,selectedChord:vm,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,playingSectionId:null,playingSlotId:null,isLooping:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:e=>n({selectedKey:e}),rotateWheel:e=>n(t=>({wheelRotation:t.wheelMode==="rotating"?t.wheelRotation+(e==="cw"?-30:30):0})),toggleWheelMode:()=>n(e=>{const t=e.wheelMode==="rotating"?"fixed":"rotating";let s=0;if(t==="rotating"){const a=Hf.indexOf(e.selectedKey);a!==-1&&(s=-(a*30))}return{wheelMode:t,wheelRotation:s}}),toggleChordPanel:()=>n(e=>({chordPanelVisible:!e.chordPanelVisible})),toggleTimeline:()=>n(e=>({timelineVisible:!e.timelineVisible})),openTimeline:()=>n(e=>{if(typeof window<"u"&&window.dispatchEvent(new CustomEvent("openMobileTimeline")),!e.selectedSectionId||!e.selectedSlotId){const t=e.currentSong.sections;if(t.length>0){const s=e.selectedSectionId&&t.find(a=>a.id===e.selectedSectionId)||t[0];if(s.measures.length>0&&s.measures[0].beats.length>0){const a=s.measures[0].beats[0],o={sectionId:s.id,slotId:a.id},u=a.chord??null;return{timelineVisible:!0,selectedSectionId:s.id,selectedSlotId:a.id,selectedSlots:[o],selectionAnchor:o,selectedChord:u}}}}return{timelineVisible:!0}}),toggleSongMap:e=>n(t=>({songMapVisible:e!==void 0?e:!t.songMapVisible})),toggleSongInfoModal:e=>n(t=>({songInfoModalVisible:e!==void 0?e:!t.songInfoModalVisible})),toggleSectionCollapsed:e=>n(t=>{const s={...t.collapsedSections,[e]:!t.collapsedSections?.[e]};return s[e]||delete s[e],{collapsedSections:s}}),setChordPanelGuitarExpanded:e=>n({chordPanelGuitarExpanded:e}),setChordPanelVoicingsExpanded:e=>n({chordPanelVoicingsExpanded:e}),pulseChordPanel:()=>{n({chordPanelAttention:!0}),setTimeout(()=>n({chordPanelAttention:!1}),600)},setSelectedChord:e=>n({selectedChord:e}),setSelectedSlot:(e,t)=>n(s=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:e,slotId:t},o=iu(s.currentSong.sections,a);return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),selectSlotOnly:(e,t)=>n(()=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null};const s={sectionId:e,slotId:t};return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[s],selectionAnchor:s}}),setSelectedSlots:e=>n(t=>{const s=e.filter(Boolean),a=s[s.length-1]??null,o=iu(t.currentSong.sections,a);return{selectedSlots:s,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:s[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(e,t)=>n(s=>{const a=s.selectedSlots.some(d=>d.sectionId===e&&d.slotId===t),o=a?s.selectedSlots.filter(d=>!(d.sectionId===e&&d.slotId===t)):[...s.selectedSlots,{sectionId:e,slotId:t}],u=o[o.length-1]??null,c=iu(s.currentSong.sections,u),f=a&&s.selectionAnchor&&Bo(s.selectionAnchor)===Bo({sectionId:e,slotId:t});return{selectedSlots:o,selectedSectionId:u?.sectionId??null,selectedSlotId:u?.slotId??null,selectionAnchor:f?o[0]??u??null:s.selectionAnchor??u??null,selectedChord:c??null}}),selectRangeTo:(e,t)=>n(s=>{const a={sectionId:e,slotId:t},o=s.selectionAnchor||s.selectedSlots[s.selectedSlots.length-1]||(s.selectedSectionId&&s.selectedSlotId?{sectionId:s.selectedSectionId,slotId:s.selectedSlotId}:a),c=z1(s.currentSong.sections,o)?o:a,f=aS(s.currentSong.sections,c,a),d=f.length?f:[a],p=iu(s.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:p??null}}),moveSelection:(e,t,s="move")=>{let a=!1;return n(o=>{const u=jg(o.currentSong.sections),c=dv(o.currentSong.sections,e),f=dv(o.currentSong.sections,t);if(c===-1||f===-1)return{};const p=(o.selectedSlots.length?o.selectedSlots:[e]).map(O=>{const B=u.findIndex(K=>K.sectionId===O.sectionId&&K.slotId===O.slotId);return B>=0?{idx:B,slot:u[B]}:null}).filter(O=>!!O).sort((O,B)=>O.idx-B.idx);if(!p.length)return{};const y=f-c,_=p.map(({idx:O})=>O+y);if(_.some(O=>O<0||O>=u.length))return{};const b=_.map(O=>u[O]);if(p.length===1&&s==="move"){const O=p[0].slot,B=b[0],K=Vr(o),j=o.currentSong.sections.map($=>({...$,measures:$.measures.map(te=>({...te,beats:te.beats.map(le=>le.id===O.slotId&&$.id===O.sectionId?{...le,chord:B.chord}:le.id===B.slotId&&$.id===B.sectionId?{...le,chord:O.chord}:le)}))}));a=!0;const V=o.selectionAnchor&&Bo(o.selectionAnchor)===Bo(e),ne=au(j,t.sectionId,t.slotId,[{sectionId:B.sectionId,slotId:B.slotId}],V?{sectionId:B.sectionId,slotId:B.slotId}:o.selectionAnchor),W=ne.selectedSectionId&&ne.selectedSlotId?{sectionId:ne.selectedSectionId,slotId:ne.selectedSlotId}:null,oe=iu(j,W);return{...K,currentSong:{...o.currentSong,sections:j},selectedSectionId:ne.selectedSectionId,selectedSlotId:ne.selectedSlotId,selectedSlots:ne.selectedSlots,selectionAnchor:ne.selectionAnchor,selectedChord:oe??null}}const A=new Map;p.forEach((O,B)=>{A.set(Bo(b[B]),O.slot.chord??null)});const N=new Set;s==="move"&&p.forEach((O,B)=>{const K=Bo(O.slot),j=Bo(b[B]);K!==j&&N.add(K)});const k=Vr(o),C=o.currentSong.sections.map(O=>({...O,measures:O.measures.map(B=>({...B,beats:B.beats.map(K=>{const j=Bo({sectionId:O.id,slotId:K.id});return A.has(j)?{...K,chord:A.get(j)??null}:N.has(j)?{...K,chord:null}:K})}))}));a=!0;const R=Bo(o.selectionAnchor),D=p.find(O=>Bo(O.slot)===R),I=D?{sectionId:b[p.indexOf(D)].sectionId,slotId:b[p.indexOf(D)].slotId}:o.selectionAnchor,F=au(C,t.sectionId,t.slotId,b.map(O=>({sectionId:O.sectionId,slotId:O.slotId})),I??null),Y=F.selectedSectionId&&F.selectedSlotId?{sectionId:F.selectedSectionId,slotId:F.selectedSlotId}:null,G=iu(C,Y);return{...k,currentSong:{...o.currentSong,sections:C},selectedSectionId:F.selectedSectionId,selectedSlotId:F.selectedSlotId,selectedSlots:F.selectedSlots,selectionAnchor:F.selectionAnchor,selectedChord:G??null}}),a},selectNextSlotAfter:(e,t)=>{let s=!1;return n(a=>{const o=oS(a.currentSong.sections,e,t);if(!o)return{};const u=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return s=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:u,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),s},setTempo:e=>n(t=>({...Vr(t),tempo:e,currentSong:{...t.currentSong,tempo:e}})),setVolume:e=>n({volume:e}),setInstrument:e=>n({instrument:e}),setIsPlaying:e=>n({isPlaying:e}),setPlayingSlot:(e,t)=>n({playingSectionId:e,playingSlotId:t}),toggleLoop:()=>n(e=>({isLooping:!e.isLooping})),toggleMute:()=>n(e=>({isMuted:!e.isMuted})),setTitle:e=>n(t=>({...Vr(t),currentSong:{...t.currentSong,title:e}})),setArtist:e=>n(t=>({...Vr(t),currentSong:{...t.currentSong,artist:e}})),setTags:e=>n(t=>({...Vr(t),currentSong:{...t.currentSong,tags:e}})),loadSong:e=>n(t=>{const s=e.key||"C",a=e.tempo??Ff.tempo;let o=0;if(t.wheelMode==="rotating"){const c=Hf.indexOf(s);c!==-1&&(o=-(c*30))}return{...Vr(t),currentSong:{...e,tempo:a},selectedKey:s,wheelRotation:o,selectedChord:vm,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>n(e=>({...Vr(e),currentSong:{...Ff,id:Vs(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:Ff.tempo,sections:[{id:Vs(),name:"Verse 1",type:"verse",timeSignature:Fs,measures:Array(4).fill(null).map(()=>lu(Fs))},{id:Vs(),name:"Chorus",type:"chorus",timeSignature:Fs,measures:Array(4).fill(null).map(()=>lu(Fs))}]},selectedKey:"C",wheelRotation:0,selectedChord:vm,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:Ff.tempo})),addSection:e=>n(t=>{const s={id:Vs(),name:e.charAt(0).toUpperCase()+e.slice(1),type:e,timeSignature:t.currentSong.timeSignature||Fs,measures:Array(4).fill(null).map(()=>lu(t.currentSong.timeSignature||Fs))};return{...Vr(t),currentSong:{...t.currentSong,sections:[...t.currentSong.sections,s]}}}),addSuggestedSection:()=>n(e=>{const t=fv(e.currentSong.sections),s={id:Vs(),name:t.charAt(0).toUpperCase()+t.slice(1),type:t,timeSignature:e.currentSong.timeSignature||Fs,measures:Array(4).fill(null).map(()=>lu(e.currentSong.timeSignature||Fs))};return{...Vr(e),currentSong:{...e.currentSong,sections:[...e.currentSong.sections,s]}}}),addCustomSection:(e,t,s,a)=>n(o=>{const u=o.currentSong.timeSignature||Fs,c=qf(u),f=a?.beatsPerChord??4,d=c/f;let p;a?.totalBars?p=a.totalBars:d>=1?p=Math.ceil(s.length/d):p=s.length*Math.ceil(1/d);const y=[];if(d>=1)for(let k=0;k<p;k++){const C=[];for(let R=0;R<d;R++){const D=Math.floor(k*d+R);C.push({id:Vs(),chord:s[D]||null,duration:f})}y.push({id:Vs(),beats:C})}else for(let k=0;k<p;k++)y.push({id:Vs(),beats:[{id:Vs(),chord:s[k]||null,duration:c}]});const _={id:Vs(),name:e,type:t,timeSignature:u,measures:y},b=Vr(o),A=y[0]?.beats[0]?.id,N=y[0]?.beats[0]?.chord??null;return{...b,currentSong:{...o.currentSong,sections:[...o.currentSong.sections,_]},selectedSectionId:_.id,selectedSlotId:A??null,selectedSlots:A?[{sectionId:_.id,slotId:A}]:[],selectionAnchor:A?{sectionId:_.id,slotId:A}:null,selectedChord:N}}),getSuggestedSectionType:()=>{const e=sn.getState();return fv(e.currentSong.sections)},updateSection:(e,t)=>n(s=>({...Vr(s),currentSong:{...s.currentSong,sections:s.currentSong.sections.map(o=>o.id===e?{...o,...t}:o)}})),removeSection:e=>n(t=>{const s=Vr(t),{[e]:a,...o}=t.collapsedSections||{};return{...s,currentSong:{...t.currentSong,sections:t.currentSong.sections.filter(u=>u.id!==e)},collapsedSections:o}}),clearSection:e=>n(t=>{const s=t.currentSong.sections.find(c=>c.id===e);if(!s)return{};if(!s.measures.some(c=>c.beats.some(f=>f.chord!==null)))return{};const o=Vr(t),u=t.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>({...d,chord:null}))}))});return{...o,currentSong:{...t.currentSong,sections:u}}}),duplicateSection:e=>n(t=>{const s=t.currentSong.sections.find(f=>f.id===e);if(!s)return{};const a=Vr(t),o={...s,id:Vs(),name:`${s.name} (Copy)`,timeSignature:s.timeSignature||t.currentSong.timeSignature||Fs,measures:s.measures.map(f=>({...f,id:Vs(),beats:f.beats.map(d=>({...d,id:Vs()}))}))},u=t.currentSong.sections.findIndex(f=>f.id===e),c=[...t.currentSong.sections];return c.splice(u+1,0,o),{...a,currentSong:{...t.currentSong,sections:c}}}),reorderSections:e=>n(t=>({...Vr(t),currentSong:{...t.currentSong,sections:e}})),setSectionMeasures:(e,t)=>n(s=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=s.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||s.currentSong.timeSignature||Fs;let p=[...f.measures];if(p.length<a)for(;p.length<a;)p.push(lu(d));else p.length>a&&(p=p.slice(0,a));return{...f,measures:p}}),u=au(o,s.selectedSectionId,s.selectedSlotId,s.selectedSlots,s.selectionAnchor);return{...Vr(s),currentSong:{...s.currentSong,sections:o},...u}}),setSectionTimeSignature:(e,t)=>n(s=>{const a=s.currentSong.sections.map(c=>{if(c.id!==e)return c;const f=qf(t);return{...c,timeSignature:t,measures:c.measures.map(d=>({...d,beats:[{id:Vs(),chord:null,duration:f}]}))}}),o=au(a,s.selectedSectionId,s.selectedSlotId,s.selectedSlots,s.selectionAnchor);return{...Vr(s),currentSong:{...s.currentSong,sections:a},...o}}),setMeasureSubdivision:(e,t,s)=>n(a=>{const o=Math.max(1,Math.min(32,Math.round(s))),u=a.currentSong.sections.map(d=>{if(d.id!==e)return d;const p=d.timeSignature||a.currentSong.timeSignature||Fs,y=qf(p);return{...d,measures:d.measures.map(_=>{if(_.id!==t)return _;const b=y/o,A=Array.from({length:o}).map((N,k)=>{const C=_.beats[k];return{id:C?.id??Vs(),chord:C?.chord??null,duration:b}});return{..._,beats:A}})}}),c=au(u,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...Vr(a),currentSong:{...a.currentSong,sections:u},...c}}),setSectionSubdivision:(e,t)=>n(s=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=s.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||s.currentSong.timeSignature||Fs,y=qf(d)/a;return{...f,measures:f.measures.map(_=>{const b=Array.from({length:a}).map((A,N)=>{const k=_.beats[N];return{id:k?.id??Vs(),chord:k?.chord??null,duration:y}});return{..._,beats:b}})}}),u=au(o,s.selectedSectionId,s.selectedSlotId,s.selectedSlots,s.selectionAnchor);return{...Vr(s),currentSong:{...s.currentSong,sections:o},...u}}),addChordToSlot:(e,t,s)=>n(a=>{const o=Vr(a),u=a.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==s?d:{...d,chord:e})}))});return{...o,currentSong:{...a.currentSong,sections:u}}}),clearSlot:(e,t)=>n(s=>{if(!s.currentSong.sections.some(c=>c.id===e&&c.measures.some(f=>f.beats.some(d=>d.id===t&&d.chord))))return{};const o=Vr(s),u=s.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==t?d:{...d,chord:null})}))});return{...o,currentSong:{...s.currentSong,sections:u}}}),clearTimeline:()=>n(e=>{if(!e.currentSong.sections.some(o=>o.measures.some(u=>u.beats.some(c=>c.chord!==null))))return{};const s=Vr(e),a=e.currentSong.sections.map(o=>({...o,measures:o.measures.map(u=>({...u,beats:u.beats.map(c=>({...c,chord:null}))}))}));return{...s,currentSong:{...e.currentSong,sections:a},selectedChord:null}}),moveChord:(e,t,s,a)=>n(o=>{let u=null,c=null;if(o.currentSong.sections.forEach(p=>{p.measures.forEach(y=>{y.beats.forEach(_=>{_.id===t&&(u=_.chord),_.id===a&&(c=_.chord)})})}),!u&&!c)return{};const f=Vr(o),d=o.currentSong.sections.map(p=>({...p,measures:p.measures.map(y=>({...y,beats:y.beats.map(_=>_.id===t?{..._,chord:c}:_.id===a?{..._,chord:u}:_)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>n(e=>{if(!e.historyPast.length)return{};const t=e.historyPast[e.historyPast.length-1],s=e.historyPast.slice(0,-1),a=[Uf(e.currentSong),...e.historyFuture].slice(0,Gm),o=pv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Uf(t),historyPast:s,historyFuture:a,canUndo:s.length>0,canRedo:a.length>0,tempo:t.tempo??e.tempo,...o}}),redo:()=>n(e=>{if(!e.historyFuture.length)return{};const t=e.historyFuture[0],s=e.historyFuture.slice(1),a=[...e.historyPast,Uf(e.currentSong)].slice(-Gm),o=pv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Uf(t),historyPast:a,historyFuture:s,canUndo:a.length>0,canRedo:s.length>0,tempo:t.tempo??e.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:n=>({currentSong:n.currentSong,tempo:n.tempo,volume:n.volume,instrument:n.instrument,isMuted:n.isMuted})}));function wc(n,e,t,s){const a=(s-90)*Math.PI/180;return{x:n+t*Math.cos(a),y:e+t*Math.sin(a)}}function lS(n,e,t,s,a){const o=wc(n,e,t,s),u=wc(n,e,t,a),c=a-s<=180?"0":"1";return["M",o.x,o.y,"A",t,t,0,c,1,u.x,u.y].join(" ")}function cS(n,e,t,s,a,o){const u=wc(n,e,s,o),c=wc(n,e,s,a),f=wc(n,e,t,o),d=wc(n,e,t,a),p=o-a<=180?"0":"1";return["M",u.x,u.y,"A",s,s,0,p,0,c.x,c.y,"L",d.x,d.y,"A",t,t,0,p,1,f.x,f.y,"Z"].join(" ")}function Tx(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=Tx(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Ht(){for(var n,e,t=0,s="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=Tx(n))&&(s&&(s+=" "),s+=e);return s}const Cx="15.1.22",mv=(n,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:n}),gv=(n,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:n}),Ym=(n,e)=>({startTime:e,type:"setValue",value:n}),kx=(n,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:n}),jx=(n,e,{startTime:t,target:s,timeConstant:a})=>s+(e-s)*Math.exp((t-n)/a),xh=n=>n.type==="exponentialRampToValue",J1=n=>n.type==="linearRampToValue",yc=n=>xh(n)||J1(n),Eg=n=>n.type==="setValue",Nl=n=>n.type==="setValueCurve",ep=(n,e,t,s)=>{const a=n[e];return a===void 0?s:yc(a)||Eg(a)?a.value:Nl(a)?a.values[a.values.length-1]:jx(t,ep(n,e-1,a.startTime,s),a)},bv=(n,e,t,s,a)=>t===void 0?[s.insertTime,a]:yc(t)?[t.endTime,t.value]:Eg(t)?[t.startTime,t.value]:Nl(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,ep(n,e-1,t.startTime,a)],$m=n=>n.type==="cancelAndHold",Xm=n=>n.type==="cancelScheduledValues",gc=n=>$m(n)||Xm(n)?n.cancelTime:xh(n)||J1(n)?n.endTime:n.startTime,vv=(n,e,t,{endTime:s,value:a})=>t===a?a:0<t&&0<a||t<0&&a<0?t*(a/t)**((n-e)/(s-e)):0,yv=(n,e,t,{endTime:s,value:a})=>t+(n-e)/(s-e)*(a-t),uS=(n,e)=>{const t=Math.floor(e),s=Math.ceil(e);return t===s?n[t]:(1-(e-t))*n[t]+(1-(s-e))*n[s]},hS=(n,{duration:e,startTime:t,values:s})=>{const a=(n-t)/e*(s.length-1);return uS(s,a)},N1=n=>n.type==="setTarget";class fS{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=gc(e);if($m(e)||Xm(e)){const s=this._automationEvents.findIndex(o=>Xm(e)&&Nl(o)?o.startTime+o.duration>=t:gc(o)>=t),a=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),$m(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&yc(a)){if(o!==void 0&&N1(o))throw new Error("The internal list is malformed.");const u=o===void 0?a.insertTime:Nl(o)?o.startTime+o.duration:gc(o),c=o===void 0?this._defaultValue:Nl(o)?o.values[o.values.length-1]:o.value,f=xh(a)?vv(t,u,c,a):yv(t,u,c,a),d=xh(a)?mv(f,t,this._currenTime):gv(f,t,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&N1(o)&&this._automationEvents.push(Ym(this.getValue(t),t)),o!==void 0&&Nl(o)&&o.startTime+o.duration>t){const u=t-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(u*c)),d=u/(f-1)*c,p=o.values.slice(0,f);if(d<1)for(let y=1;y<f;y+=1){const _=d*y%1;p[y]=o.values[y-1]*(1-_)+o.values[y]*_}this._automationEvents[this._automationEvents.length-1]=kx(p,o.startTime,u)}}}else{const s=this._automationEvents.findIndex(u=>gc(u)>t),a=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(a!==void 0&&Nl(a)&&gc(a)+a.duration>t)return!1;const o=xh(e)?mv(e.value,e.endTime,this._currenTime):J1(e)?gv(e.value,t,this._currenTime):e;if(s===-1)this._automationEvents.push(o);else{if(Nl(e)&&t+e.duration>gc(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,o)}}return!0}flush(e){const t=this._automationEvents.findIndex(s=>gc(s)>e);if(t>1){const s=this._automationEvents.slice(t-1),a=s[0];N1(a)&&s.unshift(Ym(ep(this._automationEvents,t-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(u=>gc(u)>e),s=this._automationEvents[t],a=(t===-1?this._automationEvents.length:t)-1,o=this._automationEvents[a];if(o!==void 0&&N1(o)&&(s===void 0||!yc(s)||s.insertTime>e))return jx(e,ep(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&Eg(o)&&(s===void 0||!yc(s)))return o.value;if(o!==void 0&&Nl(o)&&(s===void 0||!yc(s)||o.startTime+o.duration>e))return e<o.startTime+o.duration?hS(e,o):o.values[o.values.length-1];if(o!==void 0&&yc(o)&&(s===void 0||!yc(s)))return o.value;if(s!==void 0&&xh(s)){const[u,c]=bv(this._automationEvents,a,o,s,this._defaultValue);return vv(e,u,c,s)}if(s!==void 0&&J1(s)){const[u,c]=bv(this._automationEvents,a,o,s,this._defaultValue);return yv(e,u,c,s)}return this._defaultValue}}const dS=n=>({cancelTime:n,type:"cancelAndHold"}),pS=n=>({cancelTime:n,type:"cancelScheduledValues"}),mS=(n,e)=>({endTime:e,type:"exponentialRampToValue",value:n}),gS=(n,e)=>({endTime:e,type:"linearRampToValue",value:n}),bS=(n,e,t)=>({startTime:e,target:n,timeConstant:t,type:"setTarget"}),vS=()=>new DOMException("","AbortError"),yS=n=>(e,t,[s,a,o],u)=>{n(e[a],[t,s,o],c=>c[0]===t&&c[1]===s,u)},xS=n=>(e,t,s)=>{const a=[];for(let o=0;o<s.numberOfInputs;o+=1)a.push(new Set);n.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},wS=n=>(e,t)=>{n.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Oh=new WeakSet,Ex=new WeakMap,Mg=new WeakMap,Mx=new WeakMap,Lg=new WeakMap,kp=new WeakMap,Lx=new WeakMap,Zm=new WeakMap,Qm=new WeakMap,Km=new WeakMap,Ox={construct(){return Ox}},_S=n=>{try{const e=new Proxy(n,Ox);new e}catch{return!1}return!0},xv=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,wv=(n,e)=>{const t=[];let s=n.replace(/^[\s]+/,""),a=s.match(xv);for(;a!==null;){const o=a[1].slice(1,-1),u=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());t.push(u),s=s.slice(a[0].length).replace(/^[\s]+/,""),a=s.match(xv)}return[t.join(";"),s]},_v=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Sv=n=>{if(!_S(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},SS=(n,e,t,s,a,o,u,c,f,d,p,y,_)=>{let b=0;return(A,N,k={credentials:"omit"})=>{const C=p.get(A);if(C!==void 0&&C.has(N))return Promise.resolve();const R=d.get(A);if(R!==void 0){const F=R.get(N);if(F!==void 0)return F}const D=o(A),I=D.audioWorklet===void 0?a(N).then(([F,Y])=>{const[G,O]=wv(F,Y),B=`${G};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${O}
})})(window,'_AWGS')`;return t(B)}).then(()=>{const F=_._AWGS.pop();if(F===void 0)throw new SyntaxError;s(D.currentTime,D.sampleRate,()=>F(class{},void 0,(Y,G)=>{if(Y.trim()==="")throw e();const O=Qm.get(D);if(O!==void 0){if(O.has(Y))throw e();Sv(G),_v(G.parameterDescriptors),O.set(Y,G)}else Sv(G),_v(G.parameterDescriptors),Qm.set(D,new Map([[Y,G]]))},D.sampleRate,void 0,void 0))}):Promise.all([a(N),Promise.resolve(n(y,y))]).then(([[F,Y],G])=>{const O=b+1;b=O;const[B,K]=wv(F,Y),W=`${B};((AudioWorkletProcessor,registerProcessor)=>{${K}
})(${G?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${G?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${G?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${O}',class extends AudioWorkletProcessor{process(){return !1}})`,oe=new Blob([W],{type:"application/javascript; charset=utf-8"}),$=URL.createObjectURL(oe);return D.audioWorklet.addModule($,k).then(()=>{if(c(D))return D;const te=u(D);return te.audioWorklet.addModule($,k).then(()=>te)}).then(te=>{if(f===null)throw new SyntaxError;try{new f(te,`__sac${O}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL($))});return R===void 0?d.set(A,new Map([[N,I]])):R.set(N,I),I.then(()=>{const F=p.get(A);F===void 0?p.set(A,new Set([N])):F.add(N)}).finally(()=>{const F=d.get(A);F!==void 0&&F.delete(N)}),I}},co=(n,e)=>{const t=n.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},jp=(n,e)=>{const t=Array.from(n).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[s]=t;return n.delete(s),s},Dx=(n,e,t,s)=>{const a=co(n,e),o=jp(a,u=>u[0]===t&&u[1]===s);return a.size===0&&n.delete(e),o},md=n=>co(Lx,n),Dh=n=>{if(Oh.has(n))throw new Error("The AudioNode is already stored.");Oh.add(n),md(n).forEach(e=>e(!0))},Rx=n=>"port"in n,gd=n=>{if(!Oh.has(n))throw new Error("The AudioNode is not stored.");Oh.delete(n),md(n).forEach(e=>e(!1))},Jm=(n,e)=>{!Rx(n)&&e.every(t=>t.size===0)&&gd(n)},NS=(n,e,t,s,a,o,u,c,f,d,p,y,_)=>{const b=new WeakMap;return(A,N,k,C,R)=>{const{activeInputs:D,passiveInputs:I}=o(N),{outputs:F}=o(A),Y=c(A),G=O=>{const B=f(N),K=f(A);if(O){const j=Dx(I,A,k,C);n(D,A,j,!1),!R&&!y(A)&&t(K,B,k,C),_(N)&&Dh(N)}else{const j=s(D,A,k,C);e(I,C,j,!1),!R&&!y(A)&&a(K,B,k,C);const V=u(N);if(V===0)p(N)&&Jm(N,D);else{const ne=b.get(N);ne!==void 0&&clearTimeout(ne),b.set(N,setTimeout(()=>{p(N)&&Jm(N,D)},V*1e3))}}};return d(F,[N,k,C],O=>O[0]===N&&O[1]===k&&O[2]===C,!0)?(Y.add(G),p(A)?n(D,A,[k,C,G],!0):e(I,C,[A,k,G],!0),!0):!1}},AS=n=>(e,t,[s,a,o],u)=>{const c=e.get(s);c===void 0?e.set(s,new Set([[a,t,o]])):n(c,[a,t,o],f=>f[0]===a&&f[1]===t,u)},TS=n=>(e,t)=>{const s=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(s).connect(e.destination);const a=()=>{t.removeEventListener("ended",a),t.disconnect(s),s.disconnect()};t.addEventListener("ended",a)},CS=n=>(e,t)=>{n(e).add(t)},kS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},jS=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=a(c),p={...kS,...f},y=s(d,p),_=o(d)?e():null;super(c,!1,y,_),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},ui=(n,e)=>n.context===e,ES=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!ui(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=n(u,d)}return s.set(u,c),await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},tp=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Wo=()=>new DOMException("","IndexSizeError"),Og=n=>{n.getChannelData=(e=>t=>{try{return e.call(n,t)}catch(s){throw s.code===12?Wo():s}})(n.getChannelData)},MS={numberOfChannels:1},LS=(n,e,t,s,a,o,u,c)=>{let f=null;return class Ix{constructor(p){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:_,sampleRate:b}={...MS,...p};f===null&&(f=new a(1,1,44100));const A=s!==null&&e(o,o)?new s({length:y,numberOfChannels:_,sampleRate:b}):f.createBuffer(_,y,b);if(A.numberOfChannels===0)throw t();return typeof A.copyFromChannel!="function"?(u(A),Og(A)):e(tp,()=>tp(A))||c(A),n.add(A),A}static[Symbol.hasInstance](p){return p!==null&&typeof p=="object"&&Object.getPrototypeOf(p)===Ix.prototype||n.has(p)}}},qi=-34028234663852886e22,vi=-qi,kl=n=>Oh.has(n),OS={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},DS=(n,e,t,s,a,o,u,c)=>class extends n{constructor(d,p){const y=o(d),_={...OS,...p},b=a(y,_),A=u(y),N=A?e():null;super(d,!1,b,N),this._audioBufferSourceNodeRenderer=N,this._isBufferNullified=!1,this._isBufferSet=_.buffer!==null,this._nativeAudioBufferSourceNode=b,this._onended=null,this._playbackRate=t(this,A,b.playbackRate,vi,qi)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const p=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=p;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===p?d:y}get playbackRate(){return this._playbackRate}start(d=0,p=0,y){if(this._nativeAudioBufferSourceNode.start(d,p,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[d,p]:[d,p,y]),this.context.state!=="closed"){Dh(this);const _=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",_),kl(this)&&gd(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",_)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},RS=(n,e,t,s,a)=>()=>{const o=new WeakMap;let u=null,c=null;const f=async(d,p)=>{let y=t(d);const _=ui(y,p);if(!_){const b={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=e(p,b),u!==null&&y.start(...u),c!==null&&y.stop(c)}return o.set(p,y),_?await n(p,d.playbackRate,y.playbackRate):await s(p,d.playbackRate,y.playbackRate),await a(d,p,y),y};return{set start(d){u=d},set stop(d){c=d},render(d,p){const y=o.get(p);return y!==void 0?Promise.resolve(y):f(d,p)}}},IS=n=>"playbackRate"in n,VS=n=>"frequency"in n&&"gain"in n,FS=n=>"offset"in n,BS=n=>!("frequency"in n)&&"gain"in n,zS=n=>"detune"in n&&"frequency"in n&&!("gain"in n),PS=n=>"pan"in n,yi=n=>co(Ex,n),bd=n=>co(Mx,n),eg=(n,e)=>{const{activeInputs:t}=yi(n);t.forEach(a=>a.forEach(([o])=>{e.includes(n)||eg(o,[...e,n])}));const s=IS(n)?[n.playbackRate]:Rx(n)?Array.from(n.parameters.values()):VS(n)?[n.Q,n.detune,n.frequency,n.gain]:FS(n)?[n.offset]:BS(n)?[n.gain]:zS(n)?[n.detune,n.frequency]:PS(n)?[n.pan]:[];for(const a of s){const o=bd(a);o!==void 0&&o.activeInputs.forEach(([u])=>eg(u,e))}kl(n)&&gd(n)},Vx=n=>{eg(n.destination,[])},qS=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),US=(n,e,t,s,a,o,u,c,f)=>class extends n{constructor(p={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new f(p)}catch(A){throw A.code===12&&A.message==="sampleRate is not in range"?t():A}if(y===null)throw s();if(!qS(p.latencyHint))throw new TypeError(`The provided value '${p.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(p.sampleRate!==void 0&&y.sampleRate!==p.sampleRate)throw t();super(y,2);const{latencyHint:_}=p,{sampleRate:b}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:_==="balanced"?512/b:_==="interactive"||_===void 0?256/b:_==="playback"?1024/b:Math.max(2,Math.min(128,Math.round(_*b/128)))*128/b,this._nativeAudioContext=y,f.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const A=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",A)};y.addEventListener("statechange",A)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Vx(this)}))}createMediaElementSource(p){return new a(this,{mediaElement:p})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(p){return new u(this,{mediaStream:p})}createMediaStreamTrackSource(p){return new c(this,{mediaStreamTrack:p})}resume(){return this._state==="suspended"?new Promise((p,y)=>{const _=()=>{this._nativeAudioContext.removeEventListener("statechange",_),this._nativeAudioContext.state==="running"?p():this.resume().then(p,y)};this._nativeAudioContext.addEventListener("statechange",_)}):this._nativeAudioContext.resume().catch(p=>{throw p===void 0||p.code===15?e():p})}suspend(){return this._nativeAudioContext.suspend().catch(p=>{throw p===void 0?e():p})}},HS=(n,e,t,s,a,o,u,c)=>class extends n{constructor(d,p){const y=o(d),_=u(y),b=a(y,p,_),A=_?e(c):null;super(d,!1,b,A),this._isNodeOfNativeOfflineAudioContext=_,this._nativeAudioDestinationNode=b}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},WS=n=>{const e=new WeakMap,t=async(s,a)=>{const o=a.destination;return e.set(a,o),await n(s,a,o),o};return{render(s,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):t(s,a)}}},GS=(n,e,t,s,a,o,u,c)=>(f,d)=>{const p=d.listener,y=()=>{const F=new Float32Array(1),Y=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),G=u(d);let O=!1,B=[0,0,-1,0,1,0],K=[0,0,0];const j=()=>{if(O)return;O=!0;const oe=s(d,256,9,0);oe.onaudioprocess=({inputBuffer:$})=>{const te=[o($,F,0),o($,F,1),o($,F,2),o($,F,3),o($,F,4),o($,F,5)];te.some((pe,be)=>pe!==B[be])&&(p.setOrientation(...te),B=te);const le=[o($,F,6),o($,F,7),o($,F,8)];le.some((pe,be)=>pe!==K[be])&&(p.setPosition(...le),K=le)},Y.connect(oe)},V=oe=>$=>{$!==B[oe]&&(B[oe]=$,p.setOrientation(...B))},ne=oe=>$=>{$!==K[oe]&&(K[oe]=$,p.setPosition(...K))},W=(oe,$,te)=>{const le=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:$});le.connect(Y,0,oe),le.start(),Object.defineProperty(le.offset,"defaultValue",{get(){return $}});const pe=n({context:f},G,le.offset,vi,qi);return c(pe,"value",be=>()=>be.call(pe),be=>z=>{try{be.call(pe,z)}catch(M){if(M.code!==9)throw M}j(),G&&te(z)}),pe.cancelAndHoldAtTime=(be=>G?()=>{throw a()}:(...z)=>{const M=be.apply(pe,z);return j(),M})(pe.cancelAndHoldAtTime),pe.cancelScheduledValues=(be=>G?()=>{throw a()}:(...z)=>{const M=be.apply(pe,z);return j(),M})(pe.cancelScheduledValues),pe.exponentialRampToValueAtTime=(be=>G?()=>{throw a()}:(...z)=>{const M=be.apply(pe,z);return j(),M})(pe.exponentialRampToValueAtTime),pe.linearRampToValueAtTime=(be=>G?()=>{throw a()}:(...z)=>{const M=be.apply(pe,z);return j(),M})(pe.linearRampToValueAtTime),pe.setTargetAtTime=(be=>G?()=>{throw a()}:(...z)=>{const M=be.apply(pe,z);return j(),M})(pe.setTargetAtTime),pe.setValueAtTime=(be=>G?()=>{throw a()}:(...z)=>{const M=be.apply(pe,z);return j(),M})(pe.setValueAtTime),pe.setValueCurveAtTime=(be=>G?()=>{throw a()}:(...z)=>{const M=be.apply(pe,z);return j(),M})(pe.setValueCurveAtTime),pe};return{forwardX:W(0,0,V(0)),forwardY:W(1,0,V(1)),forwardZ:W(2,-1,V(2)),positionX:W(6,0,ne(0)),positionY:W(7,0,ne(1)),positionZ:W(8,0,ne(2)),upX:W(3,0,V(3)),upY:W(4,1,V(4)),upZ:W(5,0,V(5))}},{forwardX:_,forwardY:b,forwardZ:A,positionX:N,positionY:k,positionZ:C,upX:R,upY:D,upZ:I}=p.forwardX===void 0?y():p;return{get forwardX(){return _},get forwardY(){return b},get forwardZ(){return A},get positionX(){return N},get positionY(){return k},get positionZ(){return C},get upX(){return R},get upY(){return D},get upZ(){return I}}},np=n=>"context"in n,vd=n=>np(n[0]),xu=(n,e,t,s)=>{for(const a of n)if(t(a)){if(s)return!1;throw Error("The set contains at least one similar element.")}return n.add(e),!0},Nv=(n,e,[t,s],a)=>{xu(n,[e,t,s],o=>o[0]===e&&o[1]===t,a)},Av=(n,[e,t,s],a)=>{const o=n.get(e);o===void 0?n.set(e,new Set([[t,s]])):xu(o,[t,s],u=>u[0]===t,a)},zh=n=>"inputs"in n,rp=(n,e,t,s)=>{if(zh(e)){const a=e.inputs[s];return n.connect(a,t,0),[a,t,0]}return n.connect(e,t,s),[e,t,s]},Fx=(n,e,t)=>{for(const s of n)if(s[0]===e&&s[1]===t)return n.delete(s),s;return null},YS=(n,e,t)=>jp(n,s=>s[0]===e&&s[1]===t),Bx=(n,e)=>{if(!md(n).delete(e))throw new Error("Missing the expected event listener.")},zx=(n,e,t)=>{const s=co(n,e),a=jp(s,o=>o[0]===t);return s.size===0&&n.delete(e),a},sp=(n,e,t,s)=>{zh(e)?n.disconnect(e.inputs[s],t,0):n.disconnect(e,t,s)},jr=n=>co(Mg,n),td=n=>co(Lg,n),mu=n=>Zm.has(n),P1=n=>!Oh.has(n),Tv=(n,e)=>new Promise(t=>{if(e!==null)t(!0);else{const s=n.createScriptProcessor(256,1,1),a=n.createGain(),o=n.createBuffer(1,2,44100),u=o.getChannelData(0);u[0]=1,u[1]=1;const c=n.createBufferSource();c.buffer=o,c.loop=!0,c.connect(s).connect(n.destination),c.connect(a),c.disconnect(a),s.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,p=>p===1)?t(!0):t(!1),c.stop(),s.onaudioprocess=null,c.disconnect(s),s.disconnect(n.destination)},c.start()}}),ym=(n,e)=>{const t=new Map;for(const s of n)for(const a of s){const o=t.get(a);t.set(a,o===void 0?1:o+1)}t.forEach((s,a)=>e(a,s))},ip=n=>"context"in n,$S=n=>{const e=new Map;n.connect=(t=>(s,a=0,o=0)=>{const u=ip(s)?t(s,a,o):t(s,a),c=e.get(s);return c===void 0?e.set(s,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),u})(n.connect.bind(n)),n.disconnect=(t=>(s,a,o)=>{if(t.apply(n),s===void 0)e.clear();else if(typeof s=="number")for(const[u,c]of e){const f=c.filter(d=>d.output!==s);f.length===0?e.delete(u):e.set(u,f)}else if(e.has(s))if(a===void 0)e.delete(s);else{const u=e.get(s);if(u!==void 0){const c=u.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?e.delete(s):e.set(s,c)}}for(const[u,c]of e)c.forEach(f=>{ip(u)?n.connect(u,f.output,f.input):n.connect(u,f.output)})})(n.disconnect)},XS=(n,e,t,s)=>{const{activeInputs:a,passiveInputs:o}=bd(e),{outputs:u}=yi(n),c=md(n),f=d=>{const p=jr(n),y=td(e);if(d){const _=zx(o,n,t);Nv(a,n,_,!1),!s&&!mu(n)&&p.connect(y,t)}else{const _=YS(a,n,t);Av(o,_,!1),!s&&!mu(n)&&p.disconnect(y,t)}};return xu(u,[e,t],d=>d[0]===e&&d[1]===t,!0)?(c.add(f),kl(n)?Nv(a,n,[t,f],!0):Av(o,[n,t,f],!0),!0):!1},ZS=(n,e,t,s)=>{const{activeInputs:a,passiveInputs:o}=yi(e),u=Fx(a[s],n,t);return u===null?[Dx(o,n,t,s)[2],!1]:[u[2],!0]},QS=(n,e,t)=>{const{activeInputs:s,passiveInputs:a}=bd(e),o=Fx(s,n,t);return o===null?[zx(a,n,t)[1],!1]:[o[2],!0]},Dg=(n,e,t,s,a)=>{const[o,u]=ZS(n,t,s,a);if(o!==null&&(Bx(n,o),u&&!e&&!mu(n)&&sp(jr(n),jr(t),s,a)),kl(t)){const{activeInputs:c}=yi(t);Jm(t,c)}},Rg=(n,e,t,s)=>{const[a,o]=QS(n,t,s);a!==null&&(Bx(n,a),o&&!e&&!mu(n)&&jr(n).disconnect(td(t),s))},KS=(n,e)=>{const t=yi(n),s=[];for(const a of t.outputs)vd(a)?Dg(n,e,...a):Rg(n,e,...a),s.push(a[0]);return t.outputs.clear(),s},JS=(n,e,t)=>{const s=yi(n),a=[];for(const o of s.outputs)o[1]===t&&(vd(o)?Dg(n,e,...o):Rg(n,e,...o),a.push(o[0]),s.outputs.delete(o));return a},e6=(n,e,t,s,a)=>{const o=yi(n);return Array.from(o.outputs).filter(u=>u[0]===t&&(s===void 0||u[1]===s)&&(a===void 0||u[2]===a)).map(u=>(vd(u)?Dg(n,e,...u):Rg(n,e,...u),o.outputs.delete(u),u[0]))},t6=(n,e,t,s,a,o,u,c,f,d,p,y,_,b,A,N)=>class extends d{constructor(C,R,D,I){super(D),this._context=C,this._nativeAudioNode=D;const F=p(C);y(F)&&t(Tv,()=>Tv(F,N))!==!0&&$S(D),Mg.set(this,D),Lx.set(this,new Set),C.state!=="closed"&&R&&Dh(this),n(this,I,D)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,R=0,D=0){if(R<0||R>=this._nativeAudioNode.numberOfOutputs)throw a();const I=p(this._context),F=A(I);if(_(C)||b(C))throw o();if(np(C)){const O=jr(C);try{const K=rp(this._nativeAudioNode,O,R,D),j=P1(this);(F||j)&&this._nativeAudioNode.disconnect(...K),this.context.state!=="closed"&&!j&&P1(C)&&Dh(C)}catch(K){throw K.code===12?o():K}if(e(this,C,R,D,F)){const K=f([this],C);ym(K,s(F))}return C}const Y=td(C);if(Y.name==="playbackRate"&&Y.maxValue===1024)throw u();try{this._nativeAudioNode.connect(Y,R),(F||P1(this))&&this._nativeAudioNode.disconnect(Y,R)}catch(O){throw O.code===12?o():O}if(XS(this,C,R,F)){const O=f([this],C);ym(O,s(F))}}disconnect(C,R,D){let I;const F=p(this._context),Y=A(F);if(C===void 0)I=KS(this,Y);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw a();I=JS(this,Y,C)}else{if(R!==void 0&&(R<0||R>=this.numberOfOutputs)||np(C)&&D!==void 0&&(D<0||D>=C.numberOfInputs))throw a();if(I=e6(this,Y,C,R,D),I.length===0)throw o()}for(const G of I){const O=f([this],G);ym(O,c)}}},n6=(n,e,t,s,a,o,u,c,f,d,p,y,_)=>(b,A,N,k=null,C=null)=>{const R=N.value,D=new fS(R),I=A?s(D):null,F={get defaultValue(){return R},get maxValue(){return k===null?N.maxValue:k},get minValue(){return C===null?N.minValue:C},get value(){return N.value},set value(Y){N.value=Y,F.setValueAtTime(Y,b.context.currentTime)},cancelAndHoldAtTime(Y){if(typeof N.cancelAndHoldAtTime=="function")I===null&&D.flush(b.context.currentTime),D.add(a(Y)),N.cancelAndHoldAtTime(Y);else{const G=Array.from(D).pop();I===null&&D.flush(b.context.currentTime),D.add(a(Y));const O=Array.from(D).pop();N.cancelScheduledValues(Y),G!==O&&O!==void 0&&(O.type==="exponentialRampToValue"?N.exponentialRampToValueAtTime(O.value,O.endTime):O.type==="linearRampToValue"?N.linearRampToValueAtTime(O.value,O.endTime):O.type==="setValue"?N.setValueAtTime(O.value,O.startTime):O.type==="setValueCurve"&&N.setValueCurveAtTime(O.values,O.startTime,O.duration))}return F},cancelScheduledValues(Y){return I===null&&D.flush(b.context.currentTime),D.add(o(Y)),N.cancelScheduledValues(Y),F},exponentialRampToValueAtTime(Y,G){if(Y===0)throw new RangeError;if(!Number.isFinite(G)||G<0)throw new RangeError;const O=b.context.currentTime;return I===null&&D.flush(O),Array.from(D).length===0&&(D.add(d(R,O)),N.setValueAtTime(R,O)),D.add(u(Y,G)),N.exponentialRampToValueAtTime(Y,G),F},linearRampToValueAtTime(Y,G){const O=b.context.currentTime;return I===null&&D.flush(O),Array.from(D).length===0&&(D.add(d(R,O)),N.setValueAtTime(R,O)),D.add(c(Y,G)),N.linearRampToValueAtTime(Y,G),F},setTargetAtTime(Y,G,O){return I===null&&D.flush(b.context.currentTime),D.add(f(Y,G,O)),N.setTargetAtTime(Y,G,O),F},setValueAtTime(Y,G){return I===null&&D.flush(b.context.currentTime),D.add(d(Y,G)),N.setValueAtTime(Y,G),F},setValueCurveAtTime(Y,G,O){const B=Y instanceof Float32Array?Y:new Float32Array(Y);if(y!==null&&y.name==="webkitAudioContext"){const K=G+O,j=b.context.sampleRate,V=Math.ceil(G*j),ne=Math.floor(K*j),W=ne-V,oe=new Float32Array(W);for(let te=0;te<W;te+=1){const le=(B.length-1)/O*((V+te)/j-G),pe=Math.floor(le),be=Math.ceil(le);oe[te]=pe===be?B[pe]:(1-(le-pe))*B[pe]+(1-(be-le))*B[be]}I===null&&D.flush(b.context.currentTime),D.add(p(oe,G,O)),N.setValueCurveAtTime(oe,G,O);const $=ne/j;$<K&&_(F,oe[oe.length-1],$),_(F,B[B.length-1],K)}else I===null&&D.flush(b.context.currentTime),D.add(p(B,G,O)),N.setValueCurveAtTime(B,G,O);return F}};return t.set(F,N),e.set(F,b),n(F,I),F},r6=n=>({replay(e){for(const t of n)if(t.type==="exponentialRampToValue"){const{endTime:s,value:a}=t;e.exponentialRampToValueAtTime(a,s)}else if(t.type==="linearRampToValue"){const{endTime:s,value:a}=t;e.linearRampToValueAtTime(a,s)}else if(t.type==="setTarget"){const{startTime:s,target:a,timeConstant:o}=t;e.setTargetAtTime(a,s,o)}else if(t.type==="setValue"){const{startTime:s,value:a}=t;e.setValueAtTime(a,s)}else if(t.type==="setValueCurve"){const{duration:s,startTime:a,values:o}=t;e.setValueCurveAtTime(o,a,s)}else throw new Error("Can't apply an unknown automation.")}});class Px{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((s,a)=>e.call(t,s,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const s6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},i6=(n,e,t,s,a,o,u,c,f,d,p,y,_,b)=>class extends e{constructor(N,k,C){var R;const D=c(N),I=f(D),F=p({...s6,...C});_(F);const Y=Qm.get(D),G=Y?.get(k),O=I||D.state!=="closed"?D:(R=u(D))!==null&&R!==void 0?R:D,B=a(O,I?null:N.baseLatency,d,k,G,F),K=I?s(k,F,G):null;super(N,!0,B,K);const j=[];B.parameters.forEach((ne,W)=>{const oe=t(this,I,ne);j.push([W,oe])}),this._nativeAudioWorkletNode=B,this._onprocessorerror=null,this._parameters=new Px(j),I&&n(D,this);const{activeInputs:V}=o(this);y(B,V)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(N){const k=typeof N=="function"?b(this,N):null;this._nativeAudioWorkletNode.onprocessorerror=k;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===k?N:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function ap(n,e,t,s,a){if(typeof n.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),n.copyFromChannel(e[t],s,a);else{const o=n.getChannelData(s);if(e[t].byteLength===0)e[t]=o.slice(a,a+128);else{const u=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(u)}}}const qx=(n,e,t,s,a)=>{typeof n.copyToChannel=="function"?e[t].byteLength!==0&&n.copyToChannel(e[t],s,a):e[t].byteLength!==0&&n.getChannelData(s).set(e[t],a)},op=(n,e)=>{const t=[];for(let s=0;s<n;s+=1){const a=[],o=typeof e=="number"?e:e[s];for(let u=0;u<o;u+=1)a.push(new Float32Array(128));t.push(a)}return t},a6=(n,e)=>{const t=co(Km,n),s=jr(e);return co(t,s)},o6=async(n,e,t,s,a,o,u)=>{const c=e===null?Math.ceil(n.context.length/128)*128:e.length,f=s.channelCount*s.numberOfInputs,d=a.reduce((k,C)=>k+C,0),p=d===0?null:t.createBuffer(d,c,t.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const y=yi(n),_=await a6(t,n),b=op(s.numberOfInputs,s.channelCount),A=op(s.numberOfOutputs,a),N=Array.from(n.parameters.keys()).reduce((k,C)=>({...k,[C]:new Float32Array(128)}),{});for(let k=0;k<c;k+=128){if(s.numberOfInputs>0&&e!==null)for(let C=0;C<s.numberOfInputs;C+=1)for(let R=0;R<s.channelCount;R+=1)ap(e,b[C],R,R,k);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:C},R)=>{ap(e,N,C,f+R,k)});for(let C=0;C<s.numberOfInputs;C+=1)for(let R=0;R<a[C];R+=1)A[C][R].byteLength===0&&(A[C][R]=new Float32Array(128));try{const C=b.map((D,I)=>y.activeInputs[I].size===0?[]:D),R=u(k/t.sampleRate,t.sampleRate,()=>_.process(C,A,N));if(p!==null)for(let D=0,I=0;D<s.numberOfOutputs;D+=1){for(let F=0;F<a[D];F+=1)qx(p,A[D],F,I+F,k);I+=a[D]}if(!R)break}catch(C){n.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return p},l6=(n,e,t,s,a,o,u,c,f,d,p,y,_,b,A,N)=>(k,C,R)=>{const D=new WeakMap;let I=null;const F=async(Y,G)=>{let O=p(Y),B=null;const K=ui(O,G),j=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(y===null){const V=j.reduce(($,te)=>$+te,0),ne=a(G,{channelCount:Math.max(1,V),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,V)}),W=[];for(let $=0;$<Y.numberOfOutputs;$+=1)W.push(s(G,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:j[$]}));const oe=u(G,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});oe.connect=e.bind(null,W),oe.disconnect=f.bind(null,W),B=[ne,W,oe]}else K||(O=new y(G,k));if(D.set(G,B===null?O:B[2]),B!==null){if(I===null){if(R===void 0)throw new Error("Missing the processor constructor.");if(_===null)throw new Error("Missing the native OfflineAudioContext constructor.");const te=Y.channelCount*Y.numberOfInputs,le=R.parameterDescriptors===void 0?0:R.parameterDescriptors.length,pe=te+le;I=o6(Y,pe===0?null:await(async()=>{const z=new _(pe,Math.ceil(Y.context.length/128)*128,G.sampleRate),M=[],H=[];for(let ae=0;ae<C.numberOfInputs;ae+=1)M.push(u(z,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),H.push(a(z,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const J=await Promise.all(Array.from(Y.parameters.values()).map(async ae=>{const fe=o(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ae.value});return await b(z,ae,fe.offset),fe})),Q=s(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,te+le)});for(let ae=0;ae<C.numberOfInputs;ae+=1){M[ae].connect(H[ae]);for(let fe=0;fe<C.channelCount;fe+=1)H[ae].connect(Q,fe,ae*C.channelCount+fe)}for(const[ae,fe]of J.entries())fe.connect(Q,0,te+ae),fe.start(0);return Q.connect(z.destination),await Promise.all(M.map(ae=>A(Y,z,ae))),N(z)})(),G,C,j,R,d)}const V=await I,ne=t(G,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[W,oe,$]=B;V!==null&&(ne.buffer=V,ne.start(0)),ne.connect(W);for(let te=0,le=0;te<Y.numberOfOutputs;te+=1){const pe=oe[te];for(let be=0;be<j[te];be+=1)W.connect(pe,le+be,be);le+=j[te]}return $}if(K)for(const[V,ne]of Y.parameters.entries())await n(G,ne,O.parameters.get(V));else for(const[V,ne]of Y.parameters.entries())await b(G,ne,O.parameters.get(V));return await A(Y,G,O),O};return{render(Y,G){c(G,Y);const O=D.get(G);return O!==void 0?Promise.resolve(O):F(Y,G)}}},c6=(n,e,t,s,a,o,u,c,f,d,p,y,_,b,A,N,k,C,R,D)=>class extends A{constructor(F,Y){super(F,Y),this._nativeContext=F,this._audioWorklet=n===void 0?void 0:{addModule:(G,O)=>n(this,G,O)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(F,Y,G){return new t({length:Y,numberOfChannels:F,sampleRate:G})}createBufferSource(){return new s(this)}createChannelMerger(F=6){return new o(this,{numberOfInputs:F})}createChannelSplitter(F=6){return new u(this,{numberOfOutputs:F})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(F=1){return new p(this,{maxDelayTime:F})}createDynamicsCompressor(){return new y(this)}createGain(){return new _(this)}createIIRFilter(F,Y){return new b(this,{feedback:Y,feedforward:F})}createOscillator(){return new N(this)}createPanner(){return new k(this)}createPeriodicWave(F,Y,G={disableNormalization:!1}){return new C(this,{...G,imag:Y,real:F})}createStereoPanner(){return new R(this)}createWaveShaper(){return new D(this)}decodeAudioData(F,Y,G){return d(this._nativeContext,F).then(O=>(typeof Y=="function"&&Y(O),O),O=>{throw typeof G=="function"&&G(O),O})}},u6={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},h6=(n,e,t,s,a,o,u,c)=>class extends n{constructor(d,p){const y=o(d),_={...u6,...p},b=a(y,_),A=u(y),N=A?t():null;super(d,!1,b,N),this._Q=e(this,A,b.Q,vi,qi),this._detune=e(this,A,b.detune,1200*Math.log2(vi),-1200*Math.log2(vi)),this._frequency=e(this,A,b.frequency,d.sampleRate/2,0),this._gain=e(this,A,b.gain,40*Math.log10(vi),qi),this._nativeBiquadFilterNode=b,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,p,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,p,y)}catch(_){throw _.code===11?s():_}if(d.length!==p.length||p.length!==y.length)throw s()}},f6=(n,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const p=ui(d,f);if(!p){const y={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=e(f,y)}return o.set(f,d),p?(await n(f,c.Q,d.Q),await n(f,c.detune,d.detune),await n(f,c.frequency,d.frequency),await n(f,c.gain,d.gain)):(await s(f,c.Q,d.Q),await s(f,c.detune,d.detune),await s(f,c.frequency,d.frequency),await s(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},d6=(n,e)=>(t,s)=>{const a=e.get(t);if(a!==void 0)return a;const o=n.get(t);if(o!==void 0)return o;try{const u=s();return u instanceof Promise?(n.set(t,u),u.catch(()=>!1).then(c=>(n.delete(t),e.set(t,c),c))):(e.set(t,u),u)}catch{return e.set(t,!1),!1}},p6={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},m6=(n,e,t,s,a)=>class extends n{constructor(u,c){const f=s(u),d={...p6,...c},p=t(f,d),y=a(f)?e():null;super(u,!1,p,y)}},g6=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!ui(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=n(u,d)}return s.set(u,c),await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},b6={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},v6=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=s(c),p=o({...b6,...f}),y=t(d,p),_=a(d)?e():null;super(c,!1,y,_)}},y6=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!ui(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=n(u,d)}return s.set(u,c),await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},x6=n=>(e,t,s)=>n(t,e,s),w6=n=>(e,t,s=0,a=0)=>{const o=e[s];if(o===void 0)throw n();return ip(t)?o.connect(t,0,a):o.connect(t,0)},_6=n=>(e,t)=>{const s=n(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return s.buffer=a,s.loop=!0,s.connect(t),s.start(),()=>{s.stop(),s.disconnect(t)}},S6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},N6=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...S6,...d},_=s(p,y),b=o(p),A=b?t():null;super(f,!1,_,A),this._constantSourceNodeRenderer=A,this._nativeConstantSourceNode=_,this._offset=e(this,b,_.offset,vi,qi),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?u(this,f):null;this._nativeConstantSourceNode.onended=d;const p=this._nativeConstantSourceNode.onended;this._onended=p!==null&&p===d?f:p}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Dh(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),kl(this)&&gd(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},A6=(n,e,t,s,a)=>()=>{const o=new WeakMap;let u=null,c=null;const f=async(d,p)=>{let y=t(d);const _=ui(y,p);if(!_){const b={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=e(p,b),u!==null&&y.start(u),c!==null&&y.stop(c)}return o.set(p,y),_?await n(p,d.offset,y.offset):await s(p,d.offset,y.offset),await a(d,p,y),y};return{set start(d){u=d},set stop(d){c=d},render(d,p){const y=o.get(p);return y!==void 0?Promise.resolve(y):f(d,p)}}},T6=n=>e=>(n[0]=e,n[0]),C6={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},k6=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=s(c),p={...C6,...f},y=t(d,p),b=a(d)?e():null;super(c,!1,y,b),this._isBufferNullified=!1,this._nativeConvolverNode=y,p.buffer!==null&&o(this,p.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},j6=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!ui(c,u)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=n(u,d)}return s.set(u,c),zh(c)?await t(o,u,c.inputs[0]):await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},E6=(n,e)=>(t,s,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,s,a)}catch(o){throw o.name==="SyntaxError"?n():o}},M6=()=>new DOMException("","DataCloneError"),Cv=n=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(s=>{const a=()=>{t.onmessage=null,e.close(),t.close(),s()};t.onmessage=()=>a();try{e.postMessage(n,[n])}catch{}finally{a()}})},L6=(n,e,t,s,a,o,u,c,f,d,p)=>(y,_)=>{const b=u(y)?y:o(y);if(a.has(_)){const A=t();return Promise.reject(A)}try{a.add(_)}catch{}return e(f,()=>f(b))?b.decodeAudioData(_).then(A=>(Cv(_).catch(()=>{}),e(c,()=>c(A))||p(A),n.add(A),A)):new Promise((A,N)=>{const k=async()=>{try{await Cv(_)}catch{}},C=R=>{N(R),k()};try{b.decodeAudioData(_,R=>{typeof R.copyFromChannel!="function"&&(d(R),Og(R)),n.add(R),k().then(()=>A(R))},R=>{C(R===null?s():R)})}catch(R){C(R)}})},O6=(n,e,t,s,a,o,u,c)=>(f,d)=>{const p=e.get(f);if(p===void 0)throw new Error("Missing the expected cycle count.");const y=o(f.context),_=c(y);if(p===d){if(e.delete(f),!_&&u(f)){const b=s(f),{outputs:A}=t(f);for(const N of A)if(vd(N)){const k=s(N[0]);n(b,k,N[1],N[2])}else{const k=a(N[0]);b.connect(k,N[1])}}}else e.set(f,p-d)},D6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},R6=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...D6,...d},_=s(p,y),b=o(p),A=b?t(y.maxDelayTime):null;super(f,!1,_,A),this._delayTime=e(this,b,_.delayTime),u(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},I6=(n,e,t,s,a)=>o=>{const u=new WeakMap,c=async(f,d)=>{let p=t(f);const y=ui(p,d);if(!y){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,delayTime:p.delayTime.value,maxDelayTime:o};p=e(d,_)}return u.set(d,p),y?await n(d,f.delayTime,p.delayTime):await s(d,f.delayTime,p.delayTime),await a(f,d,p),p};return{render(f,d){const p=u.get(d);return p!==void 0?Promise.resolve(p):c(f,d)}}},V6=n=>(e,t,s,a)=>n(e[a],o=>o[0]===t&&o[1]===s),F6=n=>(e,t)=>{n(e).delete(t)},B6=n=>"delayTime"in n,z6=(n,e,t)=>function s(a,o){const u=np(o)?o:t(n,o);if(B6(u))return[];if(a[0]===u)return[a];if(a.includes(u))return[];const{outputs:c}=e(u);return Array.from(c).map(f=>s([...a,u],f[0])).reduce((f,d)=>f.concat(d),[])},A1=(n,e,t)=>{const s=e[t];if(s===void 0)throw n();return s},P6=n=>(e,t=void 0,s=void 0,a=0)=>t===void 0?e.forEach(o=>o.disconnect()):typeof t=="number"?A1(n,e,t).disconnect():ip(t)?s===void 0?e.forEach(o=>o.disconnect(t)):a===void 0?A1(n,e,s).disconnect(t,0):A1(n,e,s).disconnect(t,0,a):s===void 0?e.forEach(o=>o.disconnect(t)):A1(n,e,s).disconnect(t,0),q6={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},U6=(n,e,t,s,a,o,u,c)=>class extends n{constructor(d,p){const y=o(d),_={...q6,...p},b=s(y,_),A=u(y),N=A?t():null;super(d,!1,b,N),this._attack=e(this,A,b.attack),this._knee=e(this,A,b.knee),this._nativeDynamicsCompressorNode=b,this._ratio=e(this,A,b.ratio),this._release=e(this,A,b.release),this._threshold=e(this,A,b.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const p=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=p,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const p=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=p,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},H6=(n,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const p=ui(d,f);if(!p){const y={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=e(f,y)}return o.set(f,d),p?(await n(f,c.attack,d.attack),await n(f,c.knee,d.knee),await n(f,c.ratio,d.ratio),await n(f,c.release,d.release),await n(f,c.threshold,d.threshold)):(await s(f,c.attack,d.attack),await s(f,c.knee,d.knee),await s(f,c.ratio,d.ratio),await s(f,c.release,d.release),await s(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},W6=()=>new DOMException("","EncodingError"),G6=n=>e=>new Promise((t,s)=>{if(n===null){s(new SyntaxError);return}const a=n.document.head;if(a===null)s(new SyntaxError);else{const o=n.document.createElement("script"),u=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(u),f=n.onerror,d=()=>{n.onerror=f,URL.revokeObjectURL(c)};n.onerror=(p,y,_,b,A)=>{if(y===c||y===n.location.href&&_===1&&b===1)return d(),s(A),!1;if(f!==null)return f(p,y,_,b,A)},o.onerror=()=>{d(),s(new SyntaxError)},o.onload=()=>{d(),t()},o.src=c,o.type="module",a.appendChild(o)}}),Y6=n=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,s,a){if(s!==null){let o=this._listeners.get(s);o===void 0&&(o=n(this,s),typeof s=="function"&&this._listeners.set(s,o)),this._nativeEventTarget.addEventListener(t,o,a)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,s,a){const o=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,a)}},$6=n=>(e,t,s)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},X6=n=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw n()},Z6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Q6=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=a(c),p={...Z6,...f},y=s(d,p),_=o(d),b=_?t():null;super(c,!1,y,b),this._gain=e(this,_,y.gain,vi,qi)}get gain(){return this._gain}},K6=(n,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const p=ui(d,f);if(!p){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=e(f,y)}return o.set(f,d),p?await n(f,c.gain,d.gain):await s(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},J6=(n,e)=>t=>e(n,t),eN=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},tN=n=>e=>{var t;return(t=n.get(e))!==null&&t!==void 0?t:0},nN=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},rN=n=>e=>n.get(e),Ps=()=>new DOMException("","InvalidStateError"),sN=n=>e=>{const t=n.get(e);if(t===void 0)throw Ps();return t},iN=(n,e)=>t=>{let s=n.get(t);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),n.set(t,s),s},aN=n=>e=>{const t=n.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},Ep=()=>new DOMException("","InvalidAccessError"),oN=n=>{n.getFrequencyResponse=(e=>(t,s,a)=>{if(t.length!==s.length||s.length!==a.length)throw Ep();return e.call(n,t,s,a)})(n.getFrequencyResponse)},lN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},cN=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=s(c),p=a(d),y={...lN,...f},_=e(d,p?null:c.baseLatency,y),b=p?t(y.feedback,y.feedforward):null;super(c,!1,_,b),oN(_),this._nativeIIRFilterNode=_,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},Ux=(n,e,t,s,a,o,u,c,f,d,p)=>{const y=d.length;let _=c;for(let b=0;b<y;b+=1){let A=t[0]*d[b];for(let N=1;N<a;N+=1){const k=_-N&f-1;A+=t[N]*o[k],A-=n[N]*u[k]}for(let N=a;N<s;N+=1)A+=t[N]*o[_-N&f-1];for(let N=a;N<e;N+=1)A-=n[N]*u[_-N&f-1];o[_]=d[b],u[_]=A,_=_+1&f-1,p[b]=A}return _},uN=(n,e,t,s)=>{const a=t instanceof Float64Array?t:new Float64Array(t),o=s instanceof Float64Array?s:new Float64Array(s),u=a.length,c=o.length,f=Math.min(u,c);if(a[0]!==1){for(let A=0;A<u;A+=1)o[A]/=a[0];for(let A=1;A<c;A+=1)a[A]/=a[0]}const d=32,p=new Float32Array(d),y=new Float32Array(d),_=e.createBuffer(n.numberOfChannels,n.length,n.sampleRate),b=n.numberOfChannels;for(let A=0;A<b;A+=1){const N=n.getChannelData(A),k=_.getChannelData(A);p.fill(0),y.fill(0),Ux(a,u,o,c,f,p,y,0,d,N,k)}return _},hN=(n,e,t,s,a)=>(o,u)=>{const c=new WeakMap;let f=null;const d=async(p,y)=>{let _=null,b=e(p);const A=ui(b,y);if(y.createIIRFilter===void 0?_=n(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):A||(b=y.createIIRFilter(u,o)),c.set(y,_===null?b:_),_!==null){if(f===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new t(p.context.destination.channelCount,p.context.length,y.sampleRate);f=(async()=>{await s(p,k,k.destination);const C=await a(k);return uN(C,y,o,u)})()}const N=await f;return _.buffer=N,_.start(0),_}return await s(p,y,b),b};return{render(p,y){const _=c.get(y);return _!==void 0?Promise.resolve(_):d(p,y)}}},fN=(n,e,t,s,a,o)=>u=>(c,f)=>{const d=n.get(c);if(d===void 0){if(!u&&o(c)){const p=s(c),{outputs:y}=t(c);for(const _ of y)if(vd(_)){const b=s(_[0]);e(p,b,_[1],_[2])}else{const b=a(_[0]);p.disconnect(b,_[1])}}n.set(c,f)}else n.set(c,d+f)},dN=(n,e)=>t=>{const s=n.get(t);return e(s)||e(t)},pN=(n,e)=>t=>n.has(t)||e(t),mN=(n,e)=>t=>n.has(t)||e(t),gN=(n,e)=>t=>{const s=n.get(t);return e(s)||e(t)},bN=n=>e=>n!==null&&e instanceof n,vN=n=>e=>n!==null&&typeof n.AudioNode=="function"&&e instanceof n.AudioNode,yN=n=>e=>n!==null&&typeof n.AudioParam=="function"&&e instanceof n.AudioParam,xN=(n,e)=>t=>n(t)||e(t),wN=n=>e=>n!==null&&e instanceof n,_N=n=>n!==null&&n.isSecureContext,SN=(n,e,t,s)=>class extends n{constructor(o,u){const c=t(o),f=e(c,u);if(s(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},NN={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},AN=(n,e,t,s)=>class extends n{constructor(o,u){const c=t(o);if(s(c))throw new TypeError;const f={...NN,...u},d=e(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},TN=(n,e,t,s)=>class extends n{constructor(o,u){const c=t(o),f=e(c,u);if(s(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},CN=(n,e,t)=>class extends n{constructor(a,o){const u=t(a),c=e(u,o);super(a,!0,c,null)}},kN=(n,e,t,s,a,o)=>class extends t{constructor(c,f){super(c),this._nativeContext=c,kp.set(this,c),s(c)&&a.set(c,new Set),this._destination=new n(this,f),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},nd=n=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=n.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},jN=(n,e)=>(t,s,a)=>{const o=new Set;return t.connect=(u=>(c,f=0,d=0)=>{const p=o.size===0;if(e(c))return u.call(t,c,f,d),n(o,[c,f,d],y=>y[0]===c&&y[1]===f&&y[2]===d,!0),p&&s(),c;u.call(t,c,f),n(o,[c,f],y=>y[0]===c&&y[1]===f,!0),p&&s()})(t.connect),t.disconnect=(u=>(c,f,d)=>{const p=o.size>0;if(c===void 0)u.apply(t),o.clear();else if(typeof c=="number"){u.call(t,c);for(const _ of o)_[1]===c&&o.delete(_)}else{e(c)?u.call(t,c,f,d):u.call(t,c,f);for(const _ of o)_[0]===c&&(f===void 0||_[1]===f)&&(d===void 0||_[2]===d)&&o.delete(_)}const y=o.size===0;p&&y&&a()})(t.disconnect),t},Br=(n,e,t)=>{const s=e[t];s!==void 0&&s!==n[t]&&(n[t]=s)},Es=(n,e)=>{Br(n,e,"channelCount"),Br(n,e,"channelCountMode"),Br(n,e,"channelInterpretation")},kv=n=>typeof n.getFloatTimeDomainData=="function",EN=n=>{n.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);n.getByteTimeDomainData(t);const s=Math.max(t.length,n.fftSize);for(let a=0;a<s;a+=1)e[a]=(t[a]-128)*.0078125;return e}},MN=(n,e)=>(t,s)=>{const a=t.createAnalyser();if(Es(a,s),!(s.maxDecibels>s.minDecibels))throw e();return Br(a,s,"fftSize"),Br(a,s,"maxDecibels"),Br(a,s,"minDecibels"),Br(a,s,"smoothingTimeConstant"),n(kv,()=>kv(a))||EN(a),a},LN=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,ts=(n,e,t)=>{const s=e[t];s!==void 0&&s!==n[t].value&&(n[t].value=s)},ON=n=>{n.start=(e=>{let t=!1;return(s=0,a=0,o)=>{if(t)throw Ps();e.call(n,s,a,o),t=!0}})(n.start)},Ig=n=>{n.start=(e=>(t=0,s=0,a)=>{if(typeof a=="number"&&a<0||s<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(n,t,s,a)})(n.start)},Vg=n=>{n.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(n,t)})(n.stop)},DN=(n,e,t,s,a,o,u,c,f,d,p)=>(y,_)=>{const b=y.createBufferSource();return Es(b,_),ts(b,_,"playbackRate"),Br(b,_,"buffer"),Br(b,_,"loop"),Br(b,_,"loopEnd"),Br(b,_,"loopStart"),e(t,()=>t(y))||ON(b),e(s,()=>s(y))||f(b),e(a,()=>a(y))||d(b,y),e(o,()=>o(y))||Ig(b),e(u,()=>u(y))||p(b,y),e(c,()=>c(y))||Vg(b),n(y,b),b},RN=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,IN=(n,e)=>(t,s,a)=>{const o=t.destination;if(o.channelCount!==s)try{o.channelCount=s}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:s});const u=n(t,{channelCount:s,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(u,"channelCount",c=>()=>c.call(u),c=>f=>{c.call(u,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),e(u,"channelCountMode",c=>()=>c.call(u),c=>f=>{c.call(u,f),o.channelCountMode=f}),e(u,"channelInterpretation",c=>()=>c.call(u),c=>f=>{c.call(u,f),o.channelInterpretation=f}),Object.defineProperty(u,"maxChannelCount",{get:()=>o.maxChannelCount}),u.connect(o),u},VN=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,FN=n=>{const{port1:e}=new MessageChannel;try{e.postMessage(n)}finally{e.close()}},BN=(n,e,t,s,a)=>(o,u,c,f,d,p)=>{if(c!==null)try{const y=new c(o,f,p),_=new Map;let b=null;if(Object.defineProperties(y,{channelCount:{get:()=>p.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>b,set:A=>{typeof b=="function"&&y.removeEventListener("processorerror",b),b=typeof A=="function"?A:null,typeof b=="function"&&y.addEventListener("processorerror",b)}}}),y.addEventListener=(A=>(...N)=>{if(N[0]==="processorerror"){const k=typeof N[1]=="function"?N[1]:typeof N[1]=="object"&&N[1]!==null&&typeof N[1].handleEvent=="function"?N[1].handleEvent:null;if(k!==null){const C=_.get(N[1]);C!==void 0?N[1]=C:(N[1]=R=>{R.type==="error"?(Object.defineProperties(R,{type:{value:"processorerror"}}),k(R)):k(new ErrorEvent(N[0],{...R}))},_.set(k,N[1]))}}return A.call(y,"error",N[1],N[2]),A.call(y,...N)})(y.addEventListener),y.removeEventListener=(A=>(...N)=>{if(N[0]==="processorerror"){const k=_.get(N[1]);k!==void 0&&(_.delete(N[1]),N[1]=k)}return A.call(y,"error",N[1],N[2]),A.call(y,N[0],N[1],N[2])})(y.removeEventListener),p.numberOfOutputs!==0){const A=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(A).connect(o.destination),a(y,()=>A.disconnect(),()=>A.connect(o.destination))}return y}catch(y){throw y.code===11?s():y}if(d===void 0)throw s();return FN(p),e(o,u,d,p)},Hx=(n,e)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*e))))),zN=n=>new Promise((e,t)=>{const{port1:s,port2:a}=new MessageChannel;s.onmessage=({data:o})=>{s.close(),a.close(),e(o)},s.onmessageerror=({data:o})=>{s.close(),a.close(),t(o)},a.postMessage(n)}),PN=async(n,e)=>{const t=await zN(e);return new n(t)},qN=(n,e,t,s)=>{let a=Km.get(n);a===void 0&&(a=new WeakMap,Km.set(n,a));const o=PN(t,s);return a.set(e,o),o},UN=(n,e,t,s,a,o,u,c,f,d,p,y,_)=>(b,A,N,k)=>{if(k.numberOfInputs===0&&k.numberOfOutputs===0)throw f();const C=Array.isArray(k.outputChannelCount)?k.outputChannelCount:Array.from(k.outputChannelCount);if(C.some(P=>P<1))throw f();if(C.length!==k.numberOfOutputs)throw e();if(k.channelCountMode!=="explicit")throw f();const R=k.channelCount*k.numberOfInputs,D=C.reduce((P,Ae)=>P+Ae,0),I=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length;if(R+I>6||D>6)throw f();const F=new MessageChannel,Y=[],G=[];for(let P=0;P<k.numberOfInputs;P+=1)Y.push(u(b,{channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation,gain:1})),G.push(a(b,{channelCount:k.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:k.channelCount}));const O=[];if(N.parameterDescriptors!==void 0)for(const{defaultValue:P,maxValue:Ae,minValue:nt,name:Be}of N.parameterDescriptors){const Le=o(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:k.parameterData[Be]!==void 0?k.parameterData[Be]:P===void 0?0:P});Object.defineProperties(Le.offset,{defaultValue:{get:()=>P===void 0?0:P},maxValue:{get:()=>Ae===void 0?vi:Ae},minValue:{get:()=>nt===void 0?qi:nt}}),O.push(Le)}const B=s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,R+I)}),K=Hx(A,b.sampleRate),j=c(b,K,R+I,Math.max(1,D)),V=a(b,{channelCount:Math.max(1,D),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,D)}),ne=[];for(let P=0;P<k.numberOfOutputs;P+=1)ne.push(s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[P]}));for(let P=0;P<k.numberOfInputs;P+=1){Y[P].connect(G[P]);for(let Ae=0;Ae<k.channelCount;Ae+=1)G[P].connect(B,Ae,P*k.channelCount+Ae)}const W=new Px(N.parameterDescriptors===void 0?[]:N.parameterDescriptors.map(({name:P},Ae)=>{const nt=O[Ae];return nt.connect(B,0,R+Ae),nt.start(0),[P,nt.offset]}));B.connect(j);let oe=k.channelInterpretation,$=null;const te=k.numberOfOutputs===0?[j]:ne,le={get bufferSize(){return K},get channelCount(){return k.channelCount},set channelCount(P){throw t()},get channelCountMode(){return k.channelCountMode},set channelCountMode(P){throw t()},get channelInterpretation(){return oe},set channelInterpretation(P){for(const Ae of Y)Ae.channelInterpretation=P;oe=P},get context(){return j.context},get inputs(){return Y},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get onprocessorerror(){return $},set onprocessorerror(P){typeof $=="function"&&le.removeEventListener("processorerror",$),$=typeof P=="function"?P:null,typeof $=="function"&&le.addEventListener("processorerror",$)},get parameters(){return W},get port(){return F.port2},addEventListener(...P){return j.addEventListener(P[0],P[1],P[2])},connect:n.bind(null,te),disconnect:d.bind(null,te),dispatchEvent(...P){return j.dispatchEvent(P[0])},removeEventListener(...P){return j.removeEventListener(P[0],P[1],P[2])}},pe=new Map;F.port1.addEventListener=(P=>(...Ae)=>{if(Ae[0]==="message"){const nt=typeof Ae[1]=="function"?Ae[1]:typeof Ae[1]=="object"&&Ae[1]!==null&&typeof Ae[1].handleEvent=="function"?Ae[1].handleEvent:null;if(nt!==null){const Be=pe.get(Ae[1]);Be!==void 0?Ae[1]=Be:(Ae[1]=Le=>{p(b.currentTime,b.sampleRate,()=>nt(Le))},pe.set(nt,Ae[1]))}}return P.call(F.port1,Ae[0],Ae[1],Ae[2])})(F.port1.addEventListener),F.port1.removeEventListener=(P=>(...Ae)=>{if(Ae[0]==="message"){const nt=pe.get(Ae[1]);nt!==void 0&&(pe.delete(Ae[1]),Ae[1]=nt)}return P.call(F.port1,Ae[0],Ae[1],Ae[2])})(F.port1.removeEventListener);let be=null;Object.defineProperty(F.port1,"onmessage",{get:()=>be,set:P=>{typeof be=="function"&&F.port1.removeEventListener("message",be),be=typeof P=="function"?P:null,typeof be=="function"&&(F.port1.addEventListener("message",be),F.port1.start())}}),N.prototype.port=F.port1;let z=null;qN(b,le,N,k).then(P=>z=P);const H=op(k.numberOfInputs,k.channelCount),J=op(k.numberOfOutputs,C),Q=N.parameterDescriptors===void 0?[]:N.parameterDescriptors.reduce((P,{name:Ae})=>({...P,[Ae]:new Float32Array(128)}),{});let ae=!0;const fe=()=>{k.numberOfOutputs>0&&j.disconnect(V);for(let P=0,Ae=0;P<k.numberOfOutputs;P+=1){const nt=ne[P];for(let Be=0;Be<C[P];Be+=1)V.disconnect(nt,Ae+Be,Be);Ae+=C[P]}},de=new Map;j.onaudioprocess=({inputBuffer:P,outputBuffer:Ae})=>{if(z!==null){const nt=y(le);for(let Be=0;Be<K;Be+=128){for(let Le=0;Le<k.numberOfInputs;Le+=1)for(let Ke=0;Ke<k.channelCount;Ke+=1)ap(P,H[Le],Ke,Ke,Be);N.parameterDescriptors!==void 0&&N.parameterDescriptors.forEach(({name:Le},Ke)=>{ap(P,Q,Le,R+Ke,Be)});for(let Le=0;Le<k.numberOfInputs;Le+=1)for(let Ke=0;Ke<C[Le];Ke+=1)J[Le][Ke].byteLength===0&&(J[Le][Ke]=new Float32Array(128));try{const Le=H.map((He,ut)=>{if(nt[ut].size>0)return de.set(ut,K/128),He;const ze=de.get(ut);return ze===void 0?[]:(He.every(st=>st.every(tt=>tt===0))&&(ze===1?de.delete(ut):de.set(ut,ze-1)),He)});ae=p(b.currentTime+Be/b.sampleRate,b.sampleRate,()=>z.process(Le,J,Q));for(let He=0,ut=0;He<k.numberOfOutputs;He+=1){for(let at=0;at<C[He];at+=1)qx(Ae,J[He],at,ut+at,Be);ut+=C[He]}}catch(Le){ae=!1,le.dispatchEvent(new ErrorEvent("processorerror",{colno:Le.colno,filename:Le.filename,lineno:Le.lineno,message:Le.message}))}if(!ae){for(let Le=0;Le<k.numberOfInputs;Le+=1){Y[Le].disconnect(G[Le]);for(let Ke=0;Ke<k.channelCount;Ke+=1)G[Be].disconnect(B,Ke,Le*k.channelCount+Ke)}if(N.parameterDescriptors!==void 0){const Le=N.parameterDescriptors.length;for(let Ke=0;Ke<Le;Ke+=1){const He=O[Ke];He.disconnect(B,0,R+Ke),He.stop()}}B.disconnect(j),j.onaudioprocess=null,xe?fe():Xe();break}}}};let xe=!1;const we=u(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ve=()=>j.connect(we).connect(b.destination),Xe=()=>{j.disconnect(we),we.disconnect()},et=()=>{if(ae){Xe(),k.numberOfOutputs>0&&j.connect(V);for(let P=0,Ae=0;P<k.numberOfOutputs;P+=1){const nt=ne[P];for(let Be=0;Be<C[P];Be+=1)V.connect(nt,Ae+Be,Be);Ae+=C[P]}}xe=!0},ct=()=>{ae&&(Ve(),fe()),xe=!1};return Ve(),_(le,et,ct)},Wx=(n,e)=>{const t=n.createBiquadFilter();return Es(t,e),ts(t,e,"Q"),ts(t,e,"detune"),ts(t,e,"frequency"),ts(t,e,"gain"),Br(t,e,"type"),t},HN=(n,e)=>(t,s)=>{const a=t.createChannelMerger(s.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&e(t,a),Es(a,s),a},WN=n=>{const e=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Ps()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw Ps()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw Ps()}})},yd=(n,e)=>{const t=n.createChannelSplitter(e.numberOfOutputs);return Es(t,e),WN(t),t},GN=(n,e,t,s,a)=>(o,u)=>{if(o.createConstantSource===void 0)return t(o,u);const c=o.createConstantSource();return Es(c,u),ts(c,u,"offset"),e(s,()=>s(o))||Ig(c),e(a,()=>a(o))||Vg(c),n(o,c),c},Ph=(n,e)=>(n.connect=e.connect.bind(e),n.disconnect=e.disconnect.bind(e),n),YN=(n,e,t,s)=>(a,{offset:o,...u})=>{const c=a.createBuffer(1,2,44100),f=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t(a,{...u,gain:o}),p=c.getChannelData(0);p[0]=1,p[1]=1,f.buffer=c,f.loop=!0;const y={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(A){d.channelCount=A},get channelCountMode(){return d.channelCountMode},set channelCountMode(A){d.channelCountMode=A},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(A){d.channelInterpretation=A},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(A){f.onended=A},addEventListener(...A){return f.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return f.dispatchEvent(A[0])},removeEventListener(...A){return f.removeEventListener(A[0],A[1],A[2])},start(A=0){f.start.call(f,A)},stop(A=0){f.stop.call(f,A)}},_=()=>f.connect(d),b=()=>f.disconnect(d);return n(a,f),s(Ph(y,d),_,b)},$N=(n,e)=>(t,s)=>{const a=t.createConvolver();if(Es(a,s),s.disableNormalization===a.normalize&&(a.normalize=!s.disableNormalization),Br(a,s,"buffer"),s.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>u=>{if(u>2)throw n();return o.call(a,u)}),s.channelCountMode==="max"))throw n();return e(a,"channelCountMode",o=>()=>o.call(a),o=>u=>{if(u==="max")throw n();return o.call(a,u)}),a},Gx=(n,e)=>{const t=n.createDelay(e.maxDelayTime);return Es(t,e),ts(t,e,"delayTime"),t},XN=n=>(e,t)=>{const s=e.createDynamicsCompressor();if(Es(s,t),t.channelCount>2||t.channelCountMode==="max")throw n();return ts(s,t,"attack"),ts(s,t,"knee"),ts(s,t,"ratio"),ts(s,t,"release"),ts(s,t,"threshold"),s},Wi=(n,e)=>{const t=n.createGain();return Es(t,e),ts(t,e,"gain"),t},ZN=n=>(e,t,s)=>{if(e.createIIRFilter===void 0)return n(e,t,s);const a=e.createIIRFilter(s.feedforward,s.feedback);return Es(a,s),a};function QN(n,e){const t=e[0]*e[0]+e[1]*e[1];return[(n[0]*e[0]+n[1]*e[1])/t,(n[1]*e[0]-n[0]*e[1])/t]}function KN(n,e){return[n[0]*e[0]-n[1]*e[1],n[0]*e[1]+n[1]*e[0]]}function jv(n,e){let t=[0,0];for(let s=n.length-1;s>=0;s-=1)t=KN(t,e),t[0]+=n[s];return t}const JN=(n,e,t,s)=>(a,o,{channelCount:u,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:p})=>{const y=Hx(o,a.sampleRate),_=d instanceof Float64Array?d:new Float64Array(d),b=p instanceof Float64Array?p:new Float64Array(p),A=_.length,N=b.length,k=Math.min(A,N);if(A===0||A>20)throw s();if(_[0]===0)throw e();if(N===0||N>20)throw s();if(b[0]===0)throw e();if(_[0]!==1){for(let O=0;O<N;O+=1)b[O]/=_[0];for(let O=1;O<A;O+=1)_[O]/=_[0]}const C=t(a,y,u,u);C.channelCount=u,C.channelCountMode=c,C.channelInterpretation=f;const R=32,D=[],I=[],F=[];for(let O=0;O<u;O+=1){D.push(0);const B=new Float32Array(R),K=new Float32Array(R);B.fill(0),K.fill(0),I.push(B),F.push(K)}C.onaudioprocess=O=>{const B=O.inputBuffer,K=O.outputBuffer,j=B.numberOfChannels;for(let V=0;V<j;V+=1){const ne=B.getChannelData(V),W=K.getChannelData(V);D[V]=Ux(_,A,b,N,k,I[V],F[V],D[V],R,ne,W)}};const Y=a.sampleRate/2;return Ph({get bufferSize(){return y},get channelCount(){return C.channelCount},set channelCount(O){C.channelCount=O},get channelCountMode(){return C.channelCountMode},set channelCountMode(O){C.channelCountMode=O},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(O){C.channelInterpretation=O},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...O){return C.addEventListener(O[0],O[1],O[2])},dispatchEvent(...O){return C.dispatchEvent(O[0])},getFrequencyResponse(O,B,K){if(O.length!==B.length||B.length!==K.length)throw n();const j=O.length;for(let V=0;V<j;V+=1){const ne=-Math.PI*(O[V]/Y),W=[Math.cos(ne),Math.sin(ne)],oe=jv(b,W),$=jv(_,W),te=QN(oe,$);B[V]=Math.sqrt(te[0]*te[0]+te[1]*te[1]),K[V]=Math.atan2(te[1],te[0])}},removeEventListener(...O){return C.removeEventListener(O[0],O[1],O[2])}},C)},eA=(n,e)=>n.createMediaElementSource(e.mediaElement),tA=(n,e)=>{const t=n.createMediaStreamDestination();return Es(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},nA=(n,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((o,u)=>o.id<u.id?-1:o.id>u.id?1:0);const s=t.slice(0,1),a=n.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(a,"mediaStream",{value:e}),a},rA=(n,e)=>(t,{mediaStreamTrack:s})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(s);const a=new MediaStream([s]),o=t.createMediaStreamSource(a);if(s.kind!=="audio")throw n();if(e(t))throw new TypeError;return o},sA=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,iA=(n,e,t,s,a,o)=>(u,c)=>{const f=u.createOscillator();return Es(f,c),ts(f,c,"detune"),ts(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):Br(f,c,"type"),e(t,()=>t(u))||Ig(f),e(s,()=>s(u))||o(f,u),e(a,()=>a(u))||Vg(f),n(u,f),f},aA=n=>(e,t)=>{const s=e.createPanner();return s.orientationX===void 0?n(e,t):(Es(s,t),ts(s,t,"orientationX"),ts(s,t,"orientationY"),ts(s,t,"orientationZ"),ts(s,t,"positionX"),ts(s,t,"positionY"),ts(s,t,"positionZ"),Br(s,t,"coneInnerAngle"),Br(s,t,"coneOuterAngle"),Br(s,t,"coneOuterGain"),Br(s,t,"distanceModel"),Br(s,t,"maxDistance"),Br(s,t,"panningModel"),Br(s,t,"refDistance"),Br(s,t,"rolloffFactor"),s)},oA=(n,e,t,s,a,o,u,c,f,d)=>(p,{coneInnerAngle:y,coneOuterAngle:_,coneOuterGain:b,distanceModel:A,maxDistance:N,orientationX:k,orientationY:C,orientationZ:R,panningModel:D,positionX:I,positionY:F,positionZ:Y,refDistance:G,rolloffFactor:O,...B})=>{const K=p.createPanner();if(B.channelCount>2||B.channelCountMode==="max")throw u();Es(K,B);const j={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},V=t(p,{...j,channelInterpretation:"speakers",numberOfInputs:6}),ne=s(p,{...B,gain:1}),W=s(p,{...j,gain:1}),oe=s(p,{...j,gain:0}),$=s(p,{...j,gain:0}),te=s(p,{...j,gain:0}),le=s(p,{...j,gain:0}),pe=s(p,{...j,gain:0}),be=a(p,256,6,1),z=o(p,{...j,curve:new Float32Array([1,1]),oversample:"none"});let M=[k,C,R],H=[I,F,Y];const J=new Float32Array(1);be.onaudioprocess=({inputBuffer:de})=>{const xe=[f(de,J,0),f(de,J,1),f(de,J,2)];xe.some((Ve,Xe)=>Ve!==M[Xe])&&(K.setOrientation(...xe),M=xe);const we=[f(de,J,3),f(de,J,4),f(de,J,5)];we.some((Ve,Xe)=>Ve!==H[Xe])&&(K.setPosition(...we),H=we)},Object.defineProperty(oe.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(te.gain,"defaultValue",{get:()=>0}),Object.defineProperty(le.gain,"defaultValue",{get:()=>0}),Object.defineProperty(pe.gain,"defaultValue",{get:()=>0});const Q={get bufferSize(){},get channelCount(){return K.channelCount},set channelCount(de){if(de>2)throw u();ne.channelCount=de,K.channelCount=de},get channelCountMode(){return K.channelCountMode},set channelCountMode(de){if(de==="max")throw u();ne.channelCountMode=de,K.channelCountMode=de},get channelInterpretation(){return K.channelInterpretation},set channelInterpretation(de){ne.channelInterpretation=de,K.channelInterpretation=de},get coneInnerAngle(){return K.coneInnerAngle},set coneInnerAngle(de){K.coneInnerAngle=de},get coneOuterAngle(){return K.coneOuterAngle},set coneOuterAngle(de){K.coneOuterAngle=de},get coneOuterGain(){return K.coneOuterGain},set coneOuterGain(de){if(de<0||de>1)throw e();K.coneOuterGain=de},get context(){return K.context},get distanceModel(){return K.distanceModel},set distanceModel(de){K.distanceModel=de},get inputs(){return[ne]},get maxDistance(){return K.maxDistance},set maxDistance(de){if(de<0)throw new RangeError;K.maxDistance=de},get numberOfInputs(){return K.numberOfInputs},get numberOfOutputs(){return K.numberOfOutputs},get orientationX(){return W.gain},get orientationY(){return oe.gain},get orientationZ(){return $.gain},get panningModel(){return K.panningModel},set panningModel(de){K.panningModel=de},get positionX(){return te.gain},get positionY(){return le.gain},get positionZ(){return pe.gain},get refDistance(){return K.refDistance},set refDistance(de){if(de<0)throw new RangeError;K.refDistance=de},get rolloffFactor(){return K.rolloffFactor},set rolloffFactor(de){if(de<0)throw new RangeError;K.rolloffFactor=de},addEventListener(...de){return ne.addEventListener(de[0],de[1],de[2])},dispatchEvent(...de){return ne.dispatchEvent(de[0])},removeEventListener(...de){return ne.removeEventListener(de[0],de[1],de[2])}};y!==Q.coneInnerAngle&&(Q.coneInnerAngle=y),_!==Q.coneOuterAngle&&(Q.coneOuterAngle=_),b!==Q.coneOuterGain&&(Q.coneOuterGain=b),A!==Q.distanceModel&&(Q.distanceModel=A),N!==Q.maxDistance&&(Q.maxDistance=N),k!==Q.orientationX.value&&(Q.orientationX.value=k),C!==Q.orientationY.value&&(Q.orientationY.value=C),R!==Q.orientationZ.value&&(Q.orientationZ.value=R),D!==Q.panningModel&&(Q.panningModel=D),I!==Q.positionX.value&&(Q.positionX.value=I),F!==Q.positionY.value&&(Q.positionY.value=F),Y!==Q.positionZ.value&&(Q.positionZ.value=Y),G!==Q.refDistance&&(Q.refDistance=G),O!==Q.rolloffFactor&&(Q.rolloffFactor=O),(M[0]!==1||M[1]!==0||M[2]!==0)&&K.setOrientation(...M),(H[0]!==0||H[1]!==0||H[2]!==0)&&K.setPosition(...H);const ae=()=>{ne.connect(K),n(ne,z,0,0),z.connect(W).connect(V,0,0),z.connect(oe).connect(V,0,1),z.connect($).connect(V,0,2),z.connect(te).connect(V,0,3),z.connect(le).connect(V,0,4),z.connect(pe).connect(V,0,5),V.connect(be).connect(p.destination)},fe=()=>{ne.disconnect(K),c(ne,z,0,0),z.disconnect(W),W.disconnect(V),z.disconnect(oe),oe.disconnect(V),z.disconnect($),$.disconnect(V),z.disconnect(te),te.disconnect(V),z.disconnect(le),le.disconnect(V),z.disconnect(pe),pe.disconnect(V),V.disconnect(be),be.disconnect(p.destination)};return d(Ph(Q,K),ae,fe)},lA=n=>(e,{disableNormalization:t,imag:s,real:a})=>{const o=s instanceof Float32Array?s:new Float32Array(s),u=a instanceof Float32Array?a:new Float32Array(a),c=e.createPeriodicWave(u,o,{disableNormalization:t});if(Array.from(s).length<2)throw n();return c},xd=(n,e,t,s)=>n.createScriptProcessor(e,t,s),cA=(n,e)=>(t,s)=>{const a=s.channelCountMode;if(a==="clamped-max")throw e();if(t.createStereoPanner===void 0)return n(t,s);const o=t.createStereoPanner();return Es(o,s),ts(o,s,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:u=>{if(u!==a)throw e()}}),o},uA=(n,e,t,s,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},p={...d,oversample:"none"},y=(A,N,k,C)=>{const R=new Float32Array(16385),D=new Float32Array(16385);for(let B=0;B<16385;B+=1){const K=B/16384*f;R[B]=Math.cos(K),D[B]=Math.sin(K)}const I=t(A,{...d,gain:0}),F=s(A,{...p,curve:R}),Y=s(A,{...p,curve:c}),G=t(A,{...d,gain:0}),O=s(A,{...p,curve:D});return{connectGraph(){N.connect(I),N.connect(Y.inputs===void 0?Y:Y.inputs[0]),N.connect(G),Y.connect(k),k.connect(F.inputs===void 0?F:F.inputs[0]),k.connect(O.inputs===void 0?O:O.inputs[0]),F.connect(I.gain),O.connect(G.gain),I.connect(C,0,0),G.connect(C,0,1)},disconnectGraph(){N.disconnect(I),N.disconnect(Y.inputs===void 0?Y:Y.inputs[0]),N.disconnect(G),Y.disconnect(k),k.disconnect(F.inputs===void 0?F:F.inputs[0]),k.disconnect(O.inputs===void 0?O:O.inputs[0]),F.disconnect(I.gain),O.disconnect(G.gain),I.disconnect(C,0,0),G.disconnect(C,0,1)}}},_=(A,N,k,C)=>{const R=new Float32Array(16385),D=new Float32Array(16385),I=new Float32Array(16385),F=new Float32Array(16385),Y=Math.floor(16385/2);for(let te=0;te<16385;te+=1)if(te>Y){const le=(te-Y)/(16384-Y)*f;R[te]=Math.cos(le),D[te]=Math.sin(le),I[te]=0,F[te]=1}else{const le=te/(16384-Y)*f;R[te]=1,D[te]=0,I[te]=Math.cos(le),F[te]=Math.sin(le)}const G=e(A,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),O=t(A,{...d,gain:0}),B=s(A,{...p,curve:R}),K=t(A,{...d,gain:0}),j=s(A,{...p,curve:D}),V=s(A,{...p,curve:c}),ne=t(A,{...d,gain:0}),W=s(A,{...p,curve:I}),oe=t(A,{...d,gain:0}),$=s(A,{...p,curve:F});return{connectGraph(){N.connect(G),N.connect(V.inputs===void 0?V:V.inputs[0]),G.connect(O,0),G.connect(K,0),G.connect(ne,1),G.connect(oe,1),V.connect(k),k.connect(B.inputs===void 0?B:B.inputs[0]),k.connect(j.inputs===void 0?j:j.inputs[0]),k.connect(W.inputs===void 0?W:W.inputs[0]),k.connect($.inputs===void 0?$:$.inputs[0]),B.connect(O.gain),j.connect(K.gain),W.connect(ne.gain),$.connect(oe.gain),O.connect(C,0,0),ne.connect(C,0,0),K.connect(C,0,1),oe.connect(C,0,1)},disconnectGraph(){N.disconnect(G),N.disconnect(V.inputs===void 0?V:V.inputs[0]),G.disconnect(O,0),G.disconnect(K,0),G.disconnect(ne,1),G.disconnect(oe,1),V.disconnect(k),k.disconnect(B.inputs===void 0?B:B.inputs[0]),k.disconnect(j.inputs===void 0?j:j.inputs[0]),k.disconnect(W.inputs===void 0?W:W.inputs[0]),k.disconnect($.inputs===void 0?$:$.inputs[0]),B.disconnect(O.gain),j.disconnect(K.gain),W.disconnect(ne.gain),$.disconnect(oe.gain),O.disconnect(C,0,0),ne.disconnect(C,0,0),K.disconnect(C,0,1),oe.disconnect(C,0,1)}}},b=(A,N,k,C,R)=>{if(N===1)return y(A,k,C,R);if(N===2)return _(A,k,C,R);throw a()};return(A,{channelCount:N,channelCountMode:k,pan:C,...R})=>{if(k==="max")throw a();const D=n(A,{...R,channelCount:1,channelCountMode:k,numberOfInputs:2}),I=t(A,{...R,channelCount:N,channelCountMode:k,gain:1}),F=t(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:Y,disconnectGraph:G}=b(A,N,I,F,D);Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"maxValue",{get:()=>1}),Object.defineProperty(F.gain,"minValue",{get:()=>-1});const O={get bufferSize(){},get channelCount(){return I.channelCount},set channelCount(V){I.channelCount!==V&&(B&&G(),{connectGraph:Y,disconnectGraph:G}=b(A,V,I,F,D),B&&Y()),I.channelCount=V},get channelCountMode(){return I.channelCountMode},set channelCountMode(V){if(V==="clamped-max"||V==="max")throw a();I.channelCountMode=V},get channelInterpretation(){return I.channelInterpretation},set channelInterpretation(V){I.channelInterpretation=V},get context(){return I.context},get inputs(){return[I]},get numberOfInputs(){return I.numberOfInputs},get numberOfOutputs(){return I.numberOfOutputs},get pan(){return F.gain},addEventListener(...V){return I.addEventListener(V[0],V[1],V[2])},dispatchEvent(...V){return I.dispatchEvent(V[0])},removeEventListener(...V){return I.removeEventListener(V[0],V[1],V[2])}};let B=!1;const K=()=>{Y(),B=!0},j=()=>{G(),B=!1};return o(Ph(O,D),K,j)}},hA=(n,e,t,s,a,o,u)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,f);Es(d,f);const p=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(p!==null&&p.length<2)throw e();Br(d,{curve:p},"curve"),Br(d,f,"oversample");let y=null,_=!1;return u(d,"curve",N=>()=>N.call(d),N=>k=>(N.call(d,k),_&&(s(k)&&y===null?y=n(c,d):!s(k)&&y!==null&&(y(),y=null)),k)),a(d,()=>{_=!0,s(d.curve)&&(y=n(c,d))},()=>{_=!1,y!==null&&(y(),y=null)})},fA=(n,e,t,s,a)=>(o,{curve:u,oversample:c,...f})=>{const d=o.createWaveShaper(),p=o.createWaveShaper();Es(d,f),Es(p,f);const y=t(o,{...f,gain:1}),_=t(o,{...f,gain:-1}),b=t(o,{...f,gain:1}),A=t(o,{...f,gain:-1});let N=null,k=!1,C=null;const R={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(F){y.channelCount=F,_.channelCount=F,d.channelCount=F,b.channelCount=F,p.channelCount=F,A.channelCount=F},get channelCountMode(){return d.channelCountMode},set channelCountMode(F){y.channelCountMode=F,_.channelCountMode=F,d.channelCountMode=F,b.channelCountMode=F,p.channelCountMode=F,A.channelCountMode=F},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(F){y.channelInterpretation=F,_.channelInterpretation=F,d.channelInterpretation=F,b.channelInterpretation=F,p.channelInterpretation=F,A.channelInterpretation=F},get context(){return d.context},get curve(){return C},set curve(F){if(F!==null&&F.length<2)throw e();if(F===null)d.curve=F,p.curve=F;else{const Y=F.length,G=new Float32Array(Y+2-Y%2),O=new Float32Array(Y+2-Y%2);G[0]=F[0],O[0]=-F[Y-1];const B=Math.ceil((Y+1)/2),K=(Y+1)/2-1;for(let j=1;j<B;j+=1){const V=j/B*K,ne=Math.floor(V),W=Math.ceil(V);G[j]=ne===W?F[ne]:(1-(V-ne))*F[ne]+(1-(W-V))*F[W],O[j]=ne===W?-F[Y-1-ne]:-((1-(V-ne))*F[Y-1-ne])-(1-(W-V))*F[Y-1-W]}G[B]=Y%2===1?F[B-1]:(F[B-2]+F[B-1])/2,d.curve=G,p.curve=O}C=F,k&&(s(C)&&N===null?N=n(o,y):N!==null&&(N(),N=null))},get inputs(){return[y]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(F){d.oversample=F,p.oversample=F},addEventListener(...F){return y.addEventListener(F[0],F[1],F[2])},dispatchEvent(...F){return y.dispatchEvent(F[0])},removeEventListener(...F){return y.removeEventListener(F[0],F[1],F[2])}};u!==null&&(R.curve=u instanceof Float32Array?u:new Float32Array(u)),c!==R.oversample&&(R.oversample=c);const D=()=>{y.connect(d).connect(b),y.connect(_).connect(p).connect(A).connect(b),k=!0,s(C)&&(N=n(o,y))},I=()=>{y.disconnect(d),d.disconnect(b),y.disconnect(_),_.disconnect(p),p.disconnect(A),A.disconnect(b),k=!1,N!==null&&(N(),N=null)};return a(Ph(R,b),D,I)},xi=()=>new DOMException("","NotSupportedError"),dA={numberOfChannels:1},pA=(n,e,t,s,a)=>class extends n{constructor(u,c,f){let d;if(typeof u=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:u,sampleRate:f};else if(typeof u=="object")d=u;else throw new Error("The given parameters are not valid.");const{length:p,numberOfChannels:y,sampleRate:_}={...dA,...d},b=s(y,p,_);e(nd,()=>nd(b))||b.addEventListener("statechange",(()=>{let A=0;const N=k=>{this._state==="running"&&(A>0?(b.removeEventListener("statechange",N),k.stopImmediatePropagation(),this._waitForThePromiseToSettle(k)):A+=1)};return N})()),super(b,y),this._length=p,this._nativeOfflineAudioContext=b,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Vx(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},mA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},gA=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...mA,...d},_=t(p,y),b=o(p),A=b?s():null,N=f.sampleRate/2;super(f,!1,_,A),this._detune=e(this,b,_.detune,153600,-153600),this._frequency=e(this,b,_.frequency,N,-N),this._nativeOscillatorNode=_,this._onended=null,this._oscillatorNodeRenderer=A,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?u(this,f):null;this._nativeOscillatorNode.onended=d;const p=this._nativeOscillatorNode.onended;this._onended=p!==null&&p===d?f:p}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Dh(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),kl(this)&&gd(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},bA=(n,e,t,s,a)=>()=>{const o=new WeakMap;let u=null,c=null,f=null;const d=async(p,y)=>{let _=t(p);const b=ui(_,y);if(!b){const A={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,detune:_.detune.value,frequency:_.frequency.value,periodicWave:u===null?void 0:u,type:_.type};_=e(y,A),c!==null&&_.start(c),f!==null&&_.stop(f)}return o.set(y,_),b?(await n(y,p.detune,_.detune),await n(y,p.frequency,_.frequency)):(await s(y,p.detune,_.detune),await s(y,p.frequency,_.frequency)),await a(p,y,_),_};return{set periodicWave(p){u=p},set start(p){c=p},set stop(p){f=p},render(p,y){const _=o.get(y);return _!==void 0?Promise.resolve(_):d(p,y)}}},vA={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},yA=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...vA,...d},_=t(p,y),b=o(p),A=b?s():null;super(f,!1,_,A),this._nativePannerNode=_,this._orientationX=e(this,b,_.orientationX,vi,qi),this._orientationY=e(this,b,_.orientationY,vi,qi),this._orientationZ=e(this,b,_.orientationZ,vi,qi),this._positionX=e(this,b,_.positionX,vi,qi),this._positionY=e(this,b,_.positionY,vi,qi),this._positionZ=e(this,b,_.positionZ,vi,qi),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},xA=(n,e,t,s,a,o,u,c,f,d)=>()=>{const p=new WeakMap;let y=null;const _=async(b,A)=>{let N=null,k=o(b);const C={channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation},R={...C,coneInnerAngle:k.coneInnerAngle,coneOuterAngle:k.coneOuterAngle,coneOuterGain:k.coneOuterGain,distanceModel:k.distanceModel,maxDistance:k.maxDistance,panningModel:k.panningModel,refDistance:k.refDistance,rolloffFactor:k.rolloffFactor},D=ui(k,A);if("bufferSize"in k)N=s(A,{...C,gain:1});else if(!D){const I={...R,orientationX:k.orientationX.value,orientationY:k.orientationY.value,orientationZ:k.orientationZ.value,positionX:k.positionX.value,positionY:k.positionY.value,positionZ:k.positionZ.value};k=a(A,I)}if(p.set(A,N===null?k:N),N!==null){if(y===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=new u(6,b.context.length,A.sampleRate),V=e(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});V.connect(j.destination),y=(async()=>{const ne=await Promise.all([b.orientationX,b.orientationY,b.orientationZ,b.positionX,b.positionY,b.positionZ].map(async(W,oe)=>{const $=t(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:oe===0?1:0});return await c(j,W,$.offset),$}));for(let W=0;W<6;W+=1)ne[W].connect(V,0,W),ne[W].start(0);return d(j)})()}const I=await y,F=s(A,{...C,gain:1});await f(b,A,F);const Y=[];for(let j=0;j<I.numberOfChannels;j+=1)Y.push(I.getChannelData(j));let G=[Y[0][0],Y[1][0],Y[2][0]],O=[Y[3][0],Y[4][0],Y[5][0]],B=s(A,{...C,gain:1}),K=a(A,{...R,orientationX:G[0],orientationY:G[1],orientationZ:G[2],positionX:O[0],positionY:O[1],positionZ:O[2]});F.connect(B).connect(K.inputs[0]),K.connect(N);for(let j=128;j<I.length;j+=128){const V=[Y[0][j],Y[1][j],Y[2][j]],ne=[Y[3][j],Y[4][j],Y[5][j]];if(V.some((W,oe)=>W!==G[oe])||ne.some((W,oe)=>W!==O[oe])){G=V,O=ne;const W=j/A.sampleRate;B.gain.setValueAtTime(0,W),B=s(A,{...C,gain:0}),K=a(A,{...R,orientationX:G[0],orientationY:G[1],orientationZ:G[2],positionX:O[0],positionY:O[1],positionZ:O[2]}),B.gain.setValueAtTime(1,W),F.connect(B).connect(K.inputs[0]),K.connect(N)}}return N}return D?(await n(A,b.orientationX,k.orientationX),await n(A,b.orientationY,k.orientationY),await n(A,b.orientationZ,k.orientationZ),await n(A,b.positionX,k.positionX),await n(A,b.positionY,k.positionY),await n(A,b.positionZ,k.positionZ)):(await c(A,b.orientationX,k.orientationX),await c(A,b.orientationY,k.orientationY),await c(A,b.orientationZ,k.orientationZ),await c(A,b.positionX,k.positionX),await c(A,b.positionY,k.positionY),await c(A,b.positionZ,k.positionZ)),zh(k)?await f(b,A,k.inputs[0]):await f(b,A,k),k};return{render(b,A){const N=p.get(A);return N!==void 0?Promise.resolve(N):_(b,A)}}},wA={disableNormalization:!1},_A=(n,e,t,s)=>class Yx{constructor(o,u){const c=e(o),f=s({...wA,...u}),d=n(c,f);return t.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===Yx.prototype||t.has(o)}},SA=(n,e)=>(t,s,a)=>(n(s).replay(a),e(s,t,a)),NA=(n,e,t)=>async(s,a,o)=>{const u=n(s);await Promise.all(u.activeInputs.map((c,f)=>Array.from(c).map(async([d,p])=>{const _=await e(d).render(d,a),b=s.context.destination;!t(d)&&(s!==b||!t(s))&&_.connect(o,p,f)})).reduce((c,f)=>[...c,...f],[]))},AA=(n,e,t)=>async(s,a,o)=>{const u=e(s);await Promise.all(Array.from(u.activeInputs).map(async([c,f])=>{const p=await n(c).render(c,a);t(c)||p.connect(o,f)}))},TA=(n,e,t,s)=>a=>n(nd,()=>nd(a))?Promise.resolve(n(s,s)).then(o=>{if(!o){const u=t(a,512,0,1);a.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>a.currentTime,u.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const u=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{u.disconnect(),o(c.renderedBuffer)},u.connect(a.destination),a.startRendering()}),CA=n=>(e,t)=>{n.set(e,t)},kA=n=>(e,t)=>n.set(e,t),jA=(n,e,t,s,a,o,u,c)=>(f,d)=>t(f).render(f,d).then(()=>Promise.all(Array.from(s(d)).map(p=>t(p).render(p,d)))).then(()=>a(d)).then(p=>(typeof p.copyFromChannel!="function"?(u(p),Og(p)):e(o,()=>o(p))||c(p),n.add(p),p)),EA={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},MA=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=a(c),p={...EA,...f},y=t(d,p),_=o(d),b=_?s():null;super(c,!1,y,b),this._pan=e(this,_,y.pan)}get pan(){return this._pan}},LA=(n,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const p=ui(d,f);if(!p){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=e(f,y)}return o.set(f,d),p?await n(f,c.pan,d.pan):await s(f,c.pan,d.pan),zh(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},OA=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},DA=(n,e)=>async()=>{if(n===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),a=URL.createObjectURL(t);let o=!1,u=!1;try{await s.audioWorklet.addModule(a);const c=new n(s,"a",{numberOfOutputs:0}),f=s.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>u=!0,f.connect(c),f.start(0),await s.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!u},RA=(n,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),s=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{t.oncomplete=()=>{s.disconnect(),a(t.currentTime!==0)},t.startRendering()})},IA=()=>new DOMException("","UnknownError"),VA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},FA=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...VA,...d},_=t(p,y),A=o(p)?s():null;super(f,!0,_,A),this._isCurveNullified=!1,this._nativeWaveShaperNode=_,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},BA=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!ui(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=n(u,d)}return s.set(u,c),zh(c)?await t(o,u,c.inputs[0]):await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},zA=()=>typeof window>"u"?null:window,PA=(n,e)=>t=>{t.copyFromChannel=(s,a,o=0)=>{const u=n(o),c=n(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),p=s.length;for(let y=u<0?-u:0;y+u<f&&y<p;y+=1)s[y]=d[y+u]},t.copyToChannel=(s,a,o=0)=>{const u=n(o),c=n(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),p=s.length;for(let y=u<0?-u:0;y+u<f&&y<p;y+=1)d[y+u]=s[y]}},qA=n=>e=>{e.copyFromChannel=(t=>(s,a,o=0)=>{const u=n(o),c=n(a);if(u<e.length)return t.call(e,s,c,u)})(e.copyFromChannel),e.copyToChannel=(t=>(s,a,o=0)=>{const u=n(o),c=n(a);if(u<e.length)return t.call(e,s,c,u)})(e.copyToChannel)},UA=n=>(e,t)=>{const s=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),n(e,"buffer",a=>()=>{const o=a.call(e);return o===s?null:o},a=>o=>a.call(e,o===null?s:o))},HA=(n,e)=>(t,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const a=t.createBufferSource();e(s,()=>{const c=s.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(s,0,f)},()=>a.disconnect(s))},$x=(n,e,t)=>n.copyFromChannel===void 0?n.getChannelData(t)[0]:(n.copyFromChannel(e,t),e[0]),Xx=n=>{if(n===null)return!1;const e=n.length;return e%2!==0?n[Math.floor(e/2)]!==0:n[e/2-1]+n[e/2]!==0},wd=(n,e,t,s)=>{let a=n;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:u}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(n,e,{get:t(o),set:s(u)})},WA=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),GA=n=>({...n,channelCount:n.numberOfOutputs}),YA=n=>{const{imag:e,real:t}=n;return e===void 0?t===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(t,()=>0),real:t}:t===void 0?{...n,imag:e,real:Array.from(e,()=>0)}:{...n,imag:e,real:t}},Zx=(n,e,t)=>{try{n.setValueAtTime(e,t)}catch(s){if(s.code!==9)throw s;Zx(n,e,t+1e-7)}},$A=n=>{const e=n.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},XA=n=>{const e=n.createBufferSource(),t=n.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},ZA=n=>{const e=n.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Fg=n=>{const e=n.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},Qx=n=>{const e=n.createBuffer(1,1,44100),t=n.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},Bg=n=>{const e=n.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},QA=n=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(n)}finally{e.close(),t.close()}},KA=n=>{n.start=(e=>(t=0,s=0,a)=>{const o=n.buffer,u=o===null?s:Math.min(o.duration,s);o!==null&&u>o.duration-.5/n.context.sampleRate?e.call(n,t,0,0):e.call(n,t,u,a)})(n.start)},Kx=(n,e)=>{const t=e.createGain();n.connect(t);const s=(a=>()=>{a.call(n,t),n.removeEventListener("ended",s)})(n.disconnect);n.addEventListener("ended",s),Ph(n,t),n.stop=(a=>{let o=!1;return(u=0)=>{if(o)try{a.call(n,u)}catch{t.gain.setValueAtTime(0,u)}else a.call(n,u),o=!0}})(n.stop)},qh=(n,e)=>t=>{const s={value:n};return Object.defineProperties(t,{currentTarget:s,target:s}),typeof e=="function"?e.call(n,t):e.handleEvent.call(n,t)},JA=yS(xu),e8=AS(xu),t8=V6(jp),Jx=new WeakMap,n8=tN(Jx),po=d6(new Map,new WeakMap),Uo=zA(),e3=MN(po,Wo),zg=eN(yi),Js=NA(yi,zg,mu),r8=ES(e3,jr,Js),vr=sN(kp),Ol=sA(Uo),ur=wN(Ol),t3=new WeakMap,n3=Y6(qh),_d=RN(Uo),Pg=bN(_d),qg=vN(Uo),r3=yN(Uo),rd=VN(Uo),ls=t6(xS(Ex),NS(JA,e8,rp,t8,sp,yi,n8,md,jr,xu,kl,mu,P1),po,fN(Zm,sp,yi,jr,td,kl),Wo,Ep,xi,O6(rp,Zm,yi,jr,td,vr,kl,ur),z6(t3,yi,co),n3,vr,Pg,qg,r3,ur,rd),s8=jS(ls,r8,Wo,e3,vr,ur),Ug=new WeakSet,Ev=LN(Uo),s3=T6(new Uint32Array(1)),Hg=PA(s3,Wo),Wg=qA(s3),i3=LS(Ug,po,xi,Ev,Ol,OA(Ev),Hg,Wg),Mp=TS(Wi),a3=AA(zg,bd,mu),Go=x6(a3),Uh=DN(Mp,po,$A,XA,ZA,Fg,Qx,Bg,KA,UA(wd),Kx),Yo=SA(nN(bd),a3),i8=RS(Go,Uh,jr,Yo,Js),mo=n6(wS(Mx),t3,Lg,r6,dS,pS,mS,gS,bS,Ym,kx,_d,Zx),a8=DS(ls,i8,mo,Ps,Uh,vr,ur,qh),o8=HS(ls,WS,Wo,Ps,IN(Wi,wd),vr,ur,Js),l8=f6(Go,Wx,jr,Yo,Js),wu=kA(Jx),c8=h6(ls,mo,l8,Ep,Wx,vr,ur,wu),Ec=jN(xu,qg),u8=HA(Ps,Ec),Mc=HN(_d,u8),h8=g6(Mc,jr,Js),f8=m6(ls,h8,Mc,vr,ur),d8=y6(yd,jr,Js),p8=v6(ls,d8,yd,vr,ur,GA),m8=YN(Mp,Uh,Wi,Ec),Hh=GN(Mp,po,m8,Fg,Bg),g8=A6(Go,Hh,jr,Yo,Js),b8=N6(ls,mo,g8,Hh,vr,ur,qh),o3=$N(xi,wd),v8=j6(o3,jr,Js),y8=k6(ls,v8,o3,vr,ur,wu),x8=I6(Go,Gx,jr,Yo,Js),w8=R6(ls,mo,x8,Gx,vr,ur,wu),l3=XN(xi),_8=H6(Go,l3,jr,Yo,Js),S8=U6(ls,mo,_8,l3,xi,vr,ur,wu),N8=K6(Go,Wi,jr,Yo,Js),A8=Q6(ls,mo,N8,Wi,vr,ur),T8=JN(Ep,Ps,xd,xi),Lp=TA(po,Wi,xd,RA(Wi,Ol)),C8=hN(Uh,jr,Ol,Js,Lp),k8=ZN(T8),j8=cN(ls,k8,C8,vr,ur,wu),E8=GS(mo,Mc,Hh,xd,xi,$x,ur,wd),c3=new WeakMap,M8=kN(o8,E8,n3,ur,c3,qh),u3=iA(Mp,po,Fg,Qx,Bg,Kx),L8=bA(Go,u3,jr,Yo,Js),O8=gA(ls,mo,u3,L8,vr,ur,qh),h3=_6(Uh),D8=fA(h3,Ps,Wi,Xx,Ec),Op=hA(h3,Ps,D8,Xx,Ec,_d,wd),R8=oA(rp,Ps,Mc,Wi,xd,Op,xi,sp,$x,Ec),f3=aA(R8),I8=xA(Go,Mc,Hh,Wi,f3,jr,Ol,Yo,Js,Lp),V8=yA(ls,mo,f3,I8,vr,ur,wu),F8=lA(Wo),B8=_A(F8,vr,new WeakSet,YA),z8=uA(Mc,yd,Wi,Op,xi,Ec),d3=cA(z8,xi),P8=LA(Go,d3,jr,Yo,Js),q8=MA(ls,mo,d3,P8,vr,ur),U8=BA(Op,jr,Js),H8=FA(ls,Ps,Op,U8,vr,ur,wu),p3=_N(Uo),Gg=$6(Uo),m3=new WeakMap,W8=iN(m3,Ol),G8=p3?SS(po,xi,G6(Uo),Gg,X6(vS),vr,W8,ur,rd,new WeakMap,new WeakMap,DA(rd,Ol),Uo):void 0,Y8=xN(Pg,ur),$8=L6(Ug,po,M6,W6,new WeakSet,vr,Y8,tp,nd,Hg,Wg),g3=c6(G8,s8,i3,a8,c8,f8,p8,b8,y8,$8,w8,S8,A8,j8,M8,O8,V8,B8,q8,H8),X8=SN(ls,eA,vr,ur),Z8=AN(ls,tA,vr,ur),Q8=TN(ls,nA,vr,ur),K8=rA(Ps,ur),J8=CN(ls,K8,vr),eT=US(g3,Ps,xi,IA,X8,Z8,Q8,J8,_d),Yg=aN(c3),tT=CS(Yg),b3=w6(Wo),nT=F6(Yg),v3=P6(Wo),y3=new WeakMap,rT=J6(y3,co),sT=UN(b3,Wo,Ps,Mc,yd,Hh,Wi,xd,xi,v3,Gg,rT,Ec),iT=BN(Ps,sT,Wi,xi,Ec),aT=l6(Go,b3,Uh,Mc,yd,Hh,Wi,nT,v3,Gg,jr,rd,Ol,Yo,Js,Lp),oT=rN(m3),lT=CA(y3),Mv=p3?i6(tT,ls,mo,aT,iT,yi,oT,vr,ur,rd,WA,lT,QA,qh):void 0,cT=E6(xi,Ol),uT=jA(Ug,po,zg,Yg,Lp,tp,Hg,Wg),hT=pA(g3,po,Ps,cT,uT),fT=dN(kp,Pg),dT=pN(Mg,qg),pT=mN(Lg,r3),mT=gN(kp,ur);function Ea(n){return n===void 0}function En(n){return n!==void 0}function gT(n){return typeof n=="function"}function jl(n){return typeof n=="number"}function fu(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function bT(n){return typeof n=="boolean"}function ca(n){return Array.isArray(n)}function El(n){return typeof n=="string"}function T1(n){return El(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function en(n,e){if(!n)throw new Error(e)}function Ml(n,e,t=1/0){if(!(e<=n&&n<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${n}`)}function x3(n){!n.isOffline&&n.state!=="running"&&Dp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let w3=!1,Lv=!1;function Ov(n){w3=n}function vT(n){Ea(n)&&w3&&!Lv&&(Lv=!0,Dp("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let _3=console;function yT(...n){_3.log(...n)}function Dp(...n){_3.warn(...n)}function xT(n){return new eT(n)}function wT(n,e,t){return new hT(n,e,t)}const aa=typeof self=="object"?self:null,_T=aa&&(aa.hasOwnProperty("AudioContext")||aa.hasOwnProperty("webkitAudioContext"));function ST(n,e,t){return en(En(Mv),"AudioWorkletNode only works in a secure context (https or localhost)"),new(n instanceof aa?.BaseAudioContext?aa?.AudioWorkletNode:Mv)(n,e,t)}function go(n,e,t,s){var a=arguments.length,o=a<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,s);else for(var c=n.length-1;c>=0;c--)(u=n[c])&&(o=(a<3?u(o):a>3?u(e,t,o):u(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function bs(n,e,t,s){function a(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function c(p){try{d(s.next(p))}catch(y){u(y)}}function f(p){try{d(s.throw(p))}catch(y){u(y)}}function d(p){p.done?o(p.value):a(p.value).then(c,f)}d((s=s.apply(n,e||[])).next())})}class NT{constructor(e,t,s,a){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),s=new Worker(t);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function gu(n){return pT(n)}function Sc(n){return dT(n)}function q1(n){return mT(n)}function bh(n){return fT(n)}function AT(n){return n instanceof i3}function TT(n,e){return n==="value"||gu(e)||Sc(e)||AT(e)}function du(n,...e){if(!e.length)return n;const t=e.shift();if(fu(n)&&fu(t))for(const s in t)TT(s,t[s])?n[s]=t[s]:fu(t[s])?(n[s]||Object.assign(n,{[s]:{}}),du(n[s],t[s])):Object.assign(n,{[s]:t[s]});return du(n,...e)}function CT(n,e){return n.length===e.length&&n.every((t,s)=>e[s]===t)}function Qt(n,e,t=[],s){const a={},o=Array.from(e);if(fu(o[0])&&s&&!Reflect.has(o[0],s)&&(Object.keys(o[0]).some(c=>Reflect.has(n,c))||(du(a,{[s]:o[0]}),t.splice(t.indexOf(s),1),o.shift())),o.length===1&&fu(o[0]))du(a,o[0]);else for(let u=0;u<t.length;u++)En(o[u])&&(a[t[u]]=o[u]);return du(n,a)}function kT(n){return n.constructor.getDefaults()}function Ah(n,e){return Ea(n)?e:n}function ao(n,e){return e.forEach(t=>{Reflect.has(n,t)&&delete n[t]}),n}class Dl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||aa&&this.toString()===aa.TONE_DEBUG_CLASS)&&yT(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Dl.version=Cx;const $g=1e-6;function Rh(n,e){return n>e+$g}function tg(n,e){return Rh(n,e)||io(n,e)}function lp(n,e){return n+$g<e}function io(n,e){return Math.abs(n-e)<$g}function jT(n,e,t){return Math.max(Math.min(n,t),e)}class Ma extends Dl{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Qt(Ma.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(en(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];en(tg(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const s=this._search(e,t);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const s=this._search(e,t);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(io(this._timeline[t].time,e)){for(let s=t;s>=0&&io(this._timeline[s].time,e);s--)t=s;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&tg(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let s=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][t]<=e)return a-1;for(;s<o;){let u=Math.floor(s+(o-s)/2);const c=this._timeline[u],f=this._timeline[u+1];if(io(c[t],e)){for(let d=u;d<this._timeline.length;d++){const p=this._timeline[d];if(io(p[t],e))u=d;else break}return u}else{if(lp(c[t],e)&&Rh(f[t],e))return u;Rh(c[t],e)?o=u:s=u+1}}return-1}_iterate(e,t=0,s=this._timeline.length-1){this._timeline.slice(t,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const s=this._search(e);return s!==-1&&this._iterate(t,0,s),this}forEachAfter(e,t){const s=this._search(e);return this._iterate(t,s+1),this}forEachBetween(e,t,s){let a=this._search(e),o=this._search(t);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===t&&(o-=1),this._iterate(s,a,o)):a===-1&&this._iterate(s,0,o),this}forEachFrom(e,t){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(t,s+1),this}forEachAtTime(e,t){const s=this._search(e);if(s!==-1&&io(this._timeline[s].time,e)){let a=s;for(let o=s;o>=0&&io(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{t(o)},a,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const S3=[];function Rp(n){S3.push(n)}function ET(n){S3.forEach(e=>e(n))}const N3=[];function Ip(n){N3.push(n)}function MT(n){N3.forEach(e=>e(n))}class Sd extends Dl{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(a=>{Ea(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(t)}),this}once(e,t){const s=(...a)=>{t(...a),this.off(e,s)};return this.on(e,s),this}off(e,t){return e.split(/\W+/).forEach(a=>{if(Ea(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(Ea(t))this._events[a]=[];else{const o=this._events[a];for(let u=o.length-1;u>=0;u--)o[u]===t&&o.splice(u,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let a=0,o=s.length;a<o;a++)s[a].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const s=Object.getOwnPropertyDescriptor(Sd.prototype,t);Object.defineProperty(e.prototype,t,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class A3 extends Sd{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let Xg=class T3 extends A3{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Ma,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=Qt(T3.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=xT({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new NT(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(ET(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,s){return this._context.createBuffer(e,t,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,s){return this._context.createPeriodicWave(e,t,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return en(bh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return en(bh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return en(bh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){en(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){en(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){en(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){en(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return ST(this.rawContext,e,t)}addAudioWorkletModule(e){return bs(this,void 0,void 0,function*(){en(En(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return bs(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return bh(this._context)?this._context.resume():Promise.resolve()}close(){return bs(this,void 0,void 0,function*(){bh(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&MT(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),s=t.getChannelData(0);for(let o=0;o<s.length;o++)s[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=t,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const s=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:s,time:o+t})};return a(),s}};class LT extends A3{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return bs(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Er(n,e){ca(e)?e.forEach(t=>Er(n,t)):Object.defineProperty(n,e,{enumerable:!0,writable:!1})}function Zg(n,e){ca(e)?e.forEach(t=>Zg(n,t)):Object.defineProperty(n,e,{writable:!0})}const cr=()=>{};class Cr extends Dl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=cr;const e=Qt(Cr.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,El(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:cr,onload:cr,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:oo().sampleRate}set(e){return e instanceof Cr?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return bs(this,void 0,void 0,function*(){const t=Cr.load(e).then(s=>{this.set(s),this.onload(this)});Cr.downloads.push(t);try{yield t}finally{const s=Cr.downloads.indexOf(t);Cr.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=ca(e)&&e[0].length>0,s=t?e.length:1,a=t?e[0].length:e.length,o=oo(),u=o.createBuffer(s,a,o.sampleRate),c=!t&&s===1?[e]:e;for(let f=0;f<s;f++)u.copyToChannel(c[f],f);return this._buffer=u,this}toMono(e){if(jl(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const s=this.numberOfChannels;for(let a=0;a<s;a++){const o=this.toArray(a);for(let u=0;u<o.length;u++)t[u]+=o[u]}t=t.map(a=>a/s),this.fromArray(t)}return this}toArray(e){if(jl(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let s=0;s<this.numberOfChannels;s++)t[s]=this.getChannelData(s);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){en(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),a=Math.floor(t*this.sampleRate);en(s<a,"The start time must be less than the end time");const o=a-s,u=oo().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)u.copyToChannel(this.getChannelData(c).subarray(s,a),c);return new Cr(u)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Cr().fromArray(e)}static fromUrl(e){return bs(this,void 0,void 0,function*(){return yield new Cr().load(e)})}static load(e){return bs(this,void 0,void 0,function*(){const t=Cr.baseUrl===""||Cr.baseUrl.endsWith("/")?Cr.baseUrl:Cr.baseUrl+"/",s=yield fetch(t+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const a=yield s.arrayBuffer();return yield oo().decodeAudioData(a)})}static supportsType(e){const t=e.split("."),s=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return bs(this,void 0,void 0,function*(){for(yield Promise.resolve();Cr.downloads.length;)yield Cr.downloads[0]})}}Cr.baseUrl="";Cr.downloads=[];class Qg extends Xg{constructor(){super({clockSource:"offline",context:q1(arguments[0])?arguments[0]:wT(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:q1(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=q1(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return bs(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const s=Math.floor(this.sampleRate/128);e&&t%s===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return bs(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new Cr(t)})}close(){return Promise.resolve()}}const C3=new LT;let uu=C3;function oo(){return uu===C3&&_T&&OT(new Xg),uu}function OT(n,e=!1){e&&uu.dispose(),bh(n)?uu=new Xg(n):q1(n)?uu=new Qg(n):uu=n}function _u(){return uu.resume()}if(aa&&!aa.TONE_SILENCE_LOGGING){const e=` * Tone.js v${Cx} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function DT(n){return Math.pow(10,n/20)}function RT(n){return 20*(Math.log(n)/Math.LN10)}function k3(n){return Math.pow(2,n/12)}let Vp=440;function IT(){return Vp}function VT(n){Vp=n}function hu(n){return Math.round(j3(n))}function j3(n){return 69+12*Math.log2(n/Vp)}function E3(n){return Vp*Math.pow(2,(n-69)/12)}class Kg extends Dl{constructor(e,t,s){super(),this.defaultUnits="s",this._val=t,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const s=parseInt(e,10),a=t==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/s)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,s)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a+=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(a+=this._beatsToUnits(parseFloat(s)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Kg&&this.fromType(this._val),Ea(this._val))return this._noArg();if(El(this._val)&&Ea(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(fu(this._val)){let e=0;for(const t in this._val)if(En(this._val[t])){const s=this._val[t],a=new this.constructor(this.context,t).valueOf()*s;e+=a}return e}if(En(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return El(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class lo extends Kg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new lo(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const s=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),c=Math.round(a/s)*s-a;return a+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let o=1;o<9;o++){const u=Math.pow(2,o);t.push(u+"n."),t.push(u+"n"),t.push(u+"t")}t.push("0");let s=t[0],a=new lo(this.context,t[0]).toSeconds();return t.forEach(o=>{const u=new lo(this.context,o).toSeconds();Math.abs(u-e)<Math.abs(a-e)&&(s=o,a=u)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const s=Math.floor(t/this._getTimeSignature());let a=t%1*4;t=Math.floor(t)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[s,t,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return hu(this.toFrequency())}_now(){return this.context.now()}}class oa extends lo{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return IT()}static set A4(e){VT(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:oa.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const a=FT[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?a:oa.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,s){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a*=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(a*=this._beatsToUnits(parseFloat(s)/4)),a}}})}transpose(e){return new oa(this.context,this.valueOf()*k3(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return hu(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/oa.A4);let s=Math.round(12*t)+57;const a=Math.floor(s/12);return a<0&&(s+=-12*a),BT[s%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return E3(e)}static ftom(e){return hu(e)}}const FT={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},BT=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Wf extends lo{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Hi extends Dl{constructor(){super();const e=Qt(Hi.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:oo()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return vT(e),new lo(this.context,e).toSeconds()}toFrequency(e){return new oa(this.context,e).toFrequency()}toTicks(e){return new Wf(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(s=>{Ea(e[s])&&delete t[s]}),t}get(){const e=kT(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const s=this[t];En(s)&&En(s.value)&&En(s.setValueAtTime)?e[t]=s.value:s instanceof Hi?e[t]=s._getPartialProperties(e[t]):ca(s)||jl(s)||El(s)||bT(s)?e[t]=s:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&En(this[t])&&(this[t]&&En(this[t].value)&&En(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Hi?this[t].set(e[t]):this[t]=e[t])}),this}}class Jg extends Ma{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,s){return Ml(t,0),this.add(Object.assign({},s,{state:e,time:t})),this}getLastState(e,t){const s=this._search(t);for(let a=s;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,t){const s=this._search(t);if(s!==-1)for(let a=s;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class gr extends Hi{constructor(){const e=Qt(gr.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,en(En(e.param)&&(gu(e.param)||e.param instanceof gr),"param must be an AudioParam");!gu(e.param);)e.param=e.param._param;this._swappable=En(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Ma(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,En(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Hi.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return En(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return En(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return En(this.maxValue)&&En(this.minValue)&&Ml(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?DT(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?RT(e):e}setValueAtTime(e,t){const s=this.toSeconds(t),a=this._fromType(e);return en(isFinite(a)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,s),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),s=this._events.getAfter(t),a=this._events.get(t);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const u=this._events.getBefore(a.time);let c;u===null?c=this._initialValue:c=u.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,t))}else if(s===null)o=a.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let u=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?u=this._initialValue:u=c.value}s.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,u,s.time,s.value,t):o=this._exponentialInterpolate(a.time,u,s.time,s.value,t)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const s=this._fromType(e),a=this.toSeconds(t);return en(isFinite(s)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this._events.add({time:a,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(s,a),this}exponentialRampToValueAtTime(e,t){let s=this._fromType(e);s=io(s,0)?this._minOutput:s,this._assertRange(s);const a=this.toSeconds(t);return en(isFinite(s)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(s,a),this}exponentialRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(t)),this}linearRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(t)),this}targetRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,t),this}exponentialApproachValueAtTime(e,t,s){t=this.toSeconds(t),s=this.toSeconds(s);const a=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,t,a),this.cancelAndHoldAtTime(t+s*.9),this.linearRampToValueAtTime(e,t+s),this}setTargetAtTime(e,t,s){const a=this._fromType(e);en(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(t);return this._assertRange(a),en(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:s,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,s),this._param.setTargetAtTime(a,o,s),this}setValueCurveAtTime(e,t,s,a=1){s=this.toSeconds(s),t=this.toSeconds(t);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),t);const u=s/(e.length-1);for(let c=1;c<e.length;c++){const f=this._fromType(e[c])*a;this.linearRampToValueAtTime(this._toType(f),t+c*u)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return en(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),s=this._fromType(this.getValueAtTime(t));en(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+s);const a=this._events.get(t),o=this._events.getAfter(t);return a&&io(a.time,t)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),t):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),t)),this._events.add({time:t,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,t),this}rampTo(e,t=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,s):this.linearRampTo(e,t,s),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const s=this._events.get(t);if(s&&s.type==="setTargetAtTime"){const a=this._events.getAfter(s.time),o=a?a.time:t+2,u=(o-t)/10;for(let c=t;c<o;c+=u)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){en(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,s,a,o){return s+(t-s)*Math.exp(-(o-e)/a)}_linearInterpolate(e,t,s,a,o){return t+(a-t)*((o-e)/(s-e))}_exponentialInterpolate(e,t,s,a,o){return t*Math.pow(a/t,(o-e)/(s-e))}}class rn extends Hi{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return En(this.input)?gu(this.input)||this.input instanceof gr?1:this.input.numberOfInputs:0}get numberOfOutputs(){return En(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return En(e)&&(e instanceof rn||Sc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();en(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,s=0){return Wh(this,e,t,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Dp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,s=0){return zT(this,e,t,s),this}chain(...e){return sd(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),En(this.input)&&(this.input instanceof rn?this.input.dispose():Sc(this.input)&&this.input.disconnect()),En(this.output)&&(this.output instanceof rn?this.output.dispose():Sc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function sd(...n){const e=n.shift();n.reduce((t,s)=>(t instanceof rn?t.connect(s):Sc(t)&&Wh(t,s),s),e)}function Wh(n,e,t=0,s=0){for(en(En(n),"Cannot connect from undefined node"),en(En(e),"Cannot connect to undefined node"),(e instanceof rn||Sc(e))&&en(e.numberOfInputs>0,"Cannot connect to node with no inputs"),en(n.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof rn||e instanceof gr;)En(e.input)&&(e=e.input);for(;n instanceof rn;)En(n.output)&&(n=n.output);gu(e)?n.connect(e,t):n.connect(e,t,s)}function zT(n,e,t=0,s=0){if(En(e))for(;e instanceof rn;)e=e.input;for(;!Sc(n);)En(n.output)&&(n=n.output);gu(e)?n.disconnect(e,t):Sc(e)?n.disconnect(e,t,s):n.disconnect()}class ys extends rn{constructor(){const e=Qt(ys.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new gr({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Er(this,"gain")}static getDefaults(){return Object.assign(rn.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ih extends rn{constructor(e){super(e),this.onended=cr,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ys({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const s=this.toSeconds(t);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(rn.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:cr})}_startGain(e,t=1){en(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+s):this._gainNode.gain.exponentialApproachValueAtTime(t,e,s)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){en(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==cr&&(this.onended(this),this.onended=cr,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),en(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=cr,this}}class e2 extends Ih{constructor(){const e=Qt(e2.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Wh(this._source,this._gainNode),this.offset=new gr({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Ih.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class br extends rn{constructor(){const e=Qt(br.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new e2({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(rn.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,s=0){return t2(this,e,t,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,s){return this._param.exponentialRampTo(e,t,s),this}linearRampTo(e,t,s){return this._param.linearRampTo(e,t,s),this}targetRampTo(e,t,s){return this._param.targetRampTo(e,t,s),this}exponentialApproachValueAtTime(e,t,s){return this._param.exponentialApproachValueAtTime(e,t,s),this}setTargetAtTime(e,t,s){return this._param.setTargetAtTime(e,t,s),this}setValueCurveAtTime(e,t,s,a){return this._param.setValueCurveAtTime(e,t,s,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,s){return this._param.rampTo(e,t,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function t2(n,e,t,s){(e instanceof gr||gu(e)||e instanceof br&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof br&&(e.overridden=!0)),Wh(n,e,t,s)}class n2 extends gr{constructor(){const e=Qt(n2.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Ma(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(gr.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,s){t=this.toSeconds(t),this.setRampPoint(t);const a=this._fromType(e),o=this._events.get(t),u=Math.round(Math.max(1/s,1));for(let c=0;c<=u;c++){const f=s*c+t,d=this._exponentialApproach(o.time,o.value,a,s,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(e,t){const s=this.toSeconds(t);super.setValueAtTime(e,t);const a=this._events.get(s),o=this._events.previousEvent(a),u=this._getTicksUntilEvent(o,s);return a.ticks=Math.max(u,0),this}linearRampToValueAtTime(e,t){const s=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const a=this._events.get(s),o=this._events.previousEvent(a),u=this._getTicksUntilEvent(o,s);return a.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const s=this._fromType(e),a=this._events.get(t),o=Math.round(Math.max((t-a.time)*10,1)),u=(t-a.time)/o;for(let c=0;c<=o;c++){const f=u*c+a.time,d=this._exponentialInterpolate(a.time,a.value,t,s,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ea(e.ticks)){const u=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(u,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(t));const o=this._events.get(t);return o&&o.time===t&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(s+a)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),s=this._events.get(t);return Math.max(this._getTicksUntilEvent(s,t),0)}getDurationOfTicks(e,t){const s=this.toSeconds(t),a=this.getTicksAtTime(t);return this.getTimeOfTick(a+e)-s}getTimeOfTick(e){const t=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&s&&s.type==="linearRampToValueAtTime"&&t.value!==s.value){const a=this._fromType(this.getValueAtTime(t.time)),u=(this._fromType(this.getValueAtTime(s.time))-a)/(s.time-t.time),c=Math.sqrt(Math.pow(a,2)-2*u*(t.ticks-e)),f=(-a+c)/u,d=(-a-c)/u;return(f>0?f:d)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const s=this.toSeconds(t),a=this.toSeconds(e),o=this.getTicksAtTime(s);return this.getTicksAtTime(s+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class r2 extends br{constructor(){const e=Qt(r2.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new n2({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(br.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class s2 extends Hi{constructor(){const e=Qt(s2.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Jg,this._tickOffset=new Ma,this._ticksAtTime=new Ma,this._secondsAtTime=new Ma,this.frequency=new r2({context:this.context,units:e.units,value:e.frequency}),Er(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Hi.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),En(t)&&this.setTicksAtTime(t,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const s=this._state.get(t);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),s=this._state.getLastState("stopped",t),a=this._ticksAtTime.get(t),o={state:"paused",time:t};this._state.add(o);let u=a||s,c=a?a.ticks:0,f=null;return this._state.forEachBetween(u.time,t+this.sampleTime,d=>{let p=u.time;const y=this._tickOffset.get(d.time);y&&y.time>=u.time&&(c=y.ticks,p=y.time),u.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(p),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),u=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),s=this.frequency.timeToTicks(e,t);this.setTicksAtTime(s,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const a=this._secondsAtTime.get(e);let o=a||t,u=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,e+this.sampleTime,f=>{let d=o.time;const p=this._tickOffset.get(f.time);p&&p.time>=o.time&&(u=p.seconds,d=p.time),o.state==="started"&&f.state!=="started"&&(u+=f.time-d,f.time!==s.time&&(c={state:f.state,time:f.time,seconds:u})),o=f}),this._state.remove(s),c&&this._secondsAtTime.add(c),u}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const s=this._tickOffset.get(t),a=this._state.get(t),o=Math.max(s.time,a.time),u=this.frequency.getTicksAtTime(o)+e-s.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(e,t,s){let a=this._state.get(e);this._state.forEachBetween(e,t,u=>{a&&a.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),u.time-this.sampleTime,s),a=u});let o=null;if(a&&a.state==="started"){const u=Math.max(a.time,e),c=this.frequency.getTicksAtTime(u),f=this.frequency.getTicksAtTime(a.time),d=c-f;let p=Math.ceil(d)-d;p=io(p,1)?0:p;let y=this.frequency.getTimeOfTick(c+p);for(;y<t;){try{s(y,Math.round(this.getTicksAtTime(y)))}catch(_){o=_;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}let M3=class L3 extends Hi{constructor(){const e=Qt(L3.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=cr,this._lastUpdate=0,this._state=new Jg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new s2({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Er(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Hi.getDefaults(),{callback:cr,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){x3(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,t),s<this._lastUpdate&&this.emit("start",s,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const s=this.toSeconds(t),a=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(a+e,s)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,s=>{switch(s.state){case"started":const a=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,a);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,t,(s,a)=>{this.callback(s,a)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};Sd.mixin(M3);class Gh extends rn{constructor(){const e=Qt(Gh.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new ys({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Er(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(rn.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class i2 extends rn{constructor(){const e=Qt(i2.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Gh({context:this.context}),this.output=new ys({context:this.context}),this.volume=this.input.volume,sd(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(rn.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),sd(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Rp(n=>{n.destination=new i2({context:n})});Ip(n=>{n.destination.dispose()});class PT extends rn{constructor(){super(...arguments),this.name="Listener",this.positionX=new gr({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new gr({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new gr({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new gr({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new gr({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new gr({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new gr({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new gr({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new gr({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(rn.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Rp(n=>{n.listener=new PT({context:n})});Ip(n=>{n.listener.dispose()});class a2 extends Dl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Qt(a2.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const s=e.urls[t];this.add(t,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:cr,onload:cr,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return en(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,s=cr,a=cr){return El(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Cr(this.baseUrl+t,s,a))):this._buffers.set(e.toString(),new Cr(t,s,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class cp extends oa{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return hu(super._frequencyToUnits(e))}_ticksToUnits(e){return hu(super._ticksToUnits(e))}_beatsToUnits(e){return hu(super._beatsToUnits(e))}_secondsToUnits(e){return hu(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return E3(this.toMidi())}transpose(e){return new cp(this.context,this.toMidi()+e)}}class wh extends Wf{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class qT extends Hi{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Ma,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Rp(n=>{n.draw=new qT({context:n})});Ip(n=>{n.draw.dispose()});class UT extends Dl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){en(En(e.time),"Events must have a time property"),en(En(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new HT(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const s of t)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let s,a=null;if(t>0)if(e.left.right===null)s=e.left,s.right=e.right,a=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,a=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,a=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,a=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const t=e.parent,s=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),t!==null?s?t.left=a:t.right=a:this._setRoot(a)}_rotateRight(e){const t=e.parent,s=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),t!==null?s?t.left=a:t.right=a:this._setRoot(a)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let s=t[0];for(let a=1;a<t.length;a++)t[a].low>s.low&&(s=t[a]);return s.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(s=>t.push(s)),t.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(a=>{a.event&&t(a.event)})}return this}forEachFrom(e,t){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(a=>{a.event&&t(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class HT{constructor(e,t,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class WT extends Dl{constructor(e){super(),this.name="TimelineValue",this._timeline=new Ma({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class Nc extends rn{constructor(){super(Qt(Nc.getDefaults(),arguments,["context"]))}connect(e,t=0,s=0){return t2(this,e,t,s),this}}class Nd extends Nc{constructor(){const e=Qt(Nd.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,ca(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):gT(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(br.getDefaults(),{length:1024})}setMap(e,t=1024){const s=new Float32Array(t);for(let a=0,o=t;a<o;a++){const u=a/(o-1)*2-1;s[a]=e(u,a)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(s=>s.includes(e));en(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Fp extends Nc{constructor(){const e=Qt(Fp.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Nd({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Nc.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Ac{constructor(e,t){this.id=Ac._eventId++,this._remainderTime=0;const s=Object.assign(Ac.getDefaults(),t);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:cr,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Ac._eventId=0;class o2 extends Ac{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(o2.getDefaults(),t);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Ac.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return lp(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new wh(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){lp(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new wh(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Rh(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Bp extends Hi{constructor(){const e=Qt(Bp.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new WT(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ma,this._repeatedEvents=new UT,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new M3({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Er(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Hi.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const s=t%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(s*Math.PI)*this._swingAmount;e+=new wh(this.context,this._swingTicks*2/3).toSeconds()*a}Ov(!0),this._timeline.forEachAtTime(t,s=>s.invoke(e)),Ov(!1)}schedule(e,t){const s=new Ac(this,{callback:e,time:new Wf(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,t,s,a=1/0){const o=new o2(this,{callback:e,duration:new lo(this.context,a).toTicks(),interval:new lo(this.context,t).toTicks(),time:new Wf(this.context,s).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,t){const s=new Ac(this,{callback:e,once:!0,time:new Wf(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(t,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new wh(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let s;return En(t)&&(s=this.toTicks(t)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){ca(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new lo(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new lo(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new wh(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new wh(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),s=this._clock.frequency.timeToTicks(e,t);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(t),a=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,t),o=t+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),s=this.getTicksAtTime(t),a=e-s%e;return this._clock.nextTickTime(a,t)}}syncSignal(e,t){const s=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(s)/this.PPQ),u=[];if(e.units==="time"){const f=.015625/o,d=new ys(f),p=new Fp(-1),y=new ys(f);a.chain(d,p,y),a=y,o=1/o,u=[d,p,y]}t||(e.getValueAtTime(s)!==0?t=e.getValueAtTime(s)/o:t=0);const c=new ys(t);return a.connect(c),c.connect(e._param),u.push(c),this._syncedSignals.push({initial:e.value,nodes:u,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const s=this._syncedSignals[t];s.signal===e&&(s.nodes.forEach(a=>a.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Zg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Sd.mixin(Bp);Rp(n=>{n.transport=new Bp({context:n})});Ip(n=>{n.transport.dispose()});class ci extends rn{constructor(e){super(e),this.input=void 0,this._state=new Jg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=cr,this._syncedStop=cr,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Gh({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Er(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(rn.getDefaults(),{mute:!1,onstop:cr,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,s){let a=Ea(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")en(Rh(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,t,s);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(Ah(t,0)),o.duration=s?this.toSeconds(s):void 0);const u=this.context.transport.schedule(c=>{this._start(c,t,s)},a);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else x3(this.context),this._start(a,t,s);return this}stop(e){let t=Ea(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||En(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const s=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(s)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Rh(t,0)){const s=this._state.get(t);if(s&&s.state==="started"&&s.time!==t){const a=t-this.toSeconds(s.time);let o;s.duration&&(o=this.toSeconds(s.duration)-a),this._start(e,this.toSeconds(s.offset)+a,o)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=cr,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class zp extends Ih{constructor(){const e=Qt(zp.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Wh(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new gr({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Cr(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ih.getDefaults(),{url:new Cr,loop:!1,loopEnd:0,loopStart:0,onload:cr,onerror:cr,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,s,a=1){en(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?t=Ah(t,this.loopStart):t=Ah(t,0);let u=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;tg(u,c)&&(u=(u-f)%d+f),io(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,lp(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,u)),En(s)){let c=this.toSeconds(s);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Su(n,e){return bs(this,void 0,void 0,function*(){const t=e/n.context.sampleRate,s=new Qg(1,t,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/t,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class l2 extends Ih{constructor(){const e=Qt(l2.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Wh(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new gr({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new gr({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Er(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ih.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class gs extends ci{constructor(){const e=Qt(gs.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new br({context:this.context,units:"frequency",value:e.frequency}),Er(this,"frequency"),this.detune=new br({context:this.context,units:"cents",value:e.detune}),Er(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(ci.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),s=new l2({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return gs._periodicWaveCache.find(t=>t.phase===this._phase&&CT(t.partials,this._partials));{const e=gs._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(En(s)){const{partials:a,wave:o}=s;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),u=this.context.createPeriodicWave(a,o);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),gs._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),gs._periodicWaveCache.length>100&&gs._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Ml(e,0);let t=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(t=s[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,u)=>a[u]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,t){let a=2048;const o=new Float32Array(a),u=new Float32Array(a);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,u]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let p;switch(e){case"sine":p=f<=c?1:0,this._partials[f-1]=p;break;case"square":p=f&1?2*d:0,this._partials[f-1]=p;break;case"sawtooth":p=d*(f&1?1:-1),this._partials[f-1]=p;break;case"triangle":f&1?p=2*(d*d)*(f-1>>1&1?-1:1):p=0,this._partials[f-1]=p;break;case"custom":p=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}p!==0?(o[f]=-p*Math.sin(t*f),u[f]=p*Math.cos(t*f)):(o[f]=0,u[f]=0)}return[o,u]}_inverseFFT(e,t,s){let a=0;const o=e.length;for(let u=0;u<o;u++)a+=e[u]*Math.cos(u*s)+t[u]*Math.sin(u*s);return a}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let s=0;const a=Math.PI*2,o=32;for(let u=0;u<o;u++)s=Math.max(this._inverseFFT(e,t,u/o*a),s);return jT(-this._inverseFFT(e,t,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return bs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}gs._periodicWaveCache=[];class O3 extends Nc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Nd({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ll extends br{constructor(){const e=Qt(Ll.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new ys({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(br.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Pp extends ci{constructor(){const e=Qt(Pp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new O3({context:this.context}),this._modulationNode=new ys({context:this.context}),this._carrier=new gs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new gs({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ll({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Er(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(gs.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return bs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class qp extends ci{constructor(){const e=Qt(qp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new ys({context:this.context,gain:0}),this._carrier=new gs({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new br({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new gs({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ll({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Ll({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Er(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(gs.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return bs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Ad extends ci{constructor(){const e=Qt(Ad.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new ys({context:this.context,gain:0}),this._thresh=new Nd({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new br({context:this.context,units:"audioRange",value:e.width}),this._triangle=new gs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Er(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ci.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return bs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Up extends ci{constructor(){const e=Qt(Up.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new br({context:this.context,units:"frequency",value:e.frequency}),this.detune=new br({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Er(this,["frequency","detune"])}static getDefaults(){return Object.assign(gs.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,s=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=t+s*o)}}get count(){return this._oscillators.length}set count(e){if(Ml(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const s=new gs({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):cr});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[t]=s}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,s)=>t.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return bs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Hp extends ci{constructor(){const e=Qt(Hp.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ll({context:this.context,value:2}),this._pulse=new Ad({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new gs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Er(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ci.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return bs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Dv={am:Pp,fat:Up,fm:qp,oscillator:gs,pulse:Ad,pwm:Hp};class Tc extends ci{constructor(){const e=Qt(Tc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new br({context:this.context,units:"frequency",value:e.frequency}),this.detune=new br({context:this.context,units:"cents",value:e.detune}),Er(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(gs.getDefaults(),qp.getDefaults(),Pp.getDefaults(),Up.getDefaults(),Ad.getDefaults(),Hp.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=Dv[e],s=this.now();if(this._oscillator){const a=this._oscillator;a.stop(s),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof Dv[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&jl(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&jl(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&El(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return bs(this,arguments,void 0,function*(e=1024){return Su(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class c2 extends br{constructor(){super(Qt(c2.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new ys({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,sd(this._constantSource,this._sum)}static getDefaults(){return Object.assign(br.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class u2 extends Nc{constructor(){const e=Qt(u2.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new Ll({context:this.context,value:e.max-e.min}),this._add=this.output=new c2({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Nc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function D3(n,e=1/0){const t=new WeakMap;return function(s,a){Reflect.defineProperty(s,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){Ml(o,n,e),t.set(this,o)}})}}function Rl(n,e=1/0){const t=new WeakMap;return function(s,a){Reflect.defineProperty(s,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){Ml(this.toSeconds(o),n,e),t.set(this,o)}})}}class Wp extends ci{constructor(){const e=Qt(Wp.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Cr({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(ci.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:cr,onerror:cr,playbackRate:1,reverse:!1})}load(e){return bs(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=cr){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,s){return super.start(e,t,s),this}_start(e,t,s){this._loop?t=Ah(t,this._loopStart):t=Ah(t,0);const a=this.toSeconds(t),o=s;s=Ah(s,Math.max(this._buffer.duration-a,0));let u=this.toSeconds(s);u=u/this._playbackRate,e=this.toSeconds(e);const c=new zp({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+u),this._state.setStateAtTime("stopped",e+u,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&Ea(o)?c.start(e,a):c.start(e,a,u-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(t))}restart(e,t,s){return super.restart(e,t,s),this}_restart(e,t,s){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,t,s)}seek(e,t){const s=this.toSeconds(t);if(this._state.getValueAtTime(s)==="started"){const a=this.toSeconds(e);this._stop(s),this._start(s,a)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Ml(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Ml(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),s=this._state.getNextState("stopped",t);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}go([Rl(0)],Wp.prototype,"fadeIn",void 0);go([Rl(0)],Wp.prototype,"fadeOut",void 0);class ua extends rn{constructor(){const e=Qt(ua.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new br({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(rn.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(El(e))return e;{let s;for(s in C1)if(C1[s][t]===e)return s;return e}}_setCurve(e,t,s){if(El(s)&&Reflect.has(C1,s)){const a=C1[s];fu(a)?e!=="_decayCurve"&&(this[e]=a[t]):this[e]=a}else if(ca(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),u=this.getValueAtTime(e);if(u>0){const c=1/a;a=(1-u)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,a,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=u&&u<=c[f]){c=this._attackCurve.slice(f),c[0]=u;break}this._sig.setValueCurveAtTime(c,e,a,t)}if(o&&this.sustain<1){const c=t*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(en(ca(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,s=1){return t=this.toSeconds(t),this.triggerAttack(t,s),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,s=0){return t2(this,e,t,s),this}asArray(){return bs(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,s=new Qg(1,t,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),u=o*.1,c=o+u,f=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:s}));return f._sig.toDestination(),f.triggerAttackRelease(t*(a+u)/c,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}go([Rl(0)],ua.prototype,"attack",void 0);go([Rl(0)],ua.prototype,"decay",void 0);go([D3(0,1)],ua.prototype,"sustain",void 0);go([Rl(0)],ua.prototype,"release",void 0);const C1=(()=>{let e,t;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){t=e/127;const _=Math.sin(t*(Math.PI*2)*o-Math.PI/2)+1;a[e]=_/10+t*.83}a[127]=1;const u=[],c=5;for(e=0;e<128;e++)u[e]=Math.ceil(e/127*c)/c;const f=[];for(e=0;e<128;e++)t=e/127,f[e]=.5*(1-Math.cos(Math.PI*t));const d=[];for(e=0;e<128;e++){t=e/127;const _=Math.pow(t,3)*4+.2,b=Math.cos(_*Math.PI*2*t);d[e]=Math.abs(b*(1-t))}function p(_){const b=new Array(_.length);for(let A=0;A<_.length;A++)b[A]=1-_[A];return b}function y(_){return _.slice(0).reverse()}return{bounce:{In:p(d),Out:d},cosine:{In:s,Out:y(s)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:p(a)},sine:{In:f,Out:p(f)},step:{In:u,Out:p(u)}}})();class Cc extends rn{constructor(){const e=Qt(Cc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Gh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Er(this,"volume")}static getDefaults(){return Object.assign(rn.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const s=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[t],u=this.context.transport.schedule(c=>{a[t]=c,s.apply(this,a)},o);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,s,a){const o=this.toSeconds(s),u=this.toSeconds(t);return this.triggerAttack(e,o,a),this.triggerRelease(o+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class uo extends Cc{constructor(){const e=Qt(uo.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Cc.getDefaults(),{detune:0,onsilence:cr,portamento:0})}triggerAttack(e,t,s=1){this.log("triggerAttack",e,t,s);const a=this.toSeconds(t);return this._triggerEnvelopeAttack(a,s),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const s=this.toSeconds(t),a=e instanceof oa?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,s)}else this.frequency.setValueAtTime(a,s);return this}}go([Rl(0)],uo.prototype,"portamento",void 0);class Gp extends ua{constructor(){super(Qt(Gp.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ys({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ja extends uo{constructor(){const e=Qt(ja.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Tc(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Gp(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Er(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(uo.getDefaults(),{envelope:Object.assign(ao(ua.getDefaults(),Object.keys(rn.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(ao(Tc.getDefaults(),[...Object.keys(ci.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class id extends uo{constructor(){const e=Qt(id.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new ja({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new ja({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new br({context:this.context,units:"frequency"}),this.detune=new br({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new Ll({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new ys({context:this.context,gain:0}),Er(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(uo.getDefaults(),{harmonicity:3,oscillator:Object.assign(ao(Tc.getDefaults(),[...Object.keys(ci.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(ao(ua.getDefaults(),Object.keys(rn.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(ao(Tc.getDefaults(),[...Object.keys(ci.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(ao(ua.getDefaults(),Object.keys(rn.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class up extends id{constructor(){super(Qt(up.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new O3({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class hp extends rn{constructor(){const e=Qt(hp.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new gr({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new gr({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new gr({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new gr({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(rn.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){en(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let u=0;u<e;u++){const f=Math.pow(u/e,2)*19980+20;t[u]=f}const s=new Float32Array(e),a=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(t,s,a),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class fp extends rn{constructor(){const e=Qt(fp.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new ys({context:this.context}),this.output=new ys({context:this.context}),this._filters=[],this._filters=[],this.Q=new br({context:this.context,units:"positive",value:e.Q}),this.frequency=new br({context:this.context,units:"frequency",value:e.frequency}),this.detune=new br({context:this.context,units:"cents",value:e.detune}),this.gain=new br({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Er(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(rn.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){en(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=jl(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let a=s.indexOf(t);en(a!==-1,`rolloff can only be ${s.join(", ")}`),a+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const u=new hp({context:this.context});u.type=this._type,this.frequency.connect(u.frequency),this.detune.connect(u.detune),this.Q.connect(u.Q),this.gain.connect(u.gain),this._filters[o]=u}this._internalChannels=this._filters,sd(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new hp({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((o,u)=>s[u]*=o)}),t.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Zg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class dp extends ua{constructor(){const e=Qt(dp.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Fp({context:this.context,value:e.exponent}),this._scale=this.output=new u2({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(ua.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);Ml(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class pp extends uo{constructor(){const e=Qt(pp.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new Tc(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new fp(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new dp(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new Gp(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Er(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(uo.getDefaults(),{envelope:Object.assign(ao(ua.getDefaults(),Object.keys(rn.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(ao(fp.getDefaults(),Object.keys(rn.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(ao(dp.getDefaults(),Object.keys(rn.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(ao(Tc.getDefaults(),Object.keys(ci.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Gf extends id{constructor(){const e=Qt(Gf.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new Ll({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(id.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class Yp extends ja{constructor(){const e=Qt(Yp.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Er(this,["oscillator","envelope"])}static getDefaults(){return du(uo.getDefaults(),ja.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const s=this.toSeconds(t),a=this.toFrequency(e instanceof oa?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,s),this.oscillator.frequency.exponentialRampToValueAtTime(a,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}go([D3(0)],Yp.prototype,"octaves",void 0);go([Rl(0)],Yp.prototype,"pitchDecay",void 0);const R3=new Set;function h2(n){R3.add(n)}function I3(n,e){const t=`registerProcessor("${n}", ${e})`;R3.add(t)}const GT=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;h2(GT);const YT=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;h2(YT);const $T=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;h2($T);const XT="feedback-comb-filter",ZT=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;I3(XT,ZT);class zi extends Cc{constructor(){const e=Qt(zi.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),en(!jl(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const s=this._voices.indexOf(this._dummyVoice);this._voices.splice(s,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Cc.getDefaults(),{maxPolyphony:32,options:{},voice:ja})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(s=>s.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return en(e instanceof uo,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Dp("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,s){e.forEach(a=>{const o=new cp(this.context,a).toMidi(),u=this._getNextAvailableVoice();u&&(u.triggerAttack(a,t,s),this._activeVoices.push({midi:o,voice:u,released:!1}),this.log("triggerAttack",a,t))})}_triggerRelease(e,t){e.forEach(s=>{const a=new cp(this.context,s).toMidi(),o=this._activeVoices.find(({midi:u,released:c})=>u===a&&!c);o&&(o.voice.triggerRelease(t),o.released=!0,this.log("triggerRelease",s,t))})}_scheduleEvent(e,t,s,a){en(!this.disposed,"Synth was already disposed"),s<=this.now()?e==="attack"?this._triggerAttack(t,s,a):this._triggerRelease(t,s):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,s,a)},s-this.now())}triggerAttack(e,t,s){Array.isArray(e)||(e=[e]);const a=this.toSeconds(t);return this._scheduleEvent("attack",e,a,s),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const s=this.toSeconds(t);return this._scheduleEvent("release",e,s),this}triggerAttackRelease(e,t,s,a){const o=this.toSeconds(s);if(this.triggerAttack(e,o,a),ca(t)){en(ca(e),"If the duration is an array, the notes must also be an array"),e=e;for(let u=0;u<e.length;u++){const c=t[Math.min(u,t.length-1)],f=this.toSeconds(c);en(f>0,"The duration must be greater than 0"),this.triggerRelease(e[u],o+f)}}else{const u=this.toSeconds(t);en(u>0,"The duration must be greater than 0"),this.triggerRelease(e,o+u)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=ao(e,["onsilence","context"]);return this.options=du(this.options,t),this._voices.forEach(s=>s.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:s})=>{s.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Td extends Cc{constructor(){const e=Qt(Td.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(s=>{const a=parseInt(s,10);if(en(T1(s)||jl(a)&&isFinite(a),`url key is neither a note or midi pitch: ${s}`),T1(s)){const o=new oa(this.context,s).toMidi();t[o]=e.urls[s]}else jl(a)&&isFinite(a)&&(t[a]=e.urls[a])}),this._buffers=new a2({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Cc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:cr,onerror:cr,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,s=1){return this.log("triggerAttack",e,t,s),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=j3(new oa(this.context,a).toFrequency()),u=Math.round(o),c=o-u,f=this._findClosest(u),d=u-f,p=this._buffers.get(d),y=k3(f+c),_=new zp({url:p,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);_.start(t,0,p.duration/y,s),ca(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(_),_.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const b=this._activeSources.get(u),A=b.indexOf(_);A!==-1&&b.splice(A,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(s=>{const a=new oa(this.context,s).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);t=this.toSeconds(t),o.forEach(u=>{u.stop(t)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,s,a=1){const o=this.toSeconds(s);return this.triggerAttack(e,o,a),ca(t)?(en(ca(e),"notes must be an array when duration is array"),e.forEach((u,c)=>{const f=t[Math.min(c,t.length-1)];this.triggerRelease(u,o+this.toSeconds(f))})):this.triggerRelease(e,o+this.toSeconds(t)),this}add(e,t,s){if(en(T1(e)||isFinite(e),`note must be a pitch or midi: ${e}`),T1(e)){const a=new oa(this.context,e).toMidi();this._buffers.add(a,t,s)}else this._buffers.add(e,t,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}go([Rl(0)],Td.prototype,"attack",void 0);go([Rl(0)],Td.prototype,"release",void 0);class f2 extends rn{constructor(){const e=Qt(f2.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new gr({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Er(this,"pan")}static getDefaults(){return Object.assign(rn.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const QT="bit-crusher",KT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;I3(QT,KT);class ms extends rn{constructor(){const e=Qt(ms.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new ys({context:this.context}),ms._allSolos.has(this.context)||ms._allSolos.set(this.context,new Set),ms._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(rn.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),ms._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){ms._soloed.has(this.context)||ms._soloed.set(this.context,new Set),ms._soloed.get(this.context).add(this)}_removeSolo(){ms._soloed.has(this.context)&&ms._soloed.get(this.context).delete(this)}_isSoloed(){return ms._soloed.has(this.context)&&ms._soloed.get(this.context).has(this)}_noSolos(){return!ms._soloed.has(this.context)||ms._soloed.has(this.context)&&ms._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ms._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ms._allSolos=new Map;ms._soloed=new Map;class d2 extends rn{constructor(){const e=Qt(d2.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new f2({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Gh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Er(this,["pan","volume"])}static getDefaults(){return Object.assign(rn.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class _h extends rn{constructor(){const e=Qt(_h.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new ms({solo:e.solo,context:this.context}),this._panVol=this.output=new d2({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Er(this,["pan","volume"])}static getDefaults(){return Object.assign(rn.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return _h.buses.has(e)||_h.buses.set(e,new ys({context:this.context})),_h.buses.get(e)}send(e,t=0){const s=this._getBus(e),a=new ys({context:this.context,units:"decibels",gain:t});return this.connect(a),a.connect(s),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}_h.buses=new Map;const Ui=oo().transport,V3=oo().destination;oo().destination;oo().listener;oo().draw;const vs=oo();function JT(){return Cr.loaded()}const k1=({cx:n,cy:e,innerRadius:t,outerRadius:s,startAngle:a,endAngle:o,color:u,label:c,chord:f,isSelected:d,isDiatonic:p,isSecondary:y=!1,onClick:_,onDoubleClick:b,ringType:A="major",wheelRotation:N=0,romanNumeral:k,voicingSuggestion:C,segmentId:R="seg",onHover:D})=>{const I=cS(n,e,t,s,a,o),F=(a+o)/2,Y=Xn.useRef(0),G=Xn.useRef(null),[O,B]=Xn.useState(!1),K=Xn.useRef(null),j=Xn.useRef(!1),V=Xn.useRef(!1),ne=-N,W=s-t,oe=t+W*.5,$=t+W*.18,te=wc(n,e,oe,F),le=wc(n,e,$,F),pe=s-6,be=lS(n,e,pe,a+1,o-1),z=`voicing-arc-${R}`,M=`clip-${R}`,J=(()=>{let He=.35,ut=.5;p?(He=1,ut=1):y&&(He=.7,ut=.65);const at=u.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(at){const ze=parseInt(at[1]),st=Math.round(parseInt(at[2])*ut),tt=parseInt(at[3]);let ht=tt;return A==="minor"?ht=Math.max(tt-8,30):A==="diminished"&&(ht=Math.max(tt-15,25)),{fill:`hsl(${ze}, ${st}%, ${ht}%)`,opacity:He}}return{fill:u,opacity:He}})(),Q=()=>A==="diminished"?"10px":A==="minor"?"12px":"14px",ae=p||y,fe=ae?"#000000":"rgba(255,255,255,0.7)",de=p?"bold":y?"600":"normal",xe=A==="diminished"||A==="minor"?"6px":"8px",we=A==="major"?ae?6:5:A==="minor"?ae?4:3.25:ae?3.5:3,Ve=ae?1:.95,Xe=He=>{if(B(!0),He.touches.length>=2){V.current=!0,K.current=null;return}He.touches.length===1&&!V.current&&(K.current={x:He.touches[0].clientX,y:He.touches[0].clientY},j.current=!1)},et=He=>{if(He.touches.length>=2){V.current=!0,j.current=!0;return}if(K.current&&He.touches.length===1&&!V.current){const ut=He.touches[0],at=ut.clientX-K.current.x,ze=ut.clientY-K.current.y;Math.sqrt(at*at+ze*ze)>15&&(j.current=!0)}},ct=async He=>{He.preventDefault(),He.stopPropagation(),B(!1);const ut=V.current,at=j.current;if(K.current=null,j.current=!1,He.touches.length===0&&(V.current=!1),ut||at)return;vs.state!=="running"&&await _u();const ze=Date.now(),st=ze-Y.current;G.current&&(clearTimeout(G.current),G.current=null),st<300&&st>0?(Y.current=0,b&&b(f)):(Y.current=ze,G.current=setTimeout(()=>{_(f),G.current=null},300))},P=()=>{B(!1),K.current=null,j.current=!1,V.current=!1,G.current&&(clearTimeout(G.current),G.current=null)},Ae=He=>{He.stopPropagation(),Be.current&&(clearTimeout(Be.current),Be.current=null),D&&D(null,0,0),_(f)},nt=He=>{He.stopPropagation(),Be.current&&(clearTimeout(Be.current),Be.current=null),D&&D(null,0,0),b&&b(f)},Be=Xn.useRef(null),Le=He=>{if(!D)return;const ut=He.clientX,at=He.clientY;Be.current=setTimeout(()=>{D("Select a chord slot in the timeline, then double-click a chord or chord voicing to add to the timeline.",ut,at)},3e3)},Ke=()=>{Be.current&&(clearTimeout(Be.current),Be.current=null),D&&D(null,0,0)};return v.jsxs("g",{className:Ht("cursor-pointer transition-all duration-200",!ae&&"hover:opacity-70",O&&"opacity-80"),onClick:Ae,onDoubleClick:nt,onTouchStart:Xe,onTouchMove:et,onTouchEnd:ct,onTouchCancel:P,onMouseEnter:Le,onMouseLeave:Ke,style:{pointerEvents:"all",WebkitTapHighlightColor:"transparent"},children:[(p||y)&&C&&v.jsx("defs",{children:v.jsx("path",{id:z,d:be,fill:"none"})}),v.jsx("defs",{children:v.jsx("clipPath",{id:M,children:v.jsx("path",{d:I})})}),v.jsx("path",{d:I,fill:J.fill,opacity:J.opacity,stroke:k==="I"?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",strokeWidth:k==="I"?2.5:1,className:Ht("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",ae&&"hover:brightness-105"),style:{pointerEvents:"all"}}),d&&v.jsx("path",{d:I,fill:"none",stroke:"white",strokeWidth:we,opacity:Ve,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${M})`}),(p||y)&&C&&A==="major"&&v.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:v.jsx("textPath",{href:`#${z}`,startOffset:"50%",textAnchor:"middle",children:C})}),p&&C&&A==="minor"&&v.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:v.jsx("textPath",{href:`#${z}`,startOffset:"50%",textAnchor:"middle",children:C})}),p&&C&&A==="diminished"&&v.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:v.jsx("textPath",{href:`#${z}`,startOffset:"50%",textAnchor:"middle",children:C})}),v.jsx("text",{x:te.x,y:te.y,textAnchor:"middle",dominantBaseline:"middle",fill:fe,fontWeight:de,fontSize:Q(),className:"pointer-events-none select-none",transform:`rotate(${ne}, ${te.x}, ${te.y})`,children:lr(c)}),(p||y)&&k&&v.jsx("text",{x:le.x,y:le.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:xe,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${ne}, ${le.x}, ${le.y})`,children:k})]})};const eC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Rv=n=>{const e=tC(n);return e.charAt(0).toUpperCase()+e.slice(1)},F3=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),nC=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var rC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sC=re.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:u,...c},f)=>re.createElement("svg",{ref:f,...rC,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:F3("lucide",a),...!o&&!nC(c)&&{"aria-hidden":"true"},...c},[...u.map(([d,p])=>re.createElement(d,p)),...Array.isArray(o)?o:[o]]));const an=(n,e)=>{const t=re.forwardRef(({className:s,...a},o)=>re.createElement(sC,{ref:o,iconNode:e,className:F3(`lucide-${eC(Rv(n))}`,`lucide-${n}`,s),...a}));return t.displayName=Rv(n),t};const iC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Yf=an("chevron-down",iC);const aC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vh=an("chevron-right",aC);const oC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fh=an("chevron-left",oC);const lC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],B3=an("chevron-up",lC);const cC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ad=an("circle-question-mark",cC);const uC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hC=an("circle",uC);const fC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dC=an("clock",fC);const pC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],mC=an("copy",pC);const gC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],p2=an("download",gC);const bC=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],vC=an("eraser",bC);const yC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],xC=an("file-plus",yC);const wC=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],_C=an("folder-open",wC);const SC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],z3=an("grip-vertical",SC);const NC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],P3=an("hand",NC);const AC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],TC=an("hash",AC);const CC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kC=an("info",CC);const jC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],EC=an("layers",jC);const MC=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],q3=an("list-music",MC);const LC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],OC=an("loader-circle",LC);const DC=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],mp=an("map",DC);const RC=[["path",{d:"M5 12h14",key:"1ays0h"}]],IC=an("minus",RC);const VC=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],FC=an("mouse-pointer-2",VC);const BC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],U3=an("music",BC);const zC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],H3=an("panel-right-close",zC);const PC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],qC=an("panel-right",PC);const UC=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],W3=an("pause",UC);const HC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Yh=an("play",HC);const WC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$h=an("plus",WC);const GC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],YC=an("refresh-cw",GC);const $C=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Iv=an("repeat",$C);const XC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gp=an("rotate-ccw",XC);const ZC=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Bh=an("rotate-cw",ZC);const QC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Vv=an("save",QC);const KC=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Fv=an("settings-2",KC);const JC=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],G3=an("skip-back",JC);const ek=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],Y3=an("skip-forward",ek);const tk=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nk=an("sparkles",tk);const rk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],$3=an("square",rk);const sk=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ik=an("tag",sk);const ak=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ng=an("trash-2",ak);const ok=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],rg=an("volume-2",ok);const lk=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],ck=an("volume-x",lk);const uk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bu=an("x",uk);const hk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],fk=an("zoom-in",hk);const dk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],pk=an("zoom-out",dk);let kc={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},m2="piano",Bf=null,U1=[],bp={},Bv=!1,Pi=null;const g2=()=>{if(Pi)return;if("audioSession"in navigator)try{navigator.audioSession.type="playback",console.log("[iOS Audio] Set audioSession.type to playback")}catch(t){console.warn("[iOS Audio] Could not set audioSession type:",t)}const n=["/+NIxAAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/","40jEAA8AAAANIAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU"].join("");Pi=document.createElement("audio"),Pi.src="data:audio/mpeg;base64,"+n,Pi.loop=!0,Pi.volume=.001,Pi.muted=!1,Pi.setAttribute("playsinline","true"),Pi.setAttribute("x-webkit-airplay","deny"),Pi.preload="auto",document.body.appendChild(Pi);const e=Pi.play();e!==void 0&&e.then(()=>{console.log("[iOS Audio] Silent media started - ringer switch workaround active")}).catch(t=>{console.log("[iOS Audio] Silent audio deferred until user gesture:",t.message)})},b2=async()=>{if(!Bv){if(console.log("[iOS Audio] Starting unlock sequence..."),g2(),Pi&&Pi.paused)try{await Pi.play(),console.log("[iOS Audio] Silent audio now playing")}catch(n){console.warn("[iOS Audio] Silent audio play failed:",n)}try{await _u(),console.log("[iOS Audio] Tone.start() completed, state:",vs.state)}catch(n){console.warn("[iOS Audio] Tone.start() failed:",n)}if(vs.state!=="running")try{await vs.resume(),console.log("[iOS Audio] Context resumed, state:",vs.state)}catch(n){console.warn("[iOS Audio] Context resume failed:",n)}Bv=!0,console.log("[iOS Audio] Unlock sequence complete")}},v2=n=>{n in kc&&(m2=n)},X3=n=>{const e=n<=0?-1/0:20*Math.log10(n);try{V3.volume.rampTo(e,.1)}catch(t){console.error("Error setting volume:",t)}},Z3=n=>{V3.mute=n},Lc=async()=>{if(Bf)return Bf;Bf=(async()=>{const n="https://tonejs.github.io/audio/salamander/",e=(t,s)=>{if(!kc[t])try{const a=s();a&&(kc[t]=a)}catch(a){console.error(`Failed to init instrument "${t}"`,a)}};e("piano",()=>new Td({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:n}).toDestination()),e("guitar",()=>new zi(ja,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),e("organ",()=>new zi(up,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("synth",()=>new zi(Gf,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("epiano",()=>new zi(up,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),e("strings",()=>new zi(ja,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),e("pad",()=>new zi(Gf,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),e("brass",()=>new zi(pp,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),e("marimba",()=>new zi(ja,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),e("bell",()=>new zi(Gf,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),e("lead",()=>new zi(ja,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),e("bass",()=>new zi(pp,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),e("choir",()=>new zi(ja,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await JT()})();try{await Bf}catch(n){Bf=null,console.error("Failed to initialize audio",n)}},zv=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Gr=async(n,e="1n",t)=>{if(vs.state!=="running"&&await _u(),vs.state==="suspended"&&await vs.resume(),await Lc(),!n||n.length===0)return;const s=n[0],a=zv.indexOf(s.replace(/\d/,"")),o=n.map((c,f)=>{if(c.match(/\d/))return c;const d=c,p=zv.indexOf(d);if(f===0)return`${d}3`;let y=3;return(p<a||p-a>6)&&(y=4),f>=4&&(y=4),f>=5&&(y=5),`${d}${y}`});let u=kc[m2];if(u||(u=kc.piano),!u){console.error("No instrument available to play!");return}try{u.triggerAttackRelease(o,e,t)}catch(c){console.error("Failed to play chord",c)}},Q3=async(n,e=4,t="8n")=>{vs.state!=="running"&&await _u(),vs.state==="suspended"&&await vs.resume(),await Lc();let s=kc[m2];if(s||(s=kc.piano),!s){console.error("No instrument available to play!");return}const a=`${n}${e}`;try{s.triggerAttackRelease(a,t)}catch(o){console.error(`Failed to play note ${a}`,o)}},K3=()=>{Object.values(kc).forEach(t=>t?.releaseAll()),Ui.stop();const{setPlayingSlot:n,setIsPlaying:e}=sn.getState();n(null,null),e(!1)},od=n=>{const e=Math.floor(n/4),t=Math.floor(n%4),s=Math.floor(n%1*4);return`${e}:${t}:${s}`},y2=n=>{Ui.cancel(0),U1=[],bp={},Ui.timeSignature=4;let e=0;n.sections.forEach(s=>{bp[s.id]=e,s.measures.forEach(a=>{a.beats.forEach(o=>{const u=od(e),c=o.duration,f=c*4,d=`${Math.floor(f/16)}:${Math.floor(f%16/4)}:${f%4}`,p=Ui.schedule(y=>{const b=Math.max(0,y-vs.currentTime)*1e3;setTimeout(()=>{sn.getState().setPlayingSlot(s.id,o.id)},b),o.chord&&Gr(o.chord.notes,d,y)},u);U1.push(p),e+=c})})});const t=Ui.schedule(()=>{sn.getState().isLooping||K3()},od(e));U1.push(t)},mk=async()=>{await Lc()},J3=async()=>{await Lc(),vs.state!=="running"&&await vs.resume();const{tempo:n,currentSong:e}=sn.getState();Ui.bpm.value=n,U1.length===0&&y2(e),Ui.start()},ew=()=>{Ui.pause()},tw=n=>{Ui.bpm.value=n},nw=n=>{const{currentSong:e,playingSectionId:t}=sn.getState(),s=e.sections.map(p=>p.id);let a=t?s.indexOf(t):-1;a===-1&&(a=0);let o=n==="next"?a+1:a-1;o>=s.length&&(o=0),o<0&&(o=0);const u=s[o],c=bp[u]||0,f=od(c);Ui.position=f;const d=e.sections[o].measures[0]?.beats[0];d&&sn.getState().setPlayingSlot(u,d.id)},rw=()=>{const{isLooping:n,playingSectionId:e,selectedSectionId:t,currentSong:s}=sn.getState();if(n){const a=e||t,o=s.sections.find(u=>u.id===a);if(o){const u=bp[o.id]??0;let c=0;o.measures.forEach(d=>d.beats.forEach(p=>c+=p.duration));const f=u+c;Ui.loopStart=od(u),Ui.loopEnd=od(f),Ui.loop=!0;return}}Ui.loop=!1},sg=Object.freeze(Object.defineProperty({__proto__:null,initAudio:Lc,pauseSong:ew,playChord:Gr,playNote:Q3,playSong:J3,preloadAudio:mk,scheduleSong:y2,setInstrument:v2,setMute:Z3,setTempo:tw,setVolume:X3,skipToSection:nw,startSilentAudioForIOS:g2,stopAudio:K3,toggleLoopMode:rw,unlockAudioForIOS:b2},Symbol.toStringTag,{value:"Module"})),vp=768;function x2(){const[n,e]=re.useState(()=>typeof window<"u"?window.innerWidth<vp:!1);return re.useEffect(()=>{const t=()=>e(window.innerWidth<vp);return window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),n}function Xh(){const[n,e]=re.useState(()=>typeof window<"u"?window.innerWidth<vp||window.innerHeight<500&&window.innerHeight<window.innerWidth:!1),[t,s]=re.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerHeight<500:!1);return re.useEffect(()=>{const a=()=>{const o=window.innerWidth,u=window.innerHeight,c=o<vp||u<500&&u<o,f=u<o&&u<500;e(c),s(f)};return window.addEventListener("resize",a),window.addEventListener("orientationchange",a),()=>{window.removeEventListener("resize",a),window.removeEventListener("orientationchange",a)}},[]),{isMobile:n,isLandscape:t}}var Cl=Ax();const gk=7e3,bk=({isOpen:n,onClose:e,onSelect:t,onAddToTimeline:s,onOpenDetails:a,chordRoot:o,voicings:u,selectedQuality:c,portraitWithPanel:f=!1})=>{const d=re.useRef(null),{isMobile:p,isLandscape:y}=Xh(),_=p&&y,[b,A]=re.useState(c),N=re.useRef(null),k=re.useRef(null);re.useEffect(()=>{n&&A(c)},[n,c]);const C=re.useCallback(()=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{e()},gk)},[e]);if(re.useEffect(()=>(n&&C(),()=>{k.current&&clearTimeout(k.current)}),[n,C]),re.useEffect(()=>{if(!n)return;const D=F=>{d.current&&!d.current.contains(F.target)&&e()},I=setTimeout(()=>{document.addEventListener("mousedown",D),document.addEventListener("touchstart",D)},100);return()=>{clearTimeout(I),document.removeEventListener("mousedown",D),document.removeEventListener("touchstart",D)}},[n,e]),re.useEffect(()=>{if(!n)return;const D=I=>{I.key==="Escape"&&e()};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[n,e]),!n)return null;const R=D=>{const I=Date.now();if(C(),N.current&&N.current.quality===D&&I-N.current.time<400){s&&s(D),e(),N.current=null;return}const F=ka(o,D);Gr(F),A(D),t(D),N.current={quality:D,time:I}};return Cl.createPortal(v.jsxs("div",{ref:d,className:Ht("fixed bg-bg-elevated border border-border-medium rounded-xl shadow-xl","flex flex-row flex-nowrap items-center justify-center","animate-in fade-in zoom-in-95 duration-150",u.length>5||_?"p-1 gap-1":"p-2 gap-2"),style:{bottom:_?"56px":f?"6%":p?"13%":"220px",top:"auto",..._?{left:"24%",transform:"translateX(-50%)",maxWidth:"min(55vw, fit-content)"}:p?{left:"50%",transform:"translateX(-50%)",maxWidth:"calc(100vw - 32px)"}:{right:"340px",left:"auto",transform:"none",maxWidth:"calc(100vw - 400px)"},zIndex:99999},children:[u.map(D=>{const I=D.quality===b,F=u.length>4||_,Y=u.length>=6;return v.jsx("button",{onClick:G=>{G.stopPropagation(),R(D.quality)},onTouchEnd:G=>{G.stopPropagation()},className:Ht("flex items-center justify-center rounded-lg transition-all shrink-0",Y?"min-w-[32px] h-9 px-0.5":F?"min-w-[40px] h-10 px-1.5":"min-w-[48px] h-12 px-2",I?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-text-primary hover:bg-bg-tertiary"),title:`Tap to preview, double-tap to add ${o}${D.label}`,children:v.jsx("span",{className:Ht("font-semibold",Y?"text-[10px]":F?"text-xs":I?"text-sm":"text-xs"),children:D.label||"maj"})},D.quality)}),u.length>0&&v.jsx("div",{className:"w-px bg-border-subtle self-stretch my-1 shrink-0"}),a&&v.jsx("button",{onClick:D=>{D.stopPropagation(),a(),e()},onTouchEnd:D=>{D.preventDefault(),D.stopPropagation(),a(),e()},className:Ht("flex items-center justify-center rounded-lg transition-all shrink-0","text-text-tertiary hover:text-text-secondary hover:bg-bg-tertiary",u.length>=6?"w-7 h-9":u.length>4||_?"w-8 h-10":"w-10 h-12"),title:"Open chord details",children:v.jsx(kC,{size:u.length>=6?12:u.length>4||_?14:16})}),s&&v.jsx("button",{onClick:D=>{D.stopPropagation();const I=b||c||u[0]?.quality;I&&(s(I),e())},onTouchEnd:D=>{D.preventDefault(),D.stopPropagation();const I=b||c||u[0]?.quality;I&&(s(I),e())},className:Ht("flex items-center justify-center rounded-lg transition-all shrink-0","text-accent-primary hover:text-white hover:bg-accent-primary/20",u.length>=6?"w-7 h-9":u.length>4||_?"w-8 h-10":"w-10 h-12"),title:"Add to timeline",children:v.jsx($h,{size:u.length>=6?14:u.length>4||_?16:18})})]}),document.body)};function vk(n,e){if(!n)return[];const t=n.split(/,\s*|\s+or\s+/).map(a=>a.trim()).filter(Boolean),s=[];e==="major"?s.push({quality:"major",label:""}):e==="minor"?s.push({quality:"minor",label:"m"}):e==="diminished"&&s.push({quality:"diminished",label:""});for(const a of t){let o=a,u=a;a==="6"?(o="major6",u="6"):a==="m6"?(o="minor6",u="m6"):a==="m75 (7)"?(o="halfDiminished7",u="7"):a==="m7"?(o="minor7",u="m7"):a==="m9"?(o="minor9",u="m9"):a==="m11"?(o="minor11",u="m11"):a==="sus4"?(o="sus4",u="sus4"):a==="7"?(o="dominant7",u="7"):a==="9"?(o="dominant9",u="9"):a==="11"?(o="dominant11",u="11"):a==="13"?(o="dominant13",u="13"):a==="maj7"?(o="major7",u="maj7"):a==="maj9"?(o="major9",u="maj9"):a==="maj13"&&(o="major13",u="maj13"),s.push({quality:o,label:u})}return s}const yk=({zoomScale:n,zoomOriginY:e,onZoomChange:t,panOffset:s,onPanChange:a,rotationOffset:o=0,disableModeToggle:u=!1,footerVisible:c=!0})=>{const{selectedKey:f,setKey:d,wheelRotation:p,wheelMode:y,rotateWheel:_,toggleWheelMode:b,addChordToSlot:A,selectedSectionId:N,selectedSlotId:k,setSelectedChord:C,selectedChord:R,selectNextSlotAfter:D,setSelectedSlot:I,timelineVisible:F,openTimeline:Y,chordPanelVisible:G,toggleChordPanel:O,pulseChordPanel:B,chordPanelGuitarExpanded:K,chordPanelVoicingsExpanded:j}=sn(),V=Hf.indexOf(f),ne=-(V*30);let W;o!==0?W=ne+o:y==="rotating"?W=p:W=0;const oe=re.useRef(null),$=re.useRef(null),[te,le]=re.useState(null),[pe,be]=re.useState({x:0,y:0}),[z,M]=re.useState({isOpen:!1,chord:null,voicingSuggestion:"",baseQuality:""}),H=s??pe,J=re.useCallback(Ee=>{a?a(Ee):be(Ee)},[a]),Q=x2(),{isLandscape:ae}=Xh();re.useEffect(()=>{const Ee=R?.segmentId??null;le(Ee)},[R]);const fe=re.useRef(null),de=re.useRef(null),[xe,we]=re.useState(!1),Ve=re.useRef(0),Xe=re.useRef(0),[et,ct]=re.useState(!1),P=re.useRef(null),Ae=re.useCallback((Ee,Te)=>{if(!de.current)return 0;const Ye=de.current.getBoundingClientRect(),vt=Ye.left+Ye.width/2,Bt=Ye.top+Ye.height/2,Rt=Ee-vt,Vt=Te-Bt;return Math.atan2(Vt,Rt)*(180/Math.PI)},[]),nt=re.useCallback(Ee=>{for(;Ee>180;)Ee-=360;for(;Ee<-180;)Ee+=360;return Ee},[]),Be=re.useCallback(Ee=>{const Te=Hf.indexOf(f),Ye=Ee==="cw"?(Te+1)%12:(Te-1+12)%12;d(Hf[Ye]),_(Ee)},[f,d,_]),Le=re.useRef(null),Ke=re.useRef(!1),He=re.useCallback(Ee=>{if(Q||!de.current||!fe.current)return;const Te=de.current.getBoundingClientRect(),Ye=Te.width/2,vt=Te.height/2,Bt=Ee.clientX-Te.left-Ye,Rt=Ee.clientY-Te.top-vt,Vt=Math.sqrt(Bt*Bt+Rt*Rt),mn=Te.width/600*70,Wt=Te.width/600*250;Vt>mn&&Vt<=Wt?(we(!0),Ve.current=Ae(Ee.clientX,Ee.clientY),Xe.current=p,Ee.preventDefault()):Vt>Wt&&n>1&&(ct(!0),P.current={x:Ee.clientX,y:Ee.clientY},Ee.preventDefault())},[Ae,p,Q,n]),ut=re.useCallback(Ee=>{if(Ee.touches.length!==1)return;const Te=Ee.touches[0];if(Le.current={x:Te.clientX,y:Te.clientY},Ke.current=!1,!de.current)return;const Ye=de.current.getBoundingClientRect(),vt=Ye.width/2,Bt=Ye.height/2,Rt=Te.clientX-Ye.left-vt,Vt=Te.clientY-Ye.top-Bt,mn=Math.sqrt(Rt*Rt+Vt*Vt),Wt=Ye.width/600*70;mn>Wt&&(Ve.current=Ae(Te.clientX,Te.clientY),Xe.current=p)},[Ae,p]),at=re.useCallback(Ee=>{if(Ee.touches.length!==1||!Le.current)return;const Te=Ee.touches[0],Ye=Te.clientX-Le.current.x,vt=Te.clientY-Le.current.y;if(Math.sqrt(Ye*Ye+vt*vt)>10){if(Ke.current=!0,Ee.preventDefault(),!de.current)return;const Rt=de.current.getBoundingClientRect(),Vt=Rt.width/2,mn=Rt.height/2,Wt=Te.clientX-Rt.left,yr=Te.clientY-Rt.top,Zn=Math.sqrt(Math.pow(Wt-Vt,2)+Math.pow(yr-mn,2)),tr=Rt.width/600*70;if(Zn>tr&&Ve.current!==0){const xr=Ae(Te.clientX,Te.clientY),ei=nt(xr-Ve.current);if(Math.abs(ei)>=15){const qs=Math.round(ei/30);if(qs!==0){const wi=y==="fixed"?qs>0?"cw":"ccw":qs>0?"ccw":"cw",_i=Math.abs(qs);for(let wr=0;wr<_i;wr++)Be(wi);Ve.current=xr}}}}},[Ae,Be,y,nt]),ze=re.useCallback(Ee=>{if(!xe)return;const Te=Ae(Ee.clientX,Ee.clientY),Ye=nt(Te-Ve.current);if(Math.abs(Ye)>=15){const vt=Math.round(Ye/30);if(vt!==0){let Bt;y==="fixed"?Bt=vt>0?"cw":"ccw":Bt=vt>0?"ccw":"cw";const Rt=Math.abs(vt);for(let Vt=0;Vt<Rt;Vt++)Be(Bt);Ve.current=Te}}},[xe,Ae,Be,y,nt]),st=re.useCallback(()=>{we(!1)},[]);re.useEffect(()=>{if(xe)return document.addEventListener("mousemove",ze),document.addEventListener("mouseup",st),()=>{document.removeEventListener("mousemove",ze),document.removeEventListener("mouseup",st)}},[xe,ze,st]);const tt=re.useCallback((Ee,Te,Ye)=>{if(!fe.current||Ye<=1)return{x:0,y:0};const{clientWidth:vt,clientHeight:Bt}=fe.current,Rt=12,Vt=vt*(Ye-1)/2+Rt,mn=Bt*(Ye-1)/2+Rt;return{x:Math.max(-Vt,Math.min(Vt,Ee)),y:Math.max(-mn,Math.min(mn,Te))}},[]);re.useEffect(()=>{J(tt(H.x,H.y,n))},[n,tt,H.x,H.y,J]);const ht=re.useCallback(Ee=>{if(!et||!P.current)return;const Te=Ee.clientX-P.current.x,Ye=Ee.clientY-P.current.y;J(tt(H.x+Te,H.y+Ye,n)),P.current={x:Ee.clientX,y:Ee.clientY}},[et,n,tt,H,J]),yt=re.useCallback(()=>{ct(!1),P.current=null},[]);re.useEffect(()=>{if(et)return document.addEventListener("mousemove",ht),document.addEventListener("mouseup",yt),()=>{document.removeEventListener("mousemove",ht),document.removeEventListener("mouseup",yt)}},[et,ht,yt]);const dt=Ee=>({x:(Ee[0].clientX+Ee[1].clientX)/2,y:(Ee[0].clientY+Ee[1].clientY)/2}),xt=re.useCallback(Ee=>{if(Ee.touches.length===2){Ee.preventDefault();const Te=Ee.touches[0].clientX-Ee.touches[1].clientX,Ye=Ee.touches[0].clientY-Ee.touches[1].clientY;oe.current=Math.sqrt(Te*Te+Ye*Ye),$.current=dt(Ee.touches)}},[]),ft=re.useCallback(Ee=>{if(Ee.touches.length===2&&oe.current!==null){Ee.preventDefault(),Ee.stopPropagation();const Te=Ee.touches[0].clientX-Ee.touches[1].clientX,Ye=Ee.touches[0].clientY-Ee.touches[1].clientY,vt=Math.sqrt(Te*Te+Ye*Ye),Bt=vt/oe.current,Rt=Math.max(1,Math.min(2.5,n*Bt)),Vt=Rt>1.3?38:50,mn=dt(Ee.touches);if($.current){const Wt=mn.x-$.current.x,yr=mn.y-$.current.y;J(tt(H.x+Wt,H.y+yr,Rt))}oe.current=vt,$.current=mn,t(Rt,Vt)}},[n,t,tt,H,J]),hn=re.useCallback(Ee=>{oe.current=null,$.current=null,Ee.touches.length===0&&Ee.preventDefault()},[]),Xt=re.useCallback(Ee=>{if(Ee.ctrlKey||Ee.metaKey){Ee.preventDefault();const Te=Ee.deltaY>0?.9:1.1,Ye=Math.max(1,Math.min(2.5,n*Te)),vt=Ye>1.3?38:50;t(Ye,vt)}},[n,t]),Nt=pd(),St=600,Tt=St/2,gt=St/2,Jt=60,Lt=Jt+8,It=145,bn=It,bt=210,_e=bt,it=250,Ne=re.useMemo(()=>J_(f),[f]),rt=re.useMemo(()=>Ne.sharps>0?`${Ne.sharps}`:Ne.flats>0?`${Ne.flats}`:"",[Ne]),pt=re.useRef(0),At=Ee=>{const Te=Ee,Ye=Date.now();if(Ye-pt.current<300)return;pt.current=Ye,Gr(Ee.notes),le(Te.segmentId??null),C(Ee);let vt="";Te.positionIndex!==void 0&&Te.ringType&&(vt=fn(Te.positionIndex,Te.ringType==="major"?"major":Te.ringType==="minor"?Te.numeral==="ii"||Te.numeral==="vi"?"ii":"iii":"dim")),(!(Q&&!ae)||!G||!K&&!j)&&M({isOpen:!0,chord:Te,voicingSuggestion:vt,baseQuality:Te.quality})},ot=Ee=>{const Te=Ee;let Ye=N,vt=k;if(!Ye||!vt){Y();const Rt=sn.getState();if(Ye=Rt.selectedSectionId,vt=Rt.selectedSlotId,!Ye||!vt)return}A(Ee,Ye,vt),D(Ye,vt)||(I(Ye,vt),le(Te.segmentId??null),C(Ee)),F||Y()},Pt=Ee=>(Ee-V+12)%12,yn=(Ee,Te)=>{const Ye=Pt(Ee);return Te==="major"?Ye===0||Ye===1||Ye===11:Te==="ii"||Te==="iii"||Te==="dim"?Ye===0:!1},xn=Ee=>Pt(Ee)===1,wn=Ee=>{const Te=Pt(Ee);return Te===2||Te===4},Gt=(Ee,Te)=>{const Ye=Pt(Ee);if(Te==="major"){if(Ye===0)return"I";if(Ye===1)return"V";if(Ye===11)return"IV";if(Ye===2)return"II";if(Ye===4)return"III"}if(Te==="ii"){if(Ye===0)return"ii";if(Ye===1)return"vi"}return Te==="iii"&&Ye===0?"iii":Te==="dim"&&Ye===0?"vii":""},fn=(Ee,Te)=>{const Ye=Pt(Ee);if(Te==="major"){if(Ye===0)return"maj7, maj9, maj13 or 6";if(Ye===1)return"7, 9, 11, sus4, 13";if(Ye===11)return"maj7, maj9, maj13 or 6";if(Ye===2||Ye===4)return"7, sus4"}if(Te==="ii"){if(Ye===0)return"m7, m9, m11, m6";if(Ye===1)return"m7, m9, m11"}return Te==="iii"&&Ye===0?"m7":Te==="dim"&&Ye===0?"m75 (7)":""},dn=Ee=>{if(te)return te===Ee.segmentId;const Te=R?.segmentId;return Te?Te===Ee.segmentId:R&&!Te?R.root===Ee.root&&R.quality===Ee.quality:!1},Vn=re.useCallback(Ee=>{Ee.touches.length===2?xt(Ee):Ee.touches.length===1&&ut(Ee)},[xt,ut]),Fn=re.useCallback(Ee=>{Ee.touches.length===2?ft(Ee):Ee.touches.length===1&&at(Ee)},[ft,at]),Mn=re.useCallback(Ee=>{Le.current=null,Ke.current=!1,hn(Ee)},[hn]),[Ln,hr]=re.useState(null),Mr=re.useCallback((Ee,Te,Ye)=>{hr(Ee?{text:Ee,x:Te,y:Ye}:null)},[]),Cn=Ln?{position:"fixed",left:Ln.x,top:Ln.y,transform:"translate(-50%, -100%) translateY(-12px)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"11px",pointerEvents:"none",zIndex:9999,whiteSpace:"normal",textAlign:"center",maxWidth:"220px",lineHeight:"1.4",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"}:{};return v.jsxs("div",{ref:fe,"data-chord-wheel":!0,className:`relative flex flex-col items-center justify-center w-full h-full p-1 sm:p-2 select-none ${et?"cursor-grabbing":n>1&&!Q?"cursor-grab":""}`,onTouchStart:Vn,onTouchMove:Fn,onTouchEnd:Mn,onWheel:Xt,onMouseDown:He,style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"none"},children:[Ln&&v.jsx("div",{style:Cn,children:Ln.text}),v.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`translate(${H.x}px, ${H.y}px) scale(${n})`,transformOrigin:`center ${e}%`},children:v.jsxs("svg",{ref:de,width:"100%",height:"100%",viewBox:`0 0 ${St} ${St}`,className:`w-full h-full select-none ${xe?"cursor-grabbing":"cursor-grab"}`,onMouseDown:He,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[v.jsxs("defs",{children:[v.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[v.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),v.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),v.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:v.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),v.jsx("g",{style:{transform:`rotate(${W}deg)`,transformOrigin:`${Tt}px ${gt}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:Y_.map((Ee,Te)=>{const vt=Te*30-15,Bt=vt+30,Rt=Nt[Ee.major]||Nt.C,Vt=Ee.ii.replace("m",""),mn=Ee.iii.replace("m",""),Wt=Ee.diminished.replace("",""),yr=yn(Te,"major"),Zn=wn(Te),tr=yn(Te,"ii")||xn(Te),xr=yn(Te,"iii"),ei=yn(Te,"dim"),qs={root:Ee.major,quality:"major",numeral:Gt(Te,"major"),notes:ka(Ee.major,"major"),symbol:Ee.major,segmentId:`major-${Te}`,ringType:"major",positionIndex:Te},wi={root:Vt,quality:"minor",numeral:Gt(Te,"ii"),notes:ka(Vt,"minor"),symbol:Ee.ii,segmentId:`ii-${Te}`,ringType:"minor",positionIndex:Te},_i={root:mn,quality:"minor",numeral:Gt(Te,"iii"),notes:ka(mn,"minor"),symbol:Ee.iii,segmentId:`iii-${Te}`,ringType:"minor",positionIndex:Te},wr={root:Wt,quality:"diminished",numeral:Gt(Te,"dim"),notes:ka(Wt,"diminished"),symbol:Ee.diminished,segmentId:`dim-${Te}`,ringType:"diminished",positionIndex:Te},Us=15,_n=vt+-7.5,yo=_n+Us,hi=yo,ha=hi+Us,xo=15,cs=vt+(30-xo)/2,zr=cs+xo,Lr=Ee.major,wo=Ee.ii,Il=Ee.iii,Xo=Ee.diminished;return v.jsxs("g",{children:[v.jsx(k1,{cx:Tt,cy:gt,innerRadius:Lt,outerRadius:It,startAngle:vt,endAngle:Bt,color:Rt,label:Lr,chord:qs,isSelected:dn(qs),isDiatonic:yr,isSecondary:Zn,onClick:At,onDoubleClick:ot,ringType:"major",wheelRotation:W,romanNumeral:yr||Zn?Gt(Te,"major"):void 0,voicingSuggestion:yr||Zn?fn(Te,"major"):void 0,segmentId:`major-${Te}`,onHover:Mr}),v.jsx(k1,{cx:Tt,cy:gt,innerRadius:bn,outerRadius:bt,startAngle:_n,endAngle:yo,color:Rt,label:wo,chord:wi,isSelected:dn(wi),isDiatonic:tr,onClick:At,onDoubleClick:ot,ringType:"minor",wheelRotation:W,romanNumeral:tr?Gt(Te,"ii"):void 0,voicingSuggestion:tr?fn(Te,"ii"):void 0,segmentId:`ii-${Te}`,onHover:Mr}),v.jsx(k1,{cx:Tt,cy:gt,innerRadius:bn,outerRadius:bt,startAngle:hi,endAngle:ha,color:Rt,label:Il,chord:_i,isSelected:dn(_i),isDiatonic:xr,onClick:At,onDoubleClick:ot,ringType:"minor",wheelRotation:W,romanNumeral:xr?Gt(Te,"iii"):void 0,voicingSuggestion:xr?fn(Te,"iii"):void 0,segmentId:`iii-${Te}`,onHover:Mr}),v.jsx(k1,{cx:Tt,cy:gt,innerRadius:_e,outerRadius:it,startAngle:cs,endAngle:zr,color:Rt,label:Xo,chord:wr,isSelected:dn(wr),isDiatonic:ei,onClick:At,onDoubleClick:ot,ringType:"diminished",wheelRotation:W,romanNumeral:ei?Gt(Te,"dim"):void 0,voicingSuggestion:ei?fn(Te,"dim"):void 0,segmentId:`dim-${Te}`,onHover:Mr})]},Ee.major)})}),v.jsx("circle",{cx:Tt,cy:gt,r:Jt,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2",style:{pointerEvents:"none"}}),v.jsx("text",{x:Tt,y:gt-25,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),v.jsx("text",{x:Tt,y:gt+3,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:lr(f)}),v.jsx("text",{x:Tt,y:gt+21,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:rt||"No /"}),v.jsxs("g",{transform:`translate(${Tt-22}, ${gt+40})`,onClick:()=>Be("ccw"),onTouchEnd:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),Be("ccw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[v.jsx("circle",{r:Q?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),v.jsx("g",{transform:Q?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:v.jsx(gp,{size:Q?12:9,color:"#9898a6"})})]}),v.jsxs("g",{transform:`translate(${Tt+22}, ${gt+40})`,onClick:()=>Be("cw"),onTouchEnd:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),Be("cw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[v.jsx("circle",{r:Q?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),v.jsx("g",{transform:Q?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:v.jsx(Bh,{size:Q?12:9,color:"#9898a6"})})]}),v.jsxs("g",{transform:`translate(${Tt}, ${gt+40})`,onClick:u?void 0:b,onTouchEnd:u?void 0:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),b()},className:u?"":"cursor-pointer",style:{pointerEvents:u?"none":"all",cursor:u?"default":"pointer",opacity:u?.5:1},children:[v.jsx("circle",{r:Q?16:11,fill:u||y==="rotating"?"#252535":"#3f2e2e",className:"transition-colors",style:{pointerEvents:u?"none":"all",transition:"fill 0.3s ease"},children:v.jsx("title",{children:u?"Mode locked in this view":y==="rotating"?"Lock wheel (C at top)":"Pin current key to top"})}),v.jsxs("g",{style:{pointerEvents:"none",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",transform:o!==0?`rotate(${o}deg)`:y==="rotating"?"rotate(0deg)":`rotate(${V*30}deg)`,transformOrigin:"0px 0px"},children:[v.jsx("polygon",{points:Q?"0,-10 4,0 0,1.5 -4,0":"0,-7 2.5,0 0,1 -2.5,0",fill:"#ef4444",stroke:"#b91c1c",strokeWidth:"0.5"}),v.jsx("polygon",{points:Q?"0,10 4,0 0,-1.5 -4,0":"0,7 2.5,0 0,-1 -2.5,0",fill:"#f1f5f9",stroke:"#94a3b8",strokeWidth:"0.5"}),v.jsx("circle",{cx:0,cy:0,r:Q?2:1.5,fill:y==="rotating"?"#fef2f2":"#6b7280"})]})]})]})}),v.jsx(bk,{isOpen:z.isOpen,onClose:()=>M({...z,isOpen:!1}),onSelect:Ee=>{if(z.chord){const Te=ka(z.chord.root,Ee),Ye={...z.chord,quality:Ee,notes:Te,symbol:`${z.chord.root}${Nh(Ee)}`};C(Ye)}},onAddToTimeline:Ee=>{if(z.chord){const Te=ka(z.chord.root,Ee),Ye={...z.chord,quality:Ee,notes:Te,symbol:`${z.chord.root}${Nh(Ee)}`};let vt=N,Bt=k;if(!vt||!Bt){Y();const Rt=sn.getState();if(vt=Rt.selectedSectionId,Bt=Rt.selectedSlotId,!vt||!Bt)return}A(Ye,vt,Bt),I(vt,Bt),C(Ye),F||Y()}},onOpenDetails:()=>{G?B():O()},chordRoot:z.chord?.root||"C",voicings:vk(z.voicingSuggestion,z.baseQuality),selectedQuality:z.chord?.quality,portraitWithPanel:Q&&!ae&&G&&!K&&!j}),Q&&!ae&&!G&&R&&(()=>{const Ee=Nt[R.root]||"#6366f1",Te=R.quality;let Ye;return Te==="major"||Te==="maj"?Ye=lr(R.root):Te==="minor"||Te==="m"?Ye=lr(`${R.root}m`):Te==="diminished"||Te==="dim"?Ye=lr(`${R.root}`):Ye=lr(`${R.root}${Nh(Te)}`),v.jsxs("div",{className:"fixed flex items-center gap-1 z-10 cursor-pointer touch-feedback active:scale-95",style:{bottom:F?c?"260px":"204px":c?"175px":"119px",right:"12px",backgroundColor:"transparent",color:Ee,padding:"4px 10px",borderRadius:"8px",border:`2px solid ${Ee}`,backdropFilter:"blur(8px)",background:"rgba(0, 0, 0, 0.4)",transition:"bottom 0.25s ease-out"},onClick:vt=>{vt.stopPropagation(),vt.preventDefault(),Gr(R.notes)},onTouchStart:vt=>{vt.stopPropagation()},onTouchEnd:vt=>{vt.stopPropagation(),vt.preventDefault(),Gr(R.notes)},children:[v.jsx("span",{className:"text-sm font-bold leading-none",children:Ye}),R.numeral&&v.jsx("span",{className:"text-xs font-serif italic opacity-70",children:lr(R.numeral)})]})})()]})},ig=({type:n,size:e=20,className:t})=>{const s=e>16?1.5:1;switch(n){case"whole":return v.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:v.jsx("ellipse",{cx:"12",cy:"12",rx:"6",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:s*1.5})});case"half":return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[v.jsx("ellipse",{cx:"10",cy:"16",rx:"5",ry:"3.5",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,transform:"rotate(-20, 10, 16)"}),v.jsx("line",{x1:"14.5",y1:"14",x2:"14.5",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]});case"dotted-half":return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[v.jsx("ellipse",{cx:"8",cy:"16",rx:"4.5",ry:"3",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,transform:"rotate(-20, 8, 16)"}),v.jsx("line",{x1:"12",y1:"14",x2:"12",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),v.jsx("circle",{cx:"17",cy:"16",r:"1.5",fill:"currentColor"})]});case"quarter":return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[v.jsx("ellipse",{cx:"10",cy:"16",rx:"5",ry:"3.5",fill:"currentColor",transform:"rotate(-20, 10, 16)"}),v.jsx("line",{x1:"14.5",y1:"14",x2:"14.5",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]});case"dotted-quarter":return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[v.jsx("ellipse",{cx:"8",cy:"16",rx:"4.5",ry:"3",fill:"currentColor",transform:"rotate(-20, 8, 16)"}),v.jsx("line",{x1:"12",y1:"14",x2:"12",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),v.jsx("circle",{cx:"17",cy:"16",r:"1.5",fill:"currentColor"})]});case"eighth":return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[v.jsx("ellipse",{cx:"9",cy:"17",rx:"4.5",ry:"3",fill:"currentColor",transform:"rotate(-20, 9, 17)"}),v.jsx("line",{x1:"13",y1:"15",x2:"13",y2:"4",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),v.jsx("path",{d:"M13 4 Q18 6 16 11",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]});case"sixteenth":return v.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[v.jsx("ellipse",{cx:"9",cy:"17",rx:"4.5",ry:"3",fill:"currentColor",transform:"rotate(-20, 9, 17)"}),v.jsx("line",{x1:"13",y1:"15",x2:"13",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),v.jsx("path",{d:"M13 3 Q18 5 16 9",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),v.jsx("path",{d:"M13 7 Q18 9 16 13",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]})}};function ag(n,e){const[t]=e;if(t%3===0&&t>3){if(n===1)return"dotted-half";if(n===2)return"dotted-quarter";if(n===3)return"quarter";if(n===6)return"eighth";if(n===12)return"sixteenth"}if(t===3){if(n===1)return"dotted-half";if(n===3)return"quarter";if(n===6)return"eighth";if(n===12)return"sixteenth"}return n===1?"whole":n===2?"half":n===4?"quarter":n===8?"eighth":n===16?"sixteenth":n<=1?"whole":n<=2?"half":n<=4?"quarter":n<=8?"eighth":"sixteenth"}function sw(n){const[e]=n;return e%3===0?[1,3,6].filter(t=>t<=8):[1,2,4,8]}const xk=({value:n,onChange:e,timeSignature:t,isCompact:s=!1})=>{const[a,o]=re.useState(!1),u=re.useRef(null),c=re.useRef(null),f=sw(t);re.useEffect(()=>{const y=_=>{u.current&&!u.current.contains(_.target)&&c.current&&!c.current.contains(_.target)&&o(!1)};if(a)return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[a]),re.useEffect(()=>{if(a){const y=()=>o(!1);return window.addEventListener("scroll",y,!0),()=>window.removeEventListener("scroll",y,!0)}},[a]);const d=ag(n,t),p=s?12:16;return v.jsxs("div",{className:"relative",children:[v.jsx("button",{ref:u,onClick:()=>o(!a),className:Ht("flex items-center justify-center rounded transition-all","hover:bg-accent-primary/20 active:scale-95","text-text-muted hover:text-accent-primary",s?"w-4 h-5":"w-5 h-6",a&&"bg-accent-primary/20 text-accent-primary"),title:`${n} step${n>1?"s":""} per measure`,children:v.jsx(ig,{type:d,size:p})}),a&&Cl.createPortal(v.jsx("div",{ref:c,className:Ht("fixed bg-bg-elevated border border-border-medium rounded-xl shadow-xl","flex flex-row gap-2 p-2","animate-in fade-in zoom-in-95 duration-150"),style:{top:"60%",left:"50%",transform:"translate(-50%, -50%)",zIndex:99999},children:f.map(y=>{const _=ag(y,t),b=y===n;return v.jsx("button",{onClick:()=>{e(y),o(!1)},className:Ht("flex items-center justify-center rounded-lg transition-all","w-12 h-12",b?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-text-primary hover:bg-bg-tertiary"),title:`${y} step${y>1?"s":""}`,children:v.jsx(ig,{type:_,size:26})},y)})}),document.body)]})},Pv={intro:{bg:"bg-purple-500/15",border:"border-purple-500/40",accent:"bg-purple-500"},verse:{bg:"bg-blue-500/15",border:"border-blue-500/40",accent:"bg-blue-500"},"pre-chorus":{bg:"bg-cyan-500/15",border:"border-cyan-500/40",accent:"bg-cyan-500"},chorus:{bg:"bg-amber-500/15",border:"border-amber-500/40",accent:"bg-amber-500"},bridge:{bg:"bg-emerald-500/15",border:"border-emerald-500/40",accent:"bg-emerald-500"},outro:{bg:"bg-rose-500/15",border:"border-rose-500/40",accent:"bg-rose-500"},custom:{bg:"bg-slate-500/15",border:"border-slate-500/40",accent:"bg-slate-500"}},wk=({section:n,songTimeSignature:e,className:t,onSlotClick:s})=>{const{tempo:a}=sn(),o=pd(),u=Pv[n.type]||Pv.custom,c=n.timeSignature||e,f=c[0],d=n.measures.length,[p,y]=re.useState(!1),[_,b]=re.useState(null),A=re.useRef([]),N=252,k=15,C=52,R=Math.floor(N/d),D=Math.max(k,Math.min(C,R)),I=d>8,F=d>12,Y=()=>{A.current.forEach(O=>clearTimeout(O)),A.current=[],y(!1),b(null)};re.useEffect(()=>(Y(),()=>{A.current.forEach(O=>clearTimeout(O)),A.current=[]}),[n.id]);const G=async()=>{if(p){Y();return}vs.state!=="running"&&await _u(),vs.state==="suspended"&&await vs.resume(),await Lc(),y(!0);const O=60/a*1e3,B=n.measures[0]?.beats.length||f,K=f/B,j=K*O;let V=0;n.measures.forEach(oe=>{oe.beats.forEach($=>{const te=V*j,le=window.setTimeout(()=>{b($.id)},te);if(A.current.push(le),$.chord&&$.chord.notes&&$.chord.notes.length>0){const pe=window.setTimeout(()=>{const M=`${4/Math.min(K,f)}n`;Gr($.chord.notes,M)},te);A.current.push(pe)}V++})});const ne=n.measures.reduce((oe,$)=>oe+$.beats.length,0),W=window.setTimeout(()=>{y(!1),b(null),A.current=[]},ne*j);A.current.push(W)};return v.jsx("div",{className:Ht("w-full",t),children:v.jsxs("div",{className:Ht("rounded-lg border overflow-hidden transition-all",u.bg,u.border),children:[v.jsx("div",{className:Ht("h-1 w-full",u.accent)}),v.jsx("div",{className:"pl-2 pr-3 py-2 overflow-hidden",style:{maxHeight:F?"80px":I?"100px":"120px"},children:v.jsx("div",{className:"flex gap-0.5",style:{minWidth:"min-content",width:"100%"},children:n.measures.map((O,B)=>{const K=O.beats.length;return v.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-0.5",style:{minWidth:`${D}px`,maxWidth:`${D}px`},children:[!F&&v.jsxs("div",{className:"h-3 flex items-center justify-between px-0.5",children:[v.jsx("span",{className:Ht("font-mono text-white/30",I?"text-[6px]":"text-[8px]"),children:B+1}),!I&&v.jsx("div",{className:"flex gap-px",children:Array.from({length:Math.min(K,f)}).map((j,V)=>v.jsx("div",{className:"w-0.5 h-1 bg-white/15 rounded-full"},V))})]}),v.jsx("div",{className:"flex-1 rounded overflow-hidden flex gap-px",style:{minHeight:F?"28px":I?"36px":"48px"},children:O.beats.map(j=>{const V=j.chord&&j.chord.notes&&j.chord.notes.length>0,ne=j.chord,W=V&&o[ne.root]||"#666",oe=_===j.id,$=O.beats.length;let te="9px";return F?te=$>2?"5px":"6px":I?te=$>2?"6px":"7px":te=$>2?"7px":$>1?"8px":"9px",V?v.jsx("div",{onClick:()=>s?.(j.id),className:Ht("flex-1 min-w-0 rounded-sm flex items-center justify-center font-bold truncate transition-all duration-150",oe&&"scale-105 z-10",s&&"cursor-pointer hover:scale-105 hover:brightness-110 active:scale-95"),style:{backgroundColor:oe?W:"rgba(0, 0, 0, 0.35)",border:`1.5px solid ${W}`,color:oe?"#fff":W,fontSize:te,padding:"0 2px",textShadow:oe?"0 1px 3px rgba(0,0,0,0.7)":"0 1px 2px rgba(0,0,0,0.5)",boxShadow:oe?`0 0 12px ${W}, 0 0 4px ${W}`:"none"},title:ne.symbol,children:lr(ne.symbol)},j.id):v.jsx("div",{onClick:()=>s?.(j.id),className:Ht("flex-1 min-w-0 rounded-sm flex items-center justify-center transition-all duration-150",oe&&"scale-105 z-10",s&&"cursor-pointer hover:scale-105 hover:bg-white/10 active:scale-95"),style:{backgroundColor:oe?"rgba(99, 102, 241, 0.5)":"rgba(255, 255, 255, 0.03)",border:oe?"1.5px solid rgba(99, 102, 241, 0.8)":"1px dashed rgba(255, 255, 255, 0.1)",boxShadow:oe?"0 0 8px rgba(99, 102, 241, 0.5)":"none"},children:v.jsx("span",{className:Ht("transition-colors duration-150",oe?"text-white/60":"text-white/10",I?"text-[6px]":"text-[8px]"),children:""})},j.id)})})]},O.id)})})}),v.jsxs("div",{className:"px-2 py-1.5 bg-black/20 border-t border-white/5 flex items-center gap-2",children:[v.jsx("button",{onClick:G,className:Ht("w-5 h-5 rounded-full flex items-center justify-center transition-all","hover:scale-110 active:scale-95",p?"bg-red-500/80 text-white":"bg-accent-primary/20 text-accent-primary hover:bg-accent-primary/30"),title:p?"Stop":"Play section once",children:p?v.jsx($3,{size:8}):v.jsx(Yh,{size:10,className:"ml-0.5"})}),v.jsxs("div",{className:"flex-1 flex items-center justify-center gap-3",children:[v.jsxs("span",{className:"text-[9px] font-mono text-white/40",children:[c[0],"/",c[1]]}),v.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-white/20"}),v.jsxs("span",{className:"text-[9px] font-mono text-white/40",children:[d," bar",d!==1?"s":""]})]})]})]})})},_k=[[4,4],[3,4],[5,4],[2,4],[6,8]],qv=[{name:"Intro",type:"intro"},{name:"Verse",type:"verse"},{name:"Pre-Chorus",type:"pre-chorus"},{name:"Chorus",type:"chorus"},{name:"Bridge",type:"bridge"},{name:"Interlude",type:"interlude"},{name:"Solo",type:"solo"},{name:"Breakdown",type:"breakdown"},{name:"Tag",type:"tag"},{name:"Hook",type:"hook"},{name:"Outro",type:"outro"}],Sk=({section:n,isOpen:e,onClose:t,onTimeSignatureChange:s,onBarsChange:a,onStepCountChange:o,onNameChange:u,onCopy:c,onClear:f,onDelete:d,songTimeSignature:p,onNavigatePrev:y,onNavigateNext:_,hasPrev:b=!1,hasNext:A=!1,sectionIndex:N,totalSections:k,onSlotClick:C})=>{const R=re.useRef(null),D=n.timeSignature||p,I=`${D[0]}/${D[1]}`,F=n.measures.length,Y=n.measures[0]?.beats.length??1,G=sw(D);return re.useEffect(()=>{if(!e)return;const O=B=>{B.key==="Escape"&&t()};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[e,t]),e?Cl.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-[99998] bg-black/40 backdrop-blur-[2px] animate-in fade-in duration-200",onClick:t}),y&&v.jsx("button",{onClick:y,disabled:!b,className:Ht("fixed top-1/2 -translate-y-1/2 z-[100000]","w-10 h-10 rounded-full flex items-center justify-center","transition-all duration-200",b?"bg-accent-primary/20 text-accent-primary hover:bg-accent-primary/30 hover:scale-110 active:scale-95":"bg-white/5 text-white/20 cursor-not-allowed"),style:{left:"calc(50% - min(150px, 45vw) - 52px)"},title:"Previous Section",children:v.jsx(Fh,{size:24})}),_&&v.jsx("button",{onClick:_,disabled:!A,className:Ht("fixed top-1/2 -translate-y-1/2 z-[100000]","w-10 h-10 rounded-full flex items-center justify-center","transition-all duration-200",A?"bg-accent-primary/20 text-accent-primary hover:bg-accent-primary/30 hover:scale-110 active:scale-95":"bg-white/5 text-white/20 cursor-not-allowed"),style:{right:"calc(50% - min(150px, 45vw) - 52px)"},title:"Next Section",children:v.jsx(Vh,{size:24})}),v.jsxs("div",{ref:R,className:`fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[99999]
                           bg-bg-elevated border border-border-medium rounded-xl 
                           shadow-2xl shadow-black/50
                           animate-in fade-in zoom-in-95 duration-200`,style:{minWidth:"260px",maxWidth:"300px",width:"90vw"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-bg-secondary/50 rounded-t-xl",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[N!==void 0&&k!==void 0&&v.jsxs("div",{className:"h-5 px-2 rounded-full flex items-center justify-center gap-0.5 font-bold text-white shrink-0",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)",boxShadow:"0 0 8px rgba(99,102,241,0.4)"},title:`Section ${N+1} of ${k}`,children:[v.jsx("span",{className:"text-[10px]",children:N+1}),v.jsx("span",{className:"text-[6px] opacity-60 font-medium",children:"of"}),v.jsx("span",{className:"text-[10px]",children:k})]}),(N===void 0||k===void 0)&&v.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(99,102,241,0.5)] shrink-0",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)"}}),u?v.jsx("select",{value:n.name,onChange:O=>{const B=qv.find(K=>K.name===O.target.value);B&&u(B.name,B.type)},className:`bg-transparent text-sm font-bold text-text-primary 
                                           focus:outline-none focus:ring-1 focus:ring-accent-primary/50
                                           appearance-none cursor-pointer pr-5`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0 center"},children:qv.map(O=>v.jsx("option",{value:O.name,className:"bg-bg-secondary",children:O.name},O.type))}):v.jsx("span",{className:"text-sm font-bold text-text-primary",children:n.name})]}),v.jsx("button",{onClick:t,className:"p-1.5 rounded-full hover:bg-bg-tertiary text-text-muted hover:text-text-primary transition-colors shrink-0",children:v.jsx(bu,{size:14})})]}),v.jsxs("div",{className:"p-4 space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Time Sig"}),v.jsx("div",{className:"relative",children:v.jsx("select",{value:I,onChange:O=>s(O.target.value),className:`w-full h-8 bg-bg-tertiary text-text-primary text-xs font-bold rounded-lg 
                                               px-3 border border-border-subtle 
                                               focus:outline-none focus:ring-1 focus:ring-accent-primary/50
                                               appearance-none cursor-pointer`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",paddingRight:"24px"},children:_k.map(([O,B])=>v.jsxs("option",{value:`${O}/${B}`,className:"bg-bg-secondary",children:[O,"/",B]},`${O}/${B}`))})})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Length"}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>a(Math.max(1,F-1)),disabled:F<=1,className:`h-8 w-8 flex items-center justify-center rounded-lg
                                               bg-bg-tertiary border border-border-subtle
                                               text-text-muted hover:text-text-primary hover:bg-bg-secondary
                                               disabled:opacity-30 disabled:cursor-not-allowed
                                               transition-all text-base font-bold active:scale-95`,children:""}),v.jsx("span",{className:"flex-1 text-center text-sm font-bold text-text-primary tabular-nums",children:F}),v.jsx("button",{onClick:()=>a(Math.min(32,F+1)),disabled:F>=32,className:`h-8 w-8 flex items-center justify-center rounded-lg
                                               bg-bg-tertiary border border-border-subtle
                                               text-text-muted hover:text-text-primary hover:bg-bg-secondary
                                               disabled:opacity-30 disabled:cursor-not-allowed
                                               transition-all text-base font-bold active:scale-95`,children:"+"})]})]})]}),o&&v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"block text-center text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Steps Per Bar"}),v.jsx("div",{className:"flex items-center gap-1.5 justify-center",children:G.map(O=>{const B=ag(O,D),K=O===Y;return v.jsx("button",{onClick:()=>o(O),className:Ht("flex items-center justify-center rounded-lg transition-all","w-11 h-11 active:scale-95",K?"bg-accent-primary text-white shadow-lg border-2 border-accent-primary":"bg-bg-tertiary border border-border-subtle text-text-muted hover:text-text-primary hover:bg-bg-secondary"),title:`${O} step${O>1?"s":""} per measure`,children:v.jsx(ig,{type:B,size:24})},O)})})]}),v.jsx(wk,{section:n,songTimeSignature:p,className:"pt-1",onSlotClick:C}),v.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[v.jsxs("button",{onClick:()=>{c(),t()},className:`flex items-center justify-center gap-1.5
                                       px-2 py-2.5 rounded-lg
                                       bg-accent-primary/10 border border-accent-primary/30
                                       text-accent-primary hover:bg-accent-primary/20
                                       transition-all text-xs font-bold active:scale-95`,children:[v.jsx(mC,{size:14}),"Duplicate"]}),v.jsxs("button",{onClick:()=>{f(),t()},className:`flex items-center justify-center gap-1.5
                                       px-2 py-2.5 rounded-lg
                                       bg-yellow-500/10 border border-yellow-500/30
                                       text-yellow-400 hover:bg-yellow-500/20
                                       transition-all text-xs font-bold active:scale-95`,children:[v.jsx(vC,{size:14}),"Clear"]}),v.jsxs("button",{onClick:()=>{d(),t()},className:`flex items-center justify-center gap-1.5
                                       px-2 py-2.5 rounded-lg
                                       bg-red-500/10 border border-red-500/30
                                       text-red-400 hover:bg-red-500/20
                                       transition-all text-xs font-bold active:scale-95`,children:[v.jsx(ng,{size:14}),"Remove"]})]})]})]})]}),document.body):null},Nk={intro:"Intro",verse:"Verse","pre-chorus":"Pre-Chorus",chorus:"Chorus",bridge:"Bridge",interlude:"Interlude",solo:"Solo",breakdown:"Breakdown",tag:"Tag",hook:"Hook",outro:"Outro"};function $f(n,e){const t=Nk[n.type],s=e.filter(o=>o.type===n.type);if(s.length<=1)return t;const a=s.findIndex(o=>o.id===n.id);return`${t} ${a+1}`}const og=({isOpen:n,onToggle:e,hideCloseButton:t=!1,isCompact:s=!1,isLandscape:a=!1})=>{const{currentSong:o,selectedSectionId:u,selectedSlotId:c,setSelectedSlot:f,selectSlotOnly:d,setSelectedChord:p,playingSectionId:y,playingSlotId:_,isPlaying:b,addSuggestedSection:A,setSectionTimeSignature:N,setSectionMeasures:k,setSectionSubdivision:C,removeSection:R,duplicateSection:D,clearSection:I,setMeasureSubdivision:F,selectedChord:Y,addChordToSlot:G,toggleSongMap:O,updateSection:B,undo:K,redo:j,canUndo:V,canRedo:ne,clearSlot:W}=sn(),oe=o.timeSignature,$=pd(),te=re.useRef(null),le=re.useRef(null),{isMobile:pe}=Xh(),be=!pe,[z,M]=Xn.useState(0),H=re.useRef(0),[J,Q]=Xn.useState(0),ae=re.useRef(0),[fe,de]=Xn.useState(0),xe=re.useRef(!1),[we,Ve]=Xn.useState(null),Xe=re.useRef(null);re.useEffect(()=>{if(!b&&u&&le.current){const ze=o.sections.findIndex(st=>st.id===u);ze!==-1&&(M(ze),setTimeout(()=>{if(le.current){const st=le.current.querySelector(`[data-section-id="${u}"]`);st&&st.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},100))}},[u,o.sections,b]),re.useEffect(()=>{if(b&&y){const ze=o.sections.findIndex(st=>st.id===y);ze!==-1&&ze!==z&&M(ze)}},[b,y,o.sections,z]),re.useEffect(()=>{if(_&&te.current){const ze=te.current.querySelector(`[data-slot-id="${_}"]`);ze&&ze.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[_]),re.useEffect(()=>{if(!n||!c||b)return;const ze=setTimeout(()=>{if(te.current){const st=te.current.querySelector(`[data-slot-id="${c}"]`);st&&st.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},250);return()=>clearTimeout(ze)},[c,b,n]);const et=ze=>{H.current=ze.touches[0].clientY},ct=ze=>{const st=ze.touches[0].clientY-H.current;st>0&&Q(Math.min(st,100))},P=()=>{J>50&&e(),Q(0)},Ae=ze=>{ae.current=ze.touches[0].clientY},nt=ze=>{const st=ae.current-ze.touches[0].clientY;st>0&&de(Math.min(st,60))},Be=()=>{fe>30&&e(),de(0)},Le=ze=>{xe.current=!0,ae.current=ze.clientY,ze.preventDefault()};re.useEffect(()=>{const ze=tt=>{if(!xe.current)return;const ht=ae.current-tt.clientY;ht>0&&de(Math.min(ht,60))},st=()=>{xe.current&&(fe>30&&e(),de(0),xe.current=!1)};return document.addEventListener("mousemove",ze),document.addEventListener("mouseup",st),()=>{document.removeEventListener("mousemove",ze),document.removeEventListener("mouseup",st)}},[fe,e]);const Ke=ze=>{if($[ze])return $[ze];const st=Lh(ze);for(const tt of Object.keys($))if(Lh(tt)===st)return $[tt];return"hsl(230, 60%, 50%)"},He=(ze,st,tt)=>{const ht=u===ze&&c===st,yt=Date.now();if(tt&&Xe.current&&Xe.current.slotId===st&&yt-Xe.current.time<400){Y&&(G(Y,ze,st),d(ze,st)),Xe.current=null;return}tt?(tt.notes&&tt.notes.length>0&&Gr(tt.notes),ht?p(tt):d(ze,st),Xe.current={slotId:st,time:yt}):(ht&&Y?G(Y,ze,st):d(ze,st),Xe.current=null)},ut=ze=>{const st=ze==="prev"?Math.max(0,z-1):Math.min(o.sections.length-1,z+1);M(st);const tt=o.sections[st];tt&&tt.measures[0]?.beats[0]&&f(tt.id,tt.measures[0].beats[0].id)},at=o.sections[z];return n?v.jsxs("div",{"data-mobile-timeline":!0,className:Ht("relative w-full bg-bg-secondary border-t-2 border-border-subtle overflow-hidden flex flex-col mobile-timeline-drawer",a&&"h-full",t&&"h-full border-t-0"),style:{maxHeight:a||t?void 0:"140px",transform:J>0?`translateY(${J}px)`:void 0,opacity:J>0?Math.max(.5,1-J/150):1,transition:J===0?"all 0.2s ease-out":"none"},children:[!t&&v.jsx("div",{className:"flex flex-col items-center pt-2 pb-2.5 cursor-grab active:cursor-grabbing shrink-0",onTouchStart:et,onTouchMove:ct,onTouchEnd:P,children:v.jsx("div",{className:"w-12 h-1.5 rounded-full bg-text-muted/40"})}),s?v.jsxs("div",{className:"relative flex items-center justify-center shrink-0 px-1 py-1",children:[v.jsx("button",{onClick:()=>O(!0),className:"absolute left-1 rounded text-text-muted hover:text-accent-primary touch-feedback flex items-center justify-center w-5 h-5",title:"Song Overview",children:v.jsx(mp,{size:12})}),v.jsxs("div",{className:"flex items-center justify-center gap-1",children:[v.jsx("button",{onClick:()=>ut("prev"),disabled:z===0,className:"rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback p-1",children:v.jsx(Fh,{size:14})}),v.jsxs("button",{onClick:()=>at&&Ve(at.id),className:"flex items-center justify-center gap-0.5 px-2 py-1 rounded-full text-white font-semibold text-[10px]",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #6366f1 100%)",boxShadow:"0 0 8px rgba(99, 102, 241, 0.4)",border:"1px solid rgba(255,255,255,0.2)"},title:at?$f(at,o.sections):"Section",children:[v.jsxs("span",{className:"flex items-baseline",children:[v.jsx("span",{children:at?$f(at,o.sections).charAt(0).toUpperCase():"S"}),v.jsx("span",{className:"text-[7px] opacity-60 ml-0.5",children:z+1})]}),v.jsx(Fv,{size:10,className:"opacity-70 shrink-0"})]}),v.jsx("button",{onClick:()=>ut("next"),disabled:z===o.sections.length-1,className:"rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback p-1",children:v.jsx(Vh,{size:14})})]}),v.jsxs("div",{className:"absolute right-1 flex items-center gap-0.5",children:[v.jsx("button",{onClick:K,disabled:!V,className:"no-touch-enlarge w-6 h-6 flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Undo",children:v.jsx(gp,{size:10})}),v.jsx("button",{onClick:j,disabled:!ne,className:"no-touch-enlarge w-6 h-6 flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Redo",children:v.jsx(Bh,{size:10})})]})]}):v.jsxs("div",{className:Ht("flex items-center justify-between shrink-0",be?"px-3 py-1":"px-2 pb-1.5"),children:[v.jsxs("div",{className:"flex items-center shrink-0",children:[v.jsx("button",{onClick:()=>O(!0),className:Ht("no-touch-enlarge rounded text-text-muted hover:text-accent-primary touch-feedback shrink-0 mr-0.5",be?"p-2":"p-1.5"),title:"Song Overview",children:v.jsx(mp,{size:be?18:16})}),v.jsxs("div",{className:"flex items-center gap-0.5 ml-1",children:[v.jsx("button",{onClick:K,disabled:!V,className:Ht("no-touch-enlarge flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",be?"w-8 h-8":"w-7 h-7"),title:"Undo",children:v.jsx(gp,{size:be?14:12})}),v.jsx("button",{onClick:j,disabled:!ne,className:Ht("no-touch-enlarge flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",be?"w-8 h-8":"w-7 h-7"),title:"Redo",children:v.jsx(Bh,{size:be?14:12})})]})]}),v.jsx("button",{onClick:()=>ut("prev"),disabled:z===0,className:Ht("no-touch-enlarge rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback",be?"p-2":"p-1.5"),children:v.jsx(Fh,{size:be?18:16})}),v.jsxs("div",{ref:le,className:Ht("flex-1 flex items-center overflow-x-auto scrollbar-hide px-1 mx-1",be?"gap-2":"gap-1.5"),children:[o.sections.map((ze,st)=>{const tt=st===z,ht=$f(ze,o.sections),yt=ht.charAt(0).toUpperCase();return v.jsx("button",{"data-section-id":ze.id,onClick:()=>{if(tt){Ve(ze.id);return}M(st),ze.measures[0]?.beats[0]&&f(ze.id,ze.measures[0].beats[0].id)},className:Ht("no-touch-enlarge relative font-semibold transition-all touch-feedback shrink-0","flex items-center justify-center",tt?Ht("rounded-full text-white shadow-lg whitespace-nowrap overflow-hidden",be?"w-32 h-9 text-xs":"w-24 h-8 text-[11px]"):Ht("rounded-full text-text-secondary hover:text-text-primary border border-border-medium hover:border-border-subtle hover:bg-bg-tertiary",be?"w-9 h-9 text-sm":"w-8 h-8 text-xs")),style:tt?{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #6366f1 100%)",boxShadow:"0 0 16px rgba(99, 102, 241, 0.5), inset 0 1px 0 rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.2)"}:void 0,title:ht,children:tt?v.jsxs("span",{className:"flex items-center gap-1 px-2 truncate",children:[v.jsx("span",{className:"truncate",children:ht}),v.jsx(Fv,{size:be?14:12,className:"opacity-70 shrink-0"})]}):yt},ze.id)}),v.jsx("button",{onClick:()=>A(),className:Ht("no-touch-enlarge rounded-full text-text-muted hover:text-accent-primary touch-feedback shrink-0 border border-dashed border-border-medium hover:border-accent-primary/50 transition-all hover:bg-accent-primary/10 flex items-center justify-center",be?"w-9 h-9":"w-8 h-8"),title:"Add section",children:v.jsx($h,{size:be?14:12})})]}),v.jsx("button",{onClick:()=>ut("next"),disabled:z===o.sections.length-1,className:Ht("no-touch-enlarge rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback",be?"p-2":"p-1.5"),children:v.jsx(Vh,{size:be?18:16})}),!t&&v.jsx("button",{onClick:e,className:"p-2 min-w-[40px] min-h-[40px] hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center ml-1",title:"Close timeline",children:v.jsx(H3,{size:18,className:"text-text-muted rotate-90"})})]}),v.jsx("div",{ref:te,className:Ht("flex-1",be?"px-3 pb-2 pt-3":"px-1 pb-1 pt-3",a?"overflow-y-auto overflow-x-hidden":"overflow-x-auto overflow-y-hidden"),children:at&&v.jsx("div",{className:Ht(a?s?"flex flex-col gap-0":"grid grid-cols-4 gap-0.5":Ht("flex flex-row items-center",be?"gap-1.5":"gap-0.5")),children:at.measures.map((ze,st)=>v.jsxs(Xn.Fragment,{children:[v.jsxs("div",{className:Ht("flex items-center",a?s?"gap-0.5 w-full min-w-0":"gap-0.5":be?"gap-1 shrink-0":"gap-0.5 shrink-0"),children:[v.jsxs("div",{className:Ht("flex flex-col items-center justify-center shrink-0",a?"gap-0 w-4":be?"gap-0 w-6":"gap-0 w-5"),children:[v.jsx("span",{className:Ht("font-mono text-text-muted text-center leading-none",be?"text-[9px]":a?"text-[7px]":"text-[8px]"),children:st+1}),v.jsx(xk,{value:ze.beats.length,onChange:tt=>F(at.id,ze.id,tt),timeSignature:at.timeSignature||[4,4],isCompact:a})]}),v.jsx("div",{className:Ht("flex items-center",a?s?`flex-1 gap-0.5 min-w-0 ${ze.beats.length>4?"overflow-x-auto scrollbar-hide":"overflow-hidden"}`:`flex-1 gap-0.5 min-w-0 ${ze.beats.length>4?"overflow-x-auto scrollbar-hide":"overflow-hidden"}`:"gap-0.5"),children:ze.beats.map(tt=>{const ht=u===at.id&&c===tt.id,yt=b&&y===at.id&&_===tt.id,dt=tt.chord?Ke(tt.chord.root):void 0,xt=ze.beats.length;let ft,hn;a&&xt>4&&(ft=Math.max(22,Math.floor(160/xt)),hn=Math.max(18,Math.floor(120/xt)));const Xt=be?48:36,Nt=4/xt,St=Math.round(Xt*Nt),Tt=Math.max(be?36:28,Math.min(be?192:144,St)),gt=be?40:a&&s?xt<=4?26:24:32;return v.jsxs("button",{"data-slot-id":tt.id,onClick:()=>He(at.id,tt.id,tt.chord),className:Ht("no-touch-enlarge relative flex items-center justify-center rounded-md transition-all touch-feedback group",a&&xt<=4?"flex-1 min-w-0":"shrink-0",yt&&"ring-2 ring-green-500 ring-offset-1 ring-offset-bg-primary shadow-[0_0_12px_rgba(34,197,94,0.5)] scale-105 z-10",ht&&!yt&&"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary",!tt.chord&&"border-2 border-dashed border-border-medium bg-bg-elevated hover:border-text-muted"),style:{height:`${gt}px`,...a&&ft?{width:`${ft}px`,minWidth:`${hn}px`}:{},...a?{}:{width:`${Tt}px`,minWidth:`${Tt}px`},...tt.chord?{backgroundColor:"rgba(0, 0, 0, 0.3)",border:`2px solid ${dt}`}:{}},children:[tt.chord?v.jsx("span",{className:Ht("font-bold px-0.5 truncate",be?"text-xs":a?xt>=8?"text-[7px]":xt>=4?"text-[8px]":"text-[9px]":"text-[10px]"),style:{color:dt},children:lr(tt.chord.symbol)}):v.jsx("span",{className:Ht("text-text-muted font-light",a?xt>=8?"text-xs":"text-sm":"text-base"),children:"+"}),yt&&v.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full bg-green-500 flex items-center justify-center",children:v.jsx(Yh,{size:6,fill:"white",className:"text-white"})}),tt.chord&&!yt&&(ht||be)&&v.jsx("div",{onClick:Jt=>{Jt.stopPropagation(),W(at.id,tt.id)},className:Ht("absolute rounded-full bg-black/70 backdrop-blur-sm flex items-center justify-center cursor-pointer border border-white/30 active:bg-white/30",be?"w-4 h-4 -top-2 -right-2 opacity-0 group-hover:opacity-100 hover:bg-white/20 hover:border-white/50 transition-all z-30":"w-5 h-5 -top-2.5 -right-2.5 opacity-100 z-30"),title:"Remove chord",children:v.jsx("span",{className:Ht("text-white/90 font-bold leading-none",be?"text-[10px]":"text-xs"),children:""})})]},tt.id)})})]}),!s&&!a&&st<at.measures.length-1&&v.jsx("div",{className:"w-px h-5 bg-border-medium shrink-0"})]},ze.id))})}),we&&(()=>{const ze=o.sections.findIndex(ht=>ht.id===we),st=ze>0,tt=ze<o.sections.length-1;return v.jsx(Sk,{section:o.sections.find(ht=>ht.id===we),isOpen:!0,onClose:()=>Ve(null),onTimeSignatureChange:ht=>{const[yt,dt]=ht.split("/").map(xt=>parseInt(xt,10));yt&&dt&&we&&N(we,[yt,dt])},onBarsChange:ht=>{we&&k(we,ht)},onStepCountChange:ht=>{we&&C(we,ht)},onNameChange:(ht,yt)=>{we&&B(we,{name:ht,type:yt})},onCopy:()=>{we&&D(we)},onClear:()=>{we&&I(we)},onDelete:()=>{we&&R(we)},songTimeSignature:oe||[4,4],onNavigatePrev:()=>{if(st){const ht=o.sections[ze-1];Ve(ht.id),M(ze-1)}},onNavigateNext:()=>{if(tt){const ht=o.sections[ze+1];Ve(ht.id),M(ze+1)}},hasPrev:st,hasNext:tt,sectionIndex:ze,totalSections:o.sections.length,onSlotClick:ht=>{Ve(null),M(ze),d(we,ht)}})})()]}):v.jsxs("div",{"data-mobile-timeline":!0,className:"w-full h-12 flex flex-col items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-grab active:cursor-grabbing touch-feedback select-none",onClick:()=>{!xe.current&&fe===0&&e()},onTouchStart:Ae,onTouchMove:nt,onTouchEnd:Be,onMouseDown:Le,style:{transform:fe>0?`translateY(-${fe}px)`:void 0,opacity:fe>0?Math.min(1,.7+fe/100):1,transition:fe===0?"all 0.2s ease-out":"none"},children:[v.jsx("div",{className:"w-12 h-1.5 rounded-full bg-text-muted/40 mb-1.5"}),v.jsx("span",{className:"text-[10px] font-medium text-text-muted uppercase tracking-wider",children:"Timeline"})]})},lg=({highlightedNotes:n,rootNote:e,bassNote:t,color:s="#6366f1",octave:a=4,onNotePlay:o})=>{const u=["C","D","E","F","G","A","B"],c=C=>{const R={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},D=C.replace(/\d+/g,"");return R[D]??-1},f=n.map(C=>c(C)),d=e?c(e):-1,p=t?c(t):-1,y=C=>{const R=c(C);return R!==-1&&f.includes(R)},_=C=>d===-1?!1:c(C)===d,b=C=>p===-1?!1:c(C)===p,A=(C,R)=>{o&&o(C,R)},N=()=>{const C=[];for(let D=0;D<2;D++){const I=a+D;u.forEach(F=>{const Y=y(F),G=_(F),O=b(F);C.push(v.jsx("div",{className:"h-full rounded-b-md relative border-x border-b border-gray-400 cursor-pointer hover:brightness-95 active:brightness-90 transition-all",style:{width:`${100/14}%`,background:"linear-gradient(180deg, #fafafa 0%, #e8e8e8 70%, #d0d0d0 100%)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.9), inset 0 -2px 4px rgba(0,0,0,0.08)"},onClick:()=>A(F,I),children:Y&&v.jsxs(v.Fragment,{children:[G&&v.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none animate-pulse",style:{bottom:"3px",transform:"translateX(-50%)",width:"18px",height:"18px",background:"transparent",border:`2px solid ${s}`,boxShadow:`0 0 8px ${s}, 0 0 12px ${s}60`,opacity:.9}}),v.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"6px",transform:"translateX(-50%)",width:O?"14px":G?"12px":"9px",height:O?"14px":G?"12px":"9px",background:s,border:O?"3px solid #000":"2px solid #000",boxShadow:O?`0 0 10px ${s}, 0 0 4px ${s}`:`0 0 6px ${s}80`}})]})},`white-${D}-${F}`))})}return C},k=()=>{const C=[],R=[{note:"C#",offset:7.14},{note:"D#",offset:14.28},{note:"F#",offset:28.57},{note:"G#",offset:35.71},{note:"A#",offset:42.85}];for(let D=0;D<2;D++){const I=D*50,F=a+D;R.forEach(({note:Y,offset:G})=>{const O=y(Y),B=_(Y),K=b(Y),j=I+G;C.push(v.jsx("div",{className:"absolute top-0 rounded-b-md cursor-pointer hover:brightness-125 active:brightness-150 transition-all",style:{left:`${j}%`,width:"5.5%",height:"58%",transform:"translateX(-50%)",background:"linear-gradient(180deg, #333 0%, #1a1a1a 70%, #0a0a0a 100%)",boxShadow:"0 3px 6px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.08)",pointerEvents:"auto"},onClick:()=>A(Y,F),children:O&&v.jsxs(v.Fragment,{children:[B&&v.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none animate-pulse",style:{bottom:"1px",transform:"translateX(-50%)",width:"16px",height:"16px",background:"transparent",border:`2px solid ${s}`,boxShadow:`0 0 8px ${s}, 0 0 12px ${s}60`,opacity:.9}}),v.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"4px",transform:"translateX(-50%)",width:K?"12px":B?"10px":"8px",height:K?"12px":B?"10px":"8px",background:s,border:K?"3px solid #fff":"2px solid #fff",boxShadow:K?`0 0 10px ${s}, 0 0 4px ${s}`:`0 0 6px ${s}80`}})]})},`black-${D}-${Y}`))})}return C};return v.jsx("div",{className:"relative w-full rounded-lg select-none overflow-hidden",style:{height:"80px",minHeight:"80px",background:"#1a1a22",boxShadow:"inset 0 2px 8px rgba(0,0,0,0.6)",padding:"3px 2px 2px 2px"},children:v.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[v.jsx("div",{className:"flex w-full h-full gap-[1px]",style:{position:"relative",zIndex:0},children:N()}),v.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,pointerEvents:"none"},children:k()})]})})},Ak={C:{maj:[{frets:[-1,3,2,0,1,0],fingers:[0,3,2,0,1,0],barres:[],baseFret:1}],m:[{frets:[-1,3,1,0,1,3],fingers:[0,3,1,0,2,4],barres:[],baseFret:1}],7:[{frets:[-1,3,2,3,1,0],fingers:[0,3,2,4,1,0],barres:[],baseFret:1}],maj7:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj9:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,3,2,2,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],m7:[{frets:[-1,3,1,3,1,3],fingers:[0,2,1,3,1,4],barres:[1],baseFret:3}],m9:[{frets:[-1,3,1,3,3,3],fingers:[0,2,1,3,4,4],barres:[],baseFret:3}],m11:[{frets:[-1,3,1,3,3,1],fingers:[0,2,1,3,4,1],barres:[1],baseFret:3}],m6:[{frets:[-1,3,1,2,1,3],fingers:[0,3,1,2,1,4],barres:[1],baseFret:1}],sus2:[{frets:[-1,3,0,0,1,3],fingers:[0,2,0,0,1,3],barres:[],baseFret:1}],sus4:[{frets:[-1,3,3,0,1,1],fingers:[0,3,4,0,1,1],barres:[1],baseFret:1}],dim:[{frets:[-1,3,1,-1,1,2],fingers:[0,4,1,0,2,3],barres:[],baseFret:1}],6:[{frets:[-1,3,2,2,1,0],fingers:[0,4,2,3,1,0],barres:[],baseFret:1}],add9:[{frets:[-1,3,2,0,3,0],fingers:[0,2,1,0,3,0],barres:[],baseFret:1}],9:[{frets:[-1,3,2,3,3,0],fingers:[0,2,1,3,4,0],barres:[],baseFret:1}],11:[{frets:[-1,3,2,3,3,3],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],13:[{frets:[-1,3,2,3,3,5],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,3,4,3,4,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},"C#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},Db:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},D:{maj:[{frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2],barres:[],baseFret:1}],m:[{frets:[-1,-1,0,2,3,1],fingers:[0,0,0,2,3,1],barres:[],baseFret:1}],7:[{frets:[-1,-1,0,2,1,2],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],maj7:[{frets:[-1,-1,0,2,2,2],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],maj9:[{frets:[-1,-1,0,2,2,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],maj13:[{frets:[-1,-1,0,2,2,4],fingers:[0,0,0,1,1,3],barres:[2],baseFret:1}],m7:[{frets:[-1,-1,0,2,1,1],fingers:[0,0,0,2,1,1],barres:[1],baseFret:1}],m9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],m11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m6:[{frets:[-1,-1,0,2,0,1],fingers:[0,0,0,2,0,1],barres:[],baseFret:1}],sus2:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],sus4:[{frets:[-1,-1,0,2,3,3],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,1,3,1],fingers:[0,0,0,1,4,2],barres:[],baseFret:1}],6:[{frets:[-1,-1,0,2,0,2],fingers:[0,0,0,1,0,2],barres:[],baseFret:1}],add9:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],13:[{frets:[-1,-1,0,2,1,4],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,1,1,1],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}]},"D#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},Eb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},E:{maj:[{frets:[0,2,2,1,0,0],fingers:[0,2,3,1,0,0],barres:[],baseFret:1}],m:[{frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0],barres:[],baseFret:1}],7:[{frets:[0,2,0,1,0,0],fingers:[0,2,0,1,0,0],barres:[],baseFret:1}],maj7:[{frets:[0,2,1,1,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],maj9:[{frets:[0,2,1,1,0,2],fingers:[0,2,1,1,0,3],barres:[1],baseFret:1}],maj13:[{frets:[0,2,1,1,2,2],fingers:[0,2,1,1,3,3],barres:[],baseFret:1}],m7:[{frets:[0,2,0,0,0,0],fingers:[0,1,0,0,0,0],barres:[],baseFret:1}],m9:[{frets:[0,2,0,0,0,2],fingers:[0,2,0,0,0,3],barres:[],baseFret:1}],m11:[{frets:[0,2,0,0,3,0],fingers:[0,2,0,0,4,0],barres:[],baseFret:1}],m6:[{frets:[0,2,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],sus2:[{frets:[0,2,4,4,0,0],fingers:[0,1,3,4,0,0],barres:[],baseFret:1}],sus4:[{frets:[0,2,2,2,0,0],fingers:[0,2,3,4,0,0],barres:[],baseFret:1}],dim:[{frets:[0,1,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],6:[{frets:[0,2,2,1,2,0],fingers:[0,2,3,1,4,0],barres:[],baseFret:1}],add9:[{frets:[0,2,2,1,0,2],fingers:[0,2,3,1,0,4],barres:[],baseFret:1}],9:[{frets:[0,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],11:[{frets:[0,2,0,1,3,0],fingers:[0,2,0,1,4,0],barres:[],baseFret:1}],13:[{frets:[0,2,0,1,2,2],fingers:[0,2,0,1,3,4],barres:[],baseFret:1}],m7b5:[{frets:[0,1,0,0,2,0],fingers:[0,1,0,0,2,0],barres:[],baseFret:1}]},F:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:1}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:1}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,-1,3,2,1,0],fingers:[0,0,3,2,1,0],barres:[],baseFret:1}],maj9:[{frets:[1,0,3,0,1,0],fingers:[1,0,3,0,2,0],barres:[],baseFret:1}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:1}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:1}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:1}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,-1,3,0,1,1],fingers:[0,0,3,0,1,1],barres:[1],baseFret:1}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:1}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:1}],6:[{frets:[1,-1,0,2,1,1],fingers:[1,0,0,3,1,1],barres:[1],baseFret:1}],add9:[{frets:[-1,-1,3,2,1,3],fingers:[0,0,3,2,1,4],barres:[],baseFret:1}],9:[{frets:[1,3,1,2,1,3],fingers:[1,3,1,2,1,4],barres:[1],baseFret:1}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:1}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:1}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}]},"F#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},Gb:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},G:{maj:[{frets:[3,2,0,0,0,3],fingers:[2,1,0,0,0,3],barres:[],baseFret:1}],m:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],7:[{frets:[3,2,0,0,0,1],fingers:[3,2,0,0,0,1],barres:[],baseFret:1}],maj7:[{frets:[3,2,0,0,0,2],fingers:[3,1,0,0,0,2],barres:[],baseFret:1}],maj9:[{frets:[3,0,0,0,0,2],fingers:[2,0,0,0,0,1],barres:[],baseFret:1}],maj13:[{frets:[3,2,0,0,2,2],fingers:[3,1,0,0,2,2],barres:[2],baseFret:1}],m7:[{frets:[3,1,0,0,3,0],fingers:[2,1,0,0,3,0],barres:[],baseFret:1}],m9:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],m11:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],m6:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],sus2:[{frets:[3,0,0,0,3,3],fingers:[1,0,0,0,2,3],barres:[],baseFret:1}],sus4:[{frets:[3,3,0,0,1,3],fingers:[2,3,0,0,1,4],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],6:[{frets:[3,2,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],add9:[{frets:[3,0,0,0,0,3],fingers:[2,0,0,0,0,3],barres:[],baseFret:1}],9:[{frets:[3,2,0,1,0,1],fingers:[3,2,0,1,0,1],barres:[1],baseFret:1}],11:[{frets:[3,2,0,1,3,1],fingers:[3,2,0,1,4,1],barres:[1],baseFret:1}],13:[{frets:[3,2,0,1,0,5],fingers:[2,1,0,1,0,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}]},"G#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},Ab:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},A:{maj:[{frets:[-1,0,2,2,2,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],m:[{frets:[-1,0,2,2,1,0],fingers:[0,0,2,3,1,0],barres:[],baseFret:1}],7:[{frets:[-1,0,2,0,2,0],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}],maj7:[{frets:[-1,0,2,1,2,0],fingers:[0,0,2,1,3,0],barres:[],baseFret:1}],maj9:[{frets:[-1,0,2,1,0,0],fingers:[0,0,2,1,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,0,2,1,2,4],fingers:[0,0,2,1,3,4],barres:[],baseFret:1}],m7:[{frets:[-1,0,2,0,1,0],fingers:[0,0,2,0,1,0],barres:[],baseFret:1}],m9:[{frets:[-1,0,2,0,1,3],fingers:[0,0,2,0,1,4],barres:[],baseFret:1}],m11:[{frets:[-1,0,0,0,1,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],m6:[{frets:[-1,0,2,2,1,2],fingers:[0,0,2,3,1,4],barres:[],baseFret:1}],sus2:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],sus4:[{frets:[-1,0,2,2,3,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],dim:[{frets:[-1,0,1,2,1,-1],fingers:[0,0,1,3,2,0],barres:[],baseFret:1}],6:[{frets:[-1,0,2,2,2,2],fingers:[0,0,1,1,1,1],barres:[2],baseFret:1}],add9:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],9:[{frets:[-1,0,2,4,2,3],fingers:[0,0,1,3,1,2],barres:[2],baseFret:1}],11:[{frets:[-1,0,0,0,2,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],13:[{frets:[-1,0,2,0,2,4],fingers:[0,0,1,0,2,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,0,1,0,1,-1],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}]},"A#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},Bb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},B:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:2}],7:[{frets:[-1,2,1,2,0,2],fingers:[0,2,1,3,0,4],barres:[],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:2}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:2}],m7:[{frets:[-1,2,0,2,0,2],fingers:[0,1,0,2,0,3],barres:[],baseFret:1}],m9:[{frets:[-1,2,0,2,2,2],fingers:[0,1,0,2,3,4],barres:[],baseFret:1}],m11:[{frets:[-1,2,0,2,0,0],fingers:[0,1,0,2,0,0],barres:[],baseFret:1}],m6:[{frets:[-1,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:2}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:2}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,2,1,2,2,2],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],11:[{frets:[-1,2,1,2,0,0],fingers:[0,2,1,3,0,0],barres:[],baseFret:1}],13:[{frets:[-1,2,1,2,2,4],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:2}]}};function Tk(n){return{"C":"C#","D":"Db","D":"D#","E":"Eb","F":"F#","G":"Gb","G":"G#","A":"Ab","A":"A#","B":"Bb"}[n]||n.replace("","#").replace("","b")}function Ck(n){return{major:"maj",major7:"maj7",major9:"maj9",major11:"maj11",major13:"maj13",major6:"6",minor:"m",min:"m",minor7:"m7",min7:"m7",minor9:"m9",min9:"m9",minor11:"m11",min11:"m11",minor13:"m13",min13:"m13",minor6:"m6",min6:"m6",dom7:"7",dominant7:"7",dom9:"9",dominant9:"9",dom11:"11",dominant11:"11",dom13:"13",dominant13:"13",suspended2:"sus2",suspended4:"sus4",diminished:"dim","half-diminished":"m7b5",halfDiminished7:"m7b5","m75":"m7b5",sixth:"6",ninth:"9",added9:"add9"}[n]||n}function iw(n,e){const t=Tk(n),s=Ck(e),a=Ak[t];if(!a)return null;const o=a[s];return!o||o.length===0?null:o[0]}const cg=({root:n,quality:e,color:t="#6366f1",onClick:s,onDoubleClick:a})=>{const o=x2(),u=iw(n,e),c=re.useRef(0),f=re.useRef(null),d=lr(`${n}${Nh(e)}`),p=()=>{const N=Date.now(),k=N-c.current;f.current&&(clearTimeout(f.current),f.current=null),k<300&&k>0?(c.current=0,a&&a()):(c.current=N,f.current=setTimeout(()=>{s&&s(),f.current=null},300))},y=re.useRef(0),_=re.useRef(null),b=N=>{N.preventDefault(),N.stopPropagation();const k=Date.now(),C=k-y.current;_.current&&(clearTimeout(_.current),_.current=null),C<300&&C>0?(y.current=0,a&&a()):(y.current=k,_.current=setTimeout(()=>{s&&s(),_.current=null},300))};if(!u)return v.jsxs("div",{className:"flex items-center justify-center text-text-muted text-xs py-4",children:["No guitar diagram available for ",n,e]});const A=s||a;return v.jsxs("div",{className:`flex flex-col items-center ${A?"cursor-pointer touch-feedback hover:opacity-80 active:scale-95 transition-all":""}`,onClick:A?p:void 0,onTouchEnd:A?b:void 0,onTouchStart:A?N=>N.stopPropagation():void 0,children:[v.jsx("span",{className:`${o?"text-xs":"text-[11px]"} font-bold mb-1 text-center`,style:{backgroundColor:"transparent",color:t,padding:"4px 12px",borderRadius:"10px",border:`2px solid ${t}`},children:d}),v.jsx("svg",{viewBox:"0 0 100 120",className:`w-full ${o?"max-w-[110px]":"max-w-[120px]"}`,style:{minHeight:o?110:120,pointerEvents:"none"},children:v.jsx(kk,{chord:u,color:t})})]})},kk=({chord:n,color:e})=>{const{frets:t,fingers:s,barres:a,baseFret:o}=n,u=20,c=25,f=12,d=18,p=4,y=6,_=4.5,b=Array.from({length:y},(R,D)=>u+D*f),A=Array.from({length:p+1},(R,D)=>c+D*d),N=o===1,k=f*(y-1)+16,C=d*p+8;return v.jsxs(v.Fragment,{children:[v.jsx("rect",{x:u-8,y:c-4,width:k,height:C,fill:"#3d2817",rx:3}),N?v.jsx("rect",{x:u-2,y:c-3,width:f*(y-1)+4,height:4,fill:"#f5f5f5",rx:1}):v.jsx("text",{x:u-14,y:c+d/2+4,fontSize:"12",fill:"#e0e0e0",textAnchor:"middle",fontWeight:"700",children:o}),A.map((R,D)=>v.jsx("line",{x1:u,y1:R,x2:u+f*(y-1),y2:R,stroke:"#b8b8b8",strokeWidth:D===0&&!N?2:1},`fret-${D}`)),b.map((R,D)=>v.jsx("line",{x1:R,y1:c,x2:R,y2:c+d*p,stroke:"#d4d4d4",strokeWidth:1.2+(5-D)*.25},`string-${D}`)),a.map((R,D)=>{const I=t.map((O,B)=>({fret:O,idx:B})).filter(({fret:O})=>O===R);if(I.length<2)return null;const F=Math.min(...I.map(O=>O.idx)),Y=Math.max(...I.map(O=>O.idx)),G=c+(R-.5)*d;return v.jsx("rect",{x:b[F]-_,y:G-_,width:b[Y]-b[F]+_*2,height:_*2,fill:"white",stroke:e,strokeWidth:2,rx:_},`barre-${D}`)}),t.map((R,D)=>{const I=b[D];if(R===-1)return v.jsx("text",{x:I,y:c-10,fontSize:"14",fill:"#ff6b6b",textAnchor:"middle",fontWeight:"bold",children:""},`mute-${D}`);if(R===0)return v.jsx("circle",{cx:I,cy:c-8,r:4,fill:"none",stroke:"var(--color-text-secondary)",strokeWidth:1.5},`open-${D}`);const F=a.includes(R),Y=s[D];if(F){const O=t.findIndex(B=>B===R);if(D!==O)return null}const G=c+(R-.5)*d;return v.jsxs("g",{children:[v.jsx("circle",{cx:I,cy:G,r:_,fill:"white",stroke:e,strokeWidth:2}),Y>0&&!F&&v.jsx("text",{x:I,y:G+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:Y})]},`finger-${D}`)}),a.map((R,D)=>{const I=t.map((O,B)=>({fret:O,idx:B})).filter(({fret:O})=>O===R);if(I.length<2)return null;const F=Math.min(...I.map(O=>O.idx)),Y=c+(R-.5)*d,G=s[F];return G>0?v.jsx("text",{x:b[F],y:Y+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:G},`barre-finger-${D}`):null})]})},Uv=({notes:n,rootNote:e,color:t="#6366f1",width:s,numerals:a,onNotePlay:o,compact:u=!1})=>{const c=x2(),f=Y=>{const G=Y.replace(/[0-9]/g,"");let O=G[0],B="";G.includes("")||G.includes("#")?B="":(G.includes("")||G.includes("b"))&&(B="");let j={C:-6,D:-5,E:-4,F:-3,G:-2,A:-1,B:0}[O]??0;const V="CDEFGAB".indexOf(O),ne="CDEFGAB".indexOf(e[0]);return V<ne&&ne-V>3&&(j+=7),{line:j,accidental:B}},d=Y=>{o&&o(Y,4)},y=s||(u?180:c?280:340),_=u?70:c?110:115,b=u?6:12,A=b,N=_*(u?.28:.22),k=u?7:10,C=Math.max(80,y-b*2),R=N+(u?32:50),D=N+(u?42:62),I=n.map((Y,G)=>{const{line:O,accidental:B}=f(Y),K=u?40:60,j=C-K-15,V=u?18:25,ne=j/Math.max(n.length-1,1),W=Math.max(ne,V),oe=W*Math.max(n.length-1,0),$=(j-oe)/2,te=A+K+$+G*W,le=N-O*k/2;return{note:Y,x:te,y:le,line:O,accidental:B,needsLedgerLines:O<-4||O>4}}),F=Y=>{const G=[];if(Y.line<-4)for(let B=-6;B>=Y.line;B-=2)B<-4&&G.push(v.jsx("line",{x1:Y.x-28/2,y1:N-B*k/2,x2:Y.x+28/2,y2:N-B*k/2,stroke:"#888",strokeWidth:"1.5"},`ledger-below-${B}`));else if(Y.line>4)for(let B=6;B<=Y.line;B+=2)B>4&&G.push(v.jsx("line",{x1:Y.x-28/2,y1:N-B*k/2,x2:Y.x+28/2,y2:N-B*k/2,stroke:"#888",strokeWidth:"1.5"},`ledger-above-${B}`));return G};return v.jsx("div",{className:`flex justify-center items-center ${u?"":"w-full"}`,children:v.jsxs("svg",{viewBox:`0 0 ${y} ${_}`,className:u?"":"w-full",style:{minHeight:u?60:c?95:100,width:u?y:void 0},children:[[-2,-1,0,1,2].map(Y=>v.jsx("line",{x1:A,y1:N-Y*k,x2:A+C,y2:N-Y*k,stroke:"#777",strokeWidth:u?1.5:2},`staff-${Y}`)),v.jsx("text",{x:A-(u?2:3),y:N+(u?14:20),fontSize:u?"38":c?"56":"62",fill:t,fontFamily:"serif",fontWeight:"bold",children:""}),I.map(Y=>F(Y)),I.map((Y,G)=>v.jsxs("g",{children:[Y.accidental&&v.jsx("text",{x:Y.x-(u?12:20),y:Y.y+(u?3:5),fontSize:u?"12":c?"18":"20",fill:"#ccc",fontFamily:"serif",fontWeight:"bold",children:Y.accidental}),o&&v.jsx("circle",{cx:Y.x,cy:Y.y,r:16,fill:"transparent",style:{cursor:"pointer"},onClick:()=>d(Y.note),onTouchEnd:O=>{O.preventDefault(),d(Y.note)}}),v.jsx("ellipse",{cx:Y.x,cy:Y.y,rx:u?5:7,ry:u?4:5.5,fill:G===0?t:"#ddd",stroke:G===0?t:"#ddd",strokeWidth:1,style:o?{cursor:"pointer"}:void 0,className:o?"hover:opacity-80 active:scale-110 transition-transform":""}),v.jsx("text",{x:Y.x,y:R,fontSize:u?"7":c?"10":"11",fill:"#999",textAnchor:"middle",fontWeight:"600",children:Y.note}),a&&a[G]&&v.jsx("text",{x:Y.x,y:D,fontSize:u?"7":c?"9":"10",fill:G===0?t:"#777",textAnchor:"middle",fontWeight:"700",children:a[G]})]},`note-${G}`))]})})},ug=({variant:n="sidebar",onScrollChange:e,forceVisible:t=!1})=>{const{selectedChord:s,selectedKey:a,chordPanelVisible:o,toggleChordPanel:u,selectedSectionId:c,selectedSlotId:f,addChordToSlot:d,setSelectedChord:p,setSelectedSlot:y,timelineVisible:_,openTimeline:b,setChordPanelGuitarExpanded:A,setChordPanelVoicingsExpanded:N,chordPanelAttention:k}=sn(),C=pd(),[R,D]=re.useState(null),[I,F]=re.useState([]),[Y,G]=re.useState(320),[O,B]=re.useState(!1),K=re.useRef(0),j=n==="drawer",[V,ne]=re.useState(s),W=s??V,{isMobile:oe}=Xh(),$=n==="landscape-panel"||n==="landscape-expanded",te=n==="landscape-panel",le=!j&&!$&&Y<360,pe=!j&&!$&&Y<290,[be,z]=re.useState(!1),[M,H]=re.useState(!1),[J,Q]=re.useState(!oe||$),[ae,fe]=re.useState(0),de=4,xe=_e=>{z(_e),N(_e)},we=_e=>{Q(_e),A(_e)};re.useEffect(()=>{A(J),N(be)},[]);const Ve=re.useRef(0),Xe=re.useRef(0),[et,ct]=re.useState(0),P=re.useRef(null),Ae=re.useRef(null),nt=re.useRef(null),Be=re.useRef(null),Le=_e=>{if(_e.current&&Be.current){const it=Be.current,rt=_e.current.offsetTop-it.offsetTop;it.scrollTo({top:rt,behavior:"smooth"})}},Ke=re.useCallback(_e=>{!j||!oe||(Ve.current=_e.touches[0].clientY,Xe.current=_e.touches[0].clientY)},[j,oe]),He=re.useCallback(_e=>{if(!j||!oe)return;Xe.current=_e.touches[0].clientY;const it=Xe.current-Ve.current;it>0&&ct(Math.min(it,150))},[j,oe]),ut=re.useCallback(()=>{!j||!oe||(et>80?(ct(300),setTimeout(()=>{u(),ct(0)},200)):ct(0))},[j,oe,et,u]),at=()=>{if(!W)return"Chord Details";const _e=R||W.quality;return lr(_e==="major"||_e==="maj"?W.root:_e==="minor"||_e==="m"?`${W.root}m`:_e==="diminished"||_e==="dim"?`${W.root}dim`:`${W.root}${Nh(_e)}`)},ze=re.useCallback((_e,it)=>{Q3(_e,it)},[]),st={maj:'The classic major triad: bright, stable, and universally resolved. The foundation of Western harmony and the sound of "home."',major:'The classic major triad: bright, stable, and universally resolved. The foundation of Western harmony and the sound of "home."',maj7:"Smooth and sophisticated, the major 7th adds a dreamy, floating quality. Think Burt Bacharach, neo-soul, and late-night jazz.",maj9:"Builds on maj7 with a crystalline 9th. Modern, airy, and introspective  perfect for R&B ballads and ambient textures.",maj13:"The full major palette: lush, orchestral, and complex. Great for endings or when you want maximum harmonic richness.",6:"Warm and vintage  the major 6th has an old-Hollywood or country sweetness. Softer resolution than maj7.",add9:"A major triad with added sparkle from the 9th, but no 7th. Clean, modern, and ubiquitous in pop and worship music.",7:"The dominant 7th creates bluesy tension begging for resolution. The engine behind the ii-V-I and the soul of rock & blues.",9:"Dominant 7 with a colorful 9th. Funky, jazzy, and sophisticated  think Stevie Wonder, Earth Wind & Fire, and neo-soul.",11:"Suspended, modal quality over dominant function. Creates an open, unresolved tension that floats before landing.",13:"The dominant chord at its richest: soulful 13th on top of bluesy 7th. Perfect for jazz turnarounds and R&B grooves.",m7:"The workhorse minor chord: soulful, laid-back, and endlessly versatile. The default for jazz ii chords and R&B grooves.",minor:"The basic minor triad: melancholic, introspective, and emotionally direct. Minor keys are built on this sound.",m9:"Lush and cinematic  adds depth and width to the minor sound. Evokes late-night cityscapes and emotional introspection.",m11:"Spacious and modal, with an open 11th suspension. Great for grooves, vamps, and creating atmospheric tension.",m6:"Bittersweet with a film-noir quality. The 6th adds sophistication to minor  a nice alternative to m7 for tonic chords.",sus2:"Neither major nor minor  the open 2nd creates an ambient, neutral quality. Ubiquitous in pop, rock, and modern worship.",sus4:"Suspended tension from the 4th wants to fall to the 3rd. Creates expectation and movement  classic resolution technique.",dim:"Highly unstable and tense  every note pushes somewhere else. Perfect as a passing chord or chromatic approach.",diminished:"Highly unstable and tense  every note pushes somewhere else. Perfect as a passing chord or chromatic approach.",m7b5:"Half-diminished: dark and sophisticated. The natural ii chord in minor keys, essential for minor ii-V-i progressions."},tt=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],ht=_e=>{if(!W?.root)return"-";const it=Pt=>Pt.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),Ne={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},rt=Ne[it(W.root)],pt=Ne[it(_e)];if(rt===void 0||pt===void 0)return"-";const At=(pt-rt+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[At]??"-"},yt=re.useCallback(_e=>{j||(_e.preventDefault(),B(!0))},[j]);re.useEffect(()=>{if(!O||j)return;const _e=rt=>{const pt=window.innerWidth-rt.clientX;G(Math.max(280,Math.min(500,pt)))},it=rt=>{if(rt.touches.length===1){const pt=window.innerWidth-rt.touches[0].clientX;G(Math.max(280,Math.min(500,pt)))}},Ne=()=>{B(!1)};return document.addEventListener("mousemove",_e),document.addEventListener("mouseup",Ne),document.addEventListener("touchmove",it),document.addEventListener("touchend",Ne),()=>{document.removeEventListener("mousemove",_e),document.removeEventListener("mouseup",Ne),document.removeEventListener("touchmove",it),document.removeEventListener("touchend",Ne)}},[O,j]),re.useEffect(()=>{s&&ne(s)},[s]),re.useEffect(()=>{D(null),F([]),fe(0)},[W?.root,W?.quality]),re.useEffect(()=>{$&&J&&P.current&&Be.current&&setTimeout(()=>{if(P.current&&Be.current){const _e=P.current,it=Be.current,Ne=_e.offsetTop-it.offsetTop;it.scrollTo({top:Ne+35,behavior:"smooth"})}},100)},[$,J]),re.useEffect(()=>{if(!j||!e)return;const _e=Be.current;if(!_e)return;const it=()=>{const Ne=_e.scrollHeight-_e.scrollTop-_e.clientHeight<20;e(Ne)};return _e.addEventListener("scroll",it),it(),()=>_e.removeEventListener("scroll",it)},[j,e]);const dt=W&&C[W.root]||"#6366f1",xt=I.length>0?I:W?.notes||[],ft=su(xt,ae),hn=Q_(xt),Xt=_e=>{const it=Date.now();if(it-K.current<300||(K.current=it,!W))return;const Ne=ka(W.root,_e),rt=su(Ne,ae);Gr(rt),D(_e),F(Ne)},Nt=_e=>{if(K.current=0,!_){b();return}if(!W||!c||!f)return;const it=ka(W.root,_e),Ne=uv(W.root,_e,it,ae),rt={...W,quality:_e,symbol:Ne,notes:it,inversion:ae};d(rt,c,f),y(c,f),p(rt)},St=re.useCallback(()=>{if(!W)return;const _e=R||W.quality,it=ka(W.root,_e),Ne=su(it,ae);Gr(Ne)},[W,R,ae]),Tt=re.useCallback(()=>{if(!_){b();return}if(!W||!c||!f)return;const _e=R||W.quality,it=ka(W.root,_e),Ne=uv(W.root,_e,it,ae),rt={...W,quality:_e,symbol:Ne,notes:it,inversion:ae};d(rt,c,f),y(c,f),p(rt)},[W,R,ae,c,f,d,y,p,_,b]),gt=re.useRef(0),Jt=re.useRef(null),Lt=re.useCallback(_e=>{if(!W)return;_e.preventDefault(),_e.stopPropagation();const it=Date.now(),Ne=it-gt.current;Jt.current&&(clearTimeout(Jt.current),Jt.current=null),Ne<300&&Ne>0?(gt.current=0,Tt()):(gt.current=it,Jt.current=setTimeout(()=>{St(),Jt.current=null},300))},[W,St,Tt]),It=()=>{if(!W)return{extensions:[],description:""};let _e=W.numeral;if(_e&&_e.includes("(")){const Ne=_e.match(/^(.+?)\s*\(/);Ne&&(_e=Ne[1].trim())}return{I:{extensions:["maj","maj7","maj9","maj13","6"],description:"The tonic  your home base and resting point. This is where phrases resolve and songs often begin and end. Its stability makes it perfect for choruses and moments of arrival."},IV:{extensions:["maj","maj7","maj9","maj13","6"],description:'The subdominant  warm, hopeful, and slightly floating. It gently pulls away from home without creating urgency. Great for pre-choruses and that "lifting" feeling before a chorus.'},V:{extensions:["maj","7","9","11","sus4","13"],description:`The dominant  maximum tension wanting to resolve back to I. This chord creates expectation and forward motion. It's the "question" that begs for an "answer."`},ii:{extensions:["m","m7","m9","m11","m6"],description:"The supertonic  a natural setup chord that leads smoothly to V or IV. It's the workhorse of the ii-V-I progression and adds sophistication to any verse."},iii:{extensions:["m","m7"],description:"The mediant  mysterious and chameleon-like. It can substitute for I (they share two notes) or lead to vi. Use it for unexpected color and emotional complexity."},vi:{extensions:["m","m7","m9","m11"],description:'The relative minor  emotional depth and melancholy without leaving the key. This is the "sad" chord in major keys and the foundation of countless pop progressions (vi-IV-I-V).'},"vii":{extensions:["dim","m75"],description:"The leading tone chord  highly unstable and restless. Every note wants to move somewhere, making it a powerful passing chord that pulls strongly toward I."},II:{extensions:["maj","7","sus4"],description:"A secondary dominant (V of V)  borrowed tension that points toward V. Use it to create a dramatic runway before landing on V."},III:{extensions:["maj","7","sus4"],description:"A secondary dominant (V of vi)  creates an unexpected dramatic pull toward vi. Perfect for adding tension before a minor chord moment."}}[_e||""]||{extensions:[],description:`This chord doesn't fit in the key of ${a}, but it may add color and interest to your progression.`}};if(!o&&!t)return j?v.jsxs("div",{className:"w-full h-12 flex flex-col items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-pointer touch-feedback active:bg-bg-tertiary",onClick:u,onTouchStart:_e=>{Ve.current=_e.touches[0].clientY,Xe.current=_e.touches[0].clientY},onTouchMove:_e=>{Xe.current=_e.touches[0].clientY},onTouchEnd:()=>{Ve.current-Xe.current>30&&u()},title:"Swipe up or tap to open",children:[v.jsx("div",{className:"w-12 h-1.5 rounded-full bg-text-muted/40 mb-1.5"}),v.jsx("span",{className:"text-[10px] font-medium text-text-muted uppercase tracking-wider",children:"Chord Details"})]}):v.jsx("button",{onClick:u,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:v.jsx(qC,{size:18,className:"text-text-muted"})});const bn=n==="landscape-panel",bt=n==="landscape-expanded";return v.jsxs("div",{className:`${bt||bn?"h-full w-full flex flex-col bg-bg-secondary overflow-hidden":j?`${oe?"relative w-full":"fixed inset-x-3 bottom-[88px]"} ${oe?"max-h-[60vh]":"max-h-[70vh]"} bg-bg-secondary ${oe?"border-t-2 border-border-subtle":"border-2 border-border-subtle rounded-2xl"} shadow-2xl overflow-hidden ${oe?"":"z-40"} flex`:"h-full flex bg-bg-secondary border-l border-border-subtle overflow-x-hidden"}${k?" chord-panel-attention":""}`,style:{...!j&&!bn&&!bt?{width:Y,minWidth:0,maxWidth:"100%"}:{},...j?{transform:et>0?`translateY(${et}px)`:void 0,opacity:et>0?Math.max(0,1-et/300):1,transition:et===0||et>=150?"all 0.2s ease-out":"none"}:{},...k?{boxShadow:"0 0 20px 4px rgba(99, 102, 241, 0.4), inset 0 0 10px rgba(99, 102, 241, 0.1)",borderColor:"rgba(99, 102, 241, 0.6)",transition:"box-shadow 0.3s ease-out, border-color 0.3s ease-out"}:{}},children:[!j&&!bn&&v.jsx("div",{className:`w-3 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary active:bg-accent-primary/20 transition-colors ${O?"bg-accent-primary/20":""} relative z-[60] touch-none`,onMouseDown:yt,onTouchStart:yt,children:v.jsx(z3,{size:12,className:"text-text-muted"})}),v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[j&&oe&&v.jsx("div",{className:"flex flex-col items-center shrink-0 cursor-grab active:cursor-grabbing",onTouchStart:Ke,onTouchMove:He,onTouchEnd:ut,children:v.jsx("div",{className:"pt-2.5 pb-1 flex flex-col items-center",children:v.jsx("div",{className:"w-12 h-1.5 rounded-full bg-text-muted/40"})})}),v.jsxs("div",{className:`${$?"px-3 py-2":oe&&j?"px-2 py-2":"px-4 py-3"} border-b border-border-subtle ${pe?"flex flex-col gap-2":"grid grid-cols-[1fr_auto_1fr] items-center gap-2"} shrink-0 ${j?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[v.jsx("div",{className:`flex items-center min-w-0 ${pe?"justify-center":""}`,style:{gap:"8px"},children:te&&W?v.jsx(v.Fragment,{children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs font-bold cursor-pointer touch-feedback hover:opacity-80 active:scale-95 transition-all",style:{backgroundColor:"transparent",color:dt,padding:"4px 10px",borderRadius:"8px",border:`2px solid ${dt}`},onClick:St,onDoubleClick:Tt,children:at()}),W.numeral&&v.jsx("span",{className:"text-sm font-serif italic text-text-muted shrink-0",children:lr(W.numeral)}),v.jsxs("div",{className:"flex items-center shrink-0",title:"Chord inversion",children:[v.jsx("button",{onClick:()=>{const _e=Math.max(0,ae-1);fe(_e);const it=su(xt,_e);Gr(it)},disabled:ae<=0,className:"w-3 h-3 flex items-center justify-center text-text-muted hover:text-accent-primary transition-colors disabled:opacity-20",children:v.jsx(Fh,{size:10})}),v.jsx("span",{className:"text-[9px] font-bold text-text-secondary w-3 text-center",children:ae}),v.jsx("button",{onClick:()=>{const _e=Math.min(hn,ae+1);fe(_e);const it=su(xt,_e);Gr(it)},disabled:ae>=hn,className:"w-3 h-3 flex items-center justify-center text-text-muted hover:text-accent-primary transition-colors disabled:opacity-20",children:v.jsx(Vh,{size:10})})]})]})}):v.jsx(v.Fragment,{children:v.jsxs("span",{className:`flex items-center shrink-0 min-w-0 ${W?"cursor-pointer touch-feedback hover:opacity-80 active:scale-95 transition-all":""}`,style:W?{gap:"4px",backgroundColor:"transparent",color:dt,padding:"3px 8px",borderRadius:"6px",border:`1.5px solid ${dt}`}:{gap:"4px"},onClick:W?St:void 0,onDoubleClick:W?Tt:void 0,onTouchEnd:W?Lt:void 0,onTouchStart:W?_e=>_e.stopPropagation():void 0,children:[v.jsx("span",{className:`${$?"text-lg":oe?"text-sm":"text-xs sm:text-sm"} font-bold leading-none truncate`,children:oe&&j?at():W?lr(`${W.root}${Nh(R||W.quality)}`):"Chord Details"}),W?.numeral&&v.jsx("span",{className:`${$?"text-sm":"text-[10px]"} font-serif italic opacity-70 shrink-0`,children:lr(W.numeral)})]})})}),!pe&&v.jsx("div",{className:"flex items-center justify-center",children:W&&!te&&v.jsxs("div",{className:"flex items-center bg-bg-tertiary/40 rounded-full px-0.5 ml-3",title:"Chord inversion - which note is in the bass",children:[v.jsx("button",{onClick:()=>{const _e=Math.max(0,ae-1);fe(_e);const it=su(xt,_e);Gr(it)},disabled:ae<=0,className:"w-4 h-4 flex items-center justify-center hover:bg-accent-primary/20 rounded-full text-text-muted hover:text-accent-primary transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Previous inversion",children:v.jsx(Fh,{size:8})}),v.jsx("span",{className:"text-[11px] font-semibold text-text-secondary min-w-[20px] text-center",children:K_(ae)}),v.jsx("button",{onClick:()=>{const _e=Math.min(hn,ae+1);fe(_e);const it=su(xt,_e);Gr(it)},disabled:ae>=hn,className:"w-4 h-4 flex items-center justify-center hover:bg-accent-primary/20 rounded-full text-text-muted hover:text-accent-primary transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Next inversion",children:v.jsx(Vh,{size:8})})]})}),v.jsxs("div",{className:`flex items-center gap-2 shrink-0 ${pe?"justify-center w-full":"justify-end"}`,children:[W&&v.jsxs("button",{onClick:Tt,className:`${pe?"flex-1 py-2":oe?"px-3 py-1.5":"px-2.5 py-1"} bg-gradient-to-r from-accent-primary to-purple-600 hover:opacity-90 rounded-lg transition-all touch-feedback flex items-center justify-center gap-1.5 shadow-md shadow-accent-primary/20 active:scale-95`,title:"Add chord to timeline",children:[v.jsx($h,{size:pe?16:oe?14:12,className:"text-white"}),v.jsx("span",{className:`${pe?"text-sm":oe?"text-xs":"text-[11px]"} font-semibold text-white`,children:"Add"})]}),!$&&v.jsx("button",{onClick:u,className:`${pe?"p-2 bg-bg-tertiary/60 rounded-lg":oe?"p-2 min-w-[40px] min-h-[40px]":"p-1"} hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center`,title:"Hide panel",children:v.jsx(H3,{size:pe||oe?18:16,className:`text-text-muted ${oe&&j?"rotate-90":""}`})})]})]}),W?v.jsxs("div",{ref:Be,className:`flex-1 ${bt?"flex flex-row overflow-hidden":"overflow-y-auto overflow-x-hidden"} min-h-0 overscroll-contain`,children:[!bt&&v.jsxs("div",{className:`${oe?"px-5 pt-4 pb-4":"px-5 py-4"} border-b border-border-subtle`,children:[v.jsx(lg,{highlightedNotes:ft,rootNote:W.root,bassNote:ft[0],color:dt,octave:de,onNotePlay:ze}),v.jsx("div",{className:`${oe?"mt-4":"mt-5"} w-full`,children:v.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:`${oe?"56px":"72px"} repeat(${ft.length}, minmax(0, 1fr))`},children:[v.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Notes"}),ft.map((_e,it)=>v.jsx("div",{className:`text-center ${oe?"text-xs":"text-sm"} font-bold text-text-primary flex items-center justify-center`,style:{height:"16px"},children:_e},`note-${it}`)),v.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Absolute"}),ft.map((_e,it)=>v.jsx("div",{className:`text-center ${oe?"text-[11px]":"text-xs"} text-text-primary font-semibold flex items-center justify-center`,style:{height:"16px"},children:ht(_e)},`abs-${it}`)),v.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Relative"}),ft.map((_e,it)=>v.jsx("div",{className:`text-center ${oe?"text-[11px]":"text-xs"} text-text-secondary flex items-center justify-center`,style:{height:"16px"},children:eS(a,_e).replace(/^1/,"R")},`rel-${it}`))]})})]}),v.jsxs("div",{className:`flex flex-col ${bt?"flex-1 overflow-y-auto":""}`,children:[v.jsxs("div",{ref:P,className:`${$?"px-2 py-1":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[v.jsxs("button",{onClick:()=>{const _e=!J;we(_e),_e&&setTimeout(()=>Le(P),50)},className:`w-full flex items-center justify-between ${J?"mb-2":"mb-0"} cursor-pointer rounded-none`,style:{backgroundColor:"transparent"},children:[v.jsx("h3",{className:`${te?"text-[9px]":oe?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide whitespace-nowrap`,children:te?"Guitar & Suggested":`Guitar & Suggested Voicings for ${lr(W.numeral||W.symbol)}`}),v.jsx(Yf,{size:te?8:oe?14:12,className:`text-text-secondary transition-transform ${J?"rotate-180":""}`})]}),J&&v.jsx(v.Fragment,{children:v.jsxs("div",{className:`flex items-start ${te?"gap-1":"gap-2"} px-3`,style:{marginTop:te?"4px":"8px"},children:[v.jsxs("div",{className:"flex flex-col items-center shrink-0",style:{minWidth:te?"70px":"100px"},children:[v.jsx(cg,{root:W.root,quality:R||W.quality,color:dt,onClick:St,onDoubleClick:Tt}),!te&&v.jsx("p",{className:`${oe?"text-[10px]":"text-[9px]"} text-text-muted leading-relaxed text-center ${oe?"mb-1 px-1":"mb-1 px-0.5"}`,style:{maxWidth:te?"70px":"100px"},children:st[R||W.quality]||"Select a voicing to see its description."})]}),v.jsx("div",{className:"w-px bg-border-subtle self-stretch"}),v.jsx("div",{className:"flex-1 flex flex-col justify-start pl-1",children:It().extensions.length>0?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:`grid ${te||le?"grid-cols-1":"grid-cols-2"}`,style:{gap:te?"3px":le?"4px":oe?"6px":"5px",marginBottom:te?"2px":"4px",marginRight:le?"12px":void 0},children:It().extensions.map(_e=>v.jsxs("button",{className:`relative group ${te?"px-1 py-0.5 text-[8px] min-h-[20px]":le?"px-2 py-1.5 text-[9px] min-h-[26px]":oe?"px-2 py-2 text-xs min-h-[36px]":"px-1.5 py-1 text-[10px]"} rounded font-semibold transition-colors touch-feedback text-center`,style:{width:te?"60px":le?"70px":oe?"80px":"70px",...R===_e?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#f0f0f5",border:"1px solid rgba(255,255,255,0.08)"}},onClick:()=>Xt(_e),onDoubleClick:()=>Nt(_e),children:[lr(`${W.root}${_e}`),!oe&&st[_e]&&v.jsxs("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[st[_e]?v.jsxs(v.Fragment,{children:[st[_e],v.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},_e))}),!le&&v.jsx("div",{style:{marginTop:te?"2px":"6px"},children:v.jsx(Uv,{notes:ft,rootNote:W.root,color:dt,numerals:ft.map(_e=>ht(_e)),onNotePlay:ze,compact:!0})})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[v.jsx(Uv,{notes:ft,rootNote:W.root,color:dt,numerals:ft.map(_e=>ht(_e)),onNotePlay:ze,compact:!1}),v.jsxs("p",{className:`${te?"text-[8px]":oe?"text-[10px]":"text-[9px]"} text-text-muted italic text-center mt-1`,children:["Out of key  see ",v.jsx("span",{className:"font-semibold text-text-secondary",children:"Voicings"})," below"]})]})})]})})]}),v.jsxs("div",{ref:Ae,className:`${bt?"px-3 py-1":oe?"px-5 py-1 mt-2":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[v.jsxs("button",{onClick:()=>{const _e=!be;xe(_e),_e&&setTimeout(()=>Le(Ae),50)},className:`w-full flex items-center justify-between ${be?"mb-2":"mb-0"} cursor-pointer rounded-none`,style:{backgroundColor:"transparent"},children:[v.jsx("h3",{className:`${te?"text-[9px]":oe?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Voicings"}),v.jsx(Yf,{size:te?8:oe?14:12,className:`text-text-secondary transition-transform ${be?"rotate-180":""}`})]}),be&&v.jsx("div",{className:`grid ${te?"grid-cols-4":oe?"grid-cols-3":"grid-cols-2 sm:grid-cols-3"} ${te?"gap-2":oe?"gap-3":"gap-2.5"}`,children:tt.map((_e,it)=>{const rt=it%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return v.jsxs("button",{className:`relative group ${te?"px-1.5 py-1 min-h-[22px] text-[8px]":oe?"px-3 py-3 min-h-[48px] text-xs":"px-2 py-1.5 text-[10px]"} rounded font-medium transition-colors touch-feedback`,style:R===_e?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#9898a6",border:"1px solid rgba(255,255,255,0.08)"},onClick:()=>Xt(_e),onDoubleClick:()=>Nt(_e),children:[_e,!oe&&st[_e]&&v.jsxs("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{...rt,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[st[_e]?v.jsxs(v.Fragment,{children:[st[_e],v.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},_e)})})]}),v.jsxs("div",{ref:nt,className:`${bt?"px-3 py-1":oe?"px-5 py-1 mt-2":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[v.jsxs("button",{onClick:()=>{const _e=!M;H(_e),_e&&setTimeout(()=>Le(nt),50)},className:`w-full flex items-center justify-between cursor-pointer ${M?"mb-3":"mb-0"} rounded-none`,style:{backgroundColor:"transparent"},children:[v.jsx("h3",{className:`${te?"text-[9px]":oe?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Theory"}),v.jsx(Yf,{size:te?8:oe?14:12,className:`text-text-secondary transition-transform ${M?"rotate-180":""}`})]}),M&&v.jsx("div",{className:`${oe?"p-3":"p-4"} bg-bg-elevated rounded-none`,children:v.jsx("p",{className:`${oe?"text-sm":"text-xs"} text-text-secondary leading-relaxed`,children:It().description})})]})]}),oe&&v.jsx("div",{className:"h-12 shrink-0"})]}):v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 gap-4",children:[v.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-accent-primary/20 to-purple-600/20 flex items-center justify-center border border-accent-primary/30",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-accent-primary",children:[v.jsx("circle",{cx:"8",cy:"18",r:"4"}),v.jsx("path",{d:"M12 18V2l7 4"})]})}),v.jsxs("div",{className:"text-center space-y-2",children:[v.jsx("p",{className:`${oe?"text-base":"text-sm"} font-semibold text-text-primary`,children:"No chord selected"}),v.jsx("p",{className:`${oe?"text-sm":"text-xs"} text-text-muted max-w-[200px]`,children:"Tap a chord on the wheel or select one from the timeline"})]})]})]})]})},jk="modulepreload",Ek=function(n){return"/chord-wheel-writer/"+n},Hv={},Th=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=f(t.map(d=>{if(d=Ek(d),d in Hv)return;Hv[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":jk,p||(_.as="script"),_.crossOrigin="",_.href=d,c&&_.setAttribute("nonce",c),document.head.appendChild(_),p)return new Promise((b,A)=>{_.addEventListener("load",b),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},Mk=()=>{const{currentSong:n,isPlaying:e,tempo:t,volume:s,setTempo:a,setVolume:o,instrument:u,setInstrument:c,isMuted:f,toggleMute:d,toggleLoop:p,isLooping:y,playingSectionId:_,selectedSectionId:b,setSelectedSlot:A}=sn(),{isMobile:N,isLandscape:k}=Xh(),[C,R]=re.useState(!1),[D,I]=re.useState(!1),[F,Y]=re.useState(t.toString()),G=re.useRef(null),[O,B]=re.useState(!1),K=re.useRef(null),j=re.useRef(t),V=re.useRef(null);re.useEffect(()=>{y2(n)},[n]),re.useEffect(()=>{tw(t)},[t]),re.useEffect(()=>{v2(u)},[u]),re.useEffect(()=>{rw()},[y,n,_,b]),re.useEffect(()=>{Th(()=>Promise.resolve().then(()=>sg),void 0).then(Q=>{R(!0),Q.preloadAudio().finally(()=>R(!1))})},[]);const ne=async()=>{try{await b2(),e?(ew(),sn.getState().setIsPlaying(!1)):(R(!0),await J3(),sn.getState().setIsPlaying(!0))}catch(Q){console.error("Playback error:",Q)}finally{R(!1)}},W=Q=>{nw(Q)},oe=()=>{p()},$=()=>{const Q=n.sections;if(Q.length===0)return;const ae=b?Q.findIndex(xe=>xe.id===b):-1,fe=ae>=0?(ae+1)%Q.length:0,de=Q[fe];de&&de.measures[0]?.beats[0]&&A(de.id,de.measures[0].beats[0].id)},te=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}];te.find(Q=>Q.value===u)||c("piano");const le=Q=>{const ae=te.findIndex(de=>de.value===u);if(ae===-1){c("piano");return}const fe=Q==="next"?(ae+1)%te.length:(ae-1+te.length)%te.length;c(te[fe].value)},pe=()=>{Y(t.toString()),I(!0),setTimeout(()=>G.current?.focus(),0)},be=()=>{const Q=parseInt(F,10);!isNaN(Q)&&Q>=40&&Q<=240?a(Q):Y(t.toString()),I(!1)},z=Q=>{Q.key==="Enter"?be():Q.key==="Escape"&&(Y(t.toString()),I(!1))},M=Q=>{K.current=Q.touches[0].clientX,j.current=t,B(!1),V.current=setTimeout(()=>{V.current=null},150)},H=Q=>{if(K.current===null)return;const fe=Q.touches[0].clientX-K.current;if(Math.abs(fe)>10){B(!0),V.current&&(clearTimeout(V.current),V.current=null);const de=Math.round(fe/3),xe=Math.min(240,Math.max(40,j.current+de));a(xe)}},J=()=>{!O&&V.current&&(clearTimeout(V.current),pe()),K.current=null,B(!1),V.current=null};return v.jsxs("div",{"data-playback-controls":!0,className:`${N&&k?"h-8":N?"h-11":"h-12"} bg-bg-elevated border-t border-border-subtle flex items-center justify-between ${N?"px-2 gap-1":"px-6"}`,children:[v.jsxs("div",{className:"flex items-center gap-0.5",children:[v.jsx("button",{onClick:()=>W("prev"),className:`${N&&k?"p-1":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:v.jsx(G3,{size:N&&k?12:16})}),v.jsx("button",{onClick:ne,disabled:C,className:`${N&&k?"w-6 h-6":N?"w-8 h-8":"w-9 h-9"} rounded-full bg-accent-primary hover:bg-indigo-500 disabled:bg-accent-primary/50 flex items-center justify-center text-white shadow-md transition-all hover:scale-105 active:scale-95 touch-feedback`,children:C?v.jsx(OC,{size:N&&k?12:N?16:18,className:"animate-spin"}):e?v.jsx(W3,{size:N&&k?12:N?16:18,fill:"currentColor"}):v.jsx(Yh,{size:N&&k?12:N?16:18,fill:"currentColor",className:"ml-0.5"})}),v.jsx("button",{onClick:()=>W("next"),className:`${N&&k?"p-1":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:v.jsx(Y3,{size:N&&k?12:16})}),N?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:$,className:`${k?"p-1":"p-1.5"} transition-colors text-text-secondary hover:text-text-primary touch-feedback`,title:"Cycle to Next Section",children:v.jsx(YC,{size:k?12:14})}),v.jsx("button",{onClick:oe,className:`${k?"p-1":"p-1.5"} transition-colors touch-feedback ${y?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:v.jsx(Iv,{size:k?12:14})})]}):v.jsx("button",{onClick:oe,className:`p-1.5 transition-colors ml-1 ${y?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:v.jsx(Iv,{size:14})})]}),v.jsx("div",{className:"flex items-center",children:N?D?v.jsx("input",{ref:G,type:"number",inputMode:"numeric",value:F,onChange:Q=>Y(Q.target.value),onBlur:be,onKeyDown:z,className:`${k?"w-10 text-[9px] h-4":"w-12 text-[11px] h-5"} bg-bg-tertiary border border-accent-primary rounded-sm px-1 text-center text-text-primary font-medium focus:outline-none`,min:40,max:240}):v.jsxs("div",{onTouchStart:M,onTouchMove:H,onTouchEnd:J,onClick:pe,className:`${k?"text-[9px] px-1.5 h-4":"text-[11px] px-2 h-5"} font-medium ${O?"text-accent-primary":"text-text-secondary"} hover:text-text-primary transition-colors touch-feedback whitespace-nowrap flex items-center cursor-ew-resize select-none`,children:[t," ",v.jsx("span",{className:`${O?"text-accent-primary/70":"text-text-muted"} ml-0.5`,children:"BPM"})]}):v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-text-secondary font-medium",children:"Tempo"}),v.jsx("input",{type:"number",value:t,onChange:Q=>a(Number(Q.target.value)),className:"w-14 bg-bg-tertiary border border-border-subtle rounded px-2 py-1 text-center text-text-primary text-[11px] font-medium",min:40,max:240}),v.jsx("span",{className:"text-text-muted",children:"BPM"})]})}),v.jsxs("div",{className:`flex items-center ${N?"gap-1.5":"gap-4"}`,children:[v.jsxs("div",{className:"flex items-center gap-1",children:[!N&&v.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-7",children:[v.jsx("button",{onClick:()=>le("prev"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:v.jsx(Fh,{size:12})}),v.jsx("button",{onClick:()=>le("next"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:v.jsx(Vh,{size:12})})]}),N&&!k&&v.jsx(U3,{size:14,className:"text-text-muted"}),v.jsx("select",{value:u,onChange:Q=>c(Q.target.value),className:`bg-bg-tertiary border border-border-subtle rounded ${N&&k?"px-3 py-1 h-6 text-[7px] min-w-[60px]":N?"px-1.5 h-7 text-[11px] min-w-[70px]":"px-2 h-7 text-[10px] min-w-[130px]"} text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer`,children:te.map(Q=>v.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),v.jsxs("div",{className:`flex items-center ${N?"":"gap-2 w-28"}`,children:[v.jsx("button",{onClick:d,className:`${N?"p-1.5":"p-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center rounded`,title:f?"Unmute":"Mute",children:f||s===0?v.jsx(ck,{size:N?16:14}):v.jsx(rg,{size:N?16:14})}),!N&&v.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:s,onChange:Q=>{f&&d(),o(Number(Q.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})};function Lk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return re.useMemo(()=>s=>{e.forEach(a=>a(s))},e)}const $p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zh(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function w2(n){return"nodeType"in n}function Gi(n){var e,t;return n?Zh(n)?n:w2(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function _2(n){const{Document:e}=Gi(n);return n instanceof e}function Cd(n){return Zh(n)?!1:n instanceof Gi(n).HTMLElement}function aw(n){return n instanceof Gi(n).SVGElement}function Qh(n){return n?Zh(n)?n.document:w2(n)?_2(n)?n:Cd(n)||aw(n)?n.ownerDocument:document:document:document}const Ho=$p?re.useLayoutEffect:re.useEffect;function S2(n){const e=re.useRef(n);return Ho(()=>{e.current=n}),re.useCallback(function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e.current==null?void 0:e.current(...s)},[])}function Ok(){const n=re.useRef(null),e=re.useCallback((s,a)=>{n.current=setInterval(s,a)},[]),t=re.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function ld(n,e){e===void 0&&(e=[n]);const t=re.useRef(n);return Ho(()=>{t.current!==n&&(t.current=n)},e),t}function kd(n,e){const t=re.useRef();return re.useMemo(()=>{const s=n(t.current);return t.current=s,s},[...e])}function yp(n){const e=S2(n),t=re.useRef(null),s=re.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,s]}function hg(n){const e=re.useRef();return re.useEffect(()=>{e.current=n},[n]),e.current}let xm={};function jd(n,e){return re.useMemo(()=>{if(e)return e;const t=xm[n]==null?0:xm[n]+1;return xm[n]=t,n+"-"+t},[n,e])}function ow(n){return function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return s.reduce((o,u)=>{const c=Object.entries(u);for(const[f,d]of c){const p=o[f];p!=null&&(o[f]=p+n*d)}return o},{...e})}}const Ch=ow(1),cd=ow(-1);function Dk(n){return"clientX"in n&&"clientY"in n}function N2(n){if(!n)return!1;const{KeyboardEvent:e}=Gi(n.target);return e&&n instanceof e}function Rk(n){if(!n)return!1;const{TouchEvent:e}=Gi(n.target);return e&&n instanceof e}function fg(n){if(Rk(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return Dk(n)?{x:n.clientX,y:n.clientY}:null}const ud=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[ud.Translate.toString(n),ud.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:s}=n;return e+" "+t+"ms "+s}}}),Wv="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ik(n){return n.matches(Wv)?n:n.querySelector(Wv)}const Vk={display:"none"};function Fk(n){let{id:e,value:t}=n;return Xn.createElement("div",{id:e,style:Vk},t)}function Bk(n){let{id:e,announcement:t,ariaLiveType:s="assertive"}=n;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Xn.createElement("div",{id:e,style:a,role:"status","aria-live":s,"aria-atomic":!0},t)}function zk(){const[n,e]=re.useState("");return{announce:re.useCallback(s=>{s!=null&&e(s)},[]),announcement:n}}const lw=re.createContext(null);function Pk(n){const e=re.useContext(lw);re.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function qk(){const[n]=re.useState(()=>new Set),e=re.useCallback(s=>(n.add(s),()=>n.delete(s)),[n]);return[re.useCallback(s=>{let{type:a,event:o}=s;n.forEach(u=>{var c;return(c=u[a])==null?void 0:c.call(u,o)})},[n]),e]}const Uk={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Hk={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Wk(n){let{announcements:e=Hk,container:t,hiddenTextDescribedById:s,screenReaderInstructions:a=Uk}=n;const{announce:o,announcement:u}=zk(),c=jd("DndLiveRegion"),[f,d]=re.useState(!1);if(re.useEffect(()=>{d(!0)},[]),Pk(re.useMemo(()=>({onDragStart(y){let{active:_}=y;o(e.onDragStart({active:_}))},onDragMove(y){let{active:_,over:b}=y;e.onDragMove&&o(e.onDragMove({active:_,over:b}))},onDragOver(y){let{active:_,over:b}=y;o(e.onDragOver({active:_,over:b}))},onDragEnd(y){let{active:_,over:b}=y;o(e.onDragEnd({active:_,over:b}))},onDragCancel(y){let{active:_,over:b}=y;o(e.onDragCancel({active:_,over:b}))}}),[o,e])),!f)return null;const p=Xn.createElement(Xn.Fragment,null,Xn.createElement(Fk,{id:s,value:a.draggable}),Xn.createElement(Bk,{id:c,announcement:u}));return t?Cl.createPortal(p,t):p}var js;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(js||(js={}));function xp(){}function Gv(n,e){return re.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Gk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return re.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const ho=Object.freeze({x:0,y:0});function cw(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function uw(n,e){let{data:{value:t}}=n,{data:{value:s}}=e;return t-s}function Yk(n,e){let{data:{value:t}}=n,{data:{value:s}}=e;return s-t}function Yv(n){let{left:e,top:t,height:s,width:a}=n;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+s},{x:e+a,y:t+s}]}function hw(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function $v(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const $k=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const a=$v(e,e.left,e.top),o=[];for(const u of s){const{id:c}=u,f=t.get(c);if(f){const d=cw($v(f),a);o.push({id:c,data:{droppableContainer:u,value:d}})}}return o.sort(uw)},Xk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const a=Yv(e),o=[];for(const u of s){const{id:c}=u,f=t.get(c);if(f){const d=Yv(f),p=a.reduce((_,b,A)=>_+cw(d[A],b),0),y=Number((p/4).toFixed(4));o.push({id:c,data:{droppableContainer:u,value:y}})}}return o.sort(uw)};function Zk(n,e){const t=Math.max(e.top,n.top),s=Math.max(e.left,n.left),a=Math.min(e.left+e.width,n.left+n.width),o=Math.min(e.top+e.height,n.top+n.height),u=a-s,c=o-t;if(s<a&&t<o){const f=e.width*e.height,d=n.width*n.height,p=u*c,y=p/(f+d-p);return Number(y.toFixed(4))}return 0}const Qk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const a=[];for(const o of s){const{id:u}=o,c=t.get(u);if(c){const f=Zk(c,e);f>0&&a.push({id:u,data:{droppableContainer:o,value:f}})}}return a.sort(Yk)};function Kk(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function fw(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:ho}function Jk(n){return function(t){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return a.reduce((u,c)=>({...u,top:u.top+n*c.y,bottom:u.bottom+n*c.y,left:u.left+n*c.x,right:u.right+n*c.x}),{...t})}}const e7=Jk(1);function t7(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function n7(n,e,t){const s=t7(e);if(!s)return n;const{scaleX:a,scaleY:o,x:u,y:c}=s,f=n.left-u-(1-a)*parseFloat(t),d=n.top-c-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),p=a?n.width/a:n.width,y=o?n.height/o:n.height;return{width:p,height:y,top:d,right:f+p,bottom:d+y,left:f}}const r7={ignoreTransform:!1};function Kh(n,e){e===void 0&&(e=r7);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:p}=Gi(n).getComputedStyle(n);d&&(t=n7(t,d,p))}const{top:s,left:a,width:o,height:u,bottom:c,right:f}=t;return{top:s,left:a,width:o,height:u,bottom:c,right:f}}function Xv(n){return Kh(n,{ignoreTransform:!0})}function s7(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function i7(n,e){return e===void 0&&(e=Gi(n).getComputedStyle(n)),e.position==="fixed"}function a7(n,e){e===void 0&&(e=Gi(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function Xp(n,e){const t=[];function s(a){if(e!=null&&t.length>=e||!a)return t;if(_2(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!Cd(a)||aw(a)||t.includes(a))return t;const o=Gi(n).getComputedStyle(a);return a!==n&&a7(a,o)&&t.push(a),i7(a,o)?t:s(a.parentNode)}return n?s(n):t}function dw(n){const[e]=Xp(n,1);return e??null}function wm(n){return!$p||!n?null:Zh(n)?n:w2(n)?_2(n)||n===Qh(n).scrollingElement?window:Cd(n)?n:null:null}function pw(n){return Zh(n)?n.scrollX:n.scrollLeft}function mw(n){return Zh(n)?n.scrollY:n.scrollTop}function dg(n){return{x:pw(n),y:mw(n)}}var Bs;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Bs||(Bs={}));function gw(n){return!$p||!n?!1:n===document.scrollingElement}function bw(n){const e={x:0,y:0},t=gw(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},s={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},a=n.scrollTop<=e.y,o=n.scrollLeft<=e.x,u=n.scrollTop>=s.y,c=n.scrollLeft>=s.x;return{isTop:a,isLeft:o,isBottom:u,isRight:c,maxScroll:s,minScroll:e}}const o7={x:.2,y:.2};function l7(n,e,t,s,a){let{top:o,left:u,right:c,bottom:f}=t;s===void 0&&(s=10),a===void 0&&(a=o7);const{isTop:d,isBottom:p,isLeft:y,isRight:_}=bw(n),b={x:0,y:0},A={x:0,y:0},N={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+N.height?(b.y=Bs.Backward,A.y=s*Math.abs((e.top+N.height-o)/N.height)):!p&&f>=e.bottom-N.height&&(b.y=Bs.Forward,A.y=s*Math.abs((e.bottom-N.height-f)/N.height)),!_&&c>=e.right-N.width?(b.x=Bs.Forward,A.x=s*Math.abs((e.right-N.width-c)/N.width)):!y&&u<=e.left+N.width&&(b.x=Bs.Backward,A.x=s*Math.abs((e.left+N.width-u)/N.width)),{direction:b,speed:A}}function c7(n){if(n===document.scrollingElement){const{innerWidth:o,innerHeight:u}=window;return{top:0,left:0,right:o,bottom:u,width:o,height:u}}const{top:e,left:t,right:s,bottom:a}=n.getBoundingClientRect();return{top:e,left:t,right:s,bottom:a,width:n.clientWidth,height:n.clientHeight}}function vw(n){return n.reduce((e,t)=>Ch(e,dg(t)),ho)}function u7(n){return n.reduce((e,t)=>e+pw(t),0)}function h7(n){return n.reduce((e,t)=>e+mw(t),0)}function f7(n,e){if(e===void 0&&(e=Kh),!n)return;const{top:t,left:s,bottom:a,right:o}=e(n);dw(n)&&(a<=0||o<=0||t>=window.innerHeight||s>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const d7=[["x",["left","right"],u7],["y",["top","bottom"],h7]];class A2{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Xp(t),a=vw(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,u,c]of d7)for(const f of u)Object.defineProperty(this,f,{get:()=>{const d=c(s),p=a[o]-d;return this.rect[f]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Xf{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...t)})},this.target=e}add(e,t,s){var a;(a=this.target)==null||a.addEventListener(e,t,s),this.listeners.push([e,t,s])}}function p7(n){const{EventTarget:e}=Gi(n);return n instanceof e?n:Qh(n)}function _m(n,e){const t=Math.abs(n.x),s=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+s**2)>e:"x"in e&&"y"in e?t>e.x&&s>e.y:"x"in e?t>e.x:"y"in e?s>e.y:!1}var Ca;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Ca||(Ca={}));function Zv(n){n.preventDefault()}function m7(n){n.stopPropagation()}var In;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(In||(In={}));const yw={start:[In.Space,In.Enter],cancel:[In.Esc],end:[In.Space,In.Enter,In.Tab]},g7=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case In.Right:return{...t,x:t.x+25};case In.Left:return{...t,x:t.x-25};case In.Down:return{...t,y:t.y+25};case In.Up:return{...t,y:t.y-25}}};class T2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Xf(Qh(t)),this.windowListeners=new Xf(Gi(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ca.Resize,this.handleCancel),this.windowListeners.add(Ca.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ca.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,s=e.node.current;s&&f7(s),t(ho)}handleKeyDown(e){if(N2(e)){const{active:t,context:s,options:a}=this.props,{keyboardCodes:o=yw,coordinateGetter:u=g7,scrollBehavior:c="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:d}=s.current,p=d?{x:d.left,y:d.top}:ho;this.referenceCoordinates||(this.referenceCoordinates=p);const y=u(e,{active:t,context:s.current,currentCoordinates:p});if(y){const _=cd(y,p),b={x:0,y:0},{scrollableAncestors:A}=s.current;for(const N of A){const k=e.code,{isTop:C,isRight:R,isLeft:D,isBottom:I,maxScroll:F,minScroll:Y}=bw(N),G=c7(N),O={x:Math.min(k===In.Right?G.right-G.width/2:G.right,Math.max(k===In.Right?G.left:G.left+G.width/2,y.x)),y:Math.min(k===In.Down?G.bottom-G.height/2:G.bottom,Math.max(k===In.Down?G.top:G.top+G.height/2,y.y))},B=k===In.Right&&!R||k===In.Left&&!D,K=k===In.Down&&!I||k===In.Up&&!C;if(B&&O.x!==y.x){const j=N.scrollLeft+_.x,V=k===In.Right&&j<=F.x||k===In.Left&&j>=Y.x;if(V&&!_.y){N.scrollTo({left:j,behavior:c});return}V?b.x=N.scrollLeft-j:b.x=k===In.Right?N.scrollLeft-F.x:N.scrollLeft-Y.x,b.x&&N.scrollBy({left:-b.x,behavior:c});break}else if(K&&O.y!==y.y){const j=N.scrollTop+_.y,V=k===In.Down&&j<=F.y||k===In.Up&&j>=Y.y;if(V&&!_.x){N.scrollTo({top:j,behavior:c});return}V?b.y=N.scrollTop-j:b.y=k===In.Down?N.scrollTop-F.y:N.scrollTop-Y.y,b.y&&N.scrollBy({top:-b.y,behavior:c});break}}this.handleMove(e,Ch(cd(y,this.referenceCoordinates),b))}}}handleMove(e,t){const{onMove:s}=this.props;e.preventDefault(),s(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}T2.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:s=yw,onActivation:a}=e,{active:o}=t;const{code:u}=n.nativeEvent;if(s.start.includes(u)){const c=o.activatorNode.current;return c&&n.target!==c?!1:(n.preventDefault(),a?.({event:n.nativeEvent}),!0)}return!1}}];function Qv(n){return!!(n&&"distance"in n)}function Kv(n){return!!(n&&"delay"in n)}class C2{constructor(e,t,s){var a;s===void 0&&(s=p7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:u}=o;this.props=e,this.events=t,this.document=Qh(u),this.documentListeners=new Xf(this.document),this.listeners=new Xf(s),this.windowListeners=new Xf(Gi(u)),this.initialCoordinates=(a=fg(o))!=null?a:ho,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Ca.Resize,this.handleCancel),this.windowListeners.add(Ca.DragStart,Zv),this.windowListeners.add(Ca.VisibilityChange,this.handleCancel),this.windowListeners.add(Ca.ContextMenu,Zv),this.documentListeners.add(Ca.Keydown,this.handleKeydown),t){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Kv(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Qv(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:s,onPending:a}=this.props;a(s,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ca.Click,m7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ca.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:s,initialCoordinates:a,props:o}=this,{onMove:u,options:{activationConstraint:c}}=o;if(!a)return;const f=(t=fg(e))!=null?t:ho,d=cd(a,f);if(!s&&c){if(Qv(c)){if(c.tolerance!=null&&_m(d,c.tolerance))return this.handleCancel();if(_m(d,c.distance))return this.handleStart()}if(Kv(c)&&_m(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),u(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===In.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const b7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class k2 extends C2{constructor(e){const{event:t}=e,s=Qh(t.target);super(e,b7,s)}}k2.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;return!t.isPrimary||t.button!==0?!1:(s?.({event:t}),!0)}}];const v7={move:{name:"mousemove"},end:{name:"mouseup"}};var pg;(function(n){n[n.RightClick=2]="RightClick"})(pg||(pg={}));class y7 extends C2{constructor(e){super(e,v7,Qh(e.event.target))}}y7.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;return t.button===pg.RightClick?!1:(s?.({event:t}),!0)}}];const Sm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class x7 extends C2{constructor(e){super(e,Sm)}static setup(){return window.addEventListener(Sm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Sm.move.name,e)};function e(){}}}x7.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;const{touches:a}=t;return a.length>1?!1:(s?.({event:t}),!0)}}];var Zf;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Zf||(Zf={}));var wp;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(wp||(wp={}));function w7(n){let{acceleration:e,activator:t=Zf.Pointer,canScroll:s,draggingRect:a,enabled:o,interval:u=5,order:c=wp.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:p,delta:y,threshold:_}=n;const b=S7({delta:y,disabled:!o}),[A,N]=Ok(),k=re.useRef({x:0,y:0}),C=re.useRef({x:0,y:0}),R=re.useMemo(()=>{switch(t){case Zf.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Zf.DraggableRect:return a}},[t,a,f]),D=re.useRef(null),I=re.useCallback(()=>{const Y=D.current;if(!Y)return;const G=k.current.x*C.current.x,O=k.current.y*C.current.y;Y.scrollBy(G,O)},[]),F=re.useMemo(()=>c===wp.TreeOrder?[...d].reverse():d,[c,d]);re.useEffect(()=>{if(!o||!d.length||!R){N();return}for(const Y of F){if(s?.(Y)===!1)continue;const G=d.indexOf(Y),O=p[G];if(!O)continue;const{direction:B,speed:K}=l7(Y,O,R,e,_);for(const j of["x","y"])b[j][B[j]]||(K[j]=0,B[j]=0);if(K.x>0||K.y>0){N(),D.current=Y,A(I,u),k.current=K,C.current=B;return}}k.current={x:0,y:0},C.current={x:0,y:0},N()},[e,I,s,N,o,u,JSON.stringify(R),JSON.stringify(b),A,d,F,p,JSON.stringify(_)])}const _7={x:{[Bs.Backward]:!1,[Bs.Forward]:!1},y:{[Bs.Backward]:!1,[Bs.Forward]:!1}};function S7(n){let{delta:e,disabled:t}=n;const s=hg(e);return kd(a=>{if(t||!s||!a)return _7;const o={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Bs.Backward]:a.x[Bs.Backward]||o.x===-1,[Bs.Forward]:a.x[Bs.Forward]||o.x===1},y:{[Bs.Backward]:a.y[Bs.Backward]||o.y===-1,[Bs.Forward]:a.y[Bs.Forward]||o.y===1}}},[t,e,s])}function N7(n,e){const t=e!=null?n.get(e):void 0,s=t?t.node.current:null;return kd(a=>{var o;return e==null?null:(o=s??a)!=null?o:null},[s,e])}function A7(n,e){return re.useMemo(()=>n.reduce((t,s)=>{const{sensor:a}=s,o=a.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,s)}));return[...t,...o]},[]),[n,e])}var hd;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(hd||(hd={}));var mg;(function(n){n.Optimized="optimized"})(mg||(mg={}));const Jv=new Map;function T7(n,e){let{dragging:t,dependencies:s,config:a}=e;const[o,u]=re.useState(null),{frequency:c,measure:f,strategy:d}=a,p=re.useRef(n),y=k(),_=ld(y),b=re.useCallback(function(C){C===void 0&&(C=[]),!_.current&&u(R=>R===null?C:R.concat(C.filter(D=>!R.includes(D))))},[_]),A=re.useRef(null),N=kd(C=>{if(y&&!t)return Jv;if(!C||C===Jv||p.current!==n||o!=null){const R=new Map;for(let D of n){if(!D)continue;if(o&&o.length>0&&!o.includes(D.id)&&D.rect.current){R.set(D.id,D.rect.current);continue}const I=D.node.current,F=I?new A2(f(I),I):null;D.rect.current=F,F&&R.set(D.id,F)}return R}return C},[n,o,t,y,f]);return re.useEffect(()=>{p.current=n},[n]),re.useEffect(()=>{y||b()},[t,y]),re.useEffect(()=>{o&&o.length>0&&u(null)},[JSON.stringify(o)]),re.useEffect(()=>{y||typeof c!="number"||A.current!==null||(A.current=setTimeout(()=>{b(),A.current=null},c))},[c,y,b,...s]),{droppableRects:N,measureDroppableContainers:b,measuringScheduled:o!=null};function k(){switch(d){case hd.Always:return!1;case hd.BeforeDragging:return t;default:return!t}}}function xw(n,e){return kd(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function C7(n,e){return xw(n,e)}function k7(n){let{callback:e,disabled:t}=n;const s=S2(e),a=re.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(s)},[s,t]);return re.useEffect(()=>()=>a?.disconnect(),[a]),a}function Zp(n){let{callback:e,disabled:t}=n;const s=S2(e),a=re.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(s)},[t]);return re.useEffect(()=>()=>a?.disconnect(),[a]),a}function j7(n){return new A2(Kh(n),n)}function ey(n,e,t){e===void 0&&(e=j7);const[s,a]=re.useState(null);function o(){a(f=>{if(!n)return null;if(n.isConnected===!1){var d;return(d=f??t)!=null?d:null}const p=e(n);return JSON.stringify(f)===JSON.stringify(p)?f:p})}const u=k7({callback(f){if(n)for(const d of f){const{type:p,target:y}=d;if(p==="childList"&&y instanceof HTMLElement&&y.contains(n)){o();break}}}}),c=Zp({callback:o});return Ho(()=>{o(),n?(c?.observe(n),u?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),u?.disconnect())},[n]),s}function E7(n){const e=xw(n);return fw(n,e)}const ty=[];function M7(n){const e=re.useRef(n),t=kd(s=>n?s&&s!==ty&&n&&e.current&&n.parentNode===e.current.parentNode?s:Xp(n):ty,[n]);return re.useEffect(()=>{e.current=n},[n]),t}function L7(n){const[e,t]=re.useState(null),s=re.useRef(n),a=re.useCallback(o=>{const u=wm(o.target);u&&t(c=>c?(c.set(u,dg(u)),new Map(c)):null)},[]);return re.useEffect(()=>{const o=s.current;if(n!==o){u(o);const c=n.map(f=>{const d=wm(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,dg(d)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),s.current=n}return()=>{u(n),u(o)};function u(c){c.forEach(f=>{const d=wm(f);d?.removeEventListener("scroll",a)})}},[a,n]),re.useMemo(()=>n.length?e?Array.from(e.values()).reduce((o,u)=>Ch(o,u),ho):vw(n):ho,[n,e])}function ny(n,e){e===void 0&&(e=[]);const t=re.useRef(null);return re.useEffect(()=>{t.current=null},e),re.useEffect(()=>{const s=n!==ho;s&&!t.current&&(t.current=n),!s&&t.current&&(t.current=null)},[n]),t.current?cd(n,t.current):ho}function O7(n){re.useEffect(()=>{if(!$p)return;const e=n.map(t=>{let{sensor:s}=t;return s.setup==null?void 0:s.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function D7(n,e){return re.useMemo(()=>n.reduce((t,s)=>{let{eventName:a,handler:o}=s;return t[a]=u=>{o(u,e)},t},{}),[n,e])}function ww(n){return re.useMemo(()=>n?s7(n):null,[n])}const ry=[];function R7(n,e){e===void 0&&(e=Kh);const[t]=n,s=ww(t?Gi(t):null),[a,o]=re.useState(ry);function u(){o(()=>n.length?n.map(f=>gw(f)?s:new A2(e(f),f)):ry)}const c=Zp({callback:u});return Ho(()=>{c?.disconnect(),u(),n.forEach(f=>c?.observe(f))},[n]),a}function I7(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Cd(e)?e:n}function V7(n){let{measure:e}=n;const[t,s]=re.useState(null),a=re.useCallback(d=>{for(const{target:p}of d)if(Cd(p)){s(y=>{const _=e(p);return y?{...y,width:_.width,height:_.height}:_});break}},[e]),o=Zp({callback:a}),u=re.useCallback(d=>{const p=I7(d);o?.disconnect(),p&&o?.observe(p),s(p?e(p):null)},[e,o]),[c,f]=yp(u);return re.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const F7=[{sensor:k2,options:{}},{sensor:T2,options:{}}],B7={current:{}},H1={draggable:{measure:Xv},droppable:{measure:Xv,strategy:hd.WhileDragging,frequency:mg.Optimized},dragOverlay:{measure:Kh}};class Qf extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,s;return(t=(s=this.get(e))==null?void 0:s.node.current)!=null?t:void 0}}const z7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:H1,measureDroppableContainers:xp,windowRect:null,measuringScheduled:!1},P7={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xp,draggableNodes:new Map,over:null,measureDroppableContainers:xp},Qp=re.createContext(P7),_w=re.createContext(z7);function q7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qf}}}function U7(n,e){switch(e.type){case js.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case js.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case js.DragEnd:case js.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case js.RegisterDroppable:{const{element:t}=e,{id:s}=t,a=new Qf(n.droppable.containers);return a.set(s,t),{...n,droppable:{...n.droppable,containers:a}}}case js.SetDroppableDisabled:{const{id:t,key:s,disabled:a}=e,o=n.droppable.containers.get(t);if(!o||s!==o.key)return n;const u=new Qf(n.droppable.containers);return u.set(t,{...o,disabled:a}),{...n,droppable:{...n.droppable,containers:u}}}case js.UnregisterDroppable:{const{id:t,key:s}=e,a=n.droppable.containers.get(t);if(!a||s!==a.key)return n;const o=new Qf(n.droppable.containers);return o.delete(t),{...n,droppable:{...n.droppable,containers:o}}}default:return n}}function H7(n){let{disabled:e}=n;const{active:t,activatorEvent:s,draggableNodes:a}=re.useContext(Qp),o=hg(s),u=hg(t?.id);return re.useEffect(()=>{if(!e&&!s&&o&&u!=null){if(!N2(o)||document.activeElement===o.target)return;const c=a.get(u);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[f.current,d.current]){if(!p)continue;const y=Ik(p);if(y){y.focus();break}}})}},[s,e,a,u,o]),null}function W7(n,e){let{transform:t,...s}=e;return n!=null&&n.length?n.reduce((a,o)=>o({transform:a,...s}),t):t}function G7(n){return re.useMemo(()=>({draggable:{...H1.draggable,...n?.draggable},droppable:{...H1.droppable,...n?.droppable},dragOverlay:{...H1.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function Y7(n){let{activeNode:e,measure:t,initialRect:s,config:a=!0}=n;const o=re.useRef(!1),{x:u,y:c}=typeof a=="boolean"?{x:a,y:a}:a;Ho(()=>{if(!u&&!c||!e){o.current=!1;return}if(o.current||!s)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const p=t(d),y=fw(p,s);if(u||(y.x=0),c||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const _=dw(d);_&&_.scrollBy({top:y.y,left:y.x})}},[e,u,c,s,t])}const Sw=re.createContext({...ho,scaleX:1,scaleY:1});var xc;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(xc||(xc={}));const $7=re.memo(function(e){var t,s,a,o;let{id:u,accessibility:c,autoScroll:f=!0,children:d,sensors:p=F7,collisionDetection:y=Qk,measuring:_,modifiers:b,...A}=e;const N=re.useReducer(U7,void 0,q7),[k,C]=N,[R,D]=qk(),[I,F]=re.useState(xc.Uninitialized),Y=I===xc.Initialized,{draggable:{active:G,nodes:O,translate:B},droppable:{containers:K}}=k,j=G!=null?O.get(G):null,V=re.useRef({initial:null,translated:null}),ne=re.useMemo(()=>{var bt;return G!=null?{id:G,data:(bt=j?.data)!=null?bt:B7,rect:V}:null},[G,j]),W=re.useRef(null),[oe,$]=re.useState(null),[te,le]=re.useState(null),pe=ld(A,Object.values(A)),be=jd("DndDescribedBy",u),z=re.useMemo(()=>K.getEnabled(),[K]),M=G7(_),{droppableRects:H,measureDroppableContainers:J,measuringScheduled:Q}=T7(z,{dragging:Y,dependencies:[B.x,B.y],config:M.droppable}),ae=N7(O,G),fe=re.useMemo(()=>te?fg(te):null,[te]),de=bn(),xe=C7(ae,M.draggable.measure);Y7({activeNode:G!=null?O.get(G):null,config:de.layoutShiftCompensation,initialRect:xe,measure:M.draggable.measure});const we=ey(ae,M.draggable.measure,xe),Ve=ey(ae?ae.parentElement:null),Xe=re.useRef({activatorEvent:null,active:null,activeNode:ae,collisionRect:null,collisions:null,droppableRects:H,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),et=K.getNodeFor((t=Xe.current.over)==null?void 0:t.id),ct=V7({measure:M.dragOverlay.measure}),P=(s=ct.nodeRef.current)!=null?s:ae,Ae=Y?(a=ct.rect)!=null?a:we:null,nt=!!(ct.nodeRef.current&&ct.rect),Be=E7(nt?null:we),Le=ww(P?Gi(P):null),Ke=M7(Y?et??ae:null),He=R7(Ke),ut=W7(b,{transform:{x:B.x-Be.x,y:B.y-Be.y,scaleX:1,scaleY:1},activatorEvent:te,active:ne,activeNodeRect:we,containerNodeRect:Ve,draggingNodeRect:Ae,over:Xe.current.over,overlayNodeRect:ct.rect,scrollableAncestors:Ke,scrollableAncestorRects:He,windowRect:Le}),at=fe?Ch(fe,B):null,ze=L7(Ke),st=ny(ze),tt=ny(ze,[we]),ht=Ch(ut,st),yt=Ae?e7(Ae,ut):null,dt=ne&&yt?y({active:ne,collisionRect:yt,droppableRects:H,droppableContainers:z,pointerCoordinates:at}):null,xt=hw(dt,"id"),[ft,hn]=re.useState(null),Xt=nt?ut:Ch(ut,tt),Nt=Kk(Xt,(o=ft?.rect)!=null?o:null,we),St=re.useRef(null),Tt=re.useCallback((bt,_e)=>{let{sensor:it,options:Ne}=_e;if(W.current==null)return;const rt=O.get(W.current);if(!rt)return;const pt=bt.nativeEvent,At=new it({active:W.current,activeNode:rt,event:pt,options:Ne,context:Xe,onAbort(Pt){if(!O.get(Pt))return;const{onDragAbort:xn}=pe.current,wn={id:Pt};xn?.(wn),R({type:"onDragAbort",event:wn})},onPending(Pt,yn,xn,wn){if(!O.get(Pt))return;const{onDragPending:fn}=pe.current,dn={id:Pt,constraint:yn,initialCoordinates:xn,offset:wn};fn?.(dn),R({type:"onDragPending",event:dn})},onStart(Pt){const yn=W.current;if(yn==null)return;const xn=O.get(yn);if(!xn)return;const{onDragStart:wn}=pe.current,Gt={activatorEvent:pt,active:{id:yn,data:xn.data,rect:V}};Cl.unstable_batchedUpdates(()=>{wn?.(Gt),F(xc.Initializing),C({type:js.DragStart,initialCoordinates:Pt,active:yn}),R({type:"onDragStart",event:Gt}),$(St.current),le(pt)})},onMove(Pt){C({type:js.DragMove,coordinates:Pt})},onEnd:ot(js.DragEnd),onCancel:ot(js.DragCancel)});St.current=At;function ot(Pt){return async function(){const{active:xn,collisions:wn,over:Gt,scrollAdjustedTranslate:fn}=Xe.current;let dn=null;if(xn&&fn){const{cancelDrop:Vn}=pe.current;dn={activatorEvent:pt,active:xn,collisions:wn,delta:fn,over:Gt},Pt===js.DragEnd&&typeof Vn=="function"&&await Promise.resolve(Vn(dn))&&(Pt=js.DragCancel)}W.current=null,Cl.unstable_batchedUpdates(()=>{C({type:Pt}),F(xc.Uninitialized),hn(null),$(null),le(null),St.current=null;const Vn=Pt===js.DragEnd?"onDragEnd":"onDragCancel";if(dn){const Fn=pe.current[Vn];Fn?.(dn),R({type:Vn,event:dn})}})}}},[O]),gt=re.useCallback((bt,_e)=>(it,Ne)=>{const rt=it.nativeEvent,pt=O.get(Ne);if(W.current!==null||!pt||rt.dndKit||rt.defaultPrevented)return;const At={active:pt};bt(it,_e.options,At)===!0&&(rt.dndKit={capturedBy:_e.sensor},W.current=Ne,Tt(it,_e))},[O,Tt]),Jt=A7(p,gt);O7(p),Ho(()=>{we&&I===xc.Initializing&&F(xc.Initialized)},[we,I]),re.useEffect(()=>{const{onDragMove:bt}=pe.current,{active:_e,activatorEvent:it,collisions:Ne,over:rt}=Xe.current;if(!_e||!it)return;const pt={active:_e,activatorEvent:it,collisions:Ne,delta:{x:ht.x,y:ht.y},over:rt};Cl.unstable_batchedUpdates(()=>{bt?.(pt),R({type:"onDragMove",event:pt})})},[ht.x,ht.y]),re.useEffect(()=>{const{active:bt,activatorEvent:_e,collisions:it,droppableContainers:Ne,scrollAdjustedTranslate:rt}=Xe.current;if(!bt||W.current==null||!_e||!rt)return;const{onDragOver:pt}=pe.current,At=Ne.get(xt),ot=At&&At.rect.current?{id:At.id,rect:At.rect.current,data:At.data,disabled:At.disabled}:null,Pt={active:bt,activatorEvent:_e,collisions:it,delta:{x:rt.x,y:rt.y},over:ot};Cl.unstable_batchedUpdates(()=>{hn(ot),pt?.(Pt),R({type:"onDragOver",event:Pt})})},[xt]),Ho(()=>{Xe.current={activatorEvent:te,active:ne,activeNode:ae,collisionRect:yt,collisions:dt,droppableRects:H,draggableNodes:O,draggingNode:P,draggingNodeRect:Ae,droppableContainers:K,over:ft,scrollableAncestors:Ke,scrollAdjustedTranslate:ht},V.current={initial:Ae,translated:yt}},[ne,ae,dt,yt,O,P,Ae,H,K,ft,Ke,ht]),w7({...de,delta:B,draggingRect:yt,pointerCoordinates:at,scrollableAncestors:Ke,scrollableAncestorRects:He});const Lt=re.useMemo(()=>({active:ne,activeNode:ae,activeNodeRect:we,activatorEvent:te,collisions:dt,containerNodeRect:Ve,dragOverlay:ct,draggableNodes:O,droppableContainers:K,droppableRects:H,over:ft,measureDroppableContainers:J,scrollableAncestors:Ke,scrollableAncestorRects:He,measuringConfiguration:M,measuringScheduled:Q,windowRect:Le}),[ne,ae,we,te,dt,Ve,ct,O,K,H,ft,J,Ke,He,M,Q,Le]),It=re.useMemo(()=>({activatorEvent:te,activators:Jt,active:ne,activeNodeRect:we,ariaDescribedById:{draggable:be},dispatch:C,draggableNodes:O,over:ft,measureDroppableContainers:J}),[te,Jt,ne,we,C,be,O,ft,J]);return Xn.createElement(lw.Provider,{value:D},Xn.createElement(Qp.Provider,{value:It},Xn.createElement(_w.Provider,{value:Lt},Xn.createElement(Sw.Provider,{value:Nt},d)),Xn.createElement(H7,{disabled:c?.restoreFocus===!1})),Xn.createElement(Wk,{...c,hiddenTextDescribedById:be}));function bn(){const bt=oe?.autoScrollEnabled===!1,_e=typeof f=="object"?f.enabled===!1:f===!1,it=Y&&!bt&&!_e;return typeof f=="object"?{...f,enabled:it}:{enabled:it}}}),X7=re.createContext(null),sy="button",Z7="Draggable";function Q7(n){let{id:e,data:t,disabled:s=!1,attributes:a}=n;const o=jd(Z7),{activators:u,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:p,draggableNodes:y,over:_}=re.useContext(Qp),{role:b=sy,roleDescription:A="draggable",tabIndex:N=0}=a??{},k=f?.id===e,C=re.useContext(k?Sw:X7),[R,D]=yp(),[I,F]=yp(),Y=D7(u,e),G=ld(t);Ho(()=>(y.set(e,{id:e,key:o,node:R,activatorNode:I,data:G}),()=>{const B=y.get(e);B&&B.key===o&&y.delete(e)}),[y,e]);const O=re.useMemo(()=>({role:b,tabIndex:N,"aria-disabled":s,"aria-pressed":k&&b===sy?!0:void 0,"aria-roledescription":A,"aria-describedby":p.draggable}),[s,b,N,k,A,p.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:O,isDragging:k,listeners:s?void 0:Y,node:R,over:_,setNodeRef:D,setActivatorNodeRef:F,transform:C}}function K7(){return re.useContext(_w)}const J7="Droppable",ej={timeout:25};function tj(n){let{data:e,disabled:t=!1,id:s,resizeObserverConfig:a}=n;const o=jd(J7),{active:u,dispatch:c,over:f,measureDroppableContainers:d}=re.useContext(Qp),p=re.useRef({disabled:t}),y=re.useRef(!1),_=re.useRef(null),b=re.useRef(null),{disabled:A,updateMeasurementsFor:N,timeout:k}={...ej,...a},C=ld(N??s),R=re.useCallback(()=>{if(!y.current){y.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),b.current=null},k)},[k]),D=Zp({callback:R,disabled:A||!u}),I=re.useCallback((O,B)=>{D&&(B&&(D.unobserve(B),y.current=!1),O&&D.observe(O))},[D]),[F,Y]=yp(I),G=ld(e);return re.useEffect(()=>{!D||!F.current||(D.disconnect(),y.current=!1,D.observe(F.current))},[F,D]),re.useEffect(()=>(c({type:js.RegisterDroppable,element:{id:s,key:o,disabled:t,node:F,rect:_,data:G}}),()=>c({type:js.UnregisterDroppable,key:o,id:s})),[s]),re.useEffect(()=>{t!==p.current.disabled&&(c({type:js.SetDroppableDisabled,id:s,key:o,disabled:t}),p.current.disabled=t)},[s,o,t,c]),{active:u,rect:_,isOver:f?.id===s,node:F,over:f,setNodeRef:Y}}function j2(n,e,t){const s=n.slice();return s.splice(t<0?s.length+t:t,0,s.splice(e,1)[0]),s}function nj(n,e){return n.reduce((t,s,a)=>{const o=e.get(s);return o&&(t[a]=o),t},Array(n.length))}function j1(n){return n!==null&&n>=0}function rj(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function sj(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const E1={scaleX:1,scaleY:1},ij=n=>{var e;let{rects:t,activeNodeRect:s,activeIndex:a,overIndex:o,index:u}=n;const c=(e=t[a])!=null?e:s;if(!c)return null;const f=aj(t,u,a);if(u===a){const d=t[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...E1}:null}return u>a&&u<=o?{x:-c.width-f,y:0,...E1}:u<a&&u>=o?{x:c.width+f,y:0,...E1}:{x:0,y:0,...E1}};function aj(n,e,t){const s=n[e],a=n[e-1],o=n[e+1];return!s||!a&&!o?0:t<e?a?s.left-(a.left+a.width):o.left-(s.left+s.width):o?o.left-(s.left+s.width):s.left-(a.left+a.width)}const Nw=n=>{let{rects:e,activeIndex:t,overIndex:s,index:a}=n;const o=j2(e,s,t),u=e[a],c=o[a];return!c||!u?null:{x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height}},Aw="Sortable",Tw=Xn.createContext({activeIndex:-1,containerId:Aw,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Nw,disabled:{draggable:!1,droppable:!1}});function oj(n){let{children:e,id:t,items:s,strategy:a=Nw,disabled:o=!1}=n;const{active:u,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:p}=K7(),y=jd(Aw,t),_=c.rect!==null,b=re.useMemo(()=>s.map(Y=>typeof Y=="object"&&"id"in Y?Y.id:Y),[s]),A=u!=null,N=u?b.indexOf(u.id):-1,k=d?b.indexOf(d.id):-1,C=re.useRef(b),R=!rj(b,C.current),D=k!==-1&&N===-1||R,I=sj(o);Ho(()=>{R&&A&&p(b)},[R,b,A,p]),re.useEffect(()=>{C.current=b},[b]);const F=re.useMemo(()=>({activeIndex:N,containerId:y,disabled:I,disableTransforms:D,items:b,overIndex:k,useDragOverlay:_,sortedRects:nj(b,f),strategy:a}),[N,y,I.draggable,I.droppable,D,b,k,f,_,a]);return Xn.createElement(Tw.Provider,{value:F},e)}const lj=n=>{let{id:e,items:t,activeIndex:s,overIndex:a}=n;return j2(t,s,a).indexOf(e)},cj=n=>{let{containerId:e,isSorting:t,wasDragging:s,index:a,items:o,newIndex:u,previousItems:c,previousContainerId:f,transition:d}=n;return!d||!s||c!==o&&a===u?!1:t?!0:u!==a&&e===f},uj={duration:200,easing:"ease"},Cw="transform",hj=ud.Transition.toString({property:Cw,duration:0,easing:"linear"}),fj={roleDescription:"sortable"};function dj(n){let{disabled:e,index:t,node:s,rect:a}=n;const[o,u]=re.useState(null),c=re.useRef(t);return Ho(()=>{if(!e&&t!==c.current&&s.current){const f=a.current;if(f){const d=Kh(s.current,{ignoreTransform:!0}),p={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(p.x||p.y)&&u(p)}}t!==c.current&&(c.current=t)},[e,t,s,a]),re.useEffect(()=>{o&&u(null)},[o]),o}function pj(n){let{animateLayoutChanges:e=cj,attributes:t,disabled:s,data:a,getNewIndex:o=lj,id:u,strategy:c,resizeObserverConfig:f,transition:d=uj}=n;const{items:p,containerId:y,activeIndex:_,disabled:b,disableTransforms:A,sortedRects:N,overIndex:k,useDragOverlay:C,strategy:R}=re.useContext(Tw),D=mj(s,b),I=p.indexOf(u),F=re.useMemo(()=>({sortable:{containerId:y,index:I,items:p},...a}),[y,a,I,p]),Y=re.useMemo(()=>p.slice(p.indexOf(u)),[p,u]),{rect:G,node:O,isOver:B,setNodeRef:K}=tj({id:u,data:F,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:Y,...f}}),{active:j,activatorEvent:V,activeNodeRect:ne,attributes:W,setNodeRef:oe,listeners:$,isDragging:te,over:le,setActivatorNodeRef:pe,transform:be}=Q7({id:u,data:F,attributes:{...fj,...t},disabled:D.draggable}),z=Lk(K,oe),M=!!j,H=M&&!A&&j1(_)&&j1(k),J=!C&&te,Q=J&&H?be:null,fe=H?Q??(c??R)({rects:N,activeNodeRect:ne,activeIndex:_,overIndex:k,index:I}):null,de=j1(_)&&j1(k)?o({id:u,items:p,activeIndex:_,overIndex:k}):I,xe=j?.id,we=re.useRef({activeId:xe,items:p,newIndex:de,containerId:y}),Ve=p!==we.current.items,Xe=e({active:j,containerId:y,isDragging:te,isSorting:M,id:u,index:I,items:p,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:d,wasDragging:we.current.activeId!=null}),et=dj({disabled:!Xe,index:I,node:O,rect:G});return re.useEffect(()=>{M&&we.current.newIndex!==de&&(we.current.newIndex=de),y!==we.current.containerId&&(we.current.containerId=y),p!==we.current.items&&(we.current.items=p)},[M,de,y,p]),re.useEffect(()=>{if(xe===we.current.activeId)return;if(xe!=null&&we.current.activeId==null){we.current.activeId=xe;return}const P=setTimeout(()=>{we.current.activeId=xe},50);return()=>clearTimeout(P)},[xe]),{active:j,activeIndex:_,attributes:W,data:F,rect:G,index:I,newIndex:de,items:p,isOver:B,isSorting:M,isDragging:te,listeners:$,node:O,overIndex:k,over:le,setNodeRef:z,setActivatorNodeRef:pe,setDroppableNodeRef:K,setDraggableNodeRef:oe,transform:et??fe,transition:ct()};function ct(){if(et||Ve&&we.current.newIndex===I)return hj;if(!(J&&!N2(V)||!d)&&(M||Xe))return ud.Transition.toString({...d,property:Cw})}}function mj(n,e){var t,s;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(s=n?.droppable)!=null?s:e.droppable}}function _p(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const gj=[In.Down,In.Right,In.Up,In.Left],bj=(n,e)=>{let{context:{active:t,collisionRect:s,droppableRects:a,droppableContainers:o,over:u,scrollableAncestors:c}}=e;if(gj.includes(n.code)){if(n.preventDefault(),!t||!s)return;const f=[];o.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const _=a.get(y.id);if(_)switch(n.code){case In.Down:s.top<_.top&&f.push(y);break;case In.Up:s.top>_.top&&f.push(y);break;case In.Left:s.left>_.left&&f.push(y);break;case In.Right:s.left<_.left&&f.push(y);break}});const d=Xk({collisionRect:s,droppableRects:a,droppableContainers:f});let p=hw(d,"id");if(p===u?.id&&d.length>1&&(p=d[1].id),p!=null){const y=o.get(t.id),_=o.get(p),b=_?a.get(_.id):null,A=_?.node.current;if(A&&b&&y&&_){const k=Xp(A).some((Y,G)=>c[G]!==Y),C=kw(y,_),R=vj(y,_),D=k||!C?{x:0,y:0}:{x:R?s.width-b.width:0,y:R?s.height-b.height:0},I={x:b.left,y:b.top};return D.x&&D.y?I:cd(I,D)}}}};function kw(n,e){return!_p(n)||!_p(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function vj(n,e){return!_p(n)||!_p(e)||!kw(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const yj={intro:{bg:"bg-purple-500/10",headers:"bg-purple-500/30 text-purple-100",border:"border-purple-500/30",accent:"bg-purple-500"},verse:{bg:"bg-blue-500/10",headers:"bg-blue-500/30 text-blue-100",border:"border-blue-500/30",accent:"bg-blue-500"},"pre-chorus":{bg:"bg-cyan-500/10",headers:"bg-cyan-500/30 text-cyan-100",border:"border-cyan-500/30",accent:"bg-cyan-500"},chorus:{bg:"bg-amber-500/10",headers:"bg-amber-500/30 text-amber-100",border:"border-amber-500/30",accent:"bg-amber-500"},bridge:{bg:"bg-emerald-500/10",headers:"bg-emerald-500/30 text-emerald-100",border:"border-emerald-500/30",accent:"bg-emerald-500"},interlude:{bg:"bg-teal-500/10",headers:"bg-teal-500/30 text-teal-100",border:"border-teal-500/30",accent:"bg-teal-500"},solo:{bg:"bg-orange-500/10",headers:"bg-orange-500/30 text-orange-100",border:"border-orange-500/30",accent:"bg-orange-500"},breakdown:{bg:"bg-red-500/10",headers:"bg-red-500/30 text-red-100",border:"border-red-500/30",accent:"bg-red-500"},tag:{bg:"bg-pink-500/10",headers:"bg-pink-500/30 text-pink-100",border:"border-pink-500/30",accent:"bg-pink-500"},hook:{bg:"bg-yellow-500/10",headers:"bg-yellow-500/30 text-yellow-100",border:"border-yellow-500/30",accent:"bg-yellow-500"},outro:{bg:"bg-rose-500/10",headers:"bg-rose-500/30 text-rose-100",border:"border-rose-500/30",accent:"bg-rose-500"}},xj=60,iy=.35,wj={bg:"bg-slate-500/10",headers:"bg-slate-500/30 text-slate-100",border:"border-slate-500/30",accent:"bg-slate-500"},_j=({section:n,allSections:e,onSelectBeat:t,onBeatTap:s,onEmptySlotTap:a,isActive:o,playingSlotId:u,selectedBeatId:c,chordColors:f,measureWidth:d,isCompact:p})=>{const{attributes:y,listeners:_,setNodeRef:b,transform:A,transition:N,isDragging:k}=pj({id:n.id}),C={transform:ud.Transform.toString(A),transition:N},R=yj[n.type]||wj,D=n.measures,I=$f(n,e),Y=Math.max(p?40:100,D.length*d),G=p?60:140;return p?v.jsxs("div",{ref:b,"data-section-id":n.id,style:{...C,width:Y,height:G},className:Ht("relative flex flex-col rounded-lg overflow-hidden shrink-0 transition-all border cursor-pointer",R.bg,R.border,k?"opacity-50 z-50 ring-2 ring-accent-primary":"hover:border-opacity-70 hover:scale-[1.02]",o?"ring-2 ring-white/30":""),onClick:()=>t(n.id,n.measures[0]?.beats[0]?.id),...y,..._,children:[v.jsx("div",{className:Ht("h-1.5 w-full",R.accent)}),v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-1 py-1",children:[v.jsx("span",{className:"font-bold uppercase tracking-wide text-center leading-tight text-sm",children:n.type.charAt(0).toUpperCase()}),v.jsxs("span",{className:"text-[8px] font-mono text-white/40 mt-0.5",children:[D.length,"b"]})]})]}):v.jsxs("div",{ref:b,"data-section-id":n.id,style:{...C,width:Y,height:G},className:Ht("relative flex flex-col pt-8 pb-2 rounded-xl overflow-hidden shrink-0 transition-all border group",R.bg,R.border,k?"opacity-50 z-50 ring-2 ring-accent-primary":"hover:border-opacity-50",o?"ring-2 ring-white/20":""),children:[v.jsxs("div",{className:Ht("absolute top-0 left-0 right-0 h-8 flex items-center justify-between px-3 select-none border-b border-white/5",R.headers,"cursor-grab active:cursor-grabbing"),...y,..._,children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(z3,{size:14,className:"opacity-50"}),v.jsx("span",{className:"font-bold text-xs uppercase tracking-wider truncate max-w-[100px]",children:I})]}),d>=70&&v.jsx("div",{className:"flex items-center gap-2 text-[10px] font-mono opacity-80",children:v.jsxs("span",{children:[D.length," bars"]})})]}),v.jsx("div",{className:"flex-1 flex px-2 pt-2 gap-1 overflow-hidden",children:D.map((O,B)=>v.jsxs("div",{className:"flex-1 min-w-[32px] h-full flex flex-col gap-1",children:[v.jsxs("div",{className:"h-4 flex items-end justify-between px-0.5 border-b border-white/10 pb-0.5",children:[v.jsx("span",{className:"text-[9px] font-mono text-white/30",children:B+1}),v.jsx("div",{className:"flex gap-0.5",children:O.beats.map((K,j)=>v.jsx("div",{className:"w-0.5 h-1.5 bg-white/20 rounded-full"},j))})]}),(()=>{const K=O.beats.filter(V=>V.chord),j=K.length;if(j===0){const V=O.beats[0];return v.jsx("div",{className:"flex-1 rounded-sm bg-white/5 border border-dashed border-white/10 flex items-center justify-center cursor-pointer hover:bg-white/10 hover:border-white/20 transition-colors",onClick:ne=>{ne.stopPropagation(),V&&a(n.id,V.id)},title:"Tap to select this slot",children:v.jsx("span",{className:"text-[10px] text-white/20",children:"+"})})}return v.jsx("div",{className:"flex gap-0.5 flex-1 items-stretch",children:K.map(V=>{const ne=f[V.chord.root]||"#666",W=j<=2?"10px":j<=4?"8px":"7px",oe=j<=2?"0 4px":"0 2px",$=c===V.id,te=u===V.id;return v.jsx("div",{onClick:le=>{le.stopPropagation(),s(n.id,V.id,V.chord)},className:Ht("flex-1 min-w-0 rounded-sm flex items-center justify-center font-bold shadow-sm truncate transition-all cursor-pointer",te?"ring-2 ring-green-500 shadow-[0_0_12px_rgba(34,197,94,0.6)] scale-110 z-10":$?"ring-2 ring-accent-primary shadow-[0_0_12px_rgba(99,102,241,0.5)] scale-105 z-10":"hover:ring-1 hover:ring-white/30 hover:scale-105"),style:{backgroundColor:te?"rgba(34, 197, 94, 0.15)":$?"rgba(99, 102, 241, 0.15)":"rgba(0, 0, 0, 0.3)",border:`2px solid ${te?"#22c55e":$?"#6366f1":ne}`,color:te?"#4ade80":$?"#a5b4fc":ne,fontSize:W,padding:oe,minHeight:"24px"},title:$?`Tap again to go to ${V.chord.symbol}`:`Tap to select ${V.chord.symbol}`,children:lr(V.chord.symbol)},V.id)})})})()]},O.id))}),v.jsx("div",{className:"absolute inset-0 top-8 bg-black/0 hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 hover:opacity-100 pointer-events-none",children:v.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest text-white/80 bg-black/50 px-2 py-1 rounded backdrop-blur-sm",children:"Go to Section"})})]})},Sj=({displayChord:n,chordColors:e,isPlaying:t,selectedMapBeatId:s})=>{const{isMobile:a,isLandscape:o}=Xh();if(!n)return null;const u=e[n.root]||"#6366f1";return a&&o?v.jsx("div",{className:"absolute top-2 right-2 z-20",onClick:c=>c.stopPropagation(),children:v.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg backdrop-blur-md cursor-pointer group",style:{background:"rgba(17,17,22,0.95)",border:`1.5px solid ${u}`,boxShadow:`0 2px 12px ${u}40`},onClick:()=>{n.notes&&Gr(n.notes)},children:[v.jsx("span",{className:"text-sm font-bold",style:{color:u},children:lr(n.symbol||`${n.root}${n.quality==="maj"?"":n.quality}`)}),n.numeral&&v.jsx("span",{className:"text-[10px] font-serif italic text-white/40",children:lr(n.numeral)}),t&&s&&v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-ping"})]})}):a?v.jsx("div",{className:"shrink-0 px-3 py-2",style:{background:"linear-gradient(180deg, rgba(26,26,36,0.98) 0%, rgba(17,17,22,0.98) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 -4px 20px rgba(0,0,0,0.3)"},onClick:c=>c.stopPropagation(),children:v.jsxs("div",{className:"flex items-center justify-center gap-3 max-w-sm mx-auto",children:[v.jsxs("div",{className:"flex flex-col items-center cursor-pointer group shrink-0",onClick:()=>{n.notes&&Gr(n.notes)},children:[v.jsx("div",{className:"relative px-3 py-1.5 rounded-lg transition-all group-hover:scale-105 group-active:scale-95",style:{background:`linear-gradient(135deg, ${u}15, ${u}05)`,border:`1.5px solid ${u}`,boxShadow:`0 0 12px ${u}30`},children:v.jsx("span",{className:"text-base font-bold",style:{color:u},children:lr(n.symbol||`${n.root}${n.quality==="maj"?"":n.quality}`)})}),n.numeral&&v.jsx("span",{className:"text-[10px] font-serif italic text-white/40 mt-1",children:lr(n.numeral)}),t&&s&&v.jsxs("span",{className:"text-[8px] text-green-400 mt-0.5 animate-pulse flex items-center gap-1",children:[v.jsx("span",{className:"w-1 h-1 rounded-full bg-green-400 animate-ping"}),"Playing"]})]}),v.jsx("div",{className:"w-px h-10 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),v.jsx("div",{className:"flex-shrink-0 overflow-hidden",style:{width:"140px",transform:"scale(0.85)",transformOrigin:"center"},children:v.jsx(lg,{highlightedNotes:n.notes||[],rootNote:n.root,color:u,octave:4})}),v.jsx("div",{className:"w-px h-10 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),v.jsx("div",{className:"flex flex-col items-center cursor-pointer group shrink-0",onClick:()=>{n.notes&&Gr(n.notes)},children:v.jsx("div",{className:"transform scale-50 origin-top group-hover:scale-55 transition-transform",style:{marginTop:"-8px",marginBottom:"-50px"},children:v.jsx(cg,{root:n.root,quality:n.quality,color:u})})})]})}):v.jsx("div",{className:"shrink-0 px-4 py-3",style:{background:"linear-gradient(180deg, rgba(26,26,36,0.98) 0%, rgba(17,17,22,0.98) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 -4px 20px rgba(0,0,0,0.3)"},onClick:c=>c.stopPropagation(),children:v.jsxs("div",{className:"flex items-center justify-center gap-6 max-w-xl mx-auto",children:[v.jsxs("div",{className:"flex flex-col items-center cursor-pointer group",onClick:()=>{n.notes&&Gr(n.notes)},children:[v.jsx("div",{className:"relative px-4 py-2 rounded-xl transition-all group-hover:scale-105 group-active:scale-95",style:{background:`linear-gradient(135deg, ${u}15, ${u}05)`,border:`2px solid ${u}`,boxShadow:`0 0 20px ${u}30`},children:v.jsx("span",{className:"text-xl font-bold",style:{color:u},children:lr(n.symbol||`${n.root}${n.quality==="maj"?"":n.quality}`)})}),n.numeral&&v.jsx("span",{className:"text-xs font-serif italic text-white/40 mt-1.5",children:lr(n.numeral)}),t&&s&&v.jsxs("span",{className:"text-[9px] text-green-400 mt-1 animate-pulse flex items-center gap-1",children:[v.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-ping"}),"Now Playing"]})]}),v.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),v.jsx("div",{className:"flex-shrink-0",style:{width:"200px"},children:v.jsx(lg,{highlightedNotes:n.notes||[],rootNote:n.root,color:u,octave:4})}),v.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),v.jsx("div",{className:"flex flex-col items-center cursor-pointer group shrink-0",onClick:()=>{n.notes&&Gr(n.notes)},children:v.jsx("div",{className:"transform scale-75 origin-top group-hover:scale-80 transition-transform",style:{marginTop:"-8px",marginBottom:"-20px"},children:v.jsx(cg,{root:n.root,quality:n.quality,color:u})})})]})})},Nj=()=>{const{currentSong:n,songMapVisible:e,toggleSongMap:t,toggleSongInfoModal:s,setSelectedSlot:a,reorderSections:o,isPlaying:u,tempo:c,setTempo:f,playingSectionId:d,openTimeline:p}=sn(),[y,_]=re.useState(!1),[b,A]=re.useState(c.toString()),N=re.useRef(null),[k,C]=re.useState(!1),R=re.useRef(null),D=re.useRef(c),I=re.useRef(null),F=()=>{A(c.toString()),_(!0),setTimeout(()=>N.current?.focus(),0)},Y=()=>{const P=parseInt(b,10);!isNaN(P)&&P>=40&&P<=240?f(P):A(c.toString()),_(!1)},G=P=>{P.key==="Enter"?Y():P.key==="Escape"&&(A(c.toString()),_(!1))},O=P=>{R.current=P.touches[0].clientX,D.current=c,C(!1),I.current=setTimeout(()=>{I.current=null},150)},B=P=>{if(R.current===null)return;const nt=P.touches[0].clientX-R.current;if(Math.abs(nt)>10){C(!0),I.current&&(clearTimeout(I.current),I.current=null);const Be=Math.round(nt/3),Le=Math.min(240,Math.max(40,D.current+Be));f(Le)}},K=()=>{!k&&I.current&&(clearTimeout(I.current),F()),R.current=null,C(!1),I.current=null},[j,V]=re.useState(1),ne=re.useRef(null),[W,oe]=re.useState(null),[$,te]=re.useState(null),[le,pe]=re.useState(null),[be,z]=re.useState(null);re.useEffect(()=>{if(!u)return;const P=()=>{const{playingSectionId:nt,playingSlotId:Be}=sn.getState();if(nt&&Be){const Le=n.sections.find(Ke=>Ke.id===nt);if(Le)for(const Ke of Le.measures){const He=Ke.beats.find(ut=>ut.id===Be);if(He?.chord){z(He.chord),oe(He.chord),te(Be),pe(nt);return}}}};P();const Ae=setInterval(P,100);return()=>clearInterval(Ae)},[u,n.sections]),re.useEffect(()=>{!u&&W&&z(W)},[u,W]);const M=pd(),H=n.sections.reduce((P,Ae)=>P+Ae.measures.length,0),Q=n.sections.reduce((P,Ae)=>{const Be=(Ae.timeSignature||n.timeSignature)[0];return P+Ae.measures.length*Be},0)/c*60,ae=Math.floor(Q/60),fe=Math.floor(Q%60),de=`${ae}:${fe.toString().padStart(2,"0")}`,xe=xj*j,we=P=>{V(Number(P.target.value))},Ve=Gk(Gv(k2,{activationConstraint:{distance:8}}),Gv(T2,{coordinateGetter:bj})),Xe=P=>{const{active:Ae,over:nt}=P;if(nt&&Ae.id!==nt.id){const Be=n.sections.findIndex(Ke=>Ke.id===Ae.id),Le=n.sections.findIndex(Ke=>Ke.id===nt.id);o(j2(n.sections,Be,Le))}};if(re.useEffect(()=>{const P=Ae=>{Ae.key==="Escape"&&t(!1)};return e&&window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[e,t]),re.useEffect(()=>{if(!e||!u||!d||!ne.current)return;const P=ne.current.querySelector(`[data-section-id="${d}"]`);P&&P.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},[e,u,d]),!e)return null;const et=async()=>{const{unlockAudioForIOS:P,playSong:Ae,pauseSong:nt}=await Th(async()=>{const{unlockAudioForIOS:Be,playSong:Le,pauseSong:Ke}=await Promise.resolve().then(()=>sg);return{unlockAudioForIOS:Be,playSong:Le,pauseSong:Ke}},void 0);u?(nt(),sn.getState().setIsPlaying(!1)):(await P(),await Ae(),sn.getState().setIsPlaying(!0))},ct=async P=>{const{skipToSection:Ae}=await Th(async()=>{const{skipToSection:nt}=await Promise.resolve().then(()=>sg);return{skipToSection:nt}},void 0);Ae(P)};return e?v.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col bg-[#111116] animate-in fade-in duration-200",onClick:()=>t(!1),children:[v.jsxs("div",{className:"shrink-0 relative z-20",style:{paddingTop:"max(16px, env(safe-area-inset-top))"},onClick:P=>P.stopPropagation(),children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-transparent pointer-events-none"}),v.jsxs("div",{className:"relative flex items-center justify-between px-4 py-3 mt-2",children:[v.jsx("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:P=>{P.stopPropagation(),s(!0)},children:v.jsxs("div",{children:[v.jsx("h2",{className:"font-bold text-white text-base leading-tight",children:n.title}),n.artist&&n.artist.trim()&&v.jsxs("p",{className:"text-white/40 text-[11px] italic",children:["by ",n.artist]})]})}),v.jsx("button",{onClick:()=>t(!1),className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 active:bg-white/20 flex items-center justify-center text-white/70 transition-colors",children:v.jsx(bu,{size:16})})]}),v.jsxs("div",{className:"flex items-center gap-4 px-4 pb-4 text-[10px] font-medium text-white/40 overflow-x-auto no-scrollbar",children:[v.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[v.jsx("span",{className:"text-accent-primary",children:n.sections.length}),v.jsx("span",{children:"Sections"})]}),v.jsx("div",{className:"w-px h-2 bg-white/10 shrink-0"}),v.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[v.jsx("span",{className:"text-accent-primary",children:H}),v.jsx("span",{children:"Bars"})]}),v.jsx("div",{className:"w-px h-2 bg-white/10 shrink-0"}),v.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[v.jsx("span",{className:"text-accent-primary",children:de}),v.jsx("span",{children:"Duration"})]})]})]}),v.jsxs("div",{ref:ne,className:"flex-1 overflow-x-auto overflow-y-hidden flex items-center relative scrollbar-hide bg-[#0b0b0f]",onClick:P=>P.stopPropagation(),children:[v.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"20px 20px"}}),v.jsx("div",{className:Ht("flex relative h-full items-center px-4 transition-all min-w-full",j<iy?"gap-2":"gap-4"),style:{paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:v.jsx($7,{sensors:Ve,collisionDetection:$k,onDragEnd:Xe,children:v.jsx(oj,{items:n.sections.map(P=>P.id),strategy:ij,children:n.sections.map(P=>v.jsx(_j,{section:P,allSections:n.sections,onSelectBeat:(Ae,nt)=>{nt&&a(Ae,nt),oe(null),te(null),pe(null),t(!1)},onBeatTap:(Ae,nt,Be)=>{$===nt&&le===Ae?(nt&&a(Ae,nt),oe(null),te(null),pe(null),t(!1)):(oe(Be),te(nt),pe(Ae),z(Be),Be?.notes&&Gr(Be.notes))},onEmptySlotTap:(Ae,nt)=>{a(Ae,nt),t(!1),p()},isActive:u&&n.sections.findIndex(Ae=>Ae.id===P.id)===n.sections.findIndex(Ae=>Ae.id===d),playingSlotId:sn.getState().isPlaying?sn.getState().playingSlotId:null,selectedBeatId:$,chordColors:M,measureWidth:xe,isCompact:j<iy},P.id))})})})]}),v.jsx(Sj,{displayChord:be,chordColors:M,isPlaying:u,selectedMapBeatId:$}),v.jsxs("div",{className:"shrink-0 bg-[#1a1a24] border-t border-white/5 z-[110]",style:{paddingBottom:"env(safe-area-inset-bottom)"},onClick:P=>P.stopPropagation(),children:[v.jsx("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/5",children:v.jsxs("div",{className:"flex items-center gap-4 w-full",children:[v.jsx("button",{onClick:()=>V(Math.max(.15,j-.1)),className:"p-2 -m-2 text-text-secondary active:text-white transition-colors",children:v.jsx(pk,{size:18})}),v.jsx("input",{type:"range",min:"0.15",max:"2",step:"0.05",value:j,onChange:we,onTouchStart:P=>P.stopPropagation(),onTouchMove:P=>P.stopPropagation(),className:"flex-1 h-2 bg-white/10 rounded-full appearance-none cursor-pointer touch-none [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-accent-primary",style:{WebkitAppearance:"none"}}),v.jsx("button",{onClick:()=>V(Math.min(2,j+.1)),className:"p-2 -m-2 text-text-secondary active:text-white transition-colors",children:v.jsx(fk,{size:18})})]})}),v.jsxs("div",{className:"flex items-center justify-center gap-8 px-6 py-4",children:[v.jsxs("div",{className:"flex flex-col items-center gap-1",children:[v.jsx("span",{className:"text-[10px] uppercase tracking-wider text-white/30 font-bold",children:"BPM"}),y?v.jsx("input",{ref:N,type:"number",inputMode:"numeric",value:b,onChange:P=>A(P.target.value),onBlur:Y,onKeyDown:G,className:"w-16 text-lg bg-bg-tertiary border border-accent-primary rounded px-2 py-1 text-center text-white font-mono font-medium focus:outline-none",min:40,max:240}):v.jsx("div",{onTouchStart:O,onTouchMove:B,onTouchEnd:K,onClick:F,className:Ht("text-lg font-mono font-medium cursor-ew-resize select-none px-3 py-1 rounded transition-colors",k?"text-accent-primary bg-accent-primary/10":"text-accent-primary hover:bg-white/5"),children:c})]}),v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx("button",{onClick:()=>ct("prev"),className:"text-accent-primary/80 hover:text-accent-primary transition-colors p-2 active:scale-95",children:v.jsx(G3,{size:22,fill:"currentColor"})}),v.jsx("button",{onClick:et,className:Ht("w-14 h-14 rounded-full flex items-center justify-center shadow-xl transition-all active:scale-95",u?"bg-accent-primary text-white shadow-accent-primary/30":"bg-accent-primary/20 text-accent-primary border-2 border-accent-primary"),children:u?v.jsx(W3,{size:24,fill:"currentColor"}):v.jsx(Yh,{size:24,fill:"currentColor",className:"ml-1"})}),v.jsx("button",{onClick:()=>ct("next"),className:"text-accent-primary/80 hover:text-accent-primary transition-colors p-2 active:scale-95",children:v.jsx(Y3,{size:22,fill:"currentColor"})})]})]})]})]}):null},Aj=({className:n="",size:e=24})=>v.jsx("div",{className:`relative flex items-center justify-center ${n}`,style:{width:e,height:e},children:v.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[[...Array(12)].map((t,s)=>{const a=s*30,o=(a-15-90)*Math.PI/180,u=(a+15-90)*Math.PI/180,c=20,f=48,d=s<=4||s>=10;let p;d?s===0?p="rgba(234, 179, 8, 0.95)":s===1?p="rgba(163, 190, 60, 0.9)":s===2?p="rgba(132, 204, 22, 0.85)":s===3?p="rgba(74, 222, 128, 0.75)":s===4?p="rgba(45, 212, 191, 0.65)":s===11?p="rgba(251, 146, 60, 0.9)":s===10?p="rgba(168, 162, 158, 0.65)":p="rgba(200, 180, 100, 0.7)":p=["rgba(100, 80, 120, 0.5)","rgba(80, 70, 90, 0.5)","rgba(60, 55, 70, 0.5)"][s%3];const y=50+c*Math.cos(o),_=50+c*Math.sin(o),b=50+f*Math.cos(o),A=50+f*Math.sin(o),N=50+f*Math.cos(u),k=50+f*Math.sin(u),C=50+c*Math.cos(u),R=50+c*Math.sin(u);return v.jsx("path",{d:`M ${y} ${_} L ${b} ${A} A ${f} ${f} 0 0 1 ${N} ${k} L ${C} ${R} A ${c} ${c} 0 0 0 ${y} ${_}`,fill:p,stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.5"},s)}),v.jsx("circle",{cx:"50",cy:"50",r:"18",fill:"rgba(20, 20, 30, 0.95)",stroke:"rgba(255, 255, 255, 0.15)",strokeWidth:"1"})]})});function er(n){"@babel/helpers - typeof";return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(n)}var fo=Uint8Array,la=Uint16Array,E2=Int32Array,M2=new fo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),L2=new fo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ay=new fo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jw=function(n,e){for(var t=new la(31),s=0;s<31;++s)t[s]=e+=1<<n[s-1];for(var a=new E2(t[30]),s=1;s<30;++s)for(var o=t[s];o<t[s+1];++o)a[o]=o-t[s]<<5|s;return{b:t,r:a}},Ew=jw(M2,2),Tj=Ew.b,gg=Ew.r;Tj[28]=258,gg[258]=28;var Cj=jw(L2,0),oy=Cj.r,bg=new la(32768);for(var kr=0;kr<32768;++kr){var bc=(kr&43690)>>1|(kr&21845)<<1;bc=(bc&52428)>>2|(bc&13107)<<2,bc=(bc&61680)>>4|(bc&3855)<<4,bg[kr]=((bc&65280)>>8|(bc&255)<<8)>>1}var Kf=(function(n,e,t){for(var s=n.length,a=0,o=new la(e);a<s;++a)n[a]&&++o[n[a]-1];var u=new la(e);for(a=1;a<e;++a)u[a]=u[a-1]+o[a-1]<<1;var c;if(t){c=new la(1<<e);var f=15-e;for(a=0;a<s;++a)if(n[a])for(var d=a<<4|n[a],p=e-n[a],y=u[n[a]-1]++<<p,_=y|(1<<p)-1;y<=_;++y)c[bg[y]>>f]=d}else for(c=new la(s),a=0;a<s;++a)n[a]&&(c[a]=bg[u[n[a]-1]++]>>15-n[a]);return c}),vu=new fo(288);for(var kr=0;kr<144;++kr)vu[kr]=8;for(var kr=144;kr<256;++kr)vu[kr]=9;for(var kr=256;kr<280;++kr)vu[kr]=7;for(var kr=280;kr<288;++kr)vu[kr]=8;var Sp=new fo(32);for(var kr=0;kr<32;++kr)Sp[kr]=5;var kj=Kf(vu,9,0),jj=Kf(Sp,5,0),Mw=function(n){return(n+7)/8|0},Ej=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new fo(n.subarray(e,t))},_l=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8},zf=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8,n[s+2]|=t>>16},Nm=function(n,e){for(var t=[],s=0;s<n.length;++s)n[s]&&t.push({s,f:n[s]});var a=t.length,o=t.slice();if(!a)return{t:Ow,l:0};if(a==1){var u=new fo(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(F,Y){return F.f-Y.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,p=1,y=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};p!=a-1;)c=t[t[d].f<t[y].f?d++:y++],f=t[d!=p&&t[d].f<t[y].f?d++:y++],t[p++]={s:-1,f:c.f+f.f,l:c,r:f};for(var _=o[0].s,s=1;s<a;++s)o[s].s>_&&(_=o[s].s);var b=new la(_+1),A=vg(t[p-1],b,0);if(A>e){var s=0,N=0,k=A-e,C=1<<k;for(o.sort(function(Y,G){return b[G.s]-b[Y.s]||Y.f-G.f});s<a;++s){var R=o[s].s;if(b[R]>e)N+=C-(1<<A-b[R]),b[R]=e;else break}for(N>>=k;N>0;){var D=o[s].s;b[D]<e?N-=1<<e-b[D]++-1:++s}for(;s>=0&&N;--s){var I=o[s].s;b[I]==e&&(--b[I],++N)}A=e}return{t:new fo(b),l:A}},vg=function(n,e,t){return n.s==-1?Math.max(vg(n.l,e,t+1),vg(n.r,e,t+1)):e[n.s]=t},ly=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new la(++e),s=0,a=n[0],o=1,u=function(f){t[s++]=f},c=1;c<=e;++c)if(n[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=n[c]}return{c:t.subarray(0,s),n:e}},Pf=function(n,e){for(var t=0,s=0;s<e.length;++s)t+=n[s]*e[s];return t},Lw=function(n,e,t){var s=t.length,a=Mw(e+2);n[a]=s&255,n[a+1]=s>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<s;++o)n[a+o+4]=t[o];return(a+4+s)*8},cy=function(n,e,t,s,a,o,u,c,f,d,p){_l(e,p++,t),++a[256];for(var y=Nm(a,15),_=y.t,b=y.l,A=Nm(o,15),N=A.t,k=A.l,C=ly(_),R=C.c,D=C.n,I=ly(N),F=I.c,Y=I.n,G=new la(19),O=0;O<R.length;++O)++G[R[O]&31];for(var O=0;O<F.length;++O)++G[F[O]&31];for(var B=Nm(G,7),K=B.t,j=B.l,V=19;V>4&&!K[ay[V-1]];--V);var ne=d+5<<3,W=Pf(a,vu)+Pf(o,Sp)+u,oe=Pf(a,_)+Pf(o,N)+u+14+3*V+Pf(G,K)+2*G[16]+3*G[17]+7*G[18];if(f>=0&&ne<=W&&ne<=oe)return Lw(e,p,n.subarray(f,f+d));var $,te,le,pe;if(_l(e,p,1+(oe<W)),p+=2,oe<W){$=Kf(_,b,0),te=_,le=Kf(N,k,0),pe=N;var be=Kf(K,j,0);_l(e,p,D-257),_l(e,p+5,Y-1),_l(e,p+10,V-4),p+=14;for(var O=0;O<V;++O)_l(e,p+3*O,K[ay[O]]);p+=3*V;for(var z=[R,F],M=0;M<2;++M)for(var H=z[M],O=0;O<H.length;++O){var J=H[O]&31;_l(e,p,be[J]),p+=K[J],J>15&&(_l(e,p,H[O]>>5&127),p+=H[O]>>12)}}else $=kj,te=vu,le=jj,pe=Sp;for(var O=0;O<c;++O){var Q=s[O];if(Q>255){var J=Q>>18&31;zf(e,p,$[J+257]),p+=te[J+257],J>7&&(_l(e,p,Q>>23&31),p+=M2[J]);var ae=Q&31;zf(e,p,le[ae]),p+=pe[ae],ae>3&&(zf(e,p,Q>>5&8191),p+=L2[ae])}else zf(e,p,$[Q]),p+=te[Q]}return zf(e,p,$[256]),p+te[256]},Mj=new E2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ow=new fo(0),Lj=function(n,e,t,s,a,o){var u=o.z||n.length,c=new fo(s+u+5*(1+Math.ceil(u/7e3))+a),f=c.subarray(s,c.length-a),d=o.l,p=(o.r||0)&7;if(e){p&&(f[0]=o.r>>3);for(var y=Mj[e-1],_=y>>13,b=y&8191,A=(1<<t)-1,N=o.p||new la(32768),k=o.h||new la(A+1),C=Math.ceil(t/3),R=2*C,D=function(ct){return(n[ct]^n[ct+1]<<C^n[ct+2]<<R)&A},I=new E2(25e3),F=new la(288),Y=new la(32),G=0,O=0,B=o.i||0,K=0,j=o.w||0,V=0;B+2<u;++B){var ne=D(B),W=B&32767,oe=k[ne];if(N[W]=oe,k[ne]=W,j<=B){var $=u-B;if((G>7e3||K>24576)&&($>423||!d)){p=cy(n,f,0,I,F,Y,O,K,V,B-V,p),K=G=O=0,V=B;for(var te=0;te<286;++te)F[te]=0;for(var te=0;te<30;++te)Y[te]=0}var le=2,pe=0,be=b,z=W-oe&32767;if($>2&&ne==D(B-z))for(var M=Math.min(_,$)-1,H=Math.min(32767,B),J=Math.min(258,$);z<=H&&--be&&W!=oe;){if(n[B+le]==n[B+le-z]){for(var Q=0;Q<J&&n[B+Q]==n[B+Q-z];++Q);if(Q>le){if(le=Q,pe=z,Q>M)break;for(var ae=Math.min(z,Q-2),fe=0,te=0;te<ae;++te){var de=B-z+te&32767,xe=N[de],we=de-xe&32767;we>fe&&(fe=we,oe=de)}}}W=oe,oe=N[W],z+=W-oe&32767}if(pe){I[K++]=268435456|gg[le]<<18|oy[pe];var Ve=gg[le]&31,Xe=oy[pe]&31;O+=M2[Ve]+L2[Xe],++F[257+Ve],++Y[Xe],j=B+le,++G}else I[K++]=n[B],++F[n[B]]}}for(B=Math.max(B,j);B<u;++B)I[K++]=n[B],++F[n[B]];p=cy(n,f,d,I,F,Y,O,K,V,B-V,p),d||(o.r=p&7|f[p/8|0]<<3,p-=7,o.h=k,o.p=N,o.i=B,o.w=j)}else{for(var B=o.w||0;B<u+d;B+=65535){var et=B+65535;et>=u&&(f[p/8|0]=d,et=u),p=Lw(f,p+1,n.subarray(B,et))}o.i=u}return Ej(c,0,s+Mw(p)+a)},Dw=function(){var n=1,e=0;return{p:function(t){for(var s=n,a=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)a+=s+=t[u];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}n=s,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Oj=function(n,e,t,s,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new fo(o.length+n.length);u.set(o),u.set(n,o.length),n=u,a.w=o.length}return Lj(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,s,a)},Rw=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Dj=function(n,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=s<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=Dw();a.p(e.dictionary),Rw(n,2,a.d())}};function yg(n,e){e||(e={});var t=Dw();t.p(n);var s=Oj(n,e,e.dictionary?6:2,4);return Dj(s,e),Rw(s,s.length-4,t.d()),s}var Rj=typeof TextDecoder<"u"&&new TextDecoder,Ij=0;try{Rj.decode(Ow,{stream:!0}),Ij=1}catch{}function Vj(n){if(Array.isArray(n))return n}function Fj(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s,a,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(s=o.call(t)).done)&&(c.push(s.value),c.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw a}}return c}}function uy(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}function Bj(n,e){if(n){if(typeof n=="string")return uy(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?uy(n,e):void 0}}function zj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hy(n,e){return Vj(n)||Fj(n,e)||Bj(n,e)||zj()}function fy(n,e="utf8"){return new TextDecoder(e).decode(n)}const Pj=new TextEncoder;function qj(n){return Pj.encode(n)}const Uj=1024*8,Hj=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Am={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class O2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Uj,t={}){let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let u=a;(ArrayBuffer.isView(e)||e instanceof O2)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const s=Am[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+s);if(this.littleEndian===Hj&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+s));c.reverse();const f=new Am[t](c.buffer);return this.offset+=s,f.reverse(),f}const u=new Am[t](o);return this.offset+=s,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let s=0;s<e;s++)t+=this.readChar();return t}readUtf8(e=1){return fy(this.readBytes(e))}decodeText(e=1,t="utf8"){return fy(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(qj(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Jh(n){let e=n.length;for(;--e>=0;)n[e]=0}const Wj=3,Gj=258,Iw=29,Yj=256,$j=Yj+1+Iw,Vw=30,Xj=512,Zj=new Array(($j+2)*2);Jh(Zj);const Qj=new Array(Vw*2);Jh(Qj);const Kj=new Array(Xj);Jh(Kj);const Jj=new Array(Gj-Wj+1);Jh(Jj);const eE=new Array(Iw);Jh(eE);const tE=new Array(Vw);Jh(tE);const nE=(n,e,t,s)=>{let a=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do a=a+e[s++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};var xg=nE;const rE=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},sE=new Uint32Array(rE()),iE=(n,e,t,s)=>{const a=sE,o=s+t;n^=-1;for(let u=s;u<o;u++)n=n>>>8^a[(n^e[u])&255];return n^-1};var zo=iE,wg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Fw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const aE=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var oE=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)aE(t,s)&&(n[s]=t[s])}}return n},lE=n=>{let e=0;for(let s=0,a=n.length;s<a;s++)e+=n[s].length;const t=new Uint8Array(e);for(let s=0,a=0,o=n.length;s<o;s++){let u=n[s];t.set(u,a),a+=u.length}return t},Bw={assign:oE,flattenChunks:lE};let zw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{zw=!1}const fd=new Uint8Array(256);for(let n=0;n<256;n++)fd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;fd[254]=fd[254]=1;var cE=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,s,a,o,u=n.length,c=0;for(a=0;a<u;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const uE=(n,e)=>{if(e<65534&&n.subarray&&zw)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let s=0;s<e;s++)t+=String.fromCharCode(n[s]);return t};var hE=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let s,a;const o=new Array(t*2);for(a=0,s=0;s<t;){let u=n[s++];if(u<128){o[a++]=u;continue}let c=fd[u];if(c>4){o[a++]=65533,s+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&s<t;)u=u<<6|n[s++]&63,c--;if(c>1){o[a++]=65533;continue}u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|u&1023)}return uE(o,a)},fE=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+fd[n[t]]>e?t:e},_g={string2buf:cE,buf2string:hE,utf8border:fE};function dE(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var pE=dE;const M1=16209,mE=16191;var gE=function(e,t){let s,a,o,u,c,f,d,p,y,_,b,A,N,k,C,R,D,I,F,Y,G,O,B,K;const j=e.state;s=e.next_in,B=e.input,a=s+(e.avail_in-5),o=e.next_out,K=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=j.dmax,d=j.wsize,p=j.whave,y=j.wnext,_=j.window,b=j.hold,A=j.bits,N=j.lencode,k=j.distcode,C=(1<<j.lenbits)-1,R=(1<<j.distbits)-1;e:do{A<15&&(b+=B[s++]<<A,A+=8,b+=B[s++]<<A,A+=8),D=N[b&C];t:for(;;){if(I=D>>>24,b>>>=I,A-=I,I=D>>>16&255,I===0)K[o++]=D&65535;else if(I&16){F=D&65535,I&=15,I&&(A<I&&(b+=B[s++]<<A,A+=8),F+=b&(1<<I)-1,b>>>=I,A-=I),A<15&&(b+=B[s++]<<A,A+=8,b+=B[s++]<<A,A+=8),D=k[b&R];n:for(;;){if(I=D>>>24,b>>>=I,A-=I,I=D>>>16&255,I&16){if(Y=D&65535,I&=15,A<I&&(b+=B[s++]<<A,A+=8,A<I&&(b+=B[s++]<<A,A+=8)),Y+=b&(1<<I)-1,Y>f){e.msg="invalid distance too far back",j.mode=M1;break e}if(b>>>=I,A-=I,I=o-u,Y>I){if(I=Y-I,I>p&&j.sane){e.msg="invalid distance too far back",j.mode=M1;break e}if(G=0,O=_,y===0){if(G+=d-I,I<F){F-=I;do K[o++]=_[G++];while(--I);G=o-Y,O=K}}else if(y<I){if(G+=d+y-I,I-=y,I<F){F-=I;do K[o++]=_[G++];while(--I);if(G=0,y<F){I=y,F-=I;do K[o++]=_[G++];while(--I);G=o-Y,O=K}}}else if(G+=y-I,I<F){F-=I;do K[o++]=_[G++];while(--I);G=o-Y,O=K}for(;F>2;)K[o++]=O[G++],K[o++]=O[G++],K[o++]=O[G++],F-=3;F&&(K[o++]=O[G++],F>1&&(K[o++]=O[G++]))}else{G=o-Y;do K[o++]=K[G++],K[o++]=K[G++],K[o++]=K[G++],F-=3;while(F>2);F&&(K[o++]=K[G++],F>1&&(K[o++]=K[G++]))}}else if((I&64)===0){D=k[(D&65535)+(b&(1<<I)-1)];continue n}else{e.msg="invalid distance code",j.mode=M1;break e}break}}else if((I&64)===0){D=N[(D&65535)+(b&(1<<I)-1)];continue t}else if(I&32){j.mode=mE;break e}else{e.msg="invalid literal/length code",j.mode=M1;break e}break}}while(s<a&&o<c);F=A>>3,s-=F,A-=F<<3,b&=(1<<A)-1,e.next_in=s,e.next_out=o,e.avail_in=s<a?5+(a-s):5-(s-a),e.avail_out=o<c?257+(c-o):257-(o-c),j.hold=b,j.bits=A};const ph=15,dy=852,py=592,my=0,Tm=1,gy=2,bE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),vE=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),yE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xE=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),wE=(n,e,t,s,a,o,u,c)=>{const f=c.bits;let d=0,p=0,y=0,_=0,b=0,A=0,N=0,k=0,C=0,R=0,D,I,F,Y,G,O=null,B;const K=new Uint16Array(ph+1),j=new Uint16Array(ph+1);let V=null,ne,W,oe;for(d=0;d<=ph;d++)K[d]=0;for(p=0;p<s;p++)K[e[t+p]]++;for(b=f,_=ph;_>=1&&K[_]===0;_--);if(b>_&&(b=_),_===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<_&&K[y]===0;y++);for(b<y&&(b=y),k=1,d=1;d<=ph;d++)if(k<<=1,k-=K[d],k<0)return-1;if(k>0&&(n===my||_!==1))return-1;for(j[1]=0,d=1;d<ph;d++)j[d+1]=j[d]+K[d];for(p=0;p<s;p++)e[t+p]!==0&&(u[j[e[t+p]]++]=p);if(n===my?(O=V=u,B=20):n===Tm?(O=bE,V=vE,B=257):(O=yE,V=xE,B=0),R=0,p=0,d=y,G=o,A=b,N=0,F=-1,C=1<<b,Y=C-1,n===Tm&&C>dy||n===gy&&C>py)return 1;for(;;){ne=d-N,u[p]+1<B?(W=0,oe=u[p]):u[p]>=B?(W=V[u[p]-B],oe=O[u[p]-B]):(W=96,oe=0),D=1<<d-N,I=1<<A,y=I;do I-=D,a[G+(R>>N)+I]=ne<<24|W<<16|oe|0;while(I!==0);for(D=1<<d-1;R&D;)D>>=1;if(D!==0?(R&=D-1,R+=D):R=0,p++,--K[d]===0){if(d===_)break;d=e[t+u[p]]}if(d>b&&(R&Y)!==F){for(N===0&&(N=b),G+=y,A=d-N,k=1<<A;A+N<_&&(k-=K[A+N],!(k<=0));)A++,k<<=1;if(C+=1<<A,n===Tm&&C>dy||n===gy&&C>py)return 1;F=R&Y,a[F]=b<<24|A<<16|G-o|0}}return R!==0&&(a[G+R]=d-N<<24|64<<16|0),c.bits=b,0};var Jf=wE;const _E=0,Pw=1,qw=2,{Z_FINISH:by,Z_BLOCK:SE,Z_TREES:L1,Z_OK:yu,Z_STREAM_END:NE,Z_NEED_DICT:AE,Z_STREAM_ERROR:La,Z_DATA_ERROR:Uw,Z_MEM_ERROR:Hw,Z_BUF_ERROR:TE,Z_DEFLATED:vy}=Fw,Kp=16180,yy=16181,xy=16182,wy=16183,_y=16184,Sy=16185,Ny=16186,Ay=16187,Ty=16188,Cy=16189,Np=16190,Sl=16191,Cm=16192,ky=16193,km=16194,jy=16195,Ey=16196,My=16197,Ly=16198,O1=16199,D1=16200,Oy=16201,Dy=16202,Ry=16203,Iy=16204,Vy=16205,jm=16206,Fy=16207,By=16208,Fr=16209,Ww=16210,Gw=16211,CE=852,kE=592,jE=15,EE=jE,zy=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function ME(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nu=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Kp||e.mode>Gw?1:0},Yw=n=>{if(Nu(n))return La;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Kp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(CE),e.distcode=e.distdyn=new Int32Array(kE),e.sane=1,e.back=-1,yu},$w=n=>{if(Nu(n))return La;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Yw(n)},Xw=(n,e)=>{let t;if(Nu(n))return La;const s=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?La:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=t,s.wbits=e,$w(n))},Zw=(n,e)=>{if(!n)return La;const t=new ME;n.state=t,t.strm=n,t.window=null,t.mode=Kp;const s=Xw(n,e);return s!==yu&&(n.state=null),s},LE=n=>Zw(n,EE);let Py=!0,Em,Mm;const OE=n=>{if(Py){Em=new Int32Array(512),Mm=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Jf(Pw,n.lens,0,288,Em,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Jf(qw,n.lens,0,32,Mm,0,n.work,{bits:5}),Py=!1}n.lencode=Em,n.lenbits=9,n.distcode=Mm,n.distbits=5},Qw=(n,e,t,s)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>s&&(a=s),o.window.set(e.subarray(t-s,t-s+a),o.wnext),s-=a,s?(o.window.set(e.subarray(t-s,t),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},DE=(n,e)=>{let t,s,a,o,u,c,f,d,p,y,_,b,A,N,k=0,C,R,D,I,F,Y,G,O;const B=new Uint8Array(4);let K,j;const V=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nu(n)||!n.output||!n.input&&n.avail_in!==0)return La;t=n.state,t.mode===Sl&&(t.mode=Cm),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,s=n.input,c=n.avail_in,d=t.hold,p=t.bits,y=c,_=f,O=yu;e:for(;;)switch(t.mode){case Kp:if(t.wrap===0){t.mode=Cm;break}for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,B[0]=d&255,B[1]=d>>>8&255,t.check=zo(t.check,B,2,0),d=0,p=0,t.mode=yy;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Fr;break}if((d&15)!==vy){n.msg="unknown compression method",t.mode=Fr;break}if(d>>>=4,p-=4,G=(d&15)+8,t.wbits===0&&(t.wbits=G),G>15||G>t.wbits){n.msg="invalid window size",t.mode=Fr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?Cy:Sl,d=0,p=0;break;case yy:for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.flags=d,(t.flags&255)!==vy){n.msg="unknown compression method",t.mode=Fr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Fr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=zo(t.check,B,2,0)),d=0,p=0,t.mode=xy;case xy:for(;p<32;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,B[2]=d>>>16&255,B[3]=d>>>24&255,t.check=zo(t.check,B,4,0)),d=0,p=0,t.mode=wy;case wy:for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=zo(t.check,B,2,0)),d=0,p=0,t.mode=_y;case _y:if(t.flags&1024){for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=zo(t.check,B,2,0)),d=0,p=0}else t.head&&(t.head.extra=null);t.mode=Sy;case Sy:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&(G=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(o,o+b),G)),t.flags&512&&t.wrap&4&&(t.check=zo(t.check,s,b,o)),c-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=Ny;case Ny:if(t.flags&2048){if(c===0)break e;b=0;do G=s[o+b++],t.head&&G&&t.length<65536&&(t.head.name+=String.fromCharCode(G));while(G&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=zo(t.check,s,b,o)),c-=b,o+=b,G)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ay;case Ay:if(t.flags&4096){if(c===0)break e;b=0;do G=s[o+b++],t.head&&G&&t.length<65536&&(t.head.comment+=String.fromCharCode(G));while(G&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=zo(t.check,s,b,o)),c-=b,o+=b,G)break e}else t.head&&(t.head.comment=null);t.mode=Ty;case Ty:if(t.flags&512){for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Fr;break}d=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Sl;break;case Cy:for(;p<32;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}n.adler=t.check=zy(d),d=0,p=0,t.mode=Np;case Np:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=p,AE;n.adler=t.check=1,t.mode=Sl;case Sl:if(e===SE||e===L1)break e;case Cm:if(t.last){d>>>=p&7,p-=p&7,t.mode=jm;break}for(;p<3;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}switch(t.last=d&1,d>>>=1,p-=1,d&3){case 0:t.mode=ky;break;case 1:if(OE(t),t.mode=O1,e===L1){d>>>=2,p-=2;break e}break;case 2:t.mode=Ey;break;case 3:n.msg="invalid block type",t.mode=Fr}d>>>=2,p-=2;break;case ky:for(d>>>=p&7,p-=p&7;p<32;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Fr;break}if(t.length=d&65535,d=0,p=0,t.mode=km,e===L1)break e;case km:t.mode=jy;case jy:if(b=t.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break e;a.set(s.subarray(o,o+b),u),c-=b,o+=b,f-=b,u+=b,t.length-=b;break}t.mode=Sl;break;case Ey:for(;p<14;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.nlen=(d&31)+257,d>>>=5,p-=5,t.ndist=(d&31)+1,d>>>=5,p-=5,t.ncode=(d&15)+4,d>>>=4,p-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Fr;break}t.have=0,t.mode=My;case My:for(;t.have<t.ncode;){for(;p<3;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.lens[V[t.have++]]=d&7,d>>>=3,p-=3}for(;t.have<19;)t.lens[V[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,K={bits:t.lenbits},O=Jf(_E,t.lens,0,19,t.lencode,0,t.work,K),t.lenbits=K.bits,O){n.msg="invalid code lengths set",t.mode=Fr;break}t.have=0,t.mode=Ly;case Ly:for(;t.have<t.nlen+t.ndist;){for(;k=t.lencode[d&(1<<t.lenbits)-1],C=k>>>24,R=k>>>16&255,D=k&65535,!(C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(D<16)d>>>=C,p-=C,t.lens[t.have++]=D;else{if(D===16){for(j=C+2;p<j;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(d>>>=C,p-=C,t.have===0){n.msg="invalid bit length repeat",t.mode=Fr;break}G=t.lens[t.have-1],b=3+(d&3),d>>>=2,p-=2}else if(D===17){for(j=C+3;p<j;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}d>>>=C,p-=C,G=0,b=3+(d&7),d>>>=3,p-=3}else{for(j=C+7;p<j;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}d>>>=C,p-=C,G=0,b=11+(d&127),d>>>=7,p-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Fr;break}for(;b--;)t.lens[t.have++]=G}}if(t.mode===Fr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Fr;break}if(t.lenbits=9,K={bits:t.lenbits},O=Jf(Pw,t.lens,0,t.nlen,t.lencode,0,t.work,K),t.lenbits=K.bits,O){n.msg="invalid literal/lengths set",t.mode=Fr;break}if(t.distbits=6,t.distcode=t.distdyn,K={bits:t.distbits},O=Jf(qw,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,K),t.distbits=K.bits,O){n.msg="invalid distances set",t.mode=Fr;break}if(t.mode=O1,e===L1)break e;case O1:t.mode=D1;case D1:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=p,gE(n,_),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,s=n.input,c=n.avail_in,d=t.hold,p=t.bits,t.mode===Sl&&(t.back=-1);break}for(t.back=0;k=t.lencode[d&(1<<t.lenbits)-1],C=k>>>24,R=k>>>16&255,D=k&65535,!(C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(R&&(R&240)===0){for(I=C,F=R,Y=D;k=t.lencode[Y+((d&(1<<I+F)-1)>>I)],C=k>>>24,R=k>>>16&255,D=k&65535,!(I+C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}d>>>=I,p-=I,t.back+=I}if(d>>>=C,p-=C,t.back+=C,t.length=D,R===0){t.mode=Vy;break}if(R&32){t.back=-1,t.mode=Sl;break}if(R&64){n.msg="invalid literal/length code",t.mode=Fr;break}t.extra=R&15,t.mode=Oy;case Oy:if(t.extra){for(j=t.extra;p<j;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Dy;case Dy:for(;k=t.distcode[d&(1<<t.distbits)-1],C=k>>>24,R=k>>>16&255,D=k&65535,!(C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if((R&240)===0){for(I=C,F=R,Y=D;k=t.distcode[Y+((d&(1<<I+F)-1)>>I)],C=k>>>24,R=k>>>16&255,D=k&65535,!(I+C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}d>>>=I,p-=I,t.back+=I}if(d>>>=C,p-=C,t.back+=C,R&64){n.msg="invalid distance code",t.mode=Fr;break}t.offset=D,t.extra=R&15,t.mode=Ry;case Ry:if(t.extra){for(j=t.extra;p<j;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Fr;break}t.mode=Iy;case Iy:if(f===0)break e;if(b=_-f,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Fr;break}b>t.wnext?(b-=t.wnext,A=t.wsize-b):A=t.wnext-b,b>t.length&&(b=t.length),N=t.window}else N=a,A=u-t.offset,b=t.length;b>f&&(b=f),f-=b,t.length-=b;do a[u++]=N[A++];while(--b);t.length===0&&(t.mode=D1);break;case Vy:if(f===0)break e;a[u++]=t.length,f--,t.mode=D1;break;case jm:if(t.wrap){for(;p<32;){if(c===0)break e;c--,d|=s[o++]<<p,p+=8}if(_-=f,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?zo(t.check,a,_,u-_):xg(t.check,a,_,u-_)),_=f,t.wrap&4&&(t.flags?d:zy(d))!==t.check){n.msg="incorrect data check",t.mode=Fr;break}d=0,p=0}t.mode=Fy;case Fy:if(t.wrap&&t.flags){for(;p<32;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Fr;break}d=0,p=0}t.mode=By;case By:O=NE;break e;case Fr:O=Uw;break e;case Ww:return Hw;case Gw:default:return La}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=p,(t.wsize||_!==n.avail_out&&t.mode<Fr&&(t.mode<jm||e!==by))&&Qw(n,n.output,n.next_out,_-n.avail_out),y-=n.avail_in,_-=n.avail_out,n.total_in+=y,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?zo(t.check,a,_,n.next_out-_):xg(t.check,a,_,n.next_out-_)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Sl?128:0)+(t.mode===O1||t.mode===km?256:0),(y===0&&_===0||e===by)&&O===yu&&(O=TE),O},RE=n=>{if(Nu(n))return La;let e=n.state;return e.window&&(e.window=null),n.state=null,yu},IE=(n,e)=>{if(Nu(n))return La;const t=n.state;return(t.wrap&2)===0?La:(t.head=e,e.done=!1,yu)},VE=(n,e)=>{const t=e.length;let s,a,o;return Nu(n)||(s=n.state,s.wrap!==0&&s.mode!==Np)?La:s.mode===Np&&(a=1,a=xg(a,e,t,0),a!==s.check)?Uw:(o=Qw(n,e,t,t),o?(s.mode=Ww,Hw):(s.havedict=1,yu))};var FE=$w,BE=Xw,zE=Yw,PE=LE,qE=Zw,UE=DE,HE=RE,WE=IE,GE=VE,YE="pako inflate (from Nodeca project)",Al={inflateReset:FE,inflateReset2:BE,inflateResetKeep:zE,inflateInit:PE,inflateInit2:qE,inflate:UE,inflateEnd:HE,inflateGetHeader:WE,inflateSetDictionary:GE,inflateInfo:YE};function $E(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var XE=$E;const Kw=Object.prototype.toString,{Z_NO_FLUSH:ZE,Z_FINISH:QE,Z_OK:dd,Z_STREAM_END:Lm,Z_NEED_DICT:Om,Z_STREAM_ERROR:KE,Z_DATA_ERROR:qy,Z_MEM_ERROR:JE}=Fw;function Ed(n){this.options=Bw.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pE,this.strm.avail_out=0;let t=Al.inflateInit2(this.strm,e.windowBits);if(t!==dd)throw new Error(wg[t]);if(this.header=new XE,Al.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=_g.string2buf(e.dictionary):Kw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Al.inflateSetDictionary(this.strm,e.dictionary),t!==dd)))throw new Error(wg[t])}Ed.prototype.push=function(n,e){const t=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?QE:ZE,Kw.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),o=Al.inflate(t,u),o===Om&&a&&(o=Al.inflateSetDictionary(t,a),o===dd?o=Al.inflate(t,u):o===qy&&(o=Om));t.avail_in>0&&o===Lm&&t.state.wrap>0&&n[t.next_in]!==0;)Al.inflateReset(t),o=Al.inflate(t,u);switch(o){case KE:case qy:case Om:case JE:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===Lm))if(this.options.to==="string"){let f=_g.utf8border(t.output,t.next_out),d=t.next_out-f,p=_g.buf2string(t.output,f);t.next_out=d,t.avail_out=s-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===dd&&c===0)){if(o===Lm)return o=Al.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Ed.prototype.onData=function(n){this.chunks.push(n)};Ed.prototype.onEnd=function(n){n===dd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bw.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function eM(n,e){const t=new Ed(e);if(t.push(n),t.err)throw t.msg||wg[t.err];return t.result}var tM=Ed,nM=eM,rM={Inflate:tM,inflate:nM};const{Inflate:sM,inflate:iM}=rM;var Uy=sM,aM=iM;const Jw=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Jw[n]=e}const Hy=4294967295;function oM(n,e,t){let s=n;for(let a=0;a<t;a++)s=Jw[(s^e[a])&255]^s>>>8;return s}function lM(n,e){return(oM(Hy,n,e)^Hy)>>>0}function Wy(n,e,t){const s=n.readUint32(),a=lM(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==s)throw new Error(`CRC mismatch for chunk ${t}. Expected ${s}, found ${a}`)}function e4(n,e,t){for(let s=0;s<t;s++)e[s]=n[s]}function t4(n,e,t,s){let a=0;for(;a<s;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-s]&255}function n4(n,e,t,s){let a=0;if(t.length===0)for(;a<s;a++)e[a]=n[a];else for(;a<s;a++)e[a]=n[a]+t[a]&255}function r4(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<s;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function s4(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<s;o++)e[o]=n[o]+cM(e[o-a],t[o],t[o-a])&255}}function cM(n,e,t){const s=n+e-t,a=Math.abs(s-n),o=Math.abs(s-e),u=Math.abs(s-t);return a<=o&&a<=u?n:o<=u?e:t}function uM(n,e,t,s,a,o){switch(n){case 0:e4(e,t,a);break;case 1:t4(e,t,a,o);break;case 2:n4(e,t,s,a);break;case 3:r4(e,t,s,a,o);break;case 4:s4(e,t,s,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const hM=new Uint16Array([255]),fM=new Uint8Array(hM.buffer),dM=fM[0]===255;function pM(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(s*t*c);let d=0;for(let p=0;p<7;p++){const y=u[p],_=Math.ceil((t-y.x)/y.xStep),b=Math.ceil((s-y.y)/y.yStep);if(_<=0||b<=0)continue;const A=_*c,N=new Uint8Array(A);for(let k=0;k<b;k++){const C=e[d++],R=e.subarray(d,d+A);d+=A;const D=new Uint8Array(A);uM(C,R,D,N,A,c),N.set(D);for(let I=0;I<_;I++){const F=y.x+I*y.xStep,Y=y.y+k*y.yStep;if(!(F>=t||Y>=s))for(let G=0;G<c;G++)f[(Y*t+F)*c+G]=D[I*c+G]}}}if(o===16){const p=new Uint16Array(f.buffer);if(dM)for(let y=0;y<p.length;y++)p[y]=mM(p[y]);return p}else return f}function mM(n){return(n&255)<<8|n>>8&255}const gM=new Uint16Array([255]),bM=new Uint8Array(gM.buffer),vM=bM[0]===255,yM=new Uint8Array(0);function Gy(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,u=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(s*c);let d=yM,p=0,y,_;for(let b=0;b<s;b++){switch(y=e.subarray(p+1,p+1+c),_=f.subarray(b*c,(b+1)*c),e[p]){case 0:e4(y,_,c);break;case 1:t4(y,_,c,u);break;case 2:n4(y,_,d,c);break;case 3:r4(y,_,d,c,u);break;case 4:s4(y,_,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}d=_,p+=c+1}if(o===16){const b=new Uint16Array(f.buffer);if(vM)for(let A=0;A<b.length;A++)b[A]=xM(b[A]);return b}else return f}function xM(n){return(n&255)<<8|n>>8&255}const W1=Uint8Array.of(137,80,78,71,13,10,26,10);function Yy(n){if(!wM(n.readBytes(W1.length)))throw new Error("wrong PNG signature")}function wM(n){if(n.length<W1.length)return!1;for(let e=0;e<W1.length;e++)if(n[e]!==W1[e])return!1;return!0}const _M="tEXt",SM=0,i4=new TextDecoder("latin1");function NM(n){if(TM(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const AM=/^[\u0000-\u00FF]*$/;function TM(n){if(!AM.test(n))throw new Error("invalid latin1 text")}function CM(n,e,t){const s=a4(e);n[s]=kM(e,t-s.length-1)}function a4(n){for(n.mark();n.readByte()!==SM;);const e=n.offset;n.reset();const t=i4.decode(n.readBytes(e-n.offset-1));return n.skip(1),NM(t),t}function kM(n,e){return i4.decode(n.readBytes(e))}const ia={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Dm={UNKNOWN:-1,DEFLATE:0},$y={UNKNOWN:-1,ADAPTIVE:0},Rm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},R1={NONE:0,BACKGROUND:1,PREVIOUS:2},Im={SOURCE:0,OVER:1};class jM extends O2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:s=!1}=t;this._checkCrc=s,this._inflator=new Uy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Dm.UNKNOWN,this._filterMethod=$y.UNKNOWN,this._interlaceMethod=Rm.UNKNOWN,this._colorType=ia.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Yy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Yy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const s=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case _M:CM(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Wy(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const s=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=s+e;break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Wy(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=EM(this.readUint8());const t=this.readUint8();this._colorType=t;let s;switch(t){case ia.GREYSCALE:s=1;break;case ia.TRUECOLOUR:s=3;break;case ia.INDEXED_COLOUR:s=1;break;case ia.GREYSCALE_ALPHA:s=2;break;case ia.TRUECOLOUR_ALPHA:s=4;break;case ia.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Dm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<t;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,s=this.offset+this.byteOffset;if(s+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ia.GREYSCALE:case ia.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ia.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const s=this.readByte();this._palette[t].push(s)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case ia.UNKNOWN:case ia.GREYSCALE_ALPHA:case ia.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=a4(this),s=this.readUint8();if(s!==Dm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:aM(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),s=this.readByte();this._png.resolution={x:e,y:t,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(e);if(s){if(s.data=Gy({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)t.data=s.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(s,a,t),this.addFrameDataToCanvas(t,s)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,s){switch(e.disposeOp){case R1.NONE:break;case R1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[u+c]=0}break;case R1.PREVIOUS:s.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const s=1<<this._png.depth,a=(o,u)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,f=(o*t.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case Im.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case Im.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++){const p=t.data[f+this._png.channels-1]/s,y=d%(this._png.channels-1)===0?1:t.data[f+d],_=Math.floor(p*y+(1-p)*e.data[c+d]);e.data[c+d]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==$y.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Rm.NO_INTERLACE)this._png.data=Gy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Rm.ADAM7)this._png.data=pM({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:R1.NONE,blendOp:Im.SOURCE,data:e}),this._inflator=new Uy,this._writingDataChunks=!1}}function EM(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Xy;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Xy||(Xy={}));function MM(n,e){return new jM(n,e).decode()}var nn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Vm(){nn.console&&typeof nn.console.log=="function"&&nn.console.log.apply(nn.console,arguments)}var mr={log:Vm,warn:function(n){nn.console&&(typeof nn.console.warn=="function"?nn.console.warn.apply(nn.console,arguments):Vm.call(null,arguments))},error:function(n){nn.console&&(typeof nn.console.error=="function"?nn.console.error.apply(nn.console,arguments):Vm(n))}};function Fm(n,e,t){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){ou(s.response,e,t)},s.onerror=function(){mr.error("could not download file")},s.send()}function Zy(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function I1(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var ou=nn.saveAs||((typeof window>"u"?"undefined":er(window))!=="object"||window!==nn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var s=nn.URL||nn.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?Zy(a.href)?Fm(n,e,t):I1(a,a.target="_blank"):I1(a)):(a.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){I1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Zy(n))Fm(n,e,t);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout(function(){I1(s)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:er(o)!=="object"&&(mr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return Fm(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(nn.HTMLElement)||nn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":er(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=u?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=p:location=p,s=null},c.readAsDataURL(n)}else{var f=nn.URL||nn.webkitURL,d=f.createObjectURL(n);s?s.location=d:location.href=d,s=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function o4(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],s=0;s<t.length;s++){var a=t[s].re,o=t[s].process,u=a.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var G1=nn.atob.bind(nn),Qy=nn.btoa.bind(nn);function Bm(n,e){var t=n[0],s=n[1],a=n[2],o=n[3];t=ii(t,s,a,o,e[0],7,-680876936),o=ii(o,t,s,a,e[1],12,-389564586),a=ii(a,o,t,s,e[2],17,606105819),s=ii(s,a,o,t,e[3],22,-1044525330),t=ii(t,s,a,o,e[4],7,-176418897),o=ii(o,t,s,a,e[5],12,1200080426),a=ii(a,o,t,s,e[6],17,-1473231341),s=ii(s,a,o,t,e[7],22,-45705983),t=ii(t,s,a,o,e[8],7,1770035416),o=ii(o,t,s,a,e[9],12,-1958414417),a=ii(a,o,t,s,e[10],17,-42063),s=ii(s,a,o,t,e[11],22,-1990404162),t=ii(t,s,a,o,e[12],7,1804603682),o=ii(o,t,s,a,e[13],12,-40341101),a=ii(a,o,t,s,e[14],17,-1502002290),t=ai(t,s=ii(s,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=ai(o,t,s,a,e[6],9,-1069501632),a=ai(a,o,t,s,e[11],14,643717713),s=ai(s,a,o,t,e[0],20,-373897302),t=ai(t,s,a,o,e[5],5,-701558691),o=ai(o,t,s,a,e[10],9,38016083),a=ai(a,o,t,s,e[15],14,-660478335),s=ai(s,a,o,t,e[4],20,-405537848),t=ai(t,s,a,o,e[9],5,568446438),o=ai(o,t,s,a,e[14],9,-1019803690),a=ai(a,o,t,s,e[3],14,-187363961),s=ai(s,a,o,t,e[8],20,1163531501),t=ai(t,s,a,o,e[13],5,-1444681467),o=ai(o,t,s,a,e[2],9,-51403784),a=ai(a,o,t,s,e[7],14,1735328473),t=oi(t,s=ai(s,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=oi(o,t,s,a,e[8],11,-2022574463),a=oi(a,o,t,s,e[11],16,1839030562),s=oi(s,a,o,t,e[14],23,-35309556),t=oi(t,s,a,o,e[1],4,-1530992060),o=oi(o,t,s,a,e[4],11,1272893353),a=oi(a,o,t,s,e[7],16,-155497632),s=oi(s,a,o,t,e[10],23,-1094730640),t=oi(t,s,a,o,e[13],4,681279174),o=oi(o,t,s,a,e[0],11,-358537222),a=oi(a,o,t,s,e[3],16,-722521979),s=oi(s,a,o,t,e[6],23,76029189),t=oi(t,s,a,o,e[9],4,-640364487),o=oi(o,t,s,a,e[12],11,-421815835),a=oi(a,o,t,s,e[15],16,530742520),t=li(t,s=oi(s,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=li(o,t,s,a,e[7],10,1126891415),a=li(a,o,t,s,e[14],15,-1416354905),s=li(s,a,o,t,e[5],21,-57434055),t=li(t,s,a,o,e[12],6,1700485571),o=li(o,t,s,a,e[3],10,-1894986606),a=li(a,o,t,s,e[10],15,-1051523),s=li(s,a,o,t,e[1],21,-2054922799),t=li(t,s,a,o,e[8],6,1873313359),o=li(o,t,s,a,e[15],10,-30611744),a=li(a,o,t,s,e[6],15,-1560198380),s=li(s,a,o,t,e[13],21,1309151649),t=li(t,s,a,o,e[4],6,-145523070),o=li(o,t,s,a,e[11],10,-1120210379),a=li(a,o,t,s,e[2],15,718787259),s=li(s,a,o,t,e[9],21,-343485551),n[0]=_c(t,n[0]),n[1]=_c(s,n[1]),n[2]=_c(a,n[2]),n[3]=_c(o,n[3])}function Jp(n,e,t,s,a,o){return e=_c(_c(e,n),_c(s,o)),_c(e<<a|e>>>32-a,t)}function ii(n,e,t,s,a,o,u){return Jp(e&t|~e&s,n,e,a,o,u)}function ai(n,e,t,s,a,o,u){return Jp(e&s|t&~s,n,e,a,o,u)}function oi(n,e,t,s,a,o,u){return Jp(e^t^s,n,e,a,o,u)}function li(n,e,t,s,a,o,u){return Jp(t^(e|~s),n,e,a,o,u)}function l4(n){var e,t=n.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Bm(s,LM(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Bm(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Bm(s,a),s}function LM(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Ky="0123456789abcdef".split("");function OM(n){for(var e="",t=0;t<4;t++)e+=Ky[n>>8*t+4&15]+Ky[n>>8*t&15];return e}function DM(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Sg(n){return l4(n).map(DM).join("")}var RM=(function(n){for(var e=0;e<n.length;e++)n[e]=OM(n[e]);return n.join("")})(l4("hello"))!="5d41402abc4b2a76b9719d911017c592";function _c(n,e){if(RM){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Ng(n,e){var t,s,a,o;if(n!==t){for(var u=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var p=c[f];d=(d+p+u.charCodeAt(f))%256,c[f]=c[d],c[d]=p}t=n,s=c}else c=s;var y=e.length,_=0,b=0,A="";for(f=0;f<y;f++)b=(b+(p=c[_=(_+1)%256]))%256,c[_]=c[b],c[b]=p,u=c[(c[_]+c[b])%256],A+=String.fromCharCode(e.charCodeAt(f)^u);return A}var Jy={print:4,modify:8,copy:16,"annot-forms":32};function vh(n,e,t,s){this.v=1,this.r=2;var a=192;n.forEach(function(c){if(Jy.perm!==void 0)throw new Error("Invalid permission: "+c);a+=Jy[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=Sg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Ng(this.encryptionKey,this.padding)}function yh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,s=0;s<t;s++){var a=n.charCodeAt(s);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[s]}return e}function ex(n){if(er(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,a){if(a=a||!1,typeof t!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[s,!!a],o},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,s)}catch(c){nn.console&&mr.error("jsPDF PubSub Error",c.message,c)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ap(n){if(!(this instanceof Ap))return new Ap(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function c4(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function cu(n,e,t,s,a){if(!(this instanceof cu))return new cu(n,e,t,s,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,c4.call(this,s,a)}function Sh(n,e,t,s,a){if(!(this instanceof Sh))return new Sh(n,e,t,s,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,c4.call(this,s,a)}function Ft(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",p=null;er(n=n||{})==="object"&&(t=n.orientation,s=n.unit||s,a=n.format||a,o=n.compress||n.compressPdf||o,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),s=s||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,_={},b={internal:{},__private__:{}};b.__private__.PubSub=ex;var A="1.3",N=b.__private__.getPdfVersion=function(){return A};b.__private__.setPdfVersion=function(S){A=S};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return k};var C=b.__private__.getPageFormat=function(S){return k[S]};a=a||"a4";var R="compat",D="advanced",I=R;function F(){this.saveGraphicsState(),P(new ot(xt,0,0,-xt,0,Ba()*xt).toString()+" cm"),this.setFontSize(this.getFontSize()/xt),d="n",I=D}function Y(){this.restoreGraphicsState(),d="S",I=R}var G=b.__private__.combineFontStyleAndFontWeight=function(S,q){if(S=="bold"&&q=="normal"||S=="bold"&&q==400||S=="normal"&&q=="italic"||S=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(S=q==400||q==="normal"?S==="italic"?"italic":"normal":q!=700&&q!=="bold"||S!=="normal"?(q==700?"bold":q)+""+S:"bold"),S};b.advancedAPI=function(S){var q=I===R;return q&&F.call(this),typeof S!="function"||(S(this),q&&Y.call(this)),this},b.compatAPI=function(S){var q=I===D;return q&&Y.call(this),typeof S!="function"||(S(this),q&&F.call(this)),this},b.isAdvancedAPI=function(){return I===D};var O,B=function(S){if(I!==D)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=b.roundToPrecision=b.__private__.roundToPrecision=function(S,q){var he=e||q;if(isNaN(S)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(he).replace(/0+$/,"")};O=b.hpf=b.__private__.hpf=typeof f=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return K(S,f)}:f==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return K(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return K(S,16)};var j=b.f2=b.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return K(S,2)},V=b.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return K(S,3)},ne=b.scale=b.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return I===R?S*xt:I===D?S:void 0},W=function(S){return ne((function(q){return I===R?Ba()-q:I===D?q:void 0})(S))};b.__private__.setPrecision=b.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var oe,$="00000000000000000000000000000000",te=b.__private__.getFileId=function(){return $},le=b.__private__.setFileId=function(S){return $=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(zr=new vh(p.userPermissions,p.userPassword,p.ownerPassword,$)),$};b.setFileId=function(S){return le(S),this},b.getFileId=function(){return te()};var pe=b.__private__.convertDateToPDFDate=function(S){var q=S.getTimezoneOffset(),he=q<0?"+":"-",ge=Math.floor(Math.abs(q/60)),Ce=Math.abs(q%60),We=[he,J(ge),"'",J(Ce),"'"].join("");return["D:",S.getFullYear(),J(S.getMonth()+1),J(S.getDate()),J(S.getHours()),J(S.getMinutes()),J(S.getSeconds()),We].join("")},be=b.__private__.convertPDFDateToDate=function(S){var q=parseInt(S.substr(2,4),10),he=parseInt(S.substr(6,2),10)-1,ge=parseInt(S.substr(8,2),10),Ce=parseInt(S.substr(10,2),10),We=parseInt(S.substr(12,2),10),Je=parseInt(S.substr(14,2),10);return new Date(q,he,ge,Ce,We,Je,0)},z=b.__private__.setCreationDate=function(S){var q;if(S===void 0&&(S=new Date),S instanceof Date)q=pe(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=S}return oe=q},M=b.__private__.getCreationDate=function(S){var q=oe;return S==="jsDate"&&(q=be(oe)),q};b.setCreationDate=function(S){return z(S),this},b.getCreationDate=function(S){return M(S)};var H,J=b.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},Q=b.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},ae=0,fe=[],de=[],xe=0,we=[],Ve=[],Xe=!1,et=de;b.__private__.setCustomOutputDestination=function(S){Xe=!0,et=S};var ct=function(S){Xe||(et=S)};b.__private__.resetCustomOutputDestination=function(){Xe=!1,et=de};var P=b.__private__.out=function(S){return S=S.toString(),xe+=S.length+1,et.push(S),et},Ae=b.__private__.write=function(S){return P(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},nt=b.__private__.getArrayBuffer=function(S){for(var q=S.length,he=new ArrayBuffer(q),ge=new Uint8Array(he);q--;)ge[q]=S.charCodeAt(q);return he},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Be};var Le=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(S){return Le=I===D?S/xt:S,this};var Ke,He=b.__private__.getFontSize=b.getFontSize=function(){return I===R?Le:Le*xt},ut=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(S){return ut=S,this},b.__private__.getR2L=b.getR2L=function(){return ut};var at,ze=b.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))Ke=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');Ke=S}else Ke=parseInt(S,10)};b.__private__.getZoomMode=function(){return Ke};var st,tt=b.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');at=S};b.__private__.getPageMode=function(){return at};var ht=b.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');st=S};b.__private__.getLayoutMode=function(){return st},b.__private__.setDisplayMode=b.setDisplayMode=function(S,q,he){return ze(S),ht(q),tt(he),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(S){if(Object.keys(yt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[S]},b.__private__.getDocumentProperties=function(){return yt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(S){for(var q in yt)yt.hasOwnProperty(q)&&S[q]&&(yt[q]=S[q]);return this},b.__private__.setDocumentProperty=function(S,q){if(Object.keys(yt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[S]=q};var dt,xt,ft,hn,Xt,Nt={},St={},Tt=[],gt={},Jt={},Lt={},It={},bn=null,bt=0,_e=[],it=new ex(b),Ne=n.hotfixes||[],rt={},pt={},At=[],ot=function S(q,he,ge,Ce,We,Je){if(!(this instanceof S))return new S(q,he,ge,Ce,We,Je);isNaN(q)&&(q=1),isNaN(he)&&(he=0),isNaN(ge)&&(ge=0),isNaN(Ce)&&(Ce=1),isNaN(We)&&(We=0),isNaN(Je)&&(Je=0),this._matrix=[q,he,ge,Ce,We,Je]};Object.defineProperty(ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ot.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(S)},ot.prototype.multiply=function(S){var q=S.sx*this.sx+S.shy*this.shx,he=S.sx*this.shy+S.shy*this.sy,ge=S.shx*this.sx+S.sy*this.shx,Ce=S.shx*this.shy+S.sy*this.sy,We=S.tx*this.sx+S.ty*this.shx+this.tx,Je=S.tx*this.shy+S.ty*this.sy+this.ty;return new ot(q,he,ge,Ce,We,Je)},ot.prototype.decompose=function(){var S=this.sx,q=this.shy,he=this.shx,ge=this.sy,Ce=this.tx,We=this.ty,Je=Math.sqrt(S*S+q*q),kt=(S/=Je)*he+(q/=Je)*ge;he-=S*kt,ge-=q*kt;var Ot=Math.sqrt(he*he+ge*ge);return kt/=Ot,S*(ge/=Ot)<q*(he/=Ot)&&(S=-S,q=-q,kt=-kt,Je=-Je),{scale:new ot(Je,0,0,Ot,0,0),translate:new ot(1,0,0,1,Ce,We),rotate:new ot(S,q,-q,S,0,0),skew:new ot(1,0,kt,1,0,0)}},ot.prototype.toString=function(S){return this.join(" ")},ot.prototype.inversed=function(){var S=this.sx,q=this.shy,he=this.shx,ge=this.sy,Ce=this.tx,We=this.ty,Je=1/(S*ge-q*he),kt=ge*Je,Ot=-q*Je,Kt=-he*Je,on=S*Je;return new ot(kt,Ot,Kt,on,-kt*Ce-Kt*We,-Ot*Ce-on*We)},ot.prototype.applyToPoint=function(S){var q=S.x*this.sx+S.y*this.shx+this.tx,he=S.x*this.shy+S.y*this.sy+this.ty;return new Ni(q,he)},ot.prototype.applyToRectangle=function(S){var q=this.applyToPoint(S),he=this.applyToPoint(new Ni(S.x+S.w,S.y+S.h));return new Da(q.x,q.y,he.x-q.x,he.y-q.y)},ot.prototype.clone=function(){var S=this.sx,q=this.shy,he=this.shx,ge=this.sy,Ce=this.tx,We=this.ty;return new ot(S,q,he,ge,Ce,We)},b.Matrix=ot;var Pt=b.matrixMult=function(S,q){return q.multiply(S)},yn=new ot(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=yn;var xn=function(S,q){if(!Jt[S]){var he=(q instanceof cu?"Sh":"P")+(Object.keys(gt).length+1).toString(10);q.id=he,Jt[S]=he,gt[he]=q,it.publish("addPattern",q)}};b.ShadingPattern=cu,b.TilingPattern=Sh,b.addShadingPattern=function(S,q){return B("addShadingPattern()"),xn(S,q),this},b.beginTilingPattern=function(S){B("beginTilingPattern()"),el(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},b.endTilingPattern=function(S,q){B("endTilingPattern()"),q.stream=Ve[H].join(`
`),xn(S,q),it.publish("endTilingPattern",q),At.pop().restore()};var wn,Gt=b.__private__.newObject=function(){var S=fn();return dn(S,!0),S},fn=b.__private__.newObjectDeferred=function(){return ae++,fe[ae]=function(){return xe},ae},dn=function(S,q){return q=typeof q=="boolean"&&q,fe[S]=xe,q&&P(S+" 0 obj"),S},Vn=b.__private__.newAdditionalObject=function(){var S={objId:fn(),content:""};return we.push(S),S},Fn=fn(),Mn=fn(),Ln=b.__private__.decodeColorString=function(S){var q=S.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var he=parseFloat(q[0]);q=[he,he,he,"r"]}for(var ge="#",Ce=0;Ce<3;Ce++)ge+=("0"+Math.floor(255*parseFloat(q[Ce])).toString(16)).slice(-2);return ge},hr=b.__private__.encodeColorString=function(S){var q;typeof S=="string"&&(S={ch1:S});var he=S.ch1,ge=S.ch2,Ce=S.ch3,We=S.ch4,Je=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var kt=new o4(he);if(kt.ok)he=kt.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var Ot=parseInt(he.substr(1),16);he=Ot>>16&255,ge=Ot>>8&255,Ce=255&Ot}if(ge===void 0||We===void 0&&he===ge&&ge===Ce)q=typeof he=="string"?he+" "+Je[0]:S.precision===2?j(he/255)+" "+Je[0]:V(he/255)+" "+Je[0];else if(We===void 0||er(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return["1.","1.","1.",Je[1]].join(" ");q=typeof he=="string"?[he,ge,Ce,Je[1]].join(" "):S.precision===2?[j(he/255),j(ge/255),j(Ce/255),Je[1]].join(" "):[V(he/255),V(ge/255),V(Ce/255),Je[1]].join(" ")}else q=typeof he=="string"?[he,ge,Ce,We,Je[2]].join(" "):S.precision===2?[j(he),j(ge),j(Ce),j(We),Je[2]].join(" "):[V(he),V(ge),V(Ce),V(We),Je[2]].join(" ");return q},Mr=b.__private__.getFilters=function(){return u},Cn=b.__private__.putStream=function(S){var q=(S=S||{}).data||"",he=S.filters||Mr(),ge=S.alreadyAppliedFilters||[],Ce=S.addLength1||!1,We=q.length,Je=S.objectId,kt=function(ns){return ns};if(p!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(kt=zr.encryptor(Je,0));var Ot={};he===!0&&(he=["FlateEncode"]);var Kt=S.additionalKeyValues||[],on=(Ot=Ft.API.processDataByFilters!==void 0?Ft.API.processDataByFilters(q,he):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Ot.data.length!==0&&(Kt.push({key:"Length",value:Ot.data.length}),Ce===!0&&Kt.push({key:"Length1",value:We})),on.length!=0)if(on.split("/").length-1==1)Kt.push({key:"Filter",value:on});else{Kt.push({key:"Filter",value:"["+on+"]"});for(var On=0;On<Kt.length;On+=1)if(Kt[On].key==="DecodeParms"){for(var _r=[],Pr=0;Pr<Ot.reverseChain.split("/").length-1;Pr+=1)_r.push("null");_r.push(Kt[On].value),Kt[On].value="["+_r.join(" ")+"]"}}P("<<");for(var nr=0;nr<Kt.length;nr++)P("/"+Kt[nr].key+" "+Kt[nr].value);P(">>"),Ot.data.length!==0&&(P("stream"),P(kt(Ot.data)),P("endstream"))},Ee=b.__private__.putPage=function(S){var q=S.number,he=S.data,ge=S.objId,Ce=S.contentsObjId;dn(ge,!0),P("<</Type /Page"),P("/Parent "+S.rootDictionaryObjId+" 0 R"),P("/Resources "+S.resourceDictionaryObjId+" 0 R"),P("/MediaBox ["+parseFloat(O(S.mediaBox.bottomLeftX))+" "+parseFloat(O(S.mediaBox.bottomLeftY))+" "+O(S.mediaBox.topRightX)+" "+O(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&P("/CropBox ["+O(S.cropBox.bottomLeftX)+" "+O(S.cropBox.bottomLeftY)+" "+O(S.cropBox.topRightX)+" "+O(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&P("/BleedBox ["+O(S.bleedBox.bottomLeftX)+" "+O(S.bleedBox.bottomLeftY)+" "+O(S.bleedBox.topRightX)+" "+O(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&P("/TrimBox ["+O(S.trimBox.bottomLeftX)+" "+O(S.trimBox.bottomLeftY)+" "+O(S.trimBox.topRightX)+" "+O(S.trimBox.topRightY)+"]"),S.artBox!==null&&P("/ArtBox ["+O(S.artBox.bottomLeftX)+" "+O(S.artBox.bottomLeftY)+" "+O(S.artBox.topRightX)+" "+O(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&P("/UserUnit "+S.userUnit),it.publish("putPage",{objId:ge,pageContext:_e[q],pageNumber:q,page:he}),P("/Contents "+Ce+" 0 R"),P(">>"),P("endobj");var We=he.join(`
`);return I===D&&(We+=`
Q`),dn(Ce,!0),Cn({data:We,filters:Mr(),objectId:Ce}),P("endobj"),ge},Te=b.__private__.putPages=function(){var S,q,he=[];for(S=1;S<=bt;S++)_e[S].objId=fn(),_e[S].contentsObjId=fn();for(S=1;S<=bt;S++)he.push(Ee({number:S,data:Ve[S],objId:_e[S].objId,contentsObjId:_e[S].contentsObjId,mediaBox:_e[S].mediaBox,cropBox:_e[S].cropBox,bleedBox:_e[S].bleedBox,trimBox:_e[S].trimBox,artBox:_e[S].artBox,userUnit:_e[S].userUnit,rootDictionaryObjId:Fn,resourceDictionaryObjId:Mn}));dn(Fn,!0),P("<</Type /Pages");var ge="/Kids [";for(q=0;q<bt;q++)ge+=he[q]+" 0 R ";P(ge+"]"),P("/Count "+bt),P(">>"),P("endobj"),it.publish("postPutPages")},Ye=function(S){it.publish("putFont",{font:S,out:P,newObject:Gt,putStream:Cn}),S.isAlreadyPutted!==!0&&(S.objectNumber=Gt(),P("<<"),P("/Type /Font"),P("/BaseFont /"+yh(S.postScriptName)),P("/Subtype /Type1"),typeof S.encoding=="string"&&P("/Encoding /"+S.encoding),P("/FirstChar 32"),P("/LastChar 255"),P(">>"),P("endobj"))},vt=function(S){S.objectNumber=Gt();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[O(S.x),O(S.y),O(S.x+S.width),O(S.y+S.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var he=S.pages[1].join(`
`);Cn({data:he,additionalKeyValues:q,objectId:S.objectNumber}),P("endobj")},Bt=function(S,q){q||(q=21);var he=Gt(),ge=(function(Je,kt){var Ot,Kt=[],on=1/(kt-1);for(Ot=0;Ot<1;Ot+=on)Kt.push(Ot);if(Kt.push(1),Je[0].offset!=0){var On={offset:0,color:Je[0].color};Je.unshift(On)}if(Je[Je.length-1].offset!=1){var _r={offset:1,color:Je[Je.length-1].color};Je.push(_r)}for(var Pr="",nr=0,ns=0;ns<Kt.length;ns++){for(Ot=Kt[ns];Ot>Je[nr+1].offset;)nr++;var Yr=Je[nr].offset,ws=(Ot-Yr)/(Je[nr+1].offset-Yr),za=Je[nr].color,Zi=Je[nr+1].color;Pr+=Q(Math.round((1-ws)*za[0]+ws*Zi[0]).toString(16))+Q(Math.round((1-ws)*za[1]+ws*Zi[1]).toString(16))+Q(Math.round((1-ws)*za[2]+ws*Zi[2]).toString(16))}return Pr.trim()})(S.colors,q),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+q+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Cn({data:ge,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),P("endobj"),S.objectNumber=Gt(),P("<< /ShadingType "+S.type),P("/ColorSpace /DeviceRGB");var We="/Coords ["+O(parseFloat(S.coords[0]))+" "+O(parseFloat(S.coords[1]))+" ";S.type===2?We+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3])):We+=O(parseFloat(S.coords[2]))+" "+O(parseFloat(S.coords[3]))+" "+O(parseFloat(S.coords[4]))+" "+O(parseFloat(S.coords[5])),P(We+="]"),S.matrix&&P("/Matrix ["+S.matrix.toString()+"]"),P("/Function "+he+" 0 R"),P("/Extend [true true]"),P(">>"),P("endobj")},Rt=function(S,q){var he=fn(),ge=Gt();q.push({resourcesOid:he,objectOid:ge}),S.objectNumber=ge;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+S.boundingBox.map(O).join(" ")+"]"}),Ce.push({key:"XStep",value:O(S.xStep)}),Ce.push({key:"YStep",value:O(S.yStep)}),Ce.push({key:"Resources",value:he+" 0 R"}),S.matrix&&Ce.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),Cn({data:S.stream,additionalKeyValues:Ce,objectId:S.objectNumber}),P("endobj")},Vt=function(S){for(var q in S.objectNumber=Gt(),P("<<"),S)switch(q){case"opacity":P("/ca "+j(S[q]));break;case"stroke-opacity":P("/CA "+j(S[q]))}P(">>"),P("endobj")},mn=function(S){dn(S.resourcesOid,!0),P("<<"),P("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var q in P("/Font <<"),Nt)Nt.hasOwnProperty(q)&&(y===!1||y===!0&&_.hasOwnProperty(q))&&P("/"+q+" "+Nt[q].objectNumber+" 0 R");P(">>")})(),(function(){if(Object.keys(gt).length>0){for(var q in P("/Shading <<"),gt)gt.hasOwnProperty(q)&&gt[q]instanceof cu&&gt[q].objectNumber>=0&&P("/"+q+" "+gt[q].objectNumber+" 0 R");it.publish("putShadingPatternDict"),P(">>")}})(),(function(q){if(Object.keys(gt).length>0){for(var he in P("/Pattern <<"),gt)gt.hasOwnProperty(he)&&gt[he]instanceof b.TilingPattern&&gt[he].objectNumber>=0&&gt[he].objectNumber<q&&P("/"+he+" "+gt[he].objectNumber+" 0 R");it.publish("putTilingPatternDict"),P(">>")}})(S.objectOid),(function(){if(Object.keys(Lt).length>0){var q;for(q in P("/ExtGState <<"),Lt)Lt.hasOwnProperty(q)&&Lt[q].objectNumber>=0&&P("/"+q+" "+Lt[q].objectNumber+" 0 R");it.publish("putGStateDict"),P(">>")}})(),(function(){for(var q in P("/XObject <<"),rt)rt.hasOwnProperty(q)&&rt[q].objectNumber>=0&&P("/"+q+" "+rt[q].objectNumber+" 0 R");it.publish("putXobjectDict"),P(">>")})(),P(">>"),P("endobj")},Wt=function(S){St[S.fontName]=St[S.fontName]||{},St[S.fontName][S.fontStyle]=S.id},yr=function(S,q,he,ge,Ce){var We={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:S,fontName:q,fontStyle:he,encoding:ge,isStandardFont:Ce||!1,metadata:{}};return it.publish("addFont",{font:We,instance:this}),Nt[We.id]=We,Wt(We),We.id},Zn=b.__private__.pdfEscape=b.pdfEscape=function(S,q){return(function(he,ge){var Ce,We,Je,kt,Ot,Kt,on,On,_r;if(Je=(ge=ge||{}).sourceEncoding||"Unicode",Ot=ge.outputEncoding,(ge.autoencode||Ot)&&Nt[dt].metadata&&Nt[dt].metadata[Je]&&Nt[dt].metadata[Je].encoding&&(kt=Nt[dt].metadata[Je].encoding,!Ot&&Nt[dt].encoding&&(Ot=Nt[dt].encoding),!Ot&&kt.codePages&&(Ot=kt.codePages[0]),typeof Ot=="string"&&(Ot=kt[Ot]),Ot)){for(on=!1,Kt=[],Ce=0,We=he.length;Ce<We;Ce++)(On=Ot[he.charCodeAt(Ce)])?Kt.push(String.fromCharCode(On)):Kt.push(he[Ce]),Kt[Ce].charCodeAt(0)>>8&&(on=!0);he=Kt.join("")}for(Ce=he.length;on===void 0&&Ce!==0;)he.charCodeAt(Ce-1)>>8&&(on=!0),Ce--;if(!on)return he;for(Kt=ge.noBOM?[]:[254,255],Ce=0,We=he.length;Ce<We;Ce++){if((_r=(On=he.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+he+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kt.push(_r),Kt.push(On-(_r<<8))}return String.fromCharCode.apply(void 0,Kt)})(S,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tr=b.__private__.beginPage=function(S){Ve[++bt]=[],_e[bt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},qs(bt),ct(Ve[H])},xr=function(S,q){var he,ge,Ce;switch(t=q||t,typeof S=="string"&&(he=C(S.toLowerCase()),Array.isArray(he)&&(ge=he[0],Ce=he[1])),Array.isArray(S)&&(ge=S[0]*xt,Ce=S[1]*xt),isNaN(ge)&&(ge=a[0],Ce=a[1]),(ge>14400||Ce>14400)&&(mr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Ce=Math.min(14400,Ce)),a=[ge,Ce],t.substr(0,1)){case"l":Ce>ge&&(a=[Ce,ge]);break;case"p":ge>Ce&&(a=[Ce,ge])}tr(a),Yt(Qo),P(di),Fl!==0&&P(Fl+" J"),us!==0&&P(us+" j"),it.publish("addPage",{pageNumber:bt})},ei=function(S){S>0&&S<=bt&&(Ve.splice(S,1),_e.splice(S,1),bt--,H>bt&&(H=bt),this.setPage(H))},qs=function(S){S>0&&S<=bt&&(H=S)},wi=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ve.length-1},_i=function(S,q,he){var ge,Ce=void 0;return he=he||{},S=S!==void 0?S:Nt[dt].fontName,q=q!==void 0?q:Nt[dt].fontStyle,ge=S.toLowerCase(),St[ge]!==void 0&&St[ge][q]!==void 0?Ce=St[ge][q]:St[S]!==void 0&&St[S][q]!==void 0?Ce=St[S][q]:he.disableWarning===!1&&mr.warn("Unable to look up font label for font '"+S+"', '"+q+"'. Refer to getFontList() for available fonts."),Ce||he.noFallback||(Ce=St.times[q])==null&&(Ce=St.times.normal),Ce},wr=b.__private__.putInfo=function(){var S=Gt(),q=function(ge){return ge};for(var he in p!==null&&(q=zr.encryptor(S,0)),P("<<"),P("/Producer ("+Zn(q("jsPDF "+Ft.version))+")"),yt)yt.hasOwnProperty(he)&&yt[he]&&P("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Zn(q(yt[he]))+")");P("/CreationDate ("+Zn(q(oe))+")"),P(">>"),P("endobj")},Us=b.__private__.putCatalog=function(S){var q=(S=S||{}).rootDictionaryObjId||Fn;switch(Gt(),P("<<"),P("/Type /Catalog"),P("/Pages "+q+" 0 R"),Ke||(Ke="fullwidth"),Ke){case"fullwidth":P("/OpenAction [3 0 R /FitH null]");break;case"fullheight":P("/OpenAction [3 0 R /FitV null]");break;case"fullpage":P("/OpenAction [3 0 R /Fit]");break;case"original":P("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+Ke;he.substr(he.length-1)==="%"&&(Ke=parseInt(Ke)/100),typeof Ke=="number"&&P("/OpenAction [3 0 R /XYZ null null "+j(Ke)+"]")}switch(st||(st="continuous"),st){case"continuous":P("/PageLayout /OneColumn");break;case"single":P("/PageLayout /SinglePage");break;case"two":case"twoleft":P("/PageLayout /TwoColumnLeft");break;case"tworight":P("/PageLayout /TwoColumnRight")}at&&P("/PageMode /"+at),it.publish("putCatalog"),P(">>"),P("endobj")},Hs=b.__private__.putTrailer=function(){P("trailer"),P("<<"),P("/Size "+(ae+1)),P("/Root "+ae+" 0 R"),P("/Info "+(ae-1)+" 0 R"),p!==null&&P("/Encrypt "+zr.oid+" 0 R"),P("/ID [ <"+$+"> <"+$+"> ]"),P(">>")},_n=b.__private__.putHeader=function(){P("%PDF-"+A),P("%")},yo=b.__private__.putXRef=function(){var S="0000000000";P("xref"),P("0 "+(ae+1)),P("0000000000 65535 f ");for(var q=1;q<=ae;q++)typeof fe[q]=="function"?P((S+fe[q]()).slice(-10)+" 00000 n "):fe[q]!==void 0?P((S+fe[q]).slice(-10)+" 00000 n "):P("0000000000 00000 n ")},hi=b.__private__.buildDocument=function(){var S;ae=0,xe=0,de=[],fe=[],we=[],Fn=fn(),Mn=fn(),ct(de),it.publish("buildDocument"),_n(),Te(),(function(){it.publish("putAdditionalObjects");for(var he=0;he<we.length;he++){var ge=we[he];dn(ge.objId,!0),P(ge.content),P("endobj")}it.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var he in Nt)Nt.hasOwnProperty(he)&&(y===!1||y===!0&&_.hasOwnProperty(he))&&Ye(Nt[he])})(),(function(){var he;for(he in Lt)Lt.hasOwnProperty(he)&&Vt(Lt[he])})(),(function(){for(var he in rt)rt.hasOwnProperty(he)&&vt(rt[he])})(),(function(he){var ge;for(ge in gt)gt.hasOwnProperty(ge)&&(gt[ge]instanceof cu?Bt(gt[ge]):gt[ge]instanceof Sh&&Rt(gt[ge],he))})(S),it.publish("putResources"),S.forEach(mn),mn({resourcesOid:Mn,objectOid:Number.MAX_SAFE_INTEGER}),it.publish("postPutResources"),p!==null&&(zr.oid=Gt(),P("<<"),P("/Filter /Standard"),P("/V "+zr.v),P("/R "+zr.r),P("/U <"+zr.toHexString(zr.U)+">"),P("/O <"+zr.toHexString(zr.O)+">"),P("/P "+zr.P),P(">>"),P("endobj")),wr(),Us();var q=xe;return yo(),Hs(),P("startxref"),P(""+q),P("%%EOF"),ct(Ve[H]),de.join(`
`)},ha=b.__private__.getBlob=function(S){return new Blob([nt(S)],{type:"application/pdf"})},xo=b.output=b.__private__.output=(wn=function(S,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",S){case void 0:return hi();case"save":b.save(q.filename);break;case"arraybuffer":return nt(hi());case"blob":return ha(hi());case"bloburi":case"bloburl":if(nn.URL!==void 0&&typeof nn.URL.createObjectURL=="function")return nn.URL&&nn.URL.createObjectURL(ha(hi()))||void 0;mr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",ge=hi();try{he=Qy(ge)}catch{he=Qy(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+q.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nn)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Ce=q.pdfObjectUrl,We="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",kt=nn.open();return kt!==null&&kt.document.write(Je),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nn)==="[object Window]"){var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',Kt=nn.open();if(Kt!==null){Kt.document.write(Ot);var on=this;Kt.document.documentElement.querySelector("#pdfViewer").onload=function(){Kt.document.title=q.filename,Kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(on.output("bloburl"))}}return Kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var On='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',_r=nn.open();if(_r!==null&&(_r.document.write(On),_r.document.title=q.filename),_r||typeof safari>"u")return _r;break;case"datauri":case"dataurl":return nn.document.location.href=this.output("datauristring",q);default:return null}},wn.foo=function(){try{return wn.apply(this,arguments)}catch(he){var S=he.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var q="Error in function "+S.split(`
`)[0].split("<")[0]+": "+he.message;if(!nn.console)throw new Error(q);nn.console.error(q,he),nn.alert&&alert(q)}},wn.foo.bar=wn,wn.foo),cs=function(S){return Array.isArray(Ne)===!0&&Ne.indexOf(S)>-1};switch(s){case"pt":xt=1;break;case"mm":xt=72/25.4;break;case"cm":xt=72/2.54;break;case"in":xt=72;break;case"px":xt=cs("px_scaling")==1?.75:96/72;break;case"pc":case"em":xt=12;break;case"ex":xt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);xt=s}var zr=null;z(),le();var Lr=b.__private__.getPageInfo=b.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_e[S].objId,pageNumber:S,pageContext:_e[S]}},wo=b.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in _e)if(_e[q].objId===S)break;return Lr(q)},Il=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:_e[H].objId,pageNumber:H,pageContext:_e[H]}};b.addPage=function(){return xr.apply(this,arguments),this},b.setPage=function(){return qs.apply(this,arguments),ct.call(this,Ve[H]),this},b.insertPage=function(S){return this.addPage(),this.movePage(H,S),this},b.movePage=function(S,q){var he,ge;if(S>q){he=Ve[S],ge=_e[S];for(var Ce=S;Ce>q;Ce--)Ve[Ce]=Ve[Ce-1],_e[Ce]=_e[Ce-1];Ve[q]=he,_e[q]=ge,this.setPage(q)}else if(S<q){he=Ve[S],ge=_e[S];for(var We=S;We<q;We++)Ve[We]=Ve[We+1],_e[We]=_e[We+1];Ve[q]=he,_e[q]=ge,this.setPage(q)}return this},b.deletePage=function(){return ei.apply(this,arguments),this},b.__private__.text=b.text=function(S,q,he,ge,Ce){var We,Je,kt,Ot,Kt,on,On,_r,Pr,nr=(ge=ge||{}).scope||this;if(typeof S=="number"&&typeof q=="number"&&(typeof he=="string"||Array.isArray(he))){var ns=he;he=q,q=S,S=ns}if(arguments[3]instanceof ot==0?(kt=arguments[4],Ot=arguments[5],er(On=arguments[3])==="object"&&On!==null||(typeof kt=="string"&&(Ot=kt,kt=null),typeof On=="string"&&(Ot=On,On=null),typeof On=="number"&&(kt=On,On=null),ge={flags:On,angle:kt,align:Ot})):(B("The transform parameter of text() with a Matrix value"),Pr=Ce),isNaN(q)||isNaN(he)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return nr;var Yr,ws="",za=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Oa,Zi=nr.internal.scaleFactor;function Pa(qn){return qn=qn.split("	").join(Array(ge.TabLen||9).join(" ")),Zn(qn,On)}function zc(qn){for(var Dn,rr=qn.concat(),Ur=[],wa=rr.length;wa--;)typeof(Dn=rr.shift())=="string"?Ur.push(Dn):Array.isArray(qn)&&(Dn.length===1||Dn[1]===void 0&&Dn[2]===void 0)?Ur.push(Dn[0]):Ur.push([Dn[0],Dn[1],Dn[2]]);return Ur}function zl(qn,Dn){var rr;if(typeof qn=="string")rr=Dn(qn)[0];else if(Array.isArray(qn)){for(var Ur,wa,ea=qn.concat(),sl=[],Uc=ea.length;Uc--;)typeof(Ur=ea.shift())=="string"?sl.push(Dn(Ur)[0]):Array.isArray(Ur)&&typeof Ur[0]=="string"&&(wa=Dn(Ur[0],Ur[1],Ur[2]),sl.push([wa[0],wa[1],wa[2]]));rr=sl}return rr}var pa=!1,Qi=!0;if(typeof S=="string")pa=!0;else if(Array.isArray(S)){var nl=S.concat();Je=[];for(var qa,hs=nl.length;hs--;)(typeof(qa=nl.shift())!="string"||Array.isArray(qa)&&typeof qa[0]!="string")&&(Qi=!1);pa=Qi}if(pa===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var So=Le/nr.internal.scaleFactor,No=So*(za-1);switch(ge.baseline){case"bottom":he-=No;break;case"top":he+=So-No;break;case"hanging":he+=So-2*No;break;case"middle":he+=So/2-No}if((on=ge.maxWidth||0)>0&&(typeof S=="string"?S=nr.splitTextToSize(S,on):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(qn,Dn){return qn.concat(nr.splitTextToSize(Dn,on))},[]))),We={text:S,x:q,y:he,options:ge,mutex:{pdfEscape:Zn,activeFontKey:dt,fonts:Nt,activeFontSize:Le}},it.publish("preProcessText",We),S=We.text,kt=(ge=We.options).angle,Pr instanceof ot==0&&kt&&typeof kt=="number"){kt*=Math.PI/180,ge.rotationDirection===0&&(kt=-kt),I===D&&(kt=-kt);var Pl=Math.cos(kt),ma=Math.sin(kt);Pr=new ot(Pl,ma,-ma,Pl,0,0)}else kt&&kt instanceof ot&&(Pr=kt);I!==D||Pr||(Pr=yn),(Kt=ge.charSpace||Si)!==void 0&&(ws+=O(ne(Kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_r=ge.horizontalScale)!==void 0&&(ws+=O(100*_r)+` Tz
`),ge.lang;var Gs=-1,Ua=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,ql=nr.internal.getCurrentPageInfo().pageContext;switch(Ua){case 0:case!1:case"fill":Gs=0;break;case 1:case!0:case"stroke":Gs=1;break;case 2:case"fillThenStroke":Gs=2;break;case 3:case"invisible":Gs=3;break;case 4:case"fillAndAddForClipping":Gs=4;break;case 5:case"strokeAndAddPathForClipping":Gs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gs=6;break;case 7:case"addToPathForClipping":Gs=7}var Pc=ql.usedRenderingMode!==void 0?ql.usedRenderingMode:-1;Gs!==-1?ws+=Gs+` Tr
`:Pc!==-1&&(ws+=`0 Tr
`),Gs!==-1&&(ql.usedRenderingMode=Gs),Ot=ge.align||"left";var pi,Ki=Le*za,Ha=nr.internal.pageSize.getWidth(),qc=Nt[dt];Kt=ge.charSpace||Si,on=ge.maxWidth||0,On=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Ji=[],Ao=function(qn){return nr.getStringUnitWidth(qn,{font:qc,charSpace:Kt,fontSize:Le,doKerning:!1})*Le/Zi};if(Object.prototype.toString.call(S)==="[object Array]"){var ni;Je=zc(S),Ot!=="left"&&(pi=Je.map(Ao));var Ys,ga=0;if(Ot==="right"){q-=pi[0],S=[],hs=Je.length;for(var ba=0;ba<hs;ba++)ba===0?(Ys=fi(q),ni=xs(he)):(Ys=ne(ga-pi[ba]),ni=-Ki),S.push([Je[ba],Ys,ni]),ga=pi[ba]}else if(Ot==="center"){q-=pi[0]/2,S=[],hs=Je.length;for(var Wa=0;Wa<hs;Wa++)Wa===0?(Ys=fi(q),ni=xs(he)):(Ys=ne((ga-pi[Wa])/2),ni=-Ki),S.push([Je[Wa],Ys,ni]),ga=pi[Wa]}else if(Ot==="left"){S=[],hs=Je.length;for(var Ul=0;Ul<hs;Ul++)S.push(Je[Ul])}else if(Ot==="justify"&&qc.encoding==="Identity-H"){S=[],hs=Je.length,on=on!==0?on:Ha;for(var Hl=0,qr=0;qr<hs;qr++)if(ni=qr===0?xs(he):-Ki,Ys=qr===0?fi(q):Hl,qr<hs-1){var Du=ne((on-pi[qr])/(Je[qr].split(" ").length-1)),va=Je[qr].split(" ");S.push([va[0]+" ",Ys,ni]),Hl=0;for(var ya=1;ya<va.length;ya++){var _s=(Ao(va[ya-1]+" "+va[ya])-Ao(va[ya]))*Zi+Du;ya==va.length-1?S.push([va[ya],_s,0]):S.push([va[ya]+" ",_s,0]),Hl-=_s}}else S.push([Je[qr],Ys,ni]);S.push(["",Hl,0])}else{if(Ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],hs=Je.length,on=on!==0?on:Ha,qr=0;qr<hs;qr++){ni=qr===0?xs(he):-Ki,Ys=qr===0?fi(q):0;var Ga=Je[qr].split(" ").length-1,Wl=Ga>0?(on-pi[qr])/Ga:0;qr<hs-1?Ji.push(O(ne(Wl))):Ji.push(0),S.push([Je[qr],Ys,ni])}}}(typeof ge.R2L=="boolean"?ge.R2L:ut)===!0&&(S=zl(S,function(qn,Dn,rr){return[qn.split("").reverse().join(""),Dn,rr]})),We={text:S,x:q,y:he,options:ge,mutex:{pdfEscape:Zn,activeFontKey:dt,fonts:Nt,activeFontSize:Le}},it.publish("postProcessText",We),S=We.text,Yr=We.mutex.isHex||!1;var Gl=Nt[dt].encoding;Gl!=="WinAnsiEncoding"&&Gl!=="StandardEncoding"||(S=zl(S,function(qn,Dn,rr){return[Pa(qn),Dn,rr]})),Je=zc(S),S=[];for(var Ya,$a,xa,rl=Array.isArray(Je[0])?1:0,mi="",Xa=function(qn,Dn,rr){var Ur="";return rr instanceof ot?(rr=typeof ge.angle=="number"?Pt(rr,new ot(1,0,0,1,qn,Dn)):Pt(new ot(1,0,0,1,qn,Dn),rr),I===D&&(rr=Pt(new ot(1,0,0,-1,0,0),rr)),Ur=rr.join(" ")+` Tm
`):Ur=O(qn)+" "+O(Dn)+` Td
`,Ur},Ms=0;Ms<Je.length;Ms++){switch(mi="",rl){case 1:xa=(Yr?"<":"(")+Je[Ms][0]+(Yr?">":")"),Ya=parseFloat(Je[Ms][1]),$a=parseFloat(Je[Ms][2]);break;case 0:xa=(Yr?"<":"(")+Je[Ms]+(Yr?">":")"),Ya=fi(q),$a=xs(he)}Ji!==void 0&&Ji[Ms]!==void 0&&(mi=Ji[Ms]+` Tw
`),Ms===0?S.push(mi+Xa(Ya,$a,Pr)+xa):rl===0?S.push(mi+xa):rl===1&&S.push(mi+Xa(Ya,$a,Pr)+xa)}S=rl===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Ai=`BT
/`;return Ai+=dt+" "+Le+` Tf
`,Ai+=O(Le*za)+` TL
`,Ai+=fa+`
`,Ai+=ws,Ai+=S,P(Ai+="ET"),_[dt]=!0,nr};var Xo=b.__private__.clip=b.clip=function(S){return P(S==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Xo("evenodd")},b.__private__.discardPath=b.discardPath=function(){return P("n"),this};var Ws=b.__private__.isValidStyle=function(S){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(q=!0),q};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(S){return Ws(S)&&(d=S),this};var Oc=b.__private__.getStyle=b.getStyle=function(S){var q=d;switch(S){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=S}return q},Dc=b.close=function(){return P("h"),this};b.stroke=function(){return P("S"),this},b.fill=function(S){return $i("f",S),this},b.fillEvenOdd=function(S){return $i("f*",S),this},b.fillStroke=function(S){return $i("B",S),this},b.fillStrokeEvenOdd=function(S){return $i("B*",S),this};var $i=function(S,q){er(q)==="object"?Cu(q,S):P(S)},Zo=function(S){S===null||I===D&&S===void 0||(S=Oc(S),P(S))};function Tu(S,q,he,ge,Ce){var We=new Sh(q||this.boundingBox,he||this.xStep,ge||this.yStep,this.gState,Ce||this.matrix);We.stream=this.stream;var Je=S+"$$"+this.cloneIndex+++"$$";return xn(Je,We),We}var Cu=function(S,q){var he=Jt[S.key],ge=gt[he];if(ge instanceof cu)P("q"),P(Rc(q)),ge.gState&&b.setGState(ge.gState),P(S.matrix.toString()+" cm"),P("/"+he+" sh"),P("Q");else if(ge instanceof Sh){var Ce=new ot(1,0,0,-1,0,Ba());S.matrix&&(Ce=Ce.multiply(S.matrix||yn),he=Tu.call(ge,S.key,S.boundingBox,S.xStep,S.yStep,Ce).id),P("q"),P("/Pattern cs"),P("/"+he+" scn"),ge.gState&&b.setGState(ge.gState),P(q),P("Q")}},Rc=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ic=b.moveTo=function(S,q){return P(O(ne(S))+" "+O(W(q))+" m"),this},ku=b.lineTo=function(S,q){return P(O(ne(S))+" "+O(W(q))+" l"),this},ti=b.curveTo=function(S,q,he,ge,Ce,We){return P([O(ne(S)),O(W(q)),O(ne(he)),O(W(ge)),O(ne(Ce)),O(W(We)),"c"].join(" ")),this};b.__private__.line=b.line=function(S,q,he,ge,Ce){if(isNaN(S)||isNaN(q)||isNaN(he)||isNaN(ge)||!Ws(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return I===R?this.lines([[he-S,ge-q]],S,q,[1,1],Ce||"S"):this.lines([[he-S,ge-q]],S,q,[1,1]).stroke()},b.__private__.lines=b.lines=function(S,q,he,ge,Ce,We){var Je,kt,Ot,Kt,on,On,_r,Pr,nr,ns,Yr,ws;if(typeof S=="number"&&(ws=he,he=q,q=S,S=ws),ge=ge||[1,1],We=We||!1,isNaN(q)||isNaN(he)||!Array.isArray(S)||!Array.isArray(ge)||!Ws(Ce)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ic(q,he),Je=ge[0],kt=ge[1],Kt=S.length,ns=q,Yr=he,Ot=0;Ot<Kt;Ot++)(on=S[Ot]).length===2?(ns=on[0]*Je+ns,Yr=on[1]*kt+Yr,ku(ns,Yr)):(On=on[0]*Je+ns,_r=on[1]*kt+Yr,Pr=on[2]*Je+ns,nr=on[3]*kt+Yr,ns=on[4]*Je+ns,Yr=on[5]*kt+Yr,ti(On,_r,Pr,nr,ns,Yr));return We&&Dc(),Zo(Ce),this},b.path=function(S){for(var q=0;q<S.length;q++){var he=S[q],ge=he.c;switch(he.op){case"m":Ic(ge[0],ge[1]);break;case"l":ku(ge[0],ge[1]);break;case"c":ti.apply(this,ge);break;case"h":Dc()}}return this},b.__private__.rect=b.rect=function(S,q,he,ge,Ce){if(isNaN(S)||isNaN(q)||isNaN(he)||isNaN(ge)||!Ws(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return I===R&&(ge=-ge),P([O(ne(S)),O(W(q)),O(ne(he)),O(ne(ge)),"re"].join(" ")),Zo(Ce),this},b.__private__.triangle=b.triangle=function(S,q,he,ge,Ce,We,Je){if(isNaN(S)||isNaN(q)||isNaN(he)||isNaN(ge)||isNaN(Ce)||isNaN(We)||!Ws(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-S,ge-q],[Ce-he,We-ge],[S-Ce,q-We]],S,q,[1,1],Je,!0),this},b.__private__.roundedRect=b.roundedRect=function(S,q,he,ge,Ce,We,Je){if(isNaN(S)||isNaN(q)||isNaN(he)||isNaN(ge)||isNaN(Ce)||isNaN(We)||!Ws(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*he),We=Math.min(We,.5*ge),this.lines([[he-2*Ce,0],[Ce*kt,0,Ce,We-We*kt,Ce,We],[0,ge-2*We],[0,We*kt,-Ce*kt,We,-Ce,We],[2*Ce-he,0],[-Ce*kt,0,-Ce,-We*kt,-Ce,-We],[0,2*We-ge],[0,-We*kt,Ce*kt,-We,Ce,-We]],S+Ce,q,[1,1],Je,!0),this},b.__private__.ellipse=b.ellipse=function(S,q,he,ge,Ce){if(isNaN(S)||isNaN(q)||isNaN(he)||isNaN(ge)||!Ws(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*he,Je=4/3*(Math.SQRT2-1)*ge;return Ic(S+he,q),ti(S+he,q-Je,S+We,q-ge,S,q-ge),ti(S-We,q-ge,S-he,q-Je,S-he,q),ti(S-he,q+Je,S-We,q+ge,S,q+ge),ti(S+We,q+ge,S+he,q+Je,S+he,q),Zo(Ce),this},b.__private__.circle=b.circle=function(S,q,he,ge){if(isNaN(S)||isNaN(q)||isNaN(he)||!Ws(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,q,he,he,ge)},b.setFont=function(S,q,he){return he&&(q=G(q,he)),dt=_i(S,q,{disableWarning:!1}),this};var Xi=b.__private__.getFont=b.getFont=function(){return Nt[_i.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var S,q,he={};for(S in St)if(St.hasOwnProperty(S))for(q in he[S]=[],St[S])St[S].hasOwnProperty(q)&&he[S].push(q);return he},b.addFont=function(S,q,he,ge,Ce){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(he=G(he,ge)),yr.call(this,S,q,he,Ce=Ce||"Identity-H")};var Oa,Qo=n.lineWidth||.200025,_o=b.__private__.getLineWidth=b.getLineWidth=function(){return Qo},Yt=b.__private__.setLineWidth=b.setLineWidth=function(S){return Qo=S,P(O(ne(S))+" w"),this};b.__private__.setLineDash=Ft.API.setLineDash=Ft.API.setLineDashPattern=function(S,q){if(S=S||[],q=q||0,isNaN(q)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(he){return O(ne(he))}).join(" "),q=O(ne(q)),P("["+S+"] "+q+" d"),this};var ju=b.__private__.getLineHeight=b.getLineHeight=function(){return Le*Oa};b.__private__.getLineHeight=b.getLineHeight=function(){return Le*Oa};var Vc=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Oa=S),this},Eu=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Oa};Vc(n.lineHeight);var fi=b.__private__.getHorizontalCoordinate=function(S){return ne(S)},xs=b.__private__.getVerticalCoordinate=function(S){return I===D?S:_e[H].mediaBox.topRightY-_e[H].mediaBox.bottomLeftY-ne(S)},Fc=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(S){return O(fi(S))},Ko=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(S){return O(xs(S))},di=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Ln(di)},b.__private__.setStrokeColor=b.setDrawColor=function(S,q,he,ge){return di=hr({ch1:S,ch2:q,ch3:he,ch4:ge,pdfColorType:"draw",precision:2}),P(di),this};var Jo=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Ln(Jo)},b.__private__.setFillColor=b.setFillColor=function(S,q,he,ge){return Jo=hr({ch1:S,ch2:q,ch3:he,ch4:ge,pdfColorType:"fill",precision:2}),P(Jo),this};var fa=n.textColor||"0 g",Mu=b.__private__.getTextColor=b.getTextColor=function(){return Ln(fa)};b.__private__.setTextColor=b.setTextColor=function(S,q,he,ge){return fa=hr({ch1:S,ch2:q,ch3:he,ch4:ge,pdfColorType:"text",precision:3}),this};var Si=n.charSpace,Vl=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Si||0)};b.__private__.setCharSpace=b.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Si=S,this};var Fl=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(S){var q=b.CapJoinStyles[S];if(q===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fl=q,P(q+" J"),this};var us=0;b.__private__.setLineJoin=b.setLineJoin=function(S){var q=b.CapJoinStyles[S];if(q===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return us=q,P(q+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return P(O(ne(S))+" M"),this},b.GState=Ap,b.setGState=function(S){(S=typeof S=="string"?Lt[It[S]]:da(null,S)).equals(bn)||(P("/"+S.id+" gs"),bn=S)};var da=function(S,q){if(!S||!It[S]){var he=!1;for(var ge in Lt)if(Lt.hasOwnProperty(ge)&&Lt[ge].equals(q)){he=!0;break}if(he)q=Lt[ge];else{var Ce="GS"+(Object.keys(Lt).length+1).toString(10);Lt[Ce]=q,q.id=Ce}return S&&(It[S]=q.id),it.publish("addGState",q),q}};b.addGState=function(S,q){return da(S,q),this},b.saveGraphicsState=function(){return P("q"),Tt.push({key:dt,size:Le,color:fa}),this},b.restoreGraphicsState=function(){P("Q");var S=Tt.pop();return dt=S.key,Le=S.size,fa=S.color,bn=null,this},b.setCurrentTransformationMatrix=function(S){return P(S.toString()+" cm"),this},b.comment=function(S){return P("#"+S),this};var Ni=function(S,q){var he=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(We){isNaN(We)||(he=parseFloat(We))}});var ge=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(We){isNaN(We)||(ge=parseFloat(We))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(We){Ce=We.toString()}}),this},Da=function(S,q,he,ge){Ni.call(this,S,q),this.type="rect";var Ce=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(Je){isNaN(Je)||(Ce=parseFloat(Je))}});var We=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(Je){isNaN(Je)||(We=parseFloat(Je))}}),this},Bl=function(){this.page=bt,this.currentPage=H,this.pages=Ve.slice(0),this.pagesContext=_e.slice(0),this.x=ft,this.y=hn,this.matrix=Xt,this.width=Ia(H),this.height=Bc(H),this.outputDestination=et,this.id="",this.objectNumber=-1};Bl.prototype.restore=function(){bt=this.page,H=this.currentPage,_e=this.pagesContext,Ve=this.pages,ft=this.x,hn=this.y,Xt=this.matrix,tl(H,this.width),Va(H,this.height),et=this.outputDestination};var el=function(S,q,he,ge,Ce){At.push(new Bl),bt=H=0,Ve=[],ft=S,hn=q,Xt=Ce,tr([he,ge])};for(var Ra in b.beginFormObject=function(S,q,he,ge,Ce){return el(S,q,he,ge,Ce),this},b.endFormObject=function(S){return(function(q){if(pt[q])At.pop().restore();else{var he=new Bl,ge="Xo"+(Object.keys(rt).length+1).toString(10);he.id=ge,pt[q]=ge,rt[ge]=he,it.publish("addFormObject",he),At.pop().restore()}})(S),this},b.doFormObject=function(S,q){var he=rt[pt[S]];return P("q"),P(q.toString()+" cm"),P("/"+he.id+" Do"),P("Q"),this},b.getFormObject=function(S){var q=rt[pt[S]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},b.save=function(S,q){return S=S||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(ou(ha(hi()),S),typeof ou.unload=="function"&&nn.setTimeout&&setTimeout(ou.unload,911),this):new Promise(function(he,ge){try{var Ce=ou(ha(hi()),S);typeof ou.unload=="function"&&nn.setTimeout&&setTimeout(ou.unload,911),he(Ce)}catch(We){ge(We.message)}})},Ft.API)Ft.API.hasOwnProperty(Ra)&&(Ra==="events"&&Ft.API.events.length?(function(S,q){var he,ge,Ce;for(Ce=q.length-1;Ce!==-1;Ce--)he=q[Ce][0],ge=q[Ce][1],S.subscribe.apply(S,[he].concat(typeof ge=="function"?[ge]:ge))})(it,Ft.API.events):b[Ra]=Ft.API[Ra]);function Ia(S){return _e[S].mediaBox.topRightX-_e[S].mediaBox.bottomLeftX}function tl(S,q){_e[S].mediaBox.topRightX=q+_e[S].mediaBox.bottomLeftX}function Bc(S){return _e[S].mediaBox.topRightY-_e[S].mediaBox.bottomLeftY}function Va(S,q){_e[S].mediaBox.topRightY=q+_e[S].mediaBox.bottomLeftY}var Fa=b.getPageWidth=function(S){return Ia(S=S||H)/xt},Lu=b.setPageWidth=function(S,q){tl(S,q*xt)},Ba=b.getPageHeight=function(S){return Bc(S=S||H)/xt},Ou=b.setPageHeight=function(S,q){Va(S,q*xt)};return b.internal={pdfEscape:Zn,getStyle:Oc,getFont:Xi,getFontSize:He,getCharSpace:Vl,getTextColor:Mu,getLineHeight:ju,getLineHeightFactor:Eu,getLineWidth:_o,write:Ae,getHorizontalCoordinate:fi,getVerticalCoordinate:xs,getCoordinateString:Fc,getVerticalCoordinateString:Ko,collections:{},newObject:Gt,newAdditionalObject:Vn,newObjectDeferred:fn,newObjectDeferredBegin:dn,getFilters:Mr,putStream:Cn,events:it,scaleFactor:xt,pageSize:{getWidth:function(){return Fa(H)},setWidth:function(S){Lu(H,S)},getHeight:function(){return Ba(H)},setHeight:function(S){Ou(H,S)}},encryptionOptions:p,encryption:zr,getEncryptor:function(S){return p!==null?zr.encryptor(S,0):function(q){return q}},output:xo,getNumberOfPages:wi,get pages(){return Ve},out:P,f2:j,f3:V,getPageInfo:Lr,getPageInfoByObjId:wo,getCurrentPageInfo:Il,getPDFVersion:N,Point:Ni,Rectangle:Da,Matrix:ot,hasHotfix:cs},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Fa(H)},set:function(S){Lu(H,S)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ba(H)},set:function(S){Ou(H,S)},enumerable:!0,configurable:!0}),(function(S){for(var q=0,he=Be.length;q<he;q++){var ge=yr.call(this,S[q][0],S[q][1],S[q][2],Be[q][3],!0);y===!1&&(_[ge]=!0);var Ce=S[q][0].split("-");Wt({id:ge,fontName:Ce[0],fontStyle:Ce[1]||""})}it.publish("addFonts",{fonts:Nt,dictionary:St})}).call(b,Be),dt="F1",xr(a,t),it.publish("initialized"),b}vh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},vh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},vh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},vh.prototype.processOwnerPassword=function(n,e){return Ng(Sg(e).substr(0,5),n)},vh.prototype.encryptor=function(n,e){var t=Sg(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return Ng(t,s)}},Ap.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||er(n)!==er(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;s++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},Ft.API={events:[]},Ft.version="3.0.4";var es=Ft.API,D2=1,Au=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},un=function(n){return n.toFixed(2)},vc=function(n){return n.toFixed(5)};es.__acroform__={};var Yi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},tx=function(n){return n*D2},Po=function(n){var e=new h4,t=Mt.internal.getHeight(n)||0,s=Mt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(un(s)),Number(un(t))],e},IM=es.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},VM=es.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},FM=es.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},is=es.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return FM(n,e-1)},as=es.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return IM(n,e-1)},os=es.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return VM(n,e-1)},BM=es.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=s(o+c)||0,f.upperRight_X=t(a+u)||0,f.upperRight_Y=s(o)||0,[Number(un(f.lowerLeft_X)),Number(un(f.lowerLeft_Y)),Number(un(f.upperRight_X)),Number(un(f.upperRight_Y))]},zM=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,s=Ag(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+un(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Po(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Ag=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(j){return j.split(`
`)}):a.map(function(j){return[j]});var o=t,u=Mt.internal.getHeight(n)||0;u=u<0?-u:u;var c=Mt.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(j,V,ne){if(j+1<a.length){var W=V+" "+a[j+1][0];return V1(W,n,ne).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,p,y=V1("3",n,o).height,_=n.multiline?u-o:(u-y)/2,b=_+=2,A=0,N=0,k=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+V1(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var C="",R=0,D=0;D<a.length;D++)if(a.hasOwnProperty(D)){var I=!1;if(a[D].length!==1&&k!==a[D].length-1){if((y+2)*(R+2)+2>u)continue e;C+=a[D][k],I=!0,N=D,D--}else{C=(C+=a[D][k]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var F=parseInt(D),Y=f(F,C,o),G=D>=a.length-1;if(Y&&!G){C+=" ",k=0;continue}if(Y||G){if(G)N=F;else if(n.multiline&&(y+2)*(R+2)+2>u)continue e}else{if(!n.multiline||(y+2)*(R+2)+2>u)continue e;N=F}}for(var O="",B=A;B<=N;B++){var K=a[B];if(n.multiline){if(B===N){O+=K[k]+" ",k=(k+1)%K.length;continue}if(B===A){O+=K[K.length-1]+" ";continue}}O+=K[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,p=V1(O,n,o).width,n.textAlign){case"right":d=c-p-2;break;case"center":d=(c-p)/2;break;default:d=2}e+=un(d)+" "+un(b)+` Td
`,e+="("+Au(O)+`) Tj
`,e+=-un(d)+` 0 Td
`,b=-(o+2),p=0,A=I?N:N+1,R++,C=""}break}return s.text=e,s.fontSize=o,s},V1=function(n,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},PM={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qM=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(s){return s.type===t.type&&s.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},UM=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(bo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(PM)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new f4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];o.objId=void 0,o.hasAnnotation&&qM(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(s,a){var o=!s;for(var u in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(u)){var c=s[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=BM(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Mt.createDefaultAppearanceStream(c),er(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=zM(c);f.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var y="";for(var _ in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(_)){var b=c.appearanceStreamContent[_];if(y+="/"+_+" ",y+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var A=b[u];typeof A=="function"&&(A=A.call(a,c)),y+="/"+u+" "+A+" ",a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A)}}else typeof(A=b)=="function"&&(A=A.call(a,c)),y+="/"+u+" "+A,a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A);y+=">>"}f.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(N,k){for(var C in N)if(N.hasOwnProperty(C)){var R=C,D=N[C];k.internal.newObjectDeferredBegin(D.objId,!0),er(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete N[R]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},u4=es.__acroform__.arrayToPdfArray=function(n,e,t){var s=function(u){return u};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),er(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),a+="("+Au(s(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zm=function(n,e,t){var s=function(a){return a};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Au(s(n))+")"},qo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qo.prototype.toString=function(){return this.objId+" 0 R"},qo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},qo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],a=this[s];a&&(Array.isArray(a)?n.push({key:s,value:u4(a,this.objId,this.scope)}):a instanceof qo?(a.scope=this.scope,n.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:s,value:a}))}return n};var h4=function(){qo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Yi(h4,qo);var f4=function(){qo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Au(t(n))+")"}},set:function(t){n=t}})};Yi(f4,qo);var bo=function n(){qo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!is(e,3)},set:function(C){C?this.F=as(e,3):this.F=os(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(C){s=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(C){s[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(C){s[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(C){s[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(C){s[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Tp)return;o="FieldObject"+n.FieldNum++}var C=function(R){return R};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Au(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/D2:d},set:function(C){d=C}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(C){p=C}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Tp||this instanceof pu))return zm(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=C}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof zs==0?zm(_,this.objId,this.scope):_},set:function(C){C=C.toString(),_=this instanceof zs==0?C.substr(0,1)==="("?mh(C.substr(1,C.length-2)):mh(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zs==1?mh(_.substr(1,_.length-1)):_},set:function(C){C=C.toString(),_=this instanceof zs==1?"/"+C:C}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof zs==0?zm(b,this.objId,this.scope):b},set:function(C){C=C.toString(),b=this instanceof zs==0?C.substr(0,1)==="("?mh(C.substr(1,C.length-2)):mh(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zs==1?mh(b.substr(1,b.length-1)):b},set:function(C){C=C.toString(),b=this instanceof zs==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(C){C=!!C,N=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(C){A=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,1)},set:function(C){C?this.Ff=as(this.Ff,1):this.Ff=os(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,2)},set:function(C){C?this.Ff=as(this.Ff,2):this.Ff=os(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,3)},set:function(C){C?this.Ff=as(this.Ff,3):this.Ff=os(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');k=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(k){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Yi(bo,qo);var kh=function(){bo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return u4(e,this.objId,this.scope)},set:function(t){var s,a;a=[],typeof(s=t)=="string"&&(a=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,18)},set:function(t){t?this.Ff=as(this.Ff,18):this.Ff=os(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=as(this.Ff,19):this.Ff=os(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,20)},set:function(t){t?(this.Ff=as(this.Ff,20),e.sort()):this.Ff=os(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,22)},set:function(t){t?this.Ff=as(this.Ff,22):this.Ff=os(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,23)},set:function(t){t?this.Ff=as(this.Ff,23):this.Ff=os(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,27)},set:function(t){t?this.Ff=as(this.Ff,27):this.Ff=os(this.Ff,27)}}),this.hasAppearanceStream=!1};Yi(kh,bo);var jh=function(){kh.call(this),this.fontName="helvetica",this.combo=!1};Yi(jh,kh);var Eh=function(){jh.call(this),this.combo=!0};Yi(Eh,jh);var Y1=function(){Eh.call(this),this.edit=!0};Yi(Y1,Eh);var zs=function(){bo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,15)},set:function(t){t?this.Ff=as(this.Ff,15):this.Ff=os(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,16)},set:function(t){t?this.Ff=as(this.Ff,16):this.Ff=os(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,17)},set:function(t){t?this.Ff=as(this.Ff,17):this.Ff=os(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,26)},set:function(t){t?this.Ff=as(this.Ff,26):this.Ff=os(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+Au(t(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){er(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Yi(zs,bo);var $1=function(){zs.call(this),this.pushButton=!0};Yi($1,zs);var Mh=function(){zs.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Yi(Mh,zs);var Tp=function(){var n,e;bo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),s)u.push("/"+o+" ("+Au(a(s[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){er(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Yi(Tp,bo),Mh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Mh.prototype.createOption=function(n){var e=new Tp;return e.Parent=this,e.optionName=n,this.Kids.push(e),HM.call(this.scope,e),e};var X1=function(){zs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mt.CheckBox.createAppearanceStream()};Yi(X1,zs);var pu=function(){bo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,13)},set:function(e){e?this.Ff=as(this.Ff,13):this.Ff=os(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,21)},set:function(e){e?this.Ff=as(this.Ff,21):this.Ff=os(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,23)},set:function(e){e?this.Ff=as(this.Ff,23):this.Ff=os(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,24)},set:function(e){e?this.Ff=as(this.Ff,24):this.Ff=os(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,25)},set:function(e){e?this.Ff=as(this.Ff,25):this.Ff=os(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,26)},set:function(e){e?this.Ff=as(this.Ff,26):this.Ff=os(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Yi(pu,bo);var Z1=function(){pu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!is(this.Ff,14)},set:function(n){n?this.Ff=as(this.Ff,14):this.Ff=os(this.Ff,14)}}),this.password=!0};Yi(Z1,pu);var Mt={CheckBox:{createAppearanceStream:function(){return{N:{On:Mt.CheckBox.YesNormal},D:{On:Mt.CheckBox.YesPushDown,Off:Mt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=Ag(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+un(Mt.internal.getWidth(n))+" "+un(Mt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+un(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Po(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),a=[],o=Mt.internal.getHeight(n),u=Mt.internal.getWidth(n),c=Ag(n,n.caption);return a.push("1 g"),a.push("0 0 "+un(u)+" "+un(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+un(u-1)+" "+un(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+un(c.fontSize)+" Tf "+s),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+un(Mt.internal.getWidth(n))+" "+un(Mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Mt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Mt.RadioButton.Circle.YesNormal,e.D[n]=Mt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=Mt.internal.getWidth(n)<=Mt.internal.getHeight(n)?Mt.internal.getWidth(n)/4:Mt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Mt.internal.Bezier_C,o=Number((s*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+vc(Mt.internal.getWidth(n)/2)+" "+vc(Mt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=Mt.internal.getWidth(n)<=Mt.internal.getHeight(n)?Mt.internal.getWidth(n)/4:Mt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Mt.internal.Bezier_C).toFixed(5)),u=Number((s*Mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vc(Mt.internal.getWidth(n)/2)+" "+vc(Mt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+vc(Mt.internal.getWidth(n)/2)+" "+vc(Mt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+u+" "+u+" "+s+" 0 "+s+" c"),t.push("-"+u+" "+s+" -"+s+" "+u+" -"+s+" 0 c"),t.push("-"+s+" -"+u+" -"+u+" -"+s+" 0 -"+s+" c"),t.push(u+" -"+s+" "+s+" -"+u+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=Mt.internal.getWidth(n)<=Mt.internal.getHeight(n)?Mt.internal.getWidth(n)/4:Mt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Mt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+vc(Mt.internal.getWidth(n)/2)+" "+vc(Mt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Mt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Mt.RadioButton.Cross.YesNormal,e.D[n]=Mt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=Mt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+un(Mt.internal.getWidth(n)-2)+" "+un(Mt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(un(s.x1.x)+" "+un(s.x1.y)+" m"),t.push(un(s.x2.x)+" "+un(s.x2.y)+" l"),t.push(un(s.x4.x)+" "+un(s.x4.y)+" m"),t.push(un(s.x3.x)+" "+un(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=Mt.internal.calculateCross(n),s=[];return s.push("0.749023 g"),s.push("0 0 "+un(Mt.internal.getWidth(n))+" "+un(Mt.internal.getHeight(n))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+un(Mt.internal.getWidth(n)-2)+" "+un(Mt.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(un(t.x1.x)+" "+un(t.x1.y)+" m"),s.push(un(t.x2.x)+" "+un(t.x2.y)+" l"),s.push(un(t.x4.x)+" "+un(t.x4.y)+" m"),s.push(un(t.x3.x)+" "+un(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+un(Mt.internal.getWidth(n))+" "+un(Mt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Mt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Mt.internal.getWidth(n),t=Mt.internal.getHeight(n),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},Mt.internal.getWidth=function(n){var e=0;return er(n)==="object"&&(e=tx(n.Rect[2])),e},Mt.internal.getHeight=function(n){var e=0;return er(n)==="object"&&(e=tx(n.Rect[3])),e};var HM=es.addField=function(n){if(UM(this,n),!(n instanceof bo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};es.AcroFormChoiceField=kh,es.AcroFormListBox=jh,es.AcroFormComboBox=Eh,es.AcroFormEditBox=Y1,es.AcroFormButton=zs,es.AcroFormPushButton=$1,es.AcroFormRadioButton=Mh,es.AcroFormCheckBox=X1,es.AcroFormTextField=pu,es.AcroFormPasswordField=Z1,es.AcroFormAppearance=Mt,es.AcroForm={ChoiceField:kh,ListBox:jh,ComboBox:Eh,EditBox:Y1,Button:zs,PushButton:$1,RadioButton:Mh,CheckBox:X1,TextField:pu,PasswordField:Z1,Appearance:Mt},Ft.AcroForm={ChoiceField:kh,ListBox:jh,ComboBox:Eh,EditBox:Y1,Button:zs,PushButton:$1,RadioButton:Mh,CheckBox:X1,TextField:pu,PasswordField:Z1,Appearance:Mt};Ft.AcroForm;function d4(n){return n.reduce(function(e,t,s){return e[t]=s,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(j,V){var ne,W,oe,$,te,le=t;if((V=V||t)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(Y(j))for(te in s)for(oe=s[te],ne=0;ne<oe.length;ne+=1){for($=!0,W=0;W<oe[ne].length;W+=1)if(oe[ne][W]!==void 0&&oe[ne][W]!==j[W]){$=!1;break}if($===!0){le=te;break}}else for(te in s)for(oe=s[te],ne=0;ne<oe.length;ne+=1){for($=!0,W=0;W<oe[ne].length;W+=1)if(oe[ne][W]!==void 0&&oe[ne][W]!==j.charCodeAt(W)){$=!1;break}if($===!0){le=te;break}}return le===t&&V!==t&&(le=V),le},o=function j(V){for(var ne=this.internal.write,W=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);V.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:V.width}),$.push({key:"Height",value:V.height}),V.colorSpace===C.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(V.palette.length/3-1)+" "+("sMask"in V&&V.sMask!==void 0?V.objectId+2:V.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+V.colorSpace}),V.colorSpace===C.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:V.bitsPerComponent}),"decodeParameters"in V&&V.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+V.decodeParameters+">>"}),"transparency"in V&&Array.isArray(V.transparency)&&V.transparency.length>0){for(var te="",le=0,pe=V.transparency.length;le<pe;le++)te+=V.transparency[le]+" "+V.transparency[le]+" ";$.push({key:"Mask",value:"["+te+"]"})}V.sMask!==void 0&&$.push({key:"SMask",value:V.objectId+1+" 0 R"});var be=V.filter!==void 0?["/"+V.filter]:void 0;if(W({data:V.data,additionalKeyValues:$,alreadyAppliedFilters:be,objectId:V.objectId}),ne("endobj"),"sMask"in V&&V.sMask!==void 0){var z,M=(z=V.sMaskBitsPerComponent)!==null&&z!==void 0?z:V.bitsPerComponent,H={width:V.width,height:V.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:V.sMask};"filter"in V&&(H.decodeParameters="/Predictor ".concat(V.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(V.width),H.filter=V.filter),j.call(this,H)}if(V.colorSpace===C.INDEXED){var J=this.internal.newObject();W({data:O(new Uint8Array(V.palette)),objectId:J}),ne("endobj")}},u=function(){var j=this.internal.collections[e+"images"];for(var V in j)o.call(this,j[V])},c=function(){var j,V=this.internal.collections[e+"images"],ne=this.internal.write;for(var W in V)ne("/I"+(j=V[W]).index,j.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var j=this.internal.collections[e+"images"];return f.call(this),j},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(j){return typeof n["process"+j.toUpperCase()]=="function"},_=function(j){return er(j)==="object"&&j.nodeType===1},b=function(j,V){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var ne=""+j.getAttribute("src");if(ne.indexOf("data:image/")===0)return G1(unescape(ne).split("base64,").pop());var W=n.loadFile(ne,!0);if(W!==void 0)return W}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var oe;switch(V){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return G1(j.toDataURL(oe,1).split("base64,").pop())}},A=function(j){var V=this.internal.collections[e+"images"];if(V){for(var ne in V)if(j===V[ne].alias)return V[ne]}},N=function(j,V,ne){return j||V||(j=-96,V=-96),j<0&&(j=-1*ne.width*72/j/this.internal.scaleFactor),V<0&&(V=-1*ne.height*72/V/this.internal.scaleFactor),j===0&&(j=V*ne.width/ne.height),V===0&&(V=j*ne.height/ne.width),[j,V]},k=function(j,V,ne,W,oe,$){var te=N.call(this,ne,W,oe),le=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,be=d.call(this);if(ne=te[0],W=te[1],be[oe.index]=oe,$){$*=Math.PI/180;var z=Math.cos($),M=Math.sin($),H=function(Q){return Q.toFixed(4)},J=[H(z),H(M),H(-1*M),H(z),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,le(j),pe(V+W),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([le(ne),"0","0",le(W),"0","0","cm"].join(" "))):this.internal.write([le(ne),"0","0",le(W),le(j),pe(V+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=n.__addimage__.sHashCode=function(j){var V,ne,W=0;if(typeof j=="string")for(ne=j.length,V=0;V<ne;V++)W=(W<<5)-W+j.charCodeAt(V),W|=0;else if(Y(j))for(ne=j.byteLength/2,V=0;V<ne;V++)W=(W<<5)-W+j[V],W|=0;return W},I=n.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var V=!0;return j.length===0&&(V=!1),j.length%4!=0&&(V=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(V=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(V=!1),V},F=n.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var V=j.indexOf(",");return V<0?null:j.substring(0,V).trim().endsWith("base64")?j.substring(V+1):null};n.__addimage__.isArrayBuffer=function(j){return j instanceof ArrayBuffer};var Y=n.__addimage__.isArrayBufferView=function(j){return j instanceof Int8Array||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array},G=n.__addimage__.binaryStringToUint8Array=function(j){for(var V=j.length,ne=new Uint8Array(V),W=0;W<V;W++)ne[W]=j.charCodeAt(W);return ne},O=n.__addimage__.arrayBufferToBinaryString=function(j){for(var V="",ne=Y(j)?j:new Uint8Array(j),W=0;W<ne.length;W+=8192)V+=String.fromCharCode.apply(null,ne.subarray(W,W+8192));return V};n.addImage=function(){var j,V,ne,W,oe,$,te,le,pe;if(typeof arguments[1]=="number"?(V=t,ne=arguments[1],W=arguments[2],oe=arguments[3],$=arguments[4],te=arguments[5],le=arguments[6],pe=arguments[7]):(V=arguments[1],ne=arguments[2],W=arguments[3],oe=arguments[4],$=arguments[5],te=arguments[6],le=arguments[7],pe=arguments[8]),er(j=arguments[0])==="object"&&!_(j)&&"imageData"in j){var be=j;j=be.imageData,V=be.format||V||t,ne=be.x||ne||0,W=be.y||W||0,oe=be.w||be.width||oe,$=be.h||be.height||$,te=be.alias||te,le=be.compression||le,pe=be.rotation||be.angle||pe}var z=this.internal.getFilters();if(le===void 0&&z.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(ne)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var M=B.call(this,j,V,te,le);return k.call(this,ne,W,oe,$,M,pe),this};var B=function(j,V,ne,W){var oe,$,te;if(typeof j=="string"&&a(j)===t){j=unescape(j);var le=K(j,!1);(le!==""||(le=n.loadFile(j,!0))!==void 0)&&(j=le)}if(_(j)&&(j=b(j,V)),V=a(j,V),!y(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(((te=ne)==null||te.length===0)&&(ne=(function(pe){return typeof pe=="string"||Y(pe)?D(pe):Y(pe.data)?D(pe.data):null})(j)),(oe=A.call(this,ne))||(j instanceof Uint8Array||V==="RGBA"||($=j,j=G(j)),oe=this["process"+V.toUpperCase()](j,p.call(this),ne,(function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in n.image_compression?pe:R.NONE})(W),$)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},K=n.__addimage__.convertBase64ToBinaryString=function(j,V){V=typeof V!="boolean"||V;var ne,W="";if(typeof j=="string"){var oe;ne=(oe=F(j))!==null&&oe!==void 0?oe:j;try{W=G1(ne)}catch($){if(V)throw I(ne)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};n.getImageProperties=function(j){var V,ne,W="";if(_(j)&&(j=b(j)),typeof j=="string"&&a(j)===t&&((W=K(j,!1))===""&&(W=n.loadFile(j)||""),j=W),ne=a(j),!y(ne))throw new Error("addImage does not support files of type '"+ne+"', please ensure that a plugin for '"+ne+"' support is added.");if(j instanceof Uint8Array||(j=G(j)),!(V=this["process"+ne.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return V.fileType=ne,V}})(Ft.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Ft.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var s,a,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,p=!1,y=0;y<d.length&&!p;y++)switch((s=d[y]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var _=0;_<d.length;_++){s=d[_];var b=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(N.objId),R=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(s.bounds.x)+" "+c(s.bounds.y+s.bounds.h)+" "+u(s.bounds.x+s.bounds.w)+" "+c(s.bounds.y)+"] ")+"/Contents ("+b(C(s.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(C(R))+") >>",N.content=o;var D=N.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(s.bounds.x+30)+" "+c(s.bounds.y+s.bounds.h)+" "+u(s.bounds.x+s.bounds.w+30)+" "+c(s.bounds.y)+"] ")+" /Parent "+D,s.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(N.objId,"0 R",k.objId,"0 R");break;case"freetext":a="/Rect ["+u(s.bounds.x)+" "+c(s.bounds.y)+" "+u(s.bounds.x+s.bounds.w)+" "+c(s.bounds.y+s.bounds.h)+"] ";var I=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(A(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var F=this.annotations._nameMap[s.options.name];s.options.pageNumber=F.page,s.options.top=F.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(A(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var Y=c(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+Y+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},n.link=function(t,s,a,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(s),w:f(t+a),h:d(s+o)},options:u,type:"link"})},n.textWithLink=function(t,s,a,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var p=this.splitTextToSize(t,c).length;u=Math.ceil(d*p)}else c=f,u=d;return this.text(t,s,a,o),a+=.2*d,o.align==="center"&&(s-=f/2),o.align==="right"&&(s-=f),this.link(s,a-d,c,u,o),f},n.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(Ft.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=n.__arabicParser__.isArabicEndLetter=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(N){return u(N)&&a.indexOf(N.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(N){var k=0,C=t,R="",D=0;for(k=0;k<N.length;k+=1)C[N.charCodeAt(k)]!==void 0?(D++,typeof(C=C[N.charCodeAt(k)])=="number"&&(R+=String.fromCharCode(C),C=t,D=0),k===N.length-1&&(C=t,R+=N.charAt(k-(D-1)),k-=D-1,D=0)):(C=t,R+=N.charAt(k-D),k-=D,D=0);return R};n.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&s[N.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(N,k,C){return u(N)?o(N)===!1?-1:!d(N)||!u(k)&&!u(C)||!u(C)&&c(k)||c(N)&&!u(k)||c(N)&&f(k)||c(N)&&c(k)?0:p(N)&&u(k)&&!c(k)&&u(C)&&d(C)?3:c(N)||!u(C)?1:2:-1},b=function(N){var k=0,C=0,R=0,D="",I="",F="",Y=(N=N||"").split("\\s+"),G=[];for(k=0;k<Y.length;k+=1){for(G.push(""),C=0;C<Y[k].length;C+=1)D=Y[k][C],I=Y[k][C-1],F=Y[k][C+1],u(D)?(R=_(D,I,F),G[k]+=R!==-1?String.fromCharCode(e[D.charCodeAt(0)][R]):D):G[k]+=D;G[k]=y(G[k])}return G.join(" ")},A=n.__arabicParser__.processArabic=n.processArabic=function(){var N,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(k)){var R=0;for(C=[],R=0;R<k.length;R+=1)Array.isArray(k[R])?C.push([b(k[R][0]),k[R][1],k[R][2]]):C.push([b(k[R])]);N=C}else N=b(k);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};n.events.push(["preProcessText",A])})(Ft.API),Ft.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var a;if((t=t||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ft.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(N){_=N}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(N){b=N}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(N){A=N}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return s.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){s.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),_=d.scaleFactor||this.internal.scaleFactor,b=0,A=0,N=0,k=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var C=d.maxWidth;C>0?typeof f=="string"?f=this.splitTextToSize(f,C):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(D,I){return D.concat(k.splitTextToSize(I,C))},[])):f=Array.isArray(f)?f:[f];for(var R=0;R<f.length;R++)b<(N=this.getStringUnitWidth(f[R],{font:y})*p)&&(b=N);return b!==0&&(A=f.length),{w:b/=_,h:Math.max((A*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){s.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=y.top,b&&_&&(this.printHeaderRow(f.lineNumber,!0),f.y+=_[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-p,f.y+p,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+p,{align:"center",baseline:"top",maxWidth:f.width-p-p}):this.text(f.text,f.x+p,f.y+p,{align:"left",baseline:"top",maxWidth:f.width-p-p})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,p,y,_){if(s.call(this),!p)throw new Error("No data for PDF table.");var b,A,N,k,C=[],R=[],D=[],I={},F={},Y=[],G=[],O=(_=_||{}).autoSize||!1,B=_.printHeaders!==!1,K=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,j=_.margins||Object.assign({width:this.getPageWidth()},e),V=typeof _.padding=="number"?_.padding:3,ne=_.headerBackgroundColor||"#c8c8c8",W=_.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=V,this.internal.__cell__.headerBackgroundColor=ne,this.internal.__cell__.headerTextColor=W,this.setFontSize(K),y==null)R=C=Object.keys(p[0]),D=C.map(function(){return"left"});else if(Array.isArray(y)&&er(y[0])==="object")for(C=y.map(function(be){return be.name}),R=y.map(function(be){return be.prompt||be.name||""}),D=y.map(function(be){return be.align||"left"}),b=0;b<y.length;b+=1)F[y[b].name]=.7499990551181103*y[b].width;else Array.isArray(y)&&typeof y[0]=="string"&&(R=C=y,D=C.map(function(){return"left"}));if(O||Array.isArray(y)&&typeof y[0]=="string")for(b=0;b<C.length;b+=1){for(I[k=C[b]]=p.map(function(be){return be[k]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(R[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=I[k],this.setFont(void 0,"normal"),N=0;N<A.length;N+=1)Y.push(this.getTextDimensions(A[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[k]=Math.max.apply(null,Y)+V+V,Y=[]}if(B){var oe={};for(b=0;b<C.length;b+=1)oe[C[b]]={},oe[C[b]].text=R[b],oe[C[b]].align=D[b];var $=c.call(this,oe,F);G=C.map(function(be){return new o(f,d,F[be],$,oe[be].text,void 0,oe[be].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var te=y.reduce(function(be,z){return be[z.name]=z.align,be},{});for(b=0;b<p.length;b+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:b,data:p[b]},this);var le=c.call(this,p[b],F);for(N=0;N<C.length;N+=1){var pe=p[b][C[N]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:b,col:N,data:pe},this),u.call(this,new o(f,d,F[C[N]],le,pe,b+2,te[C[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var p=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(f).map(function(b){var A=f[b];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,d[b]-p-p)},this).map(function(b){return this.getLineHeightFactor()*b.length*y/_+p+p},this).reduce(function(b,A){return Math.max(b,A)},0)};n.setTableHeaderRow=function(f){s.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){p=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,_.push(p)),p.lineNumber=f;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,p),this.setTextColor(A)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(Ft.API);var p4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},m4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Tg=d4(m4),g4=[100,200,300,400,500,600,700,800,900],WM=d4(g4);function Pm(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return p4[o=o||"normal"]?o:"normal"})(n.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof Tg[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:s,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,s].join(" ")}}}function nx(n,e,t,s){var a;for(a=t;a>=0&&a<e.length;a+=s)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=s)if(n[e[a]])return n[e[a]]}var GM={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sx(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function ix(n){return n.trimLeft()}function YM(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function $M(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var F1,ax,ox,gh,B1,lx,cx,ux,qm=["times"];function hx(n,e,t,s,a){var o=4,u=dx;switch(a){case Ft.API.image_compression.FAST:o=1,u=fx;break;case Ft.API.image_compression.MEDIUM:o=6,u=px;break;case Ft.API.image_compression.SLOW:o=9,u=mx}n=(function(f,d,p,y){for(var _,b=f.length/d,A=new Uint8Array(f.length+b),N=[XM,fx,dx,px,mx],k=0;k<b;k+=1){var C=k*d,R=f.subarray(C,C+d);if(y)A.set(y(R,p,_),C+k);else{for(var D=N.length,I=[],F=0;F<D;F+=1)I[F]=N[F](R,p,_);var Y=QM(I.concat());A.set(I[Y],C+k)}_=R}return A})(n,e,Math.ceil(t*s/8),u);var c=yg(n,{level:o});return Ft.API.__addimage__.arrayBufferToBinaryString(c)}function XM(n){var e=Array.apply([],n);return e.unshift(0),e}function fx(n,e){var t=n.length,s=[];s[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;s[a+1]=n[a]-o+256&255}return s}function dx(n,e,t){var s=n.length,a=[];a[0]=2;for(var o=0;o<s;o+=1){var u=t&&t[o]||0;a[o+1]=n[o]-u+256&255}return a}function px(n,e,t){var s=n.length,a=[];a[0]=3;for(var o=0;o<s;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;a[o+1]=n[o]+256-(u+c>>>1)&255}return a}function mx(n,e,t){var s=n.length,a=[];a[0]=4;for(var o=0;o<s;o+=1){var u=ZM(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-u+256&255}return a}function ZM(n,e,t){if(n===e&&e===t)return n;var s=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return s<=a&&s<=o?n:a<=o?e:t}function QM(n){var e=n.map(function(t){return t.reduce(function(s,a){return s+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Um(n,e,t){var s=e*t,a=Math.floor(s/8),o=16-(s-8*a+t),u=(1<<t)-1;return b4(n,a)>>o&u}function gx(n,e,t,s){var a=t*s,o=Math.floor(a/8),u=16-(a-8*o+s),c=(1<<s)-1,f=(e&c)<<u;(function(d,p,y){if(p+1<d.byteLength)d.setUint16(p,y,!1);else{var _=y>>8&255;d.setUint8(p,_)}})(n,o,b4(n,o)&~(c<<u)&65535|f)}function b4(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function KM(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,s=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,u=1<<1+(7&a);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,p=[],y=0,_=null,b=0,A=null;for(this.width=t,this.height=s;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,A=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=n[e++];y=n[e++]|n[e++]<<8,_=n[e++],1&N||(_=null),b=N>>2&7,e++;break;case 254:for(;;){if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var k=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,R=n[e++]|n[e++]<<8,D=n[e++]|n[e++]<<8,I=n[e++],F=I>>6&1,Y=1<<1+(7&I),G=c,O=f,B=!1;I>>7&&(B=!0,G=e,O=Y,e+=3*Y);var K=e;for(e++;;){var j;if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}p.push({x:k,y:C,width:R,height:D,has_local_palette:B,palette_offset:G,palette_size:O,data_offset:K,data_length:e-K,transparent_index:_,interlaced:!!F,delay:y,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return A},this.frameInfo=function(V){if(V<0||V>=p.length)throw new Error("Frame index out of range.");return p[V]},this.decodeAndBlitFrameBGRA=function(V,ne){var W=this.frameInfo(V),oe=W.width*W.height,$=new Uint8Array(oe);bx(n,W.data_offset,$,oe);var te=W.palette_offset,le=W.transparent_index;le===null&&(le=256);var pe=W.width,be=t-pe,z=pe,M=4*(W.y*t+W.x),H=4*((W.y+W.height)*t+W.x),J=M,Q=4*be;W.interlaced===!0&&(Q+=4*t*7);for(var ae=8,fe=0,de=$.length;fe<de;++fe){var xe=$[fe];if(z===0&&(z=pe,(J+=Q)>=H&&(Q=4*be+4*t*(ae-1),J=M+(pe+be)*(ae<<1),ae>>=1)),xe===le)J+=4;else{var we=n[te+3*xe],Ve=n[te+3*xe+1],Xe=n[te+3*xe+2];ne[J++]=Xe,ne[J++]=Ve,ne[J++]=we,ne[J++]=255}--z}},this.decodeAndBlitFrameRGBA=function(V,ne){var W=this.frameInfo(V),oe=W.width*W.height,$=new Uint8Array(oe);bx(n,W.data_offset,$,oe);var te=W.palette_offset,le=W.transparent_index;le===null&&(le=256);var pe=W.width,be=t-pe,z=pe,M=4*(W.y*t+W.x),H=4*((W.y+W.height)*t+W.x),J=M,Q=4*be;W.interlaced===!0&&(Q+=4*t*7);for(var ae=8,fe=0,de=$.length;fe<de;++fe){var xe=$[fe];if(z===0&&(z=pe,(J+=Q)>=H&&(Q=4*be+4*t*(ae-1),J=M+(pe+be)*(ae<<1),ae>>=1)),xe===le)J+=4;else{var we=n[te+3*xe],Ve=n[te+3*xe+1],Xe=n[te+3*xe+2];ne[J++]=we,ne[J++]=Ve,ne[J++]=Xe,ne[J++]=255}--z}}}function bx(n,e,t,s){for(var a=n[e++],o=1<<a,u=o+1,c=u+1,f=a+1,d=(1<<f)-1,p=0,y=0,_=0,b=n[e++],A=new Int32Array(4096),N=null;;){for(;p<16&&b!==0;)y|=n[e++]<<p,p+=8,b===1?b=n[e++]:--b;if(p<f)break;var k=y&d;if(y>>=f,p-=f,k!==o){if(k===u)break;for(var C=k<c?k:N,R=0,D=C;D>o;)D=A[D]>>8,++R;var I=D;if(_+R+(C!==k?1:0)>s)return void mr.log("Warning, gif stream longer than expected.");t[_++]=I;var F=_+=R;for(C!==k&&(t[_++]=I),D=C;R--;)D=A[D],t[--F]=255&D,D>>=8;N!==null&&c<4096&&(A[c++]=N<<8|I,c>=d+1&&f<12&&(++f,d=d<<1|1)),N=k}else c=u+1,d=(1<<(f=a+1))-1,N=null}return _!==s&&mr.log("Warning, gif stream shorter than expected."),t}function Hm(n){var e,t,s,a,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),p=new Array(64),y=new Array(65535),_=new Array(65535),b=new Array(64),A=new Array(64),N=[],k=0,C=7,R=new Array(64),D=new Array(64),I=new Array(64),F=new Array(256),Y=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],V=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(M,H){for(var J=0,Q=0,ae=new Array,fe=1;fe<=16;fe++){for(var de=1;de<=M[fe];de++)ae[H[Q]]=[],ae[H[Q]][0]=J,ae[H[Q]][1]=fe,Q++,J++;J*=2}return ae}function te(M){for(var H=M[0],J=M[1]-1;J>=0;)H&1<<J&&(k|=1<<C),J--,--C<0&&(k==255?(le(255),le(0)):le(k),C=7,k=0)}function le(M){N.push(M)}function pe(M){le(M>>8&255),le(255&M)}function be(M,H,J,Q,ae){for(var fe,de=ae[0],xe=ae[240],we=(function(Le,Ke){var He,ut,at,ze,st,tt,ht,yt,dt,xt,ft=0;for(dt=0;dt<8;++dt){He=Le[ft],ut=Le[ft+1],at=Le[ft+2],ze=Le[ft+3],st=Le[ft+4],tt=Le[ft+5],ht=Le[ft+6];var hn=He+(yt=Le[ft+7]),Xt=He-yt,Nt=ut+ht,St=ut-ht,Tt=at+tt,gt=at-tt,Jt=ze+st,Lt=ze-st,It=hn+Jt,bn=hn-Jt,bt=Nt+Tt,_e=Nt-Tt;Le[ft]=It+bt,Le[ft+4]=It-bt;var it=.707106781*(_e+bn);Le[ft+2]=bn+it,Le[ft+6]=bn-it;var Ne=.382683433*((It=Lt+gt)-(_e=St+Xt)),rt=.5411961*It+Ne,pt=1.306562965*_e+Ne,At=.707106781*(bt=gt+St),ot=Xt+At,Pt=Xt-At;Le[ft+5]=Pt+rt,Le[ft+3]=Pt-rt,Le[ft+1]=ot+pt,Le[ft+7]=ot-pt,ft+=8}for(ft=0,dt=0;dt<8;++dt){He=Le[ft],ut=Le[ft+8],at=Le[ft+16],ze=Le[ft+24],st=Le[ft+32],tt=Le[ft+40],ht=Le[ft+48];var yn=He+(yt=Le[ft+56]),xn=He-yt,wn=ut+ht,Gt=ut-ht,fn=at+tt,dn=at-tt,Vn=ze+st,Fn=ze-st,Mn=yn+Vn,Ln=yn-Vn,hr=wn+fn,Mr=wn-fn;Le[ft]=Mn+hr,Le[ft+32]=Mn-hr;var Cn=.707106781*(Mr+Ln);Le[ft+16]=Ln+Cn,Le[ft+48]=Ln-Cn;var Ee=.382683433*((Mn=Fn+dn)-(Mr=Gt+xn)),Te=.5411961*Mn+Ee,Ye=1.306562965*Mr+Ee,vt=.707106781*(hr=dn+Gt),Bt=xn+vt,Rt=xn-vt;Le[ft+40]=Rt+Te,Le[ft+24]=Rt-Te,Le[ft+8]=Bt+Ye,Le[ft+56]=Bt-Ye,ft++}for(dt=0;dt<64;++dt)xt=Le[dt]*Ke[dt],b[dt]=xt>0?xt+.5|0:xt-.5|0;return b})(M,H),Ve=0;Ve<64;++Ve)A[G[Ve]]=we[Ve];var Xe=A[0]-J;J=A[0],Xe==0?te(Q[0]):(te(Q[_[fe=32767+Xe]]),te(y[fe]));for(var et=63;et>0&&A[et]==0;)et--;if(et==0)return te(de),J;for(var ct,P=1;P<=et;){for(var Ae=P;A[P]==0&&P<=et;)++P;var nt=P-Ae;if(nt>=16){ct=nt>>4;for(var Be=1;Be<=ct;++Be)te(xe);nt&=15}fe=32767+A[P],te(ae[(nt<<4)+_[fe]]),te(y[fe]),P++}return et!=63&&te(de),J}function z(M){M=Math.min(Math.max(M,1),100),o!=M&&((function(H){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ae=u((J[Q]*H+50)/100);ae=Math.min(Math.max(ae,1),255),c[G[Q]]=ae}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var xe=u((fe[de]*H+50)/100);xe=Math.min(Math.max(xe,1),255),f[G[de]]=xe}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,Xe=0;Xe<8;Xe++)for(var et=0;et<8;et++)d[Ve]=1/(c[G[Ve]]*we[Xe]*we[et]*8),p[Ve]=1/(f[G[Ve]]*we[Xe]*we[et]*8),Ve++})(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,H){H&&z(H),N=new Array,k=0,C=7,pe(65496),pe(65504),pe(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),pe(1),pe(1),le(0),le(0),(function(){pe(65499),pe(132),le(0);for(var ut=0;ut<64;ut++)le(c[ut]);le(1);for(var at=0;at<64;at++)le(f[at])})(),(function(ut,at){pe(65472),pe(17),le(8),pe(at),pe(ut),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)})(M.width,M.height),(function(){pe(65476),pe(418),le(0);for(var ut=0;ut<16;ut++)le(O[ut+1]);for(var at=0;at<=11;at++)le(B[at]);le(16);for(var ze=0;ze<16;ze++)le(K[ze+1]);for(var st=0;st<=161;st++)le(j[st]);le(1);for(var tt=0;tt<16;tt++)le(V[tt+1]);for(var ht=0;ht<=11;ht++)le(ne[ht]);le(17);for(var yt=0;yt<16;yt++)le(W[yt+1]);for(var dt=0;dt<=161;dt++)le(oe[dt])})(),pe(65498),pe(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var J=0,Q=0,ae=0;k=0,C=7,this.encode.displayName="_encode_";for(var fe,de,xe,we,Ve,Xe,et,ct,P,Ae=M.data,nt=M.width,Be=M.height,Le=4*nt,Ke=0;Ke<Be;){for(fe=0;fe<Le;){for(Ve=Le*Ke+fe,et=-1,ct=0,P=0;P<64;P++)Xe=Ve+(ct=P>>3)*Le+(et=4*(7&P)),Ke+ct>=Be&&(Xe-=Le*(Ke+1+ct-Be)),fe+et>=Le&&(Xe-=fe+et-Le+4),de=Ae[Xe++],xe=Ae[Xe++],we=Ae[Xe++],R[P]=(Y[de]+Y[xe+256|0]+Y[we+512|0]>>16)-128,D[P]=(Y[de+768|0]+Y[xe+1024|0]+Y[we+1280|0]>>16)-128,I[P]=(Y[de+1280|0]+Y[xe+1536|0]+Y[we+1792|0]>>16)-128;J=be(R,d,J,e,s),Q=be(D,p,Q,t,a),ae=be(I,p,ae,t,a),fe+=32}Ke+=8}if(C>=0){var He=[];He[1]=C+1,He[0]=(1<<C+1)-1,te(He)}return pe(65497),new Uint8Array(N)},n=n||50,(function(){for(var M=String.fromCharCode,H=0;H<256;H++)F[H]=M(H)})(),e=$(O,B),t=$(V,ne),s=$(K,j),a=$(W,oe),(function(){for(var M=1,H=2,J=1;J<=15;J++){for(var Q=M;Q<H;Q++)_[32767+Q]=J,y[32767+Q]=[],y[32767+Q][1]=J,y[32767+Q][0]=Q;for(var ae=-(H-1);ae<=-M;ae++)_[32767+ae]=J,y[32767+ae]=[],y[32767+ae][1]=J,y[32767+ae][0]=H-1+ae;M<<=1,H<<=1}})(),(function(){for(var M=0;M<256;M++)Y[M]=19595*M,Y[M+256|0]=38470*M,Y[M+512|0]=7471*M+32768,Y[M+768|0]=-11059*M,Y[M+1024|0]=-21709*M,Y[M+1280|0]=32768*M+8421375,Y[M+1536|0]=-27439*M,Y[M+1792|0]=-5329*M})(),z(n)}function so(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vx(n){function e(B){if(!B)throw Error("assert :P")}function t(B,K,j){for(var V=0;4>V;V++)if(B[K+V]!=j.charCodeAt(V))return!0;return!1}function s(B,K,j,V,ne){for(var W=0;W<ne;W++)B[K+W]=j[V+W]}function a(B,K,j,V){for(var ne=0;ne<V;ne++)B[K+ne]=j}function o(B){return new Int32Array(B)}function u(B,K){for(var j=[],V=0;V<B;V++)j.push(new K);return j}function c(B,K){var j=[];return(function V(ne,W,oe){for(var $=oe[W],te=0;te<$&&(ne.push(oe.length>W+1?[]:new K),!(oe.length<W+1));te++)V(ne[te],W+1,oe)})(j,0,B),j}var f=function(){var B=this;function K(m,x){for(var T=1<<x-1>>>0;m&T;)T>>>=1;return T?(m&T-1)+T:m}function j(m,x,T,E,U){e(!(E%T));do m[x+(E-=T)]=U;while(0<E)}function V(m,x,T,E,U){if(e(2328>=U),512>=U)var X=o(512);else if((X=o(U))==null)return 0;return(function(Z,se,ie,ue,ve,Oe){var ce,Se,je=se,qe=1<<ie,Me=o(16),Pe=o(16);for(e(ve!=0),e(ue!=null),e(Z!=null),e(0<ie),Se=0;Se<ve;++Se){if(15<ue[Se])return 0;++Me[ue[Se]]}if(Me[0]==ve)return 0;for(Pe[1]=0,ce=1;15>ce;++ce){if(Me[ce]>1<<ce)return 0;Pe[ce+1]=Pe[ce]+Me[ce]}for(Se=0;Se<ve;++Se)ce=ue[Se],0<ue[Se]&&(Oe[Pe[ce]++]=Se);if(Pe[15]==1)return(ue=new ne).g=0,ue.value=Oe[0],j(Z,je,1,qe,ue),qe;var Ge,lt=-1,Qe=qe-1,Et=0,wt=1,tn=1,Ct=1<<ie;for(Se=0,ce=1,ve=2;ce<=ie;++ce,ve<<=1){if(wt+=tn<<=1,0>(tn-=Me[ce]))return 0;for(;0<Me[ce];--Me[ce])(ue=new ne).g=ce,ue.value=Oe[Se++],j(Z,je+Et,ve,Ct,ue),Et=K(Et,ce)}for(ce=ie+1,ve=2;15>=ce;++ce,ve<<=1){if(wt+=tn<<=1,0>(tn-=Me[ce]))return 0;for(;0<Me[ce];--Me[ce]){if(ue=new ne,(Et&Qe)!=lt){for(je+=Ct,Ge=1<<(lt=ce)-ie;15>lt&&!(0>=(Ge-=Me[lt]));)++lt,Ge<<=1;qe+=Ct=1<<(Ge=lt-ie),Z[se+(lt=Et&Qe)].g=Ge+ie,Z[se+lt].value=je-se-lt}ue.g=ce-ie,ue.value=Oe[Se++],j(Z,je+(Et>>ie),ve,Ct,ue),Et=K(Et,ce)}}return wt!=2*Pe[15]-1?0:qe})(m,x,T,E,U,X)}function ne(){this.value=this.g=0}function W(){this.value=this.g=0}function oe(){this.G=u(5,ne),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Ao,W)}function $(m,x,T,E){e(m!=null),e(x!=null),e(2147483648>E),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=T,m.Jd=x,m.Yc=T+E,m.Zc=4<=E?T+E-4+1:T,de(m)}function te(m,x){for(var T=0;0<x--;)T|=we(m,128)<<x;return T}function le(m,x){var T=te(m,x);return xe(m)?-T:T}function pe(m,x,T,E){var U,X=0;for(e(m!=null),e(x!=null),e(4294967288>E),m.Sb=E,m.Ra=0,m.u=0,m.h=0,4<E&&(E=4),U=0;U<E;++U)X+=x[T+U]<<8*U;m.Ra=X,m.bb=E,m.oa=x,m.pa=T}function be(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ga-8>>>0,++m.bb,m.u-=8;Q(m)&&(m.h=1,m.u=0)}function z(m,x){if(e(0<=x),!m.h&&x<=Ys){var T=J(m)&ni[x];return m.u+=x,be(m),T}return m.h=1,m.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(m){return m.Ra>>>(m.u&ga-1)>>>0}function Q(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ga}function ae(m,x){m.u=x,m.h=Q(m)}function fe(m){m.u>=ba&&(e(m.u>=ba),be(m))}function de(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function xe(m){return te(m,1)}function we(m,x){var T=m.Ca;0>m.b&&de(m);var E=m.b,U=T*x>>>8,X=(m.I>>>E>U)+0;for(X?(T-=U,m.I-=U+1<<E>>>0):T=U+1,E=T,U=0;256<=E;)U+=8,E>>=8;return E=7^U+Wa[E],m.b-=E,m.Ca=(T<<E)-1,X}function Ve(m,x,T){m[x+0]=T>>24&255,m[x+1]=T>>16&255,m[x+2]=T>>8&255,m[x+3]=255&T}function Xe(m,x){return m[x+0]|m[x+1]<<8}function et(m,x){return Xe(m,x)|m[x+2]<<16}function ct(m,x){return Xe(m,x)|Xe(m,x+2)<<16}function P(m,x){var T=1<<x;return e(m!=null),e(0<x),m.X=o(T),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function Ae(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),s(x.X,0,m.X,0,1<<x.Xa)}function nt(){this.X=[],this.Xa=this.Mb=0}function Be(m,x,T,E){e(T!=null),e(E!=null);var U=T[0],X=E[0];return U==0&&(U=(m*X+x/2)/x),X==0&&(X=(x*U+m/2)/m),0>=U||0>=X?0:(T[0]=U,E[0]=X,1)}function Le(m,x){return m+(1<<x)-1>>>x}function Ke(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function He(m,x){B[x]=function(T,E,U,X,Z,se,ie){var ue;for(ue=0;ue<Z;++ue){var ve=B[m](se[ie+ue-1],U,X+ue);se[ie+ue]=Ke(T[E+ue],ve)}}}function ut(){this.ud=this.hd=this.jd=0}function at(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function ze(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function st(m,x){return ze(m+(m-x+.5>>1))}function tt(m,x,T){return Math.abs(x-T)-Math.abs(m-T)}function ht(m,x,T,E,U,X,Z){for(E=X[Z-1],T=0;T<U;++T)X[Z+T]=E=Ke(m[x+T],E)}function yt(m,x,T,E,U){var X;for(X=0;X<T;++X){var Z=m[x+X],se=Z>>8&255,ie=16711935&(ie=(ie=16711935&Z)+((se<<16)+se));E[U+X]=(4278255360&Z)+ie>>>0}}function dt(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function xt(m,x,T,E,U,X){var Z;for(Z=0;Z<E;++Z){var se=x[T+Z],ie=se>>>8,ue=se,ve=255&(ve=(ve=se>>>16)+((m.jd<<24>>24)*(ie<<24>>24)>>>5));ue=255&(ue=(ue+=(m.hd<<24>>24)*(ie<<24>>24)>>>5)+((m.ud<<24>>24)*(ve<<24>>24)>>>5)),U[X+Z]=(4278255360&se)+(ve<<16)+ue}}function ft(m,x,T,E,U){B[x]=function(X,Z,se,ie,ue,ve,Oe,ce,Se){for(ie=Oe;ie<ce;++ie)for(Oe=0;Oe<Se;++Oe)ue[ve++]=U(se[E(X[Z++])])},B[m]=function(X,Z,se,ie,ue,ve,Oe){var ce=8>>X.b,Se=X.Ea,je=X.K[0],qe=X.w;if(8>ce)for(X=(1<<X.b)-1,qe=(1<<ce)-1;Z<se;++Z){var Me,Pe=0;for(Me=0;Me<Se;++Me)Me&X||(Pe=E(ie[ue++])),ve[Oe++]=U(je[Pe&qe]),Pe>>=ce}else B["VP8LMapColor"+T](ie,ue,je,qe,ve,Oe,Z,se,Se)}}function hn(m,x,T,E,U){for(T=x+T;x<T;){var X=m[x++];E[U++]=X>>16&255,E[U++]=X>>8&255,E[U++]=255&X}}function Xt(m,x,T,E,U){for(T=x+T;x<T;){var X=m[x++];E[U++]=X>>16&255,E[U++]=X>>8&255,E[U++]=255&X,E[U++]=X>>24&255}}function Nt(m,x,T,E,U){for(T=x+T;x<T;){var X=(Z=m[x++])>>16&240|Z>>12&15,Z=240&Z|Z>>28&15;E[U++]=X,E[U++]=Z}}function St(m,x,T,E,U){for(T=x+T;x<T;){var X=(Z=m[x++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;E[U++]=X,E[U++]=Z}}function Tt(m,x,T,E,U){for(T=x+T;x<T;){var X=m[x++];E[U++]=255&X,E[U++]=X>>8&255,E[U++]=X>>16&255}}function gt(m,x,T,E,U,X){if(X==0)for(T=x+T;x<T;)Ve(E,((X=m[x++])[0]>>24|X[1]>>8&65280|X[2]<<8&16711680|X[3]<<24)>>>0),U+=32;else s(E,U,m,x,T)}function Jt(m,x){B[x][0]=B[m+"0"],B[x][1]=B[m+"1"],B[x][2]=B[m+"2"],B[x][3]=B[m+"3"],B[x][4]=B[m+"4"],B[x][5]=B[m+"5"],B[x][6]=B[m+"6"],B[x][7]=B[m+"7"],B[x][8]=B[m+"8"],B[x][9]=B[m+"9"],B[x][10]=B[m+"10"],B[x][11]=B[m+"11"],B[x][12]=B[m+"12"],B[x][13]=B[m+"13"],B[x][14]=B[m+"0"],B[x][15]=B[m+"0"]}function Lt(m){return m==Xc||m==Bu||m==$l||m==zu}function It(){this.eb=[],this.size=this.A=this.fb=0}function bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new It,this.f.kb=new bn,this.sd=null}function _e(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function it(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ne(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function rt(m,x){var T=m.T,E=x.ba.f.RGBA,U=E.eb,X=E.fb+m.ka*E.A,Z=As[x.ba.S],se=m.y,ie=m.O,ue=m.f,ve=m.N,Oe=m.ea,ce=m.W,Se=x.cc,je=x.dc,qe=x.Mc,Me=x.Nc,Pe=m.ka,Ge=m.ka+m.T,lt=m.U,Qe=lt+1>>1;for(Pe==0?Z(se,ie,null,null,ue,ve,Oe,ce,ue,ve,Oe,ce,U,X,null,null,lt):(Z(x.ec,x.fc,se,ie,Se,je,qe,Me,ue,ve,Oe,ce,U,X-E.A,U,X,lt),++T);Pe+2<Ge;Pe+=2)Se=ue,je=ve,qe=Oe,Me=ce,ve+=m.Rc,ce+=m.Rc,X+=2*E.A,Z(se,(ie+=2*m.fa)-m.fa,se,ie,Se,je,qe,Me,ue,ve,Oe,ce,U,X-E.A,U,X,lt);return ie+=m.fa,m.j+Ge<m.o?(s(x.ec,x.fc,se,ie,lt),s(x.cc,x.dc,ue,ve,Qe),s(x.Mc,x.Nc,Oe,ce,Qe),T--):1&Ge||Z(se,ie,null,null,ue,ve,Oe,ce,ue,ve,Oe,ce,U,X+E.A,null,null,lt),T}function pt(m,x,T){var E=m.F,U=[m.J];if(E!=null){var X=m.U,Z=x.ba.S,se=Z==$c||Z==$l;x=x.ba.f.RGBA;var ie=[0],ue=m.ka;ie[0]=m.T,m.Kb&&(ue==0?--ie[0]:(--ue,U[0]-=m.width),m.j+m.ka+m.T==m.o&&(ie[0]=m.o-m.j-ue));var ve=x.eb;ue=x.fb+ue*x.A,m=Hc(E,U[0],m.width,X,ie,ve,ue+(se?0:3),x.A),e(T==ie),m&&Lt(Z)&&il(ve,ue,se,X,ie,x.A)}return 0}function At(m){var x=m.ma,T=x.ba.S,E=11>T,U=T==Os||T==Ci||T==$c||T==Yl||T==12||Lt(T);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Ha(x.Oa,m,U?11:12))return 0;if(U&&Lt(T)&&zc(),m.da)alert("todo:use_scaling");else{if(E){if(x.Ib=Ne,m.Kb){if(T=m.U+1>>1,x.memory=o(m.U+2*T),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+T,x.Ib=rt,zc()}}else alert("todo:EmitYUV");U&&(x.Jb=pt,E&&Zi())}if(E&&!Lo){for(m=0;256>m;++m)Ts[m]=89858*(m-128)+Ql>>Oi,e0[m]=-22014*(m-128)+Ql,Id[m]=-45773*(m-128),Wu[m]=113618*(m-128)+Ql>>Oi;for(m=cl;m<Mo;++m)x=76283*(m-16)+Ql>>Oi,t0[m-cl]=wr(x,255),n0[m-cl]=wr(x+8>>4,15);Lo=1}return 1}function ot(m){var x=m.ma,T=m.U,E=m.T;return e(!(1&m.ka)),0>=T||0>=E?0:(T=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,T),x.Dc+=T,1)}function Pt(m){m.ma.memory=null}function yn(m,x,T,E){return z(m,8)!=47?0:(x[0]=z(m,14)+1,T[0]=z(m,14)+1,E[0]=z(m,1),z(m,3)!=0?0:!m.h)}function xn(m,x){if(4>m)return m+1;var T=m-2>>1;return(2+(1&m)<<T)+z(x,T)+1}function wn(m,x){return 120<x?x-120:1<=(T=((T=ji[x-1])>>4)*m+(8-(15&T)))?T:1;var T}function Gt(m,x,T){var E=J(T),U=m[x+=255&E].g-8;return 0<U&&(ae(T,T.u+8),E=J(T),x+=m[x].value,x+=E&(1<<U)-1),ae(T,T.u+m[x].g),m[x].value}function fn(m,x,T){return T.g+=m.g,T.value+=m.value<<x>>>0,e(8>=T.g),m.g}function dn(m,x,T){var E=m.xc;return e((x=E==0?0:m.vc[m.md*(T>>E)+(x>>E)])<m.Wb),m.Ya[x]}function Vn(m,x,T,E){var U=m.ab,X=m.c*x,Z=m.C;x=Z+x;var se=T,ie=E;for(E=m.Ta,T=m.Ua;0<U--;){var ue=m.gc[U],ve=Z,Oe=x,ce=se,Se=ie,je=(ie=E,se=T,ue.Ea);switch(e(ve<Oe),e(Oe<=ue.nc),ue.hc){case 2:qr(ce,Se,(Oe-ve)*je,ie,se);break;case 0:var qe=ve,Me=Oe,Pe=ie,Ge=se,lt=(Ct=ue).Ea;qe==0&&(Ul(ce,Se,null,null,1,Pe,Ge),ht(ce,Se+1,0,0,lt-1,Pe,Ge+1),Se+=lt,Ge+=lt,++qe);for(var Qe=1<<Ct.b,Et=Qe-1,wt=Le(lt,Ct.b),tn=Ct.K,Ct=Ct.w+(qe>>Ct.b)*wt;qe<Me;){var Sn=tn,dr=Ct,ln=1;for(Hl(ce,Se,Pe,Ge-lt,1,Pe,Ge);ln<lt;){var _t=(ln&~Et)+Qe;_t>lt&&(_t=lt),(0,Ga[Sn[dr++]>>8&15])(ce,Se+ +ln,Pe,Ge+ln-lt,_t-ln,Pe,Ge+ln),ln=_t}Se+=lt,Ge+=lt,++qe&Et||(Ct+=wt)}Oe!=ue.nc&&s(ie,se-je,ie,se+(Oe-ve-1)*je,je);break;case 1:for(je=ce,Me=Se,lt=(ce=ue.Ea)-(Ge=ce&~(Pe=(Se=1<<ue.b)-1)),qe=Le(ce,ue.b),Qe=ue.K,ue=ue.w+(ve>>ue.b)*qe;ve<Oe;){for(Et=Qe,wt=ue,tn=new ut,Ct=Me+Ge,Sn=Me+ce;Me<Ct;)dt(Et[wt++],tn),Wl(tn,je,Me,Se,ie,se),Me+=Se,se+=Se;Me<Sn&&(dt(Et[wt++],tn),Wl(tn,je,Me,lt,ie,se),Me+=lt,se+=lt),++ve&Pe||(ue+=qe)}break;case 3:if(ce==ie&&Se==se&&0<ue.b){for(Me=ie,ce=je=se+(Oe-ve)*je-(Ge=(Oe-ve)*Le(ue.Ea,ue.b)),Se=ie,Pe=se,qe=[],Ge=(lt=Ge)-1;0<=Ge;--Ge)qe[Ge]=Se[Pe+Ge];for(Ge=lt-1;0<=Ge;--Ge)Me[ce+Ge]=qe[Ge];Du(ue,ve,Oe,ie,je,ie,se)}else Du(ue,ve,Oe,ce,Se,ie,se)}se=E,ie=T}ie!=T&&s(E,T,se,ie,X)}function Fn(m,x){var T=m.V,E=m.Ba+m.c*m.C,U=x-m.C;if(e(x<=m.l.o),e(16>=U),0<U){var X=m.l,Z=m.Ta,se=m.Ua,ie=X.width;if(Vn(m,U,T,E),U=se=[se],e((T=m.C)<(E=x)),e(X.v<X.va),E>X.o&&(E=X.o),T<X.j){var ue=X.j-T;T=X.j,U[0]+=ue*ie}if(T>=E?T=0:(U[0]+=4*X.v,X.ka=T-X.j,X.U=X.va-X.v,X.T=E-T,T=1),T){if(se=se[0],11>(T=m.ca).S){var ve=T.f.RGBA,Oe=(E=T.S,U=X.U,X=X.T,ue=ve.eb,ve.A),ce=X;for(ve=ve.fb+m.Ma*ve.A;0<ce--;){var Se=Z,je=se,qe=U,Me=ue,Pe=ve;switch(E){case Vu:Gl(Se,je,qe,Me,Pe);break;case Os:Ya(Se,je,qe,Me,Pe);break;case Xc:Ya(Se,je,qe,Me,Pe),il(Me,Pe,0,qe,1,0);break;case Fu:rl(Se,je,qe,Me,Pe);break;case Ci:gt(Se,je,qe,Me,Pe,1);break;case Bu:gt(Se,je,qe,Me,Pe,1),il(Me,Pe,0,qe,1,0);break;case $c:gt(Se,je,qe,Me,Pe,0);break;case $l:gt(Se,je,qe,Me,Pe,0),il(Me,Pe,1,qe,1,0);break;case Yl:$a(Se,je,qe,Me,Pe);break;case zu:$a(Se,je,qe,Me,Pe),Ti(Me,Pe,qe,1,0);break;case To:xa(Se,je,qe,Me,Pe);break;default:e(0)}se+=ie,ve+=Oe}m.Ma+=X}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=T.height)}}m.C=x,e(m.C<=m.i)}function Mn(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var T=m.Ya[x].G,E=m.Ya[x].H;if(0<T[1][E[1]+0].g||0<T[2][E[2]+0].g||0<T[3][E[3]+0].g)return 0}return 1}function Ln(m,x,T,E,U,X){if(m.Z!=0){var Z=m.qd,se=m.rd;for(e(Qa[m.Z]!=null);x<T;++x)Qa[m.Z](Z,se,E,U,E,U,X),Z=E,se=U,U+=X;m.qd=Z,m.rd=se}}function hr(m,x){var T=m.l.ma,E=T.Z==0||T.Z==1?m.l.j:m.C;if(E=m.C<E?E:m.C,e(x<=m.l.o),x>E){var U=m.l.width,X=T.ca,Z=T.tb+U*E,se=m.V,ie=m.Ba+m.c*E,ue=m.gc;e(m.ab==1),e(ue[0].hc==3),ya(ue[0],E,x,se,ie,X,Z),Ln(T,E,x,X,Z,U)}m.C=m.Ma=x}function Mr(m,x,T,E,U,X,Z){var se=m.$/E,ie=m.$%E,ue=m.m,ve=m.s,Oe=T+m.$,ce=Oe;U=T+E*U;var Se=T+E*X,je=280+ve.ua,qe=m.Pb?se:16777216,Me=0<ve.ua?ve.Wa:null,Pe=ve.wc,Ge=Oe<Se?dn(ve,ie,se):null;e(m.C<X),e(Se<=U);var lt=!1;e:for(;;){for(;lt||Oe<Se;){var Qe=0;if(se>=qe){var Et=Oe-T;e((qe=m).Pb),qe.wd=qe.m,qe.xd=Et,0<qe.s.ua&&Ae(qe.s.Wa,qe.s.vb),qe=se+Co}if(ie&Pe||(Ge=dn(ve,ie,se)),e(Ge!=null),Ge.Qb&&(x[Oe]=Ge.qb,lt=!0),!lt)if(fe(ue),Ge.jc){Qe=ue,Et=x;var wt=Oe,tn=Ge.pd[J(Qe)&Ao-1];e(Ge.jc),256>tn.g?(ae(Qe,Qe.u+tn.g),Et[wt]=tn.value,Qe=0):(ae(Qe,Qe.u+tn.g-256),e(256<=tn.value),Qe=tn.value),Qe==0&&(lt=!0)}else Qe=Gt(Ge.G[0],Ge.H[0],ue);if(ue.h)break;if(lt||256>Qe){if(!lt)if(Ge.nd)x[Oe]=(Ge.qb|Qe<<8)>>>0;else{if(fe(ue),lt=Gt(Ge.G[1],Ge.H[1],ue),fe(ue),Et=Gt(Ge.G[2],Ge.H[2],ue),wt=Gt(Ge.G[3],Ge.H[3],ue),ue.h)break;x[Oe]=(wt<<24|lt<<16|Qe<<8|Et)>>>0}if(lt=!1,++Oe,++ie>=E&&(ie=0,++se,Z!=null&&se<=X&&!(se%16)&&Z(m,se),Me!=null))for(;ce<Oe;)Qe=x[ce++],Me.X[(506832829*Qe&4294967295)>>>Me.Mb]=Qe}else if(280>Qe){if(Qe=xn(Qe-256,ue),Et=Gt(Ge.G[4],Ge.H[4],ue),fe(ue),Et=wn(E,Et=xn(Et,ue)),ue.h)break;if(Oe-T<Et||U-Oe<Qe)break e;for(wt=0;wt<Qe;++wt)x[Oe+wt]=x[Oe+wt-Et];for(Oe+=Qe,ie+=Qe;ie>=E;)ie-=E,++se,Z!=null&&se<=X&&!(se%16)&&Z(m,se);if(e(Oe<=U),ie&Pe&&(Ge=dn(ve,ie,se)),Me!=null)for(;ce<Oe;)Qe=x[ce++],Me.X[(506832829*Qe&4294967295)>>>Me.Mb]=Qe}else{if(!(Qe<je))break e;for(lt=Qe-280,e(Me!=null);ce<Oe;)Qe=x[ce++],Me.X[(506832829*Qe&4294967295)>>>Me.Mb]=Qe;Qe=Oe,e(!(lt>>>(Et=Me).Xa)),x[Qe]=Et.X[lt],lt=!0}lt||e(ue.h==Q(ue))}if(m.Pb&&ue.h&&Oe<U)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Ae(m.s.vb,m.s.Wa);else{if(ue.h)break e;Z?.(m,se>X?X:se),m.a=0,m.$=Oe-T}return 1}return m.a=3,0}function Cn(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function Ee(){var m=new Kt;return m==null?null:(m.a=0,m.xb=sf,Jt("Predictor","VP8LPredictors"),Jt("Predictor","VP8LPredictors_C"),Jt("PredictorAdd","VP8LPredictorsAdd"),Jt("PredictorAdd","VP8LPredictorsAdd_C"),qr=yt,Wl=xt,Gl=hn,Ya=Xt,$a=Nt,xa=St,rl=Tt,B.VP8LMapColor32b=va,B.VP8LMapColor8b=_s,m)}function Te(m,x,T,E,U){var X=1,Z=[m],se=[x],ie=E.m,ue=E.s,ve=null,Oe=0;e:for(;;){if(T)for(;X&&z(ie,1);){var ce=Z,Se=se,je=E,qe=1,Me=je.m,Pe=je.gc[je.ab],Ge=z(Me,2);if(je.Oc&1<<Ge)X=0;else{switch(je.Oc|=1<<Ge,Pe.hc=Ge,Pe.Ea=ce[0],Pe.nc=Se[0],Pe.K=[null],++je.ab,e(4>=je.ab),Ge){case 0:case 1:Pe.b=z(Me,3)+2,qe=Te(Le(Pe.Ea,Pe.b),Le(Pe.nc,Pe.b),0,je,Pe.K),Pe.K=Pe.K[0];break;case 3:var lt,Qe=z(Me,8)+1,Et=16<Qe?0:4<Qe?1:2<Qe?2:3;if(ce[0]=Le(Pe.Ea,Et),Pe.b=Et,lt=qe=Te(Qe,1,0,je,Pe.K)){var wt,tn=Qe,Ct=Pe,Sn=1<<(8>>Ct.b),dr=o(Sn);if(dr==null)lt=0;else{var ln=Ct.K[0],_t=Ct.w;for(dr[0]=Ct.K[0][0],wt=1;wt<1*tn;++wt)dr[wt]=Ke(ln[_t+wt],dr[wt-1]);for(;wt<4*Sn;++wt)dr[wt]=0;Ct.K[0]=null,Ct.K[0]=dr,lt=1}}qe=lt;break;case 2:break;default:e(0)}X=qe}}if(Z=Z[0],se=se[0],X&&z(ie,1)&&!(X=1<=(Oe=z(ie,4))&&11>=Oe)){E.a=3;break e}var mt;if(mt=X)t:{var Sr,$t,pn,Gn=E,rs=Z,Cs=se,sr=Oe,$r=T,Ds=Gn.m,Xr=Gn.s,vn=[null],Bn=1,Nr=0,Un=Ei[sr];n:for(;;){if($r&&z(Ds,1)){var ss=z(Ds,3)+2,Ar=Le(rs,ss),zn=Le(Cs,ss),Wr=Ar*zn;if(!Te(Ar,zn,0,Gn,vn))break n;for(vn=vn[0],Xr.xc=ss,Sr=0;Sr<Wr;++Sr){var Yn=vn[Sr]>>8&65535;vn[Sr]=Yn,Yn>=Bn&&(Bn=Yn+1)}}if(Ds.h)break n;for($t=0;5>$t;++$t){var Zr=ol[$t];!$t&&0<sr&&(Zr+=1<<sr),Nr<Zr&&(Nr=Zr)}var Qr=u(Bn*Un,ne),Qn=Bn,Rn=u(Qn,oe);if(Rn==null)var Rs=null;else e(65536>=Qn),Rs=Rn;var Dr=o(Nr);if(Rs==null||Dr==null||Qr==null){Gn.a=1;break n}var zt=Qr;for(Sr=pn=0;Sr<Bn;++Sr){var qt=Rs[Sr],Pn=qt.G,ri=qt.H,Di=0,Xs=1,Kr=0;for($t=0;5>$t;++$t){Zr=ol[$t],Pn[$t]=zt,ri[$t]=pn,!$t&&0<sr&&(Zr+=1<<sr);s:{var Oo,Do=Zr,Yu=Gn,ir=Dr,of=zt,lf=pn,$u=0,Ka=Yu.m,r0=z(Ka,1);if(a(ir,0,0,Do),r0){var cf=z(Ka,1)+1,uf=z(Ka,1),Xu=z(Ka,uf==0?1:8);ir[Xu]=1,cf==2&&(ir[Xu=z(Ka,8)]=1);var fs=1}else{var Rr=o(19),Jc=z(Ka,4)+4;if(19<Jc){Yu.a=3;var Ro=0;break s}for(Oo=0;Oo<Jc;++Oo)Rr[Zc[Oo]]=z(Ka,3);var Jl=void 0,ul=void 0,Sa=Yu,Zu=Rr,ec=Do,Qu=ir,Ku=0,Ja=Sa.m,hf=8,ff=u(128,ne);r:for(;V(ff,0,7,Zu,19);){if(z(Ja,1)){var Vd=2+2*z(Ja,3);if((Jl=2+z(Ja,Vd))>ec)break r}else Jl=ec;for(ul=0;ul<ec&&Jl--;){fe(Ja);var df=ff[0+(127&J(Ja))];ae(Ja,Ja.u+df.g);var Io=df.value;if(16>Io)Qu[ul++]=Io,Io!=0&&(hf=Io);else{var Fd=Io==16,Bd=Io-16,zd=Xl[Bd],pf=z(Ja,ki[Bd])+zd;if(ul+pf>ec)break r;for(var Pd=Fd?hf:0;0<pf--;)Qu[ul++]=Pd}}Ku=1;break r}Ku||(Sa.a=3),fs=Ku}(fs=fs&&!Ka.h)&&($u=V(of,lf,8,ir,Do)),fs&&$u!=0?Ro=$u:(Yu.a=3,Ro=0)}if(Ro==0)break n;if(Xs&&Pu[$t]==1&&(Xs=zt[pn].g==0),Di+=zt[pn].g,pn+=Ro,3>=$t){var hl,Ju=Dr[0];for(hl=1;hl<Zr;++hl)Dr[hl]>Ju&&(Ju=Dr[hl]);Kr+=Ju}}if(qt.nd=Xs,qt.Qb=0,Xs&&(qt.qb=(Pn[3][ri[3]+0].value<<24|Pn[1][ri[1]+0].value<<16|Pn[2][ri[2]+0].value)>>>0,Di==0&&256>Pn[0][ri[0]+0].value&&(qt.Qb=1,qt.qb+=Pn[0][ri[0]+0].value<<8)),qt.jc=!qt.Qb&&6>Kr,qt.jc){var eu,Na=qt;for(eu=0;eu<Ao;++eu){var eo=eu,to=Na.pd[eo],eh=Na.G[0][Na.H[0]+eo];256<=eh.value?(to.g=eh.g+256,to.value=eh.value):(to.g=0,to.value=0,eo>>=fn(eh,8,to),eo>>=fn(Na.G[1][Na.H[1]+eo],16,to),eo>>=fn(Na.G[2][Na.H[2]+eo],0,to),fn(Na.G[3][Na.H[3]+eo],24,to))}}}Xr.vc=vn,Xr.Wb=Bn,Xr.Ya=Rs,Xr.yc=Qr,mt=1;break t}mt=0}if(!(X=mt)){E.a=3;break e}if(0<Oe){if(ue.ua=1<<Oe,!P(ue.Wa,Oe)){E.a=1,X=0;break e}}else ue.ua=0;var th=E,fl=Z,qd=se,tc=th.s,nc=tc.xc;if(th.c=fl,th.i=qd,tc.md=Le(fl,nc),tc.wc=nc==0?-1:(1<<nc)-1,T){E.xb=ko;break e}if((ve=o(Z*se))==null){E.a=1,X=0;break e}X=(X=Mr(E,ve,0,Z,se,se,null))&&!ie.h;break e}return X?(U!=null?U[0]=ve:(e(ve==null),e(T)),E.$=0,T||Cn(ue)):Cn(ue),X}function Ye(m,x){var T=m.c*m.i,E=T+x+16*x;return e(m.c<=x),m.V=o(E),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+T+x,1)}function vt(m,x){var T=m.C,E=x-T,U=m.V,X=m.Ba+m.c*T;for(e(x<=m.l.o);0<E;){var Z=16<E?16:E,se=m.l.ma,ie=m.l.width,ue=ie*Z,ve=se.ca,Oe=se.tb+ie*T,ce=m.Ta,Se=m.Ua;Vn(m,Z,U,X),gi(ce,Se,ve,Oe,ue),Ln(se,T,T+Z,ve,Oe,ie),E-=Z,U+=Z*m.c,T+=Z}e(T==x),m.C=m.Ma=x}function Bt(){this.ub=this.yd=this.td=this.Rb=0}function Rt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vt(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function mn(){this.Yb=(function(){var m=[];return(function x(T,E,U){for(var X=U[E],Z=0;Z<X&&(T.push(U.length>E+1?[]:0),!(U.length<E+1));Z++)x(T[Z],E+1,U)})(m,0,[3,11]),m})()}function Wt(){this.jb=o(3),this.Wc=c([4,8],mn),this.Xc=c([4,17],mn)}function yr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Zn(){this.ld=this.La=this.dd=this.tc=0}function tr(){this.Na=this.la=0}function xr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ei(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zn),this.Y=0,this.ya=Array(new ei),this.aa=0,this.l=new Us}function wi(){this.y=o(16),this.f=o(8),this.ea=o(8)}function _i(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Bt,this.Kc=new Rt,this.ed=new yr,this.Qa=new Vt,this.Ic=this.$c=this.Aa=0,this.D=new qs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,M),this.ia=0,this.pb=u(4,xr),this.Pa=new Wt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wi),this.Hd=0,this.rb=Array(new tr),this.sb=0,this.wa=Array(new Zn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ei),this.L=this.aa=0,this.gd=c([4,2],Zn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function wr(m,x){return 0>m?0:m>x?x:m}function Us(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hs(){var m=new _i;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,bi||(bi=ha)),m}function _n(m,x,T){return m.a==0&&(m.a=x,m.sc=T,m.cb=0),0}function yo(m,x,T){return 3<=T&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function hi(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return _n(m,2,"null VP8Io passed to VP8GetHeaders()");var T=x.data,E=x.w,U=x.ha;if(4>U)return _n(m,7,"Truncated header.");var X=T[E+0]|T[E+1]<<8|T[E+2]<<16,Z=m.Od;if(Z.Rb=!(1&X),Z.td=X>>1&7,Z.yd=X>>4&1,Z.ub=X>>5,3<Z.td)return _n(m,3,"Incorrect keyframe parameters.");if(!Z.yd)return _n(m,4,"Frame not displayable.");E+=3,U-=3;var se=m.Kc;if(Z.Rb){if(7>U)return _n(m,7,"cannot parse picture header");if(!yo(T,E,U))return _n(m,3,"Bad code word");se.c=16383&(T[E+4]<<8|T[E+3]),se.Td=T[E+4]>>6,se.i=16383&(T[E+6]<<8|T[E+5]),se.Ud=T[E+6]>>6,E+=7,U-=7,m.za=se.c+15>>4,m.Ub=se.i+15>>4,x.width=se.c,x.height=se.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,a((X=m.Pa).jb,0,255,X.jb.length),e((X=m.Qa)!=null),X.Cb=0,X.Bb=0,X.Fb=1,a(X.Zb,0,0,X.Zb.length),a(X.Lb,0,0,X.Lb)}if(Z.ub>U)return _n(m,7,"bad partition length");$(X=m.m,T,E,Z.ub),E+=Z.ub,U-=Z.ub,Z.Rb&&(se.Ld=xe(X),se.Kd=xe(X)),se=m.Qa;var ie,ue=m.Pa;if(e(X!=null),e(se!=null),se.Cb=xe(X),se.Cb){if(se.Bb=xe(X),xe(X)){for(se.Fb=xe(X),ie=0;4>ie;++ie)se.Zb[ie]=xe(X)?le(X,7):0;for(ie=0;4>ie;++ie)se.Lb[ie]=xe(X)?le(X,6):0}if(se.Bb)for(ie=0;3>ie;++ie)ue.jb[ie]=xe(X)?te(X,8):255}else se.Bb=0;if(X.Ka)return _n(m,3,"cannot parse segment header");if((se=m.ed).zd=xe(X),se.Tb=te(X,6),se.wb=te(X,3),se.Pc=xe(X),se.Pc&&xe(X)){for(ue=0;4>ue;++ue)xe(X)&&(se.vd[ue]=le(X,6));for(ue=0;4>ue;++ue)xe(X)&&(se.od[ue]=le(X,6))}if(m.L=se.Tb==0?0:se.zd?1:2,X.Ka)return _n(m,3,"cannot parse filter header");var ve=U;if(U=ie=E,E=ie+ve,se=ve,m.Xb=(1<<te(m.m,2))-1,ve<3*(ue=m.Xb))T=7;else{for(ie+=3*ue,se-=3*ue,ve=0;ve<ue;++ve){var Oe=T[U+0]|T[U+1]<<8|T[U+2]<<16;Oe>se&&(Oe=se),$(m.Jc[+ve],T,ie,Oe),ie+=Oe,se-=Oe,U+=3}$(m.Jc[+ue],T,ie,se),T=ie<E?0:5}if(T!=0)return _n(m,T,"cannot parse partitions");for(T=te(ie=m.m,7),U=xe(ie)?le(ie,4):0,E=xe(ie)?le(ie,4):0,se=xe(ie)?le(ie,4):0,ue=xe(ie)?le(ie,4):0,ie=xe(ie)?le(ie,4):0,ve=m.Qa,Oe=0;4>Oe;++Oe){if(ve.Cb){var ce=ve.Zb[Oe];ve.Fb||(ce+=T)}else{if(0<Oe){m.pb[Oe]=m.pb[0];continue}ce=T}var Se=m.pb[Oe];Se.Sc[0]=Mi[wr(ce+U,127)],Se.Sc[1]=Li[wr(ce+0,127)],Se.Eb[0]=2*Mi[wr(ce+E,127)],Se.Eb[1]=101581*Li[wr(ce+se,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=Mi[wr(ce+ue,117)],Se.Qc[1]=Li[wr(ce+ie,127)],Se.lc=ce+ie}if(!Z.Rb)return _n(m,4,"Not a key frame.");for(xe(X),Z=m.Pa,T=0;4>T;++T){for(U=0;8>U;++U)for(E=0;3>E;++E)for(se=0;11>se;++se)ue=we(X,fr[T][U][E][se])?te(X,8):Rd[T][U][E][se],Z.Wc[T][U].Yb[E][se]=ue;for(U=0;17>U;++U)Z.Xc[T][U]=Z.Wc[T][Nn[U]]}return m.kc=xe(X),m.kc&&(m.Bd=te(X,8)),m.cb=1}function ha(m,x,T,E,U,X,Z){var se=x[U].Yb[T];for(T=0;16>U;++U){if(!we(m,se[T+0]))return U;for(;!we(m,se[T+1]);)if(se=x[++U].Yb[0],T=0,U==16)return 16;var ie=x[U+1].Yb;if(we(m,se[T+2])){var ue=m,ve=0;if(we(ue,(ce=se)[(Oe=T)+3]))if(we(ue,ce[Oe+6])){for(se=0,Oe=2*(ve=we(ue,ce[Oe+8]))+(ce=we(ue,ce[Oe+9+ve])),ve=0,ce=Dd[Oe];ce[se];++se)ve+=ve+we(ue,ce[se]);ve+=3+(8<<Oe)}else we(ue,ce[Oe+7])?(ve=7+2*we(ue,165),ve+=we(ue,145)):ve=5+we(ue,159);else ve=we(ue,ce[Oe+4])?3+we(ue,ce[Oe+5]):2;se=ie[2]}else ve=1,se=ie[1];ie=Z+rf[U],0>(ue=m).b&&de(ue);var Oe,ce=ue.b,Se=(Oe=ue.Ca>>1)-(ue.I>>ce)>>31;--ue.b,ue.Ca+=Se,ue.Ca|=1,ue.I-=(Oe+1&Se)<<ce,X[ie]=((ve^Se)-Se)*E[(0<U)+0]}return 16}function xo(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function cs(m,x,T,E,U){U=m[x+T+32*E]+(U>>3),m[x+T+32*E]=-256&U?0>U?0:255:U}function zr(m,x,T,E,U,X){cs(m,x,0,T,E+U),cs(m,x,1,T,E+X),cs(m,x,2,T,E-X),cs(m,x,3,T,E-U)}function Lr(m){return(20091*m>>16)+m}function wo(m,x,T,E){var U,X=0,Z=o(16);for(U=0;4>U;++U){var se=m[x+0]+m[x+8],ie=m[x+0]-m[x+8],ue=(35468*m[x+4]>>16)-Lr(m[x+12]),ve=Lr(m[x+4])+(35468*m[x+12]>>16);Z[X+0]=se+ve,Z[X+1]=ie+ue,Z[X+2]=ie-ue,Z[X+3]=se-ve,X+=4,x++}for(U=X=0;4>U;++U)se=(m=Z[X+0]+4)+Z[X+8],ie=m-Z[X+8],ue=(35468*Z[X+4]>>16)-Lr(Z[X+12]),cs(T,E,0,0,se+(ve=Lr(Z[X+4])+(35468*Z[X+12]>>16))),cs(T,E,1,0,ie+ue),cs(T,E,2,0,ie-ue),cs(T,E,3,0,se-ve),X++,E+=32}function Il(m,x,T,E){var U=m[x+0]+4,X=35468*m[x+4]>>16,Z=Lr(m[x+4]),se=35468*m[x+1]>>16;zr(T,E,0,U+Z,m=Lr(m[x+1]),se),zr(T,E,1,U+X,m,se),zr(T,E,2,U-X,m,se),zr(T,E,3,U-Z,m,se)}function Xo(m,x,T,E,U){wo(m,x,T,E),U&&wo(m,x+16,T,E+4)}function Ws(m,x,T,E){Xa(m,x+0,T,E,1),Xa(m,x+32,T,E+128,1)}function Oc(m,x,T,E){var U;for(m=m[x+0]+4,U=0;4>U;++U)for(x=0;4>x;++x)cs(T,E,x,U,m)}function Dc(m,x,T,E){m[x+0]&&qn(m,x+0,T,E),m[x+16]&&qn(m,x+16,T,E+4),m[x+32]&&qn(m,x+32,T,E+128),m[x+48]&&qn(m,x+48,T,E+128+4)}function $i(m,x,T,E){var U,X=o(16);for(U=0;4>U;++U){var Z=m[x+0+U]+m[x+12+U],se=m[x+4+U]+m[x+8+U],ie=m[x+4+U]-m[x+8+U],ue=m[x+0+U]-m[x+12+U];X[0+U]=Z+se,X[8+U]=Z-se,X[4+U]=ue+ie,X[12+U]=ue-ie}for(U=0;4>U;++U)Z=(m=X[0+4*U]+3)+X[3+4*U],se=X[1+4*U]+X[2+4*U],ie=X[1+4*U]-X[2+4*U],ue=m-X[3+4*U],T[E+0]=Z+se>>3,T[E+16]=ue+ie>>3,T[E+32]=Z-se>>3,T[E+48]=ue-ie>>3,E+=64}function Zo(m,x,T){var E,U=x-32,X=Ls,Z=255-m[U-1];for(E=0;E<T;++E){var se,ie=X,ue=Z+m[x-1];for(se=0;se<T;++se)m[x+se]=ie[ue+m[U+se]];x+=32}}function Tu(m,x){Zo(m,x,4)}function Cu(m,x){Zo(m,x,8)}function Rc(m,x){Zo(m,x,16)}function Ic(m,x){var T;for(T=0;16>T;++T)s(m,x+32*T,m,x-32,16)}function ku(m,x){var T;for(T=16;0<T;--T)a(m,x,m[x-1],16),x+=32}function ti(m,x,T){var E;for(E=0;16>E;++E)a(x,T+32*E,m,16)}function Xi(m,x){var T,E=16;for(T=0;16>T;++T)E+=m[x-1+32*T]+m[x+T-32];ti(E>>5,m,x)}function Oa(m,x){var T,E=8;for(T=0;16>T;++T)E+=m[x-1+32*T];ti(E>>4,m,x)}function Qo(m,x){var T,E=8;for(T=0;16>T;++T)E+=m[x+T-32];ti(E>>4,m,x)}function _o(m,x){ti(128,m,x)}function Yt(m,x,T){return m+2*x+T+2>>2}function ju(m,x){var T,E=x-32;for(E=new Uint8Array([Yt(m[E-1],m[E+0],m[E+1]),Yt(m[E+0],m[E+1],m[E+2]),Yt(m[E+1],m[E+2],m[E+3]),Yt(m[E+2],m[E+3],m[E+4])]),T=0;4>T;++T)s(m,x+32*T,E,0,E.length)}function Vc(m,x){var T=m[x-1],E=m[x-1+32],U=m[x-1+64],X=m[x-1+96];Ve(m,x+0,16843009*Yt(m[x-1-32],T,E)),Ve(m,x+32,16843009*Yt(T,E,U)),Ve(m,x+64,16843009*Yt(E,U,X)),Ve(m,x+96,16843009*Yt(U,X,X))}function Eu(m,x){var T,E=4;for(T=0;4>T;++T)E+=m[x+T-32]+m[x-1+32*T];for(E>>=3,T=0;4>T;++T)a(m,x+32*T,E,4)}function fi(m,x){var T=m[x-1+0],E=m[x-1+32],U=m[x-1+64],X=m[x-1-32],Z=m[x+0-32],se=m[x+1-32],ie=m[x+2-32],ue=m[x+3-32];m[x+0+96]=Yt(E,U,m[x-1+96]),m[x+1+96]=m[x+0+64]=Yt(T,E,U),m[x+2+96]=m[x+1+64]=m[x+0+32]=Yt(X,T,E),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=Yt(Z,X,T),m[x+3+64]=m[x+2+32]=m[x+1+0]=Yt(se,Z,X),m[x+3+32]=m[x+2+0]=Yt(ie,se,Z),m[x+3+0]=Yt(ue,ie,se)}function xs(m,x){var T=m[x+1-32],E=m[x+2-32],U=m[x+3-32],X=m[x+4-32],Z=m[x+5-32],se=m[x+6-32],ie=m[x+7-32];m[x+0+0]=Yt(m[x+0-32],T,E),m[x+1+0]=m[x+0+32]=Yt(T,E,U),m[x+2+0]=m[x+1+32]=m[x+0+64]=Yt(E,U,X),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=Yt(U,X,Z),m[x+3+32]=m[x+2+64]=m[x+1+96]=Yt(X,Z,se),m[x+3+64]=m[x+2+96]=Yt(Z,se,ie),m[x+3+96]=Yt(se,ie,ie)}function Fc(m,x){var T=m[x-1+0],E=m[x-1+32],U=m[x-1+64],X=m[x-1-32],Z=m[x+0-32],se=m[x+1-32],ie=m[x+2-32],ue=m[x+3-32];m[x+0+0]=m[x+1+64]=X+Z+1>>1,m[x+1+0]=m[x+2+64]=Z+se+1>>1,m[x+2+0]=m[x+3+64]=se+ie+1>>1,m[x+3+0]=ie+ue+1>>1,m[x+0+96]=Yt(U,E,T),m[x+0+64]=Yt(E,T,X),m[x+0+32]=m[x+1+96]=Yt(T,X,Z),m[x+1+32]=m[x+2+96]=Yt(X,Z,se),m[x+2+32]=m[x+3+96]=Yt(Z,se,ie),m[x+3+32]=Yt(se,ie,ue)}function Ko(m,x){var T=m[x+0-32],E=m[x+1-32],U=m[x+2-32],X=m[x+3-32],Z=m[x+4-32],se=m[x+5-32],ie=m[x+6-32],ue=m[x+7-32];m[x+0+0]=T+E+1>>1,m[x+1+0]=m[x+0+64]=E+U+1>>1,m[x+2+0]=m[x+1+64]=U+X+1>>1,m[x+3+0]=m[x+2+64]=X+Z+1>>1,m[x+0+32]=Yt(T,E,U),m[x+1+32]=m[x+0+96]=Yt(E,U,X),m[x+2+32]=m[x+1+96]=Yt(U,X,Z),m[x+3+32]=m[x+2+96]=Yt(X,Z,se),m[x+3+64]=Yt(Z,se,ie),m[x+3+96]=Yt(se,ie,ue)}function di(m,x){var T=m[x-1+0],E=m[x-1+32],U=m[x-1+64],X=m[x-1+96];m[x+0+0]=T+E+1>>1,m[x+2+0]=m[x+0+32]=E+U+1>>1,m[x+2+32]=m[x+0+64]=U+X+1>>1,m[x+1+0]=Yt(T,E,U),m[x+3+0]=m[x+1+32]=Yt(E,U,X),m[x+3+32]=m[x+1+64]=Yt(U,X,X),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=X}function Jo(m,x){var T=m[x-1+0],E=m[x-1+32],U=m[x-1+64],X=m[x-1+96],Z=m[x-1-32],se=m[x+0-32],ie=m[x+1-32],ue=m[x+2-32];m[x+0+0]=m[x+2+32]=T+Z+1>>1,m[x+0+32]=m[x+2+64]=E+T+1>>1,m[x+0+64]=m[x+2+96]=U+E+1>>1,m[x+0+96]=X+U+1>>1,m[x+3+0]=Yt(se,ie,ue),m[x+2+0]=Yt(Z,se,ie),m[x+1+0]=m[x+3+32]=Yt(T,Z,se),m[x+1+32]=m[x+3+64]=Yt(E,T,Z),m[x+1+64]=m[x+3+96]=Yt(U,E,T),m[x+1+96]=Yt(X,U,E)}function fa(m,x){var T;for(T=0;8>T;++T)s(m,x+32*T,m,x-32,8)}function Mu(m,x){var T;for(T=0;8>T;++T)a(m,x,m[x-1],8),x+=32}function Si(m,x,T){var E;for(E=0;8>E;++E)a(x,T+32*E,m,8)}function Vl(m,x){var T,E=8;for(T=0;8>T;++T)E+=m[x+T-32]+m[x-1+32*T];Si(E>>4,m,x)}function Fl(m,x){var T,E=4;for(T=0;8>T;++T)E+=m[x+T-32];Si(E>>3,m,x)}function us(m,x){var T,E=4;for(T=0;8>T;++T)E+=m[x-1+32*T];Si(E>>3,m,x)}function da(m,x){Si(128,m,x)}function Ni(m,x,T){var E=m[x-T],U=m[x+0],X=3*(U-E)+Za[1020+m[x-2*T]-m[x+T]],Z=Yc[112+(X+4>>3)];m[x-T]=Ls[255+E+Yc[112+(X+3>>3)]],m[x+0]=Ls[255+U-Z]}function Da(m,x,T,E){var U=m[x+0],X=m[x+T];return Ss[255+m[x-2*T]-m[x-T]]>E||Ss[255+X-U]>E}function Bl(m,x,T,E){return 4*Ss[255+m[x-T]-m[x+0]]+Ss[255+m[x-2*T]-m[x+T]]<=E}function el(m,x,T,E,U){var X=m[x-3*T],Z=m[x-2*T],se=m[x-T],ie=m[x+0],ue=m[x+T],ve=m[x+2*T],Oe=m[x+3*T];return 4*Ss[255+se-ie]+Ss[255+Z-ue]>E?0:Ss[255+m[x-4*T]-X]<=U&&Ss[255+X-Z]<=U&&Ss[255+Z-se]<=U&&Ss[255+Oe-ve]<=U&&Ss[255+ve-ue]<=U&&Ss[255+ue-ie]<=U}function Ra(m,x,T,E){var U=2*E+1;for(E=0;16>E;++E)Bl(m,x+E,T,U)&&Ni(m,x+E,T)}function Ia(m,x,T,E){var U=2*E+1;for(E=0;16>E;++E)Bl(m,x+E*T,1,U)&&Ni(m,x+E*T,1)}function tl(m,x,T,E){var U;for(U=3;0<U;--U)Ra(m,x+=4*T,T,E)}function Bc(m,x,T,E){var U;for(U=3;0<U;--U)Ia(m,x+=4,T,E)}function Va(m,x,T,E,U,X,Z,se){for(X=2*X+1;0<U--;){if(el(m,x,T,X,Z))if(Da(m,x,T,se))Ni(m,x,T);else{var ie=m,ue=x,ve=T,Oe=ie[ue-2*ve],ce=ie[ue-ve],Se=ie[ue+0],je=ie[ue+ve],qe=ie[ue+2*ve],Me=27*(Ge=Za[1020+3*(Se-ce)+Za[1020+Oe-je]])+63>>7,Pe=18*Ge+63>>7,Ge=9*Ge+63>>7;ie[ue-3*ve]=Ls[255+ie[ue-3*ve]+Ge],ie[ue-2*ve]=Ls[255+Oe+Pe],ie[ue-ve]=Ls[255+ce+Me],ie[ue+0]=Ls[255+Se-Me],ie[ue+ve]=Ls[255+je-Pe],ie[ue+2*ve]=Ls[255+qe-Ge]}x+=E}}function Fa(m,x,T,E,U,X,Z,se){for(X=2*X+1;0<U--;){if(el(m,x,T,X,Z))if(Da(m,x,T,se))Ni(m,x,T);else{var ie=m,ue=x,ve=T,Oe=ie[ue-ve],ce=ie[ue+0],Se=ie[ue+ve],je=Yc[112+(4+(qe=3*(ce-Oe))>>3)],qe=Yc[112+(qe+3>>3)],Me=je+1>>1;ie[ue-2*ve]=Ls[255+ie[ue-2*ve]+Me],ie[ue-ve]=Ls[255+Oe+qe],ie[ue+0]=Ls[255+ce-je],ie[ue+ve]=Ls[255+Se-Me]}x+=E}}function Lu(m,x,T,E,U,X){Va(m,x,T,1,16,E,U,X)}function Ba(m,x,T,E,U,X){Va(m,x,1,T,16,E,U,X)}function Ou(m,x,T,E,U,X){var Z;for(Z=3;0<Z;--Z)Fa(m,x+=4*T,T,1,16,E,U,X)}function S(m,x,T,E,U,X){var Z;for(Z=3;0<Z;--Z)Fa(m,x+=4,1,T,16,E,U,X)}function q(m,x,T,E,U,X,Z,se){Va(m,x,U,1,8,X,Z,se),Va(T,E,U,1,8,X,Z,se)}function he(m,x,T,E,U,X,Z,se){Va(m,x,1,U,8,X,Z,se),Va(T,E,1,U,8,X,Z,se)}function ge(m,x,T,E,U,X,Z,se){Fa(m,x+4*U,U,1,8,X,Z,se),Fa(T,E+4*U,U,1,8,X,Z,se)}function Ce(m,x,T,E,U,X,Z,se){Fa(m,x+4,1,U,8,X,Z,se),Fa(T,E+4,1,U,8,X,Z,se)}function We(){this.ba=new bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new it,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Je(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ot(){this.ua=0,this.Wa=new nt,this.vb=new nt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new ne}function Kt(){this.xb=this.a=0,this.l=new Us,this.ca=new bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ot,this.ab=0,this.gc=u(4,kt),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Us,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function On(m,x,T,E,U,X,Z){for(m=m==null?0:m[x+0],x=0;x<Z;++x)U[X+x]=m+T[E+x]&255,m=U[X+x]}function _r(m,x,T,E,U,X,Z){var se;if(m==null)On(null,null,T,E,U,X,Z);else for(se=0;se<Z;++se)U[X+se]=m[x+se]+T[E+se]&255}function Pr(m,x,T,E,U,X,Z){if(m==null)On(null,null,T,E,U,X,Z);else{var se,ie=m[x+0],ue=ie,ve=ie;for(se=0;se<Z;++se)ue=ve+(ie=m[x+se])-ue,ve=T[E+se]+(-256&ue?0>ue?0:255:ue)&255,ue=ie,U[X+se]=ve}}function nr(m,x,T,E){var U=x.width,X=x.o;if(e(m!=null&&x!=null),0>T||0>=E||T+E>X)return null;if(!m.Cc){if(m.ga==null){var Z;if(m.ga=new on,(Z=m.ga==null)||(Z=x.width*x.o,e(m.Gb.length==0),m.Gb=o(Z),m.Uc=0,m.Gb==null?Z=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,Z=1),Z=!Z),!Z){Z=m.ga;var se=m.Fa,ie=m.P,ue=m.qc,ve=m.mb,Oe=m.nb,ce=ie+1,Se=ue-1,je=Z.l;if(e(se!=null&&ve!=null&&x!=null),Qa[0]=null,Qa[1]=On,Qa[2]=_r,Qa[3]=Pr,Z.ca=ve,Z.tb=Oe,Z.c=x.width,Z.i=x.height,e(0<Z.c&&0<Z.i),1>=ue)x=0;else if(Z.$a=3&se[ie+0],Z.Z=se[ie+0]>>2&3,Z.Lc=se[ie+0]>>4&3,ie=se[ie+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||ie)x=0;else if(je.put=ot,je.ac=At,je.bc=Pt,je.ma=Z,je.width=x.width,je.height=x.height,je.Da=x.Da,je.v=x.v,je.va=x.va,je.j=x.j,je.o=x.o,Z.$a)e:{e(Z.$a==1),x=Ee();t:for(;;){if(x==null){x=0;break e}if(e(Z!=null),Z.mc=x,x.c=Z.c,x.i=Z.i,x.l=Z.l,x.l.ma=Z,x.l.width=Z.c,x.l.height=Z.i,x.a=0,pe(x.m,se,ce,Se),!Te(Z.c,Z.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&Mn(x.s)?(Z.ic=1,se=x.c*x.i,x.Ta=null,x.Ua=0,x.V=o(se),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(Z.ic=0,x=Ye(x,Z.c)),!x))break t;x=1;break e}Z.mc=null,x=0}else x=Se>=Z.c*Z.i;Z=!x}if(Z)return null;m.ga.Lc!=1?m.Ga=0:E=X-T}e(m.ga!=null),e(T+E<=X);e:{if(x=(se=m.ga).c,X=se.l.o,se.$a==0){if(ce=m.rc,Se=m.Vc,je=m.Fa,ie=m.P+1+T*x,ue=m.mb,ve=m.nb+T*x,e(ie<=m.P+m.qc),se.Z!=0)for(e(Qa[se.Z]!=null),Z=0;Z<E;++Z)Qa[se.Z](ce,Se,je,ie,ue,ve,x),ce=ue,Se=ve,ve+=x,ie+=x;else for(Z=0;Z<E;++Z)s(ue,ve,je,ie,x),ce=ue,Se=ve,ve+=x,ie+=x;m.rc=ce,m.Vc=Se}else{if(e(se.mc!=null),x=T+E,e((Z=se.mc)!=null),e(x<=Z.i),Z.C>=x)x=1;else if(se.ic||Zi(),se.ic){se=Z.V,ce=Z.Ba,Se=Z.c;var qe=Z.i,Me=(je=1,ie=Z.$/Se,ue=Z.$%Se,ve=Z.m,Oe=Z.s,Z.$),Pe=Se*qe,Ge=Se*x,lt=Oe.wc,Qe=Me<Ge?dn(Oe,ue,ie):null;e(Me<=Pe),e(x<=qe),e(Mn(Oe));t:for(;;){for(;!ve.h&&Me<Ge;){if(ue&lt||(Qe=dn(Oe,ue,ie)),e(Qe!=null),fe(ve),256>(qe=Gt(Qe.G[0],Qe.H[0],ve)))se[ce+Me]=qe,++Me,++ue>=Se&&(ue=0,++ie<=x&&!(ie%16)&&hr(Z,ie));else{if(!(280>qe)){je=0;break t}qe=xn(qe-256,ve);var Et,wt=Gt(Qe.G[4],Qe.H[4],ve);if(fe(ve),!(Me>=(wt=wn(Se,wt=xn(wt,ve)))&&Pe-Me>=qe)){je=0;break t}for(Et=0;Et<qe;++Et)se[ce+Me+Et]=se[ce+Me+Et-wt];for(Me+=qe,ue+=qe;ue>=Se;)ue-=Se,++ie<=x&&!(ie%16)&&hr(Z,ie);Me<Ge&&ue&lt&&(Qe=dn(Oe,ue,ie))}e(ve.h==Q(ve))}hr(Z,ie>x?x:ie);break t}!je||ve.h&&Me<Pe?(je=0,Z.a=ve.h?5:3):Z.$=Me,x=je}else x=Mr(Z,Z.V,Z.Ba,Z.c,Z.i,x,vt);if(!x){E=0;break e}}T+E>=X&&(m.Cc=1),E=1}if(!E)return null;if(m.Cc&&((E=m.ga)!=null&&(E.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+T*U}function ns(m,x,T,E,U,X){for(;0<U--;){var Z,se=m,ie=x+(T?1:0),ue=m,ve=x+(T?0:3);for(Z=0;Z<E;++Z){var Oe=ue[ve+4*Z];Oe!=255&&(Oe*=32897,se[ie+4*Z+0]=se[ie+4*Z+0]*Oe>>23,se[ie+4*Z+1]=se[ie+4*Z+1]*Oe>>23,se[ie+4*Z+2]=se[ie+4*Z+2]*Oe>>23)}x+=X}}function Yr(m,x,T,E,U){for(;0<E--;){var X;for(X=0;X<T;++X){var Z=m[x+2*X+0],se=15&(ue=m[x+2*X+1]),ie=4369*se,ue=(240&ue|ue>>4)*ie>>16;m[x+2*X+0]=(240&Z|Z>>4)*ie>>16&240|(15&Z|Z<<4)*ie>>16>>4&15,m[x+2*X+1]=240&ue|se}x+=U}}function ws(m,x,T,E,U,X,Z,se){var ie,ue,ve=255;for(ue=0;ue<U;++ue){for(ie=0;ie<E;++ie){var Oe=m[x+ie];X[Z+4*ie]=Oe,ve&=Oe}x+=T,Z+=se}return ve!=255}function za(m,x,T,E,U){var X;for(X=0;X<U;++X)T[E+X]=m[x+X]>>8}function Zi(){il=ns,Ti=Yr,Hc=ws,gi=za}function Pa(m,x,T){B[m]=function(E,U,X,Z,se,ie,ue,ve,Oe,ce,Se,je,qe,Me,Pe,Ge,lt){var Qe,Et=lt-1>>1,wt=se[ie+0]|ue[ve+0]<<16,tn=Oe[ce+0]|Se[je+0]<<16;e(E!=null);var Ct=3*wt+tn+131074>>2;for(x(E[U+0],255&Ct,Ct>>16,qe,Me),X!=null&&(Ct=3*tn+wt+131074>>2,x(X[Z+0],255&Ct,Ct>>16,Pe,Ge)),Qe=1;Qe<=Et;++Qe){var Sn=se[ie+Qe]|ue[ve+Qe]<<16,dr=Oe[ce+Qe]|Se[je+Qe]<<16,ln=wt+Sn+tn+dr+524296,_t=ln+2*(Sn+tn)>>3;Ct=_t+wt>>1,wt=(ln=ln+2*(wt+dr)>>3)+Sn>>1,x(E[U+2*Qe-1],255&Ct,Ct>>16,qe,Me+(2*Qe-1)*T),x(E[U+2*Qe-0],255&wt,wt>>16,qe,Me+(2*Qe-0)*T),X!=null&&(Ct=ln+tn>>1,wt=_t+dr>>1,x(X[Z+2*Qe-1],255&Ct,Ct>>16,Pe,Ge+(2*Qe-1)*T),x(X[Z+2*Qe+0],255&wt,wt>>16,Pe,Ge+(2*Qe+0)*T)),wt=Sn,tn=dr}1&lt||(Ct=3*wt+tn+131074>>2,x(E[U+lt-1],255&Ct,Ct>>16,qe,Me+(lt-1)*T),X!=null&&(Ct=3*tn+wt+131074>>2,x(X[Z+lt-1],255&Ct,Ct>>16,Pe,Ge+(lt-1)*T)))}}function zc(){As[Vu]=ll,As[Os]=Zl,As[Fu]=af,As[Ci]=Uu,As[$c]=jo,As[Yl]=_a,As[To]=Eo,As[Xc]=Zl,As[Bu]=Uu,As[$l]=jo,As[zu]=_a}function zl(m){return m&-16384?0>m?0:255:m>>Hu}function pa(m,x){return zl((19077*m>>8)+(26149*x>>8)-14234)}function Qi(m,x,T){return zl((19077*m>>8)-(6419*x>>8)-(13320*T>>8)+8708)}function nl(m,x){return zl((19077*m>>8)+(33050*x>>8)-17685)}function qa(m,x,T,E,U){E[U+0]=pa(m,T),E[U+1]=Qi(m,x,T),E[U+2]=nl(m,x)}function hs(m,x,T,E,U){E[U+0]=nl(m,x),E[U+1]=Qi(m,x,T),E[U+2]=pa(m,T)}function So(m,x,T,E,U){var X=Qi(m,x,T);x=X<<3&224|nl(m,x)>>3,E[U+0]=248&pa(m,T)|X>>5,E[U+1]=x}function No(m,x,T,E,U){var X=240&nl(m,x)|15;E[U+0]=240&pa(m,T)|Qi(m,x,T)>>4,E[U+1]=X}function Pl(m,x,T,E,U){E[U+0]=255,qa(m,x,T,E,U+1)}function ma(m,x,T,E,U){hs(m,x,T,E,U),E[U+3]=255}function Gs(m,x,T,E,U){qa(m,x,T,E,U),E[U+3]=255}function Ua(m,x,T){B[m]=function(E,U,X,Z,se,ie,ue,ve,Oe){for(var ce=ve+(-2&Oe)*T;ve!=ce;)x(E[U+0],X[Z+0],se[ie+0],ue,ve),x(E[U+1],X[Z+0],se[ie+0],ue,ve+T),U+=2,++Z,++ie,ve+=2*T;1&Oe&&x(E[U+0],X[Z+0],se[ie+0],ue,ve)}}function ql(m,x,T){return T==0?m==0?x==0?6:5:x==0?4:0:T}function Pc(m,x,T,E,U){switch(m>>>30){case 3:Xa(x,T,E,U,0);break;case 2:Ms(x,T,E,U);break;case 1:qn(x,T,E,U)}}function pi(m,x){var T,E,U=x.M,X=x.Nb,Z=m.oc,se=m.pc+40,ie=m.oc,ue=m.pc+584,ve=m.oc,Oe=m.pc+600;for(T=0;16>T;++T)Z[se+32*T-1]=129;for(T=0;8>T;++T)ie[ue+32*T-1]=129,ve[Oe+32*T-1]=129;for(0<U?Z[se-1-32]=ie[ue-1-32]=ve[Oe-1-32]=129:(a(Z,se-32-1,127,21),a(ie,ue-32-1,127,9),a(ve,Oe-32-1,127,9)),E=0;E<m.za;++E){var ce=x.ya[x.aa+E];if(0<E){for(T=-1;16>T;++T)s(Z,se+32*T-4,Z,se+32*T+12,4);for(T=-1;8>T;++T)s(ie,ue+32*T-4,ie,ue+32*T+4,4),s(ve,Oe+32*T-4,ve,Oe+32*T+4,4)}var Se=m.Gd,je=m.Hd+E,qe=ce.ad,Me=ce.Hc;if(0<U&&(s(Z,se-32,Se[je].y,0,16),s(ie,ue-32,Se[je].f,0,8),s(ve,Oe-32,Se[je].ea,0,8)),ce.Za){var Pe=Z,Ge=se-32+16;for(0<U&&(E>=m.za-1?a(Pe,Ge,Se[je].y[15],4):s(Pe,Ge,Se[je+1].y,0,4)),T=0;4>T;T++)Pe[Ge+128+T]=Pe[Ge+256+T]=Pe[Ge+384+T]=Pe[Ge+0+T];for(T=0;16>T;++T,Me<<=2)Pe=Z,Ge=se+Hr[T],Or[ce.Ob[T]](Pe,Ge),Pc(Me,qe,16*+T,Pe,Ge)}else if(Pe=ql(E,U,ce.Ob[0]),$s[Pe](Z,se),Me!=0)for(T=0;16>T;++T,Me<<=2)Pc(Me,qe,16*+T,Z,se+Hr[T]);for(T=ce.Gc,Pe=ql(E,U,ce.Dd),ta[Pe](ie,ue),ta[Pe](ve,Oe),Me=qe,Pe=ie,Ge=ue,255&(ce=0|T)&&(170&ce?Ai(Me,256,Pe,Ge):Dn(Me,256,Pe,Ge)),ce=ve,Me=Oe,255&(T>>=8)&&(170&T?Ai(qe,320,ce,Me):Dn(qe,320,ce,Me)),U<m.Ub-1&&(s(Se[je].y,0,Z,se+480,16),s(Se[je].f,0,ie,ue+224,8),s(Se[je].ea,0,ve,Oe+224,8)),T=8*X*m.B,Se=m.sa,je=m.ta+16*E+16*X*m.R,qe=m.qa,ce=m.ra+8*E+T,Me=m.Ha,Pe=m.Ia+8*E+T,T=0;16>T;++T)s(Se,je+T*m.R,Z,se+32*T,16);for(T=0;8>T;++T)s(qe,ce+T*m.B,ie,ue+32*T,8),s(Me,Pe+T*m.B,ve,Oe+32*T,8)}}function Ki(m,x,T,E,U,X,Z,se,ie){var ue=[0],ve=[0],Oe=0,ce=ie!=null?ie.kd:0,Se=ie??new Je;if(m==null||12>T)return 7;Se.data=m,Se.w=x,Se.ha=T,x=[x],T=[T],Se.gb=[Se.gb];e:{var je=x,qe=T,Me=Se.gb;if(e(m!=null),e(qe!=null),e(Me!=null),Me[0]=0,12<=qe[0]&&!t(m,je[0],"RIFF")){if(t(m,je[0]+8,"WEBP")){Me=3;break e}var Pe=ct(m,je[0]+4);if(12>Pe||4294967286<Pe){Me=3;break e}if(ce&&Pe>qe[0]-8){Me=7;break e}Me[0]=Pe,je[0]+=12,qe[0]-=12}Me=0}if(Me!=0)return Me;for(Pe=0<Se.gb[0],T=T[0];;){e:{var Ge=m;qe=x,Me=T;var lt=ue,Qe=ve,Et=je=[0];if((Ct=Oe=[Oe])[0]=0,8>Me[0])Me=7;else{if(!t(Ge,qe[0],"VP8X")){if(ct(Ge,qe[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var wt=ct(Ge,qe[0]+8),tn=1+et(Ge,qe[0]+12);if(2147483648<=tn*(Ge=1+et(Ge,qe[0]+15))){Me=3;break e}Et!=null&&(Et[0]=wt),lt!=null&&(lt[0]=tn),Qe!=null&&(Qe[0]=Ge),qe[0]+=18,Me[0]-=18,Ct[0]=1}Me=0}}if(Oe=Oe[0],je=je[0],Me!=0)return Me;if(qe=!!(2&je),!Pe&&Oe)return 3;if(X!=null&&(X[0]=!!(16&je)),Z!=null&&(Z[0]=qe),se!=null&&(se[0]=0),Z=ue[0],je=ve[0],Oe&&qe&&ie==null){Me=0;break}if(4>T){Me=7;break}if(Pe&&Oe||!Pe&&!Oe&&!t(m,x[0],"ALPH")){T=[T],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{wt=m,Me=x,Pe=T;var Ct=Se.gb;lt=Se.na,Qe=Se.P,Et=Se.Sa,tn=22,e(wt!=null),e(Pe!=null),Ge=Me[0];var Sn=Pe[0];for(e(lt!=null),e(Et!=null),lt[0]=null,Qe[0]=null,Et[0]=0;;){if(Me[0]=Ge,Pe[0]=Sn,8>Sn){Me=7;break e}var dr=ct(wt,Ge+4);if(4294967286<dr){Me=3;break e}var ln=8+dr+1&-2;if(tn+=ln,0<Ct&&tn>Ct){Me=3;break e}if(!t(wt,Ge,"VP8 ")||!t(wt,Ge,"VP8L")){Me=0;break e}if(Sn[0]<ln){Me=7;break e}t(wt,Ge,"ALPH")||(lt[0]=wt,Qe[0]=Ge+8,Et[0]=dr),Ge+=ln,Sn-=ln}}if(T=T[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],Me!=0)break}T=[T],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(Ct=m,Me=x,Pe=T,lt=Se.gb[0],Qe=Se.Ja,Et=Se.xa,wt=Me[0],Ge=!t(Ct,wt,"VP8 "),tn=!t(Ct,wt,"VP8L"),e(Ct!=null),e(Pe!=null),e(Qe!=null),e(Et!=null),8>Pe[0])Me=7;else{if(Ge||tn){if(Ct=ct(Ct,wt+4),12<=lt&&Ct>lt-12){Me=3;break e}if(ce&&Ct>Pe[0]-8){Me=7;break e}Qe[0]=Ct,Me[0]+=8,Pe[0]-=8,Et[0]=tn}else Et[0]=5<=Pe[0]&&Ct[wt+0]==47&&!(Ct[wt+4]>>5),Qe[0]=Pe[0];Me=0}if(T=T[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],x=x[0],Me!=0)break;if(4294967286<Se.Ja)return 3;if(se==null||qe||(se[0]=Se.xa?2:1),Z=[Z],je=[je],Se.xa){if(5>T){Me=7;break}se=Z,ce=je,qe=X,m==null||5>T?m=0:5<=T&&m[x+0]==47&&!(m[x+4]>>5)?(Pe=[0],Ct=[0],lt=[0],pe(Qe=new H,m,x,T),yn(Qe,Pe,Ct,lt)?(se!=null&&(se[0]=Pe[0]),ce!=null&&(ce[0]=Ct[0]),qe!=null&&(qe[0]=lt[0]),m=1):m=0):m=0}else{if(10>T){Me=7;break}se=je,m==null||10>T||!yo(m,x+3,T-3)?m=0:(ce=m[x+0]|m[x+1]<<8|m[x+2]<<16,qe=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=Se.Ja||!qe||!m?m=0:(Z&&(Z[0]=qe),se&&(se[0]=m),m=1))}if(!m||(Z=Z[0],je=je[0],Oe&&(ue[0]!=Z||ve[0]!=je)))return 3;ie!=null&&(ie[0]=Se,ie.offset=x-ie.w,e(4294967286>x-ie.w),e(ie.offset==ie.ha-T));break}return Me==0||Me==7&&Oe&&ie==null?(X!=null&&(X[0]|=Se.na!=null&&0<Se.na.length),E!=null&&(E[0]=Z),U!=null&&(U[0]=je),0):Me}function Ha(m,x,T){var E=x.width,U=x.height,X=0,Z=0,se=E,ie=U;if(x.Da=m!=null&&0<m.Da,x.Da&&(se=m.cd,ie=m.bd,X=m.v,Z=m.j,11>T||(X&=-2,Z&=-2),0>X||0>Z||0>=se||0>=ie||X+se>E||Z+ie>U))return 0;if(x.v=X,x.j=Z,x.va=X+se,x.o=Z+ie,x.U=se,x.T=ie,x.da=m!=null&&0<m.da,x.da){if(!Be(se,ie,T=[m.ib],X=[m.hb]))return 0;x.ib=T[0],x.hb=X[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*E/4&&x.hb<3*U/4,x.Kb=0),1}function qc(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function Ji(m,x,T,E){if(E==null||0>=m||0>=x)return 2;if(T!=null){if(T.Da){var U=T.cd,X=T.bd,Z=-2&T.v,se=-2&T.j;if(0>Z||0>se||0>=U||0>=X||Z+U>m||se+X>x)return 2;m=U,x=X}if(T.da){if(!Be(m,x,U=[T.ib],X=[T.hb]))return 2;m=U[0],x=X[0]}}E.width=m,E.height=x;e:{var ie=E.width,ue=E.height;if(m=E.S,0>=ie||0>=ue||!(m>=Vu&&13>m))m=2;else{if(0>=E.Rd&&E.sd==null){Z=X=U=x=0;var ve=(se=ie*Gu[m])*ue;if(11>m||(X=(ue+1)/2*(x=(ie+1)/2),m==12&&(Z=(U=ie)*ue)),(ue=o(ve+2*X+Z))==null){m=1;break e}E.sd=ue,11>m?((ie=E.f.RGBA).eb=ue,ie.fb=0,ie.A=se,ie.size=ve):((ie=E.f.kb).y=ue,ie.O=0,ie.fa=se,ie.Fd=ve,ie.f=ue,ie.N=0+ve,ie.Ab=x,ie.Cd=X,ie.ea=ue,ie.W=0+ve+X,ie.Db=x,ie.Ed=X,m==12&&(ie.F=ue,ie.J=0+ve+2*X),ie.Tc=Z,ie.lb=U)}if(x=1,U=E.S,X=E.width,Z=E.height,U>=Vu&&13>U)if(11>U)m=E.f.RGBA,x&=(se=Math.abs(m.A))*(Z-1)+X<=m.size,x&=se>=X*Gu[U],x&=m.eb!=null;else{m=E.f.kb,se=(X+1)/2,ve=(Z+1)/2,ie=Math.abs(m.fa),ue=Math.abs(m.Ab);var Oe=Math.abs(m.Db),ce=Math.abs(m.lb),Se=ce*(Z-1)+X;x&=ie*(Z-1)+X<=m.Fd,x&=ue*(ve-1)+se<=m.Cd,x=(x&=Oe*(ve-1)+se<=m.Ed)&ie>=X&ue>=se&Oe>=se,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,U==12&&(x&=ce>=X,x&=Se<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||T!=null&&T.fd&&(m=qc(E)),m}var Ao=64,ni=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ys=24,ga=32,ba=8,Wa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];He("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(m){return m},B.Predictor2=function(m,x,T){return x[T+0]},B.Predictor3=function(m,x,T){return x[T+1]},B.Predictor4=function(m,x,T){return x[T-1]},B.Predictor5=function(m,x,T){return at(at(m,x[T+1]),x[T+0])},B.Predictor6=function(m,x,T){return at(m,x[T-1])},B.Predictor7=function(m,x,T){return at(m,x[T+0])},B.Predictor8=function(m,x,T){return at(x[T-1],x[T+0])},B.Predictor9=function(m,x,T){return at(x[T+0],x[T+1])},B.Predictor10=function(m,x,T){return at(at(m,x[T-1]),at(x[T+0],x[T+1]))},B.Predictor11=function(m,x,T){var E=x[T+0];return 0>=tt(E>>24&255,m>>24&255,(x=x[T-1])>>24&255)+tt(E>>16&255,m>>16&255,x>>16&255)+tt(E>>8&255,m>>8&255,x>>8&255)+tt(255&E,255&m,255&x)?E:m},B.Predictor12=function(m,x,T){var E=x[T+0];return(ze((m>>24&255)+(E>>24&255)-((x=x[T-1])>>24&255))<<24|ze((m>>16&255)+(E>>16&255)-(x>>16&255))<<16|ze((m>>8&255)+(E>>8&255)-(x>>8&255))<<8|ze((255&m)+(255&E)-(255&x)))>>>0},B.Predictor13=function(m,x,T){var E=x[T-1];return(st((m=at(m,x[T+0]))>>24&255,E>>24&255)<<24|st(m>>16&255,E>>16&255)<<16|st(m>>8&255,E>>8&255)<<8|st(255&m,255&E))>>>0};var Ul=B.PredictorAdd0;B.PredictorAdd1=ht,He("Predictor2","PredictorAdd2"),He("Predictor3","PredictorAdd3"),He("Predictor4","PredictorAdd4"),He("Predictor5","PredictorAdd5"),He("Predictor6","PredictorAdd6"),He("Predictor7","PredictorAdd7"),He("Predictor8","PredictorAdd8"),He("Predictor9","PredictorAdd9"),He("Predictor10","PredictorAdd10"),He("Predictor11","PredictorAdd11"),He("Predictor12","PredictorAdd12"),He("Predictor13","PredictorAdd13");var Hl=B.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var qr,Du=B.ColorIndexInverseTransform,va=B.MapARGB,ya=B.VP8LColorIndexInverseTransformAlpha,_s=B.MapAlpha,Ga=B.VP8LPredictorsAdd=[];Ga.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Wl,Gl,Ya,$a,xa,rl,mi,Xa,Ms,Ai,qn,Dn,rr,Ur,wa,ea,sl,Uc,ef,Md,Ld,Od,tf,nf,il,Ti,Hc,gi,al=o(511),Ru=o(2041),Wc=o(225),Gc=o(767),Iu=0,Za=Ru,Yc=Wc,Ls=Gc,Ss=al,Vu=0,Os=1,Fu=2,Ci=3,$c=4,Yl=5,To=6,Xc=7,Bu=8,$l=9,zu=10,ki=[2,3,7],Xl=[3,3,11],ol=[280,256,256,256,40],Pu=[0,1,1,1,0],Zc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ji=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ei=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Co=8,Mi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Li=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],bi=null,Dd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],rf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Rd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ns=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$s=[],Or=[],ta=[],ko=1,sf=2,Qa=[],As=[];Pa("UpsampleRgbLinePair",qa,3),Pa("UpsampleBgrLinePair",hs,3),Pa("UpsampleRgbaLinePair",Gs,4),Pa("UpsampleBgraLinePair",ma,4),Pa("UpsampleArgbLinePair",Pl,4),Pa("UpsampleRgba4444LinePair",No,2),Pa("UpsampleRgb565LinePair",So,2);var ll=B.UpsampleRgbLinePair,af=B.UpsampleBgrLinePair,Zl=B.UpsampleRgbaLinePair,Uu=B.UpsampleBgraLinePair,jo=B.UpsampleArgbLinePair,_a=B.UpsampleRgba4444LinePair,Eo=B.UpsampleRgb565LinePair,Oi=16,Ql=1<<Oi-1,cl=-227,Mo=482,Hu=6,Lo=0,Ts=o(256),Wu=o(256),Id=o(256),e0=o(256),t0=o(Mo-cl),n0=o(Mo-cl);Ua("YuvToRgbRow",qa,3),Ua("YuvToBgrRow",hs,3),Ua("YuvToRgbaRow",Gs,4),Ua("YuvToBgraRow",ma,4),Ua("YuvToArgbRow",Pl,4),Ua("YuvToRgba4444Row",No,2),Ua("YuvToRgb565Row",So,2);var Hr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Kl=[0,2,8],Qc=[8,7,6,4,4,2,2,2,1,1,1,1],Kc=1;this.WebPDecodeRGBA=function(m,x,T,E,U){var X=Os,Z=new We,se=new bt;Z.ba=se,se.S=X,se.width=[se.width],se.height=[se.height];var ie=se.width,ue=se.height,ve=new _e;if(ve==null||m==null)var Oe=2;else e(ve!=null),Oe=Ki(m,x,T,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Oe!=0?ie=0:(ie!=null&&(ie[0]=ve.width[0]),ue!=null&&(ue[0]=ve.height[0]),ie=1),ie){se.width=se.width[0],se.height=se.height[0],E!=null&&(E[0]=se.width),U!=null&&(U[0]=se.height);e:{if(E=new Us,(U=new Je).data=m,U.w=x,U.ha=T,U.kd=1,x=[0],e(U!=null),((m=Ki(U.data,U.w,U.ha,null,null,null,x,null,U))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(Z!=null),E.data=U.data,E.w=U.w+U.offset,E.ha=U.ha-U.offset,E.put=ot,E.ac=At,E.bc=Pt,E.ma=Z,U.xa){if((m=Ee())==null){Z=1;break e}if((function(ce,Se){var je=[0],qe=[0],Me=[0];t:for(;;){if(ce==null)return 0;if(Se==null)return ce.a=2,0;if(ce.l=Se,ce.a=0,pe(ce.m,Se.data,Se.w,Se.ha),!yn(ce.m,je,qe,Me)){ce.a=3;break t}if(ce.xb=sf,Se.width=je[0],Se.height=qe[0],!Te(je[0],qe[0],1,ce,null))break t;return 1}return e(ce.a!=0),0})(m,E)){if(E=(x=Ji(E.width,E.height,Z.Oa,Z.ba))==0){t:{E=m;n:for(;;){if(E==null){E=0;break t}if(e(E.s.yc!=null),e(E.s.Ya!=null),e(0<E.s.Wb),e((T=E.l)!=null),e((U=T.ma)!=null),E.xb!=0){if(E.ca=U.ba,E.tb=U.tb,e(E.ca!=null),!Ha(U.Oa,T,Ci)){E.a=2;break n}if(!Ye(E,T.width)||T.da)break n;if((T.da||Lt(E.ca.S))&&Zi(),11>E.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),E.ca.f.kb.F!=null&&Zi()),E.Pb&&0<E.s.ua&&E.s.vb.X==null&&!P(E.s.vb,E.s.Wa.Xa)){E.a=1;break n}E.xb=0}if(!Mr(E,E.V,E.Ba,E.c,E.i,T.o,Fn))break n;U.Dc=E.Ma,E=1;break t}e(E.a!=0),E=0}E=!E}E&&(x=m.a)}else x=m.a}else{if((m=new Hs)==null){Z=1;break e}if(m.Fa=U.na,m.P=U.P,m.qc=U.Sa,hi(m,E)){if((x=Ji(E.width,E.height,Z.Oa,Z.ba))==0){if(m.Aa=0,T=Z.Oa,e((U=m)!=null),T!=null){if(0<(ie=0>(ie=T.Md)?0:100<ie?255:255*ie/100)){for(ue=ve=0;4>ue;++ue)12>(Oe=U.pb[ue]).lc&&(Oe.ia=ie*Qc[0>Oe.lc?0:Oe.lc]>>3),ve|=Oe.ia;ve&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=T.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ce,Se){if(ce==null)return 0;if(Se==null)return _n(ce,2,"NULL VP8Io parameter in VP8Decode().");if(!ce.cb&&!hi(ce,Se))return 0;if(e(ce.cb),Se.ac==null||Se.ac(Se)){Se.ob&&(ce.L=0);var je=Kl[ce.L];if(ce.L==2?(ce.yb=0,ce.zb=0):(ce.yb=Se.v-je>>4,ce.zb=Se.j-je>>4,0>ce.yb&&(ce.yb=0),0>ce.zb&&(ce.zb=0)),ce.Va=Se.o+15+je>>4,ce.Hb=Se.va+15+je>>4,ce.Hb>ce.za&&(ce.Hb=ce.za),ce.Va>ce.Ub&&(ce.Va=ce.Ub),0<ce.L){var qe=ce.ed;for(je=0;4>je;++je){var Me;if(ce.Qa.Cb){var Pe=ce.Qa.Lb[je];ce.Qa.Fb||(Pe+=qe.Tb)}else Pe=qe.Tb;for(Me=0;1>=Me;++Me){var Ge=ce.gd[je][Me],lt=Pe;if(qe.Pc&&(lt+=qe.vd[0],Me&&(lt+=qe.od[0])),0<(lt=0>lt?0:63<lt?63:lt)){var Qe=lt;0<qe.wb&&(Qe=4<qe.wb?Qe>>2:Qe>>1)>9-qe.wb&&(Qe=9-qe.wb),1>Qe&&(Qe=1),Ge.dd=Qe,Ge.tc=2*lt+Qe,Ge.ld=40<=lt?2:15<=lt?1:0}else Ge.tc=0;Ge.La=Me}}}je=0}else _n(ce,6,"Frame setup failed"),je=ce.a;if(je=je==0){if(je){ce.$c=0,0<ce.Aa||(ce.Ic=Kc);t:{je=ce.Ic,qe=4*(Qe=ce.za);var Et=32*Qe,wt=Qe+1,tn=0<ce.L?Qe*(0<ce.Aa?2:1):0,Ct=(ce.Aa==2?2:1)*Qe;if((Ge=qe+832+(Me=3*(16*je+Kl[ce.L])/2*Et)+(Pe=ce.Fa!=null&&0<ce.Fa.length?ce.Kc.c*ce.Kc.i:0))!=Ge)je=0;else{if(Ge>ce.Vb){if(ce.Vb=0,ce.Ec=o(Ge),ce.Fc=0,ce.Ec==null){je=_n(ce,1,"no memory during frame initialization.");break t}ce.Vb=Ge}Ge=ce.Ec,lt=ce.Fc,ce.Ac=Ge,ce.Bc=lt,lt+=qe,ce.Gd=u(Et,wi),ce.Hd=0,ce.rb=u(wt+1,tr),ce.sb=1,ce.wa=tn?u(tn,Zn):null,ce.Y=0,ce.D.Nb=0,ce.D.wa=ce.wa,ce.D.Y=ce.Y,0<ce.Aa&&(ce.D.Y+=Qe),e(!0),ce.oc=Ge,ce.pc=lt,lt+=832,ce.ya=u(Ct,ei),ce.aa=0,ce.D.ya=ce.ya,ce.D.aa=ce.aa,ce.Aa==2&&(ce.D.aa+=Qe),ce.R=16*Qe,ce.B=8*Qe,Qe=(Et=Kl[ce.L])*ce.R,Et=Et/2*ce.B,ce.sa=Ge,ce.ta=lt+Qe,ce.qa=ce.sa,ce.ra=ce.ta+16*je*ce.R+Et,ce.Ha=ce.qa,ce.Ia=ce.ra+8*je*ce.B+Et,ce.$c=0,lt+=Me,ce.mb=Pe?Ge:null,ce.nb=Pe?lt:null,e(lt+Pe<=ce.Fc+ce.Vb),xo(ce),a(ce.Ac,ce.Bc,0,qe),je=1}}if(je){if(Se.ka=0,Se.y=ce.sa,Se.O=ce.ta,Se.f=ce.qa,Se.N=ce.ra,Se.ea=ce.Ha,Se.Vd=ce.Ia,Se.fa=ce.R,Se.Rc=ce.B,Se.F=null,Se.J=0,!Iu){for(je=-255;255>=je;++je)al[255+je]=0>je?-je:je;for(je=-1020;1020>=je;++je)Ru[1020+je]=-128>je?-128:127<je?127:je;for(je=-112;112>=je;++je)Wc[112+je]=-16>je?-16:15<je?15:je;for(je=-255;510>=je;++je)Gc[255+je]=0>je?0:255<je?255:je;Iu=1}mi=$i,Xa=Xo,Ai=Ws,qn=Oc,Dn=Dc,Ms=Il,rr=Lu,Ur=Ba,wa=q,ea=he,sl=Ou,Uc=S,ef=ge,Md=Ce,Ld=Ra,Od=Ia,tf=tl,nf=Bc,Or[0]=Eu,Or[1]=Tu,Or[2]=ju,Or[3]=Vc,Or[4]=fi,Or[5]=Fc,Or[6]=xs,Or[7]=Ko,Or[8]=Jo,Or[9]=di,$s[0]=Xi,$s[1]=Rc,$s[2]=Ic,$s[3]=ku,$s[4]=Oa,$s[5]=Qo,$s[6]=_o,ta[0]=Vl,ta[1]=Cu,ta[2]=fa,ta[3]=Mu,ta[4]=us,ta[5]=Fl,ta[6]=da,je=1}else je=0}je&&(je=(function(Sn,dr){for(Sn.M=0;Sn.M<Sn.Va;++Sn.M){var ln,_t=Sn.Jc[Sn.M&Sn.Xb],mt=Sn.m,Sr=Sn;for(ln=0;ln<Sr.za;++ln){var $t=mt,pn=Sr,Gn=pn.Ac,rs=pn.Bc+4*ln,Cs=pn.zc,sr=pn.ya[pn.aa+ln];if(pn.Qa.Bb?sr.$b=we($t,pn.Pa.jb[0])?2+we($t,pn.Pa.jb[2]):we($t,pn.Pa.jb[1]):sr.$b=0,pn.kc&&(sr.Ad=we($t,pn.Bd)),sr.Za=!we($t,145)+0,sr.Za){var $r=sr.Ob,Ds=0;for(pn=0;4>pn;++pn){var Xr,vn=Cs[0+pn];for(Xr=0;4>Xr;++Xr){vn=Ns[Gn[rs+Xr]][vn];for(var Bn=qu[we($t,vn[0])];0<Bn;)Bn=qu[2*Bn+we($t,vn[Bn])];vn=-Bn,Gn[rs+Xr]=vn}s($r,Ds,Gn,rs,4),Ds+=4,Cs[0+pn]=vn}}else vn=we($t,156)?we($t,128)?1:3:we($t,163)?2:0,sr.Ob[0]=vn,a(Gn,rs,vn,4),a(Cs,0,vn,4);sr.Dd=we($t,142)?we($t,114)?we($t,183)?1:3:2:0}if(Sr.m.Ka)return _n(Sn,7,"Premature end-of-partition0 encountered.");for(;Sn.ja<Sn.za;++Sn.ja){if(Sr=_t,$t=(mt=Sn).rb[mt.sb-1],Gn=mt.rb[mt.sb+mt.ja],ln=mt.ya[mt.aa+mt.ja],rs=mt.kc?ln.Ad:0)$t.la=Gn.la=0,ln.Za||($t.Na=Gn.Na=0),ln.Hc=0,ln.Gc=0,ln.ia=0;else{var Nr,Un;if($t=Gn,Gn=Sr,rs=mt.Pa.Xc,Cs=mt.ya[mt.aa+mt.ja],sr=mt.pb[Cs.$b],pn=Cs.ad,$r=0,Ds=mt.rb[mt.sb-1],vn=Xr=0,a(pn,$r,0,384),Cs.Za)var ss=0,Ar=rs[3];else{Bn=o(16);var zn=$t.Na+Ds.Na;if(zn=bi(Gn,rs[1],zn,sr.Eb,0,Bn,0),$t.Na=Ds.Na=(0<zn)+0,1<zn)mi(Bn,0,pn,$r);else{var Wr=Bn[0]+3>>3;for(Bn=0;256>Bn;Bn+=16)pn[$r+Bn]=Wr}ss=1,Ar=rs[0]}var Yn=15&$t.la,Zr=15&Ds.la;for(Bn=0;4>Bn;++Bn){var Qr=1&Zr;for(Wr=Un=0;4>Wr;++Wr)Yn=Yn>>1|(Qr=(zn=bi(Gn,Ar,zn=Qr+(1&Yn),sr.Sc,ss,pn,$r))>ss)<<7,Un=Un<<2|(3<zn?3:1<zn?2:pn[$r+0]!=0),$r+=16;Yn>>=4,Zr=Zr>>1|Qr<<7,Xr=(Xr<<8|Un)>>>0}for(Ar=Yn,ss=Zr>>4,Nr=0;4>Nr;Nr+=2){for(Un=0,Yn=$t.la>>4+Nr,Zr=Ds.la>>4+Nr,Bn=0;2>Bn;++Bn){for(Qr=1&Zr,Wr=0;2>Wr;++Wr)zn=Qr+(1&Yn),Yn=Yn>>1|(Qr=0<(zn=bi(Gn,rs[2],zn,sr.Qc,0,pn,$r)))<<3,Un=Un<<2|(3<zn?3:1<zn?2:pn[$r+0]!=0),$r+=16;Yn>>=2,Zr=Zr>>1|Qr<<5}vn|=Un<<4*Nr,Ar|=Yn<<4<<Nr,ss|=(240&Zr)<<Nr}$t.la=Ar,Ds.la=ss,Cs.Hc=Xr,Cs.Gc=vn,Cs.ia=43690&vn?0:sr.ia,rs=!(Xr|vn)}if(0<mt.L&&(mt.wa[mt.Y+mt.ja]=mt.gd[ln.$b][ln.Za],mt.wa[mt.Y+mt.ja].La|=!rs),Sr.Ka)return _n(Sn,7,"Premature end-of-file encountered.")}if(xo(Sn),mt=dr,Sr=1,ln=(_t=Sn).D,$t=0<_t.L&&_t.M>=_t.zb&&_t.M<=_t.Va,_t.Aa==0)t:{if(ln.M=_t.M,ln.uc=$t,pi(_t,ln),Sr=1,ln=(Un=_t.D).Nb,$t=(vn=Kl[_t.L])*_t.R,Gn=vn/2*_t.B,Bn=16*ln*_t.R,Wr=8*ln*_t.B,rs=_t.sa,Cs=_t.ta-$t+Bn,sr=_t.qa,pn=_t.ra-Gn+Wr,$r=_t.Ha,Ds=_t.Ia-Gn+Wr,Zr=(Yn=Un.M)==0,Xr=Yn>=_t.Va-1,_t.Aa==2&&pi(_t,Un),Un.uc)for(Qr=(zn=_t).D.M,e(zn.D.uc),Un=zn.yb;Un<zn.Hb;++Un){ss=Un,Ar=Qr;var Qn=(Rn=(Kr=zn).D).Nb;Nr=Kr.R;var Rn=Rn.wa[Rn.Y+ss],Rs=Kr.sa,Dr=Kr.ta+16*Qn*Nr+16*ss,zt=Rn.dd,qt=Rn.tc;if(qt!=0)if(e(3<=qt),Kr.L==1)0<ss&&Od(Rs,Dr,Nr,qt+4),Rn.La&&nf(Rs,Dr,Nr,qt),0<Ar&&Ld(Rs,Dr,Nr,qt+4),Rn.La&&tf(Rs,Dr,Nr,qt);else{var Pn=Kr.B,ri=Kr.qa,Di=Kr.ra+8*Qn*Pn+8*ss,Xs=Kr.Ha,Kr=Kr.Ia+8*Qn*Pn+8*ss;Qn=Rn.ld,0<ss&&(Ur(Rs,Dr,Nr,qt+4,zt,Qn),ea(ri,Di,Xs,Kr,Pn,qt+4,zt,Qn)),Rn.La&&(Uc(Rs,Dr,Nr,qt,zt,Qn),Md(ri,Di,Xs,Kr,Pn,qt,zt,Qn)),0<Ar&&(rr(Rs,Dr,Nr,qt+4,zt,Qn),wa(ri,Di,Xs,Kr,Pn,qt+4,zt,Qn)),Rn.La&&(sl(Rs,Dr,Nr,qt,zt,Qn),ef(ri,Di,Xs,Kr,Pn,qt,zt,Qn))}}if(_t.ia&&alert("todo:DitherRow"),mt.put!=null){if(Un=16*Yn,Yn=16*(Yn+1),Zr?(mt.y=_t.sa,mt.O=_t.ta+Bn,mt.f=_t.qa,mt.N=_t.ra+Wr,mt.ea=_t.Ha,mt.W=_t.Ia+Wr):(Un-=vn,mt.y=rs,mt.O=Cs,mt.f=sr,mt.N=pn,mt.ea=$r,mt.W=Ds),Xr||(Yn-=vn),Yn>mt.o&&(Yn=mt.o),mt.F=null,mt.J=null,_t.Fa!=null&&0<_t.Fa.length&&Un<Yn&&(mt.J=nr(_t,mt,Un,Yn-Un),mt.F=_t.mb,mt.F==null&&mt.F.length==0)){Sr=_n(_t,3,"Could not decode alpha data.");break t}Un<mt.j&&(vn=mt.j-Un,Un=mt.j,e(!(1&vn)),mt.O+=_t.R*vn,mt.N+=_t.B*(vn>>1),mt.W+=_t.B*(vn>>1),mt.F!=null&&(mt.J+=mt.width*vn)),Un<Yn&&(mt.O+=mt.v,mt.N+=mt.v>>1,mt.W+=mt.v>>1,mt.F!=null&&(mt.J+=mt.v),mt.ka=Un-mt.j,mt.U=mt.va-mt.v,mt.T=Yn-Un,Sr=mt.put(mt))}ln+1!=_t.Ic||Xr||(s(_t.sa,_t.ta-$t,rs,Cs+16*_t.R,$t),s(_t.qa,_t.ra-Gn,sr,pn+8*_t.B,Gn),s(_t.Ha,_t.Ia-Gn,$r,Ds+8*_t.B,Gn))}if(!Sr)return _n(Sn,6,"Output aborted.")}return 1})(ce,Se)),Se.bc!=null&&Se.bc(Se),je&=1}return je?(ce.cb=0,je):0})(m,E)||(x=m.a)}}else x=m.a}x==0&&Z.Oa!=null&&Z.Oa.fd&&(x=qc(Z.ba))}Z=x}X=Z!=0?null:11>X?se.f.RGBA.eb:se.f.kb.y}else X=null;return X};var Gu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(B,K){for(var j="",V=0;V<4;V++)j+=String.fromCharCode(B[K++]);return j}function p(B,K){return B[K+0]|B[K+1]<<8}function y(B,K){return(B[K+0]|B[K+1]<<8|B[K+2]<<16)>>>0}function _(B,K){return(B[K+0]|B[K+1]<<8|B[K+2]<<16|B[K+3]<<24)>>>0}new f;var b=[0],A=[0],N=[],k=new f,C=n,R=(function(B,K){var j={},V=0,ne=!1,W=0,oe=0;if(j.frames=[],!(function(M,H){for(var J=0;J<4;J++)if(M[H+J]!="RIFF".charCodeAt(J))return!0;return!1})(B,K)){for(_(B,K+=4),K+=8;K<B.length;){var $=d(B,K),te=_(B,K+=4);K+=4;var le=te+(1&te);switch($){case"VP8 ":case"VP8L":j.frames[V]===void 0&&(j.frames[V]={}),(z=j.frames[V]).src_off=ne?oe:K-8,z.src_size=W+te+8,V++,ne&&(ne=!1,W=0,oe=0);break;case"VP8X":(z=j.header={}).feature_flags=B[K];var pe=K+4;z.canvas_width=1+y(B,pe),pe+=3,z.canvas_height=1+y(B,pe),pe+=3;break;case"ALPH":ne=!0,W=le+8,oe=K-8;break;case"ANIM":(z=j.header).bgcolor=_(B,K),pe=K+4,z.loop_count=p(B,pe),pe+=2;break;case"ANMF":var be,z;(z=j.frames[V]={}).offset_x=2*y(B,K),K+=3,z.offset_y=2*y(B,K),K+=3,z.width=1+y(B,K),K+=3,z.height=1+y(B,K),K+=3,z.duration=y(B,K),K+=3,be=B[K++],z.dispose=1&be,z.blend=be>>1&1}$!="ANMF"&&(K+=le)}return j}})(C,0);R.response=C,R.rgbaoutput=!0,R.dataurl=!1;var D=R.header?R.header:null,I=R.frames?R.frames:null;if(D){D.loop_counter=D.loop_count,b=[D.canvas_height],A=[D.canvas_width];for(var F=0;F<I.length&&I[F].blend!=0;F++);}var Y=I[0],G=k.WebPDecodeRGBA(C,Y.src_off,Y.src_size,A,b);Y.rgba=G,Y.imgwidth=A[0],Y.imgheight=b[0];for(var O=0;O<A[0]*b[0]*4;O++)N[O]=G[O];return this.width=A,this.height=b,this.data=N,this}(function(n){var e,t,s,a,o,u,c,f,d,p=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new f,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new u,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new u,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new p}]);var y=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=M;Object.defineProperty(this,"pdf",{get:function(){return H}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(P){J=!!P}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(P){Q=!!P}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(P){isNaN(P)||(ae=P)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(P){isNaN(P)||(fe=P)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(P){var Ae;typeof P=="number"?Ae=[P,P,P,P]:((Ae=new Array(4))[0]=P[0],Ae[1]=P.length>=2?P[1]:Ae[0],Ae[2]=P.length>=3?P[2]:Ae[0],Ae[3]=P.length>=4?P[3]:Ae[1]),d.margin=Ae}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(P){de=P}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(P){xe=P}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(P){we=P}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(P){P instanceof p&&(d=P)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(P){d.path=P}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function(P){Ve=P}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(P){var Ae;Ae=_(P),this.ctx.fillStyle=Ae.style,this.ctx.isFillTransparent=Ae.a===0,this.ctx.fillOpacity=Ae.a,this.pdf.setFillColor(Ae.r,Ae.g,Ae.b,{a:Ae.a}),this.pdf.setTextColor(Ae.r,Ae.g,Ae.b,{a:Ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(P){var Ae=_(P);this.ctx.strokeStyle=Ae.style,this.ctx.isStrokeTransparent=Ae.a===0,this.ctx.strokeOpacity=Ae.a,Ae.a===0?this.pdf.setDrawColor(255,255,255):(Ae.a,this.pdf.setDrawColor(Ae.r,Ae.g,Ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(P){["butt","round","square"].indexOf(P)!==-1&&(this.ctx.lineCap=P,this.pdf.setLineCap(P))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(P){isNaN(P)||(this.ctx.lineWidth=P,this.pdf.setLineWidth(P))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(P){["bevel","round","miter"].indexOf(P)!==-1&&(this.ctx.lineJoin=P,this.pdf.setLineJoin(P))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(P){isNaN(P)||(this.ctx.miterLimit=P,this.pdf.setMiterLimit(P))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(P){this.ctx.textBaseline=P}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(P){["right","end","center","left","start"].indexOf(P)!==-1&&(this.ctx.textAlign=P)}});var Xe=null,et=null,ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(P){Xe=null,et=null,ct=P}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(P){var Ae;if(this.ctx.font=P,(Ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(P))!==null){var nt=Ae[1];Ae[2];var Be=Ae[3],Le=Ae[4];Ae[5];var Ke=Ae[6],He=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(He==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:He==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var ut=(function(ft){var hn,Xt,Nt=[],St=ft.trim();if(St==="")return qm;if(St in rx)return[rx[St]];for(;St!=="";){switch(Xt=null,hn=(St=ix(St)).charAt(0)){case'"':case"'":Xt=YM(St.substring(1),hn);break;default:Xt=$M(St)}if(Xt===null||(Nt.push(Xt[0]),(St=ix(Xt[1]))!==""&&St.charAt(0)!==","))return qm;St=St.replace(/^,/,"")}return Nt})(Ke);if(this.fontFaces){var at=(function(ft,hn){var Xt=ft.getFontList(),Nt=JSON.stringify(Xt);if(Xe===null||et!==Nt){var St=(function(Tt){var gt=[];return Object.keys(Tt).forEach(function(Jt){Tt[Jt].forEach(function(Lt){var It=null;switch(Lt){case"bold":It={family:Jt,weight:"bold"};break;case"italic":It={family:Jt,style:"italic"};break;case"bolditalic":It={family:Jt,weight:"bold",style:"italic"};break;case"":case"normal":It={family:Jt}}It!==null&&(It.ref={name:Jt,style:Lt},gt.push(It))})}),gt})(Xt);Xe=(function(Tt){for(var gt={},Jt=0;Jt<Tt.length;++Jt){var Lt=Pm(Tt[Jt]),It=Lt.family,bn=Lt.stretch,bt=Lt.style,_e=Lt.weight;gt[It]=gt[It]||{},gt[It][bn]=gt[It][bn]||{},gt[It][bn][bt]=gt[It][bn][bt]||{},gt[It][bn][bt][_e]=Lt}return gt})(St.concat(hn)),et=Nt}return Xe})(this.pdf,this.fontFaces),ze=ut.map(function(ft){return{family:ft,stretch:"normal",weight:Be,style:nt}}),st=(function(ft,hn,Xt){for(var Nt=(Xt=Xt||{}).defaultFontFamily||"times",St=Object.assign({},GM,Xt.genericFontFamilies||{}),Tt=null,gt=null,Jt=0;Jt<hn.length;++Jt)if(St[(Tt=Pm(hn[Jt])).family]&&(Tt.family=St[Tt.family]),ft.hasOwnProperty(Tt.family)){gt=ft[Tt.family];break}if(!(gt=gt||ft[Nt]))throw new Error("Could not find a font-family for the rule '"+sx(Tt)+"' and default family '"+Nt+"'.");if(gt=(function(Lt,It){if(It[Lt])return It[Lt];var bn=Tg[Lt],bt=bn<=Tg.normal?-1:1,_e=nx(It,m4,bn,bt);if(!_e)throw new Error("Could not find a matching font-stretch value for "+Lt);return _e})(Tt.stretch,gt),gt=(function(Lt,It){if(It[Lt])return It[Lt];for(var bn=p4[Lt],bt=0;bt<bn.length;++bt)if(It[bn[bt]])return It[bn[bt]];throw new Error("Could not find a matching font-style for "+Lt)})(Tt.style,gt),!(gt=(function(Lt,It){if(It[Lt])return It[Lt];if(Lt===400&&It[500])return It[500];if(Lt===500&&It[400])return It[400];var bn=WM[Lt],bt=nx(It,g4,bn,Lt<400?-1:1);if(!bt)throw new Error("Could not find a matching font-weight for value "+Lt);return bt})(Tt.weight,gt)))throw new Error("Failed to resolve a font for the rule '"+sx(Tt)+"'.");return gt})(at,ze);this.pdf.setFont(st.ref.name,st.ref.style)}else{var tt="";(Be==="bold"||parseInt(Be,10)>=700||nt==="bold")&&(tt="bold"),nt==="italic"&&(tt+="italic"),tt.length===0&&(tt="normal");for(var ht="",yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<ut.length;dt++){if(this.pdf.internal.getFont(ut[dt],tt,{noFallback:!0,disableWarning:!0})!==void 0){ht=ut[dt];break}if(tt==="bolditalic"&&this.pdf.internal.getFont(ut[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=ut[dt],tt="bold";else if(this.pdf.internal.getFont(ut[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=ut[dt],tt="normal";break}}if(ht===""){for(var xt=0;xt<ut.length;xt++)if(yt[ut[xt]]){ht=yt[ut[xt]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(P){this.ctx.globalCompositeOperation=P}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(P){this.ctx.globalAlpha=P}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(P){this.ctx.lineDashOffset=P,z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(P){this.ctx.lineDash=P,z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(P){this.ctx.ignoreClearRect=!!P}})};y.prototype.setLineDash=function(M){this.lineDash=M},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){I.call(this,"fill",!1)},y.prototype.stroke=function(){I.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(M,H){if(isNaN(M)||isNaN(H))throw mr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new u(M,H));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(M,H)},y.prototype.closePath=function(){var M=new u(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&er(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){M=new u(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(M.x,M.y)},y.prototype.lineTo=function(M,H){if(isNaN(M)||isNaN(H))throw mr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new u(M,H));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(J.x,J.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},y.prototype.quadraticCurveTo=function(M,H,J,Q){if(isNaN(J)||isNaN(Q)||isNaN(M)||isNaN(H))throw mr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new u(J,Q)),fe=this.ctx.transform.applyToPoint(new u(M,H));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new u(ae.x,ae.y)},y.prototype.bezierCurveTo=function(M,H,J,Q,ae,fe){if(isNaN(ae)||isNaN(fe)||isNaN(M)||isNaN(H)||isNaN(J)||isNaN(Q))throw mr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new u(ae,fe)),xe=this.ctx.transform.applyToPoint(new u(M,H)),we=this.ctx.transform.applyToPoint(new u(J,Q));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:we.x,y2:we.y,x:de.x,y:de.y}),this.ctx.lastPoint=new u(de.x,de.y)},y.prototype.arc=function(M,H,J,Q,ae,fe){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(Q)||isNaN(ae))throw mr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new u(M,H));M=de.x,H=de.y;var xe=this.ctx.transform.applyToPoint(new u(0,J)),we=this.ctx.transform.applyToPoint(new u(0,0));J=Math.sqrt(Math.pow(xe.x-we.x,2)+Math.pow(xe.y-we.y,2))}Math.abs(ae-Q)>=2*Math.PI&&(Q=0,ae=2*Math.PI),this.path.push({type:"arc",x:M,y:H,radius:J,startAngle:Q,endAngle:ae,counterclockwise:fe})},y.prototype.arcTo=function(M,H,J,Q,ae){throw new Error("arcTo not implemented.")},y.prototype.rect=function(M,H,J,Q){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(Q))throw mr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,H),this.lineTo(M+J,H),this.lineTo(M+J,H+Q),this.lineTo(M,H+Q),this.lineTo(M,H),this.lineTo(M+J,H),this.lineTo(M,H)},y.prototype.fillRect=function(M,H,J,Q){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(Q))throw mr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,H,J,Q),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},y.prototype.strokeRect=function(M,H,J,Q){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(Q))throw mr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(M,H,J,Q),this.stroke())},y.prototype.clearRect=function(M,H,J,Q){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(Q))throw mr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,H,J,Q))},y.prototype.save=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},y.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(H),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(M){var H,J,Q,ae;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))H=0,J=0,Q=0,ae=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(fe!==null)H=parseInt(fe[1]),J=parseInt(fe[2]),Q=parseInt(fe[3]),ae=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)H=parseInt(fe[1]),J=parseInt(fe[2]),Q=parseInt(fe[3]),ae=parseFloat(fe[4]);else{if(ae=1,typeof M=="string"&&M.charAt(0)!=="#"){var de=new o4(M);M=de.ok?de.toHex():"#000000"}M.length===4?(H=M.substring(1,2),H+=H,J=M.substring(2,3),J+=J,Q=M.substring(3,4),Q+=Q):(H=M.substring(1,3),J=M.substring(3,5),Q=M.substring(5,7)),H=parseInt(H,16),J=parseInt(J,16),Q=parseInt(Q,16)}}return{r:H,g:J,b:Q,a:ae,style:M}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(M,H,J,Q){if(isNaN(H)||isNaN(J)||typeof M!="string")throw mr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!b.call(this)){var ae=le(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;V.call(this,{text:M,x:H,y:J,scale:fe,angle:ae,align:this.textAlign,maxWidth:Q})}},y.prototype.strokeText=function(M,H,J,Q){if(isNaN(H)||isNaN(J)||typeof M!="string")throw mr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){Q=isNaN(Q)?void 0:Q;var ae=le(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;V.call(this,{text:M,x:H,y:J,scale:fe,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:Q})}},y.prototype.measureText=function(M){if(typeof M!="string")throw mr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,J=this.pdf.internal.scaleFactor,Q=H.internal.getFontSize(),ae=H.getStringUnitWidth(M)*Q/H.internal.scaleFactor;return new function(fe){var de=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:ae*=Math.round(96*J/72*1e4)/1e4})},y.prototype.scale=function(M,H){if(isNaN(M)||isNaN(H))throw mr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(M,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},y.prototype.rotate=function(M){if(isNaN(M))throw mr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new f(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},y.prototype.translate=function(M,H){if(isNaN(M)||isNaN(H))throw mr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,M,H);this.ctx.transform=this.ctx.transform.multiply(J)},y.prototype.transform=function(M,H,J,Q,ae,fe){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(Q)||isNaN(ae)||isNaN(fe))throw mr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new f(M,H,J,Q,ae,fe);this.ctx.transform=this.ctx.transform.multiply(de)},y.prototype.setTransform=function(M,H,J,Q,ae,fe){M=isNaN(M)?1:M,H=isNaN(H)?0:H,J=isNaN(J)?0:J,Q=isNaN(Q)?1:Q,ae=isNaN(ae)?0:ae,fe=isNaN(fe)?0:fe,this.ctx.transform=new f(M,H,J,Q,ae,fe)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(M,H,J,Q,ae,fe,de,xe,we){var Ve=this.pdf.getImageProperties(M),Xe=1,et=1,ct=1,P=1;Q!==void 0&&xe!==void 0&&(ct=xe/Q,P=we/ae,Xe=Ve.width/Q*xe/Q,et=Ve.height/ae*we/ae),fe===void 0&&(fe=H,de=J,H=0,J=0),Q!==void 0&&xe===void 0&&(xe=Q,we=ae),Q===void 0&&xe===void 0&&(xe=Ve.width,we=Ve.height);var Ae=this.ctx.transform.decompose(),nt=le(Ae.rotate.shx),Be=new f,Le=(Be=(Be=(Be=Be.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale)).applyToRectangle(new c(fe-H*ct,de-J*P,Q*Xe,ae*et));if(this.autoPaging){for(var Ke,He=k.call(this,Le),ut=[],at=0;at<He.length;at+=1)ut.indexOf(He[at])===-1&&ut.push(He[at]);D(ut);for(var ze=ut[0],st=ut[ut.length-1],tt=ze;tt<st+1;tt++){this.pdf.setPage(tt);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=tt===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=tt===1?0:dt+(tt-2)*xt;if(this.ctx.clip_path.length!==0){var hn=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Ke,this.posX+this.margin[3],-ft+yt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=hn}var Xt=JSON.parse(JSON.stringify(Le));Xt=R([Xt],this.posX+this.margin[3],-ft+yt+this.ctx.prevPageLastElemOffset)[0];var Nt=(tt>ze||tt<st)&&N.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,xt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Xt.x,Xt.y,Xt.w,Xt.h,null,null,nt),Nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,nt)};var k=function(M,H,J){var Q=[];H=H||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":Q.push(Math.floor((M.y+ae)/J)+1);break;case"arc":Q.push(Math.floor((M.y+ae-M.radius)/J)+1),Q.push(Math.floor((M.y+ae+M.radius)/J)+1);break;case"qct":var fe=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);Q.push(Math.floor((fe.y+ae)/J)+1),Q.push(Math.floor((fe.y+fe.h+ae)/J)+1);break;case"bct":var de=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);Q.push(Math.floor((de.y+ae)/J)+1),Q.push(Math.floor((de.y+de.h+ae)/J)+1);break;case"rect":Q.push(Math.floor((M.y+ae)/J)+1),Q.push(Math.floor((M.y+M.h+ae)/J)+1)}for(var xe=0;xe<Q.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<Q[xe];)C.call(this);return Q},C=function(){var M=this.fillStyle,H=this.strokeStyle,J=this.font,Q=this.lineCap,ae=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=H,this.font=J,this.lineCap=Q,this.lineWidth=ae,this.lineJoin=fe},R=function(M,H,J){for(var Q=0;Q<M.length;Q++)switch(M[Q].type){case"bct":M[Q].x2+=H,M[Q].y2+=J;case"qct":M[Q].x1+=H,M[Q].y1+=J;default:M[Q].x+=H,M[Q].y+=J}return M},D=function(M){return M.sort(function(H,J){return H-J})},I=function(M,H){var J=this.fillStyle,Q=this.strokeStyle,ae=this.lineCap,fe=this.lineWidth,de=Math.abs(fe*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var we,Ve,Xe=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),ct=[],P=0;P<et.length;P++)if(et[P].x!==void 0)for(var Ae=k.call(this,et[P]),nt=0;nt<Ae.length;nt+=1)ct.indexOf(Ae[nt])===-1&&ct.push(Ae[nt]);for(var Be=0;Be<ct.length;Be++)for(;this.pdf.internal.getNumberOfPages()<ct[Be];)C.call(this);D(ct);for(var Le=ct[0],Ke=ct[ct.length-1],He=Le;He<Ke+1;He++){this.pdf.setPage(He),this.fillStyle=J,this.strokeStyle=Q,this.lineCap=ae,this.lineWidth=de,this.lineJoin=xe;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=He===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=He===1?0:ze+(He-2)*st;if(this.ctx.clip_path.length!==0){var ht=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(we,this.posX+this.margin[3],-tt+at+this.ctx.prevPageLastElemOffset),F.call(this,M,!0),this.path=ht}if(Ve=JSON.parse(JSON.stringify(Xe)),this.path=R(Ve,this.posX+this.margin[3],-tt+at+this.ctx.prevPageLastElemOffset),H===!1||He===0){var yt=(He>Le||He<Ke)&&N.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,st,null).clip().discardPath()),F.call(this,M,H),yt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}this.path=Xe}else this.lineWidth=de,F.call(this,M,H),this.lineWidth=fe},F=function(M,H){if((M!=="stroke"||H||!A.call(this))&&(M==="stroke"||H||!b.call(this))){for(var J,Q,ae=[],fe=this.path,de=0;de<fe.length;de++){var xe=fe[de];switch(xe.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:xe,deltas:[],abs:[]});break;case"lt":var we=ae.length;if(fe[de-1]&&!isNaN(fe[de-1].x)&&(J=[xe.x-fe[de-1].x,xe.y-fe[de-1].y],we>0)){for(;we>=0;we--)if(ae[we-1].close!==!0&&ae[we-1].begin!==!0){ae[we-1].deltas.push(J),ae[we-1].abs.push(xe);break}}break;case"bct":J=[xe.x1-fe[de-1].x,xe.y1-fe[de-1].y,xe.x2-fe[de-1].x,xe.y2-fe[de-1].y,xe.x-fe[de-1].x,xe.y-fe[de-1].y],ae[ae.length-1].deltas.push(J);break;case"qct":var Ve=fe[de-1].x+2/3*(xe.x1-fe[de-1].x),Xe=fe[de-1].y+2/3*(xe.y1-fe[de-1].y),et=xe.x+2/3*(xe.x1-xe.x),ct=xe.y+2/3*(xe.y1-xe.y),P=xe.x,Ae=xe.y;J=[Ve-fe[de-1].x,Xe-fe[de-1].y,et-fe[de-1].x,ct-fe[de-1].y,P-fe[de-1].x,Ae-fe[de-1].y],ae[ae.length-1].deltas.push(J);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(xe)}}Q=H?null:M==="stroke"?"stroke":"fill";for(var nt=!1,Be=0;Be<ae.length;Be++)if(ae[Be].arc)for(var Le=ae[Be].abs,Ke=0;Ke<Le.length;Ke++){var He=Le[Ke];He.type==="arc"?O.call(this,He.x,He.y,He.radius,He.startAngle,He.endAngle,He.counterclockwise,void 0,H,!nt):ne.call(this,He.x,He.y),nt=!0}else if(ae[Be].close===!0)this.pdf.internal.out("h"),nt=!1;else if(ae[Be].begin!==!0){var ut=ae[Be].start.x,at=ae[Be].start.y;W.call(this,ae[Be].deltas,ut,at),nt=!0}Q&&B.call(this,Q),H&&K.call(this)}},Y=function(M){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-J;case"top":return M+H-J;case"hanging":return M+H-2*J;case"middle":return M+H/2-J;default:return M}},G=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(H,J){this.colorStops.push([H,J])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(M,H,J,Q,ae,fe,de,xe,we){for(var Ve=$.call(this,J,Q,ae,fe),Xe=0;Xe<Ve.length;Xe++){var et=Ve[Xe];Xe===0&&(we?j.call(this,et.x1+M,et.y1+H):ne.call(this,et.x1+M,et.y1+H)),oe.call(this,M,H,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}xe?K.call(this):B.call(this,de)},B=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(M,H){this.pdf.internal.out(t(M)+" "+s(H)+" m")},V=function(M){var H;switch(M.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var J,Q,ae,fe=this.pdf.getTextDimensions(M.text),de=Y.call(this,M.y),xe=G.call(this,de)-fe.h,we=this.ctx.transform.applyToPoint(new u(M.x,de));if(this.autoPaging){var Ve=this.ctx.transform.decompose(),Xe=new f;Xe=(Xe=(Xe=Xe.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale);for(var et=this.ctx.transform.applyToRectangle(new c(M.x,de,fe.w,fe.h)),ct=Xe.applyToRectangle(new c(M.x,xe,fe.w,fe.h)),P=k.call(this,ct),Ae=[],nt=0;nt<P.length;nt+=1)Ae.indexOf(P[nt])===-1&&Ae.push(P[nt]);D(Ae);for(var Be=Ae[0],Le=Ae[Ae.length-1],Ke=Be;Ke<Le+1;Ke++){this.pdf.setPage(Ke);var He=Ke===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],ze=at-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],tt=st-this.margin[3],ht=Ke===1?0:ut+(Ke-2)*ze;if(this.ctx.clip_path.length!==0){var yt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(J,this.posX+this.margin[3],-1*ht+He),F.call(this,"fill",!0),this.path=yt}var dt=R([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-ht+He+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*M.scale),ae=this.lineWidth,this.lineWidth=ae*M.scale);var xt=this.autoPaging!=="text";if(xt||dt.y+dt.h<=at){if(xt||dt.y>=He&&dt.x<=st){var ft=xt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||st-dt.x)[0],hn=R([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-ht+He+this.ctx.prevPageLastElemOffset)[0],Xt=xt&&(Ke>Be||Ke<Le)&&N.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,ze,null).clip().discardPath()),this.pdf.text(ft,hn.x,hn.y,{angle:M.angle,align:H,renderingMode:M.renderingMode}),Xt&&this.pdf.restoreGraphicsState()}}else dt.y<at&&(this.ctx.prevPageLastElemOffset+=at-dt.y);M.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ae)}}else M.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*M.scale),ae=this.lineWidth,this.lineWidth=ae*M.scale),this.pdf.text(M.text,we.x+this.posX,we.y+this.posY,{angle:M.angle,align:H,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ae)},ne=function(M,H,J,Q){J=J||0,Q=Q||0,this.pdf.internal.out(t(M+J)+" "+s(H+Q)+" l")},W=function(M,H,J){return this.pdf.lines(M,H,J,null,null)},oe=function(M,H,J,Q,ae,fe,de,xe){this.pdf.internal.out([e(a(J+M)),e(o(Q+H)),e(a(ae+M)),e(o(fe+H)),e(a(de+M)),e(o(xe+H)),"c"].join(" "))},$=function(M,H,J,Q){for(var ae=2*Math.PI,fe=Math.PI/2;H>J;)H-=ae;var de=Math.abs(J-H);de<ae&&Q&&(de=ae-de);for(var xe=[],we=Q?-1:1,Ve=H;de>1e-5;){var Xe=Ve+we*Math.min(de,fe);xe.push(te.call(this,M,Ve,Xe)),de-=Math.abs(Xe-Ve),Ve=Xe}return xe},te=function(M,H,J){var Q=(J-H)/2,ae=M*Math.cos(Q),fe=M*Math.sin(Q),de=ae,xe=-fe,we=de*de+xe*xe,Ve=we+de*ae+xe*fe,Xe=4/3*(Math.sqrt(2*we*Ve)-Ve)/(de*fe-xe*ae),et=de-Xe*xe,ct=xe+Xe*de,P=et,Ae=-ct,nt=Q+H,Be=Math.cos(nt),Le=Math.sin(nt);return{x1:M*Math.cos(H),y1:M*Math.sin(H),x2:et*Be-ct*Le,y2:et*Le+ct*Be,x3:P*Be-Ae*Le,y3:P*Le+Ae*Be,x4:M*Math.cos(J),y4:M*Math.sin(J)}},le=function(M){return 180*M/Math.PI},pe=function(M,H,J,Q,ae,fe){var de=M+.5*(J-M),xe=H+.5*(Q-H),we=ae+.5*(J-ae),Ve=fe+.5*(Q-fe),Xe=Math.min(M,ae,de,we),et=Math.max(M,ae,de,we),ct=Math.min(H,fe,xe,Ve),P=Math.max(H,fe,xe,Ve);return new c(Xe,ct,et-Xe,P-ct)},be=function(M,H,J,Q,ae,fe,de,xe){var we,Ve,Xe,et,ct,P,Ae,nt,Be,Le,Ke,He,ut,at,ze=J-M,st=Q-H,tt=ae-J,ht=fe-Q,yt=de-ae,dt=xe-fe;for(Ve=0;Ve<41;Ve++)Be=(Ae=(Xe=M+(we=Ve/40)*ze)+we*((ct=J+we*tt)-Xe))+we*(ct+we*(ae+we*yt-ct)-Ae),Le=(nt=(et=H+we*st)+we*((P=Q+we*ht)-et))+we*(P+we*(fe+we*dt-P)-nt),Ve==0?(Ke=Be,He=Le,ut=Be,at=Le):(Ke=Math.min(Ke,Be),He=Math.min(He,Le),ut=Math.max(ut,Be),at=Math.max(at,Le));return new c(Math.round(Ke),Math.round(He),Math.round(ut-Ke),Math.round(at-He))},z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,H,J=(M=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:H}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Ft.API),(function(n){var e=function(u){var c,f,d,p,y,_,b,A,N,k;for(f=[],d=0,p=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;p>d;d+=4)(y=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(_=(y=((y=((y=((y=(y-(k=y%85))/85)-(N=y%85))/85)-(A=y%85))/85)-(b=y%85))/85)%85,f.push(_+33,b+33,A+33,N+33,k+33)):f.push(122);return(function(C,R){for(var D=R;D>0;D--)C.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,p,y,_=String,b="length",A=255,N="charCodeAt",k="slice",C="replace";for(u[k](-2),u=u[k](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),d=[],p=0,y=(u+=c="uuuuu"[k](u[b]%5||5))[b];y>p;p+=5)f=52200625*(u[N](p)-33)+614125*(u[N](p+1)-33)+7225*(u[N](p+2)-33)+85*(u[N](p+3)-33)+(u[N](p+4)-33),d.push(A&f>>24,A&f>>16,A&f>>8,A&f);return(function(R,D){for(var I=D;I>0;I--)R.pop()})(d,c[b]),_.fromCharCode.apply(_,d)},s=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=yg(c)).reduce(function(d,p){return d+String.fromCharCode(p)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=s(d),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:p.reverse().join(" ")}}})(Ft.API),(function(n){n.loadFile=function(e,t,s){return(function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,p){var y=new XMLHttpRequest,_=0,b=function(A){var N=A.length,k=[],C=String.fromCharCode;for(_=0;_<N;_+=1)k.push(C(255&A.charCodeAt(_)));return k.join("")};if(y.open("GET",f,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?p(b(this.responseText)):p(void 0)}),y.send(null),d&&y.status===200)return b(y.responseText)})(a,o,u)}catch{}return c})(e,t,s)},n.loadImageFile=n.loadFile})(Ft.API),(function(n){function e(){return(nn.html2canvas?Promise.resolve(nn.html2canvas):Th(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(nn.DOMPurify?Promise.resolve(nn.DOMPurify):Th(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var s=function(c){var f=er(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var p in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[p]=f.style[p];return d},o=function c(f,d){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(c(y,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft},!0)),p},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),d);return(p=p.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,p=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=p,p)for(var b=0;b<p.length;++b){var A=p[b],N=A.src.find(function(k){return k.format==="truetype"});N&&d.addFont(N.url,A.ref.name,A.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,d.context2d.save(!0),f(this.prop.container,_)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(s(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(s(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,p){return Math.floor(d*p/72*96)}return this.then(function(){(c=c||Ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,p){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,p){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,p?this.progress.stack.concat(p):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(p,y){return d.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(_){return d.updateProgress(null,p),_}).then(p,y).then(function(_){return d.updateProgress(1),_})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),f&&(f=f.bind(p));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:u.convert(Object.assign({},p),Promise.prototype),_=d.call(y,c,f);return u.convert(_,p.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Ft.getPageSize=function(c,f,d){if(er(c)==="object"){var p=c;c=p.orientation,f=p.unit||f,d=p.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var y,_=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+f}var A,N=0,k=0;if(b.hasOwnProperty(_))N=b[_][1]/y,k=b[_][0]/y;else try{N=d[1],k=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",k>N&&(A=k,k=N,N=A);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",N>k&&(A=k,k=N,N=A)}return{width:k,height:N,unit:f,k:y,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Pm):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(Ft.API),Ft.API.addJS=function(n){return ox=n,this.internal.events.subscribe("postPutResources",function(){F1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(F1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ax=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ox+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){F1!==void 0&&ax!==void 0&&this.internal.out("/Names <</JavaScript "+F1+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],c=s.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(o=0;o<d;o++){var y=t.internal.newObject();p.push(y);var _=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<p.length;o++)t.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,a,o){var u={title:a,options:o,children:[]};return s==null&&(s=this.root),s.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var u=s.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,a){for(var o=0;o<a.children.length;o++)s.count++,this.count_r(s,a.children[o]);return s.count}}])})(Ft.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,s,a,o,u,c){var f,d=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(y){for(var _,b=256*y.charCodeAt(4)+y.charCodeAt(5),A=y.length,N={width:0,height:0,numcomponents:1},k=4;k<A;k+=2){if(k+=b,e.indexOf(y.charCodeAt(k+1))!==-1){_=256*y.charCodeAt(k+5)+y.charCodeAt(k+6),N={width:256*y.charCodeAt(k+7)+y.charCodeAt(k+8),height:_,numcomponents:y.charCodeAt(k+9)};break}b=256*y.charCodeAt(k+2)+y.charCodeAt(k+3)}return N})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:s,alias:a}}return p}})(Ft.API),Ft.API.processPNG=function(n,e,t,s){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=MM(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,p=o.depth;a=d&&f===1?(function(O){for(var B=O.width,K=O.height,j=O.data,V=O.palette,ne=O.depth,W=!1,oe=[],$=[],te=void 0,le=!1,pe=0,be=0;be<V.length;be++){var z=hy(V[be],4),M=z[0],H=z[1],J=z[2],Q=z[3];oe.push(M,H,J),Q!=null&&(Q===0?(pe++,$.length<1&&$.push(be)):Q<255&&(le=!0))}if(le||pe>1){W=!0,$=void 0;var ae=B*K;te=new Uint8Array(ae);for(var fe=new DataView(j.buffer),de=0;de<ae;de++){var xe=Um(fe,de,ne),we=hy(V[xe],4)[3];te[de]=we}}else pe===0&&($=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:j,alphaBytes:te,needSMask:W,palette:oe,mask:$}})(o):f===2||f===4?(function(O){for(var B=O.data,K=O.width,j=O.height,V=O.channels,ne=O.depth,W=V===2?"DeviceGray":"DeviceRGB",oe=V-1,$=K*j,te=oe,le=$*te,pe=1*$,be=Math.ceil(le*ne/8),z=Math.ceil(pe*ne/8),M=new Uint8Array(be),H=new Uint8Array(z),J=new DataView(B.buffer),Q=new DataView(M.buffer),ae=new DataView(H.buffer),fe=!1,de=0;de<$;de++){for(var xe=de*V,we=0;we<te;we++)gx(Q,Um(J,xe+we,ne),de*te+we,ne);var Ve=Um(J,xe+te,ne);Ve<(1<<ne)-1&&(fe=!0),gx(ae,Ve,1*de,ne)}return{colorSpace:W,colorsPerPixel:oe,sMaskBitsPerComponent:fe?ne:void 0,colorBytes:M,alphaBytes:H,needSMask:fe}})(o):(function(O){var B=O.data,K=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(j){for(var V=j.length,ne=new Uint8Array(2*V),W=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),oe=0;oe<V;oe++)W.setUint16(2*oe,j[oe],!1);return ne})(B):B,needSMask:!1}})(o);var y,_,b,A=a,N=A.colorSpace,k=A.colorsPerPixel,C=A.sMaskBitsPerComponent,R=A.colorBytes,D=A.alphaBytes,I=A.needSMask,F=A.palette,Y=A.mask,G=null;return s!==Ft.API.image_compression.NONE&&typeof yg=="function"?(G=(function(O){var B;switch(O){case Ft.API.image_compression.FAST:B=11;break;case Ft.API.image_compression.MEDIUM:B=13;break;case Ft.API.image_compression.SLOW:B=14;break;default:B=12}return B})(s),y=this.decode.FLATE_DECODE,_="/Predictor ".concat(G," /Colors ").concat(k," /BitsPerComponent ").concat(p," /Columns ").concat(u),n=hx(R,Math.ceil(u*k*p/8),k,p,s),I&&(b=hx(D,Math.ceil(u*C/8),1,C,s))):(y=void 0,_=void 0,n=R,I&&(b=D)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:y,decodeParameters:_,transparency:Y,palette:F,sMask:b,predictor:G,width:u,height:c,bitsPerComponent:p,sMaskBitsPerComponent:C,colorSpace:N}}},(function(n){n.processGIF89A=function(e,t,s,a){var o=new KM(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},p=new Hm(100).encode(d,100);return n.processJPEG.call(this,p,t,s,a)},n.processGIF87A=n.processGIF89A})(Ft.API),so.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},so.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){mr.log("bit decode error:"+t)}},so.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=s*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},so.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),u=s*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},so.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},so.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,p=s*this.width*4+4*a;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=u,this.data[p+3]=d}this.pos+=n}},so.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,p=a*this.width*4+4*o;this.data[p]=d,this.data[p+1]=f,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},so.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=255}this.pos+=this.width%4}},so.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=u}},so.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,s,a){var o=new so(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new Hm(100).encode(f,100);return n.processJPEG.call(this,d,t,s,a)}})(Ft.API),vx.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,s,a){var o=new vx(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new Hm(100).encode(f,100);return n.processJPEG.call(this,d,t,s,a)}})(Ft.API),Ft.API.processRGBA=function(n,e,t){for(var s=n.data,a=s.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var p=s[d],y=s[d+1],_=s[d+2],b=s[d+3];o[c++]=p,o[c++]=y,o[c++]=_,u[f++]=b}var A=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ft.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},gh=Ft.API,B1=gh.getCharWidthsArray=function(n,e){var t,s,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,p=d.fof?d.fof:1,y=e.doKerning!==!1,_=0,b=n.length,A=0,N=c[0]||f,k=[];for(t=0;t<b;t++)s=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?k.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+u*(1e3/o)||0)/1e3):(_=y&&er(d[s])==="object"&&!isNaN(parseInt(d[s][A],10))?d[s][A]/p:0,k.push((c[s]||N)/f+_)),A=s;return k},lx=gh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return gh.processArabic&&(n=gh.processArabic(n)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(n,t,a)/t:B1.apply(this,arguments).reduce(function(o,u){return o+u},0)},cx=function(n,e,t,s){for(var a=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;a.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>s&&(a.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(n.slice(f,o)),a},ux=function(n,e,t){t||(t={});var s,a,o,u,c,f,d,p=[],y=[p],_=t.textIndent||0,b=0,A=0,N=n.split(" "),k=B1.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var C=Array(f).join(" "),R=[];N.map(function(I){(I=I.split(/\s*\n/)).length>1?R=R.concat(I.map(function(F,Y){return(Y&&F.length?`
`:"")+F})):R.push(I[0])}),N=R,f=lx.apply(this,[C,t])}for(o=0,u=N.length;o<u;o++){var D=0;if(s=N[o],f&&s[0]==`
`&&(s=s.substr(1),D=1),_+b+(A=(a=B1.apply(this,[s,t])).reduce(function(I,F){return I+F},0))>e||D){if(A>e){for(c=cx.apply(this,[s,a,e-(_+b),e]),p.push(c.shift()),p=[c.pop()];c.length;)y.push([c.shift()]);A=a.slice(s.length-(p[0]?p[0].length:0)).reduce(function(I,F){return I+F},0)}else p=[s];y.push(p),_=A+f,b=k}else p.push(s),_+=b+A,b=k}return d=f?function(I,F){return(F?C:"")+I.join(" ")}:function(I){return I.join(" ")},y.map(d)},gh.splitTextToSize=function(n,e,t){var s,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var y=this.internal.getFont(p.fontName,p.fontStyle),_="Unicode";return y.metadata[_]?{widths:y.metadata[_].widths||{0:1},kerning:y.metadata[_].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);s=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=s.length;c<f;c++)d=d.concat(ux.apply(this,[s[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",s={},a={},o=0;o<16;o++)s[t[o]]=e[o],a[e[o]]=t[o];var u=function(_){return"0x"+parseInt(_,10).toString(16)},c=n.__fontmetrics__.compress=function(_){var b,A,N,k,C=["{"];for(var R in _){if(b=_[R],isNaN(parseInt(R,10))?A="'"+R+"'":(R=parseInt(R,10),A=(A=u(R).slice(2)).slice(0,-1)+a[A.slice(-1)]),typeof b=="number")b<0?(N=u(b).slice(3),k="-"):(N=u(b).slice(2),k=""),N=k+N.slice(0,-1)+a[N.slice(-1)];else{if(er(b)!=="object")throw new Error("Don't know what to do with value type "+er(b)+".");N=c(b)}C.push(A+N)}return C.push("}"),C.join("")},f=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,A,N,k,C={},R=1,D=C,I=[],F="",Y="",G=_.length-1,O=1;O<G;O+=1)(k=_[O])=="'"?b?(N=b.join(""),b=void 0):b=[]:b?b.push(k):k=="{"?(I.push([D,N]),D={},N=void 0):k=="}"?((A=I.pop())[0][A[1]]=D,N=void 0,D=A[0]):k=="-"?R=-1:N===void 0?s.hasOwnProperty(k)?(F+=s[k],N=parseInt(F,16)*R,R=1,F=""):F+=k:s.hasOwnProperty(k)?(Y+=s[k],D[N]=parseInt(Y,16)*R,R=1,N=void 0,Y=""):Y+=k;return C},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var b=_.font,A=y.Unicode[b.postScriptName];A&&(b.metadata.Unicode={},b.metadata.Unicode.widths=A.widths,b.metadata.Unicode.kerning=A.kerning);var N=p.Unicode[b.postScriptName];N&&(b.metadata.Unicode.encoding=N,b.encoding=N.codePages[0])}])})(Ft.API),(function(n){var e=function(t){for(var s=t.length,a=new Uint8Array(s),o=0;o<s;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var s=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(G1(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,s)}}])})(Ft),Ft.API.addSvgAsImage=function(n,e,t,s,a,o,u,c){if(isNaN(e)||isNaN(t))throw mr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw mr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(nn.canvg?Promise.resolve(nn.canvg):Th(()=>import("./index.es-DDQ6AvTh.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(d,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(p)}).then(function(){y.addImage(f.toDataURL("image/jpeg",1),e,t,s,a,u,c)})},Ft.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,t);return this},Ft.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var s,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,p=0,y=0;function _(A,N){var k,C=!1;for(k=0;k<A.length;k+=1)A[k]===N&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=c.length;for(y=0;y<b;y+=1)t[c[y]].value=t[c[y]].defaultValue,t[c[y]].explicitSet=!1}if(er(n)==="object"){for(a in n)if(o=n[a],_(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&_(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(s=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(p=0;p<o[d].length;p+=1)typeof o[d][p]!="number"&&(s=!1);s===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,N=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?N.push("/"+A+" /"+t[A].value):N.push("/"+A+" "+t[A].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Ft.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],y=0,_=o.length;y<_;++y){if(c=u.metadata.characterToGlyph(o.charCodeAt(y)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(y),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(d[4-c.length],c)}return p.join("")},s=function(o){var u,c,f,d,p,y,_;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],y=0,_=(c=Object.keys(o).sort(function(b,A){return b-A})).length;y<_;y++)u=c[y],f.length>=100&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,p=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,_=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",A=0;A<_.length;A++)b+=String.fromCharCode(_[A]);var N=d();p({data:b,addLength1:!0,objectId:N}),f("endobj");var k=d();p({data:s(c.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var C=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+yh(c.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var R=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+yh(c.fontName)),f("/FontDescriptor "+C+" 0 R"),f("/W "+n.API.PDFObject.convert(y)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+k+" 0 R"),f("/BaseFont /"+yh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+R+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,p=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,_="",b=0;b<y.length;b++)_+=String.fromCharCode(y[b]);var A=d();p({data:_,addLength1:!0,objectId:A}),f("endobj");var N=d();p({data:s(c.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var k=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+A+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+yh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var C=0;C<c.metadata.hmtx.widths.length;C++)c.metadata.hmtx.widths[C]=parseInt(c.metadata.hmtx.widths[C]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+yh(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,c=o.text||"",f=o.x,d=o.y,p=o.options||{},y=o.mutex||{},_=y.pdfEscape,b=y.activeFontKey,A=y.fonts,N=b,k="",C=0,R="",D=A[N].encoding;if(A[N].encoding!=="Identity-H")return{text:c,x:f,y:d,options:p,mutex:y};for(R=c,N=b,Array.isArray(c)&&(R=c[0]),C=0;C<R.length;C+=1)A[N].metadata.hasOwnProperty("cmap")&&(u=A[N].metadata.cmap.unicode.codeMap[R[C].charCodeAt(0)]),u||R[C].charCodeAt(0)<256&&A[N].metadata.hasOwnProperty("Unicode")?k+=R[C]:k+="";var I="";return parseInt(N.slice(1))<14||D==="WinAnsiEncoding"?I=_(k,N).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(I=t(k,A[N])),y.isHex=!0,{text:I,x:f,y:d,options:p,mutex:y}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(a(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:u})).text}])})(Ft),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ft.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(s){var a,o,u,c,f,d,p,y=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,D=0;this.__bidiEngine__={};var I=function(j){var V=j.charCodeAt(),ne=V>>8,W=N[ne];return W!==void 0?y[256*W+(255&V)]:ne===252||ne===253?"AL":C.test(ne)?"L":ne===8?"R":"N"},F=function(j){for(var V,ne=0;ne<j.length;ne++){if((V=I(j.charAt(ne)))==="L")return!1;if(V==="R")return!0}return!1},Y=function(j,V,ne,W){var oe,$,te,le,pe=V[W];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(pe="AN");break;case"AL":R=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":W<1||W+1>=V.length||(oe=ne[W-1])!=="EN"&&oe!=="AN"||($=V[W+1])!=="EN"&&$!=="AN"?pe="N":R&&($="AN"),pe=$===oe?$:"N";break;case"ES":pe=(oe=W>0?ne[W-1]:"B")==="EN"&&W+1<V.length&&V[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&ne[W-1]==="EN"){pe="EN";break}if(R){pe="N";break}for(te=W+1,le=V.length;te<le&&V[te]==="ET";)te++;pe=te<le&&V[te]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(le=V.length,te=W+1;te<le&&V[te]==="NSM";)te++;if(te<le){var be=j[W],z=be>=1425&&be<=2303||be===64286;if(oe=V[te],z&&(oe==="R"||oe==="AL")){pe="R";break}}}pe=W<1||(oe=V[W-1])==="B"?"N":ne[W-1];break;case"B":R=!1,a=!0,pe=D;break;case"S":o=!0,pe="N"}return pe},G=function(j,V,ne){var W=j.split("");return ne&&O(W,ne,{hiLevel:D}),W.reverse(),V&&V.reverse(),W.join("")},O=function(j,V,ne){var W,oe,$,te,le,pe=-1,be=j.length,z=0,M=[],H=D?b:_,J=[];for(R=!1,a=!1,o=!1,oe=0;oe<be;oe++)J[oe]=I(j[oe]);for($=0;$<be;$++){if(le=z,M[$]=Y(j,J,M,$),W=240&(z=H[le][A[M[$]]]),z&=15,V[$]=te=H[z][5],W>0)if(W===16){for(oe=pe;oe<$;oe++)V[oe]=1;pe=-1}else pe=-1;if(H[z][6])pe===-1&&(pe=$);else if(pe>-1){for(oe=pe;oe<$;oe++)V[oe]=te;pe=-1}J[$]==="B"&&(V[$]=0),ne.hiLevel|=te}o&&(function(Q,ae,fe){for(var de=0;de<fe;de++)if(Q[de]==="S"){ae[de]=D;for(var xe=de-1;xe>=0&&Q[xe]==="WS";xe--)ae[xe]=D}})(J,V,be)},B=function(j,V,ne,W,oe){if(!(oe.hiLevel<j)){if(j===1&&D===1&&!a)return V.reverse(),void(ne&&ne.reverse());for(var $,te,le,pe,be=V.length,z=0;z<be;){if(W[z]>=j){for(le=z+1;le<be&&W[le]>=j;)le++;for(pe=z,te=le-1;pe<te;pe++,te--)$=V[pe],V[pe]=V[te],V[te]=$,ne&&($=ne[pe],ne[pe]=ne[te],ne[te]=$);z=le}z++}}},K=function(j,V,ne){var W=j.split(""),oe={hiLevel:D};return ne||(ne=[]),O(W,ne,oe),(function($,te,le){if(le.hiLevel!==0&&p)for(var pe,be=0;be<$.length;be++)te[be]===1&&(pe=k.indexOf($[be]))>=0&&($[be]=k[pe+1])})(W,ne,oe),B(2,W,V,ne,oe),B(1,W,V,ne,oe),W.join("")};return this.__bidiEngine__.doBidiReorder=function(j,V,ne){if((function(oe,$){if($)for(var te=0;te<oe.length;te++)$[te]=te;c===void 0&&(c=F(oe)),d===void 0&&(d=F(oe))})(j,V),u||!f||d)if(u&&f&&c^d)D=c?1:0,j=G(j,V,ne);else if(!u&&f&&d)D=c?1:0,j=K(j,V,ne),j=G(j,V);else if(!u||c||f||d){if(u&&!f&&c^d)j=G(j,V),c?(D=0,j=K(j,V,ne)):(D=1,j=K(j,V,ne),j=G(j,V));else if(u&&c&&!f&&d)D=1,j=K(j,V,ne),j=G(j,V);else if(!u&&!f&&c^d){var W=p;c?(D=1,j=K(j,V,ne),D=0,p=!1,j=K(j,V,ne),p=W):(D=0,j=K(j,V,ne),j=G(j,V),D=1,p=!1,j=K(j,V,ne),p=W,j=G(j,V))}}else D=0,j=K(j,V,ne);else D=c?1:0,j=K(j,V,ne);return j},this.__bidiEngine__.setOptions=function(j){j&&(u=j.isInputVisual,f=j.isOutputVisual,c=j.isInputRtl,d=j.isOutputRtl,p=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(u=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?u.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):u.push([t.doBidiReorder(a[c])]);s.text=u}else s.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Ft),Ft.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new jc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new dL(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new JM(this.contents),this.head=new tL(this),this.name=new aL(this),this.cmap=new v4(this),this.toUnicode={},this.hhea=new nL(this),this.maxp=new oL(this),this.hmtx=new lL(this),this.post=new sL(this),this.os2=new rL(this),this.loca=new fL(this),this.glyf=new cL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,s,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,s){var a,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},n})();var vo,jc=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},n.prototype.writeString=function(e){var t,s,a;for(a=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,s,a,o,u,c,f;return e=this.readByte(),t=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*a+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},n.prototype.write=function(e){var t,s,a,o;for(o=[],s=0,a=e.length;s<a;s++)t=e[s],o.push(this.writeByte(t));return o},n})(),JM=(function(){var n;function e(t){var s,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,a,o,u,c,f,d,p,y,_,b,A,N;for(N in b=Object.keys(t).length,f=Math.log(2),y=16*Math.floor(Math.log(b)/f),u=Math.floor(y/f),p=16*b-y,(a=new jc).writeInt(this.scalarType),a.writeShort(b),a.writeShort(y),a.writeShort(u),a.writeShort(p),o=16*b,d=a.pos+o,c=null,A=[],t)for(_=t[N],a.writeString(N),a.writeInt(n(_)),a.writeInt(d),a.writeInt(_.length),A=A.concat(_),N==="head"&&(c=d),d+=_.length;d%4;)A.push(0),d++;return a.write(A),s=2981146554-n(a.data),a.pos=c+8,a.writeUInt32(s),a.data},n=function(t){var s,a,o,u;for(t=y4.call(t);t.length%4;)t.push(0);for(o=new jc(t),a=0,s=0,u=t.length;s<u;s=s+=4)a+=o.readUInt32();return 4294967295&a},e})(),eL={}.hasOwnProperty,$o=function(n,e){for(var t in e)eL.call(e,t)&&(n[t]=e[t]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};vo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var tL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,vo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new jc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),yx=(function(){function n(e,t){var s,a,o,u,c,f,d,p,y,_,b,A,N,k,C,R,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),_=b/2,e.pos+=6,o=(function(){var I,F;for(F=[],f=I=0;0<=_?I<_:I>_;f=0<=_?++I:--I)F.push(e.readUInt16());return F})(),e.pos+=2,N=(function(){var I,F;for(F=[],f=I=0;0<=_?I<_:I>_;f=0<=_?++I:--I)F.push(e.readUInt16());return F})(),d=(function(){var I,F;for(F=[],f=I=0;0<=_?I<_:I>_;f=0<=_?++I:--I)F.push(e.readUInt16());return F})(),p=(function(){var I,F;for(F=[],f=I=0;0<=_?I<_:I>_;f=0<=_?++I:--I)F.push(e.readUInt16());return F})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var I,F;for(F=[],f=I=0;0<=a?I<a:I>a;f=0<=a?++I:--I)F.push(e.readUInt16());return F})(),f=C=0,D=o.length;C<D;f=++C)for(k=o[f],s=R=A=N[f];A<=k?R<=k:R>=k;s=A<=k?++R:--R)p[f]===0?u=s+d[f]:(u=c[p[f]/2+(s-A)-(_-f)]||0)!==0&&(u+=d[f]),this.codeMap[s]=65535&u}e.pos=y}return n.encode=function(e,t){var s,a,o,u,c,f,d,p,y,_,b,A,N,k,C,R,D,I,F,Y,G,O,B,K,j,V,ne,W,oe,$,te,le,pe,be,z,M,H,J,Q,ae,fe,de,xe,we,Ve,Xe;switch(W=new jc,u=Object.keys(e).sort(function(et,ct){return et-ct}),t){case"macroman":for(N=0,k=(function(){var et=[];for(A=0;A<256;++A)et.push(0);return et})(),R={0:0},o={},oe=0,pe=u.length;oe<pe;oe++)R[xe=e[a=u[oe]]]==null&&(R[xe]=++N),o[a]={old:e[a],new:R[e[a]]},k[a]=R[e[a]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(k),{charMap:o,subtable:W.data,maxGlyphID:N+1};case"unicode":for(V=[],y=[],D=0,R={},s={},C=d=null,$=0,be=u.length;$<be;$++)R[F=e[a=u[$]]]==null&&(R[F]=++D),s[a]={old:F,new:R[F]},c=R[F]-a,C!=null&&c===d||(C&&y.push(C),V.push(a),d=c),C=a;for(C&&y.push(C),y.push(65535),V.push(65535),K=2*(B=V.length),O=2*Math.pow(Math.log(B)/Math.LN2,2),_=Math.log(O/2)/Math.LN2,G=2*B-O,f=[],Y=[],b=[],A=te=0,z=V.length;te<z;A=++te){if(j=V[A],p=y[A],j===65535){f.push(0),Y.push(0);break}if(j-(ne=s[j].new)>=32768)for(f.push(0),Y.push(2*(b.length+B-A)),a=le=j;j<=p?le<=p:le>=p;a=j<=p?++le:--le)b.push(s[a].new);else f.push(ne-j),Y.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*B+2*b.length),W.writeUInt16(0),W.writeUInt16(K),W.writeUInt16(O),W.writeUInt16(_),W.writeUInt16(G),fe=0,M=y.length;fe<M;fe++)a=y[fe],W.writeUInt16(a);for(W.writeUInt16(0),de=0,H=V.length;de<H;de++)a=V[de],W.writeUInt16(a);for(we=0,J=f.length;we<J;we++)c=f[we],W.writeUInt16(c);for(Ve=0,Q=Y.length;Ve<Q;Ve++)I=Y[Ve],W.writeUInt16(I);for(Xe=0,ae=b.length;Xe<ae;Xe++)N=b[Xe],W.writeUInt16(N);return{charMap:s,subtable:W.data,maxGlyphID:D+1}}},n})(),v4=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,vo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,s,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)t=new yx(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var s,a;return t==null&&(t="macroman"),s=yx.encode(e,t),(a=new jc).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},n})(),nL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,vo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),rL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,vo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,s;for(s=[],t=0;t<10;++t)s.push(e.readByte());return s})(),this.charRange=(function(){var t,s;for(s=[],t=0;t<4;++t)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,s;for(s=[],t=0;t<2;t=++t)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),sL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,vo),n.prototype.tag="post",n.prototype.parse=function(e){var t,s,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),iL=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},aL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,vo),n.prototype.tag="name",n.prototype.parse=function(e){var t,s,a,o,u,c,f,d,p,y,_;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),s=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=p=0,y=s.length;p<y;o=++p)a=s[o],e.pos=a.offset,d=e.readString(a.length),u=new iL(d,a),f[_=a.nameID]==null&&(f[_]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),oL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,vo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),lL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,vo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,s,a,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,p;for(p=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)p.push(e.readInt16());return p})(),this.widths=(function(){var d,p,y,_;for(_=[],d=0,p=(y=this.metrics).length;d<p;d++)o=y[d],_.push(o.advance);return _}).call(this),s=this.widths[this.widths.length-1],f=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)f.push(this.widths.push(s));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),y4=[].slice,cL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,vo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,s,a,o,u,c,f,d,p,y;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,s=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+s,u=(c=new jc(t.read(a))).readShort(),d=c.readShort(),y=c.readShort(),f=c.readShort(),p=c.readShort(),this.cache[e]=u===-1?new hL(c,d,y,f,p):new uL(c,u,d,y,f,p),this.cache[e]))},n.prototype.encode=function(e,t,s){var a,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(u.length),a&&(u=u.concat(a.encode(s)));return o.push(u.length),{table:u,offsets:o}},n})(),uL=(function(){function n(e,t,s,a,o,u){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),hL=(function(){function n(e,t,s,a,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,s;for(t=new jc(y4.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),fL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,vo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,s;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,u=0;u<s.length;++u)if(s[u]=a,o<t.length&&t[o]==u){++o,s[u]=a;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(a+=f)}for(var d=new Array(4*s.length),p=0;p<s.length;++p)d[4*p+3]=255&s[p],d[4*p+2]=(65280&s[p])>>8,d[4*p+1]=(16711680&s[p])>>16,d[4*p]=(4278190080&s[p])>>24;return d},n})(),dL=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,s,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[t],e[t]=a[s];return e},n.prototype.glyphsFor=function(e){var t,s,a,o,u,c,f;for(a={},u=0,c=e.length;u<c;u++)a[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(s=a[o])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))s=f[o],a[o]=s;return a},n.prototype.encode=function(e,t){var s,a,o,u,c,f,d,p,y,_,b,A,N,k,C;for(a in s=v4.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),b={0:0},C=s.charMap)b[(f=C[a]).old]=f.new;for(A in _=s.maxGlyphID,u)A in b||(b[A]=_++);return p=(function(R){var D,I;for(D in I={},R)I[R[D]]=D;return I})(b),y=Object.keys(p).sort(function(R,D){return R-D}),N=(function(){var R,D,I;for(I=[],R=0,D=y.length;R<D;R++)c=y[R],I.push(p[c]);return I})(),o=this.font.glyf.encode(u,N,b),d=this.font.loca.encode(o.offsets,N),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},n})();Ft.API.PDFObject=(function(){var n;function e(){}return n=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,a,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)s=t[c],d.push(e.convert(s));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)u=t[a],o.push("/"+a+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();var Q1={exports:{}},pL=Q1.exports,xx;function mL(){return xx||(xx=1,(function(n,e){(function(t,s){s()})(pL,function(){function t(d,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function s(d,p,y){var _=new XMLHttpRequest;_.open("GET",d),_.responseType="blob",_.onload=function(){f(_.response,p,y)},_.onerror=function(){console.error("could not download file")},_.send()}function a(d){var p=new XMLHttpRequest;p.open("HEAD",d,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function o(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(p)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof S1=="object"&&S1.global===S1?S1:void 0,c=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(d,p,y){var _=u.URL||u.webkitURL,b=document.createElement("a");p=p||d.name||"download",b.download=p,b.rel="noopener",typeof d=="string"?(b.href=d,b.origin===location.origin?o(b):a(b.href)?s(d,p,y):o(b,b.target="_blank")):(b.href=_.createObjectURL(d),setTimeout(function(){_.revokeObjectURL(b.href)},4e4),setTimeout(function(){o(b)},0))}:"msSaveOrOpenBlob"in navigator?function(d,p,y){if(p=p||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,y),p);else if(a(d))s(d,p,y);else{var _=document.createElement("a");_.href=d,_.target="_blank",setTimeout(function(){o(_)})}}:function(d,p,y,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof d=="string")return s(d,p,y);var b=d.type==="application/octet-stream",A=/constructor/i.test(u.HTMLElement)||u.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||b&&A||c)&&typeof FileReader<"u"){var k=new FileReader;k.onloadend=function(){var D=k.result;D=N?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=D:location=D,_=null},k.readAsDataURL(d)}else{var C=u.URL||u.webkitURL,R=C.createObjectURL(d);_?_.location=R:location.href=R,_=null,setTimeout(function(){C.revokeObjectURL(R)},4e4)}});u.saveAs=f.saveAs=f,n.exports=f})})(Q1)),Q1.exports}var gL=mL();const R2="chordWheelSongs",Cg="chordWheelCurrentSongId",ed=()=>{try{const n=localStorage.getItem(R2);return n?JSON.parse(n).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(n){return console.error("Error loading saved songs:",n),[]}},wx=n=>{try{const e=ed(),t=e.findIndex(a=>a.id===n.id),s={...n,updatedAt:new Date().toISOString(),createdAt:n.createdAt instanceof Date?n.createdAt.toISOString():n.createdAt};t>=0?e[t]=s:e.push({...s,createdAt:new Date().toISOString()}),localStorage.setItem(R2,JSON.stringify(e)),localStorage.setItem(Cg,n.id)}catch(e){console.error("Error saving song:",e)}},bL=n=>{try{const t=ed().filter(s=>s.id!==n);localStorage.setItem(R2,JSON.stringify(t)),localStorage.getItem(Cg)===n&&localStorage.removeItem(Cg)}catch(e){console.error("Error deleting song:",e)}},vL=({isOpen:n,onClose:e,onConfirm:t,title:s,message:a,confirmLabel:o="Confirm",cancelLabel:u="Cancel",isDestructive:c=!1})=>(re.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),re.useEffect(()=>{const f=d=>{d.key==="Escape"&&n&&e()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[n,e]),n?v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e}),v.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-sm w-full overflow-hidden flex flex-col scale-100 opacity-100 transition-all",children:[v.jsxs("div",{className:"p-6",children:[v.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:s}),v.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:a})]}),v.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-[#22222e] border-t border-border-subtle",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:u}),v.jsx("button",{onClick:()=>{t(),e()},className:`px-4 py-2 text-sm font-bold text-white rounded-lg shadow-lg transition-transform active:scale-95 ${c?"bg-red-500 hover:bg-red-600":"bg-accent-primary hover:bg-accent-secondary"}`,children:o})]})]})]}):null),x4={I:{degree:0,quality:"major"},ii:{degree:1,quality:"minor"},iii:{degree:2,quality:"minor"},IV:{degree:3,quality:"major"},V:{degree:4,quality:"major"},vi:{degree:5,quality:"minor"},"vii":{degree:6,quality:"diminished"},iv:{degree:3,quality:"minor"},"VI":{degree:8,quality:"major"},bVI:{degree:8,quality:"major"},"VII":{degree:10,quality:"major"},bVII:{degree:10,quality:"major"}},yL=[0,2,4,5,7,9,11];function xL(n,e){const t=Lh(e),s=Tl.indexOf(t);if(s===-1)return e;const a=x4[n];if(!a)return console.warn(`Unknown roman numeral: ${n}`),e;let o;a.degree<7?o=yL[a.degree]:o=a.degree;const u=(s+o)%12;return Tl[u]}function wL(n,e){const t=x4[n]||{quality:"major"},s=xL(n,e),a=ka(s,t.quality);return{root:s,quality:t.quality,numeral:n,notes:a,symbol:`${s}${t.quality==="major"?"":t.quality==="minor"?"m":""}`}}function I2(n,e){return n.map(t=>wL(t,e))}let K1=!1,Cp=[];function V2(){K1=!1,Cp.forEach(n=>clearTimeout(n)),Cp=[]}async function w4(n,e,t=120,s=2,a){V2(),K1=!0,vs.state!=="running"&&await _u(),vs.state==="suspended"&&await vs.resume(),await Lc();const o=I2(n,e),c=60/t*1e3*s,d=`${4/s}n`;return new Promise(p=>{o.forEach((y,_)=>{const b=window.setTimeout(()=>{if(K1&&(a?.(_,y),Gr(y.notes,d),_===o.length-1)){const A=window.setTimeout(()=>{K1=!1,p()},c);Cp.push(A)}},_*c);Cp.push(b)})})}const _L=[{id:"pop-anthem",name:"Pop/Rock Anthem",description:"The most popular progression in modern music. Uplifting and anthemic.",numerals:["I","V","vi","IV"],genre:"Pop/Rock",artists:"U2, The Beatles, Blink-182",color:"accent-primary",sectionType:"chorus",sectionName:"Anthem",beatsPerChord:4},{id:"emotional-ballad",name:"Emotional Ballad",description:"Starts on the minor chord for a melancholic, emotional feel.",numerals:["vi","IV","I","V"],genre:"Ballad",artists:"Adele, John Legend",color:"purple-400",sectionType:"verse",sectionName:"Ballad",beatsPerChord:4},{id:"jazz-ii-v-i",name:"Jazz / R&B",description:"The foundation of jazz harmony. Smooth and sophisticated.",numerals:["ii","V","I"],genre:"Jazz/R&B",artists:"Maroon 5, Jazz Standards",color:"blue-400",sectionType:"verse",sectionName:"ii-V-I",beatsPerChord:4,totalBars:4},{id:"50s-progression",name:"50s Doo-Wop",description:"Classic rock and roll. Nostalgic and feel-good.",numerals:["I","vi","IV","V"],genre:"Oldies",artists:"Stand By Me, Earth Angel",color:"yellow-400",sectionType:"verse",sectionName:"Doo-Wop",beatsPerChord:4},{id:"andalusian",name:"Andalusian Cadence",description:"Dramatic descending progression. Spanish/Flamenco influenced.",numerals:["vi","V","IV","III"],genre:"Dramatic",artists:"Hit the Road Jack, Sultans of Swing",color:"red-400",sectionType:"verse",sectionName:"Andal.",beatsPerChord:4},{id:"pachelbel",name:"Pachelbel Canon",description:"The classical progression that influenced centuries of music.",numerals:["I","V","vi","iii","IV","I","IV","V"],genre:"Classical/Pop",artists:"Canon in D, Basket Case",color:"green-400",sectionType:"verse",sectionName:"Canon",beatsPerChord:2}],SL=[{id:"perfect",name:"Perfect Cadence",description:'The "Full Stop". Strongest resolution.',numerals:["V","I"],color:"green-500",emotion:"Conclusive"},{id:"plagal",name:"Plagal Cadence",description:'The "Amen". Softer, church-like resolution.',numerals:["IV","I"],color:"blue-500",emotion:"Peaceful"},{id:"half",name:"Half Cadence",description:'The "Comma". Leaves listeners wanting more.',numerals:["I","V"],color:"yellow-500",emotion:"Suspenseful"},{id:"deceptive",name:"Deceptive Cadence",description:'The "Surprise". Expecting I, getting vi.',numerals:["V","vi"],color:"purple-500",emotion:"Unexpected"}],NL=({preset:n,showAddButton:e=!0,compact:t=!1,onAddToTimeline:s})=>{const{selectedKey:a,currentSong:o,openTimeline:u}=sn(),c=sn(R=>R.addCustomSection),[f,d]=re.useState(!1),[p,y]=re.useState(null),[_,b]=re.useState(!1),A=I2(n.numerals,a),N=async()=>{if(f){V2(),d(!1),y(null);return}d(!0),y(0);try{await w4(n.numerals,a,o.tempo,n.beatsPerChord,R=>{y(R)})}finally{d(!1),y(null)}},k=async(R,D)=>{if(f)return;y(D);const I=n.beatsPerChord>=4?"1n":"2n";await Gr(R.notes,I),setTimeout(()=>y(null),400)},C=()=>{c&&(c(n.sectionName,n.sectionType,A,{beatsPerChord:n.beatsPerChord,totalBars:n.totalBars}),u(),b(!0),setTimeout(()=>b(!1),1500),s?.())};return v.jsxs("div",{className:`
                p-2.5 rounded bg-bg-tertiary transition-all duration-300 overflow-hidden
                ${t?"text-xs":"text-sm"}
                ${_?"ring-2 ring-green-500 bg-green-500/10":""}
            `,children:[v.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[v.jsxs("div",{className:"min-w-0",children:[v.jsx("span",{className:"font-bold text-white",children:n.name}),n.artists&&v.jsx("span",{className:"block text-xs text-gray-500 truncate",children:n.artists})]}),e&&v.jsxs("button",{onClick:C,className:`
                            flex items-center gap-1 px-2 py-1 rounded text-xs font-medium shrink-0
                            transition-all duration-200
                            ${_?"bg-green-500 text-white":"bg-bg-elevated hover:bg-accent-primary/20 text-gray-400 hover:text-accent-primary"}
                        `,title:"Add to timeline",children:[v.jsx($h,{size:12}),v.jsx("span",{className:"hidden sm:inline",children:_?"Added!":"Add"})]})]}),v.jsxs("div",{className:"grid gap-1.5",style:{gridTemplateColumns:"auto repeat(4, minmax(0, max-content))",justifyContent:"start"},children:[v.jsx("button",{onClick:N,className:`
                        flex items-center justify-center w-7 h-7 rounded-full shrink-0
                        transition-all duration-200
                        ${f?"bg-red-500 hover:bg-red-600 text-white":"bg-accent-primary/20 hover:bg-accent-primary/40 text-accent-primary"}
                    `,title:f?"Stop":"Play progression",children:f?v.jsx($3,{size:12}):v.jsx(Yh,{size:12,className:"ml-0.5"})}),n.numerals.map((R,D)=>{const I=A[D],F=p===D,Y=D<4?void 0:D%4+2;return v.jsx("button",{onClick:()=>k(I,D),disabled:f,className:`
                                text-xs px-2 py-1 rounded font-medium
                                transition-all duration-150
                                ${F?`bg-${n.color} text-white scale-110 shadow-lg shadow-${n.color}/30`:`bg-black/40 text-${n.color} hover:bg-black/60 hover:scale-105`}
                                ${f&&!F?"opacity-50":""}
                                disabled:cursor-not-allowed
                            `,style:{...F?{backgroundColor:`var(--color-${n.color})`}:{},...Y?{gridColumn:Y}:{}},title:`Play ${I.symbol}`,children:R},`${R}-${D}`)})]})]})},AL=({preset:n})=>{const{selectedKey:e,currentSong:t}=sn(),[s,a]=re.useState(!1),[o,u]=re.useState(null),c=I2(n.numerals,e),f=async()=>{if(s){V2(),a(!1),u(null);return}a(!0),u(0);try{await w4(n.numerals,e,t.tempo,2,y=>{u(y)})}finally{a(!1),u(null)}},d=async(y,_)=>{s||(u(_),await Gr(y.notes,"2n"),setTimeout(()=>u(null),400))},p=`text-${n.color.replace("-500","-400")}`;return v.jsxs("div",{className:`
                group p-3 rounded bg-bg-tertiary hover:bg-bg-tertiary/80 
                transition-all duration-200 border-l-2
            `,style:{borderColor:`var(--color-${n.color}, currentColor)`},children:[v.jsxs("div",{className:"flex justify-between items-center mb-1 gap-2",children:[v.jsx("span",{className:"font-bold text-white",children:n.name}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:f,className:`
                            w-6 h-6 rounded-full flex items-center justify-center
                            transition-all duration-200
                            ${s?"bg-red-500 text-white":"bg-white/10 hover:bg-white/20 text-white/70 hover:text-white"}
                        `,title:s?"Stop":"Play cadence",children:s?v.jsx("div",{className:"w-2 h-2 bg-white rounded-sm"}):v.jsx(Yh,{size:10,className:"ml-0.5"})}),v.jsx("div",{className:"flex gap-0.5",children:n.numerals.map((y,_)=>{const b=c[_],A=o===_;return v.jsxs(Xn.Fragment,{children:[v.jsx("button",{onClick:()=>d(b,_),disabled:s,className:`
                                            text-xs px-1.5 py-0.5 rounded
                                            transition-all duration-150
                                            ${A?"bg-white text-black scale-110":`bg-black/30 ${p} hover:bg-black/50 hover:scale-105`}
                                        `,style:A?{backgroundColor:`var(--color-${n.color})`,color:"white"}:void 0,title:`Play ${b.symbol}`,children:y}),_<n.numerals.length-1&&v.jsx("span",{className:"text-gray-500 text-xs flex items-center",children:""})]},`${y}-${_}`)})})]})]}),v.jsx("p",{className:"text-gray-400 text-xs",children:n.description})]})},_x=({size:n=32})=>v.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",style:{width:n,height:n},children:[[...Array(12)].map((e,t)=>{const s=t*30,a=(s-15-90)*Math.PI/180,o=(s+15-90)*Math.PI/180,u=18,c=46,f=t<=4||t>=10;let d;f?t===0?d="rgba(234, 179, 8, 0.9)":t===1?d="rgba(163, 190, 60, 0.85)":t===2?d="rgba(132, 204, 22, 0.8)":t===3?d="rgba(74, 222, 128, 0.7)":t===4?d="rgba(45, 212, 191, 0.6)":t===11?d="rgba(251, 146, 60, 0.85)":t===10?d="rgba(168, 162, 158, 0.6)":d="rgba(200, 180, 100, 0.7)":d=["rgba(100, 80, 120, 0.5)","rgba(80, 70, 90, 0.5)","rgba(60, 55, 70, 0.5)"][t%3];const p=50+u*Math.cos(a),y=50+u*Math.sin(a),_=50+c*Math.cos(a),b=50+c*Math.sin(a),A=50+c*Math.cos(o),N=50+c*Math.sin(o),k=50+u*Math.cos(o),C=50+u*Math.sin(o);return v.jsx("path",{d:`M ${p} ${y} L ${_} ${b} A ${c} ${c} 0 0 1 ${A} ${N} L ${k} ${C} A ${u} ${u} 0 0 0 ${p} ${y}`,fill:d,stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.5"},t)}),v.jsx("circle",{cx:"50",cy:"50",r:"16",fill:"rgba(20, 20, 30, 0.95)",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})]}),Sx=({onClose:n})=>{const{selectedKey:e}=sn();return v.jsxs(v.Fragment,{children:[v.jsxs("section",{className:"relative",children:[v.jsx("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-accent-primary/20 rounded-full blur-3xl pointer-events-none"}),v.jsx("div",{className:"absolute -bottom-5 -right-5 w-24 h-24 bg-purple-500/15 rounded-full blur-3xl pointer-events-none"}),v.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-4 flex items-center gap-2 relative",children:[v.jsx(hC,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),v.jsxs("div",{className:"relative bg-gradient-to-b from-bg-elevated/60 to-bg-elevated/40 rounded-xl p-5 border border-white/5 space-y-4",children:[v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-accent-primary/10 border border-accent-primary/20 flex items-center justify-center group-hover:bg-accent-primary/20 transition-colors",children:v.jsx(P3,{size:18,className:"text-accent-primary"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Tap any chord"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Tap a chord on the wheel to hear it and see voicings, or ",v.jsx("strong",{className:"text-gray-300",children:"double-tap"})," to add it to your timeline."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:v.jsx(Bh,{size:18,className:"text-purple-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Change the key"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[v.jsx("strong",{className:"text-gray-300",children:"Drag the wheel"})," to rotate and change keys. Highlighted chords always sound good together."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center group-hover:bg-emerald-500/20 transition-colors",children:v.jsx(q3,{size:18,className:"text-emerald-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Add to your timeline"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Tap the ",v.jsx("strong",{className:"text-emerald-400",children:"+ Add"})," button, or ",v.jsx("strong",{className:"text-gray-300",children:"double-tap"})," any chord preview to place it on your timeline."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-amber-500/10 border border-amber-500/20 flex items-center justify-center group-hover:bg-amber-500/20 transition-colors",children:v.jsx(mp,{size:18,className:"text-amber-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Arrange your song"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Open the ",v.jsx("strong",{className:"text-gray-300",children:"Song Map"})," to see your full arrangement, reorder sections, and play back your progression."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-sky-500/10 border border-sky-500/20 flex items-center justify-center group-hover:bg-sky-500/20 transition-colors",children:v.jsx(p2,{size:18,className:"text-sky-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Export your chord sheet"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[v.jsx("strong",{className:"text-gray-300",children:"Tap the download icon"})," in the header to export a printable PDF with chords and guitar diagrams."]})]})]}),v.jsx("div",{className:"mt-5 p-3 rounded-xl bg-white/5 border border-white/10",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"shrink-0 w-14 h-14 relative",children:v.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[[...Array(12)].map((t,s)=>{const a=s*30,o=(a-15-90)*Math.PI/180,u=(a+15-90)*Math.PI/180,c=18,f=46,d=s<=4||s>=10;let p;d?s===0?p="rgba(234, 179, 8, 0.9)":s===1?p="rgba(163, 190, 60, 0.85)":s===2?p="rgba(132, 204, 22, 0.8)":s===3?p="rgba(74, 222, 128, 0.7)":s===4?p="rgba(45, 212, 191, 0.6)":s===11?p="rgba(251, 146, 60, 0.85)":s===10?p="rgba(168, 162, 158, 0.6)":p="rgba(200, 180, 100, 0.7)":p=["rgba(100, 80, 120, 0.5)","rgba(80, 70, 90, 0.5)","rgba(60, 55, 70, 0.5)"][s%3];const y=50+c*Math.cos(o),_=50+c*Math.sin(o),b=50+f*Math.cos(o),A=50+f*Math.sin(o),N=50+f*Math.cos(u),k=50+f*Math.sin(u),C=50+c*Math.cos(u),R=50+c*Math.sin(u);return v.jsx("path",{d:`M ${y} ${_} L ${b} ${A} A ${f} ${f} 0 0 1 ${N} ${k} L ${C} ${R} A ${c} ${c} 0 0 0 ${y} ${_}`,fill:p,stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.5"},s)}),v.jsx("circle",{cx:"50",cy:"50",r:"16",fill:"rgba(20, 20, 30, 0.95)",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})]})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("strong",{className:"text-xs text-white block mb-1",children:"Understanding the Wheel"}),v.jsxs("div",{className:"text-[11px] text-gray-400 leading-snug space-y-0.5",children:[v.jsxs("div",{children:[v.jsx("strong",{className:"text-gray-300",children:"Highlighted"})," = in key"]}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-gray-300",children:"Inner"})," = Major (I, IV, V)"]}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-gray-300",children:"Middle"})," = Minor (ii, iii, vi)"]}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-gray-300",children:"Outer"})," = Dim (vii)"]})]})]})]})}),v.jsx("div",{className:"p-3 rounded-xl bg-accent-primary/5 border border-accent-primary/20",children:v.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[v.jsx(ad,{size:14,className:"text-accent-primary shrink-0"}),v.jsxs("span",{className:"flex items-center gap-1.5 flex-wrap",children:[v.jsx("strong",{className:"text-accent-primary",children:"Tip:"})," Tap the",v.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-bg-secondary/80 rounded-full text-text-muted border border-border-subtle/60",children:v.jsx(ad,{size:10})}),"button anytime to reopen this guide."]})]})})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[v.jsx(TC,{size:12}),"The Language of Music (Roman Numerals)"]}),v.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[v.jsx("p",{className:"text-sm text-gray-300",children:'Musicians use roman numerals to talk about chords regardless of the specific key. This reveals the "DNA" of a song.'}),v.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:["I","ii","iii","IV","V","vi","vii"].map((t,s)=>v.jsxs("div",{className:`rounded p-2 flex flex-col items-center justify-between h-20 ${["I","IV","V"].includes(t)?"bg-accent-primary/20 border border-accent-primary/30":t==="vii"?"bg-red-500/10 border border-red-500/20":"bg-violet-500/15 border border-violet-500/25"}`,children:[v.jsx("span",{className:"font-bold text-white mb-1",children:t}),v.jsx("span",{className:"text-[10px] text-gray-400 leading-tight",children:s===0?"Tonic (Home)":s===3?"Subdom. (Away)":s===4?"Dominant (Tension)":s===5?"Rel. Minor":s===6?"Leading Tone":"Mediant"})]},t))}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-gray-400",children:[v.jsxs("div",{className:"p-2 rounded bg-bg-tertiary/50",children:[v.jsx("strong",{className:"text-accent-primary block mb-1",children:"Tonic (I, vi, iii)"}),"Stable, home base. Where songs usually start and end."]}),v.jsxs("div",{className:"p-2 rounded bg-bg-tertiary/50",children:[v.jsx("strong",{className:"text-accent-primary block mb-1",children:"Subdominant (IV, ii)"}),"Movement, drifting away from home. Creates interest."]}),v.jsxs("div",{className:"p-2 rounded bg-bg-tertiary/50",children:[v.jsx("strong",{className:"text-accent-primary block mb-1",children:"Dominant (V, vii)"}),"Tension, needing resolution. Pulls strongly back to I."]})]})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[v.jsx(EC,{size:12}),"Songwriting Toolkit"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[v.jsxs("h4",{className:"font-bold text-white mb-3 text-sm flex items-center gap-2",children:["Emotional Cadences (How Phrases End)",v.jsx(rg,{size:12,className:"text-accent-primary/50"}),v.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["in ",e]})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:SL.map(t=>v.jsx(AL,{preset:t},t.id))})]}),v.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[v.jsxs("h4",{className:"font-bold text-white mb-3 text-sm flex items-center gap-2",children:["Famous Progressions",v.jsx(rg,{size:12,className:"text-accent-primary/50"}),v.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["in ",e,"  tap to play  click + to add"]})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:_L.map(t=>v.jsx(NL,{preset:t,onAddToTimeline:n},t.id))})]})]})]}),v.jsxs("section",{children:[v.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[v.jsx(U3,{size:12}),"Adding Spice (Advanced)"]}),v.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-6",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-white mb-2 text-sm flex items-center gap-2",children:"1. Modal Interchange (Borrowed Chords)"}),v.jsx("p",{className:"text-sm text-gray-400 mb-3",children:'Steal chords from the parallel minor key to add "cinematic" emotion.'}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-xs",children:[v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded border-l-2 border-indigo-500",children:[v.jsx("strong",{className:"text-white block",children:"Minor IV (iv)"}),v.jsx("span",{className:"text-gray-500",children:'"The Beatles Cadence". Gives a nostalgic, bittersweet ending. (Fm in key of C).'})]}),v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded border-l-2 border-indigo-500",children:[v.jsx("strong",{className:"text-white block",children:"Flat VI (VI)"}),v.jsx("span",{className:"text-gray-500",children:'Epic, heroic, fantasy feeling. "Lord of the Rings" sound. (Ab in key of C).'})]}),v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded border-l-2 border-indigo-500",children:[v.jsx("strong",{className:"text-white block",children:"Picardy Third"}),v.jsx("span",{className:"text-gray-500",children:"Ending a sad, minor song on a happy Major I chord. Pure sunshine."})]})]})]}),v.jsx("div",{className:"w-full h-px bg-white/5"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-white mb-2 text-sm",children:"2. Secondary Dominants"}),v.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Make a minor chord Major to create a magnetic pull to another chord."}),v.jsxs("div",{className:"bg-bg-tertiary p-3 rounded text-xs text-gray-300 italic",children:['"In C Major, play ',v.jsx("strong",{className:"text-white",children:"E Major (III)"}),". It pulls hard to ",v.jsx("strong",{className:"text-white",children:"Am"}),'. (Radiohead - Creep)"']})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-white mb-2 text-sm",children:"3. Tritone Substitution"}),v.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Jazz trick: Replace the V chord with a dominant chord exactly halfway around the circle (a tritone away)."}),v.jsxs("div",{className:"bg-bg-tertiary p-3 rounded text-xs text-gray-300 italic",children:['"Instead of G7  C, try ',v.jsx("strong",{className:"text-white",children:"Db7  C"}),'. Smooth chromatic slide."']})]})]}),v.jsx("div",{className:"w-full h-px bg-white/5"}),v.jsxs("div",{children:[v.jsxs("h4",{className:"font-bold text-white mb-3 text-sm flex items-center gap-2",children:["4. Secrets of the Pros",v.jsx("span",{className:"text-[10px] bg-purple-500/20 text-purple-400 px-1.5 py-0.5 rounded uppercase font-bold",children:"Expert"})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"p-3 rounded bg-bg-tertiary flex gap-3",children:[v.jsx("div",{className:"shrink-0 w-8 h-8 rounded bg-bg-elevated flex items-center justify-center font-bold text-accent-primary",children:"A"}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-white text-sm block",children:"Pedal Point"}),v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Keep the bass note the same while changing chords on top. Creates massive tension and "floaty" feelings. (e.g., C/C  F/C  G/C).'})]})]}),v.jsxs("div",{className:"p-3 rounded bg-bg-tertiary flex gap-3",children:[v.jsx("div",{className:"shrink-0 w-8 h-8 rounded bg-bg-elevated flex items-center justify-center font-bold text-accent-primary",children:"B"}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-white text-sm block",children:"Line Clich"}),v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'A single note moving down chromatically inside a static chord. think "Stairway to Heaven" or James Bond theme (Am  Am(maj7)  Am7  Am6).'})]})]}),v.jsxs("div",{className:"p-3 rounded bg-bg-tertiary flex gap-3",children:[v.jsx("div",{className:"shrink-0 w-8 h-8 rounded bg-bg-elevated flex items-center justify-center font-bold text-accent-primary",children:"C"}),v.jsxs("div",{children:[v.jsx("strong",{className:"text-white text-sm block",children:"Relative Major/Minor Modulation"}),v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Switching focus between I and vi. Use the exact same notes, but center your melody around Am instead of C to instantly change the mood from happy to sad."})]})]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-white mb-2 text-sm",children:"5. Building Better Chords (Extensions)"}),v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs text-center",children:[v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[v.jsx("strong",{className:"text-white block",children:"maj7"}),v.jsx("span",{className:"text-gray-500",children:"Dreamy, Jazz, Lo-fi"})]}),v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[v.jsx("strong",{className:"text-white block",children:"dom7"}),v.jsx("span",{className:"text-gray-500",children:"Blues, Funk, Tension"})]}),v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[v.jsx("strong",{className:"text-white block",children:"sus4"}),v.jsx("span",{className:"text-gray-500",children:"Open, airy, delayed"})]}),v.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[v.jsx("strong",{className:"text-white block",children:"add9"}),v.jsx("span",{className:"text-gray-500",children:"Rich, cinematic pop"})]})]})]})]})]})]})},TL=({isOpen:n,onClose:e,isEmbedded:t=!1})=>n?t?v.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-6 h-6",children:v.jsx(_x,{size:24})}),v.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),v.jsx("button",{onClick:e,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:v.jsx(bu,{size:16})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:v.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:v.jsx(Sx,{onClose:e})})})]}):v.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center pointer-events-none",style:{paddingTop:"max(16px, env(safe-area-inset-top))",paddingBottom:"max(16px, env(safe-area-inset-bottom))",paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:[v.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm cursor-pointer pointer-events-auto",onClick:e}),v.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-full overflow-hidden flex flex-col pointer-events-auto",children:[v.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8",children:v.jsx(_x,{size:32})}),v.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),v.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:v.jsx(bu,{size:20})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:v.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:v.jsx(Sx,{onClose:e})})})]})]}):null,Nx="chordwheel_onboarding_seen",CL=({onDismiss:n,onOpenHelp:e})=>{const[t,s]=re.useState(!1),[a,o]=re.useState(!1);re.useEffect(()=>{if(!localStorage.getItem(Nx)){const f=setTimeout(()=>s(!0),800);return()=>clearTimeout(f)}},[]);const u=()=>{o(!0),localStorage.setItem(Nx,"true"),setTimeout(()=>{s(!1),n?.()},300)};return t?v.jsxs("div",{className:`fixed inset-0 z-[100] flex items-center justify-center p-4 transition-all duration-300 ${a?"opacity-0":"opacity-100"}`,style:{paddingTop:"max(16px, env(safe-area-inset-top))",paddingBottom:"max(16px, env(safe-area-inset-bottom))",paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md cursor-pointer",onClick:u}),v.jsxs("div",{className:`relative max-w-md w-full bg-gradient-to-b from-[#1e1e2a] to-[#151520] border border-white/10 rounded-2xl shadow-2xl overflow-hidden transition-all duration-300 ${a?"scale-95 opacity-0":"scale-100 opacity-100"}`,children:[v.jsx("div",{className:"absolute -top-20 -left-20 w-40 h-40 bg-accent-primary/30 rounded-full blur-3xl pointer-events-none"}),v.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl pointer-events-none"}),v.jsxs("div",{className:"relative px-6 pt-6 pb-4 flex items-center justify-between border-b border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center shadow-lg shadow-accent-primary/25",children:v.jsx(nk,{size:20,className:"text-white"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-bold text-white",children:"Welcome!"}),v.jsx("p",{className:"text-xs text-gray-400",children:"Quick start guide"})]})]}),v.jsx("button",{onClick:u,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white",children:v.jsx(bu,{size:20})})]}),v.jsxs("div",{className:"relative px-6 py-5 space-y-4",children:[v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-accent-primary/10 border border-accent-primary/20 flex items-center justify-center group-hover:bg-accent-primary/20 transition-colors",children:v.jsx(P3,{size:18,className:"text-accent-primary"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Tap any chord"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Tap a chord on the wheel to hear it and see voicings, or ",v.jsx("strong",{className:"text-gray-300",children:"double-tap"})," to add it to your timeline."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:v.jsx(Bh,{size:18,className:"text-purple-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Change the key"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[v.jsx("strong",{className:"text-gray-300",children:"Drag the wheel"})," to rotate and change keys. Highlighted chords always sound good together."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center group-hover:bg-emerald-500/20 transition-colors",children:v.jsx(q3,{size:18,className:"text-emerald-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Add to your timeline"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Tap the ",v.jsx("strong",{className:"text-emerald-400",children:"+ Add"})," button, or ",v.jsx("strong",{className:"text-gray-300",children:"double-tap"})," any chord preview to place it on your timeline."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-amber-500/10 border border-amber-500/20 flex items-center justify-center group-hover:bg-amber-500/20 transition-colors",children:v.jsx(mp,{size:18,className:"text-amber-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Arrange your song"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Open the ",v.jsx("strong",{className:"text-gray-300",children:"Song Map"})," to see your full arrangement, reorder sections, and play back your progression."]})]})]}),v.jsxs("div",{className:"flex items-start gap-4 group",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-sky-500/10 border border-sky-500/20 flex items-center justify-center group-hover:bg-sky-500/20 transition-colors",children:v.jsx(p2,{size:18,className:"text-sky-400"})}),v.jsxs("div",{className:"pt-0.5",children:[v.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Export your chord sheet"}),v.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[v.jsx("strong",{className:"text-gray-300",children:"Tap the download icon"})," in the header to export a printable PDF with chords and guitar diagrams."]})]})]}),v.jsx("div",{className:"mt-5 p-3 rounded-xl bg-white/5 border border-white/10",children:v.jsxs("div",{className:"flex items-center justify-between gap-3",children:[v.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[v.jsx(FC,{size:14,className:"text-accent-primary shrink-0",style:{transform:"scaleX(-1)"}}),v.jsxs("span",{className:"flex items-center gap-1.5 flex-wrap",children:[v.jsx("strong",{className:"text-gray-300",children:"Tip:"})," Tap the",v.jsx("button",{onClick:()=>{u(),setTimeout(()=>e?.(),350)},className:"inline-flex items-center justify-center w-5 h-5 bg-bg-secondary/80 hover:bg-bg-tertiary rounded-full text-text-muted hover:text-accent-primary transition-colors border border-border-subtle/60",title:"Open full guide",children:v.jsx(ad,{size:12})}),"button anytime for the full guide."]})]}),v.jsx("div",{className:"shrink-0 w-16 h-16 relative",children:v.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[[...Array(12)].map((c,f)=>{const d=f*30,p=(d-15-90)*Math.PI/180,y=(d+15-90)*Math.PI/180,_=18,b=46,A=f<=4||f>=10;let N;A?f===0?N="rgba(234, 179, 8, 0.9)":f===1?N="rgba(163, 190, 60, 0.85)":f===2?N="rgba(132, 204, 22, 0.8)":f===3?N="rgba(74, 222, 128, 0.7)":f===4?N="rgba(45, 212, 191, 0.6)":f===11?N="rgba(251, 146, 60, 0.85)":f===10?N="rgba(168, 162, 158, 0.6)":N="rgba(200, 180, 100, 0.7)":N=["rgba(100, 80, 120, 0.5)","rgba(80, 70, 90, 0.5)","rgba(60, 55, 70, 0.5)"][f%3];const k=50+_*Math.cos(p),C=50+_*Math.sin(p),R=50+b*Math.cos(p),D=50+b*Math.sin(p),I=50+b*Math.cos(y),F=50+b*Math.sin(y),Y=50+_*Math.cos(y),G=50+_*Math.sin(y);return v.jsx("path",{d:`M ${k} ${C} L ${R} ${D} A ${b} ${b} 0 0 1 ${I} ${F} L ${Y} ${G} A ${_} ${_} 0 0 0 ${k} ${C}`,fill:N,stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.5"},f)}),v.jsx("circle",{cx:"50",cy:"50",r:"16",fill:"rgba(20, 20, 30, 0.95)",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})]})})]})})]}),v.jsx("div",{className:"relative px-6 pb-6",children:v.jsx("button",{onClick:u,className:"w-full py-3 px-4 rounded-xl bg-gradient-to-r from-accent-primary to-purple-600 text-white font-semibold text-sm hover:opacity-90 transition-opacity shadow-lg shadow-accent-primary/25 active:scale-[0.98]",children:"Got it, let's go!"})})]})]}):null},kL=({isOpen:n,onClose:e,title:t,artist:s,tags:a,onSave:o})=>{const u=re.useRef(null),c=re.useRef(null),[f,d]=re.useState(t),[p,y]=re.useState(s),[_,b]=re.useState(a),[A,N]=re.useState("");if(re.useEffect(()=>{n&&(d(t),y(s),b(a),N(""),setTimeout(()=>{c.current?.focus(),c.current?.select()},100))},[n,t,s,a]),re.useEffect(()=>{if(!n)return;const F=Y=>{Y.key==="Escape"&&e()};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[n,e]),!n)return null;const k=()=>{const F=f.trim()||"Untitled Song";o(F,p.trim(),_),e()},C=()=>{const F=A.trim();F&&!_.includes(F)&&(b([..._,F]),N(""))},R=F=>{b(_.filter(Y=>Y!==F))},D=F=>{F.key==="Enter"&&(F.preventDefault(),C())},I=F=>{F.key==="Enter"&&(F.preventDefault(),k())};return Cl.createPortal(v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-[99998] bg-black/40 backdrop-blur-[2px] animate-in fade-in duration-200",onClick:e}),v.jsxs("div",{ref:u,className:`fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[99999]
                           bg-bg-elevated border border-border-medium rounded-xl 
                           shadow-2xl shadow-black/50
                           animate-in fade-in zoom-in-95 duration-200`,style:{minWidth:"280px",maxWidth:"340px",width:"90vw"},children:[v.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-bg-secondary/50 rounded-t-xl",children:[v.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[v.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(99,102,241,0.5)] shrink-0",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)"}}),v.jsx("span",{className:"text-sm font-bold text-text-primary",children:"Song Info"})]}),v.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-bg-tertiary text-text-muted hover:text-text-primary transition-colors shrink-0",children:v.jsx(bu,{size:14})})]}),v.jsxs("div",{className:"p-4 space-y-4",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Song Title"}),v.jsx("input",{ref:c,type:"text",value:f,onChange:F=>d(F.target.value),onKeyDown:I,placeholder:"Untitled Song",maxLength:100,className:`w-full h-9 bg-bg-tertiary text-text-primary text-sm font-medium rounded-lg 
                                       px-3 border border-border-subtle 
                                       focus:outline-none focus:ring-1 focus:ring-accent-primary/50 focus:border-accent-primary`})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"By (Optional)"}),v.jsx("input",{type:"text",value:p,onChange:F=>y(F.target.value),onKeyDown:I,placeholder:"Artist or songwriter name",maxLength:100,className:`w-full h-9 bg-bg-tertiary text-text-primary text-sm font-medium rounded-lg 
                                       px-3 border border-border-subtle 
                                       focus:outline-none focus:ring-1 focus:ring-accent-primary/50 focus:border-accent-primary`})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider flex items-center gap-1.5",children:[v.jsx(ik,{size:10}),"Tags (Optional)"]}),_.length>0&&v.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:_.map(F=>v.jsxs("span",{className:Ht("inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium","bg-accent-primary/15 text-accent-primary border border-accent-primary/30"),children:[F,v.jsx("button",{onClick:()=>R(F),className:"hover:text-red-400 transition-colors",title:`Remove "${F}"`,children:v.jsx(bu,{size:12})})]},F))}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"text",value:A,onChange:F=>N(F.target.value),onKeyDown:D,placeholder:"Add a tag...",maxLength:30,className:`flex-1 h-8 bg-bg-tertiary text-text-primary text-xs rounded-lg 
                                           px-3 border border-border-subtle 
                                           focus:outline-none focus:ring-1 focus:ring-accent-primary/50 focus:border-accent-primary`}),v.jsxs("button",{onClick:C,disabled:!A.trim(),className:Ht("h-8 px-3 rounded-lg text-xs font-medium transition-all","flex items-center gap-1",A.trim()?"bg-accent-primary/10 border border-accent-primary/30 text-accent-primary hover:bg-accent-primary/20 active:scale-95":"bg-bg-tertiary border border-border-subtle text-text-muted cursor-not-allowed"),children:[v.jsx($h,{size:12}),"Add"]})]}),v.jsx("p",{className:"text-[10px] text-text-muted",children:"Tags help you organize and filter your songs"})]}),v.jsx("button",{onClick:k,className:`w-full py-2.5 rounded-lg
                                   bg-accent-primary text-white font-bold text-sm
                                   hover:bg-accent-primary/90 active:scale-[0.98]
                                   transition-all shadow-lg shadow-accent-primary/25`,children:"Save"})]})]})]}),document.body)},jL=({mobileTimelineOpen:n,setMobileTimelineOpen:e,chordPanelVisible:t,setChordPanelScrolledToBottom:s})=>{const a=re.useRef(0),[o,u]=re.useState(0),c=re.useRef(!1),f=t,d=!t,p=450,y=I=>{a.current=I.touches[0].clientY,c.current=!0,u(0)},_=I=>{if(!c.current)return;const F=a.current-I.touches[0].clientY;u(F)},b=()=>{if(!c.current)return;c.current=!1;const I=40;f&&o<-I&&(t&&sn.getState().toggleChordPanel(),n&&e(!1)),d&&o>I&&(n||e(!0),t||sn.getState().toggleChordPanel()),u(0)},A=()=>{Math.abs(o)<15&&(f?(t&&sn.getState().toggleChordPanel(),n&&e(!1)):(n||e(!0),t||sn.getState().toggleChordPanel()))},N=o!==0,k=f&&o<0?Math.min(400,-o*1.5):0,C=d&&o>0?Math.min(p,o*2):0,R=C>0,D=k>0;return v.jsxs("div",{className:"shrink-0 flex flex-col overflow-hidden",style:{maxHeight:D?`calc(65vh - ${k}px)`:"65vh",opacity:D?Math.max(.3,1-k/500):1,transition:N?"none":"all 0.25s ease-out"},children:[v.jsx("div",{className:"h-6 flex items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-grab active:cursor-grabbing select-none",onTouchStart:y,onTouchMove:_,onTouchEnd:b,onClick:A,children:v.jsx(B3,{size:16,className:`text-text-muted transition-transform duration-200 ${f?"rotate-180":""}`})}),v.jsxs("div",{className:"flex-1 overflow-hidden",style:{maxHeight:R?`${C}px`:void 0,transition:N?"none":"max-height 0.25s ease-out"},children:[v.jsx(og,{isOpen:n||R,onToggle:()=>e(!n)}),v.jsx("div",{"data-chord-details":!0,className:"shrink-0 bg-bg-primary overflow-hidden",style:{maxHeight:n||R?"45vh":"55vh"},children:v.jsx(ug,{variant:"drawer",onScrollChange:s,forceVisible:R})})]})]})};function EL(){const{currentSong:n,selectedKey:e,timelineVisible:t,toggleTimeline:s,selectedSectionId:a,selectedSlotId:o,clearSlot:u,clearTimeline:c,setTitle:f,setArtist:d,setTags:p,loadSong:y,newSong:_,instrument:b,volume:A,isMuted:N,undo:k,redo:C,canUndo:R,canRedo:D,chordPanelVisible:I,isPlaying:F,songInfoModalVisible:Y,toggleSongInfoModal:G}=sn();re.useEffect(()=>{v2(b)},[b]),re.useEffect(()=>{X3(A)},[A]),re.useEffect(()=>{Z3(N)},[N]);const[O,B]=re.useState(!1),[K,j]=re.useState(()=>{if(typeof window>"u")return 1;const Ne=window.innerWidth,rt=window.innerHeight;return Ne<768||rt<500&&rt<Ne?1.25:1}),[V,ne]=re.useState(50),[W,oe]=re.useState({x:0,y:0}),$=re.useRef(null),[te,le]=re.useState(()=>typeof window>"u"?200:Math.max(200,Math.floor(window.innerWidth*.33))),[pe,be]=re.useState(()=>{if(typeof window>"u")return 500;const Ne=window.innerWidth,pt=window.innerHeight-48-56-152-32,At=Ne-380-40;return Math.max(300,Math.min(At,pt))}),[z,M]=re.useState(()=>typeof window<"u"?window.innerWidth<768||window.innerHeight<500&&window.innerHeight<window.innerWidth:!1),[H,J]=re.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerHeight<500:!1),Q=re.useRef(!1),ae=re.useRef(!1),[fe,de]=re.useState(!1),xe=re.useRef(null),[we,Ve]=re.useState(!1),[Xe,et]=re.useState(!1),ct=re.useRef(null),P=re.useRef(!1);re.useEffect(()=>{if(!z)return;if(H&&!P.current)P.current=!0,ct.current=sn.getState().chordPanelVisible,de(!0),Ve(!0),sn.getState().chordPanelVisible||sn.getState().toggleChordPanel();else if(!H&&P.current){P.current=!1;const At=sn.getState().chordPanelVisible,ot=ct.current;ot!==null&&At!==ot&&sn.getState().toggleChordPanel(),Ve(!1),ct.current=null}const Ne=()=>{de(!0)},rt=()=>{xe.current&&clearTimeout(xe.current),xe.current=setTimeout(Ne,1e4)},pt=At=>{const ot=At.target,Pt=ot.closest("[data-chord-details]"),yn=ot.closest("[data-playback-controls]"),xn=ot.closest("[data-mobile-timeline]"),wn=ot.closest("header"),Gt=ot.closest("[data-wheel-background]"),fn=ot.closest("button"),dn=ot.tagName==="path"||ot.tagName==="circle"||ot.tagName==="text"||ot.tagName==="polygon"||ot.tagName==="g"&&ot.style.cursor==="pointer"||ot.closest('g[style*="cursor: pointer"]')||ot.closest('g[class*="cursor-pointer"]'),Vn=!H&&sn.getState().chordPanelVisible;Gt&&!Pt&&!yn&&!xn&&!wn&&!fn&&!dn&&!Vn&&(de(Fn=>!Fn),xe.current&&clearTimeout(xe.current),rt())};return document.addEventListener("touchstart",pt),rt(),()=>{document.removeEventListener("touchstart",pt),xe.current&&clearTimeout(xe.current)}},[z,H]);const[Ae,nt]=re.useState(!1),Be=re.useRef(null),Le=re.useCallback(()=>{!z||!H||(nt(!0),Be.current&&clearTimeout(Be.current),Be.current=setTimeout(()=>{nt(!1)},3e3))},[z,H]);re.useEffect(()=>()=>{Be.current&&clearTimeout(Be.current)},[]),re.useEffect(()=>{if(!z)return;const Ne=()=>{Ve(!0)};return window.addEventListener("openMobileTimeline",Ne),()=>window.removeEventListener("openMobileTimeline",Ne)},[z]),re.useEffect(()=>{if(!z)return;const Ne=sn.getState();we&&!Ne.timelineVisible?sn.setState({timelineVisible:!0}):!we&&Ne.timelineVisible&&sn.setState({timelineVisible:!1})},[z,we]),re.useEffect(()=>{const Ne=()=>{const rt=window.innerWidth,pt=window.innerHeight,At=rt<768||pt<500&&pt<rt,ot=pt<rt&&pt<500;if(M(At),J(ot),At&&ot){const yn=Math.max(200,Math.floor(rt*.33));le(yn)}if(!At){const yn=sn.getState().timelineVisible?152:24,xn=pt-48-56-yn-32,wn=rt-380-40;be(Math.max(300,Math.min(wn,xn)))}const Pt=sn.getState();At&&!ae.current&&(Pt.timelineVisible&&Pt.toggleTimeline(),Pt.chordPanelVisible&&Pt.toggleChordPanel(),ae.current=!0),!At&&Q.current&&!Pt.chordPanelVisible&&(Pt.toggleChordPanel(),Q.current=!1)};return Ne(),window.addEventListener("resize",Ne),window.addEventListener("orientationchange",Ne),()=>{window.removeEventListener("resize",Ne),window.removeEventListener("orientationchange",Ne)}},[]),re.useEffect(()=>{if(z)return;const Ne=window.innerWidth,rt=window.innerHeight,pt=t?152:24,At=rt-48-56-pt-32,ot=Ne-380-40;be(Math.max(300,Math.min(ot,At)))},[t,z]);const Ke=re.useCallback((Ne,rt)=>{j(Ne),ne(rt)},[]),He=re.useCallback(()=>{const Ne=Math.min(2.5,K+.2);j(Ne),ne(Ne>1.3?38:50)},[K]),ut=re.useCallback(()=>{const Ne=Math.max(.2,K-.2);j(Ne),ne(Ne>1.3?38:50)},[K]),at=re.useCallback(Ne=>{oe(Ne)},[]),ze=re.useMemo(()=>z&&(H||I)?90:0,[z,H,I]),st=z&&(H||I);re.useEffect(()=>{if(z)if(st)if($.current||($.current={zoom:K,origin:V,pan:{...W}}),H){const Ne=window.innerHeight,rt=1.65,pt=Math.max(.9,Math.min(1.1,Ne/400)),At=rt*pt;j(At),ne(48),oe({x:-35,y:0})}else j(1.42),ne(42),oe({x:-35,y:-30});else $.current&&(j($.current.zoom),ne($.current.origin),oe($.current.pan),$.current=null)},[st,H,z]);const tt=()=>{G(!0)},ht=(Ne,rt,pt)=>{f(Ne),d(rt),p(pt)},yt=re.useMemo(()=>{const Ne=n.sections.reduce((Pt,yn)=>{const xn=yn.measures.reduce((wn,Gt)=>wn+Gt.beats.reduce((fn,dn)=>fn+dn.duration,0),0);return Pt+xn},0),rt=n.tempo/60,pt=Ne/rt,At=Math.floor(pt/60),ot=Math.floor(pt%60);return`${At}:${ot.toString().padStart(2,"0")}`},[n.sections,n.tempo]),[dt,xt]=re.useState(!1);re.useEffect(()=>{const Ne=async()=>{try{g2(),await _u(),await Lc(),xt(!0)}catch(pt){console.error("Audio initialization failed:",pt)}},rt=async()=>{dt||(await b2(),Ne())};return document.addEventListener("touchstart",rt,{once:!0}),document.addEventListener("click",rt,{once:!0}),()=>{document.removeEventListener("touchstart",rt),document.removeEventListener("click",rt)}},[dt]),re.useEffect(()=>{const Ne=rt=>{if((rt.key==="Delete"||rt.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;rt.preventDefault(),u(a,o)}};return window.addEventListener("keydown",Ne),()=>window.removeEventListener("keydown",Ne)},[a,o,u]),re.useEffect(()=>{const Ne=rt=>{const pt=rt.target;pt?.tagName==="INPUT"||pt?.tagName==="TEXTAREA"||pt?.isContentEditable||rt.metaKey&&rt.key.toLowerCase()==="z"&&(rt.preventDefault(),rt.shiftKey?D&&C():R&&k())};return window.addEventListener("keydown",Ne),()=>window.removeEventListener("keydown",Ne)},[k,C,R,D]);const[ft,hn]=re.useState(!1),[Xt,Nt]=re.useState([]),St=re.useRef(null);re.useEffect(()=>{Nt(ed())},[]),re.useEffect(()=>{const Ne=rt=>{St.current&&!St.current.contains(rt.target)&&hn(!1)};return document.addEventListener("mousedown",Ne),()=>document.removeEventListener("mousedown",Ne)},[]);const Tt=()=>{if(n.title==="Untitled Song"||!n.title.trim()){const Ne=prompt("Please name your song:",n.title);if(Ne===null)return;const rt=Ne.trim()||"Untitled Song";f(rt);const pt={...n,title:rt};wx(pt)}else wx(n);Nt(ed()),hn(!1)},gt=Ne=>{y(Ne),hn(!1)},[Jt,Lt]=re.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),It=()=>{Lt({isOpen:!0,title:"New Song",message:"Start a new song? Unsaved changes will be lost.",confirmLabel:"Start New",isDestructive:!0,onConfirm:()=>{_(),hn(!1)}})},bn=(Ne,rt,pt)=>{pt.stopPropagation(),Lt({isOpen:!0,title:"Delete Song",message:`Are you sure you want to delete "${rt}"? This cannot be undone.`,confirmLabel:"Delete",isDestructive:!0,onConfirm:()=>{bL(Ne),Nt(ed())}})},bt=152,_e=()=>{const Ne=new Ft,rt=Ne.internal.pageSize.getWidth(),pt=20,At=4,Pt=n.sections.reduce((Te,Ye)=>{const Bt=(Ye.timeSignature||n.timeSignature)[0];return Te+Ye.measures.length*Bt},0)/n.tempo*60,yn=Math.floor(Pt/60),xn=Math.floor(Pt%60),wn=`${yn}:${xn.toString().padStart(2,"0")}`,Gt=n.sections.reduce((Te,Ye)=>Te+Ye.measures.length,0),fn=n.sections.length;if(Ne.setFontSize(22),Ne.setFont("helvetica","bold"),Ne.setTextColor(0,0,0),Ne.text(n.title,pt,18),n.artist&&n.artist.trim()){const Te=Ne.getTextWidth(n.title);Ne.setFontSize(14),Ne.setFont("helvetica","italic"),Ne.setTextColor(100,100,100),Ne.text(`by ${n.artist}`,pt+Te+6,18),Ne.setTextColor(0,0,0)}Ne.setDrawColor(0,0,0),Ne.setLineWidth(.5),Ne.line(pt,22,rt-pt,22),Ne.setFontSize(10),Ne.setFont("helvetica","normal");const dn=[`Key: ${lr(e)}`,`Tempo: ${n.tempo} BPM`,`Duration: ${wn}`,`${fn} sections`,`${Gt} bars`];Ne.text(dn.join("      "),pt,30);let Vn=48;const Fn=new Set;if(n.sections.forEach(Te=>{const Ye=Te.measures.map(Vt=>{const mn=Vt.beats.length;return Vt.beats.forEach(Wt=>{if(Wt.chord){const yr=Wt.chord.root,tr={major:"maj",minor:"m",diminished:"dim",augmented:"aug",major7:"maj7",minor7:"m7",dominant7:"7",halfDiminished7:"m7b5",sus2:"sus2",sus4:"sus4"}[Wt.chord.quality]||Wt.chord.quality||"maj";Fn.add(`${yr}|${tr}`)}}),mn===1?Vt.beats[0]?.chord?.symbol||"":mn===2?Vt.beats.map(Wt=>Wt.chord?.symbol||"").join(" "):Vt.beats.map(Wt=>Wt.chord?.symbol||"").join(" ")}),vt=Ye.length===0?1:Math.ceil(Ye.length/At),Rt=10+(Ye.length===0?12:vt*10)+6;if(Vn>48&&Vn+Rt>280&&(Ne.addPage(),Vn=20),Ne.setFontSize(14),Ne.setFont("helvetica","bold"),Ne.setTextColor(0,0,0),Ne.text(`[${$f(Te,n.sections)}]`,pt,Vn),Vn+=10,Ne.setFontSize(14),Ne.setFont("helvetica","normal"),Ye.length===0)Ne.text("(No chords)",pt,Vn),Vn+=12;else for(let Vt=0;Vt<Ye.length;Vt+=At){const Wt=Ye.slice(Vt,Vt+At).join("  |  ");Ne.text(Wt,pt,Vn),Vn+=10}Vn+=6}),Fn.size>0){const Te=Array.from(Fn),Ye=245,vt=5,Vt=Te.length*(22+vt)>Ye,mn=Vt?18:22,Wt=Vt?18:20,yr=Vt?22:25,Zn=Vt?155:170;let tr=0,xr=35;const ei=Vt?Math.ceil(Te.length/2):Te.length;Ne.setPage(1),Te.forEach((qs,wi)=>{const[_i,wr]=qs.split("|"),Us=iw(_i,wr);if(!Us)return;Vt&&wi===ei&&(tr=1,xr=35);const Hs=tr*yr,_n=`${_i}${wr==="maj"?"":wr}`;Ne.setFontSize(Vt?6:7),Ne.setFont("helvetica","bold"),Ne.setTextColor(0,0,0),Ne.text(_n,Zn+Hs+Wt/2+2,xr,{align:"center"}),it(Ne,Us,Zn+Hs,xr+3,Vt),xr+=mn+vt})}const Mn=(Te,Ye)=>{const Bt={intro:"In",verse:"V","pre-chorus":"PC",chorus:"C",bridge:"Br",interlude:"Int",solo:"So",breakdown:"Bd",tag:"Tg",hook:"Hk",outro:"Out"}[Te.type]||Te.type.charAt(0).toUpperCase(),Rt=Ye.filter(Vt=>Vt.type===Te.type);if(Rt.length>1){const Vt=Rt.findIndex(mn=>mn.id===Te.id)+1;return`${Bt}${Vt}`}return Bt},Ln=Te=>{const Rt=rt-pt*2,Vt=n.sections.reduce((Wt,yr)=>Wt+yr.measures.length,0);if(Vt===0)return;let mn=pt;Te.setDrawColor(0,0,0),Te.setLineWidth(.4),n.sections.forEach(Wt=>{const yr=Wt.measures.length/Vt*Rt,Zn=mn+2,tr=mn+yr-2;Te.line(Zn,285,tr,285),Te.line(Zn,281,Zn,289),Te.line(tr,281,tr,289);const xr=Mn(Wt,n.sections);Te.setFontSize(7),Te.setFont("helvetica","normal"),Te.setTextColor(0,0,0),Te.text(xr,mn+yr/2,278,{align:"center"}),mn+=yr})},hr=Ne.getNumberOfPages();for(let Te=1;Te<=hr;Te++)Ne.setPage(Te),Ln(Ne);const Mr=`${n.title.replace(/\s+/g,"-").toLowerCase()}.pdf`,Cn=Ne.output("blob");if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const Te=URL.createObjectURL(Cn);window.open(Te,"_blank"),setTimeout(()=>URL.revokeObjectURL(Te),1e4)}else gL.saveAs(Cn,Mr)},it=(Ne,rt,pt,At,ot=!1)=>{const{frets:Pt,barres:yn,baseFret:xn}=rt,wn=ot?2.5:3,Gt=ot?3:4,fn=4,dn=6,Vn=ot?1:1.2,Fn=Array.from({length:dn},(Cn,Ee)=>pt+Ee*wn),Mn=Array.from({length:fn+1},(Cn,Ee)=>At+Ee*Gt),Ln=xn===1,hr=wn*(dn-1),Mr=Gt*fn;Ne.setDrawColor(0,0,0),Ln?(Ne.setLineWidth(1),Ne.line(pt,At,pt+hr,At)):(Ne.setLineWidth(.3),Ne.line(pt,At,pt+hr,At),Ne.setFontSize(ot?6:7),Ne.setFont("helvetica","bold"),Ne.text(xn.toString(),pt-3,At+Gt/2+1)),Ne.setLineWidth(.2),Mn.slice(1).forEach(Cn=>{Ne.line(pt,Cn,pt+hr,Cn)}),Fn.forEach(Cn=>{Ne.line(Cn,At,Cn,At+Mr)}),yn.forEach(Cn=>{const Ee=Pt.map((Bt,Rt)=>({fret:Bt,idx:Rt})).filter(({fret:Bt})=>Bt===Cn);if(Ee.length<2)return;const Te=Math.min(...Ee.map(Bt=>Bt.idx)),Ye=Math.max(...Ee.map(Bt=>Bt.idx)),vt=At+(Cn-.5)*Gt;Ne.setLineWidth(Vn*1.4),Ne.line(Fn[Te],vt,Fn[Ye],vt),Ne.setLineWidth(.2)}),Pt.forEach((Cn,Ee)=>{const Te=Fn[Ee];if(Cn===-1){Ne.setFontSize(ot?6:7),Ne.setFont("helvetica","bold"),Ne.text("x",Te,At-1,{align:"center"});return}if(Cn===0){Ne.setLineWidth(.3),Ne.circle(Te,At-1.5,.8,"S");return}if(yn.includes(Cn)){const Bt=Pt.findIndex(Rt=>Rt===Cn);if(Ee!==Bt)return}const vt=At+(Cn-.5)*Gt;Ne.setFillColor(0,0,0),Ne.circle(Te,vt,Vn,"F")})};return v.jsxs("div",{className:"h-full w-full flex flex-col bg-bg-primary text-text-primary overflow-hidden",children:[v.jsxs("header",{className:`${z?"h-14":"h-12"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center ${z?"px-4":"px-3"} bg-bg-secondary shrink-0 z-20 transition-all duration-300 ease-out ${z&&!H&&(fe||I)||z&&H&&!Ae?"opacity-0 -translate-y-full pointer-events-none absolute top-0 left-0 right-0":"relative"}`,children:[v.jsx("div",{className:"flex items-center gap-2 shrink-0",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"relative",children:v.jsx(Aj,{size:z?32:24})}),v.jsx("span",{className:`font-bold ${z?"text-xs":"text-sm"} tracking-tight hidden sm:block text-text-muted`,children:"Songwriter's Wheel"})]})}),v.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:v.jsx("span",{onClick:tt,className:`${z?"text-xs":"text-sm"} font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-2 py-1 rounded text-center truncate max-w-[70vw]`,title:"Click to edit song info",children:n.title})}),v.jsxs("div",{className:`flex items-center ${z?"gap-3":"gap-4"} shrink-0 justify-self-end`,children:[!z&&v.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[v.jsx(dC,{size:11,className:"shrink-0"}),v.jsx("span",{className:"leading-none",children:yt})]}),v.jsxs("div",{className:`flex items-center gap-2 p-[10px] ${z?"text-xs":"text-[10px]"} text-text-muted`,children:[v.jsx("span",{className:"uppercase font-bold",children:"Key"}),v.jsx("span",{className:`font-bold text-accent-primary ${z?"text-base":"text-sm"} min-w-[1.5rem] text-center inline-block`,children:lr(e)})]}),v.jsxs("div",{className:"relative",ref:St,children:[v.jsxs("button",{onClick:()=>hn(!ft),className:`flex items-center gap-1.5 ${z?"text-xs px-2 py-1.5 min-w-[44px]":"text-[11px] px-2 py-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback`,children:[v.jsx(Vv,{size:z?16:12}),v.jsx("span",{className:"hidden sm:inline",children:"Save"}),v.jsx(Yf,{size:z?12:10,className:`transition-transform ${ft?"rotate-180":""}`})]}),ft&&v.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[v.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[v.jsxs("button",{onClick:Tt,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[v.jsx(Vv,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),v.jsxs("button",{onClick:It,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[v.jsx(xC,{size:14,className:"text-green-400"}),"New Song"]})]}),v.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:Xt.length===0?v.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):v.jsxs("div",{className:"p-1.5",children:[v.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),Xt.map(Ne=>v.jsxs("div",{onClick:()=>gt(Ne),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${Ne.id===n.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[v.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[v.jsx(_C,{size:12,className:"shrink-0"}),v.jsx("span",{className:"truncate",children:Ne.title})]}),v.jsx("button",{onClick:rt=>bn(Ne.id,Ne.title,rt),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:v.jsx(ng,{size:10})})]},Ne.id))]})})]})]}),v.jsxs("button",{onClick:_e,className:`flex items-center justify-center ${z?"text-xs px-3 py-1.5 min-w-[44px] min-h-[44px]":"text-[11px] px-2.5 py-1 gap-1.5"} bg-text-primary text-bg-primary rounded font-medium hover:bg-white transition-colors touch-feedback`,children:[v.jsx(p2,{size:z?16:12}),v.jsx("span",{className:"hidden sm:inline sm:ml-1.5",children:"Export"})]})]})]}),v.jsxs("div",{className:`flex-1 flex ${z?H?"flex-row":"flex-col":"flex-row"} overflow-hidden min-h-0`,children:[v.jsxs("div",{"data-wheel-background":!0,className:`flex flex-col min-w-0 min-h-0 bg-gradient-to-b from-bg-primary to-bg-secondary/30 ${z&&H?"shrink-0":"flex-1"} ${z?"overflow-hidden":""} relative`,style:z&&H?{width:`${te}px`,minWidth:"200px",height:"100%"}:void 0,children:[v.jsxs("div",{className:`flex-1 flex flex-col ${z&&!H?"justify-center":z&&H?"justify-center items-center":"justify-center items-center pt-2"} ${z?"overflow-hidden":"overflow-visible"}`,children:[z?null:v.jsxs("div",{className:"flex justify-end gap-2 px-2 shrink-0 w-full",children:[v.jsxs("div",{className:"flex items-center bg-bg-secondary/60 backdrop-blur-sm rounded-full px-0.5 border border-border-subtle/40",children:[v.jsx("button",{onClick:ut,disabled:K<=.2,className:"no-touch-enlarge w-4 h-4 flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors",title:"Zoom out",children:v.jsx(IC,{size:8})}),v.jsxs("span",{className:"text-[7px] w-5 text-text-muted text-center font-medium",children:[Math.round(K*100),"%"]}),v.jsx("button",{onClick:He,disabled:K>=2.5,className:"no-touch-enlarge w-4 h-4 flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors",title:"Zoom in",children:v.jsx($h,{size:8})})]}),v.jsx("button",{onClick:()=>B(!0),className:"no-touch-enlarge w-8 h-8 flex items-center justify-center bg-bg-secondary/60 hover:bg-bg-tertiary backdrop-blur-sm rounded-full text-text-muted hover:text-accent-primary transition-colors border border-border-subtle/40",title:"Chord Wheel Guide",children:v.jsx(ad,{size:16})})]}),v.jsx("div",{className:`flex-1 flex justify-center ${z?"items-center":""} ${z&&H?"p-1 overflow-hidden":z&&!H?"px-0 py-0":"p-2 overflow-visible"}`,onClick:Le,children:v.jsx("div",{className:"relative flex items-center justify-center",style:z&&H?{width:"calc(100dvh - 60px)",height:"calc(100dvh - 60px)",maxWidth:"100%",maxHeight:"100%",aspectRatio:"1 / 1"}:z&&!H?{width:fe?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",height:fe?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",maxWidth:fe?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",maxHeight:fe?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",aspectRatio:"1 / 1"}:{width:`${pe}px`,height:`${pe}px`,aspectRatio:"1 / 1"},children:v.jsx(yk,{zoomScale:K,zoomOriginY:V,onZoomChange:Ke,panOffset:W,onPanChange:at,rotationOffset:ze,disableModeToggle:ze!==0,footerVisible:F||!(z&&!H&&(fe||I&&!Xe))})})})]}),z&&v.jsx("button",{onClick:()=>B(!0),onTouchEnd:Ne=>{Ne.preventDefault(),Ne.stopPropagation(),B(!0)},className:`absolute ${H?"top-2 right-2 w-8 h-8":"top-3 right-3 w-11 h-11"} flex items-center justify-center bg-bg-secondary/90 hover:bg-bg-tertiary backdrop-blur-sm rounded-full text-text-muted hover:text-accent-primary transition-colors shadow-lg border border-border-subtle z-50`,style:{touchAction:"auto",pointerEvents:"auto"},title:"Chord Wheel Guide",children:v.jsx(ad,{size:H?14:20})}),z?null:t?v.jsx(v.Fragment,{children:v.jsxs("div",{className:"shrink-0 bg-bg-secondary border-t border-border-subtle overflow-hidden flex flex-col",style:{height:bt},children:[v.jsxs("div",{className:"shrink-0 flex items-center justify-between px-2 py-1 border-b border-border-subtle/50 bg-bg-elevated/80",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsxs("button",{onClick:k,disabled:!R,className:"no-touch-enlarge flex items-center gap-1 px-2 py-1 rounded-md bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Undo (Z)",children:[v.jsx(gp,{size:12}),v.jsx("span",{className:"text-[9px] font-medium uppercase tracking-wide",children:"Undo"})]}),v.jsxs("button",{onClick:C,disabled:!D,className:"no-touch-enlarge flex items-center gap-1 px-2 py-1 rounded-md bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Redo (Z)",children:[v.jsx(Bh,{size:12}),v.jsx("span",{className:"text-[9px] font-medium uppercase tracking-wide",children:"Redo"})]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsxs("button",{onClick:()=>{Lt({isOpen:!0,title:"Clear Timeline",message:"Are you sure you want to clear all chords from the timeline? This action cannot be undone.",confirmLabel:"Clear",isDestructive:!0,onConfirm:c})},className:"no-touch-enlarge text-[8px] px-1 py-0.5 text-text-muted hover:text-red-400 rounded hover:bg-red-400/10 transition-colors flex items-center gap-0.5",title:"Clear all chords from timeline",children:[v.jsx(ng,{size:8}),v.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Clear"})]}),v.jsxs("button",{onClick:s,className:"no-touch-enlarge text-[8px] px-1 py-0.5 text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors flex items-center gap-0.5",title:"Hide timeline",children:[v.jsx(Yf,{size:8}),v.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]})]}),v.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:v.jsx(og,{isOpen:!0,onToggle:s,hideCloseButton:!0,isCompact:!1,isLandscape:!1})})]})}):v.jsx("div",{className:"h-6 bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0",children:v.jsxs("button",{onClick:s,className:"px-3 h-full flex items-center gap-1 text-[8px] text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors",title:"Show timeline",children:[v.jsx(B3,{size:10}),v.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})})]}),z&&H?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:`flex h-full ${we?"flex-1":"justify-end"} shrink-0`,style:{minWidth:we?"100px":"28px",transition:"all 0.25s ease-out"},children:[v.jsxs("div",{className:`h-full flex flex-col items-center justify-center cursor-pointer touch-feedback active:bg-bg-tertiary border-l border-border-subtle shrink-0 ${we?"bg-bg-elevated":"bg-bg-secondary"}`,style:{width:"28px"},onClick:()=>{we&&!I&&sn.getState().toggleChordPanel(),Ve(!we)},children:[v.jsx("div",{className:"h-10 w-1 rounded-full bg-text-muted/50 mb-2"}),v.jsx("span",{className:"text-[9px] font-bold text-text-muted uppercase tracking-wide",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:we?"":"Timeline"})]}),we&&v.jsx("div",{className:"flex-1 h-full bg-bg-secondary overflow-hidden border-l border-border-subtle",children:v.jsx(og,{isOpen:!0,onToggle:()=>Ve(!1),hideCloseButton:!0,isCompact:I,isLandscape:!0})})]}),v.jsxs("div",{className:`flex h-full ${I?"flex-1":""} shrink-0`,style:{minWidth:I?"100px":"28px",transition:"all 0.25s ease-out"},children:[I&&v.jsx("div",{className:"flex-1 h-full bg-bg-secondary overflow-hidden border-l border-border-subtle","data-chord-details":!0,children:v.jsx(ug,{variant:we?"landscape-panel":"landscape-expanded"})}),v.jsxs("div",{className:`h-full flex flex-col items-center justify-center cursor-pointer touch-feedback active:bg-bg-tertiary border-l border-border-subtle shrink-0 ${I?"bg-bg-elevated":"bg-bg-secondary"}`,style:{width:"28px"},onClick:()=>{I&&!we&&Ve(!0),sn.getState().toggleChordPanel()},children:[v.jsx("div",{className:"h-10 w-1 rounded-full bg-text-muted/50 mb-2"}),v.jsx("span",{className:"text-[9px] font-bold text-text-muted uppercase tracking-wide",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:I?"":"Details"})]})]})]}):z?null:v.jsx(ug,{variant:"sidebar"})]}),z&&!H&&v.jsx(jL,{mobileTimelineOpen:we,setMobileTimelineOpen:Ve,chordPanelVisible:I,setChordPanelScrolledToBottom:et}),(F||!(z&&!H&&(fe||I&&!Xe)))&&v.jsx("div",{className:"shrink-0 z-30 relative",style:{paddingBottom:z?"env(safe-area-inset-bottom)":void 0},children:v.jsx(Mk,{})}),v.jsx(vL,{isOpen:Jt.isOpen,onClose:()=>Lt(Ne=>({...Ne,isOpen:!1})),onConfirm:Jt.onConfirm,title:Jt.title,message:Jt.message,confirmLabel:Jt.confirmLabel,isDestructive:Jt.isDestructive}),v.jsx(Nj,{}),v.jsx(TL,{isOpen:O,onClose:()=>B(!1)}),v.jsx(kL,{isOpen:Y,onClose:()=>G(!1),title:n.title,artist:n.artist||"",tags:n.tags||[],onSave:ht}),v.jsx(CL,{onOpenHelp:()=>B(!0)})]})}F_.createRoot(document.getElementById("root")).render(v.jsx(re.StrictMode,{children:v.jsx(EL,{})}));export{er as _,S1 as c,j_ as g};
