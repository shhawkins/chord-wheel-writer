(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var u1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nm={exports:{}},Cf={};var j5;function u4(){if(j5)return Cf;j5=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var h=null;if(o!==void 0&&(h=""+o),a.key!==void 0&&(h=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:r,type:i,key:h,ref:a!==void 0?a:null,props:o}}return Cf.Fragment=e,Cf.jsx=t,Cf.jsxs=t,Cf}var D5;function h4(){return D5||(D5=1,nm.exports=u4()),nm.exports}var E=h4(),rm={exports:{}},sn={};var R5;function f4(){if(R5)return sn;R5=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=w&&Y[w]||Y["@@iterator"],typeof Y=="function"?Y:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,T={};function C(Y,L,z){this.props=Y,this.context=L,this.refs=T,this.updater=z||S}C.prototype.isReactComponent={},C.prototype.setState=function(Y,L){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,L,"setState")},C.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function I(){}I.prototype=C.prototype;function R(Y,L,z){this.props=Y,this.context=L,this.refs=T,this.updater=z||S}var q=R.prototype=new I;q.constructor=R,N(q,C.prototype),q.isPureReactComponent=!0;var B=Array.isArray;function Z(){}var F={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function V(Y,L,z){var J=z.ref;return{$$typeof:r,type:Y,key:L,ref:J!==void 0?J:null,props:z}}function H(Y,L){return V(Y.type,L,Y.props)}function k(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===r}function D(Y){var L={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(z){return L[z]})}var ne=/\/+/g;function $(Y,L){return typeof Y=="object"&&Y!==null&&Y.key!=null?D(""+Y.key):L.toString(36)}function he(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(Z,Z):(Y.status="pending",Y.then(function(L){Y.status==="pending"&&(Y.status="fulfilled",Y.value=L)},function(L){Y.status==="pending"&&(Y.status="rejected",Y.reason=L)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function Q(Y,L,z,J,ie){var se=typeof Y;(se==="undefined"||se==="boolean")&&(Y=null);var de=!1;if(Y===null)de=!0;else switch(se){case"bigint":case"string":case"number":de=!0;break;case"object":switch(Y.$$typeof){case r:case e:de=!0;break;case m:return de=Y._init,Q(de(Y._payload),L,z,J,ie)}}if(de)return ie=ie(Y),de=J===""?"."+$(Y,0):J,B(ie)?(z="",de!=null&&(z=de.replace(ne,"$&/")+"/"),Q(ie,L,z,"",function(Ae){return Ae})):ie!=null&&(k(ie)&&(ie=H(ie,z+(ie.key==null||Y&&Y.key===ie.key?"":(""+ie.key).replace(ne,"$&/")+"/")+de)),L.push(ie)),1;de=0;var pe=J===""?".":J+":";if(B(Y))for(var we=0;we<Y.length;we++)J=Y[we],se=pe+$(J,we),de+=Q(J,L,z,se,ie);else if(we=v(Y),typeof we=="function")for(Y=we.call(Y),we=0;!(J=Y.next()).done;)J=J.value,se=pe+$(J,we++),de+=Q(J,L,z,se,ie);else if(se==="object"){if(typeof Y.then=="function")return Q(he(Y),L,z,J,ie);throw L=String(Y),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return de}function K(Y,L,z){if(Y==null)return Y;var J=[],ie=0;return Q(Y,J,"","",function(se){return L.call(z,se,ie++)}),J}function ce(Y){if(Y._status===-1){var L=Y._result;L=L(),L.then(function(z){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=z)},function(z){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=z)}),Y._status===-1&&(Y._status=0,Y._result=L)}if(Y._status===1)return Y._result.default;throw Y._result}var fe=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},xe={map:K,forEach:function(Y,L,z){K(Y,function(){L.apply(this,arguments)},z)},count:function(Y){var L=0;return K(Y,function(){L++}),L},toArray:function(Y){return K(Y,function(L){return L})||[]},only:function(Y){if(!k(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return sn.Activity=y,sn.Children=xe,sn.Component=C,sn.Fragment=t,sn.Profiler=a,sn.PureComponent=R,sn.StrictMode=i,sn.Suspense=f,sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,sn.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return F.H.useMemoCache(Y)}},sn.cache=function(Y){return function(){return Y.apply(null,arguments)}},sn.cacheSignal=function(){return null},sn.cloneElement=function(Y,L,z){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var J=N({},Y.props),ie=Y.key;if(L!=null)for(se in L.key!==void 0&&(ie=""+L.key),L)!j.call(L,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&L.ref===void 0||(J[se]=L[se]);var se=arguments.length-2;if(se===1)J.children=z;else if(1<se){for(var de=Array(se),pe=0;pe<se;pe++)de[pe]=arguments[pe+2];J.children=de}return V(Y.type,ie,J)},sn.createContext=function(Y){return Y={$$typeof:h,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},sn.createElement=function(Y,L,z){var J,ie={},se=null;if(L!=null)for(J in L.key!==void 0&&(se=""+L.key),L)j.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ie[J]=L[J]);var de=arguments.length-2;if(de===1)ie.children=z;else if(1<de){for(var pe=Array(de),we=0;we<de;we++)pe[we]=arguments[we+2];ie.children=pe}if(Y&&Y.defaultProps)for(J in de=Y.defaultProps,de)ie[J]===void 0&&(ie[J]=de[J]);return V(Y,se,ie)},sn.createRef=function(){return{current:null}},sn.forwardRef=function(Y){return{$$typeof:c,render:Y}},sn.isValidElement=k,sn.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:ce}},sn.memo=function(Y,L){return{$$typeof:d,type:Y,compare:L===void 0?null:L}},sn.startTransition=function(Y){var L=F.T,z={};F.T=z;try{var J=Y(),ie=F.S;ie!==null&&ie(z,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Z,fe)}catch(se){fe(se)}finally{L!==null&&z.types!==null&&(L.types=z.types),F.T=L}},sn.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},sn.use=function(Y){return F.H.use(Y)},sn.useActionState=function(Y,L,z){return F.H.useActionState(Y,L,z)},sn.useCallback=function(Y,L){return F.H.useCallback(Y,L)},sn.useContext=function(Y){return F.H.useContext(Y)},sn.useDebugValue=function(){},sn.useDeferredValue=function(Y,L){return F.H.useDeferredValue(Y,L)},sn.useEffect=function(Y,L){return F.H.useEffect(Y,L)},sn.useEffectEvent=function(Y){return F.H.useEffectEvent(Y)},sn.useId=function(){return F.H.useId()},sn.useImperativeHandle=function(Y,L,z){return F.H.useImperativeHandle(Y,L,z)},sn.useInsertionEffect=function(Y,L){return F.H.useInsertionEffect(Y,L)},sn.useLayoutEffect=function(Y,L){return F.H.useLayoutEffect(Y,L)},sn.useMemo=function(Y,L){return F.H.useMemo(Y,L)},sn.useOptimistic=function(Y,L){return F.H.useOptimistic(Y,L)},sn.useReducer=function(Y,L,z){return F.H.useReducer(Y,L,z)},sn.useRef=function(Y){return F.H.useRef(Y)},sn.useState=function(Y){return F.H.useState(Y)},sn.useSyncExternalStore=function(Y,L,z){return F.H.useSyncExternalStore(Y,L,z)},sn.useTransition=function(){return F.H.useTransition()},sn.version="19.2.0",sn}var I5;function fg(){return I5||(I5=1,rm.exports=f4()),rm.exports}var ue=fg();const fn=tx(ue);var im={exports:{}},Tf={},sm={exports:{}},am={};var V5;function d4(){return V5||(V5=1,(function(r){function e(Q,K){var ce=Q.length;Q.push(K);e:for(;0<ce;){var fe=ce-1>>>1,xe=Q[fe];if(0<a(xe,K))Q[fe]=K,Q[ce]=xe,ce=fe;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var K=Q[0],ce=Q.pop();if(ce!==K){Q[0]=ce;e:for(var fe=0,xe=Q.length,Y=xe>>>1;fe<Y;){var L=2*(fe+1)-1,z=Q[L],J=L+1,ie=Q[J];if(0>a(z,ce))J<xe&&0>a(ie,z)?(Q[fe]=ie,Q[J]=ce,fe=J):(Q[fe]=z,Q[L]=ce,fe=L);else if(J<xe&&0>a(ie,ce))Q[fe]=ie,Q[J]=ce,fe=J;else break e}}return K}function a(Q,K){var ce=Q.sortIndex-K.sortIndex;return ce!==0?ce:Q.id-K.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();r.unstable_now=function(){return h.now()-c}}var f=[],d=[],m=1,y=null,w=3,v=!1,S=!1,N=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function q(Q){for(var K=t(d);K!==null;){if(K.callback===null)i(d);else if(K.startTime<=Q)i(d),K.sortIndex=K.expirationTime,e(f,K);else break;K=t(d)}}function B(Q){if(N=!1,q(Q),!S)if(t(f)!==null)S=!0,Z||(Z=!0,D());else{var K=t(d);K!==null&&he(B,K.startTime-Q)}}var Z=!1,F=-1,j=5,V=-1;function H(){return T?!0:!(r.unstable_now()-V<j)}function k(){if(T=!1,Z){var Q=r.unstable_now();V=Q;var K=!0;try{e:{S=!1,N&&(N=!1,I(F),F=-1),v=!0;var ce=w;try{t:{for(q(Q),y=t(f);y!==null&&!(y.expirationTime>Q&&H());){var fe=y.callback;if(typeof fe=="function"){y.callback=null,w=y.priorityLevel;var xe=fe(y.expirationTime<=Q);if(Q=r.unstable_now(),typeof xe=="function"){y.callback=xe,q(Q),K=!0;break t}y===t(f)&&i(f),q(Q)}else i(f);y=t(f)}if(y!==null)K=!0;else{var Y=t(d);Y!==null&&he(B,Y.startTime-Q),K=!1}}break e}finally{y=null,w=ce,v=!1}K=void 0}}finally{K?D():Z=!1}}}var D;if(typeof R=="function")D=function(){R(k)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,$=ne.port2;ne.port1.onmessage=k,D=function(){$.postMessage(null)}}else D=function(){C(k,0)};function he(Q,K){F=C(function(){Q(r.unstable_now())},K)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var ce=w;w=K;try{return Q()}finally{w=ce}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(Q,K){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=w;w=Q;try{return K()}finally{w=ce}},r.unstable_scheduleCallback=function(Q,K,ce){var fe=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?fe+ce:fe):ce=fe,Q){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ce+xe,Q={id:m++,callback:K,priorityLevel:Q,startTime:ce,expirationTime:xe,sortIndex:-1},ce>fe?(Q.sortIndex=ce,e(d,Q),t(f)===null&&Q===t(d)&&(N?(I(F),F=-1):N=!0,he(B,ce-fe))):(Q.sortIndex=xe,e(f,Q),S||v||(S=!0,Z||(Z=!0,D()))),Q},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(Q){var K=w;return function(){var ce=w;w=K;try{return Q.apply(this,arguments)}finally{w=ce}}}})(am)),am}var F5;function p4(){return F5||(F5=1,sm.exports=d4()),sm.exports}var om={exports:{}},qi={};var B5;function m4(){if(B5)return qi;B5=1;var r=fg();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:d,implementation:m}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return qi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qi.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},qi.flushSync=function(f){var d=h.T,m=i.p;try{if(h.T=null,i.p=2,f)return f()}finally{h.T=d,i.p=m,i.d.f()}},qi.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},qi.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},qi.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:v}):m==="script"&&i.d.X(f,{crossOrigin:y,integrity:w,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},qi.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},qi.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},qi.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},qi.requestFormReset=function(f){i.d.r(f)},qi.unstable_batchedUpdates=function(f,d){return f(d)},qi.useFormState=function(f,d,m){return h.H.useFormState(f,d,m)},qi.useFormStatus=function(){return h.H.useHostTransitionStatus()},qi.version="19.2.0",qi}var q5;function nx(){if(q5)return om.exports;q5=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=m4(),om.exports}var z5;function g4(){if(z5)return Tf;z5=1;var r=p4(),e=fg(),t=nx();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function c(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(i(188))}function d(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,u=s;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return f(g),n;if(x===u)return f(g),s;x=x.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=x;else{for(var O=!1,ee=g.child;ee;){if(ee===l){O=!0,l=g,u=x;break}if(ee===u){O=!0,u=g,l=x;break}ee=ee.sibling}if(!O){for(ee=x.child;ee;){if(ee===l){O=!0,l=x,u=g;break}if(ee===u){O=!0,u=x,l=g;break}ee=ee.sibling}if(!O)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),R=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function D(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Symbol.for("react.client.reference");function $(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ne?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case B:return"Suspense";case Z:return"SuspenseList";case V:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case R:return n.displayName||"Context";case I:return(n._context.displayName||"Context")+".Consumer";case q:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return s=n.displayName||null,s!==null?s:$(n.type)||"Memo";case j:s=n._payload,n=n._init;try{return $(n(s))}catch{}}return null}var he=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},fe=[],xe=-1;function Y(n){return{current:n}}function L(n){0>xe||(n.current=fe[xe],fe[xe]=null,xe--)}function z(n,s){xe++,fe[xe]=n.current,n.current=s}var J=Y(null),ie=Y(null),se=Y(null),de=Y(null);function pe(n,s){switch(z(se,s),z(ie,n),z(J,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?n5(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=n5(s),n=r5(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}L(J),z(J,n)}function we(){L(J),L(ie),L(se)}function Ae(n){n.memoizedState!==null&&z(de,n);var s=J.current,l=r5(s,n.type);s!==l&&(z(ie,n),z(J,l))}function Ge(n){ie.current===n&&(L(J),L(ie)),de.current===n&&(L(de),_f._currentValue=ce)}var Je,it;function st(n){if(Je===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Je=s&&s[1]||"",it=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+n+it}var W=!1;function De(n,s){if(!n||W)return"";W=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(Ve){var je=Ve}Reflect.construct(n,[],Xe)}else{try{Xe.call()}catch(Ve){je=Ve}n.call(Xe.prototype)}}else{try{throw Error()}catch(Ve){je=Ve}(Xe=n())&&typeof Xe.catch=="function"&&Xe.catch(function(){})}}catch(Ve){if(Ve&&je&&typeof Ve.stack=="string")return[Ve.stack,je.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),O=x[0],ee=x[1];if(O&&ee){var me=O.split(`
`),Le=ee.split(`
`);for(g=u=0;u<me.length&&!me[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Le.length&&!Le[g].includes("DetermineComponentFrameRoot");)g++;if(u===me.length||g===Le.length)for(u=me.length-1,g=Le.length-1;1<=u&&0<=g&&me[u]!==Le[g];)g--;for(;1<=u&&0<=g;u--,g--)if(me[u]!==Le[g]){if(u!==1||g!==1)do if(u--,g--,0>g||me[u]!==Le[g]){var qe=`
`+me[u].replace(" at new "," at ");return n.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",n.displayName)),qe}while(1<=u&&0<=g);break}}}finally{W=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?st(l):""}function at(n,s){switch(n.tag){case 26:case 27:case 5:return st(n.type);case 16:return st("Lazy");case 13:return n.child!==s&&s!==null?st("Suspense Fallback"):st("Suspense");case 19:return st("SuspenseList");case 0:case 15:return De(n.type,!1);case 11:return De(n.type.render,!1);case 1:return De(n.type,!0);case 31:return st("Activity");default:return""}}function $e(n){try{var s="",l=null;do s+=at(n,l),l=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Te=Object.prototype.hasOwnProperty,nt=r.unstable_scheduleCallback,rt=r.unstable_cancelCallback,lt=r.unstable_shouldYield,ft=r.unstable_requestPaint,At=r.unstable_now,Ft=r.unstable_getCurrentPriorityLevel,jt=r.unstable_ImmediatePriority,kt=r.unstable_UserBlockingPriority,Mt=r.unstable_NormalPriority,ht=r.unstable_LowPriority,Re=r.unstable_IdlePriority,Ye=r.log,qt=r.unstable_setDisableYieldValue,Nt=null,St=null;function Lt(n){if(typeof Ye=="function"&&qt(n),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Nt,n)}catch{}}var Bt=Math.clz32?Math.clz32:Dt,vt=Math.log,dn=Math.LN2;function Dt(n){return n>>>=0,n===0?32:31-(vt(n)/dn|0)|0}var Oe=256,ot=262144,Qe=4194304;function et(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function dt(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,x=n.suspendedLanes,O=n.pingedLanes;n=n.warmLanes;var ee=u&134217727;return ee!==0?(u=ee&~x,u!==0?g=et(u):(O&=ee,O!==0?g=et(O):l||(l=ee&~n,l!==0&&(g=et(l))))):(ee=u&~x,ee!==0?g=et(ee):O!==0?g=et(O):l||(l=u&~n,l!==0&&(g=et(l)))),g===0?0:s!==0&&s!==g&&(s&x)===0&&(x=g&-g,l=s&-s,x>=l||x===32&&(l&4194048)!==0)?s:g}function $t(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Ne(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ie(){var n=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),n}function He(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Ue(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ut(n,s,l,u,g,x){var O=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var ee=n.entanglements,me=n.expirationTimes,Le=n.hiddenUpdates;for(l=O&~l;0<l;){var qe=31-Bt(l),Xe=1<<qe;ee[qe]=0,me[qe]=-1;var je=Le[qe];if(je!==null)for(Le[qe]=null,qe=0;qe<je.length;qe++){var Ve=je[qe];Ve!==null&&(Ve.lane&=-536870913)}l&=~Xe}u!==0&&gt(n,u,0),x!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=x&~(O&~s))}function gt(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Bt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function Ct(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-Bt(l),g=1<<u;g&s|n[u]&s&&(n[u]|=s),l&=~g}}function Gt(n,s){var l=s&-s;return l=(l&42)!==0?1:Yt(l),(l&(n.suspendedLanes|s))!==0?0:l}function Yt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function cn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Kt(){var n=K.p;return n!==0?n:(n=window.event,n===void 0?32:C5(n.type))}function ir(n,s){var l=K.p;try{return K.p=n,s()}finally{K.p=l}}var Qt=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Qt,ln="__reactProps$"+Qt,Fn="__reactContainer$"+Qt,Un="__reactEvents$"+Qt,kn="__reactListeners$"+Qt,di="__reactHandles$"+Qt,ls="__reactResources$"+Qt,Ri="__reactMarker$"+Qt;function Os(n){delete n[Xt],delete n[ln],delete n[Un],delete n[kn],delete n[di]}function Ii(n){var s=n[Xt];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Fn]||l[Xt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=u5(n);n!==null;){if(l=n[Xt])return l;n=u5(n)}return s}n=l,l=n.parentNode}return null}function Yi(n){if(n=n[Xt]||n[Fn]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Js(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Xi(n){var s=n[ls];return s||(s=n[ls]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function or(n){n[Ri]=!0}var Bo=new Set,Ai={};function Zi(n,s){js(n,s),js(n+"Capture",s)}function js(n,s){for(Ai[n]=s,n=0;n<s.length;n++)Bo.add(s[n])}var wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_c={},Sc={};function vu(n){return Te.call(Sc,n)?!0:Te.call(_c,n)?!1:wc.test(n)?Sc[n]=!0:(_c[n]=!0,!1)}function $i(n,s,l){if(vu(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function xa(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function Ds(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}function Mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ac(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ea(n,s,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(O){l=""+O,x.call(this,O)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(O){l=""+O},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function lo(n){if(!n._valueTracker){var s=Ac(n)?"checked":"value";n._valueTracker=ea(n,s,""+n[s])}}function Nc(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=Ac(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function Ni(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Fr=/[\n"\\]/g;function Er(n){return n.replace(Fr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Al(n,s,l,u,g,x,O,ee){n.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?n.type=O:n.removeAttribute("type"),s!=null?O==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Mn(s)):n.value!==""+Mn(s)&&(n.value=""+Mn(s)):O!=="submit"&&O!=="reset"||n.removeAttribute("value"),s!=null?Cc(n,O,Mn(s)):l!=null?Cc(n,O,Mn(l)):u!=null&&n.removeAttribute("value"),g==null&&x!=null&&(n.defaultChecked=!!x),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?n.name=""+Mn(ee):n.removeAttribute("name")}function bu(n,s,l,u,g,x,O,ee){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),s!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){lo(n);return}l=l!=null?""+Mn(l):"",s=s!=null?""+Mn(s):l,ee||s===n.value||(n.value=s),n.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=ee?n.checked:!!u,n.defaultChecked=!!u,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(n.name=O),lo(n)}function Cc(n,s,l){s==="number"&&Ni(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ci(n,s,l,u){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+Mn(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Tc(n,s,l){if(s!=null&&(s=""+Mn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+Mn(l):""}function Ec(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(he(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Mn(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),lo(n)}function Rs(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var qo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yu(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||qo.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function xu(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&yu(n,g,u)}else for(var x in s)s.hasOwnProperty(x)&&yu(n,x,s[x])}function kc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(n){return wu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Is(){}var wa=null;function zo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var co=null,zt=null;function _u(n){var s=Yi(n);if(s&&(n=s.stateNode)){var l=n[ln]||null;e:switch(n=s.stateNode,s.type){case"input":if(Al(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Er(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var g=u[ln]||null;if(!g)throw Error(i(90));Al(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&Nc(u)}break e;case"textarea":Tc(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ci(n,!!l.multiple,s,!1)}}}var Lc=!1;function Su(n,s,l){if(Lc)return n(s,l);Lc=!0;try{var u=n(s);return u}finally{if(Lc=!1,(co!==null||zt!==null)&&(Pd(),co&&(s=co,n=zt,zt=co=null,_u(s),n)))for(s=0;s<n.length;s++)_u(n[s])}}function Ki(n,s){var l=n.stateNode;if(l===null)return null;var u=l[ln]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=!1;if(ti)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{Oc=!1}var Qi=null,Uo=null,ta=null;function Au(){if(ta)return ta;var n,s=Uo,l=s.length,u,g="value"in Qi?Qi.value:Qi.textContent,x=g.length;for(n=0;n<l&&s[n]===g[n];n++);var O=l-n;for(u=1;u<=O&&s[l-u]===g[x-u];u++);return ta=g.slice(n,1<u?1-u:void 0)}function cs(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Nl(){return!0}function Cl(){return!1}function Wr(n){function s(l,u,g,x,O){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=x,this.target=O,this.currentTarget=null;for(var ee in n)n.hasOwnProperty(ee)&&(l=n[ee],this[ee]=l?l(x):x[ee]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Nl:Cl,this.isPropagationStopped=Cl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),s}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Wr(na),_a=y({},na,{view:0,detail:0}),Tl=Wr(_a),Ho,Sa,Aa,Go=y({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Aa&&(Aa&&n.type==="mousemove"?(Ho=n.screenX-Aa.screenX,Sa=n.screenY-Aa.screenY):Sa=Ho=0,Aa=n),Ho)},movementY:function(n){return"movementY"in n?n.movementY:Sa}}),jc=Wr(Go),Na=y({},Go,{dataTransfer:0}),Ca=Wr(Na),Nu=y({},_a,{relatedTarget:0}),Ta=Wr(Nu),Cu=y({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Wr(Cu),P=y({},na,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),le=Wr(P),ge=y({},na,{data:0}),_e=Wr(ge),ze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ke={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tt(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=yt[n])?!!s[n]:!1}function Wt(){return Tt}var nn=y({},_a,{key:function(n){if(n.key){var s=ze[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=cs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ke[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wt,charCode:function(n){return n.type==="keypress"?cs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?cs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wn=Wr(nn),lr=y({},Go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sr=Wr(lr),Hn=y({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wt}),Br=Wr(Hn),kr=y({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),ni=Wr(kr),Ea=y({},Go,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Vs=Wr(Ea),ka=y({},na,{newState:0,oldState:0}),Dc=Wr(ka),El=[9,13,27,32],ra=ti&&"CompositionEvent"in window,Fs=null;ti&&"documentMode"in document&&(Fs=document.documentMode);var Wo=ti&&"TextEvent"in window&&!Fs,Ma=ti&&(!ra||Fs&&8<Fs&&11>=Fs),Yr=" ",uo=!1;function ho(n,s){switch(n){case"keyup":return El.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kl(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ia=!1;function Ti(n,s){switch(n){case"compositionend":return kl(s);case"keypress":return s.which!==32?null:(uo=!0,Yr);case"textInput":return n=s.data,n===Yr&&uo?null:n;default:return null}}function La(n,s){if(ia)return n==="compositionend"||!ra&&ho(n,s)?(n=Au(),ta=Uo=Qi=null,ia=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ma&&s.locale!=="ko"?null:s.data;default:return null}}var Ml={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Ml[n.type]:s==="textarea"}function Ji(n,s,l,u){co?zt?zt.push(u):zt=[u]:co=u,s=Zd(s,"onChange"),0<s.length&&(l=new us("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var Bs=null,Oa=null;function Ic(n){$v(n,0)}function qs(n){var s=Js(n);if(Nc(s))return n}function fo(n,s){if(n==="change")return s}var Fi=!1;if(ti){var Ei;if(ti){var sa="oninput"in document;if(!sa){var aa=document.createElement("div");aa.setAttribute("oninput","return;"),sa=typeof aa.oninput=="function"}Ei=sa}else Ei=!1;Fi=Ei&&(!document.documentMode||9<document.documentMode)}function ja(){Bs&&(Bs.detachEvent("onpropertychange",Ll),Oa=Bs=null)}function Ll(n){if(n.propertyName==="value"&&qs(Oa)){var s=[];Ji(s,Oa,n,zo(n)),Su(Ic,s)}}function Ol(n,s,l){n==="focusin"?(ja(),Bs=s,Oa=l,Bs.attachEvent("onpropertychange",Ll)):n==="focusout"&&ja()}function Ar(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return qs(Oa)}function Tu(n,s){if(n==="click")return qs(s)}function oa(n,s){if(n==="input"||n==="change")return qs(s)}function la(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ri=typeof Object.is=="function"?Object.is:la;function Da(n,s){if(ri(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Te.call(s,g)||!ri(n[g],s[g]))return!1}return!0}function jl(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Dl(n,s){var l=jl(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jl(l)}}function Ra(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Ra(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Ia(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Ni(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Ni(n.document)}return s}function ca(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Yo=ti&&"documentMode"in document&&11>=document.documentMode,es=null,Va=null,pi=null,hs=!1;function Ln(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hs||es==null||es!==Ni(u)||(u=es,"selectionStart"in u&&ca(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),pi&&Da(pi,u)||(pi=u,u=Zd(Va,"onSelect"),0<u.length&&(s=new us("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=es)))}function _n(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Gn={animationend:_n("Animation","AnimationEnd"),animationiteration:_n("Animation","AnimationIteration"),animationstart:_n("Animation","AnimationStart"),transitionrun:_n("Transition","TransitionRun"),transitionstart:_n("Transition","TransitionStart"),transitioncancel:_n("Transition","TransitionCancel"),transitionend:_n("Transition","TransitionEnd")},Nr={},ua={};ti&&(ua=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function zs(n){if(Nr[n])return Nr[n];if(!Gn[n])return n;var s=Gn[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in ua)return Nr[n]=s[l];return n}var Xo=zs("animationend"),Vc=zs("animationiteration"),Hh=zs("animationstart"),bd=zs("transitionrun"),yd=zs("transitionstart"),xd=zs("transitioncancel"),Gh=zs("transitionend"),Wh=new Map,Zo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zo.push("scrollEnd");function fs(n,s){Wh.set(n,s),Zi(s,[n])}var Fc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ts=[],$o=0,Eu=0;function Bc(){for(var n=$o,s=Eu=$o=0;s<n;){var l=ts[s];ts[s++]=null;var u=ts[s];ts[s++]=null;var g=ts[s];ts[s++]=null;var x=ts[s];if(ts[s++]=null,u!==null&&g!==null){var O=u.pending;O===null?g.next=g:(g.next=O.next,O.next=g),u.pending=g}x!==0&&zc(l,g,x)}}function qc(n,s,l,u){ts[$o++]=n,ts[$o++]=s,ts[$o++]=l,ts[$o++]=u,Eu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function ku(n,s,l,u){return qc(n,s,l,u),mi(n)}function Fa(n,s){return qc(n,null,null,s),mi(n)}function zc(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,x=n.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(g=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,g&&s!==null&&(g=31-Bt(l),n=x.hiddenUpdates,u=n[g],u===null?n[g]=[s]:u.push(s),s.lane=l|536870912),x):null}function mi(n){if(50<mf)throw mf=0,C0=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ii={};function Mu(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(n,s,l,u){return new Mu(n,s,l,u)}function Lu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ds(n,s){var l=n.alternate;return l===null?(l=gi(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Pc(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Rl(n,s,l,u,g,x){var O=0;if(u=n,typeof n=="function")Lu(n)&&(O=1);else if(typeof n=="string")O=Q_(n,l,J.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case V:return n=gi(31,l,s,g),n.elementType=V,n.lanes=x,n;case N:return po(l.children,g,x,s);case T:O=8,g|=24;break;case C:return n=gi(12,l,s,g|2),n.elementType=C,n.lanes=x,n;case B:return n=gi(13,l,s,g),n.elementType=B,n.lanes=x,n;case Z:return n=gi(19,l,s,g),n.elementType=Z,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case R:O=10;break e;case I:O=9;break e;case q:O=11;break e;case F:O=14;break e;case j:O=16,u=null;break e}O=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=gi(O,l,s,g),s.elementType=n,s.type=u,s.lanes=x,s}function po(n,s,l,u){return n=gi(7,n,u,s),n.lanes=l,n}function Uc(n,s,l){return n=gi(6,n,null,s),n.lanes=l,n}function Ou(n){var s=gi(18,null,null,0);return s.stateNode=n,s}function Il(n,s,l){return s=gi(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ju=new WeakMap;function ps(n,s){if(typeof n=="object"&&n!==null){var l=ju.get(n);return l!==void 0?l:(s={value:n,source:s,stack:$e(s)},ju.set(n,s),s)}return{value:n,source:s,stack:$e(s)}}var Vl=[],Ko=0,Du=null,Hc=0,ms=[],gs=0,mo=null,vs=1,bs="";function ns(n,s){Vl[Ko++]=Hc,Vl[Ko++]=Du,Du=n,Hc=s}function wd(n,s,l){ms[gs++]=vs,ms[gs++]=bs,ms[gs++]=mo,mo=n;var u=vs;n=bs;var g=32-Bt(u)-1;u&=~(1<<g),l+=1;var x=32-Bt(s)+g;if(30<x){var O=g-g%5;x=(u&(1<<O)-1).toString(32),u>>=O,g-=O,vs=1<<32-Bt(s)+g|l<<g|u,bs=x+n}else vs=1<<x|l<<g|u,bs=n}function Yh(n){n.return!==null&&(ns(n,1),wd(n,1,0))}function Ru(n){for(;n===Du;)Du=Vl[--Ko],Vl[Ko]=null,Hc=Vl[--Ko],Vl[Ko]=null;for(;n===mo;)mo=ms[--gs],ms[gs]=null,bs=ms[--gs],ms[gs]=null,vs=ms[--gs],ms[gs]=null}function _d(n,s){ms[gs++]=vs,ms[gs++]=bs,ms[gs++]=mo,vs=s.id,bs=s.overflow,mo=n}var si=null,Qn=null,mn=!1,ki=null,vr=!1,Ps=Error(i(519));function go(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(ps(s,n)),Ps}function Xh(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[Xt]=n,s[ln]=u,l){case"dialog":vn("cancel",s),vn("close",s);break;case"iframe":case"object":case"embed":vn("load",s);break;case"video":case"audio":for(l=0;l<vf.length;l++)vn(vf[l],s);break;case"source":vn("error",s);break;case"img":case"image":case"link":vn("error",s),vn("load",s);break;case"details":vn("toggle",s);break;case"input":vn("invalid",s),bu(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":vn("invalid",s);break;case"textarea":vn("invalid",s),Ec(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||e5(s.textContent,l)?(u.popover!=null&&(vn("beforetoggle",s),vn("toggle",s)),u.onScroll!=null&&vn("scroll",s),u.onScrollEnd!=null&&vn("scrollend",s),u.onClick!=null&&(s.onclick=Is),s=!0):s=!1,s||go(n,!0)}function Ba(n){for(si=n.return;si;)switch(si.tag){case 5:case 31:case 13:vr=!1;return;case 27:case 3:vr=!0;return;default:si=si.return}}function ai(n){if(n!==si)return!1;if(!mn)return Ba(n),mn=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||z0(n.type,n.memoizedProps)),l=!l),l&&Qn&&go(n),Ba(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Qn=c5(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Qn=c5(n)}else s===27?(s=Qn,Ql(n.type)?(n=W0,W0=null,Qn=n):Qn=s):Qn=si?pa(n.stateNode.nextSibling):null;return!0}function Qo(){Qn=si=null,mn=!1}function Zh(){var n=ki;return n!==null&&(As===null?As=n:As.push.apply(As,n),ki=null),n}function Fl(n){ki===null?ki=[n]:ki.push(n)}var Iu=Y(null),vo=null,ha=null;function bo(n,s,l){z(Iu,s._currentValue),s._currentValue=l}function ys(n){n._currentValue=Iu.current,L(Iu)}function Bl(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function Jo(n,s,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var x=g.dependencies;if(x!==null){var O=g.child;x=x.firstContext;e:for(;x!==null;){var ee=x;x=g;for(var me=0;me<s.length;me++)if(ee.context===s[me]){x.lanes|=l,ee=x.alternate,ee!==null&&(ee.lanes|=l),Bl(x.return,l,n),u||(O=null);break e}x=ee.next}}else if(g.tag===18){if(O=g.return,O===null)throw Error(i(341));O.lanes|=l,x=O.alternate,x!==null&&(x.lanes|=l),Bl(O,l,n),O=null}else O=g.child;if(O!==null)O.return=g;else for(O=g;O!==null;){if(O===n){O=null;break}if(g=O.sibling,g!==null){g.return=O.return,O=g;break}O=O.return}g=O}}function yo(n,s,l,u){n=null;for(var g=s,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var O=g.alternate;if(O===null)throw Error(i(387));if(O=O.memoizedProps,O!==null){var ee=g.type;ri(g.pendingProps.value,O.value)||(n!==null?n.push(ee):n=[ee])}}else if(g===de.current){if(O=g.alternate,O===null)throw Error(i(387));O.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(_f):n=[_f])}g=g.return}n!==null&&Jo(s,n,l,u),s.flags|=262144}function Vu(n){for(n=n.firstContext;n!==null;){if(!ri(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function xo(n){vo=n,ha=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function oi(n){return Sd(vo,n)}function Fu(n,s){return vo===null&&xo(n),Sd(n,s)}function Sd(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ha===null){if(n===null)throw Error(i(308));ha=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ha=ha.next=s;return l}var Gp=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},Wp=r.unstable_scheduleCallback,Yp=r.unstable_NormalPriority,Cr={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ql(){return{controller:new Gp,data:new Map,refCount:0}}function Gc(n){n.refCount--,n.refCount===0&&Wp(Yp,function(){n.controller.abort()})}var Wc=null,Bu=0,p=0,b=null;function A(n,s){if(Wc===null){var l=Wc=[];Bu=0,p=O0(),b={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Bu++,s.then(M,M),s}function M(){if(--Bu===0&&Wc!==null){b!==null&&(b.status="fulfilled");var n=Wc;Wc=null,p=0,b=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function U(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var G=Q.S;Q.S=function(n,s){Av=At(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&A(n,s),G!==null&&G(n,s)};var X=Y(null);function te(){var n=X.current;return n!==null?n:er.pooledCache}function re(n,s){s===null?z(X,X.current):z(X,s.pool)}function oe(){var n=te();return n===null?null:{parent:Cr._currentValue,pool:n}}var ve=Error(i(460)),ke=Error(i(474)),ae=Error(i(542)),ye={then:function(){}};function Ce(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Be(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(Is,Is),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,tt(n),n;default:if(typeof s.status=="string")s.then(Is,Is);else{if(n=er,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,tt(n),n}throw Fe=s,ve}}function Ee(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Fe=l,ve):l}}var Fe=null;function Pe(){if(Fe===null)throw Error(i(459));var n=Fe;return Fe=null,n}function tt(n){if(n===ve||n===ae)throw Error(i(483))}var Ze=null,wt=0;function pt(n){var s=wt;return wt+=1,Ze===null&&(Ze=[]),Be(Ze,n,s)}function Jt(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function bt(n,s){throw s.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function pn(n){function s(Se,be){if(n){var Me=Se.deletions;Me===null?(Se.deletions=[be],Se.flags|=16):Me.push(be)}}function l(Se,be){if(!n)return null;for(;be!==null;)s(Se,be),be=be.sibling;return null}function u(Se){for(var be=new Map;Se!==null;)Se.key!==null?be.set(Se.key,Se):be.set(Se.index,Se),Se=Se.sibling;return be}function g(Se,be){return Se=ds(Se,be),Se.index=0,Se.sibling=null,Se}function x(Se,be,Me){return Se.index=Me,n?(Me=Se.alternate,Me!==null?(Me=Me.index,Me<be?(Se.flags|=67108866,be):Me):(Se.flags|=67108866,be)):(Se.flags|=1048576,be)}function O(Se){return n&&Se.alternate===null&&(Se.flags|=67108866),Se}function ee(Se,be,Me,We){return be===null||be.tag!==6?(be=Uc(Me,Se.mode,We),be.return=Se,be):(be=g(be,Me),be.return=Se,be)}function me(Se,be,Me,We){var Vt=Me.type;return Vt===N?qe(Se,be,Me.props.children,We,Me.key):be!==null&&(be.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===j&&Ee(Vt)===be.type)?(be=g(be,Me.props),Jt(be,Me),be.return=Se,be):(be=Rl(Me.type,Me.key,Me.props,null,Se.mode,We),Jt(be,Me),be.return=Se,be)}function Le(Se,be,Me,We){return be===null||be.tag!==4||be.stateNode.containerInfo!==Me.containerInfo||be.stateNode.implementation!==Me.implementation?(be=Il(Me,Se.mode,We),be.return=Se,be):(be=g(be,Me.children||[]),be.return=Se,be)}function qe(Se,be,Me,We,Vt){return be===null||be.tag!==7?(be=po(Me,Se.mode,We,Vt),be.return=Se,be):(be=g(be,Me),be.return=Se,be)}function Xe(Se,be,Me){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Uc(""+be,Se.mode,Me),be.return=Se,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case v:return Me=Rl(be.type,be.key,be.props,null,Se.mode,Me),Jt(Me,be),Me.return=Se,Me;case S:return be=Il(be,Se.mode,Me),be.return=Se,be;case j:return be=Ee(be),Xe(Se,be,Me)}if(he(be)||D(be))return be=po(be,Se.mode,Me,null),be.return=Se,be;if(typeof be.then=="function")return Xe(Se,pt(be),Me);if(be.$$typeof===R)return Xe(Se,Fu(Se,be),Me);bt(Se,be)}return null}function je(Se,be,Me,We){var Vt=be!==null?be.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return Vt!==null?null:ee(Se,be,""+Me,We);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case v:return Me.key===Vt?me(Se,be,Me,We):null;case S:return Me.key===Vt?Le(Se,be,Me,We):null;case j:return Me=Ee(Me),je(Se,be,Me,We)}if(he(Me)||D(Me))return Vt!==null?null:qe(Se,be,Me,We,null);if(typeof Me.then=="function")return je(Se,be,pt(Me),We);if(Me.$$typeof===R)return je(Se,be,Fu(Se,Me),We);bt(Se,Me)}return null}function Ve(Se,be,Me,We,Vt){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return Se=Se.get(Me)||null,ee(be,Se,""+We,Vt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case v:return Se=Se.get(We.key===null?Me:We.key)||null,me(be,Se,We,Vt);case S:return Se=Se.get(We.key===null?Me:We.key)||null,Le(be,Se,We,Vt);case j:return We=Ee(We),Ve(Se,be,Me,We,Vt)}if(he(We)||D(We))return Se=Se.get(Me)||null,qe(be,Se,We,Vt,null);if(typeof We.then=="function")return Ve(Se,be,Me,pt(We),Vt);if(We.$$typeof===R)return Ve(Se,be,Me,Fu(be,We),Vt);bt(be,We)}return null}function xt(Se,be,Me,We){for(var Vt=null,jn=null,Et=be,un=be=0,yn=null;Et!==null&&un<Me.length;un++){Et.index>un?(yn=Et,Et=null):yn=Et.sibling;var Dn=je(Se,Et,Me[un],We);if(Dn===null){Et===null&&(Et=yn);break}n&&Et&&Dn.alternate===null&&s(Se,Et),be=x(Dn,be,un),jn===null?Vt=Dn:jn.sibling=Dn,jn=Dn,Et=yn}if(un===Me.length)return l(Se,Et),mn&&ns(Se,un),Vt;if(Et===null){for(;un<Me.length;un++)Et=Xe(Se,Me[un],We),Et!==null&&(be=x(Et,be,un),jn===null?Vt=Et:jn.sibling=Et,jn=Et);return mn&&ns(Se,un),Vt}for(Et=u(Et);un<Me.length;un++)yn=Ve(Et,Se,un,Me[un],We),yn!==null&&(n&&yn.alternate!==null&&Et.delete(yn.key===null?un:yn.key),be=x(yn,be,un),jn===null?Vt=yn:jn.sibling=yn,jn=yn);return n&&Et.forEach(function(rc){return s(Se,rc)}),mn&&ns(Se,un),Vt}function Ut(Se,be,Me,We){if(Me==null)throw Error(i(151));for(var Vt=null,jn=null,Et=be,un=be=0,yn=null,Dn=Me.next();Et!==null&&!Dn.done;un++,Dn=Me.next()){Et.index>un?(yn=Et,Et=null):yn=Et.sibling;var rc=je(Se,Et,Dn.value,We);if(rc===null){Et===null&&(Et=yn);break}n&&Et&&rc.alternate===null&&s(Se,Et),be=x(rc,be,un),jn===null?Vt=rc:jn.sibling=rc,jn=rc,Et=yn}if(Dn.done)return l(Se,Et),mn&&ns(Se,un),Vt;if(Et===null){for(;!Dn.done;un++,Dn=Me.next())Dn=Xe(Se,Dn.value,We),Dn!==null&&(be=x(Dn,be,un),jn===null?Vt=Dn:jn.sibling=Dn,jn=Dn);return mn&&ns(Se,un),Vt}for(Et=u(Et);!Dn.done;un++,Dn=Me.next())Dn=Ve(Et,Se,un,Dn.value,We),Dn!==null&&(n&&Dn.alternate!==null&&Et.delete(Dn.key===null?un:Dn.key),be=x(Dn,be,un),jn===null?Vt=Dn:jn.sibling=Dn,jn=Dn);return n&&Et.forEach(function(c4){return s(Se,c4)}),mn&&ns(Se,un),Vt}function Zn(Se,be,Me,We){if(typeof Me=="object"&&Me!==null&&Me.type===N&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case v:e:{for(var Vt=Me.key;be!==null;){if(be.key===Vt){if(Vt=Me.type,Vt===N){if(be.tag===7){l(Se,be.sibling),We=g(be,Me.props.children),We.return=Se,Se=We;break e}}else if(be.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===j&&Ee(Vt)===be.type){l(Se,be.sibling),We=g(be,Me.props),Jt(We,Me),We.return=Se,Se=We;break e}l(Se,be);break}else s(Se,be);be=be.sibling}Me.type===N?(We=po(Me.props.children,Se.mode,We,Me.key),We.return=Se,Se=We):(We=Rl(Me.type,Me.key,Me.props,null,Se.mode,We),Jt(We,Me),We.return=Se,Se=We)}return O(Se);case S:e:{for(Vt=Me.key;be!==null;){if(be.key===Vt)if(be.tag===4&&be.stateNode.containerInfo===Me.containerInfo&&be.stateNode.implementation===Me.implementation){l(Se,be.sibling),We=g(be,Me.children||[]),We.return=Se,Se=We;break e}else{l(Se,be);break}else s(Se,be);be=be.sibling}We=Il(Me,Se.mode,We),We.return=Se,Se=We}return O(Se);case j:return Me=Ee(Me),Zn(Se,be,Me,We)}if(he(Me))return xt(Se,be,Me,We);if(D(Me)){if(Vt=D(Me),typeof Vt!="function")throw Error(i(150));return Me=Vt.call(Me),Ut(Se,be,Me,We)}if(typeof Me.then=="function")return Zn(Se,be,pt(Me),We);if(Me.$$typeof===R)return Zn(Se,be,Fu(Se,Me),We);bt(Se,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,be!==null&&be.tag===6?(l(Se,be.sibling),We=g(be,Me),We.return=Se,Se=We):(l(Se,be),We=Uc(Me,Se.mode,We),We.return=Se,Se=We),O(Se)):l(Se,be)}return function(Se,be,Me,We){try{wt=0;var Vt=Zn(Se,be,Me,We);return Ze=null,Vt}catch(Et){if(Et===ve||Et===ae)throw Et;var jn=gi(29,Et,null,Se.mode);return jn.lanes=We,jn.return=Se,jn}finally{}}}var Jn=pn(!0),rn=pn(!1),mt=!1;function ct(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cr(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Pt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function on(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Vn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=mi(n),zc(n,null,l),s}return qc(n,u,s,l),mi(n)}function Rn(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Ct(n,l)}}function qr(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var O={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=O:x=x.next=O,l=l.next}while(l!==null);x===null?g=x=s:x=x.next=s}else g=x=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var li=!1;function Wn(){if(li){var n=b;if(n!==null)throw n}}function Mr(n,s,l,u){li=!1;var g=n.updateQueue;mt=!1;var x=g.firstBaseUpdate,O=g.lastBaseUpdate,ee=g.shared.pending;if(ee!==null){g.shared.pending=null;var me=ee,Le=me.next;me.next=null,O===null?x=Le:O.next=Le,O=me;var qe=n.alternate;qe!==null&&(qe=qe.updateQueue,ee=qe.lastBaseUpdate,ee!==O&&(ee===null?qe.firstBaseUpdate=Le:ee.next=Le,qe.lastBaseUpdate=me))}if(x!==null){var Xe=g.baseState;O=0,qe=Le=me=null,ee=x;do{var je=ee.lane&-536870913,Ve=je!==ee.lane;if(Ve?(bn&je)===je:(u&je)===je){je!==0&&je===p&&(li=!0),qe!==null&&(qe=qe.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var xt=n,Ut=ee;je=s;var Zn=l;switch(Ut.tag){case 1:if(xt=Ut.payload,typeof xt=="function"){Xe=xt.call(Zn,Xe,je);break e}Xe=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Ut.payload,je=typeof xt=="function"?xt.call(Zn,Xe,je):xt,je==null)break e;Xe=y({},Xe,je);break e;case 2:mt=!0}}je=ee.callback,je!==null&&(n.flags|=64,Ve&&(n.flags|=8192),Ve=g.callbacks,Ve===null?g.callbacks=[je]:Ve.push(je))}else Ve={lane:je,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},qe===null?(Le=qe=Ve,me=Xe):qe=qe.next=Ve,O|=je;if(ee=ee.next,ee===null){if(ee=g.shared.pending,ee===null)break;Ve=ee,ee=Ve.next,Ve.next=null,g.lastBaseUpdate=Ve,g.shared.pending=null}}while(!0);qe===null&&(me=Xe),g.baseState=me,g.firstBaseUpdate=Le,g.lastBaseUpdate=qe,x===null&&(g.shared.lanes=0),Yl|=O,n.lanes=O,n.memoizedState=Xe}}function vi(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Lr(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)vi(l[n],s)}var hn=Y(null),Nn=Y(0);function ur(n,s){n=cl,z(Nn,n),z(hn,s),cl=n|s.baseLanes}function On(){z(Nn,cl),z(hn,hn.current)}function zr(){cl=Nn.current,L(hn),L(Nn)}var hr=Y(null),Cn=null;function Tr(n){var s=n.alternate;z(Sn,Sn.current&1),z(hr,n),Cn===null&&(s===null||hn.current!==null||s.memoizedState!==null)&&(Cn=n)}function In(n){z(Sn,Sn.current),z(hr,n),Cn===null&&(Cn=n)}function Or(n){n.tag===22?(z(Sn,Sn.current),z(hr,n),Cn===null&&(Cn=n)):jr()}function jr(){z(Sn,Sn.current),z(hr,hr.current)}function Bn(n){L(hr),Cn===n&&(Cn=null),L(Sn)}var Sn=Y(0);function bi(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||H0(l)||G0(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var br=0,Rt=null,It=null,Tn=null,Bi=!1,xs=!1,Mi=!1,Dr=0,wo=0,_o=null,qu=0;function Yn(){throw Error(i(321))}function $h(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!ri(n[l],s[l]))return!1;return!0}function Kh(n,s,l,u,g,x){return br=x,Rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=n===null||n.memoizedState===null?R2:t0,Mi=!1,x=l(u,g),Mi=!1,xs&&(x=qa(s,l,u,g)),zu(n),x}function zu(n){Q.H=af;var s=It!==null&&It.next!==null;if(br=0,Tn=It=Rt=null,Bi=!1,wo=0,_o=null,s)throw Error(i(300));n===null||Zr||(n=n.dependencies,n!==null&&Vu(n)&&(Zr=!0))}function qa(n,s,l,u){Rt=n;var g=0;do{if(xs&&(_o=null),wo=0,xs=!1,25<=g)throw Error(i(301));if(g+=1,Tn=It=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Q.H=I2,x=s(l,u)}while(xs);return x}function Xp(){var n=Q.H,s=n.useState()[0];return s=typeof s.then=="function"?So(s):s,n=n.useState()[0],(It!==null?It.memoizedState:null)!==n&&(Rt.flags|=1024),s}function Qh(){var n=Dr!==0;return Dr=0,n}function Jh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Pu(n){if(Bi){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Bi=!1}br=0,Tn=It=Rt=null,xs=!1,wo=Dr=0,_o=null}function Xr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Rt.memoizedState=Tn=n:Tn=Tn.next=n,Tn}function yr(){if(It===null){var n=Rt.alternate;n=n!==null?n.memoizedState:null}else n=It.next;var s=Tn===null?Rt.memoizedState:Tn.next;if(s!==null)Tn=s,It=n;else{if(n===null)throw Rt.alternate===null?Error(i(467)):Error(i(310));It=n,n={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Tn===null?Rt.memoizedState=Tn=n:Tn=Tn.next=n}return Tn}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(n){var s=wo;return wo+=1,_o===null&&(_o=[]),n=Be(_o,n,s),s=Rt,(Tn===null?s.memoizedState:Tn.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?R2:t0),n}function zl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return So(n);if(n.$$typeof===R)return oi(n)}throw Error(i(438,String(n)))}function el(n){var s=null,l=Rt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Rt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Yc(),Rt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=H;return s.index++,l}function fa(n,s){return typeof s=="function"?s(n):s}function Uu(n){var s=yr();return Pl(s,It,n)}function Pl(n,s,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=n.baseQueue,x=u.pending;if(x!==null){if(g!==null){var O=g.next;g.next=x.next,x.next=O}s.baseQueue=g=x,u.pending=null}if(x=n.baseState,g===null)n.memoizedState=x;else{s=g.next;var ee=O=null,me=null,Le=s,qe=!1;do{var Xe=Le.lane&-536870913;if(Xe!==Le.lane?(bn&Xe)===Xe:(br&Xe)===Xe){var je=Le.revertLane;if(je===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),Xe===p&&(qe=!0);else if((br&je)===je){Le=Le.next,je===p&&(qe=!0);continue}else Xe={lane:0,revertLane:Le.revertLane,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},me===null?(ee=me=Xe,O=x):me=me.next=Xe,Rt.lanes|=je,Yl|=je;Xe=Le.action,Mi&&l(x,Xe),x=Le.hasEagerState?Le.eagerState:l(x,Xe)}else je={lane:Xe,revertLane:Le.revertLane,gesture:Le.gesture,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},me===null?(ee=me=je,O=x):me=me.next=je,Rt.lanes|=Xe,Yl|=Xe;Le=Le.next}while(Le!==null&&Le!==s);if(me===null?O=x:me.next=ee,!ri(x,n.memoizedState)&&(Zr=!0,qe&&(l=b,l!==null)))throw l;n.memoizedState=x,n.baseState=O,n.baseQueue=me,u.lastRenderedState=x}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Hu(n){var s=yr(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,x=s.memoizedState;if(g!==null){l.pending=null;var O=g=g.next;do x=n(x,O.action),O=O.next;while(O!==g);ri(x,s.memoizedState)||(Zr=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,u]}function Gu(n,s,l){var u=Rt,g=yr(),x=mn;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=s();var O=!ri((It||g).memoizedState,l);if(O&&(g.memoizedState=l,Zr=!0),g=g.queue,Zp(tf.bind(null,u,g,n),[n]),g.getSnapshot!==s||O||Tn!==null&&Tn.memoizedState.tag&1){if(u.flags|=2048,nl(9,{destroy:void 0},ef.bind(null,u,g,l,s),null),er===null)throw Error(i(349));x||(br&127)!==0||za(u,s,l)}return l}function za(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Rt.updateQueue,s===null?(s=Yc(),Rt.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function ef(n,s,l,u){s.value=l,s.getSnapshot=u,Ad(s)&&nf(n)}function tf(n,s,l){return l(function(){Ad(s)&&nf(n)})}function Ad(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!ri(n,l)}catch{return!0}}function nf(n){var s=Fa(n,2);s!==null&&Ns(s,n,2)}function Ao(n){var s=Xr();if(typeof n=="function"){var l=n;if(n=l(),Mi){Lt(!0);try{l()}finally{Lt(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},s}function Nd(n,s,l,u){return n.baseState=l,Pl(n,It,typeof u=="function"?u:fa)}function Cd(n,s,l,u,g){if(Md(n))throw Error(i(485));if(n=s.action,n!==null){var x={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){x.listeners.push(O)}};Q.T!==null?l(!0):x.isTransition=!1,u(x),l=s.pending,l===null?(x.next=s.pending=x,Td(s,x)):(x.next=l.next,s.pending=l.next=x)}}function Td(n,s){var l=s.action,u=s.payload,g=n.state;if(s.isTransition){var x=Q.T,O={};Q.T=O;try{var ee=l(g,u),me=Q.S;me!==null&&me(O,ee),rf(n,s,ee)}catch(Le){tl(n,s,Le)}finally{x!==null&&O.types!==null&&(x.types=O.types),Q.T=x}}else try{x=l(g,u),rf(n,s,x)}catch(Le){tl(n,s,Le)}}function rf(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Ed(n,s,u)},function(u){return tl(n,s,u)}):Ed(n,s,l)}function Ed(n,s,l){s.status="fulfilled",s.value=l,Wu(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,Td(n,l)))}function tl(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Wu(s),s=s.next;while(s!==u)}n.action=null}function Wu(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Xc(n,s){return s}function da(n,s){if(mn){var l=er.formState;if(l!==null){e:{var u=Rt;if(mn){if(Qn){t:{for(var g=Qn,x=vr;g.nodeType!==8;){if(!x){g=null;break t}if(g=pa(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Qn=pa(g.nextSibling),u=g.data==="F!";break e}}go(u)}u=!1}u&&(s=l[0])}}return l=Xr(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:s},l.queue=u,l=O2.bind(null,Rt,u),u.dispatch=l,u=Ao(!1),x=e0.bind(null,Rt,!1,u.queue),u=Xr(),g={state:s,dispatch:null,action:n,pending:null},u.queue=g,l=Cd.bind(null,Rt,g,x,l),g.dispatch=l,u.memoizedState=n,[s,l,!1]}function Pa(n){var s=yr();return Ua(s,It,n)}function Ua(n,s,l){if(s=Pl(n,s,Xc)[0],n=Uu(fa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=So(s)}catch(O){throw O===ve?ae:O}else u=s;s=yr();var g=s.queue,x=g.dispatch;return l!==s.memoizedState&&(Rt.flags|=2048,nl(9,{destroy:void 0},Yu.bind(null,g,l),null)),[u,x,n]}function Yu(n,s){n.action=s}function Xu(n){var s=yr(),l=It;if(l!==null)return Ua(s,l,n);yr(),s=s.memoizedState,l=yr();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function nl(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=Rt.updateQueue,s===null&&(s=Yc(),Rt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function kd(){return yr().memoizedState}function Ul(n,s,l,u){var g=Xr();Rt.flags|=n,g.memoizedState=nl(1|s,{destroy:void 0},l,u===void 0?null:u)}function Hl(n,s,l,u){var g=yr();u=u===void 0?null:u;var x=g.memoizedState.inst;It!==null&&u!==null&&$h(u,It.memoizedState.deps)?g.memoizedState=nl(s,x,l,u):(Rt.flags|=n,g.memoizedState=nl(1|s,x,l,u))}function b2(n,s){Ul(8390656,8,n,s)}function Zp(n,s){Hl(2048,8,n,s)}function r_(n){Rt.flags|=4;var s=Rt.updateQueue;if(s===null)s=Yc(),Rt.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function y2(n){var s=yr().memoizedState;return r_({ref:s,nextImpl:n}),function(){if((Vn&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function x2(n,s){return Hl(4,2,n,s)}function w2(n,s){return Hl(4,4,n,s)}function _2(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function S2(n,s,l){l=l!=null?l.concat([n]):null,Hl(4,4,_2.bind(null,s,n),l)}function $p(){}function A2(n,s){var l=yr();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&$h(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function N2(n,s){var l=yr();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&$h(s,u[1]))return u[0];if(u=n(),Mi){Lt(!0);try{n()}finally{Lt(!1)}}return l.memoizedState=[u,s],u}function Kp(n,s,l){return l===void 0||(br&1073741824)!==0&&(bn&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=Cv(),Rt.lanes|=n,Yl|=n,l)}function C2(n,s,l,u){return ri(l,s)?l:hn.current!==null?(n=Kp(n,l,u),ri(n,s)||(Zr=!0),n):(br&42)===0||(br&1073741824)!==0&&(bn&261930)===0?(Zr=!0,n.memoizedState=l):(n=Cv(),Rt.lanes|=n,Yl|=n,s)}function T2(n,s,l,u,g){var x=K.p;K.p=x!==0&&8>x?x:8;var O=Q.T,ee={};Q.T=ee,e0(n,!1,s,l);try{var me=g(),Le=Q.S;if(Le!==null&&Le(ee,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var qe=U(me,u);sf(n,s,qe,Gs(n))}else sf(n,s,u,Gs(n))}catch(Xe){sf(n,s,{then:function(){},status:"rejected",reason:Xe},Gs())}finally{K.p=x,O!==null&&ee.types!==null&&(O.types=ee.types),Q.T=O}}function i_(){}function Qp(n,s,l,u){if(n.tag!==5)throw Error(i(476));var g=E2(n).queue;T2(n,g,s,ce,l===null?i_:function(){return k2(n),l(u)})}function E2(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:ce},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function k2(n){var s=E2(n);s.next===null&&(s=n.alternate.memoizedState),sf(n,s.next.queue,{},Gs())}function Jp(){return oi(_f)}function M2(){return yr().memoizedState}function L2(){return yr().memoizedState}function s_(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=Gs();n=Pt(l);var u=on(s,n,l);u!==null&&(Ns(u,s,l),Rn(u,s,l)),s={cache:ql()},n.payload=s;return}s=s.return}}function a_(n,s,l){var u=Gs();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Md(n)?j2(s,l):(l=ku(n,s,l,u),l!==null&&(Ns(l,n,u),D2(l,s,u)))}function O2(n,s,l){var u=Gs();sf(n,s,l,u)}function sf(n,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Md(n))j2(s,g);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var O=s.lastRenderedState,ee=x(O,l);if(g.hasEagerState=!0,g.eagerState=ee,ri(ee,O))return qc(n,s,g,0),er===null&&Bc(),!1}catch{}finally{}if(l=ku(n,s,g,u),l!==null)return Ns(l,n,u),D2(l,s,u),!0}return!1}function e0(n,s,l,u){if(u={lane:2,revertLane:O0(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Md(n)){if(s)throw Error(i(479))}else s=ku(n,l,u,2),s!==null&&Ns(s,n,2)}function Md(n){var s=n.alternate;return n===Rt||s!==null&&s===Rt}function j2(n,s){xs=Bi=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function D2(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Ct(n,l)}}var af={readContext:oi,use:zl,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useLayoutEffect:Yn,useInsertionEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useSyncExternalStore:Yn,useId:Yn,useHostTransitionStatus:Yn,useFormState:Yn,useActionState:Yn,useOptimistic:Yn,useMemoCache:Yn,useCacheRefresh:Yn};af.useEffectEvent=Yn;var R2={readContext:oi,use:zl,useCallback:function(n,s){return Xr().memoizedState=[n,s===void 0?null:s],n},useContext:oi,useEffect:b2,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Ul(4194308,4,_2.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Ul(4194308,4,n,s)},useInsertionEffect:function(n,s){Ul(4,2,n,s)},useMemo:function(n,s){var l=Xr();s=s===void 0?null:s;var u=n();if(Mi){Lt(!0);try{n()}finally{Lt(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=Xr();if(l!==void 0){var g=l(s);if(Mi){Lt(!0);try{l(s)}finally{Lt(!1)}}}else g=s;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=a_.bind(null,Rt,n),[u.memoizedState,n]},useRef:function(n){var s=Xr();return n={current:n},s.memoizedState=n},useState:function(n){n=Ao(n);var s=n.queue,l=O2.bind(null,Rt,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:$p,useDeferredValue:function(n,s){var l=Xr();return Kp(l,n,s)},useTransition:function(){var n=Ao(!1);return n=T2.bind(null,Rt,n.queue,!0,!1),Xr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=Rt,g=Xr();if(mn){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),er===null)throw Error(i(349));(bn&127)!==0||za(u,s,l)}g.memoizedState=l;var x={value:l,getSnapshot:s};return g.queue=x,b2(tf.bind(null,u,x,n),[n]),u.flags|=2048,nl(9,{destroy:void 0},ef.bind(null,u,x,l,s),null),l},useId:function(){var n=Xr(),s=er.identifierPrefix;if(mn){var l=bs,u=vs;l=(u&~(1<<32-Bt(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Dr++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=qu++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Jp,useFormState:da,useActionState:da,useOptimistic:function(n){var s=Xr();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=e0.bind(null,Rt,!0,l),l.dispatch=s,[n,s]},useMemoCache:el,useCacheRefresh:function(){return Xr().memoizedState=s_.bind(null,Rt)},useEffectEvent:function(n){var s=Xr(),l={impl:n};return s.memoizedState=l,function(){if((Vn&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},t0={readContext:oi,use:zl,useCallback:A2,useContext:oi,useEffect:Zp,useImperativeHandle:S2,useInsertionEffect:x2,useLayoutEffect:w2,useMemo:N2,useReducer:Uu,useRef:kd,useState:function(){return Uu(fa)},useDebugValue:$p,useDeferredValue:function(n,s){var l=yr();return C2(l,It.memoizedState,n,s)},useTransition:function(){var n=Uu(fa)[0],s=yr().memoizedState;return[typeof n=="boolean"?n:So(n),s]},useSyncExternalStore:Gu,useId:M2,useHostTransitionStatus:Jp,useFormState:Pa,useActionState:Pa,useOptimistic:function(n,s){var l=yr();return Nd(l,It,n,s)},useMemoCache:el,useCacheRefresh:L2};t0.useEffectEvent=y2;var I2={readContext:oi,use:zl,useCallback:A2,useContext:oi,useEffect:Zp,useImperativeHandle:S2,useInsertionEffect:x2,useLayoutEffect:w2,useMemo:N2,useReducer:Hu,useRef:kd,useState:function(){return Hu(fa)},useDebugValue:$p,useDeferredValue:function(n,s){var l=yr();return It===null?Kp(l,n,s):C2(l,It.memoizedState,n,s)},useTransition:function(){var n=Hu(fa)[0],s=yr().memoizedState;return[typeof n=="boolean"?n:So(n),s]},useSyncExternalStore:Gu,useId:M2,useHostTransitionStatus:Jp,useFormState:Xu,useActionState:Xu,useOptimistic:function(n,s){var l=yr();return It!==null?Nd(l,It,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:el,useCacheRefresh:L2};I2.useEffectEvent=y2;function n0(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:y({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var r0={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=Gs(),g=Pt(u);g.payload=s,l!=null&&(g.callback=l),s=on(n,g,u),s!==null&&(Ns(s,n,u),Rn(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=Gs(),g=Pt(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=on(n,g,u),s!==null&&(Ns(s,n,u),Rn(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Gs(),u=Pt(l);u.tag=2,s!=null&&(u.callback=s),s=on(n,u,l),s!==null&&(Ns(s,n,l),Rn(s,n,l))}};function V2(n,s,l,u,g,x,O){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,x,O):s.prototype&&s.prototype.isPureReactComponent?!Da(l,u)||!Da(g,x):!0}function F2(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&r0.enqueueReplaceState(s,s.state,null)}function Zc(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=y({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function B2(n){Fc(n)}function q2(n){console.error(n)}function z2(n){Fc(n)}function Ld(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function P2(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function i0(n,s,l){return l=Pt(l),l.tag=3,l.payload={element:null},l.callback=function(){Ld(n,s)},l}function U2(n){return n=Pt(n),n.tag=3,n}function H2(n,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=u.value;n.payload=function(){return g(x)},n.callback=function(){P2(s,l,u)}}var O=l.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(n.callback=function(){P2(s,l,u),typeof g!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var ee=u.stack;this.componentDidCatch(u.value,{componentStack:ee!==null?ee:""})})}function o_(n,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&yo(s,l,g,!0),l=hr.current,l!==null){switch(l.tag){case 31:case 13:return Cn===null?Ud():l.alternate===null&&Rr===0&&(Rr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===ye?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),k0(n,u,g)),!1;case 22:return l.flags|=65536,u===ye?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),k0(n,u,g)),!1}throw Error(i(435,l.tag))}return k0(n,u,g),Ud(),!1}if(mn)return s=hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==Ps&&(n=Error(i(422),{cause:u}),Fl(ps(n,l)))):(u!==Ps&&(s=Error(i(423),{cause:u}),Fl(ps(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=ps(u,l),g=i0(n.stateNode,u,g),qr(n,g),Rr!==4&&(Rr=2)),!1;var x=Error(i(520),{cause:u});if(x=ps(x,l),pf===null?pf=[x]:pf.push(x),Rr!==4&&(Rr=2),s===null)return!0;u=ps(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=i0(l.stateNode,u,n),qr(l,n),!1;case 1:if(s=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xl===null||!Xl.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=U2(g),H2(g,n,l,u),qr(l,g),!1}l=l.return}while(l!==null);return!1}var s0=Error(i(461)),Zr=!1;function Li(n,s,l,u){s.child=n===null?rn(s,null,l,u):Jn(s,n.child,l,u)}function G2(n,s,l,u,g){l=l.render;var x=s.ref;if("ref"in u){var O={};for(var ee in u)ee!=="ref"&&(O[ee]=u[ee])}else O=u;return xo(s),u=Kh(n,s,l,O,x,g),ee=Qh(),n!==null&&!Zr?(Jh(n,s,g),rl(n,s,g)):(mn&&ee&&Yh(s),s.flags|=1,Li(n,s,u,g),s.child)}function W2(n,s,l,u,g){if(n===null){var x=l.type;return typeof x=="function"&&!Lu(x)&&x.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=x,Y2(n,s,x,u,g)):(n=Rl(l.type,null,u,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(x=n.child,!d0(n,g)){var O=x.memoizedProps;if(l=l.compare,l=l!==null?l:Da,l(O,u)&&n.ref===s.ref)return rl(n,s,g)}return s.flags|=1,n=ds(x,u),n.ref=s.ref,n.return=s,s.child=n}function Y2(n,s,l,u,g){if(n!==null){var x=n.memoizedProps;if(Da(x,u)&&n.ref===s.ref)if(Zr=!1,s.pendingProps=u=x,d0(n,g))(n.flags&131072)!==0&&(Zr=!0);else return s.lanes=n.lanes,rl(n,s,g)}return a0(n,s,l,u,g)}function X2(n,s,l,u){var g=u.children,x=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,n!==null){for(u=s.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~x}else u=0,s.child=null;return Z2(n,s,x,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&re(s,x!==null?x.cachePool:null),x!==null?ur(s,x):On(),Or(s);else return u=s.lanes=536870912,Z2(n,s,x!==null?x.baseLanes|l:l,l,u)}else x!==null?(re(s,x.cachePool),ur(s,x),jr(),s.memoizedState=null):(n!==null&&re(s,null),On(),jr());return Li(n,s,g,l),s.child}function of(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Z2(n,s,l,u,g){var x=te();return x=x===null?null:{parent:Cr._currentValue,pool:x},s.memoizedState={baseLanes:l,cachePool:x},n!==null&&re(s,null),On(),Or(s),n!==null&&yo(n,s,u,!0),s.childLanes=g,null}function Od(n,s){return s=Dd({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function $2(n,s,l){return Jn(s,n.child,null,l),n=Od(s,s.pendingProps),n.flags|=2,Bn(s),s.memoizedState=null,n}function l_(n,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(mn){if(u.mode==="hidden")return n=Od(s,u),s.lanes=536870912,of(null,n);if(In(s),(n=Qn)?(n=l5(n,vr),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:mo!==null?{id:vs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},l=Ou(n),l.return=s,s.child=l,si=s,Qn=null)):n=null,n===null)throw go(s);return s.lanes=536870912,null}return Od(s,u)}var x=n.memoizedState;if(x!==null){var O=x.dehydrated;if(In(s),g)if(s.flags&256)s.flags&=-257,s=$2(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Zr||yo(n,s,l,!1),g=(l&n.childLanes)!==0,Zr||g){if(u=er,u!==null&&(O=Gt(u,l),O!==0&&O!==x.retryLane))throw x.retryLane=O,Fa(n,O),Ns(u,n,O),s0;Ud(),s=$2(n,s,l)}else n=x.treeContext,Qn=pa(O.nextSibling),si=s,mn=!0,ki=null,vr=!1,n!==null&&_d(s,n),s=Od(s,u),s.flags|=4096;return s}return n=ds(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function jd(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function a0(n,s,l,u,g){return xo(s),l=Kh(n,s,l,u,void 0,g),u=Qh(),n!==null&&!Zr?(Jh(n,s,g),rl(n,s,g)):(mn&&u&&Yh(s),s.flags|=1,Li(n,s,l,g),s.child)}function K2(n,s,l,u,g,x){return xo(s),s.updateQueue=null,l=qa(s,u,l,g),zu(n),u=Qh(),n!==null&&!Zr?(Jh(n,s,x),rl(n,s,x)):(mn&&u&&Yh(s),s.flags|=1,Li(n,s,l,x),s.child)}function Q2(n,s,l,u,g){if(xo(s),s.stateNode===null){var x=ii,O=l.contextType;typeof O=="object"&&O!==null&&(x=oi(O)),x=new l(u,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=r0,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=u,x.state=s.memoizedState,x.refs={},ct(s),O=l.contextType,x.context=typeof O=="object"&&O!==null?oi(O):ii,x.state=s.memoizedState,O=l.getDerivedStateFromProps,typeof O=="function"&&(n0(s,l,O,u),x.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(O=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),O!==x.state&&r0.enqueueReplaceState(x,x.state,null),Mr(s,u,x,g),Wn(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){x=s.stateNode;var ee=s.memoizedProps,me=Zc(l,ee);x.props=me;var Le=x.context,qe=l.contextType;O=ii,typeof qe=="object"&&qe!==null&&(O=oi(qe));var Xe=l.getDerivedStateFromProps;qe=typeof Xe=="function"||typeof x.getSnapshotBeforeUpdate=="function",ee=s.pendingProps!==ee,qe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(ee||Le!==O)&&F2(s,x,u,O),mt=!1;var je=s.memoizedState;x.state=je,Mr(s,u,x,g),Wn(),Le=s.memoizedState,ee||je!==Le||mt?(typeof Xe=="function"&&(n0(s,l,Xe,u),Le=s.memoizedState),(me=mt||V2(s,l,me,u,je,Le,O))?(qe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Le),x.props=u,x.state=Le,x.context=O,u=me):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{x=s.stateNode,cr(n,s),O=s.memoizedProps,qe=Zc(l,O),x.props=qe,Xe=s.pendingProps,je=x.context,Le=l.contextType,me=ii,typeof Le=="object"&&Le!==null&&(me=oi(Le)),ee=l.getDerivedStateFromProps,(Le=typeof ee=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==Xe||je!==me)&&F2(s,x,u,me),mt=!1,je=s.memoizedState,x.state=je,Mr(s,u,x,g),Wn();var Ve=s.memoizedState;O!==Xe||je!==Ve||mt||n!==null&&n.dependencies!==null&&Vu(n.dependencies)?(typeof ee=="function"&&(n0(s,l,ee,u),Ve=s.memoizedState),(qe=mt||V2(s,l,qe,u,je,Ve,me)||n!==null&&n.dependencies!==null&&Vu(n.dependencies))?(Le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Ve,me),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Ve,me)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===n.memoizedProps&&je===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===n.memoizedProps&&je===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Ve),x.props=u,x.state=Ve,x.context=me,u=qe):(typeof x.componentDidUpdate!="function"||O===n.memoizedProps&&je===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===n.memoizedProps&&je===n.memoizedState||(s.flags|=1024),u=!1)}return x=u,jd(n,s),u=(s.flags&128)!==0,x||u?(x=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,n!==null&&u?(s.child=Jn(s,n.child,null,g),s.child=Jn(s,null,l,g)):Li(n,s,l,g),s.memoizedState=x.state,n=s.child):n=rl(n,s,g),n}function J2(n,s,l,u){return Qo(),s.flags|=256,Li(n,s,l,u),s.child}var o0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function l0(n){return{baseLanes:n,cachePool:oe()}}function c0(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Hs),n}function ev(n,s,l){var u=s.pendingProps,g=!1,x=(s.flags&128)!==0,O;if((O=x)||(O=n!==null&&n.memoizedState===null?!1:(Sn.current&2)!==0),O&&(g=!0,s.flags&=-129),O=(s.flags&32)!==0,s.flags&=-33,n===null){if(mn){if(g?Tr(s):jr(),(n=Qn)?(n=l5(n,vr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:mo!==null?{id:vs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},l=Ou(n),l.return=s,s.child=l,si=s,Qn=null)):n=null,n===null)throw go(s);return G0(n)?s.lanes=32:s.lanes=536870912,null}var ee=u.children;return u=u.fallback,g?(jr(),g=s.mode,ee=Dd({mode:"hidden",children:ee},g),u=po(u,g,l,null),ee.return=s,u.return=s,ee.sibling=u,s.child=ee,u=s.child,u.memoizedState=l0(l),u.childLanes=c0(n,O,l),s.memoizedState=o0,of(null,u)):(Tr(s),u0(s,ee))}var me=n.memoizedState;if(me!==null&&(ee=me.dehydrated,ee!==null)){if(x)s.flags&256?(Tr(s),s.flags&=-257,s=h0(n,s,l)):s.memoizedState!==null?(jr(),s.child=n.child,s.flags|=128,s=null):(jr(),ee=u.fallback,g=s.mode,u=Dd({mode:"visible",children:u.children},g),ee=po(ee,g,l,null),ee.flags|=2,u.return=s,ee.return=s,u.sibling=ee,s.child=u,Jn(s,n.child,null,l),u=s.child,u.memoizedState=l0(l),u.childLanes=c0(n,O,l),s.memoizedState=o0,s=of(null,u));else if(Tr(s),G0(ee)){if(O=ee.nextSibling&&ee.nextSibling.dataset,O)var Le=O.dgst;O=Le,u=Error(i(419)),u.stack="",u.digest=O,Fl({value:u,source:null,stack:null}),s=h0(n,s,l)}else if(Zr||yo(n,s,l,!1),O=(l&n.childLanes)!==0,Zr||O){if(O=er,O!==null&&(u=Gt(O,l),u!==0&&u!==me.retryLane))throw me.retryLane=u,Fa(n,u),Ns(O,n,u),s0;H0(ee)||Ud(),s=h0(n,s,l)}else H0(ee)?(s.flags|=192,s.child=n.child,s=null):(n=me.treeContext,Qn=pa(ee.nextSibling),si=s,mn=!0,ki=null,vr=!1,n!==null&&_d(s,n),s=u0(s,u.children),s.flags|=4096);return s}return g?(jr(),ee=u.fallback,g=s.mode,me=n.child,Le=me.sibling,u=ds(me,{mode:"hidden",children:u.children}),u.subtreeFlags=me.subtreeFlags&65011712,Le!==null?ee=ds(Le,ee):(ee=po(ee,g,l,null),ee.flags|=2),ee.return=s,u.return=s,u.sibling=ee,s.child=u,of(null,u),u=s.child,ee=n.child.memoizedState,ee===null?ee=l0(l):(g=ee.cachePool,g!==null?(me=Cr._currentValue,g=g.parent!==me?{parent:me,pool:me}:g):g=oe(),ee={baseLanes:ee.baseLanes|l,cachePool:g}),u.memoizedState=ee,u.childLanes=c0(n,O,l),s.memoizedState=o0,of(n.child,u)):(Tr(s),l=n.child,n=l.sibling,l=ds(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(O=s.deletions,O===null?(s.deletions=[n],s.flags|=16):O.push(n)),s.child=l,s.memoizedState=null,l)}function u0(n,s){return s=Dd({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Dd(n,s){return n=gi(22,n,null,s),n.lanes=0,n}function h0(n,s,l){return Jn(s,n.child,null,l),n=u0(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function tv(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Bl(n.return,s,l)}function f0(n,s,l,u,g,x){var O=n.memoizedState;O===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:x}:(O.isBackwards=s,O.rendering=null,O.renderingStartTime=0,O.last=u,O.tail=l,O.tailMode=g,O.treeForkCount=x)}function nv(n,s,l){var u=s.pendingProps,g=u.revealOrder,x=u.tail;u=u.children;var O=Sn.current,ee=(O&2)!==0;if(ee?(O=O&1|2,s.flags|=128):O&=1,z(Sn,O),Li(n,s,u,l),u=mn?Hc:0,!ee&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tv(n,l,s);else if(n.tag===19)tv(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&bi(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),f0(s,!1,g,l,x,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&bi(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}f0(s,!0,l,null,x,u);break;case"together":f0(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function rl(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Yl|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(yo(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=ds(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=ds(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function d0(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Vu(n)))}function c_(n,s,l){switch(s.tag){case 3:pe(s,s.stateNode.containerInfo),bo(s,Cr,n.memoizedState.cache),Qo();break;case 27:case 5:Ae(s);break;case 4:pe(s,s.stateNode.containerInfo);break;case 10:bo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,In(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Tr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?ev(n,s,l):(Tr(s),n=rl(n,s,l),n!==null?n.sibling:null);Tr(s);break;case 19:var g=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(yo(n,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return nv(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),z(Sn,Sn.current),u)break;return null;case 22:return s.lanes=0,X2(n,s,l,s.pendingProps);case 24:bo(s,Cr,n.memoizedState.cache)}return rl(n,s,l)}function rv(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)Zr=!0;else{if(!d0(n,l)&&(s.flags&128)===0)return Zr=!1,c_(n,s,l);Zr=(n.flags&131072)!==0}else Zr=!1,mn&&(s.flags&1048576)!==0&&wd(s,Hc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Ee(s.elementType),s.type=n,typeof n=="function")Lu(n)?(u=Zc(n,u),s.tag=1,s=Q2(null,s,n,u,l)):(s.tag=0,s=a0(null,s,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===q){s.tag=11,s=G2(null,s,n,u,l);break e}else if(g===F){s.tag=14,s=W2(null,s,n,u,l);break e}}throw s=$(n)||n,Error(i(306,s,""))}}return s;case 0:return a0(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=Zc(u,s.pendingProps),Q2(n,s,u,g,l);case 3:e:{if(pe(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var x=s.memoizedState;g=x.element,cr(n,s),Mr(s,u,null,l);var O=s.memoizedState;if(u=O.cache,bo(s,Cr,u),u!==x.cache&&Jo(s,[Cr],l,!0),Wn(),u=O.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:O.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=J2(n,s,u,l);break e}else if(u!==g){g=ps(Error(i(424)),s),Fl(g),s=J2(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Qn=pa(n.firstChild),si=s,mn=!0,ki=null,vr=!0,l=rn(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Qo(),u===g){s=rl(n,s,l);break e}Li(n,s,u,l)}s=s.child}return s;case 26:return jd(n,s),n===null?(l=p5(s.type,null,s.pendingProps,null))?s.memoizedState=l:mn||(l=s.type,n=s.pendingProps,u=$d(se.current).createElement(l),u[Xt]=s,u[ln]=n,Oi(u,l,n),or(u),s.stateNode=u):s.memoizedState=p5(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ae(s),n===null&&mn&&(u=s.stateNode=h5(s.type,s.pendingProps,se.current),si=s,vr=!0,g=Qn,Ql(s.type)?(W0=g,Qn=pa(u.firstChild)):Qn=g),Li(n,s,s.pendingProps.children,l),jd(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&mn&&((g=u=Qn)&&(u=B_(u,s.type,s.pendingProps,vr),u!==null?(s.stateNode=u,si=s,Qn=pa(u.firstChild),vr=!1,g=!0):g=!1),g||go(s)),Ae(s),g=s.type,x=s.pendingProps,O=n!==null?n.memoizedProps:null,u=x.children,z0(g,x)?u=null:O!==null&&z0(g,O)&&(s.flags|=32),s.memoizedState!==null&&(g=Kh(n,s,Xp,null,null,l),_f._currentValue=g),jd(n,s),Li(n,s,u,l),s.child;case 6:return n===null&&mn&&((n=l=Qn)&&(l=q_(l,s.pendingProps,vr),l!==null?(s.stateNode=l,si=s,Qn=null,n=!0):n=!1),n||go(s)),null;case 13:return ev(n,s,l);case 4:return pe(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Jn(s,null,u,l):Li(n,s,u,l),s.child;case 11:return G2(n,s,s.type,s.pendingProps,l);case 7:return Li(n,s,s.pendingProps,l),s.child;case 8:return Li(n,s,s.pendingProps.children,l),s.child;case 12:return Li(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,bo(s,s.type,u.value),Li(n,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,xo(s),g=oi(g),u=u(g),s.flags|=1,Li(n,s,u,l),s.child;case 14:return W2(n,s,s.type,s.pendingProps,l);case 15:return Y2(n,s,s.type,s.pendingProps,l);case 19:return nv(n,s,l);case 31:return l_(n,s,l);case 22:return X2(n,s,l,s.pendingProps);case 24:return xo(s),u=oi(Cr),n===null?(g=te(),g===null&&(g=er,x=ql(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),s.memoizedState={parent:u,cache:g},ct(s),bo(s,Cr,g)):((n.lanes&l)!==0&&(cr(n,s),Mr(s,null,null,l),Wn()),g=n.memoizedState,x=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),bo(s,Cr,u)):(u=x.cache,bo(s,Cr,u),u!==g.cache&&Jo(s,[Cr],l,!0))),Li(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function il(n){n.flags|=4}function p0(n,s,l,u,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(Mv())n.flags|=8192;else throw Fe=ye,ke}else n.flags&=-16777217}function iv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!y5(s))if(Mv())n.flags|=8192;else throw Fe=ye,ke}function Rd(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ie():536870912,n.lanes|=s,Qu|=s)}function lf(n,s){if(!mn)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function fr(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function u_(n,s,l){var u=s.pendingProps;switch(Ru(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(s),null;case 1:return fr(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ys(Cr),we(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(ai(s)?il(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Zh())),fr(s),null;case 26:var g=s.type,x=s.memoizedState;return n===null?(il(s),x!==null?(fr(s),iv(s,x)):(fr(s),p0(s,g,null,u,l))):x?x!==n.memoizedState?(il(s),fr(s),iv(s,x)):(fr(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&il(s),fr(s),p0(s,g,n,u,l)),null;case 27:if(Ge(s),l=se.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&il(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return fr(s),null}n=J.current,ai(s)?Xh(s):(n=h5(g,u,l),s.stateNode=n,il(s))}return fr(s),null;case 5:if(Ge(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&il(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return fr(s),null}if(x=J.current,ai(s))Xh(s);else{var O=$d(se.current);switch(x){case 1:x=O.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:x=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":x=O.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":x=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":x=O.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?O.createElement("select",{is:u.is}):O.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?O.createElement(g,{is:u.is}):O.createElement(g)}}x[Xt]=s,x[ln]=u;e:for(O=s.child;O!==null;){if(O.tag===5||O.tag===6)x.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===s)break e;for(;O.sibling===null;){if(O.return===null||O.return===s)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}s.stateNode=x;e:switch(Oi(x,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&il(s)}}return fr(s),p0(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&il(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=se.current,ai(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,g=si,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[Xt]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||e5(n.nodeValue,l)),n||go(s,!0)}else n=$d(n).createTextNode(u),n[Xt]=s,s.stateNode=n}return fr(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(u=ai(s),l!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Xt]=s}else Qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;fr(s),n=!1}else l=Zh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(Bn(s),s):(Bn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return fr(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=ai(s),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Xt]=s}else Qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;fr(s),g=!1}else g=Zh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Bn(s),s):(Bn(s),null)}return Bn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==g&&(u.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),Rd(s,s.updateQueue),fr(s),null);case 4:return we(),n===null&&I0(s.stateNode.containerInfo),fr(s),null;case 10:return ys(s.type),fr(s),null;case 19:if(L(Sn),u=s.memoizedState,u===null)return fr(s),null;if(g=(s.flags&128)!==0,x=u.rendering,x===null)if(g)lf(u,!1);else{if(Rr!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=bi(n),x!==null){for(s.flags|=128,lf(u,!1),n=x.updateQueue,s.updateQueue=n,Rd(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)Pc(l,n),l=l.sibling;return z(Sn,Sn.current&1|2),mn&&ns(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&At()>qd&&(s.flags|=128,g=!0,lf(u,!1),s.lanes=4194304)}else{if(!g)if(n=bi(x),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,Rd(s,n),lf(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!mn)return fr(s),null}else 2*At()-u.renderingStartTime>qd&&l!==536870912&&(s.flags|=128,g=!0,lf(u,!1),s.lanes=4194304);u.isBackwards?(x.sibling=s.child,s.child=x):(n=u.last,n!==null?n.sibling=x:s.child=x,u.last=x)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=At(),n.sibling=null,l=Sn.current,z(Sn,g?l&1|2:l&1),mn&&ns(s,u.treeForkCount),n):(fr(s),null);case 22:case 23:return Bn(s),zr(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(fr(s),s.subtreeFlags&6&&(s.flags|=8192)):fr(s),l=s.updateQueue,l!==null&&Rd(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&L(X),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ys(Cr),fr(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function h_(n,s){switch(Ru(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ys(Cr),we(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ge(s),null;case 31:if(s.memoizedState!==null){if(Bn(s),s.alternate===null)throw Error(i(340));Qo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Bn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Qo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return L(Sn),null;case 4:return we(),null;case 10:return ys(s.type),null;case 22:case 23:return Bn(s),zr(),n!==null&&L(X),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ys(Cr),null;case 25:return null;default:return null}}function sv(n,s){switch(Ru(s),s.tag){case 3:ys(Cr),we();break;case 26:case 27:case 5:Ge(s);break;case 4:we();break;case 31:s.memoizedState!==null&&Bn(s);break;case 13:Bn(s);break;case 19:L(Sn);break;case 10:ys(s.type);break;case 22:case 23:Bn(s),zr(),n!==null&&L(X);break;case 24:ys(Cr)}}function cf(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var x=l.create,O=l.inst;u=x(),O.destroy=u}l=l.next}while(l!==g)}}catch(ee){zn(s,s.return,ee)}}function Gl(n,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var x=g.next;u=x;do{if((u.tag&n)===n){var O=u.inst,ee=O.destroy;if(ee!==void 0){O.destroy=void 0,g=s;var me=l,Le=ee;try{Le()}catch(qe){zn(g,me,qe)}}}u=u.next}while(u!==x)}}catch(qe){zn(s,s.return,qe)}}function av(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Lr(s,l)}catch(u){zn(n,n.return,u)}}}function ov(n,s,l){l.props=Zc(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){zn(n,s,u)}}function uf(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){zn(n,s,g)}}function No(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){zn(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){zn(n,s,g)}else l.current=null}function lv(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){zn(n,n.return,g)}}function m0(n,s,l){try{var u=n.stateNode;j_(u,n.type,l,s),u[ln]=s}catch(g){zn(n,n.return,g)}}function cv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ql(n.type)||n.tag===4}function g0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ql(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function v0(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Is));else if(u!==4&&(u===27&&Ql(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(v0(n,s,l),n=n.sibling;n!==null;)v0(n,s,l),n=n.sibling}function Id(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&Ql(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Id(n,s,l),n=n.sibling;n!==null;)Id(n,s,l),n=n.sibling}function uv(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Oi(s,u,l),s[Xt]=n,s[ln]=l}catch(x){zn(n,n.return,x)}}var sl=!1,$r=!1,b0=!1,hv=typeof WeakSet=="function"?WeakSet:Set,yi=null;function f_(n,s){if(n=n.containerInfo,B0=r1,n=Ia(n),ca(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var O=0,ee=-1,me=-1,Le=0,qe=0,Xe=n,je=null;t:for(;;){for(var Ve;Xe!==l||g!==0&&Xe.nodeType!==3||(ee=O+g),Xe!==x||u!==0&&Xe.nodeType!==3||(me=O+u),Xe.nodeType===3&&(O+=Xe.nodeValue.length),(Ve=Xe.firstChild)!==null;)je=Xe,Xe=Ve;for(;;){if(Xe===n)break t;if(je===l&&++Le===g&&(ee=O),je===x&&++qe===u&&(me=O),(Ve=Xe.nextSibling)!==null)break;Xe=je,je=Xe.parentNode}Xe=Ve}l=ee===-1||me===-1?null:{start:ee,end:me}}else l=null}l=l||{start:0,end:0}}else l=null;for(q0={focusedElem:n,selectionRange:l},r1=!1,yi=s;yi!==null;)if(s=yi,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,yi=n;else for(;yi!==null;){switch(s=yi,x=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,l=s,g=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var xt=Zc(l.type,g);n=u.getSnapshotBeforeUpdate(xt,x),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ut){zn(l,l.return,Ut)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)U0(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":U0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,yi=n;break}yi=s.return}}function fv(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ol(n,l),u&4&&cf(5,l);break;case 1:if(ol(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(O){zn(l,l.return,O)}else{var g=Zc(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(O){zn(l,l.return,O)}}u&64&&av(l),u&512&&uf(l,l.return);break;case 3:if(ol(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Lr(n,s)}catch(O){zn(l,l.return,O)}}break;case 27:s===null&&u&4&&uv(l);case 26:case 5:ol(n,l),s===null&&u&4&&lv(l),u&512&&uf(l,l.return);break;case 12:ol(n,l);break;case 31:ol(n,l),u&4&&mv(n,l);break;case 13:ol(n,l),u&4&&gv(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=w_.bind(null,l),z_(n,l))));break;case 22:if(u=l.memoizedState!==null||sl,!u){s=s!==null&&s.memoizedState!==null||$r,g=sl;var x=$r;sl=u,($r=s)&&!x?ll(n,l,(l.subtreeFlags&8772)!==0):ol(n,l),sl=g,$r=x}break;case 30:break;default:ol(n,l)}}function dv(n){var s=n.alternate;s!==null&&(n.alternate=null,dv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Os(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xr=null,ws=!1;function al(n,s,l){for(l=l.child;l!==null;)pv(n,s,l),l=l.sibling}function pv(n,s,l){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Nt,l)}catch{}switch(l.tag){case 26:$r||No(l,s),al(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$r||No(l,s);var u=xr,g=ws;Ql(l.type)&&(xr=l.stateNode,ws=!1),al(n,s,l),yf(l.stateNode),xr=u,ws=g;break;case 5:$r||No(l,s);case 6:if(u=xr,g=ws,xr=null,al(n,s,l),xr=u,ws=g,xr!==null)if(ws)try{(xr.nodeType===9?xr.body:xr.nodeName==="HTML"?xr.ownerDocument.body:xr).removeChild(l.stateNode)}catch(x){zn(l,s,x)}else try{xr.removeChild(l.stateNode)}catch(x){zn(l,s,x)}break;case 18:xr!==null&&(ws?(n=xr,a5(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),ah(n)):a5(xr,l.stateNode));break;case 4:u=xr,g=ws,xr=l.stateNode.containerInfo,ws=!0,al(n,s,l),xr=u,ws=g;break;case 0:case 11:case 14:case 15:Gl(2,l,s),$r||Gl(4,l,s),al(n,s,l);break;case 1:$r||(No(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&ov(l,s,u)),al(n,s,l);break;case 21:al(n,s,l);break;case 22:$r=(u=$r)||l.memoizedState!==null,al(n,s,l),$r=u;break;default:al(n,s,l)}}function mv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ah(n)}catch(l){zn(s,s.return,l)}}}function gv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ah(n)}catch(l){zn(s,s.return,l)}}function d_(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new hv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new hv),s;default:throw Error(i(435,n.tag))}}function Vd(n,s){var l=d_(n);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=__.bind(null,n,u);u.then(g,g)}})}function _s(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],x=n,O=s,ee=O;e:for(;ee!==null;){switch(ee.tag){case 27:if(Ql(ee.type)){xr=ee.stateNode,ws=!1;break e}break;case 5:xr=ee.stateNode,ws=!1;break e;case 3:case 4:xr=ee.stateNode.containerInfo,ws=!0;break e}ee=ee.return}if(xr===null)throw Error(i(160));pv(x,O,g),xr=null,ws=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)vv(s,n),s=s.sibling}var Ha=null;function vv(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_s(s,n),Ss(n),u&4&&(Gl(3,n,n.return),cf(3,n),Gl(5,n,n.return));break;case 1:_s(s,n),Ss(n),u&512&&($r||l===null||No(l,l.return)),u&64&&sl&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Ha;if(_s(s,n),Ss(n),u&512&&($r||l===null||No(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Ri]||x[Xt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(u),g.head.insertBefore(x,g.querySelector("head > title"))),Oi(x,u,l),x[Xt]=n,or(x),u=x;break e;case"link":var O=v5("link","href",g).get(u+(l.href||""));if(O){for(var ee=0;ee<O.length;ee++)if(x=O[ee],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){O.splice(ee,1);break t}}x=g.createElement(u),Oi(x,u,l),g.head.appendChild(x);break;case"meta":if(O=v5("meta","content",g).get(u+(l.content||""))){for(ee=0;ee<O.length;ee++)if(x=O[ee],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){O.splice(ee,1);break t}}x=g.createElement(u),Oi(x,u,l),g.head.appendChild(x);break;default:throw Error(i(468,u))}x[Xt]=n,or(x),u=x}n.stateNode=u}else b5(g,n.type,n.stateNode);else n.stateNode=g5(g,u,n.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?b5(g,n.type,n.stateNode):g5(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&m0(n,n.memoizedProps,l.memoizedProps)}break;case 27:_s(s,n),Ss(n),u&512&&($r||l===null||No(l,l.return)),l!==null&&u&4&&m0(n,n.memoizedProps,l.memoizedProps);break;case 5:if(_s(s,n),Ss(n),u&512&&($r||l===null||No(l,l.return)),n.flags&32){g=n.stateNode;try{Rs(g,"")}catch(xt){zn(n,n.return,xt)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,m0(n,g,l!==null?l.memoizedProps:g)),u&1024&&(b0=!0);break;case 6:if(_s(s,n),Ss(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(xt){zn(n,n.return,xt)}}break;case 3:if(Jd=null,g=Ha,Ha=Kd(s.containerInfo),_s(s,n),Ha=g,Ss(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ah(s.containerInfo)}catch(xt){zn(n,n.return,xt)}b0&&(b0=!1,bv(n));break;case 4:u=Ha,Ha=Kd(n.stateNode.containerInfo),_s(s,n),Ss(n),Ha=u;break;case 12:_s(s,n),Ss(n);break;case 31:_s(s,n),Ss(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Vd(n,u)));break;case 13:_s(s,n),Ss(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Bd=At()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Vd(n,u)));break;case 22:g=n.memoizedState!==null;var me=l!==null&&l.memoizedState!==null,Le=sl,qe=$r;if(sl=Le||g,$r=qe||me,_s(s,n),$r=qe,sl=Le,Ss(n),u&8192)e:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||me||sl||$r||$c(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){me=l=s;try{if(x=me.stateNode,g)O=x.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{ee=me.stateNode;var Xe=me.memoizedProps.style,je=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null;ee.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(xt){zn(me,me.return,xt)}}}else if(s.tag===6){if(l===null){me=s;try{me.stateNode.nodeValue=g?"":me.memoizedProps}catch(xt){zn(me,me.return,xt)}}}else if(s.tag===18){if(l===null){me=s;try{var Ve=me.stateNode;g?o5(Ve,!0):o5(me.stateNode,!1)}catch(xt){zn(me,me.return,xt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Vd(n,l))));break;case 19:_s(s,n),Ss(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Vd(n,u)));break;case 30:break;case 21:break;default:_s(s,n),Ss(n)}}function Ss(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(cv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,x=g0(n);Id(n,x,g);break;case 5:var O=l.stateNode;l.flags&32&&(Rs(O,""),l.flags&=-33);var ee=g0(n);Id(n,ee,O);break;case 3:case 4:var me=l.stateNode.containerInfo,Le=g0(n);v0(n,Le,me);break;default:throw Error(i(161))}}catch(qe){zn(n,n.return,qe)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function bv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;bv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ol(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)fv(n,s.alternate,s),s=s.sibling}function $c(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Gl(4,s,s.return),$c(s);break;case 1:No(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&ov(s,s.return,l),$c(s);break;case 27:yf(s.stateNode);case 26:case 5:No(s,s.return),$c(s);break;case 22:s.memoizedState===null&&$c(s);break;case 30:$c(s);break;default:$c(s)}n=n.sibling}}function ll(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=n,x=s,O=x.flags;switch(x.tag){case 0:case 11:case 15:ll(g,x,l),cf(4,x);break;case 1:if(ll(g,x,l),u=x,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Le){zn(u,u.return,Le)}if(u=x,g=u.updateQueue,g!==null){var ee=u.stateNode;try{var me=g.shared.hiddenCallbacks;if(me!==null)for(g.shared.hiddenCallbacks=null,g=0;g<me.length;g++)vi(me[g],ee)}catch(Le){zn(u,u.return,Le)}}l&&O&64&&av(x),uf(x,x.return);break;case 27:uv(x);case 26:case 5:ll(g,x,l),l&&u===null&&O&4&&lv(x),uf(x,x.return);break;case 12:ll(g,x,l);break;case 31:ll(g,x,l),l&&O&4&&mv(g,x);break;case 13:ll(g,x,l),l&&O&4&&gv(g,x);break;case 22:x.memoizedState===null&&ll(g,x,l),uf(x,x.return);break;case 30:break;default:ll(g,x,l)}s=s.sibling}}function y0(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Gc(l))}function x0(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Gc(n))}function Ga(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yv(n,s,l,u),s=s.sibling}function yv(n,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Ga(n,s,l,u),g&2048&&cf(9,s);break;case 1:Ga(n,s,l,u);break;case 3:Ga(n,s,l,u),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Gc(n)));break;case 12:if(g&2048){Ga(n,s,l,u),n=s.stateNode;try{var x=s.memoizedProps,O=x.id,ee=x.onPostCommit;typeof ee=="function"&&ee(O,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(me){zn(s,s.return,me)}}else Ga(n,s,l,u);break;case 31:Ga(n,s,l,u);break;case 13:Ga(n,s,l,u);break;case 23:break;case 22:x=s.stateNode,O=s.alternate,s.memoizedState!==null?x._visibility&2?Ga(n,s,l,u):hf(n,s):x._visibility&2?Ga(n,s,l,u):(x._visibility|=2,Zu(n,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&y0(O,s);break;case 24:Ga(n,s,l,u),g&2048&&x0(s.alternate,s);break;default:Ga(n,s,l,u)}}function Zu(n,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=n,O=s,ee=l,me=u,Le=O.flags;switch(O.tag){case 0:case 11:case 15:Zu(x,O,ee,me,g),cf(8,O);break;case 23:break;case 22:var qe=O.stateNode;O.memoizedState!==null?qe._visibility&2?Zu(x,O,ee,me,g):hf(x,O):(qe._visibility|=2,Zu(x,O,ee,me,g)),g&&Le&2048&&y0(O.alternate,O);break;case 24:Zu(x,O,ee,me,g),g&&Le&2048&&x0(O.alternate,O);break;default:Zu(x,O,ee,me,g)}s=s.sibling}}function hf(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,g=u.flags;switch(u.tag){case 22:hf(l,u),g&2048&&y0(u.alternate,u);break;case 24:hf(l,u),g&2048&&x0(u.alternate,u);break;default:hf(l,u)}s=s.sibling}}var ff=8192;function $u(n,s,l){if(n.subtreeFlags&ff)for(n=n.child;n!==null;)xv(n,s,l),n=n.sibling}function xv(n,s,l){switch(n.tag){case 26:$u(n,s,l),n.flags&ff&&n.memoizedState!==null&&J_(l,Ha,n.memoizedState,n.memoizedProps);break;case 5:$u(n,s,l);break;case 3:case 4:var u=Ha;Ha=Kd(n.stateNode.containerInfo),$u(n,s,l),Ha=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=ff,ff=16777216,$u(n,s,l),ff=u):$u(n,s,l));break;default:$u(n,s,l)}}function wv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function df(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];yi=u,Sv(u,n)}wv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_v(n),n=n.sibling}function _v(n){switch(n.tag){case 0:case 11:case 15:df(n),n.flags&2048&&Gl(9,n,n.return);break;case 3:df(n);break;case 12:df(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Fd(n)):df(n);break;default:df(n)}}function Fd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];yi=u,Sv(u,n)}wv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Gl(8,s,s.return),Fd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Fd(s));break;default:Fd(s)}n=n.sibling}}function Sv(n,s){for(;yi!==null;){var l=yi;switch(l.tag){case 0:case 11:case 15:Gl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Gc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,yi=u;else e:for(l=n;yi!==null;){u=yi;var g=u.sibling,x=u.return;if(dv(u),u===l){yi=null;break e}if(g!==null){g.return=x,yi=g;break e}yi=x}}}var p_={getCacheForType:function(n){var s=oi(Cr),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return oi(Cr).controller.signal}},m_=typeof WeakMap=="function"?WeakMap:Map,Vn=0,er=null,gn=null,bn=0,qn=0,Us=null,Wl=!1,Ku=!1,w0=!1,cl=0,Rr=0,Yl=0,Kc=0,_0=0,Hs=0,Qu=0,pf=null,As=null,S0=!1,Bd=0,Av=0,qd=1/0,zd=null,Xl=null,ci=0,Zl=null,Ju=null,ul=0,A0=0,N0=null,Nv=null,mf=0,C0=null;function Gs(){return(Vn&2)!==0&&bn!==0?bn&-bn:Q.T!==null?O0():Kt()}function Cv(){if(Hs===0)if((bn&536870912)===0||mn){var n=ot;ot<<=1,(ot&3932160)===0&&(ot=262144),Hs=n}else Hs=536870912;return n=hr.current,n!==null&&(n.flags|=32),Hs}function Ns(n,s,l){(n===er&&(qn===2||qn===9)||n.cancelPendingCommit!==null)&&(eh(n,0),$l(n,bn,Hs,!1)),Ue(n,l),((Vn&2)===0||n!==er)&&(n===er&&((Vn&2)===0&&(Kc|=l),Rr===4&&$l(n,bn,Hs,!1)),Co(n))}function Tv(n,s,l){if((Vn&6)!==0)throw Error(i(327));var u=!l&&(s&127)===0&&(s&n.expiredLanes)===0||$t(n,s),g=u?b_(n,s):E0(n,s,!0),x=u;do{if(g===0){Ku&&!u&&$l(n,s,0,!1);break}else{if(l=n.current.alternate,x&&!g_(l)){g=E0(n,s,!1),x=!1;continue}if(g===2){if(x=s,n.errorRecoveryDisabledLanes&x)var O=0;else O=n.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){s=O;e:{var ee=n;g=pf;var me=ee.current.memoizedState.isDehydrated;if(me&&(eh(ee,O).flags|=256),O=E0(ee,O,!1),O!==2){if(w0&&!me){ee.errorRecoveryDisabledLanes|=x,Kc|=x,g=4;break e}x=As,As=g,x!==null&&(As===null?As=x:As.push.apply(As,x))}g=O}if(x=!1,g!==2)continue}}if(g===1){eh(n,0),$l(n,s,0,!0);break}e:{switch(u=n,x=g,x){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:$l(u,s,Hs,!Wl);break e;case 2:As=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=Bd+300-At(),10<g)){if($l(u,s,Hs,!Wl),dt(u,0,!0)!==0)break e;ul=s,u.timeoutHandle=i5(Ev.bind(null,u,l,As,zd,S0,s,Hs,Kc,Qu,Wl,x,"Throttled",-0,0),g);break e}Ev(u,l,As,zd,S0,s,Hs,Kc,Qu,Wl,x,null,-0,0)}}break}while(!0);Co(n)}function Ev(n,s,l,u,g,x,O,ee,me,Le,qe,Xe,je,Ve){if(n.timeoutHandle=-1,Xe=s.subtreeFlags,Xe&8192||(Xe&16785408)===16785408){Xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Is},xv(s,x,Xe);var xt=(x&62914560)===x?Bd-At():(x&4194048)===x?Av-At():0;if(xt=e4(Xe,xt),xt!==null){ul=x,n.cancelPendingCommit=xt(Iv.bind(null,n,s,x,l,u,g,O,ee,me,qe,Xe,null,je,Ve)),$l(n,x,O,!Le);return}}Iv(n,s,x,l,u,g,O,ee,me)}function g_(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],x=g.getSnapshot;g=g.value;try{if(!ri(x(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $l(n,s,l,u){s&=~_0,s&=~Kc,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var g=s;0<g;){var x=31-Bt(g),O=1<<x;u[x]=-1,g&=~O}l!==0&&gt(n,l,s)}function Pd(){return(Vn&6)===0?(gf(0),!1):!0}function T0(){if(gn!==null){if(qn===0)var n=gn.return;else n=gn,ha=vo=null,Pu(n),Ze=null,wt=0,n=gn;for(;n!==null;)sv(n.alternate,n),n=n.return;gn=null}}function eh(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,I_(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),ul=0,T0(),er=n,gn=l=ds(n.current,null),bn=s,qn=0,Us=null,Wl=!1,Ku=$t(n,s),w0=!1,Qu=Hs=_0=Kc=Yl=Rr=0,As=pf=null,S0=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var g=31-Bt(u),x=1<<g;s|=n[g],u&=~x}return cl=s,Bc(),l}function kv(n,s){Rt=null,Q.H=af,s===ve||s===ae?(s=Pe(),qn=3):s===ke?(s=Pe(),qn=4):qn=s===s0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Us=s,gn===null&&(Rr=1,Ld(n,ps(s,n.current)))}function Mv(){var n=hr.current;return n===null?!0:(bn&4194048)===bn?Cn===null:(bn&62914560)===bn||(bn&536870912)!==0?n===Cn:!1}function Lv(){var n=Q.H;return Q.H=af,n===null?af:n}function Ov(){var n=Q.A;return Q.A=p_,n}function Ud(){Rr=4,Wl||(bn&4194048)!==bn&&hr.current!==null||(Ku=!0),(Yl&134217727)===0&&(Kc&134217727)===0||er===null||$l(er,bn,Hs,!1)}function E0(n,s,l){var u=Vn;Vn|=2;var g=Lv(),x=Ov();(er!==n||bn!==s)&&(zd=null,eh(n,s)),s=!1;var O=Rr;e:do try{if(qn!==0&&gn!==null){var ee=gn,me=Us;switch(qn){case 8:T0(),O=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(s=!0);var Le=qn;if(qn=0,Us=null,th(n,ee,me,Le),l&&Ku){O=0;break e}break;default:Le=qn,qn=0,Us=null,th(n,ee,me,Le)}}v_(),O=Rr;break}catch(qe){kv(n,qe)}while(!0);return s&&n.shellSuspendCounter++,ha=vo=null,Vn=u,Q.H=g,Q.A=x,gn===null&&(er=null,bn=0,Bc()),O}function v_(){for(;gn!==null;)jv(gn)}function b_(n,s){var l=Vn;Vn|=2;var u=Lv(),g=Ov();er!==n||bn!==s?(zd=null,qd=At()+500,eh(n,s)):Ku=$t(n,s);e:do try{if(qn!==0&&gn!==null){s=gn;var x=Us;t:switch(qn){case 1:qn=0,Us=null,th(n,s,x,1);break;case 2:case 9:if(Ce(x)){qn=0,Us=null,Dv(s);break}s=function(){qn!==2&&qn!==9||er!==n||(qn=7),Co(n)},x.then(s,s);break e;case 3:qn=7;break e;case 4:qn=5;break e;case 7:Ce(x)?(qn=0,Us=null,Dv(s)):(qn=0,Us=null,th(n,s,x,7));break;case 5:var O=null;switch(gn.tag){case 26:O=gn.memoizedState;case 5:case 27:var ee=gn;if(O?y5(O):ee.stateNode.complete){qn=0,Us=null;var me=ee.sibling;if(me!==null)gn=me;else{var Le=ee.return;Le!==null?(gn=Le,Hd(Le)):gn=null}break t}}qn=0,Us=null,th(n,s,x,5);break;case 6:qn=0,Us=null,th(n,s,x,6);break;case 8:T0(),Rr=6;break e;default:throw Error(i(462))}}y_();break}catch(qe){kv(n,qe)}while(!0);return ha=vo=null,Q.H=u,Q.A=g,Vn=l,gn!==null?0:(er=null,bn=0,Bc(),Rr)}function y_(){for(;gn!==null&&!lt();)jv(gn)}function jv(n){var s=rv(n.alternate,n,cl);n.memoizedProps=n.pendingProps,s===null?Hd(n):gn=s}function Dv(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=K2(l,s,s.pendingProps,s.type,void 0,bn);break;case 11:s=K2(l,s,s.pendingProps,s.type.render,s.ref,bn);break;case 5:Pu(s);default:sv(l,s),s=gn=Pc(s,cl),s=rv(l,s,cl)}n.memoizedProps=n.pendingProps,s===null?Hd(n):gn=s}function th(n,s,l,u){ha=vo=null,Pu(s),Ze=null,wt=0;var g=s.return;try{if(o_(n,g,s,l,bn)){Rr=1,Ld(n,ps(l,n.current)),gn=null;return}}catch(x){if(g!==null)throw gn=g,x;Rr=1,Ld(n,ps(l,n.current)),gn=null;return}s.flags&32768?(mn||u===1?n=!0:Ku||(bn&536870912)!==0?n=!1:(Wl=n=!0,(u===2||u===9||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Rv(s,n)):Hd(s)}function Hd(n){var s=n;do{if((s.flags&32768)!==0){Rv(s,Wl);return}n=s.return;var l=u_(s.alternate,s,cl);if(l!==null){gn=l;return}if(s=s.sibling,s!==null){gn=s;return}gn=s=n}while(s!==null);Rr===0&&(Rr=5)}function Rv(n,s){do{var l=h_(n.alternate,n);if(l!==null){l.flags&=32767,gn=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){gn=n;return}gn=n=l}while(n!==null);Rr=6,gn=null}function Iv(n,s,l,u,g,x,O,ee,me){n.cancelPendingCommit=null;do Gd();while(ci!==0);if((Vn&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(x=s.lanes|s.childLanes,x|=Eu,ut(n,l,x,O,ee,me),n===er&&(gn=er=null,bn=0),Ju=s,Zl=n,ul=l,A0=x,N0=g,Nv=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,S_(Mt,function(){return zv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,g=K.p,K.p=2,O=Vn,Vn|=4;try{f_(n,s,l)}finally{Vn=O,K.p=g,Q.T=u}}ci=1,Vv(),Fv(),Bv()}}function Vv(){if(ci===1){ci=0;var n=Zl,s=Ju,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var u=K.p;K.p=2;var g=Vn;Vn|=4;try{vv(s,n);var x=q0,O=Ia(n.containerInfo),ee=x.focusedElem,me=x.selectionRange;if(O!==ee&&ee&&ee.ownerDocument&&Ra(ee.ownerDocument.documentElement,ee)){if(me!==null&&ca(ee)){var Le=me.start,qe=me.end;if(qe===void 0&&(qe=Le),"selectionStart"in ee)ee.selectionStart=Le,ee.selectionEnd=Math.min(qe,ee.value.length);else{var Xe=ee.ownerDocument||document,je=Xe&&Xe.defaultView||window;if(je.getSelection){var Ve=je.getSelection(),xt=ee.textContent.length,Ut=Math.min(me.start,xt),Zn=me.end===void 0?Ut:Math.min(me.end,xt);!Ve.extend&&Ut>Zn&&(O=Zn,Zn=Ut,Ut=O);var Se=Dl(ee,Ut),be=Dl(ee,Zn);if(Se&&be&&(Ve.rangeCount!==1||Ve.anchorNode!==Se.node||Ve.anchorOffset!==Se.offset||Ve.focusNode!==be.node||Ve.focusOffset!==be.offset)){var Me=Xe.createRange();Me.setStart(Se.node,Se.offset),Ve.removeAllRanges(),Ut>Zn?(Ve.addRange(Me),Ve.extend(be.node,be.offset)):(Me.setEnd(be.node,be.offset),Ve.addRange(Me))}}}}for(Xe=[],Ve=ee;Ve=Ve.parentNode;)Ve.nodeType===1&&Xe.push({element:Ve,left:Ve.scrollLeft,top:Ve.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<Xe.length;ee++){var We=Xe[ee];We.element.scrollLeft=We.left,We.element.scrollTop=We.top}}r1=!!B0,q0=B0=null}finally{Vn=g,K.p=u,Q.T=l}}n.current=s,ci=2}}function Fv(){if(ci===2){ci=0;var n=Zl,s=Ju,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var u=K.p;K.p=2;var g=Vn;Vn|=4;try{fv(n,s.alternate,s)}finally{Vn=g,K.p=u,Q.T=l}}ci=3}}function Bv(){if(ci===4||ci===3){ci=0,ft();var n=Zl,s=Ju,l=ul,u=Nv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ci=5:(ci=0,Ju=Zl=null,qv(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Xl=null),cn(l),s=s.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Nt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Q.T,g=K.p,K.p=2,Q.T=null;try{for(var x=n.onRecoverableError,O=0;O<u.length;O++){var ee=u[O];x(ee.value,{componentStack:ee.stack})}}finally{Q.T=s,K.p=g}}(ul&3)!==0&&Gd(),Co(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===C0?mf++:(mf=0,C0=n):mf=0,gf(0)}}function qv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Gc(s)))}function Gd(){return Vv(),Fv(),Bv(),zv()}function zv(){if(ci!==5)return!1;var n=Zl,s=A0;A0=0;var l=cn(ul),u=Q.T,g=K.p;try{K.p=32>l?32:l,Q.T=null,l=N0,N0=null;var x=Zl,O=ul;if(ci=0,Ju=Zl=null,ul=0,(Vn&6)!==0)throw Error(i(331));var ee=Vn;if(Vn|=4,_v(x.current),yv(x,x.current,O,l),Vn=ee,gf(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Nt,x)}catch{}return!0}finally{K.p=g,Q.T=u,qv(n,s)}}function Pv(n,s,l){s=ps(l,s),s=i0(n.stateNode,s,2),n=on(n,s,2),n!==null&&(Ue(n,2),Co(n))}function zn(n,s,l){if(n.tag===3)Pv(n,n,l);else for(;s!==null;){if(s.tag===3){Pv(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xl===null||!Xl.has(u))){n=ps(l,n),l=U2(2),u=on(s,l,2),u!==null&&(H2(l,u,s,n),Ue(u,2),Co(u));break}}s=s.return}}function k0(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new m_;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(w0=!0,g.add(l),n=x_.bind(null,n,s,l),s.then(n,n))}function x_(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,er===n&&(bn&l)===l&&(Rr===4||Rr===3&&(bn&62914560)===bn&&300>At()-Bd?(Vn&2)===0&&eh(n,0):_0|=l,Qu===bn&&(Qu=0)),Co(n)}function Uv(n,s){s===0&&(s=Ie()),n=Fa(n,s),n!==null&&(Ue(n,s),Co(n))}function w_(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Uv(n,l)}function __(n,s){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),Uv(n,l)}function S_(n,s){return nt(n,s)}var Wd=null,nh=null,M0=!1,Yd=!1,L0=!1,Kl=0;function Co(n){n!==nh&&n.next===null&&(nh===null?Wd=nh=n:nh=nh.next=n),Yd=!0,M0||(M0=!0,N_())}function gf(n,s){if(!L0&&Yd){L0=!0;do for(var l=!1,u=Wd;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var x=0;else{var O=u.suspendedLanes,ee=u.pingedLanes;x=(1<<31-Bt(42|n)+1)-1,x&=g&~(O&~ee),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,Yv(u,x))}else x=bn,x=dt(u,u===er?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||$t(u,x)||(l=!0,Yv(u,x));u=u.next}while(l);L0=!1}}function A_(){Hv()}function Hv(){Yd=M0=!1;var n=0;Kl!==0&&R_()&&(n=Kl);for(var s=At(),l=null,u=Wd;u!==null;){var g=u.next,x=Gv(u,s);x===0?(u.next=null,l===null?Wd=g:l.next=g,g===null&&(nh=l)):(l=u,(n!==0||(x&3)!==0)&&(Yd=!0)),u=g}ci!==0&&ci!==5||gf(n),Kl!==0&&(Kl=0)}function Gv(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var O=31-Bt(x),ee=1<<O,me=g[O];me===-1?((ee&l)===0||(ee&u)!==0)&&(g[O]=Ne(ee,s)):me<=s&&(n.expiredLanes|=ee),x&=~ee}if(s=er,l=bn,l=dt(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(qn===2||qn===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&rt(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||$t(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&rt(u),cn(l)){case 2:case 8:l=kt;break;case 32:l=Mt;break;case 268435456:l=Re;break;default:l=Mt}return u=Wv.bind(null,n),l=nt(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&rt(u),n.callbackPriority=2,n.callbackNode=null,2}function Wv(n,s){if(ci!==0&&ci!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Gd()&&n.callbackNode!==l)return null;var u=bn;return u=dt(n,n===er?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Tv(n,u,s),Gv(n,At()),n.callbackNode!=null&&n.callbackNode===l?Wv.bind(null,n):null)}function Yv(n,s){if(Gd())return null;Tv(n,s,!0)}function N_(){V_(function(){(Vn&6)!==0?nt(jt,A_):Hv()})}function O0(){if(Kl===0){var n=p;n===0&&(n=Oe,Oe<<=1,(Oe&261888)===0&&(Oe=256)),Kl=n}return Kl}function Xv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Vi(""+n)}function Zv(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function C_(n,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var x=Xv((g[ln]||null).action),O=u.submitter;O&&(s=(s=O[ln]||null)?Xv(s.formAction):O.getAttribute("formAction"),s!==null&&(x=s,O=null));var ee=new us("action","action",null,u,g);n.push({event:ee,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Kl!==0){var me=O?Zv(g,O):new FormData(g);Qp(l,{pending:!0,data:me,method:g.method,action:x},null,me)}}else typeof x=="function"&&(ee.preventDefault(),me=O?Zv(g,O):new FormData(g),Qp(l,{pending:!0,data:me,method:g.method,action:x},x,me))},currentTarget:g}]})}}for(var j0=0;j0<Zo.length;j0++){var D0=Zo[j0],T_=D0.toLowerCase(),E_=D0[0].toUpperCase()+D0.slice(1);fs(T_,"on"+E_)}fs(Xo,"onAnimationEnd"),fs(Vc,"onAnimationIteration"),fs(Hh,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(bd,"onTransitionRun"),fs(yd,"onTransitionStart"),fs(xd,"onTransitionCancel"),fs(Gh,"onTransitionEnd"),js("onMouseEnter",["mouseout","mouseover"]),js("onMouseLeave",["mouseout","mouseover"]),js("onPointerEnter",["pointerout","pointerover"]),js("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vf));function $v(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;e:{var x=void 0;if(s)for(var O=u.length-1;0<=O;O--){var ee=u[O],me=ee.instance,Le=ee.currentTarget;if(ee=ee.listener,me!==x&&g.isPropagationStopped())break e;x=ee,g.currentTarget=Le;try{x(g)}catch(qe){Fc(qe)}g.currentTarget=null,x=me}else for(O=0;O<u.length;O++){if(ee=u[O],me=ee.instance,Le=ee.currentTarget,ee=ee.listener,me!==x&&g.isPropagationStopped())break e;x=ee,g.currentTarget=Le;try{x(g)}catch(qe){Fc(qe)}g.currentTarget=null,x=me}}}}function vn(n,s){var l=s[Un];l===void 0&&(l=s[Un]=new Set);var u=n+"__bubble";l.has(u)||(Kv(s,n,2,!1),l.add(u))}function R0(n,s,l){var u=0;s&&(u|=4),Kv(l,n,u,s)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function I0(n){if(!n[Xd]){n[Xd]=!0,Bo.forEach(function(l){l!=="selectionchange"&&(k_.has(l)||R0(l,!1,n),R0(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Xd]||(s[Xd]=!0,R0("selectionchange",!1,s))}}function Kv(n,s,l,u){switch(C5(s)){case 2:var g=r4;break;case 8:g=i4;break;default:g=K0}l=g.bind(null,s,l,n),g=void 0,!Oc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function V0(n,s,l,u,g){var x=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var O=u.tag;if(O===3||O===4){var ee=u.stateNode.containerInfo;if(ee===g)break;if(O===4)for(O=u.return;O!==null;){var me=O.tag;if((me===3||me===4)&&O.stateNode.containerInfo===g)return;O=O.return}for(;ee!==null;){if(O=Ii(ee),O===null)return;if(me=O.tag,me===5||me===6||me===26||me===27){u=x=O;continue e}ee=ee.parentNode}}u=u.return}Su(function(){var Le=x,qe=zo(l),Xe=[];e:{var je=Wh.get(n);if(je!==void 0){var Ve=us,xt=n;switch(n){case"keypress":if(cs(l)===0)break e;case"keydown":case"keyup":Ve=wn;break;case"focusin":xt="focus",Ve=Ta;break;case"focusout":xt="blur",Ve=Ta;break;case"beforeblur":case"afterblur":Ve=Ta;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=Ca;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=Br;break;case Xo:case Vc:case Hh:Ve=_;break;case Gh:Ve=ni;break;case"scroll":case"scrollend":Ve=Tl;break;case"wheel":Ve=Vs;break;case"copy":case"cut":case"paste":Ve=le;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=Sr;break;case"toggle":case"beforetoggle":Ve=Dc}var Ut=(s&4)!==0,Zn=!Ut&&(n==="scroll"||n==="scrollend"),Se=Ut?je!==null?je+"Capture":null:je;Ut=[];for(var be=Le,Me;be!==null;){var We=be;if(Me=We.stateNode,We=We.tag,We!==5&&We!==26&&We!==27||Me===null||Se===null||(We=Ki(be,Se),We!=null&&Ut.push(bf(be,We,Me))),Zn)break;be=be.return}0<Ut.length&&(je=new Ve(je,xt,null,l,qe),Xe.push({event:je,listeners:Ut}))}}if((s&7)===0){e:{if(je=n==="mouseover"||n==="pointerover",Ve=n==="mouseout"||n==="pointerout",je&&l!==wa&&(xt=l.relatedTarget||l.fromElement)&&(Ii(xt)||xt[Fn]))break e;if((Ve||je)&&(je=qe.window===qe?qe:(je=qe.ownerDocument)?je.defaultView||je.parentWindow:window,Ve?(xt=l.relatedTarget||l.toElement,Ve=Le,xt=xt?Ii(xt):null,xt!==null&&(Zn=o(xt),Ut=xt.tag,xt!==Zn||Ut!==5&&Ut!==27&&Ut!==6)&&(xt=null)):(Ve=null,xt=Le),Ve!==xt)){if(Ut=jc,We="onMouseLeave",Se="onMouseEnter",be="mouse",(n==="pointerout"||n==="pointerover")&&(Ut=Sr,We="onPointerLeave",Se="onPointerEnter",be="pointer"),Zn=Ve==null?je:Js(Ve),Me=xt==null?je:Js(xt),je=new Ut(We,be+"leave",Ve,l,qe),je.target=Zn,je.relatedTarget=Me,We=null,Ii(qe)===Le&&(Ut=new Ut(Se,be+"enter",xt,l,qe),Ut.target=Me,Ut.relatedTarget=Zn,We=Ut),Zn=We,Ve&&xt)t:{for(Ut=M_,Se=Ve,be=xt,Me=0,We=Se;We;We=Ut(We))Me++;We=0;for(var Vt=be;Vt;Vt=Ut(Vt))We++;for(;0<Me-We;)Se=Ut(Se),Me--;for(;0<We-Me;)be=Ut(be),We--;for(;Me--;){if(Se===be||be!==null&&Se===be.alternate){Ut=Se;break t}Se=Ut(Se),be=Ut(be)}Ut=null}else Ut=null;Ve!==null&&Qv(Xe,je,Ve,Ut,!1),xt!==null&&Zn!==null&&Qv(Xe,Zn,xt,Ut,!0)}}e:{if(je=Le?Js(Le):window,Ve=je.nodeName&&je.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&je.type==="file")var jn=fo;else if(Rc(je))if(Fi)jn=oa;else{jn=Ar;var Et=Ol}else Ve=je.nodeName,!Ve||Ve.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Le&&kc(Le.elementType)&&(jn=fo):jn=Tu;if(jn&&(jn=jn(n,Le))){Ji(Xe,jn,l,qe);break e}Et&&Et(n,je,Le),n==="focusout"&&Le&&je.type==="number"&&Le.memoizedProps.value!=null&&Cc(je,"number",je.value)}switch(Et=Le?Js(Le):window,n){case"focusin":(Rc(Et)||Et.contentEditable==="true")&&(es=Et,Va=Le,pi=null);break;case"focusout":pi=Va=es=null;break;case"mousedown":hs=!0;break;case"contextmenu":case"mouseup":case"dragend":hs=!1,Ln(Xe,l,qe);break;case"selectionchange":if(Yo)break;case"keydown":case"keyup":Ln(Xe,l,qe)}var un;if(ra)e:{switch(n){case"compositionstart":var yn="onCompositionStart";break e;case"compositionend":yn="onCompositionEnd";break e;case"compositionupdate":yn="onCompositionUpdate";break e}yn=void 0}else ia?ho(n,l)&&(yn="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(yn="onCompositionStart");yn&&(Ma&&l.locale!=="ko"&&(ia||yn!=="onCompositionStart"?yn==="onCompositionEnd"&&ia&&(un=Au()):(Qi=qe,Uo="value"in Qi?Qi.value:Qi.textContent,ia=!0)),Et=Zd(Le,yn),0<Et.length&&(yn=new _e(yn,n,null,l,qe),Xe.push({event:yn,listeners:Et}),un?yn.data=un:(un=kl(l),un!==null&&(yn.data=un)))),(un=Wo?Ti(n,l):La(n,l))&&(yn=Zd(Le,"onBeforeInput"),0<yn.length&&(Et=new _e("onBeforeInput","beforeinput",null,l,qe),Xe.push({event:Et,listeners:yn}),Et.data=un)),C_(Xe,n,Le,l,qe)}$v(Xe,s)})}function bf(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Zd(n,s){for(var l=s+"Capture",u=[];n!==null;){var g=n,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=Ki(n,l),g!=null&&u.unshift(bf(n,g,x)),g=Ki(n,s),g!=null&&u.push(bf(n,g,x))),n.tag===3)return u;n=n.return}return[]}function M_(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Qv(n,s,l,u,g){for(var x=s._reactName,O=[];l!==null&&l!==u;){var ee=l,me=ee.alternate,Le=ee.stateNode;if(ee=ee.tag,me!==null&&me===u)break;ee!==5&&ee!==26&&ee!==27||Le===null||(me=Le,g?(Le=Ki(l,x),Le!=null&&O.unshift(bf(l,Le,me))):g||(Le=Ki(l,x),Le!=null&&O.push(bf(l,Le,me)))),l=l.return}O.length!==0&&n.push({event:s,listeners:O})}var L_=/\r\n?/g,O_=/\u0000|\uFFFD/g;function Jv(n){return(typeof n=="string"?n:""+n).replace(L_,`
`).replace(O_,"")}function e5(n,s){return s=Jv(s),Jv(n)===s}function Xn(n,s,l,u,g,x){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Rs(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Rs(n,""+u);break;case"className":xa(n,"class",u);break;case"tabIndex":xa(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xa(n,l,u);break;case"style":xu(n,u,x);break;case"data":if(s!=="object"){xa(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Vi(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(s!=="input"&&Xn(n,s,"name",g.name,g,null),Xn(n,s,"formEncType",g.formEncType,g,null),Xn(n,s,"formMethod",g.formMethod,g,null),Xn(n,s,"formTarget",g.formTarget,g,null)):(Xn(n,s,"encType",g.encType,g,null),Xn(n,s,"method",g.method,g,null),Xn(n,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Vi(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Is);break;case"onScroll":u!=null&&vn("scroll",n);break;case"onScrollEnd":u!=null&&vn("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Vi(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":vn("beforetoggle",n),vn("toggle",n),$i(n,"popover",u);break;case"xlinkActuate":Ds(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ds(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ds(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ds(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ds(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ds(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ds(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ds(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ds(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$i(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Mc.get(l)||l,$i(n,l,u))}}function F0(n,s,l,u,g,x){switch(l){case"style":xu(n,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Rs(n,u):(typeof u=="number"||typeof u=="bigint")&&Rs(n,""+u);break;case"onScroll":u!=null&&vn("scroll",n);break;case"onScrollEnd":u!=null&&vn("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Is);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ai.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),x=n[ln]||null,x=x!=null?x[l]:null,typeof x=="function"&&n.removeEventListener(s,x,g),typeof u=="function")){typeof x!="function"&&x!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,g);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):$i(n,l,u)}}}function Oi(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vn("error",n),vn("load",n);var u=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var O=l[x];if(O!=null)switch(x){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xn(n,s,x,O,l,null)}}g&&Xn(n,s,"srcSet",l.srcSet,l,null),u&&Xn(n,s,"src",l.src,l,null);return;case"input":vn("invalid",n);var ee=x=O=g=null,me=null,Le=null;for(u in l)if(l.hasOwnProperty(u)){var qe=l[u];if(qe!=null)switch(u){case"name":g=qe;break;case"type":O=qe;break;case"checked":me=qe;break;case"defaultChecked":Le=qe;break;case"value":x=qe;break;case"defaultValue":ee=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,s));break;default:Xn(n,s,u,qe,l,null)}}bu(n,x,ee,me,Le,O,g,!1);return;case"select":vn("invalid",n),u=O=x=null;for(g in l)if(l.hasOwnProperty(g)&&(ee=l[g],ee!=null))switch(g){case"value":x=ee;break;case"defaultValue":O=ee;break;case"multiple":u=ee;default:Xn(n,s,g,ee,l,null)}s=x,l=O,n.multiple=!!u,s!=null?Ci(n,!!u,s,!1):l!=null&&Ci(n,!!u,l,!0);return;case"textarea":vn("invalid",n),x=g=u=null;for(O in l)if(l.hasOwnProperty(O)&&(ee=l[O],ee!=null))switch(O){case"value":u=ee;break;case"defaultValue":g=ee;break;case"children":x=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(91));break;default:Xn(n,s,O,ee,l,null)}Ec(n,u,g,x);return;case"option":for(me in l)if(l.hasOwnProperty(me)&&(u=l[me],u!=null))switch(me){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xn(n,s,me,u,l,null)}return;case"dialog":vn("beforetoggle",n),vn("toggle",n),vn("cancel",n),vn("close",n);break;case"iframe":case"object":vn("load",n);break;case"video":case"audio":for(u=0;u<vf.length;u++)vn(vf[u],n);break;case"image":vn("error",n),vn("load",n);break;case"details":vn("toggle",n);break;case"embed":case"source":case"link":vn("error",n),vn("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in l)if(l.hasOwnProperty(Le)&&(u=l[Le],u!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xn(n,s,Le,u,l,null)}return;default:if(kc(s)){for(qe in l)l.hasOwnProperty(qe)&&(u=l[qe],u!==void 0&&F0(n,s,qe,u,l,void 0));return}}for(ee in l)l.hasOwnProperty(ee)&&(u=l[ee],u!=null&&Xn(n,s,ee,u,l,null))}function j_(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,O=null,ee=null,me=null,Le=null,qe=null;for(Ve in l){var Xe=l[Ve];if(l.hasOwnProperty(Ve)&&Xe!=null)switch(Ve){case"checked":break;case"value":break;case"defaultValue":me=Xe;default:u.hasOwnProperty(Ve)||Xn(n,s,Ve,null,u,Xe)}}for(var je in u){var Ve=u[je];if(Xe=l[je],u.hasOwnProperty(je)&&(Ve!=null||Xe!=null))switch(je){case"type":x=Ve;break;case"name":g=Ve;break;case"checked":Le=Ve;break;case"defaultChecked":qe=Ve;break;case"value":O=Ve;break;case"defaultValue":ee=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,s));break;default:Ve!==Xe&&Xn(n,s,je,Ve,u,Xe)}}Al(n,O,ee,me,Le,qe,x,g);return;case"select":Ve=O=ee=je=null;for(x in l)if(me=l[x],l.hasOwnProperty(x)&&me!=null)switch(x){case"value":break;case"multiple":Ve=me;default:u.hasOwnProperty(x)||Xn(n,s,x,null,u,me)}for(g in u)if(x=u[g],me=l[g],u.hasOwnProperty(g)&&(x!=null||me!=null))switch(g){case"value":je=x;break;case"defaultValue":ee=x;break;case"multiple":O=x;default:x!==me&&Xn(n,s,g,x,u,me)}s=ee,l=O,u=Ve,je!=null?Ci(n,!!l,je,!1):!!u!=!!l&&(s!=null?Ci(n,!!l,s,!0):Ci(n,!!l,l?[]:"",!1));return;case"textarea":Ve=je=null;for(ee in l)if(g=l[ee],l.hasOwnProperty(ee)&&g!=null&&!u.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:Xn(n,s,ee,null,u,g)}for(O in u)if(g=u[O],x=l[O],u.hasOwnProperty(O)&&(g!=null||x!=null))switch(O){case"value":je=g;break;case"defaultValue":Ve=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==x&&Xn(n,s,O,g,u,x)}Tc(n,je,Ve);return;case"option":for(var xt in l)if(je=l[xt],l.hasOwnProperty(xt)&&je!=null&&!u.hasOwnProperty(xt))switch(xt){case"selected":n.selected=!1;break;default:Xn(n,s,xt,null,u,je)}for(me in u)if(je=u[me],Ve=l[me],u.hasOwnProperty(me)&&je!==Ve&&(je!=null||Ve!=null))switch(me){case"selected":n.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:Xn(n,s,me,je,u,Ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ut in l)je=l[Ut],l.hasOwnProperty(Ut)&&je!=null&&!u.hasOwnProperty(Ut)&&Xn(n,s,Ut,null,u,je);for(Le in u)if(je=u[Le],Ve=l[Le],u.hasOwnProperty(Le)&&je!==Ve&&(je!=null||Ve!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(i(137,s));break;default:Xn(n,s,Le,je,u,Ve)}return;default:if(kc(s)){for(var Zn in l)je=l[Zn],l.hasOwnProperty(Zn)&&je!==void 0&&!u.hasOwnProperty(Zn)&&F0(n,s,Zn,void 0,u,je);for(qe in u)je=u[qe],Ve=l[qe],!u.hasOwnProperty(qe)||je===Ve||je===void 0&&Ve===void 0||F0(n,s,qe,je,u,Ve);return}}for(var Se in l)je=l[Se],l.hasOwnProperty(Se)&&je!=null&&!u.hasOwnProperty(Se)&&Xn(n,s,Se,null,u,je);for(Xe in u)je=u[Xe],Ve=l[Xe],!u.hasOwnProperty(Xe)||je===Ve||je==null&&Ve==null||Xn(n,s,Xe,je,u,Ve)}function t5(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D_(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],x=g.transferSize,O=g.initiatorType,ee=g.duration;if(x&&ee&&t5(O)){for(O=0,ee=g.responseEnd,u+=1;u<l.length;u++){var me=l[u],Le=me.startTime;if(Le>ee)break;var qe=me.transferSize,Xe=me.initiatorType;qe&&t5(Xe)&&(me=me.responseEnd,O+=qe*(me<ee?1:(ee-Le)/(me-Le)))}if(--u,s+=8*(x+O)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var B0=null,q0=null;function $d(n){return n.nodeType===9?n:n.ownerDocument}function n5(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r5(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function z0(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var P0=null;function R_(){var n=window.event;return n&&n.type==="popstate"?n===P0?!1:(P0=n,!0):(P0=null,!1)}var i5=typeof setTimeout=="function"?setTimeout:void 0,I_=typeof clearTimeout=="function"?clearTimeout:void 0,s5=typeof Promise=="function"?Promise:void 0,V_=typeof queueMicrotask=="function"?queueMicrotask:typeof s5<"u"?function(n){return s5.resolve(null).then(n).catch(F_)}:i5;function F_(n){setTimeout(function(){throw n})}function Ql(n){return n==="head"}function a5(n,s){var l=s,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),ah(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")yf(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,yf(l);for(var x=l.firstChild;x;){var O=x.nextSibling,ee=x.nodeName;x[Ri]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=O}}else l==="body"&&yf(n.ownerDocument.body);l=g}while(l);ah(s)}function o5(n,s){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function U0(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":U0(l),Os(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function B_(n,s,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ri])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=pa(n.nextSibling),n===null)break}return null}function q_(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=pa(n.nextSibling),n===null))return null;return n}function l5(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=pa(n.nextSibling),n===null))return null;return n}function H0(n){return n.data==="$?"||n.data==="$~"}function G0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function z_(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function pa(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var W0=null;function c5(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return pa(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function u5(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function h5(n,s,l){switch(s=$d(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function yf(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Os(n)}var ma=new Map,f5=new Set;function Kd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var hl=K.d;K.d={f:P_,r:U_,D:H_,C:G_,L:W_,m:Y_,X:Z_,S:X_,M:$_};function P_(){var n=hl.f(),s=Pd();return n||s}function U_(n){var s=Yi(n);s!==null&&s.tag===5&&s.type==="form"?k2(s):hl.r(n)}var rh=typeof document>"u"?null:document;function d5(n,s,l){var u=rh;if(u&&typeof s=="string"&&s){var g=Er(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),f5.has(g)||(f5.add(g),n={rel:n,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Oi(s,"link",n),or(s),u.head.appendChild(s)))}}function H_(n){hl.D(n),d5("dns-prefetch",n,null)}function G_(n,s){hl.C(n,s),d5("preconnect",n,s)}function W_(n,s,l){hl.L(n,s,l);var u=rh;if(u&&n&&s){var g='link[rel="preload"][as="'+Er(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Er(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Er(l.imageSizes)+'"]')):g+='[href="'+Er(n)+'"]';var x=g;switch(s){case"style":x=ih(n);break;case"script":x=sh(n)}ma.has(x)||(n=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),ma.set(x,n),u.querySelector(g)!==null||s==="style"&&u.querySelector(xf(x))||s==="script"&&u.querySelector(wf(x))||(s=u.createElement("link"),Oi(s,"link",n),or(s),u.head.appendChild(s)))}}function Y_(n,s){hl.m(n,s);var l=rh;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Er(u)+'"][href="'+Er(n)+'"]',x=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=sh(n)}if(!ma.has(x)&&(n=y({rel:"modulepreload",href:n},s),ma.set(x,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(wf(x)))return}u=l.createElement("link"),Oi(u,"link",n),or(u),l.head.appendChild(u)}}}function X_(n,s,l){hl.S(n,s,l);var u=rh;if(u&&n){var g=Xi(u).hoistableStyles,x=ih(n);s=s||"default";var O=g.get(x);if(!O){var ee={loading:0,preload:null};if(O=u.querySelector(xf(x)))ee.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},l),(l=ma.get(x))&&Y0(n,l);var me=O=u.createElement("link");or(me),Oi(me,"link",n),me._p=new Promise(function(Le,qe){me.onload=Le,me.onerror=qe}),me.addEventListener("load",function(){ee.loading|=1}),me.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Qd(O,s,u)}O={type:"stylesheet",instance:O,count:1,state:ee},g.set(x,O)}}}function Z_(n,s){hl.X(n,s);var l=rh;if(l&&n){var u=Xi(l).hoistableScripts,g=sh(n),x=u.get(g);x||(x=l.querySelector(wf(g)),x||(n=y({src:n,async:!0},s),(s=ma.get(g))&&X0(n,s),x=l.createElement("script"),or(x),Oi(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function $_(n,s){hl.M(n,s);var l=rh;if(l&&n){var u=Xi(l).hoistableScripts,g=sh(n),x=u.get(g);x||(x=l.querySelector(wf(g)),x||(n=y({src:n,async:!0,type:"module"},s),(s=ma.get(g))&&X0(n,s),x=l.createElement("script"),or(x),Oi(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function p5(n,s,l,u){var g=(g=se.current)?Kd(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=ih(l.href),l=Xi(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=ih(l.href);var x=Xi(g).hoistableStyles,O=x.get(n);if(O||(g=g.ownerDocument||g,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,O),(x=g.querySelector(xf(n)))&&!x._p&&(O.instance=x,O.state.loading=5),ma.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ma.set(n,l),x||K_(g,n,l,O.state))),s&&u===null)throw Error(i(528,""));return O}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=sh(l),l=Xi(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function ih(n){return'href="'+Er(n)+'"'}function xf(n){return'link[rel="stylesheet"]['+n+"]"}function m5(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function K_(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Oi(s,"link",l),or(s),n.head.appendChild(s))}function sh(n){return'[src="'+Er(n)+'"]'}function wf(n){return"script[async]"+n}function g5(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Er(l.href)+'"]');if(u)return s.instance=u,or(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),or(u),Oi(u,"style",g),Qd(u,l.precedence,n),s.instance=u;case"stylesheet":g=ih(l.href);var x=n.querySelector(xf(g));if(x)return s.state.loading|=4,s.instance=x,or(x),x;u=m5(l),(g=ma.get(g))&&Y0(u,g),x=(n.ownerDocument||n).createElement("link"),or(x);var O=x;return O._p=new Promise(function(ee,me){O.onload=ee,O.onerror=me}),Oi(x,"link",u),s.state.loading|=4,Qd(x,l.precedence,n),s.instance=x;case"script":return x=sh(l.src),(g=n.querySelector(wf(x)))?(s.instance=g,or(g),g):(u=l,(g=ma.get(x))&&(u=y({},l),X0(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),or(g),Oi(g,"link",u),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Qd(u,l.precedence,n));return s.instance}function Qd(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,x=g,O=0;O<u.length;O++){var ee=u[O];if(ee.dataset.precedence===s)x=ee;else if(x!==g)break}x?x.parentNode.insertBefore(n,x.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function Y0(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function X0(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Jd=null;function v5(n,s,l){if(Jd===null){var u=new Map,g=Jd=new Map;g.set(l,u)}else g=Jd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var x=l[g];if(!(x[Ri]||x[Xt]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var O=x.getAttribute(s)||"";O=n+O;var ee=u.get(O);ee?ee.push(x):u.set(O,[x])}}return u}function b5(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function Q_(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function y5(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function J_(n,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=ih(u.href),x=s.querySelector(xf(g));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=e1.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=x,or(x);return}x=s.ownerDocument||s,u=m5(u),(g=ma.get(g))&&Y0(u,g),x=x.createElement("link"),or(x);var O=x;O._p=new Promise(function(ee,me){O.onload=ee,O.onerror=me}),Oi(x,"link",u),l.instance=x}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=e1.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var Z0=0;function e4(n,s){return n.stylesheets&&n.count===0&&n1(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&n1(n,n.stylesheets),n.unsuspend){var x=n.unsuspend;n.unsuspend=null,x()}},6e4+s);0<n.imgBytes&&Z0===0&&(Z0=62500*D_());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&n1(n,n.stylesheets),n.unsuspend)){var x=n.unsuspend;n.unsuspend=null,x()}},(n.imgBytes>Z0?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function e1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)n1(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var t1=null;function n1(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,t1=new Map,s.forEach(t4,n),t1=null,e1.call(n))}function t4(n,s){if(!(s.state.loading&4)){var l=t1.get(n);if(l)var u=l.get(null);else{l=new Map,t1.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var O=g[x];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(l.set(O.dataset.precedence,O),u=O)}u&&l.set(null,u)}g=s.instance,O=g.getAttribute("data-precedence"),x=l.get(O)||u,x===u&&l.set(null,g),l.set(O,g),this.count++,u=e1.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),x?x.parentNode.insertBefore(g,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var _f={$$typeof:R,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function n4(n,s,l,u,g,x,O,ee,me){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=He(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.hiddenUpdates=He(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function x5(n,s,l,u,g,x,O,ee,me,Le,qe,Xe){return n=new n4(n,s,l,O,me,Le,qe,Xe,ee),s=1,x===!0&&(s|=24),x=gi(3,null,null,s),n.current=x,x.stateNode=n,s=ql(),s.refCount++,n.pooledCache=s,s.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:s},ct(x),n}function w5(n){return n?(n=ii,n):ii}function _5(n,s,l,u,g,x){g=w5(g),u.context===null?u.context=g:u.pendingContext=g,u=Pt(s),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=on(n,u,s),l!==null&&(Ns(l,n,s),Rn(l,n,s))}function S5(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function $0(n,s){S5(n,s),(n=n.alternate)&&S5(n,s)}function A5(n){if(n.tag===13||n.tag===31){var s=Fa(n,67108864);s!==null&&Ns(s,n,67108864),$0(n,67108864)}}function N5(n){if(n.tag===13||n.tag===31){var s=Gs();s=Yt(s);var l=Fa(n,s);l!==null&&Ns(l,n,s),$0(n,s)}}var r1=!0;function r4(n,s,l,u){var g=Q.T;Q.T=null;var x=K.p;try{K.p=2,K0(n,s,l,u)}finally{K.p=x,Q.T=g}}function i4(n,s,l,u){var g=Q.T;Q.T=null;var x=K.p;try{K.p=8,K0(n,s,l,u)}finally{K.p=x,Q.T=g}}function K0(n,s,l,u){if(r1){var g=Q0(u);if(g===null)V0(n,s,u,i1,l),T5(n,u);else if(a4(g,n,s,l,u))u.stopPropagation();else if(T5(n,u),s&4&&-1<s4.indexOf(n)){for(;g!==null;){var x=Yi(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var O=et(x.pendingLanes);if(O!==0){var ee=x;for(ee.pendingLanes|=2,ee.entangledLanes|=2;O;){var me=1<<31-Bt(O);ee.entanglements[1]|=me,O&=~me}Co(x),(Vn&6)===0&&(qd=At()+500,gf(0))}}break;case 31:case 13:ee=Fa(x,2),ee!==null&&Ns(ee,x,2),Pd(),$0(x,2)}if(x=Q0(u),x===null&&V0(n,s,u,i1,l),x===g)break;g=x}g!==null&&u.stopPropagation()}else V0(n,s,u,null,l)}}function Q0(n){return n=zo(n),J0(n)}var i1=null;function J0(n){if(i1=null,n=Ii(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=h(s),n!==null)return n;n=null}else if(l===31){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return i1=n,null}function C5(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ft()){case jt:return 2;case kt:return 8;case Mt:case ht:return 32;case Re:return 268435456;default:return 32}default:return 32}}var em=!1,Jl=null,ec=null,tc=null,Sf=new Map,Af=new Map,nc=[],s4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T5(n,s){switch(n){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":ec=null;break;case"mouseover":case"mouseout":tc=null;break;case"pointerover":case"pointerout":Sf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Af.delete(s.pointerId)}}function Nf(n,s,l,u,g,x){return n===null||n.nativeEvent!==x?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[g]},s!==null&&(s=Yi(s),s!==null&&A5(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function a4(n,s,l,u,g){switch(s){case"focusin":return Jl=Nf(Jl,n,s,l,u,g),!0;case"dragenter":return ec=Nf(ec,n,s,l,u,g),!0;case"mouseover":return tc=Nf(tc,n,s,l,u,g),!0;case"pointerover":var x=g.pointerId;return Sf.set(x,Nf(Sf.get(x)||null,n,s,l,u,g)),!0;case"gotpointercapture":return x=g.pointerId,Af.set(x,Nf(Af.get(x)||null,n,s,l,u,g)),!0}return!1}function E5(n){var s=Ii(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){n.blockedOn=s,ir(n.priority,function(){N5(l)});return}}else if(s===31){if(s=c(l),s!==null){n.blockedOn=s,ir(n.priority,function(){N5(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function s1(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Q0(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);wa=u,l.target.dispatchEvent(u),wa=null}else return s=Yi(l),s!==null&&A5(s),n.blockedOn=l,!1;s.shift()}return!0}function k5(n,s,l){s1(n)&&l.delete(s)}function o4(){em=!1,Jl!==null&&s1(Jl)&&(Jl=null),ec!==null&&s1(ec)&&(ec=null),tc!==null&&s1(tc)&&(tc=null),Sf.forEach(k5),Af.forEach(k5)}function a1(n,s){n.blockedOn===s&&(n.blockedOn=null,em||(em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,o4)))}var o1=null;function M5(n){o1!==n&&(o1=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){o1===n&&(o1=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],g=n[s+2];if(typeof u!="function"){if(J0(u||l)===null)continue;break}var x=Yi(l);x!==null&&(n.splice(s,3),s-=3,Qp(x,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function ah(n){function s(me){return a1(me,n)}Jl!==null&&a1(Jl,n),ec!==null&&a1(ec,n),tc!==null&&a1(tc,n),Sf.forEach(s),Af.forEach(s);for(var l=0;l<nc.length;l++){var u=nc[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<nc.length&&(l=nc[0],l.blockedOn===null);)E5(l),l.blockedOn===null&&nc.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],x=l[u+1],O=g[ln]||null;if(typeof x=="function")O||M5(l);else if(O){var ee=null;if(x&&x.hasAttribute("formAction")){if(g=x,O=x[ln]||null)ee=O.formAction;else if(J0(g)!==null)continue}else ee=O.action;typeof ee=="function"?l[u+1]=ee:(l.splice(u,3),u-=3),M5(l)}}}function L5(){function n(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(O){return g=O})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function tm(n){this._internalRoot=n}l1.prototype.render=tm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=Gs();_5(l,u,n,s,null,null)},l1.prototype.unmount=tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;_5(n.current,2,null,n,null,null),Pd(),s[Fn]=null}};function l1(n){this._internalRoot=n}l1.prototype.unstable_scheduleHydration=function(n){if(n){var s=Kt();n={blockedOn:null,target:n,priority:s};for(var l=0;l<nc.length&&s!==0&&s<nc[l].priority;l++);nc.splice(l,0,n),l===0&&E5(n)}};var O5=e.version;if(O5!=="19.2.0")throw Error(i(527,O5,"19.2.0"));K.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=d(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var l4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var c1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!c1.isDisabled&&c1.supportsFiber)try{Nt=c1.inject(l4),St=c1}catch{}}return Tf.createRoot=function(n,s){if(!a(n))throw Error(i(299));var l=!1,u="",g=B2,x=q2,O=z2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError)),s=x5(n,1,!1,null,null,l,u,null,g,x,O,L5),n[Fn]=s.current,I0(n),new tm(s)},Tf.hydrateRoot=function(n,s,l){if(!a(n))throw Error(i(299));var u=!1,g="",x=B2,O=q2,ee=z2,me=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(ee=l.onRecoverableError),l.formState!==void 0&&(me=l.formState)),s=x5(n,1,!0,s,l??null,u,g,me,x,O,ee,L5),s.context=w5(null),l=s.current,u=Gs(),u=Yt(u),g=Pt(u),g.callback=null,on(l,g,u),l=u,s.current.lanes=l,Ue(s,l),Co(s),n[Fn]=s.current,I0(n),new l1(s)},Tf.version="19.2.0",Tf}var P5;function v4(){if(P5)return im.exports;P5=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),im.exports=g4(),im.exports}var b4=v4();const U5=r=>{let e;const t=new Set,i=(d,m)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const w=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(v=>v(e,w))}},a=()=>e,c={setState:i,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=r(i,a,c);return c},y4=(r=>r?U5(r):U5),x4=r=>r;function w4(r,e=x4){const t=fn.useSyncExternalStore(r.subscribe,fn.useCallback(()=>e(r.getState()),[r,e]),fn.useCallback(()=>e(r.getInitialState()),[r,e]));return fn.useDebugValue(t),t}const _4=r=>{const e=y4(r),t=i=>w4(e,i);return Object.assign(t,e),t},S4=(r=>_4);function A4(r,e){let t;try{t=r()}catch{return}return{getItem:a=>{var o;const h=f=>f===null?null:JSON.parse(f,void 0),c=(o=t.getItem(a))!=null?o:null;return c instanceof Promise?c.then(h):h(c)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const Vm=r=>e=>{try{const t=r(e);return t instanceof Promise?t:{then(i){return Vm(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return Vm(i)(t)}}}},N4=(r,e)=>(t,i,a)=>{let o={storage:A4(()=>localStorage),partialize:N=>N,version:0,merge:(N,T)=>({...T,...N}),...e},h=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return r((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...N)},i,a);const m=()=>{const N=o.partialize({...i()});return d.setItem(o.name,{state:N,version:o.version})},y=a.setState;a.setState=(N,T)=>(y(N,T),m());const w=r((...N)=>(t(...N),m()),i,a);a.getInitialState=()=>w;let v;const S=()=>{var N,T;if(!d)return;h=!1,c.forEach(I=>{var R;return I((R=i())!=null?R:w)});const C=((T=o.onRehydrateStorage)==null?void 0:T.call(o,(N=i())!=null?N:w))||void 0;return Vm(d.getItem.bind(d))(o.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==o.version){if(o.migrate){const R=o.migrate(I.state,I.version);return R instanceof Promise?R.then(q=>[!0,q]):[!0,R]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var R;const[q,B]=I;if(v=o.merge(B,(R=i())!=null?R:w),t(v,!0),q)return m()}).then(()=>{C?.(v,void 0),v=i(),h=!0,f.forEach(I=>I(v))}).catch(I=>{C?.(void 0,I)})};return a.persist={setOptions:N=>{o={...o,...N},N.storage&&(d=N.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>S(),hasHydrated:()=>h,onHydrate:N=>(c.add(N),()=>{c.delete(N)}),onFinishHydration:N=>(f.add(N),()=>{f.delete(N)})},o.skipHydration||S(),v||w},C4=N4,eu=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Df=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],T4=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}];function ou(r){return r.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[r]||r}const E4={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},k4={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function mh(r,e){const t=ou(r),i=eu.indexOf(t);if(i===-1)return[];const a=E4[e]||e,o=k4[a];return o?o.map(h=>eu[(i+h)%12]):(console.warn(`Unknown chord quality: ${e} (resolved to ${a})`),eu.slice(i,i+1).concat([eu[(i+4)%12],eu[(i+7)%12]]))}function oh(r,e){if(!r||r.length===0)return r;const t=r.length-1,i=Math.max(0,Math.min(e,t));return i===0?r:[...r.slice(i),...r.slice(0,i)]}function M4(r){return Math.max(0,(r?.length||1)-1)}function H5(r){return["Root","1st","2nd","3rd","4th","5th","6th"][r]||`${r}th`}function L4(r,e,t,i){const o=`${r}${e==="major"||e==="maj"?"":e}`;if(!i||i===0||!t||t.length===0)return o;const h=t[i%t.length];return`${o}/${h}`}function O4(r){const e=["G","D","A","E","B","F#","C#"],t=["F","Bb","Eb","Ab","Db","Gb","Cb"],i=e.indexOf(r),a=t.indexOf(r);return i>=0?{sharps:i+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function gp(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function j4(r,e){const t=ou(r),i=ou(e),a=eu.indexOf(t),o=eu.indexOf(i);if(a===-1||o===-1)return"?";let h=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[h]||"?"}function dg(r){const e=r.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(e){const t=parseInt(e[1]),i=parseInt(e[2]),a=parseInt(e[3]);let o=55;return t>=40&&t<=100?o=45:t>=160&&t<=200&&(o=50),i>60&&a>=45&&(o-=5),a>o?"#000000":"#ffffff"}return"#000000"}const ji=[];for(let r=0;r<256;++r)ji.push((r+256).toString(16).slice(1));function D4(r,e=0){return(ji[r[e+0]]+ji[r[e+1]]+ji[r[e+2]]+ji[r[e+3]]+"-"+ji[r[e+4]]+ji[r[e+5]]+"-"+ji[r[e+6]]+ji[r[e+7]]+"-"+ji[r[e+8]]+ji[r[e+9]]+"-"+ji[r[e+10]]+ji[r[e+11]]+ji[r[e+12]]+ji[r[e+13]]+ji[r[e+14]]+ji[r[e+15]]).toLowerCase()}let lm;const R4=new Uint8Array(16);function I4(){if(!lm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lm=crypto.getRandomValues.bind(crypto)}return lm(R4)}const V4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),G5={randomUUID:V4};function F4(r,e,t){r=r||{};const i=r.random??r.rng?.()??I4();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,D4(i)}function Ya(r,e,t){return G5.randomUUID&&!r?G5.randomUUID():F4(r)}const Ts=[4,4],Fm=(r=Ts)=>{const[e,t]=r;return!e||!t?4:e*(4/t)},gh=r=>{const e=Fm(r);return{id:Ya(),beats:[{id:Ya(),chord:null,duration:e}]}},To=r=>r?`${r.sectionId}:${r.slotId}`:"",pg=r=>{const e=[];return r.forEach(t=>{t.measures.forEach(i=>{i.beats.forEach(a=>{e.push({sectionId:t.id,slotId:a.id,chord:a.chord??null})})})}),e},Qc=(r,e)=>{if(!e)return null;for(const t of r)if(t.id===e.sectionId){for(const i of t.measures)for(const a of i.beats)if(a.id===e.slotId)return a.chord??null}return null},W5=(r,e)=>e?pg(r).findIndex(i=>i.sectionId===e.sectionId&&i.slotId===e.slotId):-1,B4=(r,e,t)=>{const i=pg(r),a=i.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId),o=i.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId);if(a===-1||o===-1)return[];const[h,c]=a<=o?[a,o]:[o,a];return i.slice(h,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},T1=(r,e)=>e?r.some(t=>t.id===e.sectionId&&t.measures.some(i=>i.beats.some(a=>a.id===e.slotId))):!1,hh=(r,e,t,i,a)=>{const o=e&&t?{sectionId:e,slotId:t}:null,h=i.filter(m=>T1(r,m)),c=T1(r,o),f=h[h.length-1]||(c?o:null),d=a&&T1(r,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:h,selectionAnchor:d?a:h[0]??f??null}},Bm=100,Of=r=>typeof structuredClone=="function"?structuredClone(r):JSON.parse(JSON.stringify(r)),xi=r=>{const e=Of(r.currentSong),t=[...r.historyPast,e].slice(-Bm);return{historyPast:t,historyFuture:[],canUndo:t.length>0,canRedo:!1}},Y5=(r,e,t,i,a)=>{const o=hh(r.sections,e,t,i,a),h=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=h?Qc(r.sections,h):null;return{...o,selectedChord:c}},q4=(r,e,t)=>{let i=!1;for(const a of r)for(const o of a.measures)for(const h of o.beats){if(i)return{sectionId:a.id,slotId:h.id};a.id===e&&h.id===t&&(i=!0)}return null},Ef={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:Ts,measures:Array(4).fill(null).map(()=>gh(Ts))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:Ts,measures:Array(4).fill(null).map(()=>gh(Ts))}],notes:"",createdAt:new Date,updatedAt:new Date},rr=S4()(C4(r=>({currentSong:Ef,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,collapsedSections:{},selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,playingSectionId:null,playingSlotId:null,isLooping:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:e=>r({selectedKey:e}),rotateWheel:e=>r(t=>({wheelRotation:t.wheelMode==="rotating"?t.wheelRotation+(e==="cw"?-30:30):0})),toggleWheelMode:()=>r(e=>{const t=e.wheelMode==="rotating"?"fixed":"rotating";let i=0;if(t==="rotating"){const a=Df.indexOf(e.selectedKey);a!==-1&&(i=-(a*30))}return{wheelMode:t,wheelRotation:i}}),toggleChordPanel:()=>r(e=>({chordPanelVisible:!e.chordPanelVisible})),toggleTimeline:()=>r(e=>({timelineVisible:!e.timelineVisible})),toggleSectionCollapsed:e=>r(t=>{const i={...t.collapsedSections,[e]:!t.collapsedSections?.[e]};return i[e]||delete i[e],{collapsedSections:i}}),setSelectedChord:e=>r({selectedChord:e}),setSelectedSlot:(e,t)=>r(i=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:e,slotId:t},o=Qc(i.currentSong.sections,a);return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),setSelectedSlots:e=>r(t=>{const i=e.filter(Boolean),a=i[i.length-1]??null,o=Qc(t.currentSong.sections,a);return{selectedSlots:i,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:i[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(e,t)=>r(i=>{const a=i.selectedSlots.some(d=>d.sectionId===e&&d.slotId===t),o=a?i.selectedSlots.filter(d=>!(d.sectionId===e&&d.slotId===t)):[...i.selectedSlots,{sectionId:e,slotId:t}],h=o[o.length-1]??null,c=Qc(i.currentSong.sections,h),f=a&&i.selectionAnchor&&To(i.selectionAnchor)===To({sectionId:e,slotId:t});return{selectedSlots:o,selectedSectionId:h?.sectionId??null,selectedSlotId:h?.slotId??null,selectionAnchor:f?o[0]??h??null:i.selectionAnchor??h??null,selectedChord:c??null}}),selectRangeTo:(e,t)=>r(i=>{const a={sectionId:e,slotId:t},o=i.selectionAnchor||i.selectedSlots[i.selectedSlots.length-1]||(i.selectedSectionId&&i.selectedSlotId?{sectionId:i.selectedSectionId,slotId:i.selectedSlotId}:a),c=T1(i.currentSong.sections,o)?o:a,f=B4(i.currentSong.sections,c,a),d=f.length?f:[a],m=Qc(i.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:m??null}}),moveSelection:(e,t,i="move")=>{let a=!1;return r(o=>{const h=pg(o.currentSong.sections),c=W5(o.currentSong.sections,e),f=W5(o.currentSong.sections,t);if(c===-1||f===-1)return{};const m=(o.selectedSlots.length?o.selectedSlots:[e]).map(j=>{const V=h.findIndex(H=>H.sectionId===j.sectionId&&H.slotId===j.slotId);return V>=0?{idx:V,slot:h[V]}:null}).filter(j=>!!j).sort((j,V)=>j.idx-V.idx);if(!m.length)return{};const y=f-c,w=m.map(({idx:j})=>j+y);if(w.some(j=>j<0||j>=h.length))return{};const v=w.map(j=>h[j]);if(m.length===1&&i==="move"){const j=m[0].slot,V=v[0],H=xi(o),k=o.currentSong.sections.map(Q=>({...Q,measures:Q.measures.map(K=>({...K,beats:K.beats.map(ce=>ce.id===j.slotId&&Q.id===j.sectionId?{...ce,chord:V.chord}:ce.id===V.slotId&&Q.id===V.sectionId?{...ce,chord:j.chord}:ce)}))}));a=!0;const D=o.selectionAnchor&&To(o.selectionAnchor)===To(e),ne=hh(k,t.sectionId,t.slotId,[{sectionId:V.sectionId,slotId:V.slotId}],D?{sectionId:V.sectionId,slotId:V.slotId}:o.selectionAnchor),$=ne.selectedSectionId&&ne.selectedSlotId?{sectionId:ne.selectedSectionId,slotId:ne.selectedSlotId}:null,he=Qc(k,$);return{...H,currentSong:{...o.currentSong,sections:k},selectedSectionId:ne.selectedSectionId,selectedSlotId:ne.selectedSlotId,selectedSlots:ne.selectedSlots,selectionAnchor:ne.selectionAnchor,selectedChord:he??null}}const S=new Map;m.forEach((j,V)=>{S.set(To(v[V]),j.slot.chord??null)});const N=new Set;i==="move"&&m.forEach((j,V)=>{const H=To(j.slot),k=To(v[V]);H!==k&&N.add(H)});const T=xi(o),C=o.currentSong.sections.map(j=>({...j,measures:j.measures.map(V=>({...V,beats:V.beats.map(H=>{const k=To({sectionId:j.id,slotId:H.id});return S.has(k)?{...H,chord:S.get(k)??null}:N.has(k)?{...H,chord:null}:H})}))}));a=!0;const I=To(o.selectionAnchor),R=m.find(j=>To(j.slot)===I),q=R?{sectionId:v[m.indexOf(R)].sectionId,slotId:v[m.indexOf(R)].slotId}:o.selectionAnchor,B=hh(C,t.sectionId,t.slotId,v.map(j=>({sectionId:j.sectionId,slotId:j.slotId})),q??null),Z=B.selectedSectionId&&B.selectedSlotId?{sectionId:B.selectedSectionId,slotId:B.selectedSlotId}:null,F=Qc(C,Z);return{...T,currentSong:{...o.currentSong,sections:C},selectedSectionId:B.selectedSectionId,selectedSlotId:B.selectedSlotId,selectedSlots:B.selectedSlots,selectionAnchor:B.selectionAnchor,selectedChord:F??null}}),a},selectNextSlotAfter:(e,t)=>{let i=!1;return r(a=>{const o=q4(a.currentSong.sections,e,t);if(!o)return{};const h=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return i=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:h,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),i},setTempo:e=>r(t=>({...xi(t),tempo:e,currentSong:{...t.currentSong,tempo:e}})),setVolume:e=>r({volume:e}),setInstrument:e=>r({instrument:e}),setIsPlaying:e=>r({isPlaying:e}),setPlayingSlot:(e,t)=>r({playingSectionId:e,playingSlotId:t}),toggleLoop:()=>r(e=>({isLooping:!e.isLooping})),toggleMute:()=>r(e=>({isMuted:!e.isMuted})),setTitle:e=>r(t=>({...xi(t),currentSong:{...t.currentSong,title:e}})),loadSong:e=>r(t=>{const i=e.key||"C",a=e.tempo??Ef.tempo;let o=0;if(t.wheelMode==="rotating"){const c=Df.indexOf(i);c!==-1&&(o=-(c*30))}return{...xi(t),currentSong:{...e,tempo:a},selectedKey:i,wheelRotation:o,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>r(e=>({...xi(e),currentSong:{...Ef,id:Ya(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:Ef.tempo,sections:[{id:Ya(),name:"Verse 1",type:"verse",timeSignature:Ts,measures:Array(4).fill(null).map(()=>gh(Ts))},{id:Ya(),name:"Chorus",type:"chorus",timeSignature:Ts,measures:Array(4).fill(null).map(()=>gh(Ts))}]},selectedKey:"C",wheelRotation:0,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:Ef.tempo})),addSection:e=>r(t=>{const i={id:Ya(),name:e.charAt(0).toUpperCase()+e.slice(1),type:e,timeSignature:t.currentSong.timeSignature||Ts,measures:Array(4).fill(null).map(()=>gh(t.currentSong.timeSignature||Ts))};return{...xi(t),currentSong:{...t.currentSong,sections:[...t.currentSong.sections,i]}}}),updateSection:(e,t)=>r(i=>({...xi(i),currentSong:{...i.currentSong,sections:i.currentSong.sections.map(o=>o.id===e?{...o,...t}:o)}})),removeSection:e=>r(t=>{const i=xi(t),{[e]:a,...o}=t.collapsedSections||{};return{...i,currentSong:{...t.currentSong,sections:t.currentSong.sections.filter(h=>h.id!==e)},collapsedSections:o}}),duplicateSection:e=>r(t=>{const i=t.currentSong.sections.find(f=>f.id===e);if(!i)return{};const a=xi(t),o={...i,id:Ya(),name:`${i.name} (Copy)`,timeSignature:i.timeSignature||t.currentSong.timeSignature||Ts,measures:i.measures.map(f=>({...f,id:Ya(),beats:f.beats.map(d=>({...d,id:Ya()}))}))},h=t.currentSong.sections.findIndex(f=>f.id===e),c=[...t.currentSong.sections];return c.splice(h+1,0,o),{...a,currentSong:{...t.currentSong,sections:c}}}),reorderSections:e=>r(t=>({...xi(t),currentSong:{...t.currentSong,sections:e}})),setSectionMeasures:(e,t)=>r(i=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=i.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||i.currentSong.timeSignature||Ts;let m=[...f.measures];if(m.length<a)for(;m.length<a;)m.push(gh(d));else m.length>a&&(m=m.slice(0,a));return{...f,measures:m}}),h=hh(o,i.selectedSectionId,i.selectedSlotId,i.selectedSlots,i.selectionAnchor);return{...xi(i),currentSong:{...i.currentSong,sections:o},...h}}),setSectionTimeSignature:(e,t)=>r(i=>{const a=i.currentSong.sections.map(c=>{if(c.id!==e)return c;const f=Fm(t);return{...c,timeSignature:t,measures:c.measures.map(d=>({...d,beats:[{id:Ya(),chord:null,duration:f}]}))}}),o=hh(a,i.selectedSectionId,i.selectedSlotId,i.selectedSlots,i.selectionAnchor);return{...xi(i),currentSong:{...i.currentSong,sections:a},...o}}),setMeasureSubdivision:(e,t,i)=>r(a=>{const o=Math.max(1,Math.min(16,Math.round(i))),h=a.currentSong.sections.map(d=>{if(d.id!==e)return d;const m=d.timeSignature||a.currentSong.timeSignature||Ts,y=Fm(m);return{...d,measures:d.measures.map(w=>{if(w.id!==t)return w;const v=y/o,S=Array.from({length:o}).map((N,T)=>{const C=w.beats[T];return{id:C?.id??Ya(),chord:C?.chord??null,duration:v}});return{...w,beats:S}})}}),c=hh(h,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...xi(a),currentSong:{...a.currentSong,sections:h},...c}}),addChordToSlot:(e,t,i)=>r(a=>{const o=xi(a),h=a.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==i?d:{...d,chord:e})}))});return{...o,currentSong:{...a.currentSong,sections:h}}}),clearSlot:(e,t)=>r(i=>{if(!i.currentSong.sections.some(c=>c.id===e&&c.measures.some(f=>f.beats.some(d=>d.id===t&&d.chord))))return{};const o=xi(i),h=i.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==t?d:{...d,chord:null})}))});return{...o,currentSong:{...i.currentSong,sections:h}}}),clearTimeline:()=>r(e=>{if(!e.currentSong.sections.some(o=>o.measures.some(h=>h.beats.some(c=>c.chord!==null))))return{};const i=xi(e),a=e.currentSong.sections.map(o=>({...o,measures:o.measures.map(h=>({...h,beats:h.beats.map(c=>({...c,chord:null}))}))}));return{...i,currentSong:{...e.currentSong,sections:a},selectedChord:null}}),moveChord:(e,t,i,a)=>r(o=>{let h=null,c=null;if(o.currentSong.sections.forEach(m=>{m.measures.forEach(y=>{y.beats.forEach(w=>{w.id===t&&(h=w.chord),w.id===a&&(c=w.chord)})})}),!h&&!c)return{};const f=xi(o),d=o.currentSong.sections.map(m=>({...m,measures:m.measures.map(y=>({...y,beats:y.beats.map(w=>w.id===t?{...w,chord:c}:w.id===a?{...w,chord:h}:w)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>r(e=>{if(!e.historyPast.length)return{};const t=e.historyPast[e.historyPast.length-1],i=e.historyPast.slice(0,-1),a=[Of(e.currentSong),...e.historyFuture].slice(0,Bm),o=Y5(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Of(t),historyPast:i,historyFuture:a,canUndo:i.length>0,canRedo:a.length>0,tempo:t.tempo??e.tempo,...o}}),redo:()=>r(e=>{if(!e.historyFuture.length)return{};const t=e.historyFuture[0],i=e.historyFuture.slice(1),a=[...e.historyPast,Of(e.currentSong)].slice(-Bm),o=Y5(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Of(t),historyPast:a,historyFuture:i,canUndo:a.length>0,canRedo:i.length>0,tempo:t.tempo??e.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:r=>({currentSong:r.currentSong,tempo:r.tempo,volume:r.volume,instrument:r.instrument,isMuted:r.isMuted})}));function cc(r,e,t,i){const a=(i-90)*Math.PI/180;return{x:r+t*Math.cos(a),y:e+t*Math.sin(a)}}function z4(r,e,t,i,a){const o=cc(r,e,t,i),h=cc(r,e,t,a),c=a-i<=180?"0":"1";return["M",o.x,o.y,"A",t,t,0,c,1,h.x,h.y].join(" ")}function P4(r,e,t,i,a,o){const h=cc(r,e,i,o),c=cc(r,e,i,a),f=cc(r,e,t,o),d=cc(r,e,t,a),m=o-a<=180?"0":"1";return["M",h.x,h.y,"A",i,i,0,m,0,c.x,c.y,"L",d.x,d.y,"A",t,t,0,m,1,f.x,f.y,"Z"].join(" ")}function rx(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=rx(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function ui(){for(var r,e,t=0,i="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=rx(r))&&(i&&(i+=" "),i+=e);return i}const ix="15.1.22",X5=(r,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:r}),Z5=(r,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:r}),qm=(r,e)=>({startTime:e,type:"setValue",value:r}),sx=(r,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:r}),ax=(r,e,{startTime:t,target:i,timeConstant:a})=>i+(e-i)*Math.exp((t-r)/a),vh=r=>r.type==="exponentialRampToValue",q1=r=>r.type==="linearRampToValue",oc=r=>vh(r)||q1(r),mg=r=>r.type==="setValue",pl=r=>r.type==="setValueCurve",z1=(r,e,t,i)=>{const a=r[e];return a===void 0?i:oc(a)||mg(a)?a.value:pl(a)?a.values[a.values.length-1]:ax(t,z1(r,e-1,a.startTime,i),a)},$5=(r,e,t,i,a)=>t===void 0?[i.insertTime,a]:oc(t)?[t.endTime,t.value]:mg(t)?[t.startTime,t.value]:pl(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,z1(r,e-1,t.startTime,a)],zm=r=>r.type==="cancelAndHold",Pm=r=>r.type==="cancelScheduledValues",ic=r=>zm(r)||Pm(r)?r.cancelTime:vh(r)||q1(r)?r.endTime:r.startTime,K5=(r,e,t,{endTime:i,value:a})=>t===a?a:0<t&&0<a||t<0&&a<0?t*(a/t)**((r-e)/(i-e)):0,Q5=(r,e,t,{endTime:i,value:a})=>t+(r-e)/(i-e)*(a-t),U4=(r,e)=>{const t=Math.floor(e),i=Math.ceil(e);return t===i?r[t]:(1-(e-t))*r[t]+(1-(i-e))*r[i]},H4=(r,{duration:e,startTime:t,values:i})=>{const a=(r-t)/e*(i.length-1);return U4(i,a)},h1=r=>r.type==="setTarget";class G4{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=ic(e);if(zm(e)||Pm(e)){const i=this._automationEvents.findIndex(o=>Pm(e)&&pl(o)?o.startTime+o.duration>=t:ic(o)>=t),a=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),zm(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&oc(a)){if(o!==void 0&&h1(o))throw new Error("The internal list is malformed.");const h=o===void 0?a.insertTime:pl(o)?o.startTime+o.duration:ic(o),c=o===void 0?this._defaultValue:pl(o)?o.values[o.values.length-1]:o.value,f=vh(a)?K5(t,h,c,a):Q5(t,h,c,a),d=vh(a)?X5(f,t,this._currenTime):Z5(f,t,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&h1(o)&&this._automationEvents.push(qm(this.getValue(t),t)),o!==void 0&&pl(o)&&o.startTime+o.duration>t){const h=t-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(h*c)),d=h/(f-1)*c,m=o.values.slice(0,f);if(d<1)for(let y=1;y<f;y+=1){const w=d*y%1;m[y]=o.values[y-1]*(1-w)+o.values[y]*w}this._automationEvents[this._automationEvents.length-1]=sx(m,o.startTime,h)}}}else{const i=this._automationEvents.findIndex(h=>ic(h)>t),a=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(a!==void 0&&pl(a)&&ic(a)+a.duration>t)return!1;const o=vh(e)?X5(e.value,e.endTime,this._currenTime):q1(e)?Z5(e.value,t,this._currenTime):e;if(i===-1)this._automationEvents.push(o);else{if(pl(e)&&t+e.duration>ic(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,o)}}return!0}flush(e){const t=this._automationEvents.findIndex(i=>ic(i)>e);if(t>1){const i=this._automationEvents.slice(t-1),a=i[0];h1(a)&&i.unshift(qm(z1(this._automationEvents,t-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=i}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(h=>ic(h)>e),i=this._automationEvents[t],a=(t===-1?this._automationEvents.length:t)-1,o=this._automationEvents[a];if(o!==void 0&&h1(o)&&(i===void 0||!oc(i)||i.insertTime>e))return ax(e,z1(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&mg(o)&&(i===void 0||!oc(i)))return o.value;if(o!==void 0&&pl(o)&&(i===void 0||!oc(i)||o.startTime+o.duration>e))return e<o.startTime+o.duration?H4(e,o):o.values[o.values.length-1];if(o!==void 0&&oc(o)&&(i===void 0||!oc(i)))return o.value;if(i!==void 0&&vh(i)){const[h,c]=$5(this._automationEvents,a,o,i,this._defaultValue);return K5(e,h,c,i)}if(i!==void 0&&q1(i)){const[h,c]=$5(this._automationEvents,a,o,i,this._defaultValue);return Q5(e,h,c,i)}return this._defaultValue}}const W4=r=>({cancelTime:r,type:"cancelAndHold"}),Y4=r=>({cancelTime:r,type:"cancelScheduledValues"}),X4=(r,e)=>({endTime:e,type:"exponentialRampToValue",value:r}),Z4=(r,e)=>({endTime:e,type:"linearRampToValue",value:r}),$4=(r,e,t)=>({startTime:e,target:r,timeConstant:t,type:"setTarget"}),K4=()=>new DOMException("","AbortError"),Q4=r=>(e,t,[i,a,o],h)=>{r(e[a],[t,i,o],c=>c[0]===t&&c[1]===i,h)},J4=r=>(e,t,i)=>{const a=[];for(let o=0;o<i.numberOfInputs;o+=1)a.push(new Set);r.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},eS=r=>(e,t)=>{r.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Eh=new WeakSet,ox=new WeakMap,gg=new WeakMap,lx=new WeakMap,vg=new WeakMap,vp=new WeakMap,cx=new WeakMap,Um=new WeakMap,Hm=new WeakMap,Gm=new WeakMap,ux={construct(){return ux}},tS=r=>{try{const e=new Proxy(r,ux);new e}catch{return!1}return!0},J5=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,eb=(r,e)=>{const t=[];let i=r.replace(/^[\s]+/,""),a=i.match(J5);for(;a!==null;){const o=a[1].slice(1,-1),h=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());t.push(h),i=i.slice(a[0].length).replace(/^[\s]+/,""),a=i.match(J5)}return[t.join(";"),i]},tb=r=>{if(r!==void 0&&!Array.isArray(r))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},nb=r=>{if(!tS(r))throw new TypeError("The given value for processorCtor should be a constructor.");if(r.prototype===null||typeof r.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},nS=(r,e,t,i,a,o,h,c,f,d,m,y,w)=>{let v=0;return(S,N,T={credentials:"omit"})=>{const C=m.get(S);if(C!==void 0&&C.has(N))return Promise.resolve();const I=d.get(S);if(I!==void 0){const B=I.get(N);if(B!==void 0)return B}const R=o(S),q=R.audioWorklet===void 0?a(N).then(([B,Z])=>{const[F,j]=eb(B,Z),V=`${F};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${j}
})})(window,'_AWGS')`;return t(V)}).then(()=>{const B=w._AWGS.pop();if(B===void 0)throw new SyntaxError;i(R.currentTime,R.sampleRate,()=>B(class{},void 0,(Z,F)=>{if(Z.trim()==="")throw e();const j=Hm.get(R);if(j!==void 0){if(j.has(Z))throw e();nb(F),tb(F.parameterDescriptors),j.set(Z,F)}else nb(F),tb(F.parameterDescriptors),Hm.set(R,new Map([[Z,F]]))},R.sampleRate,void 0,void 0))}):Promise.all([a(N),Promise.resolve(r(y,y))]).then(([[B,Z],F])=>{const j=v+1;v=j;const[V,H]=eb(B,Z),$=`${V};((AudioWorkletProcessor,registerProcessor)=>{${H}
})(${F?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${F?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${F?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${j}',class extends AudioWorkletProcessor{process(){return !1}})`,he=new Blob([$],{type:"application/javascript; charset=utf-8"}),Q=URL.createObjectURL(he);return R.audioWorklet.addModule(Q,T).then(()=>{if(c(R))return R;const K=h(R);return K.audioWorklet.addModule(Q,T).then(()=>K)}).then(K=>{if(f===null)throw new SyntaxError;try{new f(K,`__sac${j}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(Q))});return I===void 0?d.set(S,new Map([[N,q]])):I.set(N,q),q.then(()=>{const B=m.get(S);B===void 0?m.set(S,new Set([N])):B.add(N)}).finally(()=>{const B=d.get(S);B!==void 0&&B.delete(N)}),q}},Qa=(r,e)=>{const t=r.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},bp=(r,e)=>{const t=Array.from(r).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[i]=t;return r.delete(i),i},hx=(r,e,t,i)=>{const a=Qa(r,e),o=bp(a,h=>h[0]===t&&h[1]===i);return a.size===0&&r.delete(e),o},ed=r=>Qa(cx,r),kh=r=>{if(Eh.has(r))throw new Error("The AudioNode is already stored.");Eh.add(r),ed(r).forEach(e=>e(!0))},fx=r=>"port"in r,td=r=>{if(!Eh.has(r))throw new Error("The AudioNode is not stored.");Eh.delete(r),ed(r).forEach(e=>e(!1))},Wm=(r,e)=>{!fx(r)&&e.every(t=>t.size===0)&&td(r)},rS=(r,e,t,i,a,o,h,c,f,d,m,y,w)=>{const v=new WeakMap;return(S,N,T,C,I)=>{const{activeInputs:R,passiveInputs:q}=o(N),{outputs:B}=o(S),Z=c(S),F=j=>{const V=f(N),H=f(S);if(j){const k=hx(q,S,T,C);r(R,S,k,!1),!I&&!y(S)&&t(H,V,T,C),w(N)&&kh(N)}else{const k=i(R,S,T,C);e(q,C,k,!1),!I&&!y(S)&&a(H,V,T,C);const D=h(N);if(D===0)m(N)&&Wm(N,R);else{const ne=v.get(N);ne!==void 0&&clearTimeout(ne),v.set(N,setTimeout(()=>{m(N)&&Wm(N,R)},D*1e3))}}};return d(B,[N,T,C],j=>j[0]===N&&j[1]===T&&j[2]===C,!0)?(Z.add(F),m(S)?r(R,S,[T,C,F],!0):e(q,C,[S,T,F],!0),!0):!1}},iS=r=>(e,t,[i,a,o],h)=>{const c=e.get(i);c===void 0?e.set(i,new Set([[a,t,o]])):r(c,[a,t,o],f=>f[0]===a&&f[1]===t,h)},sS=r=>(e,t)=>{const i=r(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(i).connect(e.destination);const a=()=>{t.removeEventListener("ended",a),t.disconnect(i),i.disconnect()};t.addEventListener("ended",a)},aS=r=>(e,t)=>{r(e).add(t)},oS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},lS=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...oS,...f},y=i(d,m),w=o(d)?e():null;super(c,!1,y,w),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},Wi=(r,e)=>r.context===e,cS=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Wi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=r(h,d)}return i.set(h,c),await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},P1=r=>{try{r.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Ro=()=>new DOMException("","IndexSizeError"),bg=r=>{r.getChannelData=(e=>t=>{try{return e.call(r,t)}catch(i){throw i.code===12?Ro():i}})(r.getChannelData)},uS={numberOfChannels:1},hS=(r,e,t,i,a,o,h,c)=>{let f=null;return class dx{constructor(m){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:w,sampleRate:v}={...uS,...m};f===null&&(f=new a(1,1,44100));const S=i!==null&&e(o,o)?new i({length:y,numberOfChannels:w,sampleRate:v}):f.createBuffer(w,y,v);if(S.numberOfChannels===0)throw t();return typeof S.copyFromChannel!="function"?(h(S),bg(S)):e(P1,()=>P1(S))||c(S),r.add(S),S}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===dx.prototype||r.has(m)}}},Es=-34028234663852886e22,rs=-Es,gl=r=>Eh.has(r),fS={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},dS=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),w={...fS,...m},v=a(y,w),S=h(y),N=S?e():null;super(d,!1,v,N),this._audioBufferSourceNodeRenderer=N,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=t(this,S,v.playbackRate,rs,Es)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const m=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=m;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===m?d:y}get playbackRate(){return this._playbackRate}start(d=0,m=0,y){if(this._nativeAudioBufferSourceNode.start(d,m,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[d,m]:[d,m,y]),this.context.state!=="closed"){kh(this);const w=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",w),gl(this)&&td(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",w)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},pS=(r,e,t,i,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let y=t(d);const w=Wi(y,m);if(!w){const v={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=e(m,v),h!==null&&y.start(...h),c!==null&&y.stop(c)}return o.set(m,y),w?await r(m,d.playbackRate,y.playbackRate):await i(m,d.playbackRate,y.playbackRate),await a(d,m,y),y};return{set start(d){h=d},set stop(d){c=d},render(d,m){const y=o.get(m);return y!==void 0?Promise.resolve(y):f(d,m)}}},mS=r=>"playbackRate"in r,gS=r=>"frequency"in r&&"gain"in r,vS=r=>"offset"in r,bS=r=>!("frequency"in r)&&"gain"in r,yS=r=>"detune"in r&&"frequency"in r&&!("gain"in r),xS=r=>"pan"in r,is=r=>Qa(ox,r),nd=r=>Qa(lx,r),Ym=(r,e)=>{const{activeInputs:t}=is(r);t.forEach(a=>a.forEach(([o])=>{e.includes(r)||Ym(o,[...e,r])}));const i=mS(r)?[r.playbackRate]:fx(r)?Array.from(r.parameters.values()):gS(r)?[r.Q,r.detune,r.frequency,r.gain]:vS(r)?[r.offset]:bS(r)?[r.gain]:yS(r)?[r.detune,r.frequency]:xS(r)?[r.pan]:[];for(const a of i){const o=nd(a);o!==void 0&&o.activeInputs.forEach(([h])=>Ym(h,e))}gl(r)&&td(r)},px=r=>{Ym(r.destination,[])},wS=r=>r===void 0||typeof r=="number"||typeof r=="string"&&(r==="balanced"||r==="interactive"||r==="playback"),_S=(r,e,t,i,a,o,h,c,f)=>class extends r{constructor(m={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new f(m)}catch(S){throw S.code===12&&S.message==="sampleRate is not in range"?t():S}if(y===null)throw i();if(!wS(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&y.sampleRate!==m.sampleRate)throw t();super(y,2);const{latencyHint:w}=m,{sampleRate:v}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:w==="balanced"?512/v:w==="interactive"||w===void 0?256/v:w==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(w*v/128)))*128/v,this._nativeAudioContext=y,f.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const S=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",S)};y.addEventListener("statechange",S)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),px(this)}))}createMediaElementSource(m){return new a(this,{mediaElement:m})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,y)=>{const w=()=>{this._nativeAudioContext.removeEventListener("statechange",w),this._nativeAudioContext.state==="running"?m():this.resume().then(m,y)};this._nativeAudioContext.addEventListener("statechange",w)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?e():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?e():m})}},SS=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),w=h(y),v=a(y,m,w),S=w?e(c):null;super(d,!1,v,S),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},AS=r=>{const e=new WeakMap,t=async(i,a)=>{const o=a.destination;return e.set(a,o),await r(i,a,o),o};return{render(i,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):t(i,a)}}},NS=(r,e,t,i,a,o,h,c)=>(f,d)=>{const m=d.listener,y=()=>{const B=new Float32Array(1),Z=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),F=h(d);let j=!1,V=[0,0,-1,0,1,0],H=[0,0,0];const k=()=>{if(j)return;j=!0;const he=i(d,256,9,0);he.onaudioprocess=({inputBuffer:Q})=>{const K=[o(Q,B,0),o(Q,B,1),o(Q,B,2),o(Q,B,3),o(Q,B,4),o(Q,B,5)];K.some((fe,xe)=>fe!==V[xe])&&(m.setOrientation(...K),V=K);const ce=[o(Q,B,6),o(Q,B,7),o(Q,B,8)];ce.some((fe,xe)=>fe!==H[xe])&&(m.setPosition(...ce),H=ce)},Z.connect(he)},D=he=>Q=>{Q!==V[he]&&(V[he]=Q,m.setOrientation(...V))},ne=he=>Q=>{Q!==H[he]&&(H[he]=Q,m.setPosition(...H))},$=(he,Q,K)=>{const ce=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Q});ce.connect(Z,0,he),ce.start(),Object.defineProperty(ce.offset,"defaultValue",{get(){return Q}});const fe=r({context:f},F,ce.offset,rs,Es);return c(fe,"value",xe=>()=>xe.call(fe),xe=>Y=>{try{xe.call(fe,Y)}catch(L){if(L.code!==9)throw L}k(),F&&K(Y)}),fe.cancelAndHoldAtTime=(xe=>F?()=>{throw a()}:(...Y)=>{const L=xe.apply(fe,Y);return k(),L})(fe.cancelAndHoldAtTime),fe.cancelScheduledValues=(xe=>F?()=>{throw a()}:(...Y)=>{const L=xe.apply(fe,Y);return k(),L})(fe.cancelScheduledValues),fe.exponentialRampToValueAtTime=(xe=>F?()=>{throw a()}:(...Y)=>{const L=xe.apply(fe,Y);return k(),L})(fe.exponentialRampToValueAtTime),fe.linearRampToValueAtTime=(xe=>F?()=>{throw a()}:(...Y)=>{const L=xe.apply(fe,Y);return k(),L})(fe.linearRampToValueAtTime),fe.setTargetAtTime=(xe=>F?()=>{throw a()}:(...Y)=>{const L=xe.apply(fe,Y);return k(),L})(fe.setTargetAtTime),fe.setValueAtTime=(xe=>F?()=>{throw a()}:(...Y)=>{const L=xe.apply(fe,Y);return k(),L})(fe.setValueAtTime),fe.setValueCurveAtTime=(xe=>F?()=>{throw a()}:(...Y)=>{const L=xe.apply(fe,Y);return k(),L})(fe.setValueCurveAtTime),fe};return{forwardX:$(0,0,D(0)),forwardY:$(1,0,D(1)),forwardZ:$(2,-1,D(2)),positionX:$(6,0,ne(0)),positionY:$(7,0,ne(1)),positionZ:$(8,0,ne(2)),upX:$(3,0,D(3)),upY:$(4,1,D(4)),upZ:$(5,0,D(5))}},{forwardX:w,forwardY:v,forwardZ:S,positionX:N,positionY:T,positionZ:C,upX:I,upY:R,upZ:q}=m.forwardX===void 0?y():m;return{get forwardX(){return w},get forwardY(){return v},get forwardZ(){return S},get positionX(){return N},get positionY(){return T},get positionZ(){return C},get upX(){return I},get upY(){return R},get upZ(){return q}}},U1=r=>"context"in r,rd=r=>U1(r[0]),fu=(r,e,t,i)=>{for(const a of r)if(t(a)){if(i)return!1;throw Error("The set contains at least one similar element.")}return r.add(e),!0},rb=(r,e,[t,i],a)=>{fu(r,[e,t,i],o=>o[0]===e&&o[1]===t,a)},ib=(r,[e,t,i],a)=>{const o=r.get(e);o===void 0?r.set(e,new Set([[t,i]])):fu(o,[t,i],h=>h[0]===t,a)},Oh=r=>"inputs"in r,H1=(r,e,t,i)=>{if(Oh(e)){const a=e.inputs[i];return r.connect(a,t,0),[a,t,0]}return r.connect(e,t,i),[e,t,i]},mx=(r,e,t)=>{for(const i of r)if(i[0]===e&&i[1]===t)return r.delete(i),i;return null},CS=(r,e,t)=>bp(r,i=>i[0]===e&&i[1]===t),gx=(r,e)=>{if(!ed(r).delete(e))throw new Error("Missing the expected event listener.")},vx=(r,e,t)=>{const i=Qa(r,e),a=bp(i,o=>o[0]===t);return i.size===0&&r.delete(e),a},G1=(r,e,t,i)=>{Oh(e)?r.disconnect(e.inputs[i],t,0):r.disconnect(e,t,i)},mr=r=>Qa(gg,r),Uf=r=>Qa(vg,r),lu=r=>Um.has(r),E1=r=>!Eh.has(r),sb=(r,e)=>new Promise(t=>{if(e!==null)t(!0);else{const i=r.createScriptProcessor(256,1,1),a=r.createGain(),o=r.createBuffer(1,2,44100),h=o.getChannelData(0);h[0]=1,h[1]=1;const c=r.createBufferSource();c.buffer=o,c.loop=!0,c.connect(i).connect(r.destination),c.connect(a),c.disconnect(a),i.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,m=>m===1)?t(!0):t(!1),c.stop(),i.onaudioprocess=null,c.disconnect(i),i.disconnect(r.destination)},c.start()}}),cm=(r,e)=>{const t=new Map;for(const i of r)for(const a of i){const o=t.get(a);t.set(a,o===void 0?1:o+1)}t.forEach((i,a)=>e(a,i))},W1=r=>"context"in r,TS=r=>{const e=new Map;r.connect=(t=>(i,a=0,o=0)=>{const h=W1(i)?t(i,a,o):t(i,a),c=e.get(i);return c===void 0?e.set(i,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),h})(r.connect.bind(r)),r.disconnect=(t=>(i,a,o)=>{if(t.apply(r),i===void 0)e.clear();else if(typeof i=="number")for(const[h,c]of e){const f=c.filter(d=>d.output!==i);f.length===0?e.delete(h):e.set(h,f)}else if(e.has(i))if(a===void 0)e.delete(i);else{const h=e.get(i);if(h!==void 0){const c=h.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?e.delete(i):e.set(i,c)}}for(const[h,c]of e)c.forEach(f=>{W1(h)?r.connect(h,f.output,f.input):r.connect(h,f.output)})})(r.disconnect)},ES=(r,e,t,i)=>{const{activeInputs:a,passiveInputs:o}=nd(e),{outputs:h}=is(r),c=ed(r),f=d=>{const m=mr(r),y=Uf(e);if(d){const w=vx(o,r,t);rb(a,r,w,!1),!i&&!lu(r)&&m.connect(y,t)}else{const w=CS(a,r,t);ib(o,w,!1),!i&&!lu(r)&&m.disconnect(y,t)}};return fu(h,[e,t],d=>d[0]===e&&d[1]===t,!0)?(c.add(f),gl(r)?rb(a,r,[t,f],!0):ib(o,[r,t,f],!0),!0):!1},kS=(r,e,t,i)=>{const{activeInputs:a,passiveInputs:o}=is(e),h=mx(a[i],r,t);return h===null?[hx(o,r,t,i)[2],!1]:[h[2],!0]},MS=(r,e,t)=>{const{activeInputs:i,passiveInputs:a}=nd(e),o=mx(i,r,t);return o===null?[vx(a,r,t)[1],!1]:[o[2],!0]},yg=(r,e,t,i,a)=>{const[o,h]=kS(r,t,i,a);if(o!==null&&(gx(r,o),h&&!e&&!lu(r)&&G1(mr(r),mr(t),i,a)),gl(t)){const{activeInputs:c}=is(t);Wm(t,c)}},xg=(r,e,t,i)=>{const[a,o]=MS(r,t,i);a!==null&&(gx(r,a),o&&!e&&!lu(r)&&mr(r).disconnect(Uf(t),i))},LS=(r,e)=>{const t=is(r),i=[];for(const a of t.outputs)rd(a)?yg(r,e,...a):xg(r,e,...a),i.push(a[0]);return t.outputs.clear(),i},OS=(r,e,t)=>{const i=is(r),a=[];for(const o of i.outputs)o[1]===t&&(rd(o)?yg(r,e,...o):xg(r,e,...o),a.push(o[0]),i.outputs.delete(o));return a},jS=(r,e,t,i,a)=>{const o=is(r);return Array.from(o.outputs).filter(h=>h[0]===t&&(i===void 0||h[1]===i)&&(a===void 0||h[2]===a)).map(h=>(rd(h)?yg(r,e,...h):xg(r,e,...h),o.outputs.delete(h),h[0]))},DS=(r,e,t,i,a,o,h,c,f,d,m,y,w,v,S,N)=>class extends d{constructor(C,I,R,q){super(R),this._context=C,this._nativeAudioNode=R;const B=m(C);y(B)&&t(sb,()=>sb(B,N))!==!0&&TS(R),gg.set(this,R),cx.set(this,new Set),C.state!=="closed"&&I&&kh(this),r(this,q,R)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,I=0,R=0){if(I<0||I>=this._nativeAudioNode.numberOfOutputs)throw a();const q=m(this._context),B=S(q);if(w(C)||v(C))throw o();if(U1(C)){const j=mr(C);try{const H=H1(this._nativeAudioNode,j,I,R),k=E1(this);(B||k)&&this._nativeAudioNode.disconnect(...H),this.context.state!=="closed"&&!k&&E1(C)&&kh(C)}catch(H){throw H.code===12?o():H}if(e(this,C,I,R,B)){const H=f([this],C);cm(H,i(B))}return C}const Z=Uf(C);if(Z.name==="playbackRate"&&Z.maxValue===1024)throw h();try{this._nativeAudioNode.connect(Z,I),(B||E1(this))&&this._nativeAudioNode.disconnect(Z,I)}catch(j){throw j.code===12?o():j}if(ES(this,C,I,B)){const j=f([this],C);cm(j,i(B))}}disconnect(C,I,R){let q;const B=m(this._context),Z=S(B);if(C===void 0)q=LS(this,Z);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw a();q=OS(this,Z,C)}else{if(I!==void 0&&(I<0||I>=this.numberOfOutputs)||U1(C)&&R!==void 0&&(R<0||R>=C.numberOfInputs))throw a();if(q=jS(this,Z,C,I,R),q.length===0)throw o()}for(const F of q){const j=f([this],F);cm(j,c)}}},RS=(r,e,t,i,a,o,h,c,f,d,m,y,w)=>(v,S,N,T=null,C=null)=>{const I=N.value,R=new G4(I),q=S?i(R):null,B={get defaultValue(){return I},get maxValue(){return T===null?N.maxValue:T},get minValue(){return C===null?N.minValue:C},get value(){return N.value},set value(Z){N.value=Z,B.setValueAtTime(Z,v.context.currentTime)},cancelAndHoldAtTime(Z){if(typeof N.cancelAndHoldAtTime=="function")q===null&&R.flush(v.context.currentTime),R.add(a(Z)),N.cancelAndHoldAtTime(Z);else{const F=Array.from(R).pop();q===null&&R.flush(v.context.currentTime),R.add(a(Z));const j=Array.from(R).pop();N.cancelScheduledValues(Z),F!==j&&j!==void 0&&(j.type==="exponentialRampToValue"?N.exponentialRampToValueAtTime(j.value,j.endTime):j.type==="linearRampToValue"?N.linearRampToValueAtTime(j.value,j.endTime):j.type==="setValue"?N.setValueAtTime(j.value,j.startTime):j.type==="setValueCurve"&&N.setValueCurveAtTime(j.values,j.startTime,j.duration))}return B},cancelScheduledValues(Z){return q===null&&R.flush(v.context.currentTime),R.add(o(Z)),N.cancelScheduledValues(Z),B},exponentialRampToValueAtTime(Z,F){if(Z===0)throw new RangeError;if(!Number.isFinite(F)||F<0)throw new RangeError;const j=v.context.currentTime;return q===null&&R.flush(j),Array.from(R).length===0&&(R.add(d(I,j)),N.setValueAtTime(I,j)),R.add(h(Z,F)),N.exponentialRampToValueAtTime(Z,F),B},linearRampToValueAtTime(Z,F){const j=v.context.currentTime;return q===null&&R.flush(j),Array.from(R).length===0&&(R.add(d(I,j)),N.setValueAtTime(I,j)),R.add(c(Z,F)),N.linearRampToValueAtTime(Z,F),B},setTargetAtTime(Z,F,j){return q===null&&R.flush(v.context.currentTime),R.add(f(Z,F,j)),N.setTargetAtTime(Z,F,j),B},setValueAtTime(Z,F){return q===null&&R.flush(v.context.currentTime),R.add(d(Z,F)),N.setValueAtTime(Z,F),B},setValueCurveAtTime(Z,F,j){const V=Z instanceof Float32Array?Z:new Float32Array(Z);if(y!==null&&y.name==="webkitAudioContext"){const H=F+j,k=v.context.sampleRate,D=Math.ceil(F*k),ne=Math.floor(H*k),$=ne-D,he=new Float32Array($);for(let K=0;K<$;K+=1){const ce=(V.length-1)/j*((D+K)/k-F),fe=Math.floor(ce),xe=Math.ceil(ce);he[K]=fe===xe?V[fe]:(1-(ce-fe))*V[fe]+(1-(xe-ce))*V[xe]}q===null&&R.flush(v.context.currentTime),R.add(m(he,F,j)),N.setValueCurveAtTime(he,F,j);const Q=ne/k;Q<H&&w(B,he[he.length-1],Q),w(B,V[V.length-1],H)}else q===null&&R.flush(v.context.currentTime),R.add(m(V,F,j)),N.setValueCurveAtTime(V,F,j);return B}};return t.set(B,N),e.set(B,v),r(B,q),B},IS=r=>({replay(e){for(const t of r)if(t.type==="exponentialRampToValue"){const{endTime:i,value:a}=t;e.exponentialRampToValueAtTime(a,i)}else if(t.type==="linearRampToValue"){const{endTime:i,value:a}=t;e.linearRampToValueAtTime(a,i)}else if(t.type==="setTarget"){const{startTime:i,target:a,timeConstant:o}=t;e.setTargetAtTime(a,i,o)}else if(t.type==="setValue"){const{startTime:i,value:a}=t;e.setValueAtTime(a,i)}else if(t.type==="setValueCurve"){const{duration:i,startTime:a,values:o}=t;e.setValueCurveAtTime(o,a,i)}else throw new Error("Can't apply an unknown automation.")}});class bx{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((i,a)=>e.call(t,i,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const VS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},FS=(r,e,t,i,a,o,h,c,f,d,m,y,w,v)=>class extends e{constructor(N,T,C){var I;const R=c(N),q=f(R),B=m({...VS,...C});w(B);const Z=Hm.get(R),F=Z?.get(T),j=q||R.state!=="closed"?R:(I=h(R))!==null&&I!==void 0?I:R,V=a(j,q?null:N.baseLatency,d,T,F,B),H=q?i(T,B,F):null;super(N,!0,V,H);const k=[];V.parameters.forEach((ne,$)=>{const he=t(this,q,ne);k.push([$,he])}),this._nativeAudioWorkletNode=V,this._onprocessorerror=null,this._parameters=new bx(k),q&&r(R,this);const{activeInputs:D}=o(this);y(V,D)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(N){const T=typeof N=="function"?v(this,N):null;this._nativeAudioWorkletNode.onprocessorerror=T;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===T?N:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Y1(r,e,t,i,a){if(typeof r.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),r.copyFromChannel(e[t],i,a);else{const o=r.getChannelData(i);if(e[t].byteLength===0)e[t]=o.slice(a,a+128);else{const h=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(h)}}}const yx=(r,e,t,i,a)=>{typeof r.copyToChannel=="function"?e[t].byteLength!==0&&r.copyToChannel(e[t],i,a):e[t].byteLength!==0&&r.getChannelData(i).set(e[t],a)},X1=(r,e)=>{const t=[];for(let i=0;i<r;i+=1){const a=[],o=typeof e=="number"?e:e[i];for(let h=0;h<o;h+=1)a.push(new Float32Array(128));t.push(a)}return t},BS=(r,e)=>{const t=Qa(Gm,r),i=mr(e);return Qa(t,i)},qS=async(r,e,t,i,a,o,h)=>{const c=e===null?Math.ceil(r.context.length/128)*128:e.length,f=i.channelCount*i.numberOfInputs,d=a.reduce((T,C)=>T+C,0),m=d===0?null:t.createBuffer(d,c,t.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const y=is(r),w=await BS(t,r),v=X1(i.numberOfInputs,i.channelCount),S=X1(i.numberOfOutputs,a),N=Array.from(r.parameters.keys()).reduce((T,C)=>({...T,[C]:new Float32Array(128)}),{});for(let T=0;T<c;T+=128){if(i.numberOfInputs>0&&e!==null)for(let C=0;C<i.numberOfInputs;C+=1)for(let I=0;I<i.channelCount;I+=1)Y1(e,v[C],I,I,T);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:C},I)=>{Y1(e,N,C,f+I,T)});for(let C=0;C<i.numberOfInputs;C+=1)for(let I=0;I<a[C];I+=1)S[C][I].byteLength===0&&(S[C][I]=new Float32Array(128));try{const C=v.map((R,q)=>y.activeInputs[q].size===0?[]:R),I=h(T/t.sampleRate,t.sampleRate,()=>w.process(C,S,N));if(m!==null)for(let R=0,q=0;R<i.numberOfOutputs;R+=1){for(let B=0;B<a[R];B+=1)yx(m,S[R],B,q+B,T);q+=a[R]}if(!I)break}catch(C){r.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return m},zS=(r,e,t,i,a,o,h,c,f,d,m,y,w,v,S,N)=>(T,C,I)=>{const R=new WeakMap;let q=null;const B=async(Z,F)=>{let j=m(Z),V=null;const H=Wi(j,F),k=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(y===null){const D=k.reduce((Q,K)=>Q+K,0),ne=a(F,{channelCount:Math.max(1,D),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,D)}),$=[];for(let Q=0;Q<Z.numberOfOutputs;Q+=1)$.push(i(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:k[Q]}));const he=h(F,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});he.connect=e.bind(null,$),he.disconnect=f.bind(null,$),V=[ne,$,he]}else H||(j=new y(F,T));if(R.set(F,V===null?j:V[2]),V!==null){if(q===null){if(I===void 0)throw new Error("Missing the processor constructor.");if(w===null)throw new Error("Missing the native OfflineAudioContext constructor.");const K=Z.channelCount*Z.numberOfInputs,ce=I.parameterDescriptors===void 0?0:I.parameterDescriptors.length,fe=K+ce;q=qS(Z,fe===0?null:await(async()=>{const Y=new w(fe,Math.ceil(Z.context.length/128)*128,F.sampleRate),L=[],z=[];for(let se=0;se<C.numberOfInputs;se+=1)L.push(h(Y,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),z.push(a(Y,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const J=await Promise.all(Array.from(Z.parameters.values()).map(async se=>{const de=o(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:se.value});return await v(Y,se,de.offset),de})),ie=i(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,K+ce)});for(let se=0;se<C.numberOfInputs;se+=1){L[se].connect(z[se]);for(let de=0;de<C.channelCount;de+=1)z[se].connect(ie,de,se*C.channelCount+de)}for(const[se,de]of J.entries())de.connect(ie,0,K+se),de.start(0);return ie.connect(Y.destination),await Promise.all(L.map(se=>S(Z,Y,se))),N(Y)})(),F,C,k,I,d)}const D=await q,ne=t(F,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,he,Q]=V;D!==null&&(ne.buffer=D,ne.start(0)),ne.connect($);for(let K=0,ce=0;K<Z.numberOfOutputs;K+=1){const fe=he[K];for(let xe=0;xe<k[K];xe+=1)$.connect(fe,ce+xe,xe);ce+=k[K]}return Q}if(H)for(const[D,ne]of Z.parameters.entries())await r(F,ne,j.parameters.get(D));else for(const[D,ne]of Z.parameters.entries())await v(F,ne,j.parameters.get(D));return await S(Z,F,j),j};return{render(Z,F){c(F,Z);const j=R.get(F);return j!==void 0?Promise.resolve(j):B(Z,F)}}},PS=(r,e,t,i,a,o,h,c,f,d,m,y,w,v,S,N,T,C,I,R)=>class extends S{constructor(B,Z){super(B,Z),this._nativeContext=B,this._audioWorklet=r===void 0?void 0:{addModule:(F,j)=>r(this,F,j)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(B,Z,F){return new t({length:Z,numberOfChannels:B,sampleRate:F})}createBufferSource(){return new i(this)}createChannelMerger(B=6){return new o(this,{numberOfInputs:B})}createChannelSplitter(B=6){return new h(this,{numberOfOutputs:B})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(B=1){return new m(this,{maxDelayTime:B})}createDynamicsCompressor(){return new y(this)}createGain(){return new w(this)}createIIRFilter(B,Z){return new v(this,{feedback:Z,feedforward:B})}createOscillator(){return new N(this)}createPanner(){return new T(this)}createPeriodicWave(B,Z,F={disableNormalization:!1}){return new C(this,{...F,imag:Z,real:B})}createStereoPanner(){return new I(this)}createWaveShaper(){return new R(this)}decodeAudioData(B,Z,F){return d(this._nativeContext,B).then(j=>(typeof Z=="function"&&Z(j),j),j=>{throw typeof F=="function"&&F(j),j})}},US={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},HS=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),w={...US,...m},v=a(y,w),S=h(y),N=S?t():null;super(d,!1,v,N),this._Q=e(this,S,v.Q,rs,Es),this._detune=e(this,S,v.detune,1200*Math.log2(rs),-1200*Math.log2(rs)),this._frequency=e(this,S,v.frequency,d.sampleRate/2,0),this._gain=e(this,S,v.gain,40*Math.log10(rs),Es),this._nativeBiquadFilterNode=v,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,m,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,m,y)}catch(w){throw w.code===11?i():w}if(d.length!==m.length||m.length!==y.length)throw i()}},GS=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Wi(d,f);if(!m){const y={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=e(f,y)}return o.set(f,d),m?(await r(f,c.Q,d.Q),await r(f,c.detune,d.detune),await r(f,c.frequency,d.frequency),await r(f,c.gain,d.gain)):(await i(f,c.Q,d.Q),await i(f,c.detune,d.detune),await i(f,c.frequency,d.frequency),await i(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},WS=(r,e)=>(t,i)=>{const a=e.get(t);if(a!==void 0)return a;const o=r.get(t);if(o!==void 0)return o;try{const h=i();return h instanceof Promise?(r.set(t,h),h.catch(()=>!1).then(c=>(r.delete(t),e.set(t,c),c))):(e.set(t,h),h)}catch{return e.set(t,!1),!1}},YS={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},XS=(r,e,t,i,a)=>class extends r{constructor(h,c){const f=i(h),d={...YS,...c},m=t(f,d),y=a(f)?e():null;super(h,!1,m,y)}},ZS=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Wi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=r(h,d)}return i.set(h,c),await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},$S={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},KS=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=i(c),m=o({...$S,...f}),y=t(d,m),w=a(d)?e():null;super(c,!1,y,w)}},QS=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Wi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=r(h,d)}return i.set(h,c),await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},JS=r=>(e,t,i)=>r(t,e,i),e6=r=>(e,t,i=0,a=0)=>{const o=e[i];if(o===void 0)throw r();return W1(t)?o.connect(t,0,a):o.connect(t,0)},t6=r=>(e,t)=>{const i=r(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return i.buffer=a,i.loop=!0,i.connect(t),i.start(),()=>{i.stop(),i.disconnect(t)}},n6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},r6=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...n6,...d},w=i(m,y),v=o(m),S=v?t():null;super(f,!1,w,S),this._constantSourceNodeRenderer=S,this._nativeConstantSourceNode=w,this._offset=e(this,v,w.offset,rs,Es),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeConstantSourceNode.onended=d;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===d?f:m}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){kh(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),gl(this)&&td(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},i6=(r,e,t,i,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let y=t(d);const w=Wi(y,m);if(!w){const v={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=e(m,v),h!==null&&y.start(h),c!==null&&y.stop(c)}return o.set(m,y),w?await r(m,d.offset,y.offset):await i(m,d.offset,y.offset),await a(d,m,y),y};return{set start(d){h=d},set stop(d){c=d},render(d,m){const y=o.get(m);return y!==void 0?Promise.resolve(y):f(d,m)}}},s6=r=>e=>(r[0]=e,r[0]),a6={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},o6=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=i(c),m={...a6,...f},y=t(d,m),v=a(d)?e():null;super(c,!1,y,v),this._isBufferNullified=!1,this._nativeConvolverNode=y,m.buffer!==null&&o(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},l6=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Wi(c,h)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=r(h,d)}return i.set(h,c),Oh(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},c6=(r,e)=>(t,i,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,i,a)}catch(o){throw o.name==="SyntaxError"?r():o}},u6=()=>new DOMException("","DataCloneError"),ab=r=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(i=>{const a=()=>{t.onmessage=null,e.close(),t.close(),i()};t.onmessage=()=>a();try{e.postMessage(r,[r])}catch{}finally{a()}})},h6=(r,e,t,i,a,o,h,c,f,d,m)=>(y,w)=>{const v=h(y)?y:o(y);if(a.has(w)){const S=t();return Promise.reject(S)}try{a.add(w)}catch{}return e(f,()=>f(v))?v.decodeAudioData(w).then(S=>(ab(w).catch(()=>{}),e(c,()=>c(S))||m(S),r.add(S),S)):new Promise((S,N)=>{const T=async()=>{try{await ab(w)}catch{}},C=I=>{N(I),T()};try{v.decodeAudioData(w,I=>{typeof I.copyFromChannel!="function"&&(d(I),bg(I)),r.add(I),T().then(()=>S(I))},I=>{C(I===null?i():I)})}catch(I){C(I)}})},f6=(r,e,t,i,a,o,h,c)=>(f,d)=>{const m=e.get(f);if(m===void 0)throw new Error("Missing the expected cycle count.");const y=o(f.context),w=c(y);if(m===d){if(e.delete(f),!w&&h(f)){const v=i(f),{outputs:S}=t(f);for(const N of S)if(rd(N)){const T=i(N[0]);r(v,T,N[1],N[2])}else{const T=a(N[0]);v.connect(T,N[1])}}}else e.set(f,m-d)},d6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},p6=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...d6,...d},w=i(m,y),v=o(m),S=v?t(y.maxDelayTime):null;super(f,!1,w,S),this._delayTime=e(this,v,w.delayTime),h(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},m6=(r,e,t,i,a)=>o=>{const h=new WeakMap,c=async(f,d)=>{let m=t(f);const y=Wi(m,d);if(!y){const w={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:o};m=e(d,w)}return h.set(d,m),y?await r(d,f.delayTime,m.delayTime):await i(d,f.delayTime,m.delayTime),await a(f,d,m),m};return{render(f,d){const m=h.get(d);return m!==void 0?Promise.resolve(m):c(f,d)}}},g6=r=>(e,t,i,a)=>r(e[a],o=>o[0]===t&&o[1]===i),v6=r=>(e,t)=>{r(e).delete(t)},b6=r=>"delayTime"in r,y6=(r,e,t)=>function i(a,o){const h=U1(o)?o:t(r,o);if(b6(h))return[];if(a[0]===h)return[a];if(a.includes(h))return[];const{outputs:c}=e(h);return Array.from(c).map(f=>i([...a,h],f[0])).reduce((f,d)=>f.concat(d),[])},f1=(r,e,t)=>{const i=e[t];if(i===void 0)throw r();return i},x6=r=>(e,t=void 0,i=void 0,a=0)=>t===void 0?e.forEach(o=>o.disconnect()):typeof t=="number"?f1(r,e,t).disconnect():W1(t)?i===void 0?e.forEach(o=>o.disconnect(t)):a===void 0?f1(r,e,i).disconnect(t,0):f1(r,e,i).disconnect(t,0,a):i===void 0?e.forEach(o=>o.disconnect(t)):f1(r,e,i).disconnect(t,0),w6={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},_6=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),w={...w6,...m},v=i(y,w),S=h(y),N=S?t():null;super(d,!1,v,N),this._attack=e(this,S,v.attack),this._knee=e(this,S,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=e(this,S,v.ratio),this._release=e(this,S,v.release),this._threshold=e(this,S,v.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=m,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},S6=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Wi(d,f);if(!m){const y={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=e(f,y)}return o.set(f,d),m?(await r(f,c.attack,d.attack),await r(f,c.knee,d.knee),await r(f,c.ratio,d.ratio),await r(f,c.release,d.release),await r(f,c.threshold,d.threshold)):(await i(f,c.attack,d.attack),await i(f,c.knee,d.knee),await i(f,c.ratio,d.ratio),await i(f,c.release,d.release),await i(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},A6=()=>new DOMException("","EncodingError"),N6=r=>e=>new Promise((t,i)=>{if(r===null){i(new SyntaxError);return}const a=r.document.head;if(a===null)i(new SyntaxError);else{const o=r.document.createElement("script"),h=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(h),f=r.onerror,d=()=>{r.onerror=f,URL.revokeObjectURL(c)};r.onerror=(m,y,w,v,S)=>{if(y===c||y===r.location.href&&w===1&&v===1)return d(),i(S),!1;if(f!==null)return f(m,y,w,v,S)},o.onerror=()=>{d(),i(new SyntaxError)},o.onload=()=>{d(),t()},o.src=c,o.type="module",a.appendChild(o)}}),C6=r=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,i,a){if(i!==null){let o=this._listeners.get(i);o===void 0&&(o=r(this,i),typeof i=="function"&&this._listeners.set(i,o)),this._nativeEventTarget.addEventListener(t,o,a)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,i,a){const o=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,a)}},T6=r=>(e,t,i)=>{Object.defineProperties(r,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return i()}finally{r!==null&&(delete r.currentFrame,delete r.currentTime)}},E6=r=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw r()},k6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},M6=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...k6,...f},y=i(d,m),w=o(d),v=w?t():null;super(c,!1,y,v),this._gain=e(this,w,y.gain,rs,Es)}get gain(){return this._gain}},L6=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Wi(d,f);if(!m){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=e(f,y)}return o.set(f,d),m?await r(f,c.gain,d.gain):await i(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},O6=(r,e)=>t=>e(r,t),j6=r=>e=>{const t=r(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},D6=r=>e=>{var t;return(t=r.get(e))!==null&&t!==void 0?t:0},R6=r=>e=>{const t=r(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},I6=r=>e=>r.get(e),Si=()=>new DOMException("","InvalidStateError"),V6=r=>e=>{const t=r.get(e);if(t===void 0)throw Si();return t},F6=(r,e)=>t=>{let i=r.get(t);if(i!==void 0)return i;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),r.set(t,i),i},B6=r=>e=>{const t=r.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},yp=()=>new DOMException("","InvalidAccessError"),q6=r=>{r.getFrequencyResponse=(e=>(t,i,a)=>{if(t.length!==i.length||i.length!==a.length)throw yp();return e.call(r,t,i,a)})(r.getFrequencyResponse)},z6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},P6=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=i(c),m=a(d),y={...z6,...f},w=e(d,m?null:c.baseLatency,y),v=m?t(y.feedback,y.feedforward):null;super(c,!1,w,v),q6(w),this._nativeIIRFilterNode=w,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},xx=(r,e,t,i,a,o,h,c,f,d,m)=>{const y=d.length;let w=c;for(let v=0;v<y;v+=1){let S=t[0]*d[v];for(let N=1;N<a;N+=1){const T=w-N&f-1;S+=t[N]*o[T],S-=r[N]*h[T]}for(let N=a;N<i;N+=1)S+=t[N]*o[w-N&f-1];for(let N=a;N<e;N+=1)S-=r[N]*h[w-N&f-1];o[w]=d[v],h[w]=S,w=w+1&f-1,m[v]=S}return w},U6=(r,e,t,i)=>{const a=t instanceof Float64Array?t:new Float64Array(t),o=i instanceof Float64Array?i:new Float64Array(i),h=a.length,c=o.length,f=Math.min(h,c);if(a[0]!==1){for(let S=0;S<h;S+=1)o[S]/=a[0];for(let S=1;S<c;S+=1)a[S]/=a[0]}const d=32,m=new Float32Array(d),y=new Float32Array(d),w=e.createBuffer(r.numberOfChannels,r.length,r.sampleRate),v=r.numberOfChannels;for(let S=0;S<v;S+=1){const N=r.getChannelData(S),T=w.getChannelData(S);m.fill(0),y.fill(0),xx(a,h,o,c,f,m,y,0,d,N,T)}return w},H6=(r,e,t,i,a)=>(o,h)=>{const c=new WeakMap;let f=null;const d=async(m,y)=>{let w=null,v=e(m);const S=Wi(v,y);if(y.createIIRFilter===void 0?w=r(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):S||(v=y.createIIRFilter(h,o)),c.set(y,w===null?v:w),w!==null){if(f===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const T=new t(m.context.destination.channelCount,m.context.length,y.sampleRate);f=(async()=>{await i(m,T,T.destination);const C=await a(T);return U6(C,y,o,h)})()}const N=await f;return w.buffer=N,w.start(0),w}return await i(m,y,v),v};return{render(m,y){const w=c.get(y);return w!==void 0?Promise.resolve(w):d(m,y)}}},G6=(r,e,t,i,a,o)=>h=>(c,f)=>{const d=r.get(c);if(d===void 0){if(!h&&o(c)){const m=i(c),{outputs:y}=t(c);for(const w of y)if(rd(w)){const v=i(w[0]);e(m,v,w[1],w[2])}else{const v=a(w[0]);m.disconnect(v,w[1])}}r.set(c,f)}else r.set(c,d+f)},W6=(r,e)=>t=>{const i=r.get(t);return e(i)||e(t)},Y6=(r,e)=>t=>r.has(t)||e(t),X6=(r,e)=>t=>r.has(t)||e(t),Z6=(r,e)=>t=>{const i=r.get(t);return e(i)||e(t)},$6=r=>e=>r!==null&&e instanceof r,K6=r=>e=>r!==null&&typeof r.AudioNode=="function"&&e instanceof r.AudioNode,Q6=r=>e=>r!==null&&typeof r.AudioParam=="function"&&e instanceof r.AudioParam,J6=(r,e)=>t=>r(t)||e(t),eA=r=>e=>r!==null&&e instanceof r,tA=r=>r!==null&&r.isSecureContext,nA=(r,e,t,i)=>class extends r{constructor(o,h){const c=t(o),f=e(c,h);if(i(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},rA={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},iA=(r,e,t,i)=>class extends r{constructor(o,h){const c=t(o);if(i(c))throw new TypeError;const f={...rA,...h},d=e(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},sA=(r,e,t,i)=>class extends r{constructor(o,h){const c=t(o),f=e(c,h);if(i(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},aA=(r,e,t)=>class extends r{constructor(a,o){const h=t(a),c=e(h,o);super(a,!0,c,null)}},oA=(r,e,t,i,a,o)=>class extends t{constructor(c,f){super(c),this._nativeContext=c,vp.set(this,c),i(c)&&a.set(c,new Set),this._destination=new r(this,f),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Hf=r=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=r.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},lA=(r,e)=>(t,i,a)=>{const o=new Set;return t.connect=(h=>(c,f=0,d=0)=>{const m=o.size===0;if(e(c))return h.call(t,c,f,d),r(o,[c,f,d],y=>y[0]===c&&y[1]===f&&y[2]===d,!0),m&&i(),c;h.call(t,c,f),r(o,[c,f],y=>y[0]===c&&y[1]===f,!0),m&&i()})(t.connect),t.disconnect=(h=>(c,f,d)=>{const m=o.size>0;if(c===void 0)h.apply(t),o.clear();else if(typeof c=="number"){h.call(t,c);for(const w of o)w[1]===c&&o.delete(w)}else{e(c)?h.call(t,c,f,d):h.call(t,c,f);for(const w of o)w[0]===c&&(f===void 0||w[1]===f)&&(d===void 0||w[2]===d)&&o.delete(w)}const y=o.size===0;m&&y&&a()})(t.disconnect),t},_r=(r,e,t)=>{const i=e[t];i!==void 0&&i!==r[t]&&(r[t]=i)},fi=(r,e)=>{_r(r,e,"channelCount"),_r(r,e,"channelCountMode"),_r(r,e,"channelInterpretation")},ob=r=>typeof r.getFloatTimeDomainData=="function",cA=r=>{r.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);r.getByteTimeDomainData(t);const i=Math.max(t.length,r.fftSize);for(let a=0;a<i;a+=1)e[a]=(t[a]-128)*.0078125;return e}},uA=(r,e)=>(t,i)=>{const a=t.createAnalyser();if(fi(a,i),!(i.maxDecibels>i.minDecibels))throw e();return _r(a,i,"fftSize"),_r(a,i,"maxDecibels"),_r(a,i,"minDecibels"),_r(a,i,"smoothingTimeConstant"),r(ob,()=>ob(a))||cA(a),a},hA=r=>r===null?null:r.hasOwnProperty("AudioBuffer")?r.AudioBuffer:null,Vr=(r,e,t)=>{const i=e[t];i!==void 0&&i!==r[t].value&&(r[t].value=i)},fA=r=>{r.start=(e=>{let t=!1;return(i=0,a=0,o)=>{if(t)throw Si();e.call(r,i,a,o),t=!0}})(r.start)},wg=r=>{r.start=(e=>(t=0,i=0,a)=>{if(typeof a=="number"&&a<0||i<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(r,t,i,a)})(r.start)},_g=r=>{r.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(r,t)})(r.stop)},dA=(r,e,t,i,a,o,h,c,f,d,m)=>(y,w)=>{const v=y.createBufferSource();return fi(v,w),Vr(v,w,"playbackRate"),_r(v,w,"buffer"),_r(v,w,"loop"),_r(v,w,"loopEnd"),_r(v,w,"loopStart"),e(t,()=>t(y))||fA(v),e(i,()=>i(y))||f(v),e(a,()=>a(y))||d(v,y),e(o,()=>o(y))||wg(v),e(h,()=>h(y))||m(v,y),e(c,()=>c(y))||_g(v),r(y,v),v},pA=r=>r===null?null:r.hasOwnProperty("AudioContext")?r.AudioContext:r.hasOwnProperty("webkitAudioContext")?r.webkitAudioContext:null,mA=(r,e)=>(t,i,a)=>{const o=t.destination;if(o.channelCount!==i)try{o.channelCount=i}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:i});const h=r(t,{channelCount:i,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(h,"channelCount",c=>()=>c.call(h),c=>f=>{c.call(h,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),e(h,"channelCountMode",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelCountMode=f}),e(h,"channelInterpretation",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelInterpretation=f}),Object.defineProperty(h,"maxChannelCount",{get:()=>o.maxChannelCount}),h.connect(o),h},gA=r=>r===null?null:r.hasOwnProperty("AudioWorkletNode")?r.AudioWorkletNode:null,vA=r=>{const{port1:e}=new MessageChannel;try{e.postMessage(r)}finally{e.close()}},bA=(r,e,t,i,a)=>(o,h,c,f,d,m)=>{if(c!==null)try{const y=new c(o,f,m),w=new Map;let v=null;if(Object.defineProperties(y,{channelCount:{get:()=>m.channelCount,set:()=>{throw r()}},channelCountMode:{get:()=>"explicit",set:()=>{throw r()}},onprocessorerror:{get:()=>v,set:S=>{typeof v=="function"&&y.removeEventListener("processorerror",v),v=typeof S=="function"?S:null,typeof v=="function"&&y.addEventListener("processorerror",v)}}}),y.addEventListener=(S=>(...N)=>{if(N[0]==="processorerror"){const T=typeof N[1]=="function"?N[1]:typeof N[1]=="object"&&N[1]!==null&&typeof N[1].handleEvent=="function"?N[1].handleEvent:null;if(T!==null){const C=w.get(N[1]);C!==void 0?N[1]=C:(N[1]=I=>{I.type==="error"?(Object.defineProperties(I,{type:{value:"processorerror"}}),T(I)):T(new ErrorEvent(N[0],{...I}))},w.set(T,N[1]))}}return S.call(y,"error",N[1],N[2]),S.call(y,...N)})(y.addEventListener),y.removeEventListener=(S=>(...N)=>{if(N[0]==="processorerror"){const T=w.get(N[1]);T!==void 0&&(w.delete(N[1]),N[1]=T)}return S.call(y,"error",N[1],N[2]),S.call(y,N[0],N[1],N[2])})(y.removeEventListener),m.numberOfOutputs!==0){const S=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(S).connect(o.destination),a(y,()=>S.disconnect(),()=>S.connect(o.destination))}return y}catch(y){throw y.code===11?i():y}if(d===void 0)throw i();return vA(m),e(o,h,d,m)},wx=(r,e)=>r===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(r*e))))),yA=r=>new Promise((e,t)=>{const{port1:i,port2:a}=new MessageChannel;i.onmessage=({data:o})=>{i.close(),a.close(),e(o)},i.onmessageerror=({data:o})=>{i.close(),a.close(),t(o)},a.postMessage(r)}),xA=async(r,e)=>{const t=await yA(e);return new r(t)},wA=(r,e,t,i)=>{let a=Gm.get(r);a===void 0&&(a=new WeakMap,Gm.set(r,a));const o=xA(t,i);return a.set(e,o),o},_A=(r,e,t,i,a,o,h,c,f,d,m,y,w)=>(v,S,N,T)=>{if(T.numberOfInputs===0&&T.numberOfOutputs===0)throw f();const C=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(C.some(W=>W<1))throw f();if(C.length!==T.numberOfOutputs)throw e();if(T.channelCountMode!=="explicit")throw f();const I=T.channelCount*T.numberOfInputs,R=C.reduce((W,De)=>W+De,0),q=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length;if(I+q>6||R>6)throw f();const B=new MessageChannel,Z=[],F=[];for(let W=0;W<T.numberOfInputs;W+=1)Z.push(h(v,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),F.push(a(v,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const j=[];if(N.parameterDescriptors!==void 0)for(const{defaultValue:W,maxValue:De,minValue:at,name:$e}of N.parameterDescriptors){const Te=o(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:T.parameterData[$e]!==void 0?T.parameterData[$e]:W===void 0?0:W});Object.defineProperties(Te.offset,{defaultValue:{get:()=>W===void 0?0:W},maxValue:{get:()=>De===void 0?rs:De},minValue:{get:()=>at===void 0?Es:at}}),j.push(Te)}const V=i(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,I+q)}),H=wx(S,v.sampleRate),k=c(v,H,I+q,Math.max(1,R)),D=a(v,{channelCount:Math.max(1,R),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,R)}),ne=[];for(let W=0;W<T.numberOfOutputs;W+=1)ne.push(i(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[W]}));for(let W=0;W<T.numberOfInputs;W+=1){Z[W].connect(F[W]);for(let De=0;De<T.channelCount;De+=1)F[W].connect(V,De,W*T.channelCount+De)}const $=new bx(N.parameterDescriptors===void 0?[]:N.parameterDescriptors.map(({name:W},De)=>{const at=j[De];return at.connect(V,0,I+De),at.start(0),[W,at.offset]}));V.connect(k);let he=T.channelInterpretation,Q=null;const K=T.numberOfOutputs===0?[k]:ne,ce={get bufferSize(){return H},get channelCount(){return T.channelCount},set channelCount(W){throw t()},get channelCountMode(){return T.channelCountMode},set channelCountMode(W){throw t()},get channelInterpretation(){return he},set channelInterpretation(W){for(const De of Z)De.channelInterpretation=W;he=W},get context(){return k.context},get inputs(){return Z},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get onprocessorerror(){return Q},set onprocessorerror(W){typeof Q=="function"&&ce.removeEventListener("processorerror",Q),Q=typeof W=="function"?W:null,typeof Q=="function"&&ce.addEventListener("processorerror",Q)},get parameters(){return $},get port(){return B.port2},addEventListener(...W){return k.addEventListener(W[0],W[1],W[2])},connect:r.bind(null,K),disconnect:d.bind(null,K),dispatchEvent(...W){return k.dispatchEvent(W[0])},removeEventListener(...W){return k.removeEventListener(W[0],W[1],W[2])}},fe=new Map;B.port1.addEventListener=(W=>(...De)=>{if(De[0]==="message"){const at=typeof De[1]=="function"?De[1]:typeof De[1]=="object"&&De[1]!==null&&typeof De[1].handleEvent=="function"?De[1].handleEvent:null;if(at!==null){const $e=fe.get(De[1]);$e!==void 0?De[1]=$e:(De[1]=Te=>{m(v.currentTime,v.sampleRate,()=>at(Te))},fe.set(at,De[1]))}}return W.call(B.port1,De[0],De[1],De[2])})(B.port1.addEventListener),B.port1.removeEventListener=(W=>(...De)=>{if(De[0]==="message"){const at=fe.get(De[1]);at!==void 0&&(fe.delete(De[1]),De[1]=at)}return W.call(B.port1,De[0],De[1],De[2])})(B.port1.removeEventListener);let xe=null;Object.defineProperty(B.port1,"onmessage",{get:()=>xe,set:W=>{typeof xe=="function"&&B.port1.removeEventListener("message",xe),xe=typeof W=="function"?W:null,typeof xe=="function"&&(B.port1.addEventListener("message",xe),B.port1.start())}}),N.prototype.port=B.port1;let Y=null;wA(v,ce,N,T).then(W=>Y=W);const z=X1(T.numberOfInputs,T.channelCount),J=X1(T.numberOfOutputs,C),ie=N.parameterDescriptors===void 0?[]:N.parameterDescriptors.reduce((W,{name:De})=>({...W,[De]:new Float32Array(128)}),{});let se=!0;const de=()=>{T.numberOfOutputs>0&&k.disconnect(D);for(let W=0,De=0;W<T.numberOfOutputs;W+=1){const at=ne[W];for(let $e=0;$e<C[W];$e+=1)D.disconnect(at,De+$e,$e);De+=C[W]}},pe=new Map;k.onaudioprocess=({inputBuffer:W,outputBuffer:De})=>{if(Y!==null){const at=y(ce);for(let $e=0;$e<H;$e+=128){for(let Te=0;Te<T.numberOfInputs;Te+=1)for(let nt=0;nt<T.channelCount;nt+=1)Y1(W,z[Te],nt,nt,$e);N.parameterDescriptors!==void 0&&N.parameterDescriptors.forEach(({name:Te},nt)=>{Y1(W,ie,Te,I+nt,$e)});for(let Te=0;Te<T.numberOfInputs;Te+=1)for(let nt=0;nt<C[Te];nt+=1)J[Te][nt].byteLength===0&&(J[Te][nt]=new Float32Array(128));try{const Te=z.map((rt,lt)=>{if(at[lt].size>0)return pe.set(lt,H/128),rt;const At=pe.get(lt);return At===void 0?[]:(rt.every(Ft=>Ft.every(jt=>jt===0))&&(At===1?pe.delete(lt):pe.set(lt,At-1)),rt)});se=m(v.currentTime+$e/v.sampleRate,v.sampleRate,()=>Y.process(Te,J,ie));for(let rt=0,lt=0;rt<T.numberOfOutputs;rt+=1){for(let ft=0;ft<C[rt];ft+=1)yx(De,J[rt],ft,lt+ft,$e);lt+=C[rt]}}catch(Te){se=!1,ce.dispatchEvent(new ErrorEvent("processorerror",{colno:Te.colno,filename:Te.filename,lineno:Te.lineno,message:Te.message}))}if(!se){for(let Te=0;Te<T.numberOfInputs;Te+=1){Z[Te].disconnect(F[Te]);for(let nt=0;nt<T.channelCount;nt+=1)F[$e].disconnect(V,nt,Te*T.channelCount+nt)}if(N.parameterDescriptors!==void 0){const Te=N.parameterDescriptors.length;for(let nt=0;nt<Te;nt+=1){const rt=j[nt];rt.disconnect(V,0,I+nt),rt.stop()}}V.disconnect(k),k.onaudioprocess=null,we?de():Je();break}}}};let we=!1;const Ae=h(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ge=()=>k.connect(Ae).connect(v.destination),Je=()=>{k.disconnect(Ae),Ae.disconnect()},it=()=>{if(se){Je(),T.numberOfOutputs>0&&k.connect(D);for(let W=0,De=0;W<T.numberOfOutputs;W+=1){const at=ne[W];for(let $e=0;$e<C[W];$e+=1)D.connect(at,De+$e,$e);De+=C[W]}}we=!0},st=()=>{se&&(Ge(),de()),we=!1};return Ge(),w(ce,it,st)},_x=(r,e)=>{const t=r.createBiquadFilter();return fi(t,e),Vr(t,e,"Q"),Vr(t,e,"detune"),Vr(t,e,"frequency"),Vr(t,e,"gain"),_r(t,e,"type"),t},SA=(r,e)=>(t,i)=>{const a=t.createChannelMerger(i.numberOfInputs);return r!==null&&r.name==="webkitAudioContext"&&e(t,a),fi(a,i),a},AA=r=>{const e=r.numberOfOutputs;Object.defineProperty(r,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Si()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw Si()}}),Object.defineProperty(r,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw Si()}})},id=(r,e)=>{const t=r.createChannelSplitter(e.numberOfOutputs);return fi(t,e),AA(t),t},NA=(r,e,t,i,a)=>(o,h)=>{if(o.createConstantSource===void 0)return t(o,h);const c=o.createConstantSource();return fi(c,h),Vr(c,h,"offset"),e(i,()=>i(o))||wg(c),e(a,()=>a(o))||_g(c),r(o,c),c},jh=(r,e)=>(r.connect=e.connect.bind(e),r.disconnect=e.disconnect.bind(e),r),CA=(r,e,t,i)=>(a,{offset:o,...h})=>{const c=a.createBuffer(1,2,44100),f=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t(a,{...h,gain:o}),m=c.getChannelData(0);m[0]=1,m[1]=1,f.buffer=c,f.loop=!0;const y={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(S){d.channelCount=S},get channelCountMode(){return d.channelCountMode},set channelCountMode(S){d.channelCountMode=S},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(S){d.channelInterpretation=S},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(S){f.onended=S},addEventListener(...S){return f.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return f.dispatchEvent(S[0])},removeEventListener(...S){return f.removeEventListener(S[0],S[1],S[2])},start(S=0){f.start.call(f,S)},stop(S=0){f.stop.call(f,S)}},w=()=>f.connect(d),v=()=>f.disconnect(d);return r(a,f),i(jh(y,d),w,v)},TA=(r,e)=>(t,i)=>{const a=t.createConvolver();if(fi(a,i),i.disableNormalization===a.normalize&&(a.normalize=!i.disableNormalization),_r(a,i,"buffer"),i.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>h=>{if(h>2)throw r();return o.call(a,h)}),i.channelCountMode==="max"))throw r();return e(a,"channelCountMode",o=>()=>o.call(a),o=>h=>{if(h==="max")throw r();return o.call(a,h)}),a},Sx=(r,e)=>{const t=r.createDelay(e.maxDelayTime);return fi(t,e),Vr(t,e,"delayTime"),t},EA=r=>(e,t)=>{const i=e.createDynamicsCompressor();if(fi(i,t),t.channelCount>2||t.channelCountMode==="max")throw r();return Vr(i,t,"attack"),Vr(i,t,"knee"),Vr(i,t,"ratio"),Vr(i,t,"release"),Vr(i,t,"threshold"),i},Ms=(r,e)=>{const t=r.createGain();return fi(t,e),Vr(t,e,"gain"),t},kA=r=>(e,t,i)=>{if(e.createIIRFilter===void 0)return r(e,t,i);const a=e.createIIRFilter(i.feedforward,i.feedback);return fi(a,i),a};function MA(r,e){const t=e[0]*e[0]+e[1]*e[1];return[(r[0]*e[0]+r[1]*e[1])/t,(r[1]*e[0]-r[0]*e[1])/t]}function LA(r,e){return[r[0]*e[0]-r[1]*e[1],r[0]*e[1]+r[1]*e[0]]}function lb(r,e){let t=[0,0];for(let i=r.length-1;i>=0;i-=1)t=LA(t,e),t[0]+=r[i];return t}const OA=(r,e,t,i)=>(a,o,{channelCount:h,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:m})=>{const y=wx(o,a.sampleRate),w=d instanceof Float64Array?d:new Float64Array(d),v=m instanceof Float64Array?m:new Float64Array(m),S=w.length,N=v.length,T=Math.min(S,N);if(S===0||S>20)throw i();if(w[0]===0)throw e();if(N===0||N>20)throw i();if(v[0]===0)throw e();if(w[0]!==1){for(let j=0;j<N;j+=1)v[j]/=w[0];for(let j=1;j<S;j+=1)w[j]/=w[0]}const C=t(a,y,h,h);C.channelCount=h,C.channelCountMode=c,C.channelInterpretation=f;const I=32,R=[],q=[],B=[];for(let j=0;j<h;j+=1){R.push(0);const V=new Float32Array(I),H=new Float32Array(I);V.fill(0),H.fill(0),q.push(V),B.push(H)}C.onaudioprocess=j=>{const V=j.inputBuffer,H=j.outputBuffer,k=V.numberOfChannels;for(let D=0;D<k;D+=1){const ne=V.getChannelData(D),$=H.getChannelData(D);R[D]=xx(w,S,v,N,T,q[D],B[D],R[D],I,ne,$)}};const Z=a.sampleRate/2;return jh({get bufferSize(){return y},get channelCount(){return C.channelCount},set channelCount(j){C.channelCount=j},get channelCountMode(){return C.channelCountMode},set channelCountMode(j){C.channelCountMode=j},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(j){C.channelInterpretation=j},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...j){return C.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return C.dispatchEvent(j[0])},getFrequencyResponse(j,V,H){if(j.length!==V.length||V.length!==H.length)throw r();const k=j.length;for(let D=0;D<k;D+=1){const ne=-Math.PI*(j[D]/Z),$=[Math.cos(ne),Math.sin(ne)],he=lb(v,$),Q=lb(w,$),K=MA(he,Q);V[D]=Math.sqrt(K[0]*K[0]+K[1]*K[1]),H[D]=Math.atan2(K[1],K[0])}},removeEventListener(...j){return C.removeEventListener(j[0],j[1],j[2])}},C)},jA=(r,e)=>r.createMediaElementSource(e.mediaElement),DA=(r,e)=>{const t=r.createMediaStreamDestination();return fi(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},RA=(r,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((o,h)=>o.id<h.id?-1:o.id>h.id?1:0);const i=t.slice(0,1),a=r.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(a,"mediaStream",{value:e}),a},IA=(r,e)=>(t,{mediaStreamTrack:i})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(i);const a=new MediaStream([i]),o=t.createMediaStreamSource(a);if(i.kind!=="audio")throw r();if(e(t))throw new TypeError;return o},VA=r=>r===null?null:r.hasOwnProperty("OfflineAudioContext")?r.OfflineAudioContext:r.hasOwnProperty("webkitOfflineAudioContext")?r.webkitOfflineAudioContext:null,FA=(r,e,t,i,a,o)=>(h,c)=>{const f=h.createOscillator();return fi(f,c),Vr(f,c,"detune"),Vr(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):_r(f,c,"type"),e(t,()=>t(h))||wg(f),e(i,()=>i(h))||o(f,h),e(a,()=>a(h))||_g(f),r(h,f),f},BA=r=>(e,t)=>{const i=e.createPanner();return i.orientationX===void 0?r(e,t):(fi(i,t),Vr(i,t,"orientationX"),Vr(i,t,"orientationY"),Vr(i,t,"orientationZ"),Vr(i,t,"positionX"),Vr(i,t,"positionY"),Vr(i,t,"positionZ"),_r(i,t,"coneInnerAngle"),_r(i,t,"coneOuterAngle"),_r(i,t,"coneOuterGain"),_r(i,t,"distanceModel"),_r(i,t,"maxDistance"),_r(i,t,"panningModel"),_r(i,t,"refDistance"),_r(i,t,"rolloffFactor"),i)},qA=(r,e,t,i,a,o,h,c,f,d)=>(m,{coneInnerAngle:y,coneOuterAngle:w,coneOuterGain:v,distanceModel:S,maxDistance:N,orientationX:T,orientationY:C,orientationZ:I,panningModel:R,positionX:q,positionY:B,positionZ:Z,refDistance:F,rolloffFactor:j,...V})=>{const H=m.createPanner();if(V.channelCount>2||V.channelCountMode==="max")throw h();fi(H,V);const k={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},D=t(m,{...k,channelInterpretation:"speakers",numberOfInputs:6}),ne=i(m,{...V,gain:1}),$=i(m,{...k,gain:1}),he=i(m,{...k,gain:0}),Q=i(m,{...k,gain:0}),K=i(m,{...k,gain:0}),ce=i(m,{...k,gain:0}),fe=i(m,{...k,gain:0}),xe=a(m,256,6,1),Y=o(m,{...k,curve:new Float32Array([1,1]),oversample:"none"});let L=[T,C,I],z=[q,B,Z];const J=new Float32Array(1);xe.onaudioprocess=({inputBuffer:pe})=>{const we=[f(pe,J,0),f(pe,J,1),f(pe,J,2)];we.some((Ge,Je)=>Ge!==L[Je])&&(H.setOrientation(...we),L=we);const Ae=[f(pe,J,3),f(pe,J,4),f(pe,J,5)];Ae.some((Ge,Je)=>Ge!==z[Je])&&(H.setPosition(...Ae),z=Ae)},Object.defineProperty(he.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(K.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ce.gain,"defaultValue",{get:()=>0}),Object.defineProperty(fe.gain,"defaultValue",{get:()=>0});const ie={get bufferSize(){},get channelCount(){return H.channelCount},set channelCount(pe){if(pe>2)throw h();ne.channelCount=pe,H.channelCount=pe},get channelCountMode(){return H.channelCountMode},set channelCountMode(pe){if(pe==="max")throw h();ne.channelCountMode=pe,H.channelCountMode=pe},get channelInterpretation(){return H.channelInterpretation},set channelInterpretation(pe){ne.channelInterpretation=pe,H.channelInterpretation=pe},get coneInnerAngle(){return H.coneInnerAngle},set coneInnerAngle(pe){H.coneInnerAngle=pe},get coneOuterAngle(){return H.coneOuterAngle},set coneOuterAngle(pe){H.coneOuterAngle=pe},get coneOuterGain(){return H.coneOuterGain},set coneOuterGain(pe){if(pe<0||pe>1)throw e();H.coneOuterGain=pe},get context(){return H.context},get distanceModel(){return H.distanceModel},set distanceModel(pe){H.distanceModel=pe},get inputs(){return[ne]},get maxDistance(){return H.maxDistance},set maxDistance(pe){if(pe<0)throw new RangeError;H.maxDistance=pe},get numberOfInputs(){return H.numberOfInputs},get numberOfOutputs(){return H.numberOfOutputs},get orientationX(){return $.gain},get orientationY(){return he.gain},get orientationZ(){return Q.gain},get panningModel(){return H.panningModel},set panningModel(pe){H.panningModel=pe},get positionX(){return K.gain},get positionY(){return ce.gain},get positionZ(){return fe.gain},get refDistance(){return H.refDistance},set refDistance(pe){if(pe<0)throw new RangeError;H.refDistance=pe},get rolloffFactor(){return H.rolloffFactor},set rolloffFactor(pe){if(pe<0)throw new RangeError;H.rolloffFactor=pe},addEventListener(...pe){return ne.addEventListener(pe[0],pe[1],pe[2])},dispatchEvent(...pe){return ne.dispatchEvent(pe[0])},removeEventListener(...pe){return ne.removeEventListener(pe[0],pe[1],pe[2])}};y!==ie.coneInnerAngle&&(ie.coneInnerAngle=y),w!==ie.coneOuterAngle&&(ie.coneOuterAngle=w),v!==ie.coneOuterGain&&(ie.coneOuterGain=v),S!==ie.distanceModel&&(ie.distanceModel=S),N!==ie.maxDistance&&(ie.maxDistance=N),T!==ie.orientationX.value&&(ie.orientationX.value=T),C!==ie.orientationY.value&&(ie.orientationY.value=C),I!==ie.orientationZ.value&&(ie.orientationZ.value=I),R!==ie.panningModel&&(ie.panningModel=R),q!==ie.positionX.value&&(ie.positionX.value=q),B!==ie.positionY.value&&(ie.positionY.value=B),Z!==ie.positionZ.value&&(ie.positionZ.value=Z),F!==ie.refDistance&&(ie.refDistance=F),j!==ie.rolloffFactor&&(ie.rolloffFactor=j),(L[0]!==1||L[1]!==0||L[2]!==0)&&H.setOrientation(...L),(z[0]!==0||z[1]!==0||z[2]!==0)&&H.setPosition(...z);const se=()=>{ne.connect(H),r(ne,Y,0,0),Y.connect($).connect(D,0,0),Y.connect(he).connect(D,0,1),Y.connect(Q).connect(D,0,2),Y.connect(K).connect(D,0,3),Y.connect(ce).connect(D,0,4),Y.connect(fe).connect(D,0,5),D.connect(xe).connect(m.destination)},de=()=>{ne.disconnect(H),c(ne,Y,0,0),Y.disconnect($),$.disconnect(D),Y.disconnect(he),he.disconnect(D),Y.disconnect(Q),Q.disconnect(D),Y.disconnect(K),K.disconnect(D),Y.disconnect(ce),ce.disconnect(D),Y.disconnect(fe),fe.disconnect(D),D.disconnect(xe),xe.disconnect(m.destination)};return d(jh(ie,H),se,de)},zA=r=>(e,{disableNormalization:t,imag:i,real:a})=>{const o=i instanceof Float32Array?i:new Float32Array(i),h=a instanceof Float32Array?a:new Float32Array(a),c=e.createPeriodicWave(h,o,{disableNormalization:t});if(Array.from(i).length<2)throw r();return c},sd=(r,e,t,i)=>r.createScriptProcessor(e,t,i),PA=(r,e)=>(t,i)=>{const a=i.channelCountMode;if(a==="clamped-max")throw e();if(t.createStereoPanner===void 0)return r(t,i);const o=t.createStereoPanner();return fi(o,i),Vr(o,i,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:h=>{if(h!==a)throw e()}}),o},UA=(r,e,t,i,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...d,oversample:"none"},y=(S,N,T,C)=>{const I=new Float32Array(16385),R=new Float32Array(16385);for(let V=0;V<16385;V+=1){const H=V/16384*f;I[V]=Math.cos(H),R[V]=Math.sin(H)}const q=t(S,{...d,gain:0}),B=i(S,{...m,curve:I}),Z=i(S,{...m,curve:c}),F=t(S,{...d,gain:0}),j=i(S,{...m,curve:R});return{connectGraph(){N.connect(q),N.connect(Z.inputs===void 0?Z:Z.inputs[0]),N.connect(F),Z.connect(T),T.connect(B.inputs===void 0?B:B.inputs[0]),T.connect(j.inputs===void 0?j:j.inputs[0]),B.connect(q.gain),j.connect(F.gain),q.connect(C,0,0),F.connect(C,0,1)},disconnectGraph(){N.disconnect(q),N.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),N.disconnect(F),Z.disconnect(T),T.disconnect(B.inputs===void 0?B:B.inputs[0]),T.disconnect(j.inputs===void 0?j:j.inputs[0]),B.disconnect(q.gain),j.disconnect(F.gain),q.disconnect(C,0,0),F.disconnect(C,0,1)}}},w=(S,N,T,C)=>{const I=new Float32Array(16385),R=new Float32Array(16385),q=new Float32Array(16385),B=new Float32Array(16385),Z=Math.floor(16385/2);for(let K=0;K<16385;K+=1)if(K>Z){const ce=(K-Z)/(16384-Z)*f;I[K]=Math.cos(ce),R[K]=Math.sin(ce),q[K]=0,B[K]=1}else{const ce=K/(16384-Z)*f;I[K]=1,R[K]=0,q[K]=Math.cos(ce),B[K]=Math.sin(ce)}const F=e(S,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),j=t(S,{...d,gain:0}),V=i(S,{...m,curve:I}),H=t(S,{...d,gain:0}),k=i(S,{...m,curve:R}),D=i(S,{...m,curve:c}),ne=t(S,{...d,gain:0}),$=i(S,{...m,curve:q}),he=t(S,{...d,gain:0}),Q=i(S,{...m,curve:B});return{connectGraph(){N.connect(F),N.connect(D.inputs===void 0?D:D.inputs[0]),F.connect(j,0),F.connect(H,0),F.connect(ne,1),F.connect(he,1),D.connect(T),T.connect(V.inputs===void 0?V:V.inputs[0]),T.connect(k.inputs===void 0?k:k.inputs[0]),T.connect($.inputs===void 0?$:$.inputs[0]),T.connect(Q.inputs===void 0?Q:Q.inputs[0]),V.connect(j.gain),k.connect(H.gain),$.connect(ne.gain),Q.connect(he.gain),j.connect(C,0,0),ne.connect(C,0,0),H.connect(C,0,1),he.connect(C,0,1)},disconnectGraph(){N.disconnect(F),N.disconnect(D.inputs===void 0?D:D.inputs[0]),F.disconnect(j,0),F.disconnect(H,0),F.disconnect(ne,1),F.disconnect(he,1),D.disconnect(T),T.disconnect(V.inputs===void 0?V:V.inputs[0]),T.disconnect(k.inputs===void 0?k:k.inputs[0]),T.disconnect($.inputs===void 0?$:$.inputs[0]),T.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),V.disconnect(j.gain),k.disconnect(H.gain),$.disconnect(ne.gain),Q.disconnect(he.gain),j.disconnect(C,0,0),ne.disconnect(C,0,0),H.disconnect(C,0,1),he.disconnect(C,0,1)}}},v=(S,N,T,C,I)=>{if(N===1)return y(S,T,C,I);if(N===2)return w(S,T,C,I);throw a()};return(S,{channelCount:N,channelCountMode:T,pan:C,...I})=>{if(T==="max")throw a();const R=r(S,{...I,channelCount:1,channelCountMode:T,numberOfInputs:2}),q=t(S,{...I,channelCount:N,channelCountMode:T,gain:1}),B=t(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:Z,disconnectGraph:F}=v(S,N,q,B,R);Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"maxValue",{get:()=>1}),Object.defineProperty(B.gain,"minValue",{get:()=>-1});const j={get bufferSize(){},get channelCount(){return q.channelCount},set channelCount(D){q.channelCount!==D&&(V&&F(),{connectGraph:Z,disconnectGraph:F}=v(S,D,q,B,R),V&&Z()),q.channelCount=D},get channelCountMode(){return q.channelCountMode},set channelCountMode(D){if(D==="clamped-max"||D==="max")throw a();q.channelCountMode=D},get channelInterpretation(){return q.channelInterpretation},set channelInterpretation(D){q.channelInterpretation=D},get context(){return q.context},get inputs(){return[q]},get numberOfInputs(){return q.numberOfInputs},get numberOfOutputs(){return q.numberOfOutputs},get pan(){return B.gain},addEventListener(...D){return q.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return q.dispatchEvent(D[0])},removeEventListener(...D){return q.removeEventListener(D[0],D[1],D[2])}};let V=!1;const H=()=>{Z(),V=!0},k=()=>{F(),V=!1};return o(jh(j,R),H,k)}},HA=(r,e,t,i,a,o,h)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,f);fi(d,f);const m=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(m!==null&&m.length<2)throw e();_r(d,{curve:m},"curve"),_r(d,f,"oversample");let y=null,w=!1;return h(d,"curve",N=>()=>N.call(d),N=>T=>(N.call(d,T),w&&(i(T)&&y===null?y=r(c,d):!i(T)&&y!==null&&(y(),y=null)),T)),a(d,()=>{w=!0,i(d.curve)&&(y=r(c,d))},()=>{w=!1,y!==null&&(y(),y=null)})},GA=(r,e,t,i,a)=>(o,{curve:h,oversample:c,...f})=>{const d=o.createWaveShaper(),m=o.createWaveShaper();fi(d,f),fi(m,f);const y=t(o,{...f,gain:1}),w=t(o,{...f,gain:-1}),v=t(o,{...f,gain:1}),S=t(o,{...f,gain:-1});let N=null,T=!1,C=null;const I={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(B){y.channelCount=B,w.channelCount=B,d.channelCount=B,v.channelCount=B,m.channelCount=B,S.channelCount=B},get channelCountMode(){return d.channelCountMode},set channelCountMode(B){y.channelCountMode=B,w.channelCountMode=B,d.channelCountMode=B,v.channelCountMode=B,m.channelCountMode=B,S.channelCountMode=B},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(B){y.channelInterpretation=B,w.channelInterpretation=B,d.channelInterpretation=B,v.channelInterpretation=B,m.channelInterpretation=B,S.channelInterpretation=B},get context(){return d.context},get curve(){return C},set curve(B){if(B!==null&&B.length<2)throw e();if(B===null)d.curve=B,m.curve=B;else{const Z=B.length,F=new Float32Array(Z+2-Z%2),j=new Float32Array(Z+2-Z%2);F[0]=B[0],j[0]=-B[Z-1];const V=Math.ceil((Z+1)/2),H=(Z+1)/2-1;for(let k=1;k<V;k+=1){const D=k/V*H,ne=Math.floor(D),$=Math.ceil(D);F[k]=ne===$?B[ne]:(1-(D-ne))*B[ne]+(1-($-D))*B[$],j[k]=ne===$?-B[Z-1-ne]:-((1-(D-ne))*B[Z-1-ne])-(1-($-D))*B[Z-1-$]}F[V]=Z%2===1?B[V-1]:(B[V-2]+B[V-1])/2,d.curve=F,m.curve=j}C=B,T&&(i(C)&&N===null?N=r(o,y):N!==null&&(N(),N=null))},get inputs(){return[y]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(B){d.oversample=B,m.oversample=B},addEventListener(...B){return y.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return y.dispatchEvent(B[0])},removeEventListener(...B){return y.removeEventListener(B[0],B[1],B[2])}};h!==null&&(I.curve=h instanceof Float32Array?h:new Float32Array(h)),c!==I.oversample&&(I.oversample=c);const R=()=>{y.connect(d).connect(v),y.connect(w).connect(m).connect(S).connect(v),T=!0,i(C)&&(N=r(o,y))},q=()=>{y.disconnect(d),d.disconnect(v),y.disconnect(w),w.disconnect(m),m.disconnect(S),S.disconnect(v),T=!1,N!==null&&(N(),N=null)};return a(jh(I,v),R,q)},as=()=>new DOMException("","NotSupportedError"),WA={numberOfChannels:1},YA=(r,e,t,i,a)=>class extends r{constructor(h,c,f){let d;if(typeof h=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:h,sampleRate:f};else if(typeof h=="object")d=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:y,sampleRate:w}={...WA,...d},v=i(y,m,w);e(Hf,()=>Hf(v))||v.addEventListener("statechange",(()=>{let S=0;const N=T=>{this._state==="running"&&(S>0?(v.removeEventListener("statechange",N),T.stopImmediatePropagation(),this._waitForThePromiseToSettle(T)):S+=1)};return N})()),super(v,y),this._length=m,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,px(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},XA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},ZA=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...XA,...d},w=t(m,y),v=o(m),S=v?i():null,N=f.sampleRate/2;super(f,!1,w,S),this._detune=e(this,v,w.detune,153600,-153600),this._frequency=e(this,v,w.frequency,N,-N),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=S,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeOscillatorNode.onended=d;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===d?f:m}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){kh(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),gl(this)&&td(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},$A=(r,e,t,i,a)=>()=>{const o=new WeakMap;let h=null,c=null,f=null;const d=async(m,y)=>{let w=t(m);const v=Wi(w,y);if(!v){const S={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,detune:w.detune.value,frequency:w.frequency.value,periodicWave:h===null?void 0:h,type:w.type};w=e(y,S),c!==null&&w.start(c),f!==null&&w.stop(f)}return o.set(y,w),v?(await r(y,m.detune,w.detune),await r(y,m.frequency,w.frequency)):(await i(y,m.detune,w.detune),await i(y,m.frequency,w.frequency)),await a(m,y,w),w};return{set periodicWave(m){h=m},set start(m){c=m},set stop(m){f=m},render(m,y){const w=o.get(y);return w!==void 0?Promise.resolve(w):d(m,y)}}},KA={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},QA=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...KA,...d},w=t(m,y),v=o(m),S=v?i():null;super(f,!1,w,S),this._nativePannerNode=w,this._orientationX=e(this,v,w.orientationX,rs,Es),this._orientationY=e(this,v,w.orientationY,rs,Es),this._orientationZ=e(this,v,w.orientationZ,rs,Es),this._positionX=e(this,v,w.positionX,rs,Es),this._positionY=e(this,v,w.positionY,rs,Es),this._positionZ=e(this,v,w.positionZ,rs,Es),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},JA=(r,e,t,i,a,o,h,c,f,d)=>()=>{const m=new WeakMap;let y=null;const w=async(v,S)=>{let N=null,T=o(v);const C={channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation},I={...C,coneInnerAngle:T.coneInnerAngle,coneOuterAngle:T.coneOuterAngle,coneOuterGain:T.coneOuterGain,distanceModel:T.distanceModel,maxDistance:T.maxDistance,panningModel:T.panningModel,refDistance:T.refDistance,rolloffFactor:T.rolloffFactor},R=Wi(T,S);if("bufferSize"in T)N=i(S,{...C,gain:1});else if(!R){const q={...I,orientationX:T.orientationX.value,orientationY:T.orientationY.value,orientationZ:T.orientationZ.value,positionX:T.positionX.value,positionY:T.positionY.value,positionZ:T.positionZ.value};T=a(S,q)}if(m.set(S,N===null?T:N),N!==null){if(y===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new h(6,v.context.length,S.sampleRate),D=e(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});D.connect(k.destination),y=(async()=>{const ne=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async($,he)=>{const Q=t(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:he===0?1:0});return await c(k,$,Q.offset),Q}));for(let $=0;$<6;$+=1)ne[$].connect(D,0,$),ne[$].start(0);return d(k)})()}const q=await y,B=i(S,{...C,gain:1});await f(v,S,B);const Z=[];for(let k=0;k<q.numberOfChannels;k+=1)Z.push(q.getChannelData(k));let F=[Z[0][0],Z[1][0],Z[2][0]],j=[Z[3][0],Z[4][0],Z[5][0]],V=i(S,{...C,gain:1}),H=a(S,{...I,orientationX:F[0],orientationY:F[1],orientationZ:F[2],positionX:j[0],positionY:j[1],positionZ:j[2]});B.connect(V).connect(H.inputs[0]),H.connect(N);for(let k=128;k<q.length;k+=128){const D=[Z[0][k],Z[1][k],Z[2][k]],ne=[Z[3][k],Z[4][k],Z[5][k]];if(D.some(($,he)=>$!==F[he])||ne.some(($,he)=>$!==j[he])){F=D,j=ne;const $=k/S.sampleRate;V.gain.setValueAtTime(0,$),V=i(S,{...C,gain:0}),H=a(S,{...I,orientationX:F[0],orientationY:F[1],orientationZ:F[2],positionX:j[0],positionY:j[1],positionZ:j[2]}),V.gain.setValueAtTime(1,$),B.connect(V).connect(H.inputs[0]),H.connect(N)}}return N}return R?(await r(S,v.orientationX,T.orientationX),await r(S,v.orientationY,T.orientationY),await r(S,v.orientationZ,T.orientationZ),await r(S,v.positionX,T.positionX),await r(S,v.positionY,T.positionY),await r(S,v.positionZ,T.positionZ)):(await c(S,v.orientationX,T.orientationX),await c(S,v.orientationY,T.orientationY),await c(S,v.orientationZ,T.orientationZ),await c(S,v.positionX,T.positionX),await c(S,v.positionY,T.positionY),await c(S,v.positionZ,T.positionZ)),Oh(T)?await f(v,S,T.inputs[0]):await f(v,S,T),T};return{render(v,S){const N=m.get(S);return N!==void 0?Promise.resolve(N):w(v,S)}}},eN={disableNormalization:!1},tN=(r,e,t,i)=>class Ax{constructor(o,h){const c=e(o),f=i({...eN,...h}),d=r(c,f);return t.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===Ax.prototype||t.has(o)}},nN=(r,e)=>(t,i,a)=>(r(i).replay(a),e(i,t,a)),rN=(r,e,t)=>async(i,a,o)=>{const h=r(i);await Promise.all(h.activeInputs.map((c,f)=>Array.from(c).map(async([d,m])=>{const w=await e(d).render(d,a),v=i.context.destination;!t(d)&&(i!==v||!t(i))&&w.connect(o,m,f)})).reduce((c,f)=>[...c,...f],[]))},iN=(r,e,t)=>async(i,a,o)=>{const h=e(i);await Promise.all(Array.from(h.activeInputs).map(async([c,f])=>{const m=await r(c).render(c,a);t(c)||m.connect(o,f)}))},sN=(r,e,t,i)=>a=>r(Hf,()=>Hf(a))?Promise.resolve(r(i,i)).then(o=>{if(!o){const h=t(a,512,0,1);a.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>a.currentTime,h.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const h=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{h.disconnect(),o(c.renderedBuffer)},h.connect(a.destination),a.startRendering()}),aN=r=>(e,t)=>{r.set(e,t)},oN=r=>(e,t)=>r.set(e,t),lN=(r,e,t,i,a,o,h,c)=>(f,d)=>t(f).render(f,d).then(()=>Promise.all(Array.from(i(d)).map(m=>t(m).render(m,d)))).then(()=>a(d)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),bg(m)):e(o,()=>o(m))||c(m),r.add(m),m)),cN={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},uN=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...cN,...f},y=t(d,m),w=o(d),v=w?i():null;super(c,!1,y,v),this._pan=e(this,w,y.pan)}get pan(){return this._pan}},hN=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Wi(d,f);if(!m){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=e(f,y)}return o.set(f,d),m?await r(f,c.pan,d.pan):await i(f,c.pan,d.pan),Oh(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},fN=r=>()=>{if(r===null)return!1;try{new r({length:1,sampleRate:44100})}catch{return!1}return!0},dN=(r,e)=>async()=>{if(r===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),a=URL.createObjectURL(t);let o=!1,h=!1;try{await i.audioWorklet.addModule(a);const c=new r(i,"a",{numberOfOutputs:0}),f=i.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>h=!0,f.connect(c),f.start(0),await i.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!h},pN=(r,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),i=r(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{t.oncomplete=()=>{i.disconnect(),a(t.currentTime!==0)},t.startRendering()})},mN=()=>new DOMException("","UnknownError"),gN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},vN=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...gN,...d},w=t(m,y),S=o(m)?i():null;super(f,!0,w,S),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},bN=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Wi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=r(h,d)}return i.set(h,c),Oh(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},yN=()=>typeof window>"u"?null:window,xN=(r,e)=>t=>{t.copyFromChannel=(i,a,o=0)=>{const h=r(o),c=r(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=i.length;for(let y=h<0?-h:0;y+h<f&&y<m;y+=1)i[y]=d[y+h]},t.copyToChannel=(i,a,o=0)=>{const h=r(o),c=r(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=i.length;for(let y=h<0?-h:0;y+h<f&&y<m;y+=1)d[y+h]=i[y]}},wN=r=>e=>{e.copyFromChannel=(t=>(i,a,o=0)=>{const h=r(o),c=r(a);if(h<e.length)return t.call(e,i,c,h)})(e.copyFromChannel),e.copyToChannel=(t=>(i,a,o=0)=>{const h=r(o),c=r(a);if(h<e.length)return t.call(e,i,c,h)})(e.copyToChannel)},_N=r=>(e,t)=>{const i=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=i),r(e,"buffer",a=>()=>{const o=a.call(e);return o===i?null:o},a=>o=>a.call(e,o===null?i:o))},SN=(r,e)=>(t,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw r()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw r()}});const a=t.createBufferSource();e(i,()=>{const c=i.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(i,0,f)},()=>a.disconnect(i))},Nx=(r,e,t)=>r.copyFromChannel===void 0?r.getChannelData(t)[0]:(r.copyFromChannel(e,t),e[0]),Cx=r=>{if(r===null)return!1;const e=r.length;return e%2!==0?r[Math.floor(e/2)]!==0:r[e/2-1]+r[e/2]!==0},ad=(r,e,t,i)=>{let a=r;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:h}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(r,e,{get:t(o),set:i(h)})},AN=r=>({...r,outputChannelCount:r.outputChannelCount!==void 0?r.outputChannelCount:r.numberOfInputs===1&&r.numberOfOutputs===1?[r.channelCount]:Array.from({length:r.numberOfOutputs},()=>1)}),NN=r=>({...r,channelCount:r.numberOfOutputs}),CN=r=>{const{imag:e,real:t}=r;return e===void 0?t===void 0?{...r,imag:[0,0],real:[0,0]}:{...r,imag:Array.from(t,()=>0),real:t}:t===void 0?{...r,imag:e,real:Array.from(e,()=>0)}:{...r,imag:e,real:t}},Tx=(r,e,t)=>{try{r.setValueAtTime(e,t)}catch(i){if(i.code!==9)throw i;Tx(r,e,t+1e-7)}},TN=r=>{const e=r.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},EN=r=>{const e=r.createBufferSource(),t=r.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},kN=r=>{const e=r.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Sg=r=>{const e=r.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},Ex=r=>{const e=r.createBuffer(1,1,44100),t=r.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},Ag=r=>{const e=r.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},MN=r=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(r)}finally{e.close(),t.close()}},LN=r=>{r.start=(e=>(t=0,i=0,a)=>{const o=r.buffer,h=o===null?i:Math.min(o.duration,i);o!==null&&h>o.duration-.5/r.context.sampleRate?e.call(r,t,0,0):e.call(r,t,h,a)})(r.start)},kx=(r,e)=>{const t=e.createGain();r.connect(t);const i=(a=>()=>{a.call(r,t),r.removeEventListener("ended",i)})(r.disconnect);r.addEventListener("ended",i),jh(r,t),r.stop=(a=>{let o=!1;return(h=0)=>{if(o)try{a.call(r,h)}catch{t.gain.setValueAtTime(0,h)}else a.call(r,h),o=!0}})(r.stop)},Dh=(r,e)=>t=>{const i={value:r};return Object.defineProperties(t,{currentTarget:i,target:i}),typeof e=="function"?e.call(r,t):e.handleEvent.call(r,t)},ON=Q4(fu),jN=iS(fu),DN=g6(bp),Mx=new WeakMap,RN=D6(Mx),ro=WS(new Map,new WeakMap),Do=yN(),Lx=uA(ro,Ro),Ng=j6(is),Di=rN(is,Ng,lu),IN=cS(Lx,mr,Di),ar=V6(vp),wl=VA(Do),Kn=eA(wl),Ox=new WeakMap,jx=C6(Dh),od=pA(Do),Cg=$6(od),Tg=K6(Do),Dx=Q6(Do),Gf=gA(Do),Gr=DS(J4(ox),rS(ON,jN,H1,DN,G1,is,RN,ed,mr,fu,gl,lu,E1),ro,G6(Um,G1,is,mr,Uf,gl),Ro,yp,as,f6(H1,Um,is,mr,Uf,ar,gl,Kn),y6(Ox,is,Qa),jx,ar,Cg,Tg,Dx,Kn,Gf),VN=lS(Gr,IN,Ro,Lx,ar,Kn),Eg=new WeakSet,cb=hA(Do),Rx=s6(new Uint32Array(1)),kg=xN(Rx,Ro),Mg=wN(Rx),Ix=hS(Eg,ro,as,cb,wl,fN(cb),kg,Mg),xp=sS(Ms),Vx=iN(Ng,nd,lu),Io=JS(Vx),Rh=dA(xp,ro,TN,EN,kN,Sg,Ex,Ag,LN,_N(ad),kx),Vo=nN(R6(nd),Vx),FN=pS(Io,Rh,mr,Vo,Di),io=RS(eS(lx),Ox,vg,IS,W4,Y4,X4,Z4,$4,qm,sx,od,Tx),BN=dS(Gr,FN,io,Si,Rh,ar,Kn,Dh),qN=SS(Gr,AS,Ro,Si,mA(Ms,ad),ar,Kn,Di),zN=GS(Io,_x,mr,Vo,Di),du=oN(Mx),PN=HS(Gr,io,zN,yp,_x,ar,Kn,du),yc=lA(fu,Tg),UN=SN(Si,yc),xc=SA(od,UN),HN=ZS(xc,mr,Di),GN=XS(Gr,HN,xc,ar,Kn),WN=QS(id,mr,Di),YN=KS(Gr,WN,id,ar,Kn,NN),XN=CA(xp,Rh,Ms,yc),Ih=NA(xp,ro,XN,Sg,Ag),ZN=i6(Io,Ih,mr,Vo,Di),$N=r6(Gr,io,ZN,Ih,ar,Kn,Dh),Fx=TA(as,ad),KN=l6(Fx,mr,Di),QN=o6(Gr,KN,Fx,ar,Kn,du),JN=m6(Io,Sx,mr,Vo,Di),e8=p6(Gr,io,JN,Sx,ar,Kn,du),Bx=EA(as),t8=S6(Io,Bx,mr,Vo,Di),n8=_6(Gr,io,t8,Bx,as,ar,Kn,du),r8=L6(Io,Ms,mr,Vo,Di),i8=M6(Gr,io,r8,Ms,ar,Kn),s8=OA(yp,Si,sd,as),wp=sN(ro,Ms,sd,pN(Ms,wl)),a8=H6(Rh,mr,wl,Di,wp),o8=kA(s8),l8=P6(Gr,o8,a8,ar,Kn,du),c8=NS(io,xc,Ih,sd,as,Nx,Kn,ad),qx=new WeakMap,u8=oA(qN,c8,jx,Kn,qx,Dh),zx=FA(xp,ro,Sg,Ex,Ag,kx),h8=$A(Io,zx,mr,Vo,Di),f8=ZA(Gr,io,zx,h8,ar,Kn,Dh),Px=t6(Rh),d8=GA(Px,Si,Ms,Cx,yc),_p=HA(Px,Si,d8,Cx,yc,od,ad),p8=qA(H1,Si,xc,Ms,sd,_p,as,G1,Nx,yc),Ux=BA(p8),m8=JA(Io,xc,Ih,Ms,Ux,mr,wl,Vo,Di,wp),g8=QA(Gr,io,Ux,m8,ar,Kn,du),v8=zA(Ro),b8=tN(v8,ar,new WeakSet,CN),y8=UA(xc,id,Ms,_p,as,yc),Hx=PA(y8,as),x8=hN(Io,Hx,mr,Vo,Di),w8=uN(Gr,io,Hx,x8,ar,Kn),_8=bN(_p,mr,Di),S8=vN(Gr,Si,_p,_8,ar,Kn,du),Gx=tA(Do),Lg=T6(Do),Wx=new WeakMap,A8=F6(Wx,wl),N8=Gx?nS(ro,as,N6(Do),Lg,E6(K4),ar,A8,Kn,Gf,new WeakMap,new WeakMap,dN(Gf,wl),Do):void 0,C8=J6(Cg,Kn),T8=h6(Eg,ro,u6,A6,new WeakSet,ar,C8,P1,Hf,kg,Mg),Yx=PS(N8,VN,Ix,BN,PN,GN,YN,$N,QN,T8,e8,n8,i8,l8,u8,f8,g8,b8,w8,S8),E8=nA(Gr,jA,ar,Kn),k8=iA(Gr,DA,ar,Kn),M8=sA(Gr,RA,ar,Kn),L8=IA(Si,Kn),O8=aA(Gr,L8,ar),j8=_S(Yx,Si,as,mN,E8,k8,M8,O8,od),Og=B6(qx),D8=aS(Og),Xx=e6(Ro),R8=v6(Og),Zx=x6(Ro),$x=new WeakMap,I8=O6($x,Qa),V8=_A(Xx,Ro,Si,xc,id,Ih,Ms,sd,as,Zx,Lg,I8,yc),F8=bA(Si,V8,Ms,as,yc),B8=zS(Io,Xx,Rh,xc,id,Ih,Ms,R8,Zx,Lg,mr,Gf,wl,Vo,Di,wp),q8=I6(Wx),z8=aN($x),ub=Gx?FS(D8,Gr,io,B8,F8,is,q8,ar,Kn,Gf,AN,z8,MN,Dh):void 0,P8=c6(as,wl),U8=lN(Eg,ro,Ng,Og,wp,P1,kg,Mg),H8=YA(Yx,ro,Si,P8,U8),G8=W6(vp,Cg),W8=Y6(gg,Tg),Y8=X6(vg,Dx),X8=Z6(vp,Kn);function ba(r){return r===void 0}function xn(r){return r!==void 0}function Z8(r){return typeof r=="function"}function vl(r){return typeof r=="number"}function iu(r){return Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object}function $8(r){return typeof r=="boolean"}function Ks(r){return Array.isArray(r)}function bl(r){return typeof r=="string"}function d1(r){return bl(r)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(r)}function Zt(r,e){if(!r)throw new Error(e)}function yl(r,e,t=1/0){if(!(e<=r&&r<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${r}`)}function Kx(r){!r.isOffline&&r.state!=="running"&&Sp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Qx=!1,hb=!1;function fb(r){Qx=r}function K8(r){ba(r)&&Qx&&!hb&&(hb=!0,Sp("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Jx=console;function Q8(...r){Jx.log(...r)}function Sp(...r){Jx.warn(...r)}function J8(r){return new j8(r)}function eC(r,e,t){return new H8(r,e,t)}const Ys=typeof self=="object"?self:null,tC=Ys&&(Ys.hasOwnProperty("AudioContext")||Ys.hasOwnProperty("webkitAudioContext"));function nC(r,e,t){return Zt(xn(ub),"AudioWorkletNode only works in a secure context (https or localhost)"),new(r instanceof Ys?.BaseAudioContext?Ys?.AudioWorkletNode:ub)(r,e,t)}function so(r,e,t,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var c=r.length-1;c>=0;c--)(h=r[c])&&(o=(a<3?h(o):a>3?h(e,t,o):h(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function Jr(r,e,t,i){function a(o){return o instanceof t?o:new t(function(h){h(o)})}return new(t||(t=Promise))(function(o,h){function c(m){try{d(i.next(m))}catch(y){h(y)}}function f(m){try{d(i.throw(m))}catch(y){h(y)}}function d(m){m.done?o(m.value):a(m.value).then(c,f)}d((i=i.apply(r,e||[])).next())})}class rC{constructor(e,t,i,a){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),i=new Worker(t);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function cu(r){return Y8(r)}function hc(r){return W8(r)}function k1(r){return X8(r)}function fh(r){return G8(r)}function iC(r){return r instanceof Ix}function sC(r,e){return r==="value"||cu(e)||hc(e)||iC(e)}function su(r,...e){if(!e.length)return r;const t=e.shift();if(iu(r)&&iu(t))for(const i in t)sC(i,t[i])?r[i]=t[i]:iu(t[i])?(r[i]||Object.assign(r,{[i]:{}}),su(r[i],t[i])):Object.assign(r,{[i]:t[i]});return su(r,...e)}function aC(r,e){return r.length===e.length&&r.every((t,i)=>e[i]===t)}function Ht(r,e,t=[],i){const a={},o=Array.from(e);if(iu(o[0])&&i&&!Reflect.has(o[0],i)&&(Object.keys(o[0]).some(c=>Reflect.has(r,c))||(su(a,{[i]:o[0]}),t.splice(t.indexOf(i),1),o.shift())),o.length===1&&iu(o[0]))su(a,o[0]);else for(let h=0;h<t.length;h++)xn(o[h])&&(a[t[h]]=o[h]);return su(r,a)}function oC(r){return r.constructor.getDefaults()}function wh(r,e){return ba(r)?e:r}function Za(r,e){return e.forEach(t=>{Reflect.has(r,t)&&delete r[t]}),r}class _l{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Ys&&this.toString()===Ys.TONE_DEBUG_CLASS)&&Q8(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}_l.version=ix;const jg=1e-6;function Mh(r,e){return r>e+jg}function Xm(r,e){return Mh(r,e)||Xa(r,e)}function Z1(r,e){return r+jg<e}function Xa(r,e){return Math.abs(r-e)<jg}function lC(r,e,t){return Math.max(Math.min(r,t),e)}let jo=class e3 extends _l{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Ht(e3.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Zt(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];Zt(Xm(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const i=this._search(e,t);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const i=this._search(e,t);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const i=this._search(e);return i-1>=0?this._timeline[i-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Xa(this._timeline[t].time,e)){for(let i=t;i>=0&&Xa(this._timeline[i].time,e);i--)t=i;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&Xm(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let i=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][t]<=e)return a-1;for(;i<o;){let h=Math.floor(i+(o-i)/2);const c=this._timeline[h],f=this._timeline[h+1];if(Xa(c[t],e)){for(let d=h;d<this._timeline.length;d++){const m=this._timeline[d];if(Xa(m[t],e))h=d;else break}return h}else{if(Z1(c[t],e)&&Mh(f[t],e))return h;Mh(c[t],e)?o=h:i=h+1}}return-1}_iterate(e,t=0,i=this._timeline.length-1){this._timeline.slice(t,i+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const i=this._search(e);return i!==-1&&this._iterate(t,0,i),this}forEachAfter(e,t){const i=this._search(e);return this._iterate(t,i+1),this}forEachBetween(e,t,i){let a=this._search(e),o=this._search(t);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===t&&(o-=1),this._iterate(i,a,o)):a===-1&&this._iterate(i,0,o),this}forEachFrom(e,t){let i=this._search(e);for(;i>=0&&this._timeline[i].time>=e;)i--;return this._iterate(t,i+1),this}forEachAtTime(e,t){const i=this._search(e);if(i!==-1&&Xa(this._timeline[i].time,e)){let a=i;for(let o=i;o>=0&&Xa(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{t(o)},a,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}};const t3=[];function Ap(r){t3.push(r)}function cC(r){t3.forEach(e=>e(r))}const n3=[];function Np(r){n3.push(r)}function uC(r){n3.forEach(e=>e(r))}class ld extends _l{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(a=>{ba(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(t)}),this}once(e,t){const i=(...a)=>{t(...a),this.off(e,i)};return this.on(e,i),this}off(e,t){return e.split(/\W+/).forEach(a=>{if(ba(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(ba(t))this._events[a]=[];else{const o=this._events[a];for(let h=o.length-1;h>=0;h--)o[h]===t&&o.splice(h,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(let a=0,o=i.length;a<o;a++)i[a].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const i=Object.getOwnPropertyDescriptor(ld.prototype,t);Object.defineProperty(e.prototype,t,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class r3 extends ld{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let Dg=class i3 extends r3{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new jo,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=Ht(i3.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=J8({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new rC(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(cC(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,i){return this._context.createBuffer(e,t,i)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,i){return this._context.createPeriodicWave(e,t,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Zt(fh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Zt(fh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Zt(fh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Zt(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Zt(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Zt(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Zt(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return nC(this.rawContext,e,t)}addAudioWorkletModule(e){return Jr(this,void 0,void 0,function*(){Zt(xn(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Jr(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return fh(this._context)?this._context.resume():Promise.resolve()}close(){return Jr(this,void 0,void 0,function*(){fh(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&uC(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),i=t.getChannelData(0);for(let o=0;o<i.length;o++)i[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=t,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:i+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const i=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:i,time:o+t})};return a(),i}};class hC extends r3{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,i){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Jr(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function gr(r,e){Ks(e)?e.forEach(t=>gr(r,t)):Object.defineProperty(r,e,{enumerable:!0,writable:!1})}function Rg(r,e){Ks(e)?e.forEach(t=>Rg(r,t)):Object.defineProperty(r,e,{writable:!0})}const $n=()=>{};class dr extends _l{constructor(){super(),this.name="ToneAudioBuffer",this.onload=$n;const e=Ht(dr.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,bl(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:$n,onload:$n,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:$a().sampleRate}set(e){return e instanceof dr?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Jr(this,void 0,void 0,function*(){const t=dr.load(e).then(i=>{this.set(i),this.onload(this)});dr.downloads.push(t);try{yield t}finally{const i=dr.downloads.indexOf(t);dr.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Ks(e)&&e[0].length>0,i=t?e.length:1,a=t?e[0].length:e.length,o=$a(),h=o.createBuffer(i,a,o.sampleRate),c=!t&&i===1?[e]:e;for(let f=0;f<i;f++)h.copyToChannel(c[f],f);return this._buffer=h,this}toMono(e){if(vl(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const i=this.numberOfChannels;for(let a=0;a<i;a++){const o=this.toArray(a);for(let h=0;h<o.length;h++)t[h]+=o[h]}t=t.map(a=>a/i),this.fromArray(t)}return this}toArray(e){if(vl(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let i=0;i<this.numberOfChannels;i++)t[i]=this.getChannelData(i);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){Zt(this.loaded,"Buffer is not loaded");const i=Math.floor(e*this.sampleRate),a=Math.floor(t*this.sampleRate);Zt(i<a,"The start time must be less than the end time");const o=a-i,h=$a().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)h.copyToChannel(this.getChannelData(c).subarray(i,a),c);return new dr(h)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new dr().fromArray(e)}static fromUrl(e){return Jr(this,void 0,void 0,function*(){return yield new dr().load(e)})}static load(e){return Jr(this,void 0,void 0,function*(){const t=dr.baseUrl===""||dr.baseUrl.endsWith("/")?dr.baseUrl:dr.baseUrl+"/",i=yield fetch(t+e);if(!i.ok)throw new Error(`could not load url: ${e}`);const a=yield i.arrayBuffer();return yield $a().decodeAudioData(a)})}static supportsType(e){const t=e.split("."),i=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return Jr(this,void 0,void 0,function*(){for(yield Promise.resolve();dr.downloads.length;)yield dr.downloads[0]})}}dr.baseUrl="";dr.downloads=[];class Ig extends Dg{constructor(){super({clockSource:"offline",context:k1(arguments[0])?arguments[0]:eC(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:k1(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=k1(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Jr(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const i=Math.floor(this.sampleRate/128);e&&t%i===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return Jr(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new dr(t)})}close(){return Promise.resolve()}}const s3=new hC;let nu=s3;function $a(){return nu===s3&&tC&&fC(new Dg),nu}function fC(r,e=!1){e&&nu.dispose(),fh(r)?nu=new Dg(r):k1(r)?nu=new Ig(r):nu=r}function cd(){return nu.resume()}if(Ys&&!Ys.TONE_SILENCE_LOGGING){const e=` * Tone.js v${ix} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function dC(r){return Math.pow(10,r/20)}function pC(r){return 20*(Math.log(r)/Math.LN10)}function a3(r){return Math.pow(2,r/12)}let Cp=440;function mC(){return Cp}function gC(r){Cp=r}function ru(r){return Math.round(o3(r))}function o3(r){return 69+12*Math.log2(r/Cp)}function l3(r){return Cp*Math.pow(2,(r-69)/12)}class Vg extends _l{constructor(e,t,i){super(),this.defaultUnits="s",this._val=t,this._units=i,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const i=parseInt(e,10),a=t==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/i)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,i)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a+=this._beatsToUnits(parseFloat(t))),i&&i!=="0"&&(a+=this._beatsToUnits(parseFloat(i)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Vg&&this.fromType(this._val),ba(this._val))return this._noArg();if(bl(this._val)&&ba(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(iu(this._val)){let e=0;for(const t in this._val)if(xn(this._val[t])){const i=this._val[t],a=new this.constructor(this.context,t).valueOf()*i;e+=a}return e}if(xn(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return bl(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Ka extends Vg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Ka(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const i=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),c=Math.round(a/i)*i-a;return a+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let o=1;o<9;o++){const h=Math.pow(2,o);t.push(h+"n."),t.push(h+"n"),t.push(h+"t")}t.push("0");let i=t[0],a=new Ka(this.context,t[0]).toSeconds();return t.forEach(o=>{const h=new Ka(this.context,o).toSeconds();Math.abs(h-e)<Math.abs(a-e)&&(i=o,a=h)}),i}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const i=Math.floor(t/this._getTimeSignature());let a=t%1*4;t=Math.floor(t)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[i,t,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return ru(this.toFrequency())}_now(){return this.context.now()}}class Xs extends Ka{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return mC()}static set A4(e){gC(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Xs.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const a=vC[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?a:Xs.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,i){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a*=this._beatsToUnits(parseFloat(t))),i&&i!=="0"&&(a*=this._beatsToUnits(parseFloat(i)/4)),a}}})}transpose(e){return new Xs(this.context,this.valueOf()*a3(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return ru(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Xs.A4);let i=Math.round(12*t)+57;const a=Math.floor(i/12);return a<0&&(i+=-12*a),bC[i%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return l3(e)}static ftom(e){return ru(e)}}const vC={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},bC=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Rf extends Ka{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ks extends _l{constructor(){super();const e=Ht(ks.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:$a()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return K8(e),new Ka(this.context,e).toSeconds()}toFrequency(e){return new Xs(this.context,e).toFrequency()}toTicks(e){return new Rf(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(i=>{ba(e[i])&&delete t[i]}),t}get(){const e=oC(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const i=this[t];xn(i)&&xn(i.value)&&xn(i.setValueAtTime)?e[t]=i.value:i instanceof ks?e[t]=i._getPartialProperties(e[t]):Ks(i)||vl(i)||bl(i)||$8(i)?e[t]=i:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&xn(this[t])&&(this[t]&&xn(this[t].value)&&xn(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof ks?this[t].set(e[t]):this[t]=e[t])}),this}}class Fg extends jo{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,i){return yl(t,0),this.add(Object.assign({},i,{state:e,time:t})),this}getLastState(e,t){const i=this._search(t);for(let a=i;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,t){const i=this._search(t);if(i!==-1)for(let a=i;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class nr extends ks{constructor(){const e=Ht(nr.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Zt(xn(e.param)&&(cu(e.param)||e.param instanceof nr),"param must be an AudioParam");!cu(e.param);)e.param=e.param._param;this._swappable=xn(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new jo(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,xn(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ks.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return xn(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return xn(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return xn(this.maxValue)&&xn(this.minValue)&&yl(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?dC(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?pC(e):e}setValueAtTime(e,t){const i=this.toSeconds(t),a=this._fromType(e);return Zt(isFinite(a)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,i),this._events.add({time:i,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,i),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),i=this._events.getAfter(t),a=this._events.get(t);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const h=this._events.getBefore(a.time);let c;h===null?c=this._initialValue:c=h.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,t))}else if(i===null)o=a.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let h=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?h=this._initialValue:h=c.value}i.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,h,i.time,i.value,t):o=this._exponentialInterpolate(a.time,h,i.time,i.value,t)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const i=this._fromType(e),a=this.toSeconds(t);return Zt(isFinite(i)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(i),this._events.add({time:a,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(i,a),this}exponentialRampToValueAtTime(e,t){let i=this._fromType(e);i=Xa(i,0)?this._minOutput:i,this._assertRange(i);const a=this.toSeconds(t);return Zt(isFinite(i)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(i,a),this}exponentialRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(e,i+this.toSeconds(t)),this}linearRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(e,i+this.toSeconds(t)),this}targetRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(e,i,t),this}exponentialApproachValueAtTime(e,t,i){t=this.toSeconds(t),i=this.toSeconds(i);const a=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(e,t,a),this.cancelAndHoldAtTime(t+i*.9),this.linearRampToValueAtTime(e,t+i),this}setTargetAtTime(e,t,i){const a=this._fromType(e);Zt(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(t);return this._assertRange(a),Zt(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:i,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,i),this._param.setTargetAtTime(a,o,i),this}setValueCurveAtTime(e,t,i,a=1){i=this.toSeconds(i),t=this.toSeconds(t);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),t);const h=i/(e.length-1);for(let c=1;c<e.length;c++){const f=this._fromType(e[c])*a;this.linearRampToValueAtTime(this._toType(f),t+c*h)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return Zt(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),i=this._fromType(this.getValueAtTime(t));Zt(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+i);const a=this._events.get(t),o=this._events.getAfter(t);return a&&Xa(a.time,t)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),t):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),t)),this._events.add({time:t,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,t),this}rampTo(e,t=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,i):this.linearRampTo(e,t,i),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const i=this._events.get(t);if(i&&i.type==="setTargetAtTime"){const a=this._events.getAfter(i.time),o=a?a.time:t+2,h=(o-t)/10;for(let c=t;c<o;c+=h)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){Zt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,i,a,o){return i+(t-i)*Math.exp(-(o-e)/a)}_linearInterpolate(e,t,i,a,o){return t+(a-t)*((o-e)/(i-e))}_exponentialInterpolate(e,t,i,a,o){return t*Math.pow(a/t,(o-e)/(i-e))}}class tn extends ks{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return xn(this.input)?cu(this.input)||this.input instanceof nr?1:this.input.numberOfInputs:0}get numberOfOutputs(){return xn(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return xn(e)&&(e instanceof tn||hc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(i=>{i.channelCount=e.channelCount,i.channelCountMode=e.channelCountMode,i.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Zt(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,i=0){return Vh(this,e,t,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Sp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,i=0){return yC(this,e,t,i),this}chain(...e){return Wf(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),xn(this.input)&&(this.input instanceof tn?this.input.dispose():hc(this.input)&&this.input.disconnect()),xn(this.output)&&(this.output instanceof tn?this.output.dispose():hc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Wf(...r){const e=r.shift();r.reduce((t,i)=>(t instanceof tn?t.connect(i):hc(t)&&Vh(t,i),i),e)}function Vh(r,e,t=0,i=0){for(Zt(xn(r),"Cannot connect from undefined node"),Zt(xn(e),"Cannot connect to undefined node"),(e instanceof tn||hc(e))&&Zt(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Zt(r.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof tn||e instanceof nr;)xn(e.input)&&(e=e.input);for(;r instanceof tn;)xn(r.output)&&(r=r.output);cu(e)?r.connect(e,t):r.connect(e,t,i)}function yC(r,e,t=0,i=0){if(xn(e))for(;e instanceof tn;)e=e.input;for(;!hc(r);)xn(r.output)&&(r=r.output);cu(e)?r.disconnect(e,t):hc(e)?r.disconnect(e,t,i):r.disconnect()}class ei extends tn{constructor(){const e=Ht(ei.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new nr({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),gr(this,"gain")}static getDefaults(){return Object.assign(tn.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Lh extends tn{constructor(e){super(e),this.onended=$n,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ei({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const i=this.toSeconds(t);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(tn.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:$n})}_startGain(e,t=1){Zt(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=e+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+i):this._gainNode.gain.exponentialApproachValueAtTime(t,e,i)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Zt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==$n&&(this.onended(this),this.onended=$n,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Zt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=$n,this}}class Bg extends Lh{constructor(){const e=Ht(Bg.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Vh(this._source,this._gainNode),this.offset=new nr({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Lh.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class sr extends tn{constructor(){const e=Ht(sr.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Bg({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(tn.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,i=0){return qg(this,e,t,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,i){return this._param.exponentialRampTo(e,t,i),this}linearRampTo(e,t,i){return this._param.linearRampTo(e,t,i),this}targetRampTo(e,t,i){return this._param.targetRampTo(e,t,i),this}exponentialApproachValueAtTime(e,t,i){return this._param.exponentialApproachValueAtTime(e,t,i),this}setTargetAtTime(e,t,i){return this._param.setTargetAtTime(e,t,i),this}setValueCurveAtTime(e,t,i,a){return this._param.setValueCurveAtTime(e,t,i,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,i){return this._param.rampTo(e,t,i),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function qg(r,e,t,i){(e instanceof nr||cu(e)||e instanceof sr&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof sr&&(e.overridden=!0)),Vh(r,e,t,i)}class zg extends nr{constructor(){const e=Ht(zg.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new jo(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(nr.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,i){t=this.toSeconds(t),this.setRampPoint(t);const a=this._fromType(e),o=this._events.get(t),h=Math.round(Math.max(1/i,1));for(let c=0;c<=h;c++){const f=i*c+t,d=this._exponentialApproach(o.time,o.value,a,i,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(e,t){const i=this.toSeconds(t);super.setValueAtTime(e,t);const a=this._events.get(i),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,i);return a.ticks=Math.max(h,0),this}linearRampToValueAtTime(e,t){const i=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const a=this._events.get(i),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,i);return a.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const i=this._fromType(e),a=this._events.get(t),o=Math.round(Math.max((t-a.time)*10,1)),h=(t-a.time)/o;for(let c=0;c<=o;c++){const f=h*c+a.time,d=this._exponentialInterpolate(a.time,a.value,t,i,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ba(e.ticks)){const h=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(h,e.time)}const i=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(t));const o=this._events.get(t);return o&&o.time===t&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(i+a)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),i=this._events.get(t);return Math.max(this._getTicksUntilEvent(i,t),0)}getDurationOfTicks(e,t){const i=this.toSeconds(t),a=this.getTicksAtTime(t);return this.getTimeOfTick(a+e)-i}getTimeOfTick(e){const t=this._events.get(e,"ticks"),i=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&i&&i.type==="linearRampToValueAtTime"&&t.value!==i.value){const a=this._fromType(this.getValueAtTime(t.time)),h=(this._fromType(this.getValueAtTime(i.time))-a)/(i.time-t.time),c=Math.sqrt(Math.pow(a,2)-2*h*(t.ticks-e)),f=(-a+c)/h,d=(-a-c)/h;return(f>0?f:d)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const i=this.toSeconds(t),a=this.toSeconds(e),o=this.getTicksAtTime(i);return this.getTicksAtTime(i+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Pg extends sr{constructor(){const e=Ht(Pg.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new zg({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(sr.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Ug extends ks{constructor(){const e=Ht(Ug.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Fg,this._tickOffset=new jo,this._ticksAtTime=new jo,this._secondsAtTime=new jo,this.frequency=new Pg({context:this.context,units:e.units,value:e.frequency}),gr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ks.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const i=this.toSeconds(e);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),xn(t)&&this.setTicksAtTime(t,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const i=this._state.get(t);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),i=this._state.getLastState("stopped",t),a=this._ticksAtTime.get(t),o={state:"paused",time:t};this._state.add(o);let h=a||i,c=a?a.ticks:0,f=null;return this._state.forEachBetween(h.time,t+this.sampleTime,d=>{let m=h.time;const y=this._tickOffset.get(d.time);y&&y.time>=h.time&&(c=y.ticks,m=y.time),h.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(m),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),h=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),i=this.frequency.timeToTicks(e,t);this.setTicksAtTime(i,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);const a=this._secondsAtTime.get(e);let o=a||t,h=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,e+this.sampleTime,f=>{let d=o.time;const m=this._tickOffset.get(f.time);m&&m.time>=o.time&&(h=m.seconds,d=m.time),o.state==="started"&&f.state!=="started"&&(h+=f.time-d,f.time!==i.time&&(c={state:f.state,time:f.time,seconds:h})),o=f}),this._state.remove(i),c&&this._secondsAtTime.add(c),h}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const i=this._tickOffset.get(t),a=this._state.get(t),o=Math.max(i.time,a.time),h=this.frequency.getTicksAtTime(o)+e-i.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(e,t,i){let a=this._state.get(e);this._state.forEachBetween(e,t,h=>{a&&a.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),h.time-this.sampleTime,i),a=h});let o=null;if(a&&a.state==="started"){const h=Math.max(a.time,e),c=this.frequency.getTicksAtTime(h),f=this.frequency.getTicksAtTime(a.time),d=c-f;let m=Math.ceil(d)-d;m=Xa(m,1)?0:m;let y=this.frequency.getTimeOfTick(c+m);for(;y<t;){try{i(y,Math.round(this.getTicksAtTime(y)))}catch(w){o=w;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}let c3=class u3 extends ks{constructor(){const e=Ht(u3.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=$n,this._lastUpdate=0,this._state=new Fg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Ug({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,gr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ks.getDefaults(),{callback:$n,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){Kx(this.context);const i=this.toSeconds(e);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,t),i<this._lastUpdate&&this.emit("start",i,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const i=this.toSeconds(t),a=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(a+e,i)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,i=>{switch(i.state){case"started":const a=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,a);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(e,t,(i,a)=>{this.callback(i,a)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};ld.mixin(c3);class Fh extends tn{constructor(){const e=Ht(Fh.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new ei({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,gr(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(tn.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Hg extends tn{constructor(){const e=Ht(Hg.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Fh({context:this.context}),this.output=new ei({context:this.context}),this.volume=this.input.volume,Wf(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(tn.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Wf(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ap(r=>{r.destination=new Hg({context:r})});Np(r=>{r.destination.dispose()});class xC extends tn{constructor(){super(...arguments),this.name="Listener",this.positionX=new nr({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new nr({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new nr({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new nr({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new nr({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new nr({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new nr({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new nr({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new nr({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(tn.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ap(r=>{r.listener=new xC({context:r})});Np(r=>{r.listener.dispose()});class Gg extends _l{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Ht(Gg.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const i=e.urls[t];this.add(t,i,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:$n,onload:$n,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Zt(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,i=$n,a=$n){return bl(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new dr(this.baseUrl+t,i,a))):this._buffers.set(e.toString(),new dr(t,i,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class $1 extends Xs{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return ru(super._frequencyToUnits(e))}_ticksToUnits(e){return ru(super._ticksToUnits(e))}_beatsToUnits(e){return ru(super._beatsToUnits(e))}_secondsToUnits(e){return ru(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return l3(this.toMidi())}transpose(e){return new $1(this.context,this.toMidi()+e)}}class bh extends Rf{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class wC extends ks{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new jo,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ap(r=>{r.draw=new wC({context:r})});Np(r=>{r.draw.dispose()});class _C extends _l{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Zt(xn(e.time),"Events must have a time property"),Zt(xn(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new SC(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const i of t)if(i.event===e){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let i,a=null;if(t>0)if(e.left.right===null)i=e.left,i.right=e.right,a=i;else{for(i=e.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,a=i.parent,i.left=e.left,i.right=e.right)}else if(e.right.left===null)i=e.right,i.left=e.left,a=i;else{for(i=e.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,a=i.parent,i.left=e.left,i.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=i:e.parent.right=i:this._setRoot(i),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const t=e.parent,i=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),t!==null?i?t.left=a:t.right=a:this._setRoot(a)}_rotateRight(e){const t=e.parent,i=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),t!==null?i?t.left=a:t.right=a:this._setRoot(a)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let i=t[0];for(let a=1;a<t.length;a++)t[a].low>i.low&&(i=t[a]);return i.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(i=>t.push(i)),t.forEach(i=>{i.event&&e(i.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const i=[];this._root.search(e,i),i.forEach(a=>{a.event&&t(a.event)})}return this}forEachFrom(e,t){if(this._root!==null){const i=[];this._root.searchAfter(e,i),i.forEach(a=>{a.event&&t(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class SC{constructor(e,t,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class AC extends _l{constructor(e){super(),this.name="TimelineValue",this._timeline=new jo({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class fc extends tn{constructor(){super(Ht(fc.getDefaults(),arguments,["context"]))}connect(e,t=0,i=0){return qg(this,e,t,i),this}}class ud extends fc{constructor(){const e=Ht(ud.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Ks(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Z8(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(sr.getDefaults(),{length:1024})}setMap(e,t=1024){const i=new Float32Array(t);for(let a=0,o=t;a<o;a++){const h=a/(o-1)*2-1;i[a]=e(h,a)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(i=>i.includes(e));Zt(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Tp extends fc{constructor(){const e=Ht(Tp.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new ud({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(fc.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class dc{constructor(e,t){this.id=dc._eventId++,this._remainderTime=0;const i=Object.assign(dc.getDefaults(),t);this.transport=e,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:$n,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}dc._eventId=0;class Wg extends dc{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(Wg.getDefaults(),t);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},dc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Z1(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new bh(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Z1(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new bh(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Mh(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Ep extends ks{constructor(){const e=Ht(Ep.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new AC(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new jo,this._repeatedEvents=new _C,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new c3({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),gr(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(ks.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const i=t%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(i*Math.PI)*this._swingAmount;e+=new bh(this.context,this._swingTicks*2/3).toSeconds()*a}fb(!0),this._timeline.forEachAtTime(t,i=>i.invoke(e)),fb(!1)}schedule(e,t){const i=new dc(this,{callback:e,time:new Rf(this.context,t).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(e,t,i,a=1/0){const o=new Wg(this,{callback:e,duration:new Ka(this.context,a).toTicks(),interval:new Ka(this.context,t).toTicks(),time:new Rf(this.context,i).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,t){const i=new dc(this,{callback:e,once:!0,time:new Rf(this.context,t).toTicks()});return this._addEvent(i,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(t,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new bh(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let i;return xn(t)&&(i=this.toTicks(t)),this._clock.start(e,i),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Ks(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Ka(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Ka(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new bh(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new bh(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),i=this._clock.frequency.timeToTicks(e,t);this.ticks=i}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(t),a=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,t),o=t+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),i=this.getTicksAtTime(t),a=e-i%e;return this._clock.nextTickTime(a,t)}}syncSignal(e,t){const i=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(i)/this.PPQ),h=[];if(e.units==="time"){const f=.015625/o,d=new ei(f),m=new Tp(-1),y=new ei(f);a.chain(d,m,y),a=y,o=1/o,h=[d,m,y]}t||(e.getValueAtTime(i)!==0?t=e.getValueAtTime(i)/o:t=0);const c=new ei(t);return a.connect(c),c.connect(e._param),h.push(c),this._syncedSignals.push({initial:e.value,nodes:h,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const i=this._syncedSignals[t];i.signal===e&&(i.nodes.forEach(a=>a.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Rg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}ld.mixin(Ep);Ap(r=>{r.transport=new Ep({context:r})});Np(r=>{r.transport.dispose()});class Gi extends tn{constructor(e){super(e),this.input=void 0,this._state=new Fg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=$n,this._syncedStop=$n,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Fh({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,gr(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(tn.getDefaults(),{mute:!1,onstop:$n,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,i){let a=ba(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")Zt(Mh(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,t,i);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(wh(t,0)),o.duration=i?this.toSeconds(i):void 0);const h=this.context.transport.schedule(c=>{this._start(c,t,i)},a);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else Kx(this.context),this._start(a,t,i);return this}stop(e){let t=ba(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||xn(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const i=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(i)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,i){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Mh(t,0)){const i=this._state.get(t);if(i&&i.state==="started"&&i.time!==t){const a=t-this.toSeconds(i.time);let o;i.duration&&(o=this.toSeconds(i.duration)-a),this._start(e,this.toSeconds(i.offset)+a,o)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=$n,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class kp extends Lh{constructor(){const e=Ht(kp.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Vh(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new nr({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new dr(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Lh.getDefaults(),{url:new dr,loop:!1,loopEnd:0,loopStart:0,onload:$n,onerror:$n,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,i,a=1){Zt(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?t=wh(t,this.loopStart):t=wh(t,0);let h=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;Xm(h,c)&&(h=(h-f)%d+f),Xa(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Z1(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,h)),xn(i)){let c=this.toSeconds(i);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function pu(r,e){return Jr(this,void 0,void 0,function*(){const t=e/r.context.sampleRate,i=new Ig(1,t,r.context.sampleRate);return new r.constructor(Object.assign(r.get(),{frequency:2/t,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class Yg extends Lh{constructor(){const e=Ht(Yg.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Vh(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new nr({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new nr({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),gr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Lh.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Qr extends Gi{constructor(){const e=Ht(Qr.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new sr({context:this.context,units:"frequency",value:e.frequency}),gr(this,"frequency"),this.detune=new sr({context:this.context,units:"cents",value:e.detune}),gr(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Gi.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),i=new Yg({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Qr._periodicWaveCache.find(t=>t.phase===this._phase&&aC(t.partials,this._partials));{const e=Qr._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const i=this._getCachedPeriodicWave();if(xn(i)){const{partials:a,wave:o}=i;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),h=this.context.createPeriodicWave(a,o);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Qr._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Qr._periodicWaveCache.length>100&&Qr._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){yl(e,0);let t=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(t=i[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,h)=>a[h]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,t){let a=2048;const o=new Float32Array(a),h=new Float32Array(a);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,h]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let m;switch(e){case"sine":m=f<=c?1:0,this._partials[f-1]=m;break;case"square":m=f&1?2*d:0,this._partials[f-1]=m;break;case"sawtooth":m=d*(f&1?1:-1),this._partials[f-1]=m;break;case"triangle":f&1?m=2*(d*d)*(f-1>>1&1?-1:1):m=0,this._partials[f-1]=m;break;case"custom":m=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}m!==0?(o[f]=-m*Math.sin(t*f),h[f]=m*Math.cos(t*f)):(o[f]=0,h[f]=0)}return[o,h]}_inverseFFT(e,t,i){let a=0;const o=e.length;for(let h=0;h<o;h++)a+=e[h]*Math.cos(h*i)+t[h]*Math.sin(h*i);return a}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let i=0;const a=Math.PI*2,o=32;for(let h=0;h<o;h++)i=Math.max(this._inverseFFT(e,t,h/o*a),i);return lC(-this._inverseFFT(e,t,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return pu(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Qr._periodicWaveCache=[];class h3 extends fc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ud({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class xl extends sr{constructor(){const e=Ht(xl.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new ei({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(sr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Mp extends Gi{constructor(){const e=Ht(Mp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new h3({context:this.context}),this._modulationNode=new ei({context:this.context}),this._carrier=new Qr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Qr({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new xl({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),gr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return pu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Lp extends Gi{constructor(){const e=Ht(Lp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new ei({context:this.context,gain:0}),this._carrier=new Qr({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new sr({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Qr({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new xl({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new xl({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),gr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return pu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class hd extends Gi{constructor(){const e=Ht(hd.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new ei({context:this.context,gain:0}),this._thresh=new ud({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new sr({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Qr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),gr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Gi.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return pu(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Op extends Gi{constructor(){const e=Ht(Op.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new sr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new sr({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,gr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,i=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=t+i*o)}}get count(){return this._oscillators.length}set count(e){if(yl(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const i=new Qr({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):$n});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[t]=i}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,i)=>t.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return pu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class jp extends Gi{constructor(){const e=Ht(jp.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new xl({context:this.context,value:2}),this._pulse=new hd({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Qr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),gr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Gi.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return pu(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const db={am:Mp,fat:Op,fm:Lp,oscillator:Qr,pulse:hd,pwm:jp};class pc extends Gi{constructor(){const e=Ht(pc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new sr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new sr({context:this.context,units:"cents",value:e.detune}),gr(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Qr.getDefaults(),Lp.getDefaults(),Mp.getDefaults(),Op.getDefaults(),hd.getDefaults(),jp.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=db[e],i=this.now();if(this._oscillator){const a=this._oscillator;a.stop(i),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof db[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&vl(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&vl(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&bl(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return pu(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Xg extends sr{constructor(){super(Ht(Xg.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new ei({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Wf(this._constantSource,this._sum)}static getDefaults(){return Object.assign(sr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Zg extends fc{constructor(){const e=Ht(Zg.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new xl({context:this.context,value:e.max-e.min}),this._add=this.output=new Xg({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(fc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function f3(r,e=1/0){const t=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){yl(o,r,e),t.set(this,o)}})}}function Sl(r,e=1/0){const t=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){yl(this.toSeconds(o),r,e),t.set(this,o)}})}}class Dp extends Gi{constructor(){const e=Ht(Dp.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new dr({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Gi.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:$n,onerror:$n,playbackRate:1,reverse:!1})}load(e){return Jr(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=$n){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,i){return super.start(e,t,i),this}_start(e,t,i){this._loop?t=wh(t,this._loopStart):t=wh(t,0);const a=this.toSeconds(t),o=i;i=wh(i,Math.max(this._buffer.duration-a,0));let h=this.toSeconds(i);h=h/this._playbackRate,e=this.toSeconds(e);const c=new kp({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+h),this._state.setStateAtTime("stopped",e+h,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&ba(o)?c.start(e,a):c.start(e,a,h-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(i=>i.stop(t))}restart(e,t,i){return super.restart(e,t,i),this}_restart(e,t,i){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,t,i)}seek(e,t){const i=this.toSeconds(t);if(this._state.getValueAtTime(i)==="started"){const a=this.toSeconds(e);this._stop(i),this._start(i,a)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&yl(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&yl(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),i=this._state.getNextState("stopped",t);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}so([Sl(0)],Dp.prototype,"fadeIn",void 0);so([Sl(0)],Dp.prototype,"fadeOut",void 0);class Qs extends tn{constructor(){const e=Ht(Qs.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new sr({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(tn.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(bl(e))return e;{let i;for(i in p1)if(p1[i][t]===e)return i;return e}}_setCurve(e,t,i){if(bl(i)&&Reflect.has(p1,i)){const a=p1[i];iu(a)?e!=="_decayCurve"&&(this[e]=a[t]):this[e]=a}else if(Ks(i)&&e!=="_decayCurve")this[e]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),h=this.getValueAtTime(e);if(h>0){const c=1/a;a=(1-h)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,a,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=h&&h<=c[f]){c=this._attackCurve.slice(f),c[0]=h;break}this._sig.setValueCurveAtTime(c,e,a,t)}if(o&&this.sustain<1){const c=t*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,e):(Zt(Ks(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,i,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,i=1){return t=this.toSeconds(t),this.triggerAttack(t,i),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,i=0){return qg(this,e,t,i),this}asArray(){return Jr(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,i=new Ig(1,t,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),h=o*.1,c=o+h,f=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:i}));return f._sig.toDestination(),f.triggerAttackRelease(t*(a+h)/c,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}so([Sl(0)],Qs.prototype,"attack",void 0);so([Sl(0)],Qs.prototype,"decay",void 0);so([f3(0,1)],Qs.prototype,"sustain",void 0);so([Sl(0)],Qs.prototype,"release",void 0);const p1=(()=>{let e,t;const i=[];for(e=0;e<128;e++)i[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){t=e/127;const w=Math.sin(t*(Math.PI*2)*o-Math.PI/2)+1;a[e]=w/10+t*.83}a[127]=1;const h=[],c=5;for(e=0;e<128;e++)h[e]=Math.ceil(e/127*c)/c;const f=[];for(e=0;e<128;e++)t=e/127,f[e]=.5*(1-Math.cos(Math.PI*t));const d=[];for(e=0;e<128;e++){t=e/127;const w=Math.pow(t,3)*4+.2,v=Math.cos(w*Math.PI*2*t);d[e]=Math.abs(v*(1-t))}function m(w){const v=new Array(w.length);for(let S=0;S<w.length;S++)v[S]=1-w[S];return v}function y(w){return w.slice(0).reverse()}return{bounce:{In:m(d),Out:d},cosine:{In:i,Out:y(i)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:m(a)},sine:{In:f,Out:m(f)},step:{In:h,Out:m(h)}}})();class mc extends tn{constructor(){const e=Ht(mc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Fh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,gr(this,"volume")}static getDefaults(){return Object.assign(tn.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const i=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[t],h=this.context.transport.schedule(c=>{a[t]=c,i.apply(this,a)},o);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,i,a){const o=this.toSeconds(i),h=this.toSeconds(t);return this.triggerAttack(e,o,a),this.triggerRelease(o+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ja extends mc{constructor(){const e=Ht(Ja.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(mc.getDefaults(),{detune:0,onsilence:$n,portamento:0})}triggerAttack(e,t,i=1){this.log("triggerAttack",e,t,i);const a=this.toSeconds(t);return this._triggerEnvelopeAttack(a,i),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const i=this.toSeconds(t),a=e instanceof Xs?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,i)}else this.frequency.setValueAtTime(a,i);return this}}so([Sl(0)],Ja.prototype,"portamento",void 0);class Rp extends Qs{constructor(){super(Ht(Rp.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ei({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class va extends Ja{constructor(){const e=Ht(va.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new pc(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Rp(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),gr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{envelope:Object.assign(Za(Qs.getDefaults(),Object.keys(tn.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Za(pc.getDefaults(),[...Object.keys(Gi.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Yf extends Ja{constructor(){const e=Ht(Yf.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new va({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new va({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new sr({context:this.context,units:"frequency"}),this.detune=new sr({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new xl({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new ei({context:this.context,gain:0}),gr(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{harmonicity:3,oscillator:Object.assign(Za(pc.getDefaults(),[...Object.keys(Gi.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Za(Qs.getDefaults(),Object.keys(tn.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Za(pc.getDefaults(),[...Object.keys(Gi.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Za(Qs.getDefaults(),Object.keys(tn.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class K1 extends Yf{constructor(){super(Ht(K1.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new h3({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Q1 extends tn{constructor(){const e=Ht(Q1.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new nr({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new nr({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new nr({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new nr({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(tn.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Zt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let h=0;h<e;h++){const f=Math.pow(h/e,2)*19980+20;t[h]=f}const i=new Float32Array(e),a=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(t,i,a),i}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class J1 extends tn{constructor(){const e=Ht(J1.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new ei({context:this.context}),this.output=new ei({context:this.context}),this._filters=[],this._filters=[],this.Q=new sr({context:this.context,units:"positive",value:e.Q}),this.frequency=new sr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new sr({context:this.context,units:"cents",value:e.detune}),this.gain=new sr({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,gr(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(tn.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Zt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(i=>i.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=vl(e)?e:parseInt(e,10),i=[-12,-24,-48,-96];let a=i.indexOf(t);Zt(a!==-1,`rolloff can only be ${i.join(", ")}`),a+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const h=new Q1({context:this.context});h.type=this._type,this.frequency.connect(h.frequency),this.detune.connect(h.detune),this.Q.connect(h.Q),this.gain.connect(h.gain),this._filters[o]=h}this._internalChannels=this._filters,Wf(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new Q1({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((o,h)=>i[h]*=o)}),t.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Rg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class ep extends Qs{constructor(){const e=Ht(ep.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Tp({context:this.context,value:e.exponent}),this._scale=this.output=new Zg({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Qs.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);yl(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class tp extends Ja{constructor(){const e=Ht(tp.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new pc(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new J1(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new ep(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new Rp(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),gr(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{envelope:Object.assign(Za(Qs.getDefaults(),Object.keys(tn.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Za(J1.getDefaults(),Object.keys(tn.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Za(ep.getDefaults(),Object.keys(tn.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Za(pc.getDefaults(),Object.keys(Gi.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class If extends Yf{constructor(){const e=Ht(If.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new xl({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Yf.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class Ip extends va{constructor(){const e=Ht(Ip.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,gr(this,["oscillator","envelope"])}static getDefaults(){return su(Ja.getDefaults(),va.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const i=this.toSeconds(t),a=this.toFrequency(e instanceof Xs?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,i),this.oscillator.frequency.exponentialRampToValueAtTime(a,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}so([f3(0)],Ip.prototype,"octaves",void 0);so([Sl(0)],Ip.prototype,"pitchDecay",void 0);const d3=new Set;function $g(r){d3.add(r)}function p3(r,e){const t=`registerProcessor("${r}", ${e})`;d3.add(t)}const NC=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;$g(NC);const CC=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;$g(CC);const TC=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;$g(TC);const EC="feedback-comb-filter",kC=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;p3(EC,kC);class Cs extends mc{constructor(){const e=Ht(Cs.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),Zt(!vl(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const i=this._voices.indexOf(this._dummyVoice);this._voices.splice(i,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(mc.getDefaults(),{maxPolyphony:32,options:{},voice:va})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(i=>i.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Zt(e instanceof Ja,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Sp("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,i){e.forEach(a=>{const o=new $1(this.context,a).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(a,t,i),this._activeVoices.push({midi:o,voice:h,released:!1}),this.log("triggerAttack",a,t))})}_triggerRelease(e,t){e.forEach(i=>{const a=new $1(this.context,i).toMidi(),o=this._activeVoices.find(({midi:h,released:c})=>h===a&&!c);o&&(o.voice.triggerRelease(t),o.released=!0,this.log("triggerRelease",i,t))})}_scheduleEvent(e,t,i,a){Zt(!this.disposed,"Synth was already disposed"),i<=this.now()?e==="attack"?this._triggerAttack(t,i,a):this._triggerRelease(t,i):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,i,a)},i-this.now())}triggerAttack(e,t,i){Array.isArray(e)||(e=[e]);const a=this.toSeconds(t);return this._scheduleEvent("attack",e,a,i),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const i=this.toSeconds(t);return this._scheduleEvent("release",e,i),this}triggerAttackRelease(e,t,i,a){const o=this.toSeconds(i);if(this.triggerAttack(e,o,a),Ks(t)){Zt(Ks(e),"If the duration is an array, the notes must also be an array"),e=e;for(let h=0;h<e.length;h++){const c=t[Math.min(h,t.length-1)],f=this.toSeconds(c);Zt(f>0,"The duration must be greater than 0"),this.triggerRelease(e[h],o+f)}}else{const h=this.toSeconds(t);Zt(h>0,"The duration must be greater than 0"),this.triggerRelease(e,o+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=Za(e,["onsilence","context"]);return this.options=su(this.options,t),this._voices.forEach(i=>i.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:i})=>{i.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class fd extends mc{constructor(){const e=Ht(fd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(i=>{const a=parseInt(i,10);if(Zt(d1(i)||vl(a)&&isFinite(a),`url key is neither a note or midi pitch: ${i}`),d1(i)){const o=new Xs(this.context,i).toMidi();t[o]=e.urls[i]}else vl(a)&&isFinite(a)&&(t[a]=e.urls[a])}),this._buffers=new Gg({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(mc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:$n,onerror:$n,release:.1,urls:{}})}_findClosest(e){let i=0;for(;i<96;){if(this._buffers.has(e+i))return-i;if(this._buffers.has(e-i))return i;i++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,i=1){return this.log("triggerAttack",e,t,i),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=o3(new Xs(this.context,a).toFrequency()),h=Math.round(o),c=o-h,f=this._findClosest(h),d=h-f,m=this._buffers.get(d),y=a3(f+c),w=new kp({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);w.start(t,0,m.duration/y,i),Ks(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(w),w.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const v=this._activeSources.get(h),S=v.indexOf(w);S!==-1&&v.splice(S,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(i=>{const a=new Xs(this.context,i).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);t=this.toSeconds(t),o.forEach(h=>{h.stop(t)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,i,a=1){const o=this.toSeconds(i);return this.triggerAttack(e,o,a),Ks(t)?(Zt(Ks(e),"notes must be an array when duration is array"),e.forEach((h,c)=>{const f=t[Math.min(c,t.length-1)];this.triggerRelease(h,o+this.toSeconds(f))})):this.triggerRelease(e,o+this.toSeconds(t)),this}add(e,t,i){if(Zt(d1(e)||isFinite(e),`note must be a pitch or midi: ${e}`),d1(e)){const a=new Xs(this.context,e).toMidi();this._buffers.add(a,t,i)}else this._buffers.add(e,t,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}so([Sl(0)],fd.prototype,"attack",void 0);so([Sl(0)],fd.prototype,"release",void 0);class Kg extends tn{constructor(){const e=Ht(Kg.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new nr({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",gr(this,"pan")}static getDefaults(){return Object.assign(tn.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const MC="bit-crusher",LC=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;p3(MC,LC);class Kr extends tn{constructor(){const e=Ht(Kr.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new ei({context:this.context}),Kr._allSolos.has(this.context)||Kr._allSolos.set(this.context,new Set),Kr._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(tn.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Kr._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Kr._soloed.has(this.context)||Kr._soloed.set(this.context,new Set),Kr._soloed.get(this.context).add(this)}_removeSolo(){Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).delete(this)}_isSoloed(){return Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).has(this)}_noSolos(){return!Kr._soloed.has(this.context)||Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Kr._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Kr._allSolos=new Map;Kr._soloed=new Map;class Qg extends tn{constructor(){const e=Ht(Qg.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Kg({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Fh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,gr(this,["pan","volume"])}static getDefaults(){return Object.assign(tn.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class yh extends tn{constructor(){const e=Ht(yh.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Kr({solo:e.solo,context:this.context}),this._panVol=this.output=new Qg({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),gr(this,["pan","volume"])}static getDefaults(){return Object.assign(tn.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return yh.buses.has(e)||yh.buses.set(e,new ei({context:this.context})),yh.buses.get(e)}send(e,t=0){const i=this._getBus(e),a=new ei({context:this.context,units:"decibels",gain:t});return this.connect(a),a.connect(i),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}yh.buses=new Map;const ss=$a().transport,m3=$a().destination;$a().destination;$a().listener;const OC=$a().draw,Zs=$a();function jC(){return dr.loaded()}const m1=({cx:r,cy:e,innerRadius:t,outerRadius:i,startAngle:a,endAngle:o,color:h,label:c,chord:f,isSelected:d,isDiatonic:m,isSecondary:y=!1,onClick:w,onDoubleClick:v,ringType:S="major",wheelRotation:N=0,romanNumeral:T,voicingSuggestion:C,segmentId:I="seg",onHover:R})=>{const q=P4(r,e,t,i,a,o),B=(a+o)/2,Z=fn.useRef(0),F=fn.useRef(null),[j,V]=fn.useState(!1),H=-N,k=i-t,D=t+k*.5,ne=t+k*.18,$=cc(r,e,D,B),he=cc(r,e,ne,B),Q=i-6,K=z4(r,e,Q,a+1,o-1),ce=`voicing-arc-${I}`,fe=`clip-${I}`,Y=(()=>{let at=.35,$e=.5;m?(at=1,$e=1):y&&(at=.7,$e=.65);const Te=h.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(Te){const nt=parseInt(Te[1]),rt=Math.round(parseInt(Te[2])*$e),lt=parseInt(Te[3]);let ft=lt;return S==="minor"?ft=Math.max(lt-8,30):S==="diminished"&&(ft=Math.max(lt-15,25)),{fill:`hsl(${nt}, ${rt}%, ${ft}%)`,opacity:at}}return{fill:h,opacity:at}})(),L=()=>S==="diminished"?"10px":S==="minor"?"12px":"14px",z=m||y,J=z?"#000000":"rgba(255,255,255,0.7)",ie=m?"bold":y?"600":"normal",se=S==="diminished"||S==="minor"?"6px":"8px",de=S==="major"?z?6:5:S==="minor"?z?4:3.25:z?3.5:3,pe=z?1:.95,we=()=>{V(!0)},Ae=async at=>{at.preventDefault(),at.stopPropagation(),V(!1),Zs.state!=="running"&&await cd();const $e=Date.now(),Te=$e-Z.current;F.current&&(clearTimeout(F.current),F.current=null),Te<300&&Te>0?(Z.current=0,v&&v(f)):(Z.current=$e,F.current=setTimeout(()=>{w(f),F.current=null},300))},Ge=()=>{V(!1),F.current&&(clearTimeout(F.current),F.current=null)},Je=at=>{at.stopPropagation(),st.current&&(clearTimeout(st.current),st.current=null),R&&R(null,0,0),w(f)},it=at=>{at.stopPropagation(),st.current&&(clearTimeout(st.current),st.current=null),R&&R(null,0,0),v&&v(f)},st=fn.useRef(null),W=at=>{if(!R)return;const $e=at.clientX,Te=at.clientY;st.current=setTimeout(()=>{R("Select a chord slot in the timeline, then double-click a chord or chord voicing to add to the timeline.",$e,Te)},3e3)},De=()=>{st.current&&(clearTimeout(st.current),st.current=null),R&&R(null,0,0)};return E.jsxs("g",{className:ui("cursor-pointer transition-all duration-200",!z&&"hover:opacity-70",j&&"opacity-80"),onClick:Je,onDoubleClick:it,onTouchStart:we,onTouchEnd:Ae,onTouchCancel:Ge,onMouseEnter:W,onMouseLeave:De,style:{pointerEvents:"all",WebkitTapHighlightColor:"transparent"},children:[(m||y)&&C&&E.jsx("defs",{children:E.jsx("path",{id:ce,d:K,fill:"none"})}),E.jsx("defs",{children:E.jsx("clipPath",{id:fe,children:E.jsx("path",{d:q})})}),E.jsx("path",{d:q,fill:Y.fill,opacity:Y.opacity,stroke:T==="I"?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",strokeWidth:T==="I"?2.5:1,className:ui("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",z&&"hover:brightness-105"),style:{pointerEvents:"all"}}),d&&E.jsx("path",{d:q,fill:"none",stroke:"white",strokeWidth:de,opacity:pe,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${fe})`}),(m||y)&&C&&S==="major"&&E.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:E.jsx("textPath",{href:`#${ce}`,startOffset:"50%",textAnchor:"middle",children:C})}),m&&C&&S==="minor"&&E.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:E.jsx("textPath",{href:`#${ce}`,startOffset:"50%",textAnchor:"middle",children:C})}),m&&C&&S==="diminished"&&E.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:E.jsx("textPath",{href:`#${ce}`,startOffset:"50%",textAnchor:"middle",children:C})}),E.jsx("text",{x:$.x,y:$.y,textAnchor:"middle",dominantBaseline:"middle",fill:J,fontWeight:ie,fontSize:L(),className:"pointer-events-none select-none",transform:`rotate(${H}, ${$.x}, ${$.y})`,children:c}),(m||y)&&T&&E.jsx("text",{x:he.x,y:he.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:se,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${H}, ${he.x}, ${he.y})`,children:T})]})};const DC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),pb=r=>{const e=RC(r);return e.charAt(0).toUpperCase()+e.slice(1)},g3=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),IC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var VC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FC=ue.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:h,...c},f)=>ue.createElement("svg",{ref:f,...VC,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:g3("lucide",a),...!o&&!IC(c)&&{"aria-hidden":"true"},...c},[...h.map(([d,m])=>ue.createElement(d,m)),...Array.isArray(o)?o:[o]]));const En=(r,e)=>{const t=ue.forwardRef(({className:i,...a},o)=>ue.createElement(FC,{ref:o,iconNode:e,className:g3(`lucide-${DC(pb(r))}`,`lucide-${r}`,i),...a}));return t.displayName=pb(r),t};const BC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qC=En("arrow-right",BC);const zC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_h=En("chevron-down",zC);const PC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],np=En("chevron-right",PC);const UC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rp=En("chevron-left",UC);const HC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],v3=En("chevron-up",HC);const GC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],WC=En("circle-question-mark",GC);const YC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],XC=En("circle",YC);const ZC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$C=En("clock",ZC);const KC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],QC=En("copy",KC);const JC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],eT=En("download",JC);const tT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],nT=En("file-plus",tT);const rT=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],iT=En("folder-open",rT);const sT=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],aT=En("grip-horizontal",sT);const oT=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],b3=En("grip-vertical",oT);const lT=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],cT=En("hash",lT);const uT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],hT=En("layers",uT);const fT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dT=En("loader-circle",fT);const pT=[["path",{d:"M5 12h14",key:"1ays0h"}]],mT=En("minus",pT);const gT=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Zm=En("music",gT);const vT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],y3=En("panel-right-close",vT);const bT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],yT=En("panel-right",bT);const xT=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],wT=En("pause",xT);const _T=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],x3=En("play",_T);const ST=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jg=En("plus",ST);const AT=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],NT=En("repeat",AT);const CT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],w3=En("rotate-ccw",CT);const TT=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],_3=En("rotate-cw",TT);const ET=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],mb=En("save",ET);const kT=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],MT=En("skip-back",kT);const LT=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],OT=En("skip-forward",LT);const jT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$m=En("trash-2",jT);const DT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],RT=En("volume-2",DT);const IT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],VT=En("volume-x",IT);const FT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gb=En("x",FT);let gc={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},e2="piano",kf=null,M1=[],ip={},vb=!1,Eo=null;const S3=async()=>{if(!vb){if(console.log("[iOS Audio] Starting unlock sequence..."),"audioSession"in navigator)try{navigator.audioSession.type="playback",console.log("[iOS Audio] Set audioSession.type to playback")}catch(r){console.warn("[iOS Audio] Could not set audioSession type:",r)}Eo||(Eo=document.createElement("audio"),Eo.src="data:audio/mpeg;base64,/+NIxAAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/jSMQADwAAADSAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",Eo.loop=!0,Eo.volume=.001,Eo.muted=!1,Eo.setAttribute("playsinline","true"),Eo.setAttribute("x-webkit-airplay","deny"),document.body.appendChild(Eo));try{const r=Eo.play();r!==void 0&&await r,console.log("[iOS Audio] Silent looping audio started successfully")}catch(r){console.warn("[iOS Audio] Silent audio failed:",r)}try{await cd(),console.log("[iOS Audio] Tone.start() completed, state:",Zs.state)}catch(r){console.warn("[iOS Audio] Tone.start() failed:",r)}if(Zs.state!=="running")try{await Zs.resume(),console.log("[iOS Audio] Context resumed, state:",Zs.state)}catch(r){console.warn("[iOS Audio] Context resume failed:",r)}vb=!0,console.log("[iOS Audio] Unlock sequence complete")}},t2=r=>{r in gc&&(e2=r)},A3=r=>{const e=r<=0?-1/0:20*Math.log10(r);try{m3.volume.rampTo(e,.1)}catch(t){console.error("Error setting volume:",t)}},N3=r=>{m3.mute=r},Bh=async()=>{if(kf)return kf;kf=(async()=>{const r="https://tonejs.github.io/audio/salamander/",e=(t,i)=>{if(!gc[t])try{const a=i();a&&(gc[t]=a)}catch(a){console.error(`Failed to init instrument "${t}"`,a)}};e("piano",()=>new fd({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:r}).toDestination()),e("guitar",()=>new Cs(va,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),e("organ",()=>new Cs(K1,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("synth",()=>new Cs(If,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("epiano",()=>new Cs(K1,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),e("strings",()=>new Cs(va,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),e("pad",()=>new Cs(If,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),e("brass",()=>new Cs(tp,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),e("marimba",()=>new Cs(va,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),e("bell",()=>new Cs(If,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),e("lead",()=>new Cs(va,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),e("bass",()=>new Cs(tp,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),e("choir",()=>new Cs(va,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await jC()})();try{await kf}catch(r){kf=null,console.error("Failed to initialize audio",r)}},bb=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Lo=async(r,e="1n",t)=>{if(Zs.state!=="running"&&await cd(),Zs.state==="suspended"&&await Zs.resume(),await Bh(),!r||r.length===0)return;const i=r[0],a=bb.indexOf(i.replace(/\d/,"")),o=r.map((c,f)=>{if(c.match(/\d/))return c;const d=c,m=bb.indexOf(d);if(f===0)return`${d}3`;let y=3;return(m<a||m-a>6)&&(y=4),f>=4&&(y=4),f>=5&&(y=5),`${d}${y}`});let h=gc[e2];if(h||(h=gc.piano),!h){console.error("No instrument available to play!");return}try{h.triggerAttackRelease(o,e,t)}catch(c){console.error("Failed to play chord",c)}},C3=async(r,e=4,t="8n")=>{Zs.state!=="running"&&await cd(),Zs.state==="suspended"&&await Zs.resume(),await Bh();let i=gc[e2];if(i||(i=gc.piano),!i){console.error("No instrument available to play!");return}const a=`${r}${e}`;try{i.triggerAttackRelease(a,t)}catch(o){console.error(`Failed to play note ${a}`,o)}},T3=()=>{Object.values(gc).forEach(t=>t?.releaseAll()),ss.stop();const{setPlayingSlot:r,setIsPlaying:e}=rr.getState();r(null,null),e(!1)},Xf=r=>{const e=Math.floor(r/4),t=Math.floor(r%4),i=Math.floor(r%1*4);return`${e}:${t}:${i}`},n2=r=>{ss.cancel(0),M1=[],ip={},ss.timeSignature=4;let e=0;r.sections.forEach(i=>{ip[i.id]=e,i.measures.forEach(a=>{a.beats.forEach(o=>{const h=Xf(e),c=o.duration,f=c*4,d=`${Math.floor(f/16)}:${Math.floor(f%16/4)}:${f%4}`,m=ss.schedule(y=>{OC.schedule(()=>{rr.getState().setPlayingSlot(i.id,o.id)},y),o.chord&&Lo(o.chord.notes,d,y)},h);M1.push(m),e+=c})})});const t=ss.schedule(()=>{rr.getState().isLooping||T3()},Xf(e));M1.push(t)},BT=async()=>{await Bh()},E3=async()=>{await Bh(),Zs.state!=="running"&&await Zs.resume();const{tempo:r,currentSong:e}=rr.getState();ss.bpm.value=r,M1.length===0&&n2(e),ss.start()},k3=()=>{ss.pause()},M3=r=>{ss.bpm.value=r},L3=r=>{const{currentSong:e,playingSectionId:t}=rr.getState(),i=e.sections.map(m=>m.id);let a=t?i.indexOf(t):-1;a===-1&&(a=0);let o=r==="next"?a+1:a-1;o>=i.length&&(o=0),o<0&&(o=0);const h=i[o],c=ip[h]||0,f=Xf(c);ss.position=f;const d=e.sections[o].measures[0]?.beats[0];d&&rr.getState().setPlayingSlot(h,d.id)},O3=()=>{const{isLooping:r,playingSectionId:e,selectedSectionId:t,currentSong:i}=rr.getState();if(r){const a=e||t,o=i.sections.find(h=>h.id===a);if(o){const h=ip[o.id]??0;let c=0;o.measures.forEach(d=>d.beats.forEach(m=>c+=m.duration));const f=h+c;ss.loopStart=Xf(h),ss.loopEnd=Xf(f),ss.loop=!0;return}}ss.loop=!1},qT=Object.freeze(Object.defineProperty({__proto__:null,initAudio:Bh,pauseSong:k3,playChord:Lo,playNote:C3,playSong:E3,preloadAudio:BT,scheduleSong:n2,setInstrument:t2,setMute:N3,setTempo:M3,setVolume:A3,skipToSection:L3,stopAudio:T3,toggleLoopMode:O3,unlockAudioForIOS:S3},Symbol.toStringTag,{value:"Module"})),sp=768;function r2(){const[r,e]=ue.useState(()=>typeof window<"u"?window.innerWidth<sp:!1);return ue.useEffect(()=>{const t=()=>e(window.innerWidth<sp);return window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),r}function j3(){const[r,e]=ue.useState(()=>typeof window<"u"?window.innerWidth<sp||window.innerHeight<500&&window.innerHeight<window.innerWidth:!1),[t,i]=ue.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerHeight<500:!1);return ue.useEffect(()=>{const a=()=>{const o=window.innerWidth,h=window.innerHeight,c=o<sp||h<500&&h<o,f=h<o&&h<500;e(c),i(f)};return window.addEventListener("resize",a),window.addEventListener("orientationchange",a),()=>{window.removeEventListener("resize",a),window.removeEventListener("orientationchange",a)}},[]),{isMobile:r,isLandscape:t}}const zT=({zoomScale:r,zoomOriginY:e,onZoomChange:t})=>{const{selectedKey:i,setKey:a,wheelRotation:o,wheelMode:h,rotateWheel:c,toggleWheelMode:f,addChordToSlot:d,selectedSectionId:m,selectedSlotId:y,currentSong:w,setSelectedChord:v,selectedChord:S,selectNextSlotAfter:N,setSelectedSlot:T}=rr(),C=h==="rotating"?o:0,I=Df.indexOf(i),R=ue.useRef(null),q=ue.useRef(null),[B,Z]=ue.useState(null),[F,j]=ue.useState({x:0,y:0}),V=r2();ue.useEffect(()=>{const Ne=S?.segmentId??null;Z(Ne)},[S]);const H=ue.useRef(null),k=ue.useRef(null),[D,ne]=ue.useState(!1),$=ue.useRef(0),he=ue.useRef(0),[Q,K]=ue.useState(!1),ce=ue.useRef(null),fe=ue.useCallback((Ne,Ie)=>{if(!k.current)return 0;const He=k.current.getBoundingClientRect(),Ue=He.left+He.width/2,ut=He.top+He.height/2,gt=Ne-Ue,Ct=Ie-ut;return Math.atan2(Ct,gt)*(180/Math.PI)},[]),xe=ue.useCallback(Ne=>{const Ie=Df.indexOf(i),He=Ne==="cw"?(Ie+1)%12:(Ie-1+12)%12;a(Df[He]),c(Ne)},[i,a,c]),Y=ue.useRef(null),L=ue.useRef(!1),z=ue.useCallback(Ne=>{if(V||!k.current||!H.current)return;const Ie=k.current.getBoundingClientRect(),He=Ie.width/2,Ue=Ie.height/2,ut=Ne.clientX-Ie.left-He,gt=Ne.clientY-Ie.top-Ue,Ct=Math.sqrt(ut*ut+gt*gt),Gt=Ie.width/600*70,Yt=Ie.width/600*250;Ct>Gt&&Ct<=Yt?(ne(!0),$.current=fe(Ne.clientX,Ne.clientY),he.current=o,Ne.preventDefault()):Ct>Yt&&r>1&&(K(!0),ce.current={x:Ne.clientX,y:Ne.clientY},Ne.preventDefault())},[fe,o,V,r]),J=ue.useCallback(Ne=>{if(Ne.touches.length!==1)return;const Ie=Ne.touches[0];if(Y.current={x:Ie.clientX,y:Ie.clientY},L.current=!1,!k.current)return;const He=k.current.getBoundingClientRect(),Ue=He.width/2,ut=He.height/2,gt=Ie.clientX-He.left-Ue,Ct=Ie.clientY-He.top-ut,Gt=Math.sqrt(gt*gt+Ct*Ct),Yt=He.width/600*70;Gt>Yt&&($.current=fe(Ie.clientX,Ie.clientY),he.current=o)},[fe,o]),ie=ue.useCallback(Ne=>{if(Ne.touches.length!==1||!Y.current)return;const Ie=Ne.touches[0],He=Ie.clientX-Y.current.x,Ue=Ie.clientY-Y.current.y;if(Math.sqrt(He*He+Ue*Ue)>10){if(L.current=!0,Ne.preventDefault(),!k.current)return;const gt=k.current.getBoundingClientRect(),Ct=gt.width/2,Gt=gt.height/2,Yt=Ie.clientX-gt.left,cn=Ie.clientY-gt.top,Kt=Math.sqrt(Math.pow(Yt-Ct,2)+Math.pow(cn-Gt,2)),ir=gt.width/600*70;if(Kt>ir&&$.current!==0){const Qt=fe(Ie.clientX,Ie.clientY),Xt=Qt-$.current;if(Math.abs(Xt)>=15){const ln=Math.round(Xt/30);if(ln!==0){const Fn=h==="fixed"?ln>0?"cw":"ccw":ln>0?"ccw":"cw",Un=Math.abs(ln);for(let kn=0;kn<Un;kn++)xe(Fn);$.current=Qt}}}}},[fe,xe,h]),se=ue.useCallback(Ne=>{if(!D)return;const Ie=fe(Ne.clientX,Ne.clientY),He=Ie-$.current;if(Math.abs(He)>=15){const Ue=Math.round(He/30);if(Ue!==0){let ut;h==="fixed"?ut=Ue>0?"cw":"ccw":ut=Ue>0?"ccw":"cw";const gt=Math.abs(Ue);for(let Ct=0;Ct<gt;Ct++)xe(ut);$.current=Ie}}},[D,fe,xe,h]),de=ue.useCallback(()=>{ne(!1)},[]);ue.useEffect(()=>{if(D)return document.addEventListener("mousemove",se),document.addEventListener("mouseup",de),()=>{document.removeEventListener("mousemove",se),document.removeEventListener("mouseup",de)}},[D,se,de]);const pe=ue.useCallback((Ne,Ie,He)=>{if(!H.current||He<=1)return{x:0,y:0};const{clientWidth:Ue,clientHeight:ut}=H.current,gt=12,Ct=Ue*(He-1)/2+gt,Gt=ut*(He-1)/2+gt;return{x:Math.max(-Ct,Math.min(Ct,Ne)),y:Math.max(-Gt,Math.min(Gt,Ie))}},[]);ue.useEffect(()=>{j(Ne=>pe(Ne.x,Ne.y,r))},[r,pe]);const we=ue.useCallback(Ne=>{if(!Q||!ce.current)return;const Ie=Ne.clientX-ce.current.x,He=Ne.clientY-ce.current.y;j(Ue=>pe(Ue.x+Ie,Ue.y+He,r)),ce.current={x:Ne.clientX,y:Ne.clientY}},[Q,r,pe]),Ae=ue.useCallback(()=>{K(!1),ce.current=null},[]);ue.useEffect(()=>{if(Q)return document.addEventListener("mousemove",we),document.addEventListener("mouseup",Ae),()=>{document.removeEventListener("mousemove",we),document.removeEventListener("mouseup",Ae)}},[Q,we,Ae]);const Ge=Ne=>({x:(Ne[0].clientX+Ne[1].clientX)/2,y:(Ne[0].clientY+Ne[1].clientY)/2}),Je=ue.useCallback(Ne=>{if(Ne.touches.length===2){Ne.preventDefault();const Ie=Ne.touches[0].clientX-Ne.touches[1].clientX,He=Ne.touches[0].clientY-Ne.touches[1].clientY;R.current=Math.sqrt(Ie*Ie+He*He),q.current=Ge(Ne.touches)}},[]),it=ue.useCallback(Ne=>{if(Ne.touches.length===2&&R.current!==null){Ne.preventDefault(),Ne.stopPropagation();const Ie=Ne.touches[0].clientX-Ne.touches[1].clientX,He=Ne.touches[0].clientY-Ne.touches[1].clientY,Ue=Math.sqrt(Ie*Ie+He*He),ut=Ue/R.current,gt=Math.max(1,Math.min(2.5,r*ut)),Ct=gt>1.3?38:50,Gt=Ge(Ne.touches);if(q.current){const Yt=Gt.x-q.current.x,cn=Gt.y-q.current.y;j(Kt=>pe(Kt.x+Yt,Kt.y+cn,gt))}R.current=Ue,q.current=Gt,t(gt,Ct)}},[r,t,pe]),st=ue.useCallback(Ne=>{R.current=null,q.current=null,Ne.touches.length===0&&Ne.preventDefault()},[]),W=ue.useCallback(Ne=>{if(Ne.ctrlKey||Ne.metaKey){Ne.preventDefault();const Ie=Ne.deltaY>0?.9:1.1,He=Math.max(1,Math.min(2.5,r*Ie)),Ue=He>1.3?38:50;t(He,Ue)}},[r,t]),De=gp(),at=600,$e=at/2,Te=at/2,nt=60,rt=nt+8,lt=145,ft=lt,At=210,Ft=At,jt=250,kt=ue.useMemo(()=>O4(i),[i]),Mt=ue.useMemo(()=>kt.sharps>0?`${kt.sharps}`:kt.flats>0?`${kt.flats}`:"",[kt]),ht=ue.useRef(0),Re=Ne=>{const Ie=Ne,He=Date.now();He-ht.current<300||(ht.current=He,Lo(Ne.notes),Z(Ie.segmentId??null),v(Ne))},Ye=Ne=>{const Ie=Ne;let He=null,Ue=null;if(m&&y)He=m,Ue=y;else if(m){const ut=w.sections.find(gt=>gt.id===m);if(ut)for(const gt of ut.measures){for(const Ct of gt.beats)if(!Ct.chord){He=ut.id,Ue=Ct.id;break}if(Ue)break}}if(!He||!Ue)for(const ut of w.sections){for(const gt of ut.measures){for(const Ct of gt.beats)if(!Ct.chord){He=ut.id,Ue=Ct.id;break}if(Ue)break}if(Ue)break}He&&Ue&&(d(Ne,He,Ue),N(He,Ue)||(T(He,Ue),Z(Ie.segmentId??null),v(Ne)))},qt=Ne=>(Ne-I+12)%12,Nt=(Ne,Ie)=>{const He=qt(Ne);return Ie==="major"?He===0||He===1||He===11:Ie==="ii"||Ie==="iii"||Ie==="dim"?He===0:!1},St=Ne=>qt(Ne)===1,Lt=Ne=>{const Ie=qt(Ne);return Ie===2||Ie===4},Bt=(Ne,Ie)=>{const He=qt(Ne);if(Ie==="major"){if(He===0)return"I";if(He===1)return"V";if(He===11)return"IV";if(He===2)return"II";if(He===4)return"III"}if(Ie==="ii"){if(He===0)return"ii";if(He===1)return"vi"}return Ie==="iii"&&He===0?"iii":Ie==="dim"&&He===0?"vii":""},vt=(Ne,Ie)=>{const He=qt(Ne);if(Ie==="major"){if(He===0)return"maj7, maj9, maj13 or 6";if(He===1)return"7, 9, 11, sus4, 13";if(He===11)return"maj7, maj9, maj13 or 6";if(He===2||He===4)return"7, sus4"}if(Ie==="ii"){if(He===0)return"m7, m9, m11, m6";if(He===1)return"m7, m9, m11"}return Ie==="iii"&&He===0?"m7":Ie==="dim"&&He===0?"m75 (7)":""},dn=Ne=>{if(B)return B===Ne.segmentId;const Ie=S?.segmentId;return Ie?Ie===Ne.segmentId:!1},Dt=ue.useCallback(Ne=>{Ne.touches.length===2?Je(Ne):Ne.touches.length===1&&J(Ne)},[Je,J]),Oe=ue.useCallback(Ne=>{Ne.touches.length===2?it(Ne):Ne.touches.length===1&&ie(Ne)},[it,ie]),ot=ue.useCallback(Ne=>{Y.current=null,L.current=!1,st(Ne)},[st]),[Qe,et]=ue.useState(null),dt=ue.useCallback((Ne,Ie,He)=>{et(Ne?{text:Ne,x:Ie,y:He}:null)},[]),$t=Qe?{position:"fixed",left:Qe.x,top:Qe.y,transform:"translate(-50%, -100%) translateY(-12px)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"11px",pointerEvents:"none",zIndex:9999,whiteSpace:"normal",textAlign:"center",maxWidth:"220px",lineHeight:"1.4",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"}:{};return E.jsxs("div",{ref:H,className:`relative flex flex-col items-center justify-center w-full h-full max-w-full max-h-full aspect-square p-1 sm:p-2 select-none ${Q?"cursor-grabbing":r>1&&!V?"cursor-grab":""}`,onTouchStart:Dt,onTouchMove:Oe,onTouchEnd:ot,onWheel:W,onMouseDown:z,style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"none"},children:[Qe&&E.jsx("div",{style:$t,children:Qe.text}),E.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`translate(${F.x}px, ${F.y}px) scale(${r})`,transformOrigin:`center ${e}%`},children:E.jsxs("svg",{ref:k,width:"100%",height:"100%",viewBox:`0 0 ${at} ${at}`,className:`w-full h-full select-none ${D?"cursor-grabbing":"cursor-grab"}`,onMouseDown:z,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[E.jsxs("defs",{children:[E.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[E.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),E.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),E.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:E.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),E.jsx("g",{style:{transform:`rotate(${C}deg)`,transformOrigin:`${$e}px ${Te}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:T4.map((Ne,Ie)=>{const Ue=Ie*30-15,ut=Ue+30,gt=De[Ne.major]||De.C,Ct=Ne.ii.replace("m",""),Gt=Ne.iii.replace("m",""),Yt=Ne.diminished.replace("",""),cn=Nt(Ie,"major"),Kt=Lt(Ie),ir=Nt(Ie,"ii")||St(Ie),Qt=Nt(Ie,"iii"),Xt=Nt(Ie,"dim"),ln={root:Ne.major,quality:"major",numeral:Bt(Ie,"major"),notes:mh(Ne.major,"major"),symbol:Ne.major,segmentId:`major-${Ie}`,ringType:"major",positionIndex:Ie},Fn={root:Ct,quality:"minor",numeral:Bt(Ie,"ii"),notes:mh(Ct,"minor"),symbol:Ne.ii,segmentId:`ii-${Ie}`,ringType:"minor",positionIndex:Ie},Un={root:Gt,quality:"minor",numeral:Bt(Ie,"iii"),notes:mh(Gt,"minor"),symbol:Ne.iii,segmentId:`iii-${Ie}`,ringType:"minor",positionIndex:Ie},kn={root:Yt,quality:"diminished",numeral:Bt(Ie,"dim"),notes:mh(Yt,"diminished"),symbol:Ne.diminished,segmentId:`dim-${Ie}`,ringType:"diminished",positionIndex:Ie},di=15,Ri=Ue+-7.5,Os=Ri+di,Ii=Os,Yi=Ii+di,Js=15,Xi=Ue+(30-Js)/2,or=Xi+Js,Bo=Ne.major,Ai=Ne.ii,Zi=Ne.iii,js=Ne.diminished;return E.jsxs("g",{children:[E.jsx(m1,{cx:$e,cy:Te,innerRadius:rt,outerRadius:lt,startAngle:Ue,endAngle:ut,color:gt,label:Bo,chord:ln,isSelected:dn(ln),isDiatonic:cn,isSecondary:Kt,onClick:Re,onDoubleClick:Ye,ringType:"major",wheelRotation:C,romanNumeral:cn||Kt?Bt(Ie,"major"):void 0,voicingSuggestion:cn||Kt?vt(Ie,"major"):void 0,segmentId:`major-${Ie}`,onHover:dt}),E.jsx(m1,{cx:$e,cy:Te,innerRadius:ft,outerRadius:At,startAngle:Ri,endAngle:Os,color:gt,label:Ai,chord:Fn,isSelected:dn(Fn),isDiatonic:ir,onClick:Re,onDoubleClick:Ye,ringType:"minor",wheelRotation:C,romanNumeral:ir?Bt(Ie,"ii"):void 0,voicingSuggestion:ir?vt(Ie,"ii"):void 0,segmentId:`ii-${Ie}`,onHover:dt}),E.jsx(m1,{cx:$e,cy:Te,innerRadius:ft,outerRadius:At,startAngle:Ii,endAngle:Yi,color:gt,label:Zi,chord:Un,isSelected:dn(Un),isDiatonic:Qt,onClick:Re,onDoubleClick:Ye,ringType:"minor",wheelRotation:C,romanNumeral:Qt?Bt(Ie,"iii"):void 0,voicingSuggestion:Qt?vt(Ie,"iii"):void 0,segmentId:`iii-${Ie}`,onHover:dt}),E.jsx(m1,{cx:$e,cy:Te,innerRadius:Ft,outerRadius:jt,startAngle:Xi,endAngle:or,color:gt,label:js,chord:kn,isSelected:dn(kn),isDiatonic:Xt,onClick:Re,onDoubleClick:Ye,ringType:"diminished",wheelRotation:C,romanNumeral:Xt?Bt(Ie,"dim"):void 0,voicingSuggestion:Xt?vt(Ie,"dim"):void 0,segmentId:`dim-${Ie}`,onHover:dt})]},Ne.major)})}),E.jsx("circle",{cx:$e,cy:Te,r:nt,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2",style:{pointerEvents:"none"}}),E.jsx("text",{x:$e,y:Te-25,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),E.jsx("text",{x:$e,y:Te+3,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:i}),E.jsx("text",{x:$e,y:Te+21,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:Mt||"No /"}),E.jsxs("g",{transform:`translate(${$e-22}, ${Te+40})`,onClick:()=>xe("ccw"),onTouchEnd:Ne=>{Ne.preventDefault(),Ne.stopPropagation(),xe("ccw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[E.jsx("circle",{r:V?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),E.jsx("g",{transform:V?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:E.jsx(w3,{size:V?12:9,color:"#9898a6"})})]}),E.jsxs("g",{transform:`translate(${$e+22}, ${Te+40})`,onClick:()=>xe("cw"),onTouchEnd:Ne=>{Ne.preventDefault(),Ne.stopPropagation(),xe("cw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[E.jsx("circle",{r:V?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),E.jsx("g",{transform:V?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:E.jsx(_3,{size:V?12:9,color:"#9898a6"})})]}),E.jsxs("g",{transform:`translate(${$e}, ${Te+40})`,onClick:f,onTouchEnd:Ne=>{Ne.preventDefault(),Ne.stopPropagation(),f()},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[E.jsx("circle",{r:V?16:11,fill:h==="rotating"?"#252535":"#3f2e2e",className:"transition-colors",style:{pointerEvents:"all",transition:"fill 0.3s ease"},children:E.jsx("title",{children:h==="rotating"?"Lock wheel (C at top)":"Pin current key to top"})}),E.jsxs("g",{style:{pointerEvents:"none",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",transform:h==="rotating"?"rotate(0deg)":`rotate(${I*30}deg)`,transformOrigin:"0px 0px"},children:[E.jsx("polygon",{points:V?"0,-10 4,0 0,1.5 -4,0":"0,-7 2.5,0 0,1 -2.5,0",fill:"#ef4444",stroke:"#b91c1c",strokeWidth:"0.5"}),E.jsx("polygon",{points:V?"0,10 4,0 0,-1.5 -4,0":"0,7 2.5,0 0,-1 -2.5,0",fill:"#f1f5f9",stroke:"#94a3b8",strokeWidth:"0.5"}),E.jsx("circle",{cx:0,cy:0,r:V?2:1.5,fill:h==="rotating"?"#fef2f2":"#6b7280"})]})]})]})})]})};var jf=nx();function PT(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return ue.useMemo(()=>i=>{e.forEach(a=>a(i))},e)}const Vp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qh(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function i2(r){return"nodeType"in r}function os(r){var e,t;return r?qh(r)?r:i2(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function s2(r){const{Document:e}=os(r);return r instanceof e}function dd(r){return qh(r)?!1:r instanceof os(r).HTMLElement}function D3(r){return r instanceof os(r).SVGElement}function zh(r){return r?qh(r)?r.document:i2(r)?s2(r)?r:dd(r)||D3(r)?r.ownerDocument:document:document:document}const eo=Vp?ue.useLayoutEffect:ue.useEffect;function Fp(r){const e=ue.useRef(r);return eo(()=>{e.current=r}),ue.useCallback(function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}function UT(){const r=ue.useRef(null),e=ue.useCallback((i,a)=>{r.current=setInterval(i,a)},[]),t=ue.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function Zf(r,e){e===void 0&&(e=[r]);const t=ue.useRef(r);return eo(()=>{t.current!==r&&(t.current=r)},e),t}function pd(r,e){const t=ue.useRef();return ue.useMemo(()=>{const i=r(t.current);return t.current=i,i},[...e])}function ap(r){const e=Fp(r),t=ue.useRef(null),i=ue.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,i]}function op(r){const e=ue.useRef();return ue.useEffect(()=>{e.current=r},[r]),e.current}let um={};function md(r,e){return ue.useMemo(()=>{if(e)return e;const t=um[r]==null?0:um[r]+1;return um[r]=t,r+"-"+t},[r,e])}function R3(r){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return i.reduce((o,h)=>{const c=Object.entries(h);for(const[f,d]of c){const m=o[f];m!=null&&(o[f]=m+r*d)}return o},{...e})}}const Sh=R3(1),$f=R3(-1);function HT(r){return"clientX"in r&&"clientY"in r}function Bp(r){if(!r)return!1;const{KeyboardEvent:e}=os(r.target);return e&&r instanceof e}function GT(r){if(!r)return!1;const{TouchEvent:e}=os(r.target);return e&&r instanceof e}function lp(r){if(GT(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return HT(r)?{x:r.clientX,y:r.clientY}:null}const vc=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[vc.Translate.toString(r),vc.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:i}=r;return e+" "+t+"ms "+i}}}),yb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function WT(r){return r.matches(yb)?r:r.querySelector(yb)}const YT={display:"none"};function XT(r){let{id:e,value:t}=r;return fn.createElement("div",{id:e,style:YT},t)}function ZT(r){let{id:e,announcement:t,ariaLiveType:i="assertive"}=r;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return fn.createElement("div",{id:e,style:a,role:"status","aria-live":i,"aria-atomic":!0},t)}function $T(){const[r,e]=ue.useState("");return{announce:ue.useCallback(i=>{i!=null&&e(i)},[]),announcement:r}}const I3=ue.createContext(null);function V3(r){const e=ue.useContext(I3);ue.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function KT(){const[r]=ue.useState(()=>new Set),e=ue.useCallback(i=>(r.add(i),()=>r.delete(i)),[r]);return[ue.useCallback(i=>{let{type:a,event:o}=i;r.forEach(h=>{var c;return(c=h[a])==null?void 0:c.call(h,o)})},[r]),e]}const QT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},JT={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function e7(r){let{announcements:e=JT,container:t,hiddenTextDescribedById:i,screenReaderInstructions:a=QT}=r;const{announce:o,announcement:h}=$T(),c=md("DndLiveRegion"),[f,d]=ue.useState(!1);if(ue.useEffect(()=>{d(!0)},[]),V3(ue.useMemo(()=>({onDragStart(y){let{active:w}=y;o(e.onDragStart({active:w}))},onDragMove(y){let{active:w,over:v}=y;e.onDragMove&&o(e.onDragMove({active:w,over:v}))},onDragOver(y){let{active:w,over:v}=y;o(e.onDragOver({active:w,over:v}))},onDragEnd(y){let{active:w,over:v}=y;o(e.onDragEnd({active:w,over:v}))},onDragCancel(y){let{active:w,over:v}=y;o(e.onDragCancel({active:w,over:v}))}}),[o,e])),!f)return null;const m=fn.createElement(fn.Fragment,null,fn.createElement(XT,{id:i,value:a.draggable}),fn.createElement(ZT,{id:c,announcement:h}));return t?jf.createPortal(m,t):m}var hi;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(hi||(hi={}));function cp(){}function xb(r,e){return ue.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function t7(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return ue.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const to=Object.freeze({x:0,y:0});function F3(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function n7(r,e){const t=lp(r);if(!t)return"0 0";const i={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function B3(r,e){let{data:{value:t}}=r,{data:{value:i}}=e;return t-i}function r7(r,e){let{data:{value:t}}=r,{data:{value:i}}=e;return i-t}function wb(r){let{left:e,top:t,height:i,width:a}=r;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+i},{x:e+a,y:t+i}]}function q3(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}function _b(r,e,t){return e===void 0&&(e=r.left),t===void 0&&(t=r.top),{x:e+r.width*.5,y:t+r.height*.5}}const i7=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=_b(e,e.left,e.top),o=[];for(const h of i){const{id:c}=h,f=t.get(c);if(f){const d=F3(_b(f),a);o.push({id:c,data:{droppableContainer:h,value:d}})}}return o.sort(B3)},s7=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=wb(e),o=[];for(const h of i){const{id:c}=h,f=t.get(c);if(f){const d=wb(f),m=a.reduce((w,v,S)=>w+F3(d[S],v),0),y=Number((m/4).toFixed(4));o.push({id:c,data:{droppableContainer:h,value:y}})}}return o.sort(B3)};function a7(r,e){const t=Math.max(e.top,r.top),i=Math.max(e.left,r.left),a=Math.min(e.left+e.width,r.left+r.width),o=Math.min(e.top+e.height,r.top+r.height),h=a-i,c=o-t;if(i<a&&t<o){const f=e.width*e.height,d=r.width*r.height,m=h*c,y=m/(f+d-m);return Number(y.toFixed(4))}return 0}const o7=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=[];for(const o of i){const{id:h}=o,c=t.get(h);if(c){const f=a7(c,e);f>0&&a.push({id:h,data:{droppableContainer:o,value:f}})}}return a.sort(r7)};function l7(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function z3(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:to}function c7(r){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return a.reduce((h,c)=>({...h,top:h.top+r*c.y,bottom:h.bottom+r*c.y,left:h.left+r*c.x,right:h.right+r*c.x}),{...t})}}const u7=c7(1);function P3(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function h7(r,e,t){const i=P3(e);if(!i)return r;const{scaleX:a,scaleY:o,x:h,y:c}=i,f=r.left-h-(1-a)*parseFloat(t),d=r.top-c-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),m=a?r.width/a:r.width,y=o?r.height/o:r.height;return{width:m,height:y,top:d,right:f+m,bottom:d+y,left:f}}const f7={ignoreTransform:!1};function Ph(r,e){e===void 0&&(e=f7);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:m}=os(r).getComputedStyle(r);d&&(t=h7(t,d,m))}const{top:i,left:a,width:o,height:h,bottom:c,right:f}=t;return{top:i,left:a,width:o,height:h,bottom:c,right:f}}function Sb(r){return Ph(r,{ignoreTransform:!0})}function d7(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function p7(r,e){return e===void 0&&(e=os(r).getComputedStyle(r)),e.position==="fixed"}function m7(r,e){e===void 0&&(e=os(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function qp(r,e){const t=[];function i(a){if(e!=null&&t.length>=e||!a)return t;if(s2(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!dd(a)||D3(a)||t.includes(a))return t;const o=os(r).getComputedStyle(a);return a!==r&&m7(a,o)&&t.push(a),p7(a,o)?t:i(a.parentNode)}return r?i(r):t}function U3(r){const[e]=qp(r,1);return e??null}function hm(r){return!Vp||!r?null:qh(r)?r:i2(r)?s2(r)||r===zh(r).scrollingElement?window:dd(r)?r:null:null}function H3(r){return qh(r)?r.scrollX:r.scrollLeft}function G3(r){return qh(r)?r.scrollY:r.scrollTop}function Km(r){return{x:H3(r),y:G3(r)}}var wi;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(wi||(wi={}));function W3(r){return!Vp||!r?!1:r===document.scrollingElement}function Y3(r){const e={x:0,y:0},t=W3(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},i={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},a=r.scrollTop<=e.y,o=r.scrollLeft<=e.x,h=r.scrollTop>=i.y,c=r.scrollLeft>=i.x;return{isTop:a,isLeft:o,isBottom:h,isRight:c,maxScroll:i,minScroll:e}}const g7={x:.2,y:.2};function v7(r,e,t,i,a){let{top:o,left:h,right:c,bottom:f}=t;i===void 0&&(i=10),a===void 0&&(a=g7);const{isTop:d,isBottom:m,isLeft:y,isRight:w}=Y3(r),v={x:0,y:0},S={x:0,y:0},N={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+N.height?(v.y=wi.Backward,S.y=i*Math.abs((e.top+N.height-o)/N.height)):!m&&f>=e.bottom-N.height&&(v.y=wi.Forward,S.y=i*Math.abs((e.bottom-N.height-f)/N.height)),!w&&c>=e.right-N.width?(v.x=wi.Forward,S.x=i*Math.abs((e.right-N.width-c)/N.width)):!y&&h<=e.left+N.width&&(v.x=wi.Backward,S.x=i*Math.abs((e.left+N.width-h)/N.width)),{direction:v,speed:S}}function b7(r){if(r===document.scrollingElement){const{innerWidth:o,innerHeight:h}=window;return{top:0,left:0,right:o,bottom:h,width:o,height:h}}const{top:e,left:t,right:i,bottom:a}=r.getBoundingClientRect();return{top:e,left:t,right:i,bottom:a,width:r.clientWidth,height:r.clientHeight}}function X3(r){return r.reduce((e,t)=>Sh(e,Km(t)),to)}function y7(r){return r.reduce((e,t)=>e+H3(t),0)}function x7(r){return r.reduce((e,t)=>e+G3(t),0)}function Z3(r,e){if(e===void 0&&(e=Ph),!r)return;const{top:t,left:i,bottom:a,right:o}=e(r);U3(r)&&(a<=0||o<=0||t>=window.innerHeight||i>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const w7=[["x",["left","right"],y7],["y",["top","bottom"],x7]];class a2{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=qp(t),a=X3(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,h,c]of w7)for(const f of h)Object.defineProperty(this,f,{get:()=>{const d=c(i),m=a[o]-d;return this.rect[f]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vf{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...t)})},this.target=e}add(e,t,i){var a;(a=this.target)==null||a.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function _7(r){const{EventTarget:e}=os(r);return r instanceof e?r:zh(r)}function fm(r,e){const t=Math.abs(r.x),i=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+i**2)>e:"x"in e&&"y"in e?t>e.x&&i>e.y:"x"in e?t>e.x:"y"in e?i>e.y:!1}var ga;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(ga||(ga={}));function Ab(r){r.preventDefault()}function S7(r){r.stopPropagation()}var An;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(An||(An={}));const $3={start:[An.Space,An.Enter],cancel:[An.Esc],end:[An.Space,An.Enter,An.Tab]},A7=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case An.Right:return{...t,x:t.x+25};case An.Left:return{...t,x:t.x-25};case An.Down:return{...t,y:t.y+25};case An.Up:return{...t,y:t.y-25}}};class o2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Vf(zh(t)),this.windowListeners=new Vf(os(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ga.Resize,this.handleCancel),this.windowListeners.add(ga.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ga.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&Z3(i),t(to)}handleKeyDown(e){if(Bp(e)){const{active:t,context:i,options:a}=this.props,{keyboardCodes:o=$3,coordinateGetter:h=A7,scrollBehavior:c="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:d}=i.current,m=d?{x:d.left,y:d.top}:to;this.referenceCoordinates||(this.referenceCoordinates=m);const y=h(e,{active:t,context:i.current,currentCoordinates:m});if(y){const w=$f(y,m),v={x:0,y:0},{scrollableAncestors:S}=i.current;for(const N of S){const T=e.code,{isTop:C,isRight:I,isLeft:R,isBottom:q,maxScroll:B,minScroll:Z}=Y3(N),F=b7(N),j={x:Math.min(T===An.Right?F.right-F.width/2:F.right,Math.max(T===An.Right?F.left:F.left+F.width/2,y.x)),y:Math.min(T===An.Down?F.bottom-F.height/2:F.bottom,Math.max(T===An.Down?F.top:F.top+F.height/2,y.y))},V=T===An.Right&&!I||T===An.Left&&!R,H=T===An.Down&&!q||T===An.Up&&!C;if(V&&j.x!==y.x){const k=N.scrollLeft+w.x,D=T===An.Right&&k<=B.x||T===An.Left&&k>=Z.x;if(D&&!w.y){N.scrollTo({left:k,behavior:c});return}D?v.x=N.scrollLeft-k:v.x=T===An.Right?N.scrollLeft-B.x:N.scrollLeft-Z.x,v.x&&N.scrollBy({left:-v.x,behavior:c});break}else if(H&&j.y!==y.y){const k=N.scrollTop+w.y,D=T===An.Down&&k<=B.y||T===An.Up&&k>=Z.y;if(D&&!w.x){N.scrollTo({top:k,behavior:c});return}D?v.y=N.scrollTop-k:v.y=T===An.Down?N.scrollTop-B.y:N.scrollTop-Z.y,v.y&&N.scrollBy({top:-v.y,behavior:c});break}}this.handleMove(e,Sh($f(y,this.referenceCoordinates),v))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}o2.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:i=$3,onActivation:a}=e,{active:o}=t;const{code:h}=r.nativeEvent;if(i.start.includes(h)){const c=o.activatorNode.current;return c&&r.target!==c?!1:(r.preventDefault(),a?.({event:r.nativeEvent}),!0)}return!1}}];function Nb(r){return!!(r&&"distance"in r)}function Cb(r){return!!(r&&"delay"in r)}class l2{constructor(e,t,i){var a;i===void 0&&(i=_7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:h}=o;this.props=e,this.events=t,this.document=zh(h),this.documentListeners=new Vf(this.document),this.listeners=new Vf(i),this.windowListeners=new Vf(os(h)),this.initialCoordinates=(a=lp(o))!=null?a:to,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ga.Resize,this.handleCancel),this.windowListeners.add(ga.DragStart,Ab),this.windowListeners.add(ga.VisibilityChange,this.handleCancel),this.windowListeners.add(ga.ContextMenu,Ab),this.documentListeners.add(ga.Keydown,this.handleKeydown),t){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Cb(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Nb(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:i,onPending:a}=this.props;a(i,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ga.Click,S7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ga.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:a,props:o}=this,{onMove:h,options:{activationConstraint:c}}=o;if(!a)return;const f=(t=lp(e))!=null?t:to,d=$f(a,f);if(!i&&c){if(Nb(c)){if(c.tolerance!=null&&fm(d,c.tolerance))return this.handleCancel();if(fm(d,c.distance))return this.handleStart()}if(Cb(c)&&fm(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),h(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===An.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const N7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class c2 extends l2{constructor(e){const{event:t}=e,i=zh(t.target);super(e,N7,i)}}c2.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;return!t.isPrimary||t.button!==0?!1:(i?.({event:t}),!0)}}];const C7={move:{name:"mousemove"},end:{name:"mouseup"}};var Qm;(function(r){r[r.RightClick=2]="RightClick"})(Qm||(Qm={}));class T7 extends l2{constructor(e){super(e,C7,zh(e.event.target))}}T7.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;return t.button===Qm.RightClick?!1:(i?.({event:t}),!0)}}];const dm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class E7 extends l2{constructor(e){super(e,dm)}static setup(){return window.addEventListener(dm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(dm.move.name,e)};function e(){}}}E7.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;const{touches:a}=t;return a.length>1?!1:(i?.({event:t}),!0)}}];var Ff;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Ff||(Ff={}));var up;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(up||(up={}));function k7(r){let{acceleration:e,activator:t=Ff.Pointer,canScroll:i,draggingRect:a,enabled:o,interval:h=5,order:c=up.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:m,delta:y,threshold:w}=r;const v=L7({delta:y,disabled:!o}),[S,N]=UT(),T=ue.useRef({x:0,y:0}),C=ue.useRef({x:0,y:0}),I=ue.useMemo(()=>{switch(t){case Ff.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Ff.DraggableRect:return a}},[t,a,f]),R=ue.useRef(null),q=ue.useCallback(()=>{const Z=R.current;if(!Z)return;const F=T.current.x*C.current.x,j=T.current.y*C.current.y;Z.scrollBy(F,j)},[]),B=ue.useMemo(()=>c===up.TreeOrder?[...d].reverse():d,[c,d]);ue.useEffect(()=>{if(!o||!d.length||!I){N();return}for(const Z of B){if(i?.(Z)===!1)continue;const F=d.indexOf(Z),j=m[F];if(!j)continue;const{direction:V,speed:H}=v7(Z,j,I,e,w);for(const k of["x","y"])v[k][V[k]]||(H[k]=0,V[k]=0);if(H.x>0||H.y>0){N(),R.current=Z,S(q,h),T.current=H,C.current=V;return}}T.current={x:0,y:0},C.current={x:0,y:0},N()},[e,q,i,N,o,h,JSON.stringify(I),JSON.stringify(v),S,d,B,m,JSON.stringify(w)])}const M7={x:{[wi.Backward]:!1,[wi.Forward]:!1},y:{[wi.Backward]:!1,[wi.Forward]:!1}};function L7(r){let{delta:e,disabled:t}=r;const i=op(e);return pd(a=>{if(t||!i||!a)return M7;const o={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[wi.Backward]:a.x[wi.Backward]||o.x===-1,[wi.Forward]:a.x[wi.Forward]||o.x===1},y:{[wi.Backward]:a.y[wi.Backward]||o.y===-1,[wi.Forward]:a.y[wi.Forward]||o.y===1}}},[t,e,i])}function O7(r,e){const t=e!=null?r.get(e):void 0,i=t?t.node.current:null;return pd(a=>{var o;return e==null?null:(o=i??a)!=null?o:null},[i,e])}function j7(r,e){return ue.useMemo(()=>r.reduce((t,i)=>{const{sensor:a}=i,o=a.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,i)}));return[...t,...o]},[]),[r,e])}var Kf;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(Kf||(Kf={}));var Jm;(function(r){r.Optimized="optimized"})(Jm||(Jm={}));const Tb=new Map;function D7(r,e){let{dragging:t,dependencies:i,config:a}=e;const[o,h]=ue.useState(null),{frequency:c,measure:f,strategy:d}=a,m=ue.useRef(r),y=T(),w=Zf(y),v=ue.useCallback(function(C){C===void 0&&(C=[]),!w.current&&h(I=>I===null?C:I.concat(C.filter(R=>!I.includes(R))))},[w]),S=ue.useRef(null),N=pd(C=>{if(y&&!t)return Tb;if(!C||C===Tb||m.current!==r||o!=null){const I=new Map;for(let R of r){if(!R)continue;if(o&&o.length>0&&!o.includes(R.id)&&R.rect.current){I.set(R.id,R.rect.current);continue}const q=R.node.current,B=q?new a2(f(q),q):null;R.rect.current=B,B&&I.set(R.id,B)}return I}return C},[r,o,t,y,f]);return ue.useEffect(()=>{m.current=r},[r]),ue.useEffect(()=>{y||v()},[t,y]),ue.useEffect(()=>{o&&o.length>0&&h(null)},[JSON.stringify(o)]),ue.useEffect(()=>{y||typeof c!="number"||S.current!==null||(S.current=setTimeout(()=>{v(),S.current=null},c))},[c,y,v,...i]),{droppableRects:N,measureDroppableContainers:v,measuringScheduled:o!=null};function T(){switch(d){case Kf.Always:return!1;case Kf.BeforeDragging:return t;default:return!t}}}function u2(r,e){return pd(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function R7(r,e){return u2(r,e)}function I7(r){let{callback:e,disabled:t}=r;const i=Fp(e),a=ue.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,t]);return ue.useEffect(()=>()=>a?.disconnect(),[a]),a}function zp(r){let{callback:e,disabled:t}=r;const i=Fp(e),a=ue.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[t]);return ue.useEffect(()=>()=>a?.disconnect(),[a]),a}function V7(r){return new a2(Ph(r),r)}function Eb(r,e,t){e===void 0&&(e=V7);const[i,a]=ue.useState(null);function o(){a(f=>{if(!r)return null;if(r.isConnected===!1){var d;return(d=f??t)!=null?d:null}const m=e(r);return JSON.stringify(f)===JSON.stringify(m)?f:m})}const h=I7({callback(f){if(r)for(const d of f){const{type:m,target:y}=d;if(m==="childList"&&y instanceof HTMLElement&&y.contains(r)){o();break}}}}),c=zp({callback:o});return eo(()=>{o(),r?(c?.observe(r),h?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),h?.disconnect())},[r]),i}function F7(r){const e=u2(r);return z3(r,e)}const kb=[];function B7(r){const e=ue.useRef(r),t=pd(i=>r?i&&i!==kb&&r&&e.current&&r.parentNode===e.current.parentNode?i:qp(r):kb,[r]);return ue.useEffect(()=>{e.current=r},[r]),t}function q7(r){const[e,t]=ue.useState(null),i=ue.useRef(r),a=ue.useCallback(o=>{const h=hm(o.target);h&&t(c=>c?(c.set(h,Km(h)),new Map(c)):null)},[]);return ue.useEffect(()=>{const o=i.current;if(r!==o){h(o);const c=r.map(f=>{const d=hm(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,Km(d)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),i.current=r}return()=>{h(r),h(o)};function h(c){c.forEach(f=>{const d=hm(f);d?.removeEventListener("scroll",a)})}},[a,r]),ue.useMemo(()=>r.length?e?Array.from(e.values()).reduce((o,h)=>Sh(o,h),to):X3(r):to,[r,e])}function Mb(r,e){e===void 0&&(e=[]);const t=ue.useRef(null);return ue.useEffect(()=>{t.current=null},e),ue.useEffect(()=>{const i=r!==to;i&&!t.current&&(t.current=r),!i&&t.current&&(t.current=null)},[r]),t.current?$f(r,t.current):to}function z7(r){ue.useEffect(()=>{if(!Vp)return;const e=r.map(t=>{let{sensor:i}=t;return i.setup==null?void 0:i.setup()});return()=>{for(const t of e)t?.()}},r.map(e=>{let{sensor:t}=e;return t}))}function P7(r,e){return ue.useMemo(()=>r.reduce((t,i)=>{let{eventName:a,handler:o}=i;return t[a]=h=>{o(h,e)},t},{}),[r,e])}function K3(r){return ue.useMemo(()=>r?d7(r):null,[r])}const Lb=[];function U7(r,e){e===void 0&&(e=Ph);const[t]=r,i=K3(t?os(t):null),[a,o]=ue.useState(Lb);function h(){o(()=>r.length?r.map(f=>W3(f)?i:new a2(e(f),f)):Lb)}const c=zp({callback:h});return eo(()=>{c?.disconnect(),h(),r.forEach(f=>c?.observe(f))},[r]),a}function Q3(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return dd(e)?e:r}function H7(r){let{measure:e}=r;const[t,i]=ue.useState(null),a=ue.useCallback(d=>{for(const{target:m}of d)if(dd(m)){i(y=>{const w=e(m);return y?{...y,width:w.width,height:w.height}:w});break}},[e]),o=zp({callback:a}),h=ue.useCallback(d=>{const m=Q3(d);o?.disconnect(),m&&o?.observe(m),i(m?e(m):null)},[e,o]),[c,f]=ap(h);return ue.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const G7=[{sensor:c2,options:{}},{sensor:o2,options:{}}],W7={current:{}},L1={draggable:{measure:Sb},droppable:{measure:Sb,strategy:Kf.WhileDragging,frequency:Jm.Optimized},dragOverlay:{measure:Ph}};class Bf extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return(t=(i=this.get(e))==null?void 0:i.node.current)!=null?t:void 0}}const Y7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Bf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:cp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:L1,measureDroppableContainers:cp,windowRect:null,measuringScheduled:!1},J3={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:cp,draggableNodes:new Map,over:null,measureDroppableContainers:cp},gd=ue.createContext(J3),ew=ue.createContext(Y7);function X7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Bf}}}function Z7(r,e){switch(e.type){case hi.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case hi.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case hi.DragEnd:case hi.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case hi.RegisterDroppable:{const{element:t}=e,{id:i}=t,a=new Bf(r.droppable.containers);return a.set(i,t),{...r,droppable:{...r.droppable,containers:a}}}case hi.SetDroppableDisabled:{const{id:t,key:i,disabled:a}=e,o=r.droppable.containers.get(t);if(!o||i!==o.key)return r;const h=new Bf(r.droppable.containers);return h.set(t,{...o,disabled:a}),{...r,droppable:{...r.droppable,containers:h}}}case hi.UnregisterDroppable:{const{id:t,key:i}=e,a=r.droppable.containers.get(t);if(!a||i!==a.key)return r;const o=new Bf(r.droppable.containers);return o.delete(t),{...r,droppable:{...r.droppable,containers:o}}}default:return r}}function $7(r){let{disabled:e}=r;const{active:t,activatorEvent:i,draggableNodes:a}=ue.useContext(gd),o=op(i),h=op(t?.id);return ue.useEffect(()=>{if(!e&&!i&&o&&h!=null){if(!Bp(o)||document.activeElement===o.target)return;const c=a.get(h);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const m of[f.current,d.current]){if(!m)continue;const y=WT(m);if(y){y.focus();break}}})}},[i,e,a,h,o]),null}function tw(r,e){let{transform:t,...i}=e;return r!=null&&r.length?r.reduce((a,o)=>o({transform:a,...i}),t):t}function K7(r){return ue.useMemo(()=>({draggable:{...L1.draggable,...r?.draggable},droppable:{...L1.droppable,...r?.droppable},dragOverlay:{...L1.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function Q7(r){let{activeNode:e,measure:t,initialRect:i,config:a=!0}=r;const o=ue.useRef(!1),{x:h,y:c}=typeof a=="boolean"?{x:a,y:a}:a;eo(()=>{if(!h&&!c||!e){o.current=!1;return}if(o.current||!i)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const m=t(d),y=z3(m,i);if(h||(y.x=0),c||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=U3(d);w&&w.scrollBy({top:y.y,left:y.x})}},[e,h,c,i,t])}const Pp=ue.createContext({...to,scaleX:1,scaleY:1});var lc;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(lc||(lc={}));const J7=ue.memo(function(e){var t,i,a,o;let{id:h,accessibility:c,autoScroll:f=!0,children:d,sensors:m=G7,collisionDetection:y=o7,measuring:w,modifiers:v,...S}=e;const N=ue.useReducer(Z7,void 0,X7),[T,C]=N,[I,R]=KT(),[q,B]=ue.useState(lc.Uninitialized),Z=q===lc.Initialized,{draggable:{active:F,nodes:j,translate:V},droppable:{containers:H}}=T,k=F!=null?j.get(F):null,D=ue.useRef({initial:null,translated:null}),ne=ue.useMemo(()=>{var Qe;return F!=null?{id:F,data:(Qe=k?.data)!=null?Qe:W7,rect:D}:null},[F,k]),$=ue.useRef(null),[he,Q]=ue.useState(null),[K,ce]=ue.useState(null),fe=Zf(S,Object.values(S)),xe=md("DndDescribedBy",h),Y=ue.useMemo(()=>H.getEnabled(),[H]),L=K7(w),{droppableRects:z,measureDroppableContainers:J,measuringScheduled:ie}=D7(Y,{dragging:Z,dependencies:[V.x,V.y],config:L.droppable}),se=O7(j,F),de=ue.useMemo(()=>K?lp(K):null,[K]),pe=ot(),we=R7(se,L.draggable.measure);Q7({activeNode:F!=null?j.get(F):null,config:pe.layoutShiftCompensation,initialRect:we,measure:L.draggable.measure});const Ae=Eb(se,L.draggable.measure,we),Ge=Eb(se?se.parentElement:null),Je=ue.useRef({activatorEvent:null,active:null,activeNode:se,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:H,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),it=H.getNodeFor((t=Je.current.over)==null?void 0:t.id),st=H7({measure:L.dragOverlay.measure}),W=(i=st.nodeRef.current)!=null?i:se,De=Z?(a=st.rect)!=null?a:Ae:null,at=!!(st.nodeRef.current&&st.rect),$e=F7(at?null:Ae),Te=K3(W?os(W):null),nt=B7(Z?it??se:null),rt=U7(nt),lt=tw(v,{transform:{x:V.x-$e.x,y:V.y-$e.y,scaleX:1,scaleY:1},activatorEvent:K,active:ne,activeNodeRect:Ae,containerNodeRect:Ge,draggingNodeRect:De,over:Je.current.over,overlayNodeRect:st.rect,scrollableAncestors:nt,scrollableAncestorRects:rt,windowRect:Te}),ft=de?Sh(de,V):null,At=q7(nt),Ft=Mb(At),jt=Mb(At,[Ae]),kt=Sh(lt,Ft),Mt=De?u7(De,lt):null,ht=ne&&Mt?y({active:ne,collisionRect:Mt,droppableRects:z,droppableContainers:Y,pointerCoordinates:ft}):null,Re=q3(ht,"id"),[Ye,qt]=ue.useState(null),Nt=at?lt:Sh(lt,jt),St=l7(Nt,(o=Ye?.rect)!=null?o:null,Ae),Lt=ue.useRef(null),Bt=ue.useCallback((Qe,et)=>{let{sensor:dt,options:$t}=et;if($.current==null)return;const Ne=j.get($.current);if(!Ne)return;const Ie=Qe.nativeEvent,He=new dt({active:$.current,activeNode:Ne,event:Ie,options:$t,context:Je,onAbort(ut){if(!j.get(ut))return;const{onDragAbort:Ct}=fe.current,Gt={id:ut};Ct?.(Gt),I({type:"onDragAbort",event:Gt})},onPending(ut,gt,Ct,Gt){if(!j.get(ut))return;const{onDragPending:cn}=fe.current,Kt={id:ut,constraint:gt,initialCoordinates:Ct,offset:Gt};cn?.(Kt),I({type:"onDragPending",event:Kt})},onStart(ut){const gt=$.current;if(gt==null)return;const Ct=j.get(gt);if(!Ct)return;const{onDragStart:Gt}=fe.current,Yt={activatorEvent:Ie,active:{id:gt,data:Ct.data,rect:D}};jf.unstable_batchedUpdates(()=>{Gt?.(Yt),B(lc.Initializing),C({type:hi.DragStart,initialCoordinates:ut,active:gt}),I({type:"onDragStart",event:Yt}),Q(Lt.current),ce(Ie)})},onMove(ut){C({type:hi.DragMove,coordinates:ut})},onEnd:Ue(hi.DragEnd),onCancel:Ue(hi.DragCancel)});Lt.current=He;function Ue(ut){return async function(){const{active:Ct,collisions:Gt,over:Yt,scrollAdjustedTranslate:cn}=Je.current;let Kt=null;if(Ct&&cn){const{cancelDrop:ir}=fe.current;Kt={activatorEvent:Ie,active:Ct,collisions:Gt,delta:cn,over:Yt},ut===hi.DragEnd&&typeof ir=="function"&&await Promise.resolve(ir(Kt))&&(ut=hi.DragCancel)}$.current=null,jf.unstable_batchedUpdates(()=>{C({type:ut}),B(lc.Uninitialized),qt(null),Q(null),ce(null),Lt.current=null;const ir=ut===hi.DragEnd?"onDragEnd":"onDragCancel";if(Kt){const Qt=fe.current[ir];Qt?.(Kt),I({type:ir,event:Kt})}})}}},[j]),vt=ue.useCallback((Qe,et)=>(dt,$t)=>{const Ne=dt.nativeEvent,Ie=j.get($t);if($.current!==null||!Ie||Ne.dndKit||Ne.defaultPrevented)return;const He={active:Ie};Qe(dt,et.options,He)===!0&&(Ne.dndKit={capturedBy:et.sensor},$.current=$t,Bt(dt,et))},[j,Bt]),dn=j7(m,vt);z7(m),eo(()=>{Ae&&q===lc.Initializing&&B(lc.Initialized)},[Ae,q]),ue.useEffect(()=>{const{onDragMove:Qe}=fe.current,{active:et,activatorEvent:dt,collisions:$t,over:Ne}=Je.current;if(!et||!dt)return;const Ie={active:et,activatorEvent:dt,collisions:$t,delta:{x:kt.x,y:kt.y},over:Ne};jf.unstable_batchedUpdates(()=>{Qe?.(Ie),I({type:"onDragMove",event:Ie})})},[kt.x,kt.y]),ue.useEffect(()=>{const{active:Qe,activatorEvent:et,collisions:dt,droppableContainers:$t,scrollAdjustedTranslate:Ne}=Je.current;if(!Qe||$.current==null||!et||!Ne)return;const{onDragOver:Ie}=fe.current,He=$t.get(Re),Ue=He&&He.rect.current?{id:He.id,rect:He.rect.current,data:He.data,disabled:He.disabled}:null,ut={active:Qe,activatorEvent:et,collisions:dt,delta:{x:Ne.x,y:Ne.y},over:Ue};jf.unstable_batchedUpdates(()=>{qt(Ue),Ie?.(ut),I({type:"onDragOver",event:ut})})},[Re]),eo(()=>{Je.current={activatorEvent:K,active:ne,activeNode:se,collisionRect:Mt,collisions:ht,droppableRects:z,draggableNodes:j,draggingNode:W,draggingNodeRect:De,droppableContainers:H,over:Ye,scrollableAncestors:nt,scrollAdjustedTranslate:kt},D.current={initial:De,translated:Mt}},[ne,se,ht,Mt,j,W,De,z,H,Ye,nt,kt]),k7({...pe,delta:V,draggingRect:Mt,pointerCoordinates:ft,scrollableAncestors:nt,scrollableAncestorRects:rt});const Dt=ue.useMemo(()=>({active:ne,activeNode:se,activeNodeRect:Ae,activatorEvent:K,collisions:ht,containerNodeRect:Ge,dragOverlay:st,draggableNodes:j,droppableContainers:H,droppableRects:z,over:Ye,measureDroppableContainers:J,scrollableAncestors:nt,scrollableAncestorRects:rt,measuringConfiguration:L,measuringScheduled:ie,windowRect:Te}),[ne,se,Ae,K,ht,Ge,st,j,H,z,Ye,J,nt,rt,L,ie,Te]),Oe=ue.useMemo(()=>({activatorEvent:K,activators:dn,active:ne,activeNodeRect:Ae,ariaDescribedById:{draggable:xe},dispatch:C,draggableNodes:j,over:Ye,measureDroppableContainers:J}),[K,dn,ne,Ae,C,xe,j,Ye,J]);return fn.createElement(I3.Provider,{value:R},fn.createElement(gd.Provider,{value:Oe},fn.createElement(ew.Provider,{value:Dt},fn.createElement(Pp.Provider,{value:St},d)),fn.createElement($7,{disabled:c?.restoreFocus===!1})),fn.createElement(e7,{...c,hiddenTextDescribedById:xe}));function ot(){const Qe=he?.autoScrollEnabled===!1,et=typeof f=="object"?f.enabled===!1:f===!1,dt=Z&&!Qe&&!et;return typeof f=="object"?{...f,enabled:dt}:{enabled:dt}}}),eE=ue.createContext(null),Ob="button",tE="Draggable";function nw(r){let{id:e,data:t,disabled:i=!1,attributes:a}=r;const o=md(tE),{activators:h,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:m,draggableNodes:y,over:w}=ue.useContext(gd),{role:v=Ob,roleDescription:S="draggable",tabIndex:N=0}=a??{},T=f?.id===e,C=ue.useContext(T?Pp:eE),[I,R]=ap(),[q,B]=ap(),Z=P7(h,e),F=Zf(t);eo(()=>(y.set(e,{id:e,key:o,node:I,activatorNode:q,data:F}),()=>{const V=y.get(e);V&&V.key===o&&y.delete(e)}),[y,e]);const j=ue.useMemo(()=>({role:v,tabIndex:N,"aria-disabled":i,"aria-pressed":T&&v===Ob?!0:void 0,"aria-roledescription":S,"aria-describedby":m.draggable}),[i,v,N,T,S,m.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:j,isDragging:T,listeners:i?void 0:Z,node:I,over:w,setNodeRef:R,setActivatorNodeRef:B,transform:C}}function rw(){return ue.useContext(ew)}const nE="Droppable",rE={timeout:25};function iw(r){let{data:e,disabled:t=!1,id:i,resizeObserverConfig:a}=r;const o=md(nE),{active:h,dispatch:c,over:f,measureDroppableContainers:d}=ue.useContext(gd),m=ue.useRef({disabled:t}),y=ue.useRef(!1),w=ue.useRef(null),v=ue.useRef(null),{disabled:S,updateMeasurementsFor:N,timeout:T}={...rE,...a},C=Zf(N??i),I=ue.useCallback(()=>{if(!y.current){y.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),v.current=null},T)},[T]),R=zp({callback:I,disabled:S||!h}),q=ue.useCallback((j,V)=>{R&&(V&&(R.unobserve(V),y.current=!1),j&&R.observe(j))},[R]),[B,Z]=ap(q),F=Zf(e);return ue.useEffect(()=>{!R||!B.current||(R.disconnect(),y.current=!1,R.observe(B.current))},[B,R]),ue.useEffect(()=>(c({type:hi.RegisterDroppable,element:{id:i,key:o,disabled:t,node:B,rect:w,data:F}}),()=>c({type:hi.UnregisterDroppable,key:o,id:i})),[i]),ue.useEffect(()=>{t!==m.current.disabled&&(c({type:hi.SetDroppableDisabled,id:i,key:o,disabled:t}),m.current.disabled=t)},[i,o,t,c]),{active:h,rect:w,isOver:f?.id===i,node:B,over:f,setNodeRef:Z}}function iE(r){let{animation:e,children:t}=r;const[i,a]=ue.useState(null),[o,h]=ue.useState(null),c=op(t);return!t&&!i&&c&&a(c),eo(()=>{if(!o)return;const f=i?.key,d=i?.props.id;if(f==null||d==null){a(null);return}Promise.resolve(e(d,o)).then(()=>{a(null)})},[e,i,o]),fn.createElement(fn.Fragment,null,t,i?ue.cloneElement(i,{ref:h}):null)}const sE={x:0,y:0,scaleX:1,scaleY:1};function aE(r){let{children:e}=r;return fn.createElement(gd.Provider,{value:J3},fn.createElement(Pp.Provider,{value:sE},e))}const oE={position:"fixed",touchAction:"none"},lE=r=>Bp(r)?"transform 250ms ease":void 0,cE=ue.forwardRef((r,e)=>{let{as:t,activatorEvent:i,adjustScale:a,children:o,className:h,rect:c,style:f,transform:d,transition:m=lE}=r;if(!c)return null;const y=a?d:{...d,scaleX:1,scaleY:1},w={...oE,width:c.width,height:c.height,top:c.top,left:c.left,transform:vc.Transform.toString(y),transformOrigin:a&&i?n7(i,c):void 0,transition:typeof m=="function"?m(i):m,...f};return fn.createElement(t,{className:h,style:w,ref:e},o)}),uE=r=>e=>{let{active:t,dragOverlay:i}=e;const a={},{styles:o,className:h}=r;if(o!=null&&o.active)for(const[c,f]of Object.entries(o.active))f!==void 0&&(a[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,f));if(o!=null&&o.dragOverlay)for(const[c,f]of Object.entries(o.dragOverlay))f!==void 0&&i.node.style.setProperty(c,f);return h!=null&&h.active&&t.node.classList.add(h.active),h!=null&&h.dragOverlay&&i.node.classList.add(h.dragOverlay),function(){for(const[f,d]of Object.entries(a))t.node.style.setProperty(f,d);h!=null&&h.active&&t.node.classList.remove(h.active)}},hE=r=>{let{transform:{initial:e,final:t}}=r;return[{transform:vc.Transform.toString(e)},{transform:vc.Transform.toString(t)}]},fE={duration:250,easing:"ease",keyframes:hE,sideEffects:uE({styles:{active:{opacity:"0"}}})};function dE(r){let{config:e,draggableNodes:t,droppableContainers:i,measuringConfiguration:a}=r;return Fp((o,h)=>{if(e===null)return;const c=t.get(o);if(!c)return;const f=c.node.current;if(!f)return;const d=Q3(h);if(!d)return;const{transform:m}=os(h).getComputedStyle(h),y=P3(m);if(!y)return;const w=typeof e=="function"?e:pE(e);return Z3(f,a.draggable.measure),w({active:{id:o,data:c.data,node:f,rect:a.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:h,rect:a.dragOverlay.measure(d)},droppableContainers:i,measuringConfiguration:a,transform:y})})}function pE(r){const{duration:e,easing:t,sideEffects:i,keyframes:a}={...fE,...r};return o=>{let{active:h,dragOverlay:c,transform:f,...d}=o;if(!e)return;const m={x:c.rect.left-h.rect.left,y:c.rect.top-h.rect.top},y={scaleX:f.scaleX!==1?h.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?h.rect.height*f.scaleY/c.rect.height:1},w={x:f.x-m.x,y:f.y-m.y,...y},v=a({...d,active:h,dragOverlay:c,transform:{initial:f,final:w}}),[S]=v,N=v[v.length-1];if(JSON.stringify(S)===JSON.stringify(N))return;const T=i?.({active:h,dragOverlay:c,...d}),C=c.node.animate(v,{duration:e,easing:t,fill:"forwards"});return new Promise(I=>{C.onfinish=()=>{T?.(),I()}})}}let jb=0;function mE(r){return ue.useMemo(()=>{if(r!=null)return jb++,jb},[r])}const gE=fn.memo(r=>{let{adjustScale:e=!1,children:t,dropAnimation:i,style:a,transition:o,modifiers:h,wrapperElement:c="div",className:f,zIndex:d=999}=r;const{activatorEvent:m,active:y,activeNodeRect:w,containerNodeRect:v,draggableNodes:S,droppableContainers:N,dragOverlay:T,over:C,measuringConfiguration:I,scrollableAncestors:R,scrollableAncestorRects:q,windowRect:B}=rw(),Z=ue.useContext(Pp),F=mE(y?.id),j=tw(h,{activatorEvent:m,active:y,activeNodeRect:w,containerNodeRect:v,draggingNodeRect:T.rect,over:C,overlayNodeRect:T.rect,scrollableAncestors:R,scrollableAncestorRects:q,transform:Z,windowRect:B}),V=u2(w),H=dE({config:i,draggableNodes:S,droppableContainers:N,measuringConfiguration:I}),k=V?T.setRef:void 0;return fn.createElement(aE,null,fn.createElement(iE,{animation:H},y&&F?fn.createElement(cE,{key:F,id:y.id,ref:k,as:c,activatorEvent:m,adjustScale:e,className:f,transition:o,rect:V,style:{zIndex:d,...a},transform:j},t):null))});function h2(r,e,t){const i=r.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}function vE(r,e){return r.reduce((t,i,a)=>{const o=e.get(i);return o&&(t[a]=o),t},Array(r.length))}function g1(r){return r!==null&&r>=0}function bE(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function yE(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const v1={scaleX:1,scaleY:1},xE=r=>{var e;let{rects:t,activeNodeRect:i,activeIndex:a,overIndex:o,index:h}=r;const c=(e=t[a])!=null?e:i;if(!c)return null;const f=wE(t,h,a);if(h===a){const d=t[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...v1}:null}return h>a&&h<=o?{x:-c.width-f,y:0,...v1}:h<a&&h>=o?{x:c.width+f,y:0,...v1}:{x:0,y:0,...v1}};function wE(r,e,t){const i=r[e],a=r[e-1],o=r[e+1];return!i||!a&&!o?0:t<e?a?i.left-(a.left+a.width):o.left-(i.left+i.width):o?o.left-(i.left+i.width):i.left-(a.left+a.width)}const sw=r=>{let{rects:e,activeIndex:t,overIndex:i,index:a}=r;const o=h2(e,i,t),h=e[a],c=o[a];return!c||!h?null:{x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height}},aw="Sortable",ow=fn.createContext({activeIndex:-1,containerId:aw,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:sw,disabled:{draggable:!1,droppable:!1}});function _E(r){let{children:e,id:t,items:i,strategy:a=sw,disabled:o=!1}=r;const{active:h,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:m}=rw(),y=md(aw,t),w=c.rect!==null,v=ue.useMemo(()=>i.map(Z=>typeof Z=="object"&&"id"in Z?Z.id:Z),[i]),S=h!=null,N=h?v.indexOf(h.id):-1,T=d?v.indexOf(d.id):-1,C=ue.useRef(v),I=!bE(v,C.current),R=T!==-1&&N===-1||I,q=yE(o);eo(()=>{I&&S&&m(v)},[I,v,S,m]),ue.useEffect(()=>{C.current=v},[v]);const B=ue.useMemo(()=>({activeIndex:N,containerId:y,disabled:q,disableTransforms:R,items:v,overIndex:T,useDragOverlay:w,sortedRects:vE(v,f),strategy:a}),[N,y,q.draggable,q.droppable,R,v,T,f,w,a]);return fn.createElement(ow.Provider,{value:B},e)}const SE=r=>{let{id:e,items:t,activeIndex:i,overIndex:a}=r;return h2(t,i,a).indexOf(e)},AE=r=>{let{containerId:e,isSorting:t,wasDragging:i,index:a,items:o,newIndex:h,previousItems:c,previousContainerId:f,transition:d}=r;return!d||!i||c!==o&&a===h?!1:t?!0:h!==a&&e===f},NE={duration:200,easing:"ease"},lw="transform",CE=vc.Transition.toString({property:lw,duration:0,easing:"linear"}),TE={roleDescription:"sortable"};function EE(r){let{disabled:e,index:t,node:i,rect:a}=r;const[o,h]=ue.useState(null),c=ue.useRef(t);return eo(()=>{if(!e&&t!==c.current&&i.current){const f=a.current;if(f){const d=Ph(i.current,{ignoreTransform:!0}),m={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(m.x||m.y)&&h(m)}}t!==c.current&&(c.current=t)},[e,t,i,a]),ue.useEffect(()=>{o&&h(null)},[o]),o}function kE(r){let{animateLayoutChanges:e=AE,attributes:t,disabled:i,data:a,getNewIndex:o=SE,id:h,strategy:c,resizeObserverConfig:f,transition:d=NE}=r;const{items:m,containerId:y,activeIndex:w,disabled:v,disableTransforms:S,sortedRects:N,overIndex:T,useDragOverlay:C,strategy:I}=ue.useContext(ow),R=ME(i,v),q=m.indexOf(h),B=ue.useMemo(()=>({sortable:{containerId:y,index:q,items:m},...a}),[y,a,q,m]),Z=ue.useMemo(()=>m.slice(m.indexOf(h)),[m,h]),{rect:F,node:j,isOver:V,setNodeRef:H}=iw({id:h,data:B,disabled:R.droppable,resizeObserverConfig:{updateMeasurementsFor:Z,...f}}),{active:k,activatorEvent:D,activeNodeRect:ne,attributes:$,setNodeRef:he,listeners:Q,isDragging:K,over:ce,setActivatorNodeRef:fe,transform:xe}=nw({id:h,data:B,attributes:{...TE,...t},disabled:R.draggable}),Y=PT(H,he),L=!!k,z=L&&!S&&g1(w)&&g1(T),J=!C&&K,ie=J&&z?xe:null,de=z?ie??(c??I)({rects:N,activeNodeRect:ne,activeIndex:w,overIndex:T,index:q}):null,pe=g1(w)&&g1(T)?o({id:h,items:m,activeIndex:w,overIndex:T}):q,we=k?.id,Ae=ue.useRef({activeId:we,items:m,newIndex:pe,containerId:y}),Ge=m!==Ae.current.items,Je=e({active:k,containerId:y,isDragging:K,isSorting:L,id:h,index:q,items:m,newIndex:Ae.current.newIndex,previousItems:Ae.current.items,previousContainerId:Ae.current.containerId,transition:d,wasDragging:Ae.current.activeId!=null}),it=EE({disabled:!Je,index:q,node:j,rect:F});return ue.useEffect(()=>{L&&Ae.current.newIndex!==pe&&(Ae.current.newIndex=pe),y!==Ae.current.containerId&&(Ae.current.containerId=y),m!==Ae.current.items&&(Ae.current.items=m)},[L,pe,y,m]),ue.useEffect(()=>{if(we===Ae.current.activeId)return;if(we!=null&&Ae.current.activeId==null){Ae.current.activeId=we;return}const W=setTimeout(()=>{Ae.current.activeId=we},50);return()=>clearTimeout(W)},[we]),{active:k,activeIndex:w,attributes:$,data:B,rect:F,index:q,newIndex:pe,items:m,isOver:V,isSorting:L,isDragging:K,listeners:Q,node:j,overIndex:T,over:ce,setNodeRef:Y,setActivatorNodeRef:fe,setDroppableNodeRef:H,setDraggableNodeRef:he,transform:it??de,transition:st()};function st(){if(it||Ge&&Ae.current.newIndex===q)return CE;if(!(J&&!Bp(D)||!d)&&(L||Je))return vc.Transition.toString({...d,property:lw})}}function ME(r,e){var t,i;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r?.draggable)!=null?t:e.draggable,droppable:(i=r?.droppable)!=null?i:e.droppable}}function hp(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const LE=[An.Down,An.Right,An.Up,An.Left],OE=(r,e)=>{let{context:{active:t,collisionRect:i,droppableRects:a,droppableContainers:o,over:h,scrollableAncestors:c}}=e;if(LE.includes(r.code)){if(r.preventDefault(),!t||!i)return;const f=[];o.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const w=a.get(y.id);if(w)switch(r.code){case An.Down:i.top<w.top&&f.push(y);break;case An.Up:i.top>w.top&&f.push(y);break;case An.Left:i.left>w.left&&f.push(y);break;case An.Right:i.left<w.left&&f.push(y);break}});const d=s7({collisionRect:i,droppableRects:a,droppableContainers:f});let m=q3(d,"id");if(m===h?.id&&d.length>1&&(m=d[1].id),m!=null){const y=o.get(t.id),w=o.get(m),v=w?a.get(w.id):null,S=w?.node.current;if(S&&v&&y&&w){const T=qp(S).some((Z,F)=>c[F]!==Z),C=cw(y,w),I=jE(y,w),R=T||!C?{x:0,y:0}:{x:I?i.width-v.width:0,y:I?i.height-v.height:0},q={x:v.left,y:v.top};return R.x&&R.y?q:$f(q,R)}}}};function cw(r,e){return!hp(r)||!hp(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function jE(r,e){return!hp(r)||!hp(e)||!cw(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const DE=({slot:r,sectionId:e,size:t=48,width:i})=>{const{selectedSlots:a,setSelectedSlot:o,toggleSlotSelection:h,selectRangeTo:c,setSelectedSlots:f,playingSectionId:d,playingSlotId:m}=rr(),y=gp(),w=i??t,v=ue.useRef(null),{isOver:S,setNodeRef:N}=iw({id:`slot-${r.id}`,data:{type:"slot",sectionId:e,slotId:r.id}}),{attributes:T,listeners:C,setNodeRef:I,transform:R,isDragging:q}=nw({id:`chord-${r.id}`,data:{type:"chord",chord:r.chord,originSlotId:r.id,originSectionId:e},disabled:!r.chord}),B=a.some($=>$.slotId===r.id&&$.sectionId===e),Z=d===e&&m===r.id,F=R?{transform:`translate3d(${R.x}px, ${R.y}px, 0)`,zIndex:999}:void 0,j=$=>{if($.button===0)if($.stopPropagation(),$.shiftKey)c(e,r.id);else if($.metaKey||$.ctrlKey)h(e,r.id);else if(B&&a.length>0){const he=[...a.filter(Q=>!(Q.sectionId===e&&Q.slotId===r.id)),{sectionId:e,slotId:r.id}];f(he)}else o(e,r.id)},V=$=>{v.current={x:$.clientX,y:$.clientY}},H=$=>{if($.stopPropagation(),!!r.chord){if(v.current){const he=$.clientX-v.current.x,Q=$.clientY-v.current.y;if(Math.sqrt(he*he+Q*Q)>5)return}r.chord.notes&&r.chord.notes.length>0&&Lo(r.chord.notes)}},D=(()=>{if(!r.chord)return;const $=r.chord.root;if(y[$])return y[$];const he=ou($);for(const Q of Object.keys(y))if(ou(Q)===he)return y[Q];return"hsl(230, 60%, 50%)"})(),ne=Math.max(8,Math.min(12,t*.22));return E.jsxs("div",{ref:N,onMouseDown:j,onClick:$=>$.stopPropagation(),onDoubleClick:$=>$.stopPropagation(),style:{width:w,height:t},className:ui("rounded border-2 flex items-center justify-center transition-all relative flex-shrink-0",S?"border-accent-primary bg-accent-glow scale-105":"border-border-medium bg-bg-elevated",B?"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary":"",Z?"ring-2 ring-green-500 ring-offset-1 ring-offset-bg-primary shadow-[0_0_15px_rgba(34,197,94,0.5)] scale-105 z-10":"",!r.chord&&"hover:border-text-muted cursor-pointer"),children:[!r.chord&&E.jsx("span",{className:"text-text-muted font-light select-none",style:{fontSize:ne+4},children:"+"}),r.chord&&E.jsx("div",{ref:I,...C,...T,onMouseDown:$=>{V($),C?.onMouseDown?.($)},onClick:H,style:{...F,backgroundColor:D},className:ui("w-full h-full rounded flex items-center justify-center font-bold shadow cursor-grab active:cursor-grabbing select-none overflow-hidden",q?"opacity-50":"opacity-100"),children:E.jsx("span",{style:{fontSize:ne,color:dg(D||"")},className:"truncate px-0.5 text-center font-bold",children:r.chord.symbol})})]})},RE=r=>{const[e,t]=r;return e*(4/t)},IE=({measure:r,sectionId:e,index:t,chordSize:i=48,timeSignature:a,scale:o=1})=>{const{setMeasureSubdivision:h}=rr(),c=Math.max(.1,Math.min(1.6,o)),f=RE(a),d=r.beats.length,m=i*.9,y=Math.max(8,m*c),[w]=a,S=(T=>{const C=[1,T];return T*2<=16&&C.push(T*2),T*4<=16&&C.push(T*4),[...new Set(C)].sort((I,R)=>I-R)})(w),N=T=>{Number.isFinite(T)&&h(e,r.id,T)};return E.jsxs("div",{className:"flex flex-col border-r-2 border-border-medium last:border-r-0 px-1 min-w-[64px]",style:{minWidth:y*Math.max(1,f)+8},children:[E.jsx("div",{className:"text-[8px] text-text-muted mb-0.5 font-mono uppercase tracking-wider text-center",children:t+1}),E.jsx("div",{className:"flex gap-0.5",children:r.beats.map(T=>{const C=Math.max(y*(T.duration||1),y);return E.jsx(DE,{slot:T,sectionId:e,size:i,width:C},T.id)})}),E.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5 mt-1",children:[E.jsx("span",{className:"text-[8px] uppercase tracking-wider text-text-muted leading-tight",children:"Steps"}),E.jsxs("select",{value:d,onChange:T=>N(parseInt(T.target.value,10)),className:"bg-bg-tertiary text-text-primary text-[10px] rounded px-1 py-0.5 border border-border-subtle focus:outline-none",children:[S.map(T=>E.jsx("option",{value:T,className:"bg-bg-secondary text-text-primary",children:T},T)),!S.includes(d)&&E.jsx("option",{value:d,className:"bg-bg-secondary text-text-primary",children:d})]})]})]})},VE=({section:r,chordSize:e=48,scale:t=1,onRequestConfirm:i})=>{const{removeSection:a,duplicateSection:o,updateSection:h,selectedSectionId:c,setSelectedSlot:f,setSectionMeasures:d,setSectionTimeSignature:m,currentSong:y,collapsedSections:w,toggleSectionCollapsed:v}=rr(),[S,N]=ue.useState(!1),[T,C]=ue.useState(r.name),I=ue.useRef(null);ue.useEffect(()=>{S&&I.current&&(I.current.focus(),I.current.select())},[S]);const R=z=>{z.stopPropagation(),C(r.name),N(!0)},q=()=>{const z=T.trim();z&&z!==r.name&&h(r.id,{name:z}),N(!1)},B=z=>{z.key==="Enter"?q():z.key==="Escape"&&(C(r.name),N(!1))},{attributes:Z,listeners:F,setNodeRef:j,transform:V,transition:H,isDragging:k}=kE({id:r.id,data:{type:"section",sectionId:r.id}}),D={transform:vc.Transform.toString(V),transition:H},ne=z=>{z.stopPropagation(),i({title:"Delete Section",message:`Delete section "${r.name}"?`,confirmLabel:"Delete",isDestructive:!0,onConfirm:()=>a(r.id)})},$=()=>{f(r.id,null)},he=(t??1)<=.2,Q=w[r.id]??!1,K=r.timeSignature||y.timeSignature||[4,4],ce=r.measures.length,fe=z=>{const J=Number.isFinite(z)?z:ce;d(r.id,J)},xe=z=>{const[J,ie]=z.split("/").map(de=>parseInt(de,10));if(!J||!ie)return;if(r.measures.some(de=>de.beats.some(pe=>!!pe.chord))){i({title:"Change Time Signature",message:"Changing the time signature will clear chords in this section. Continue?",confirmLabel:"Change",isDestructive:!0,onConfirm:()=>m(r.id,[J,ie])});return}m(r.id,[J,ie])},Y=`${K[0]}/${K[1]}`,L=[[4,4],[3,4],[5,4],[2,4],[6,8]];return E.jsxs("div",{ref:j,style:D,className:ui("flex flex-col bg-bg-secondary rounded-lg overflow-hidden border-2 shadow-[0_0_0_2px_rgba(255,255,255,0.12)] transition-all h-full max-h-full",c===r.id?"border-accent-primary shadow-[0_0_0_2px_rgba(99,102,241,0.35)]":"border-border-medium",k?"opacity-50":"opacity-100"),onClick:$,children:[E.jsxs("div",{className:ui("flex items-center justify-between bg-bg-elevated border-b border-border-subtle group",he?"px-1.5 py-1 gap-1.5":"flex-wrap gap-3 px-2 py-1.5"),children:[E.jsxs("div",{className:ui("flex items-center min-w-0",he?"gap-0.5":"gap-1.5"),children:[E.jsx("div",{...Z,...F,className:"cursor-grab active:cursor-grabbing text-text-muted hover:text-text-primary shrink-0",title:"Drag section",children:E.jsx(b3,{size:he?10:12})}),S?E.jsx("input",{ref:I,type:"text",value:T,onChange:z=>C(z.target.value),onBlur:q,onKeyDown:B,onClick:z=>z.stopPropagation(),className:ui("font-medium text-text-primary bg-bg-tertiary border border-border-medium rounded focus:outline-none focus:border-accent-primary",he?"text-[8px] px-1 py-0 w-16":"text-xs px-1.5 py-0.5 w-24"),maxLength:30}):E.jsx("span",{className:ui("font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors truncate",he?"text-[8px] max-w-[60px]":"text-xs max-w-[120px]"),onDoubleClick:R,title:"Double-click to rename",children:r.name})]}),E.jsxs("div",{className:ui("flex items-center",he?"gap-1":"gap-2"),children:[E.jsxs("div",{className:ui("flex items-center text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded",he?"gap-0 text-[8px] px-0.5 py-0":"gap-0.5 text-[10px] px-1 py-0.5"),onClick:z=>z.stopPropagation(),children:[!he&&E.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Bars"}),E.jsx("input",{type:"number",min:1,max:32,value:ce,onChange:z=>fe(parseInt(z.target.value,10)),className:ui("bg-transparent text-text-primary focus:outline-none text-center",he?"w-5 text-[8px]":"w-8 text-xs")})]}),E.jsxs("div",{className:ui("flex items-center text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded",he?"gap-0 text-[8px] px-0.5 py-0":"gap-1 text-[10px] px-1.5 py-0.5"),onClick:z=>z.stopPropagation(),children:[!he&&E.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Meter"}),E.jsx("select",{value:Y,onChange:z=>xe(z.target.value),className:ui("bg-transparent text-text-primary focus:outline-none",he?"text-[8px]":"text-xs"),children:L.map(([z,J])=>E.jsxs("option",{value:`${z}/${J}`,className:"bg-bg-secondary text-text-primary",children:[z,"/",J]},`${z}/${J}`))})]})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("button",{onClick:z=>{z.stopPropagation(),v(r.id)},className:ui("p-1 rounded text-text-muted hover:text-text-primary",he?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:Q?"Expand section":"Collapse section",children:Q?E.jsx(_h,{size:he?12:11}):E.jsx(v3,{size:he?12:11})}),E.jsx("button",{onClick:z=>{z.stopPropagation(),o(r.id)},className:ui("p-1 rounded text-text-muted hover:text-text-primary",he?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:"Duplicate section",children:E.jsx(QC,{size:he?12:11})}),E.jsx("button",{onClick:ne,className:ui("p-1 rounded text-text-muted hover:text-red-400",he?"hover:bg-red-500/15":"hover:bg-red-500/10"),title:"Delete section",children:E.jsx($m,{size:he?12:11})})]})]}),Q?E.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-t border-border-subtle bg-bg-secondary text-[10px] text-text-muted",children:[E.jsx("span",{className:"font-semibold text-text-secondary truncate pr-2",children:r.name}),E.jsxs("div",{className:"flex items-center gap-2 uppercase tracking-wider",children:[E.jsxs("span",{children:[ce," bars"]}),E.jsx("span",{children:Y})]})]}):E.jsx("div",{className:"flex p-1.5 gap-0 overflow-x-auto flex-1",children:r.measures.map((z,J)=>E.jsx(IE,{measure:z,sectionId:r.id,index:J,chordSize:e,timeSignature:K,scale:t},z.id))})]})},FE=({scale:r,chordSize:e})=>{const{isPlaying:t,currentSong:i}=rr(),a=ue.useRef(null),o=ue.useRef(0),h=e*.9,c=Math.max(8,h*r),f=12,d=m=>{let y=m,w=0;for(const v of i.sections){for(const S of v.measures){const N=S.beats.reduce((B,Z)=>B+(Z.duration||1),0);if(y<N){w+=4;let B=y;for(const Z of S.beats){const F=Z.duration||1;if(B<F){const V=B/F,H=Math.max(c*F,c);return w+=V*H,w}const j=Math.max(c*F,c);w+=j+2,B-=F}return w}const T=S.beats.reduce((B,Z)=>B+Math.max(c*(Z.duration||1),c),0),C=Math.max(0,S.beats.length-1)*2,I=8,R=2,q=S===v.measures[v.measures.length-1];w+=T+C+I+(q?0:R),y-=N}w+=f}return w};return ue.useEffect(()=>{if(!t)return;const m=()=>{if(a.current){const y=ss.position.toString().split(":"),w=parseFloat(y[0]),v=parseFloat(y[1]),S=parseFloat(y[2]),N=w*4+v+S/4,T=d(N);a.current.style.transform=`translateX(${T}px)`}o.current=requestAnimationFrame(m)};return o.current=requestAnimationFrame(m),()=>{o.current&&cancelAnimationFrame(o.current)}},[t,c,i]),t?E.jsx("div",{ref:a,className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-50 pointer-events-none shadow-[0_0_8px_rgba(239,68,68,0.8)]",style:{left:0},children:E.jsx("div",{className:"absolute -top-1 -left-[4.5px] w-0 h-0 border-l-[5px] border-l-transparent border-r-[5px] border-r-transparent border-t-[6px] border-t-red-500"})}):null},uw=({isOpen:r,onClose:e,onConfirm:t,title:i,message:a,confirmLabel:o="Confirm",cancelLabel:h="Cancel",isDestructive:c=!1})=>(ue.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),ue.useEffect(()=>{const f=d=>{d.key==="Escape"&&r&&e()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[r,e]),r?E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e}),E.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-sm w-full overflow-hidden flex flex-col scale-100 opacity-100 transition-all",children:[E.jsxs("div",{className:"p-6",children:[E.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:i}),E.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:a})]}),E.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-[#22222e] border-t border-border-subtle",children:[E.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:h}),E.jsx("button",{onClick:()=>{t(),e()},className:`px-4 py-2 text-sm font-bold text-white rounded-lg shadow-lg transition-transform active:scale-95 ${c?"bg-red-500 hover:bg-red-600":"bg-accent-primary hover:bg-accent-secondary"}`,children:o})]})]})]}):null),BE=({onAltChange:r})=>(V3({onDragMove:e=>{const t=e.modifiers?.altKey??!1;r(!!t)},onDragEnd:()=>r(!1),onDragCancel:()=>r(!1)}),null),Db=({height:r=180,scale:e=1})=>{const{currentSong:t,addSection:i,reorderSections:a,addChordToSlot:o,moveChord:h,moveSelection:c}=rr(),f=Math.max(.1,Math.min(1.6,e)),d=r-40,m=Math.max(32,Math.min(64,d-24)),[y,w]=fn.useState(null),[v,S]=fn.useState(null),[N,T]=fn.useState(!1),[C,I]=fn.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),R=t7(xb(c2,{activationConstraint:{distance:8}}),xb(o2,{coordinateGetter:OE})),q=Z=>{const F=Z.activatorEvent,j=!!(F&&"altKey"in F&&F.altKey);w(Z.active.id),S({...Z.active.data.current,copyMode:j}),T(j)},B=Z=>{const{active:F,over:j}=Z;if(w(null),S(null),T(!1),!!j){if(F.data.current?.type==="section"&&j.data.current?.type==="section"){if(F.id!==j.id){const V=t.sections.findIndex(k=>k.id===F.id),H=t.sections.findIndex(k=>k.id===j.id);a(h2(t.sections,V,H))}return}if(F.data.current?.type==="chord"&&j.data.current?.type==="slot"){const V=F.data.current.originSlotId,H=F.data.current.originSectionId,k=j.data.current.slotId,D=j.data.current.sectionId,ne=F.data.current.chord;if(V&&H){if(V===k&&H===D||c({sectionId:H,slotId:V},{sectionId:D,slotId:k},v?.copyMode||N?"copy":"move"))return;const he=rr.getState(),Q=he.currentSong.sections.find(K=>K.id===D)?.measures.flatMap(K=>K.beats).find(K=>K.id===k)?.chord;h(H,V,D,k),Q?(he.setSelectedSlot(H,V),he.setSelectedChord(Q)):ne&&(he.setSelectedSlot(D,k),he.setSelectedChord(ne))}else o(ne,D,k),rr.getState().setSelectedSlot(D,k),rr.getState().setSelectedChord(ne)}}};return fn.useEffect(()=>{const Z=j=>{j.altKey&&T(!0)},F=j=>{j.altKey||T(!1)};return window.addEventListener("keydown",Z),window.addEventListener("keyup",F),()=>{window.removeEventListener("keydown",Z),window.removeEventListener("keyup",F)}},[]),E.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[E.jsx("div",{className:"flex-1 min-h-0 overflow-x-auto overflow-y-hidden px-3 py-1.5",ref:Z=>{Z&&Z.addEventListener("wheel",F=>{F.deltaY!==0&&(F.preventDefault(),Z.scrollLeft+=F.deltaY)},{passive:!1})},children:E.jsxs("div",{className:"relative flex gap-3 min-w-max",style:{height:"100%"},children:[E.jsx(FE,{scale:f,chordSize:m}),E.jsxs(J7,{sensors:R,collisionDetection:i7,onDragStart:q,onDragEnd:B,children:[E.jsx(BE,{onAltChange:T}),E.jsxs(_E,{items:t.sections.map(Z=>Z.id),strategy:xE,children:[t.sections.map(Z=>E.jsx(VE,{section:Z,chordSize:m,scale:f,onRequestConfirm:F=>I({...F,isOpen:!0})},Z.id)),E.jsxs("button",{onClick:()=>i("chorus"),className:"w-10 rounded-lg border-2 border-dashed border-border-medium hover:border-accent-primary hover:bg-bg-elevated transition-all flex flex-col items-center justify-center text-text-muted hover:text-accent-primary gap-0.5 self-stretch",children:[E.jsx(Jg,{size:12}),E.jsx("span",{className:"text-[6px] font-medium uppercase tracking-wider",children:"Add"})]})]}),E.jsxs(gE,{children:[y&&v?.type==="section"?E.jsx("div",{className:"opacity-80 rotate-2 scale-105",children:E.jsx("div",{className:"bg-bg-elevated p-4 rounded-xl border border-accent-primary w-[400px] h-[200px] flex items-center justify-center shadow-2xl",children:E.jsx("span",{className:"font-bold text-xl",children:"Moving Section..."})})}):null,y&&v?.type==="chord"?E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"w-24 h-24 rounded-lg bg-accent-primary text-white flex items-center justify-center font-bold text-xl shadow-2xl rotate-6 scale-110 cursor-grabbing",children:v.chord.symbol}),(v?.copyMode||N)&&E.jsx("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white text-[11px] font-bold px-2 py-0.5 rounded-full shadow-md border border-white",children:"+"})]}):null]})]})]})}),E.jsx(uw,{isOpen:C.isOpen,onClose:()=>I(Z=>({...Z,isOpen:!1})),onConfirm:C.onConfirm,title:C.title,message:C.message,confirmLabel:C.confirmLabel,isDestructive:C.isDestructive})]})},Rb=({isOpen:r,onToggle:e,hideCloseButton:t=!1})=>{const{currentSong:i,selectedSectionId:a,selectedSlotId:o,setSelectedSlot:h,setSelectedChord:c,playingSectionId:f,playingSlotId:d,addSection:m}=rr(),y=gp(),w=ue.useRef(null),v=ue.useRef(null),[S,N]=fn.useState(0),T=ue.useRef(0),[C,I]=fn.useState(0);ue.useEffect(()=>{if(a&&v.current){const H=i.sections.findIndex(k=>k.id===a);H!==-1&&N(H)}},[a,i.sections]),ue.useEffect(()=>{if(d&&w.current){const H=w.current.querySelector(`[data-slot-id="${d}"]`);H&&H.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[d]);const R=H=>{T.current=H.touches[0].clientY},q=H=>{const k=H.touches[0].clientY-T.current;k>0&&I(Math.min(k,100))},B=()=>{C>50&&e(),I(0)},Z=H=>{if(y[H])return y[H];const k=ou(H);for(const D of Object.keys(y))if(ou(D)===k)return y[D];return"hsl(230, 60%, 50%)"},F=(H,k,D)=>{h(H,k),D&&(c(D),D.notes&&D.notes.length>0&&Lo(D.notes))},j=H=>{const k=H==="prev"?Math.max(0,S-1):Math.min(i.sections.length-1,S+1);N(k);const D=i.sections[k];D&&D.measures[0]?.beats[0]&&h(D.id,D.measures[0].beats[0].id)},V=i.sections[S];return r?E.jsxs("div",{className:"relative w-full bg-bg-secondary border-t-2 border-border-subtle overflow-hidden flex flex-col mobile-timeline-drawer",style:{maxHeight:"140px",transform:C>0?`translateY(${C}px)`:void 0,opacity:C>0?Math.max(.5,1-C/150):1,transition:C===0?"all 0.2s ease-out":"none"},children:[!t&&E.jsx("div",{className:"flex flex-col items-center pt-1.5 pb-1 cursor-grab active:cursor-grabbing shrink-0",onTouchStart:R,onTouchMove:q,onTouchEnd:B,children:E.jsx("div",{className:"w-10 h-1 rounded-full bg-text-muted/40"})}),E.jsxs("div",{className:"flex items-center justify-between px-2 pb-1.5 shrink-0",children:[E.jsx("button",{onClick:()=>j("prev"),disabled:S===0,className:"p-1.5 rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback",children:E.jsx(rp,{size:16})}),E.jsxs("div",{ref:v,className:"flex-1 flex items-center gap-1.5 overflow-x-auto px-1 scrollbar-hide",children:[i.sections.map((H,k)=>E.jsx("button",{onClick:()=>{N(k),H.measures[0]?.beats[0]&&h(H.id,H.measures[0].beats[0].id)},className:ui("px-2.5 py-1 rounded-full text-[10px] font-semibold whitespace-nowrap transition-all touch-feedback",k===S?"bg-accent-primary text-white":"bg-bg-tertiary text-text-secondary hover:text-text-primary"),children:H.name},H.id)),E.jsx("button",{onClick:()=>m("verse"),className:"p-1 rounded-full bg-bg-tertiary text-text-muted hover:text-accent-primary touch-feedback shrink-0",title:"Add section",children:E.jsx(Jg,{size:12})})]}),E.jsx("button",{onClick:()=>j("next"),disabled:S===i.sections.length-1,className:"p-1.5 rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback",children:E.jsx(np,{size:16})}),!t&&E.jsx("button",{onClick:e,className:"p-2 min-w-[40px] min-h-[40px] hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center ml-1",title:"Close timeline",children:E.jsx(y3,{size:18,className:"text-text-muted rotate-90"})})]}),E.jsx("div",{ref:w,className:"flex-1 overflow-x-auto overflow-y-hidden px-2 pb-2",children:V&&E.jsx("div",{className:"flex gap-1 min-w-max h-full items-center",children:V.measures.map((H,k)=>E.jsxs(fn.Fragment,{children:[E.jsx("div",{className:"flex gap-0.5 items-center",children:H.beats.map(D=>{const ne=a===V.id&&o===D.id,$=f===V.id&&d===D.id,he=D.chord?Z(D.chord.root):void 0;return E.jsxs("button",{"data-slot-id":D.id,onClick:()=>F(V.id,D.id,D.chord),className:ui("relative flex items-center justify-center rounded-md transition-all touch-feedback","min-w-[40px] h-[36px]",$&&"ring-2 ring-green-500 ring-offset-1 ring-offset-bg-primary shadow-[0_0_12px_rgba(34,197,94,0.5)] scale-105 z-10",ne&&!$&&"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary",!D.chord&&"border-2 border-dashed border-border-medium bg-bg-elevated hover:border-text-muted"),style:D.chord?{backgroundColor:he}:void 0,children:[D.chord?E.jsx("span",{className:"text-[11px] font-bold px-1 truncate",style:{color:dg(he||"")},children:D.chord.symbol}):E.jsx("span",{className:"text-text-muted text-lg font-light",children:"+"}),$&&E.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full bg-green-500 flex items-center justify-center",children:E.jsx(x3,{size:6,fill:"white",className:"text-white"})})]},D.id)})}),k<V.measures.length-1&&E.jsx("div",{className:"w-px h-6 bg-border-medium mx-0.5"})]},H.id))})})]}):E.jsxs("div",{className:"w-full h-9 flex flex-col items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-pointer touch-feedback active:bg-bg-tertiary",onClick:e,children:[E.jsx("div",{className:"w-10 h-1 rounded-full bg-text-muted/40 mb-0.5"}),E.jsx("span",{className:"text-[9px] font-medium text-text-muted uppercase tracking-wider",children:"Timeline"})]})},qE=({highlightedNotes:r,rootNote:e,color:t="#6366f1",octave:i=4,onNotePlay:a})=>{const o=["C","D","E","F","G","A","B"],h=S=>{const N={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},T=S.replace(/\d+/g,"");return N[T]??-1},c=r.map(S=>h(S)),f=e?h(e):-1,d=S=>{const N=h(S);return N!==-1&&c.includes(N)},m=S=>f===-1?!1:h(S)===f,y=(S,N)=>{a&&a(S,N)},w=()=>{const S=[];for(let T=0;T<2;T++){const C=i+T;o.forEach(I=>{const R=d(I),q=m(I);S.push(E.jsx("div",{className:"h-full rounded-b-md relative border-x border-b border-gray-400 cursor-pointer hover:brightness-95 active:brightness-90 transition-all",style:{width:`${100/14}%`,background:"linear-gradient(180deg, #fafafa 0%, #e8e8e8 70%, #d0d0d0 100%)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.9), inset 0 -2px 4px rgba(0,0,0,0.08)"},onClick:()=>y(I,C),children:R&&E.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"6px",transform:"translateX(-50%)",width:q?"12px":"9px",height:q?"12px":"9px",background:t,border:"2px solid #000",boxShadow:`0 0 6px ${t}80`}})},`white-${T}-${I}`))})}return S},v=()=>{const S=[],N=[{note:"C#",offset:7.14},{note:"D#",offset:14.28},{note:"F#",offset:28.57},{note:"G#",offset:35.71},{note:"A#",offset:42.85}];for(let T=0;T<2;T++){const C=T*50,I=i+T;N.forEach(({note:R,offset:q})=>{const B=d(R),Z=m(R),F=C+q;S.push(E.jsx("div",{className:"absolute top-0 rounded-b-md cursor-pointer hover:brightness-125 active:brightness-150 transition-all",style:{left:`${F}%`,width:"5.5%",height:"58%",transform:"translateX(-50%)",background:"linear-gradient(180deg, #333 0%, #1a1a1a 70%, #0a0a0a 100%)",boxShadow:"0 3px 6px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.08)",pointerEvents:"auto"},onClick:()=>y(R,I),children:B&&E.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"4px",transform:"translateX(-50%)",width:Z?"10px":"8px",height:Z?"10px":"8px",background:t,border:"2px solid #fff",boxShadow:`0 0 6px ${t}80`}})},`black-${T}-${R}`))})}return S};return E.jsx("div",{className:"relative w-full rounded-lg select-none overflow-hidden",style:{height:"80px",minHeight:"80px",background:"#1a1a22",boxShadow:"inset 0 2px 8px rgba(0,0,0,0.6)",padding:"3px 2px 2px 2px"},children:E.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[E.jsx("div",{className:"flex w-full h-full gap-[1px]",style:{position:"relative",zIndex:0},children:w()}),E.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,pointerEvents:"none"},children:v()})]})})},zE={C:{maj:[{frets:[-1,3,2,0,1,0],fingers:[0,3,2,0,1,0],barres:[],baseFret:1}],m:[{frets:[-1,3,1,0,1,3],fingers:[0,3,1,0,2,4],barres:[],baseFret:1}],7:[{frets:[-1,3,2,3,1,0],fingers:[0,3,2,4,1,0],barres:[],baseFret:1}],maj7:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj9:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,3,2,2,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],m7:[{frets:[-1,3,1,3,1,3],fingers:[0,2,1,3,1,4],barres:[1],baseFret:3}],m9:[{frets:[-1,3,1,3,3,3],fingers:[0,2,1,3,4,4],barres:[],baseFret:3}],m11:[{frets:[-1,3,1,3,3,1],fingers:[0,2,1,3,4,1],barres:[1],baseFret:3}],m6:[{frets:[-1,3,1,2,1,3],fingers:[0,3,1,2,1,4],barres:[1],baseFret:1}],sus2:[{frets:[-1,3,0,0,1,3],fingers:[0,2,0,0,1,3],barres:[],baseFret:1}],sus4:[{frets:[-1,3,3,0,1,1],fingers:[0,3,4,0,1,1],barres:[1],baseFret:1}],dim:[{frets:[-1,3,1,-1,1,2],fingers:[0,4,1,0,2,3],barres:[],baseFret:1}],6:[{frets:[-1,3,2,2,1,0],fingers:[0,4,2,3,1,0],barres:[],baseFret:1}],add9:[{frets:[-1,3,2,0,3,0],fingers:[0,2,1,0,3,0],barres:[],baseFret:1}],9:[{frets:[-1,3,2,3,3,0],fingers:[0,2,1,3,4,0],barres:[],baseFret:1}],11:[{frets:[-1,3,2,3,3,3],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],13:[{frets:[-1,3,2,3,3,5],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,3,4,3,4,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},"C#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},Db:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},D:{maj:[{frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2],barres:[],baseFret:1}],m:[{frets:[-1,-1,0,2,3,1],fingers:[0,0,0,2,3,1],barres:[],baseFret:1}],7:[{frets:[-1,-1,0,2,1,2],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],maj7:[{frets:[-1,-1,0,2,2,2],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],maj9:[{frets:[-1,-1,0,2,2,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],maj13:[{frets:[-1,-1,0,2,2,4],fingers:[0,0,0,1,1,3],barres:[2],baseFret:1}],m7:[{frets:[-1,-1,0,2,1,1],fingers:[0,0,0,2,1,1],barres:[1],baseFret:1}],m9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],m11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m6:[{frets:[-1,-1,0,2,0,1],fingers:[0,0,0,2,0,1],barres:[],baseFret:1}],sus2:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],sus4:[{frets:[-1,-1,0,2,3,3],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,1,3,1],fingers:[0,0,0,1,4,2],barres:[],baseFret:1}],6:[{frets:[-1,-1,0,2,0,2],fingers:[0,0,0,1,0,2],barres:[],baseFret:1}],add9:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],13:[{frets:[-1,-1,0,2,1,4],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,1,1,1],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}]},"D#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},Eb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},E:{maj:[{frets:[0,2,2,1,0,0],fingers:[0,2,3,1,0,0],barres:[],baseFret:1}],m:[{frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0],barres:[],baseFret:1}],7:[{frets:[0,2,0,1,0,0],fingers:[0,2,0,1,0,0],barres:[],baseFret:1}],maj7:[{frets:[0,2,1,1,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],maj9:[{frets:[0,2,1,1,0,2],fingers:[0,2,1,1,0,3],barres:[1],baseFret:1}],maj13:[{frets:[0,2,1,1,2,2],fingers:[0,2,1,1,3,3],barres:[],baseFret:1}],m7:[{frets:[0,2,0,0,0,0],fingers:[0,1,0,0,0,0],barres:[],baseFret:1}],m9:[{frets:[0,2,0,0,0,2],fingers:[0,2,0,0,0,3],barres:[],baseFret:1}],m11:[{frets:[0,2,0,0,3,0],fingers:[0,2,0,0,4,0],barres:[],baseFret:1}],m6:[{frets:[0,2,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],sus2:[{frets:[0,2,4,4,0,0],fingers:[0,1,3,4,0,0],barres:[],baseFret:1}],sus4:[{frets:[0,2,2,2,0,0],fingers:[0,2,3,4,0,0],barres:[],baseFret:1}],dim:[{frets:[0,1,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],6:[{frets:[0,2,2,1,2,0],fingers:[0,2,3,1,4,0],barres:[],baseFret:1}],add9:[{frets:[0,2,2,1,0,2],fingers:[0,2,3,1,0,4],barres:[],baseFret:1}],9:[{frets:[0,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],11:[{frets:[0,2,0,1,3,0],fingers:[0,2,0,1,4,0],barres:[],baseFret:1}],13:[{frets:[0,2,0,1,2,2],fingers:[0,2,0,1,3,4],barres:[],baseFret:1}],m7b5:[{frets:[0,1,0,0,2,0],fingers:[0,1,0,0,2,0],barres:[],baseFret:1}]},F:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:1}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:1}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,-1,3,2,1,0],fingers:[0,0,3,2,1,0],barres:[],baseFret:1}],maj9:[{frets:[1,0,3,0,1,0],fingers:[1,0,3,0,2,0],barres:[],baseFret:1}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:1}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:1}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:1}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,-1,3,0,1,1],fingers:[0,0,3,0,1,1],barres:[1],baseFret:1}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:1}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:1}],6:[{frets:[1,-1,0,2,1,1],fingers:[1,0,0,3,1,1],barres:[1],baseFret:1}],add9:[{frets:[-1,-1,3,2,1,3],fingers:[0,0,3,2,1,4],barres:[],baseFret:1}],9:[{frets:[1,3,1,2,1,3],fingers:[1,3,1,2,1,4],barres:[1],baseFret:1}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:1}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:1}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}]},"F#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},Gb:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},G:{maj:[{frets:[3,2,0,0,0,3],fingers:[2,1,0,0,0,3],barres:[],baseFret:1}],m:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],7:[{frets:[3,2,0,0,0,1],fingers:[3,2,0,0,0,1],barres:[],baseFret:1}],maj7:[{frets:[3,2,0,0,0,2],fingers:[3,1,0,0,0,2],barres:[],baseFret:1}],maj9:[{frets:[3,0,0,0,0,2],fingers:[2,0,0,0,0,1],barres:[],baseFret:1}],maj13:[{frets:[3,2,0,0,2,2],fingers:[3,1,0,0,2,2],barres:[2],baseFret:1}],m7:[{frets:[3,1,0,0,3,0],fingers:[2,1,0,0,3,0],barres:[],baseFret:1}],m9:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],m11:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],m6:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],sus2:[{frets:[3,0,0,0,3,3],fingers:[1,0,0,0,2,3],barres:[],baseFret:1}],sus4:[{frets:[3,3,0,0,1,3],fingers:[2,3,0,0,1,4],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],6:[{frets:[3,2,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],add9:[{frets:[3,0,0,0,0,3],fingers:[2,0,0,0,0,3],barres:[],baseFret:1}],9:[{frets:[3,2,0,1,0,1],fingers:[3,2,0,1,0,1],barres:[1],baseFret:1}],11:[{frets:[3,2,0,1,3,1],fingers:[3,2,0,1,4,1],barres:[1],baseFret:1}],13:[{frets:[3,2,0,1,0,5],fingers:[2,1,0,1,0,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}]},"G#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},Ab:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},A:{maj:[{frets:[-1,0,2,2,2,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],m:[{frets:[-1,0,2,2,1,0],fingers:[0,0,2,3,1,0],barres:[],baseFret:1}],7:[{frets:[-1,0,2,0,2,0],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}],maj7:[{frets:[-1,0,2,1,2,0],fingers:[0,0,2,1,3,0],barres:[],baseFret:1}],maj9:[{frets:[-1,0,2,1,0,0],fingers:[0,0,2,1,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,0,2,1,2,4],fingers:[0,0,2,1,3,4],barres:[],baseFret:1}],m7:[{frets:[-1,0,2,0,1,0],fingers:[0,0,2,0,1,0],barres:[],baseFret:1}],m9:[{frets:[-1,0,2,0,1,3],fingers:[0,0,2,0,1,4],barres:[],baseFret:1}],m11:[{frets:[-1,0,0,0,1,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],m6:[{frets:[-1,0,2,2,1,2],fingers:[0,0,2,3,1,4],barres:[],baseFret:1}],sus2:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],sus4:[{frets:[-1,0,2,2,3,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],dim:[{frets:[-1,0,1,2,1,-1],fingers:[0,0,1,3,2,0],barres:[],baseFret:1}],6:[{frets:[-1,0,2,2,2,2],fingers:[0,0,1,1,1,1],barres:[2],baseFret:1}],add9:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],9:[{frets:[-1,0,2,4,2,3],fingers:[0,0,1,3,1,2],barres:[2],baseFret:1}],11:[{frets:[-1,0,0,0,2,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],13:[{frets:[-1,0,2,0,2,4],fingers:[0,0,1,0,2,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,0,1,0,1,-1],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}]},"A#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},Bb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},B:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:2}],7:[{frets:[-1,2,1,2,0,2],fingers:[0,2,1,3,0,4],barres:[],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:2}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:2}],m7:[{frets:[-1,2,0,2,0,2],fingers:[0,1,0,2,0,3],barres:[],baseFret:1}],m9:[{frets:[-1,2,0,2,2,2],fingers:[0,1,0,2,3,4],barres:[],baseFret:1}],m11:[{frets:[-1,2,0,2,0,0],fingers:[0,1,0,2,0,0],barres:[],baseFret:1}],m6:[{frets:[-1,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:2}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:2}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,2,1,2,2,2],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],11:[{frets:[-1,2,1,2,0,0],fingers:[0,2,1,3,0,0],barres:[],baseFret:1}],13:[{frets:[-1,2,1,2,2,4],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:2}]}};function PE(r){return{"C":"C#","D":"Db","D":"D#","E":"Eb","F":"F#","G":"Gb","G":"G#","A":"Ab","A":"A#","B":"Bb"}[r]||r.replace("","#").replace("","b")}function UE(r){return{major:"maj",minor:"m",min:"m",dom7:"7",dominant7:"7",major7:"maj7",minor7:"m7",min7:"m7",suspended2:"sus2",suspended4:"sus4",diminished:"dim","half-diminished":"m7b5","m75":"m7b5",sixth:"6",ninth:"9",added9:"add9"}[r]||r}function hw(r,e){const t=PE(r),i=UE(e),a=zE[t];if(!a)return null;const o=a[i];return!o||o.length===0?null:o[0]}const HE=({root:r,quality:e,color:t="#6366f1"})=>{const i=r2(),a=hw(r,e),o=`${r}${e==="maj"?"":e}`,h=dg(t);return a?E.jsxs("div",{className:"flex flex-col items-center",children:[E.jsx("span",{className:`${i?"text-xs":"text-[11px]"} font-bold mb-1 text-center`,style:{backgroundColor:t,color:h,padding:"4px 12px",borderRadius:"10px"},children:o}),E.jsx("svg",{viewBox:"0 0 100 120",className:`w-full ${i?"max-w-[110px]":"max-w-[120px]"}`,style:{minHeight:i?110:120},children:E.jsx(GE,{chord:a,color:t})})]}):E.jsxs("div",{className:"flex items-center justify-center text-text-muted text-xs py-4",children:["No guitar diagram available for ",r,e]})},GE=({chord:r,color:e})=>{const{frets:t,fingers:i,barres:a,baseFret:o}=r,h=20,c=25,f=12,d=18,m=4,y=6,w=4.5,v=Array.from({length:y},(I,R)=>h+R*f),S=Array.from({length:m+1},(I,R)=>c+R*d),N=o===1,T=f*(y-1)+16,C=d*m+8;return E.jsxs(E.Fragment,{children:[E.jsx("rect",{x:h-8,y:c-4,width:T,height:C,fill:"#3d2817",rx:3}),N?E.jsx("rect",{x:h-2,y:c-3,width:f*(y-1)+4,height:4,fill:"#f5f5f5",rx:1}):E.jsx("text",{x:h-14,y:c+d/2+4,fontSize:"12",fill:"#e0e0e0",textAnchor:"middle",fontWeight:"700",children:o}),S.map((I,R)=>E.jsx("line",{x1:h,y1:I,x2:h+f*(y-1),y2:I,stroke:"#b8b8b8",strokeWidth:R===0&&!N?2:1},`fret-${R}`)),v.map((I,R)=>E.jsx("line",{x1:I,y1:c,x2:I,y2:c+d*m,stroke:"#d4d4d4",strokeWidth:1.2+(5-R)*.25},`string-${R}`)),a.map((I,R)=>{const q=t.map((j,V)=>({fret:j,idx:V})).filter(({fret:j})=>j===I);if(q.length<2)return null;const B=Math.min(...q.map(j=>j.idx)),Z=Math.max(...q.map(j=>j.idx)),F=c+(I-.5)*d;return E.jsx("rect",{x:v[B]-w,y:F-w,width:v[Z]-v[B]+w*2,height:w*2,fill:"white",stroke:e,strokeWidth:2,rx:w},`barre-${R}`)}),t.map((I,R)=>{const q=v[R];if(I===-1)return E.jsx("text",{x:q,y:c-10,fontSize:"14",fill:"#ff6b6b",textAnchor:"middle",fontWeight:"bold",children:""},`mute-${R}`);if(I===0)return E.jsx("circle",{cx:q,cy:c-8,r:4,fill:"none",stroke:"var(--color-text-secondary)",strokeWidth:1.5},`open-${R}`);const B=a.includes(I),Z=i[R];if(B){const j=t.findIndex(V=>V===I);if(R!==j)return null}const F=c+(I-.5)*d;return E.jsxs("g",{children:[E.jsx("circle",{cx:q,cy:F,r:w,fill:"white",stroke:e,strokeWidth:2}),Z>0&&!B&&E.jsx("text",{x:q,y:F+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:Z})]},`finger-${R}`)}),a.map((I,R)=>{const q=t.map((j,V)=>({fret:j,idx:V})).filter(({fret:j})=>j===I);if(q.length<2)return null;const B=Math.min(...q.map(j=>j.idx)),Z=c+(I-.5)*d,F=i[B];return F>0?E.jsx("text",{x:v[B],y:Z+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:F},`barre-finger-${R}`):null})]})},WE=({notes:r,rootNote:e,color:t="#6366f1",width:i})=>{const a=r2(),o=T=>{const C=T.replace(/[0-9]/g,"");let I=C[0],R="";C.includes("")||C.includes("#")?R="":(C.includes("")||C.includes("b"))&&(R="");let B={C:-6,D:-5,E:-4,F:-3,G:-2,A:-1,B:0}[I]??0;const Z="CDEFGAB".indexOf(I),F="CDEFGAB".indexOf(e[0]);return Z<F&&F-Z>3&&(B+=7),{line:B,accidental:R}},c=i||(a?280:340),f=a?105:110,d=12,m=d,y=f*.3,w=10,v=Math.max(100,c-d*2),S=r.map((T,C)=>{const{line:I,accidental:R}=o(T),q=60,B=v-q-25,Z=m+q+C*B/Math.max(r.length-1,1),F=y-I*w/2;return{note:T,x:Z,y:F,line:I,accidental:R,needsLedgerLines:I<-4||I>4}}),N=T=>{const C=[];if(T.line<-4)for(let R=-6;R>=T.line;R-=2)R<-4&&C.push(E.jsx("line",{x1:T.x-28/2,y1:y-R*w/2,x2:T.x+28/2,y2:y-R*w/2,stroke:"#888",strokeWidth:"1.5"},`ledger-below-${R}`));else if(T.line>4)for(let R=6;R<=T.line;R+=2)R>4&&C.push(E.jsx("line",{x1:T.x-28/2,y1:y-R*w/2,x2:T.x+28/2,y2:y-R*w/2,stroke:"#888",strokeWidth:"1.5"},`ledger-above-${R}`));return C};return E.jsx("div",{className:"flex justify-center items-center w-full",children:E.jsxs("svg",{viewBox:`0 0 ${c} ${f}`,className:"w-full",style:{minHeight:a?100:105},children:[[-2,-1,0,1,2].map(T=>E.jsx("line",{x1:m,y1:y-T*w,x2:m+v,y2:y-T*w,stroke:"#777",strokeWidth:"2"},`staff-${T}`)),E.jsx("text",{x:m-3,y:y+20,fontSize:a?"60":"66",fill:t,fontFamily:"serif",fontWeight:"bold",children:""}),S.map(T=>N(T)),S.map((T,C)=>E.jsxs("g",{children:[T.accidental&&E.jsx("text",{x:T.x-24,y:T.y+6,fontSize:a?"20":"22",fill:"#ccc",fontFamily:"serif",fontWeight:"bold",children:T.accidental}),E.jsx("ellipse",{cx:T.x,cy:T.y,rx:9,ry:7,fill:"none",stroke:C===0?t:"#ddd",strokeWidth:C===0?3:2.5}),E.jsx("ellipse",{cx:T.x,cy:T.y,rx:5,ry:4,fill:"#1e1e28"}),E.jsx("text",{x:T.x,y:Math.max(y+40,T.y+22),fontSize:a?"11":"12",fill:"#999",textAnchor:"middle",fontWeight:"600",children:T.note})]},`note-${C}`))]})})},Ib=()=>E.jsxs(E.Fragment,{children:[E.jsxs("section",{children:[E.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[E.jsx(XC,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-3 text-sm text-gray-300",children:[E.jsx("p",{children:"The Chord Wheel puts chord theory into your hands. No music reading is necessary; simply rotate the transparent disk and analyze any chord progression instantly."}),E.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[E.jsx("li",{children:"Determine which chords belong to a given key"}),E.jsx("li",{children:"Transpose a chord progression to any key"}),E.jsx("li",{children:"Compose your own music"})]})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[E.jsx(hT,{size:12}),"Understanding the Rings"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-bold text-white mb-2",children:"Inner Ring (Major)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Contains the 12 major chords arranged in the Circle of Fifths. Upper-case numerals (I, IV, V) denote major chords."})]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-bold text-white mb-2",children:"Middle Ring (Minor)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Contains 24 minor chords. Lower-case numerals (ii, iii, vi) denote minor chords in a key."})]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-bold text-white mb-2",children:"Outer Ring (Diminished)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"The vii chord for each key. The diminished chord has a harsh, dissonant quality due to the 5."})]})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[E.jsx(cT,{size:12}),"Roman Numerals"]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Roman numerals denote the harmonic progression. Upper-case = major, lower-case = minor."}),E.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center text-sm",children:[E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"I"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Tonic"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"ii"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Super"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"iii"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Mediant"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"IV"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Subdom"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"V"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Dominant"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"vi"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Relative"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[E.jsx("span",{className:"font-bold text-white",children:"vii"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"Leading"})]})]})]})]}),E.jsxs("section",{children:[E.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[E.jsx(qC,{size:12}),"The Circle of Fifths"]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[E.jsx("p",{children:'Starting with C and moving clockwise (C  G  D  A  E  B  F#  Db  Ab  Eb  Bb  F), each step is a "dominant" (fifth) progression. This cyclical nature is one of the most fundamental principles in music theory.'}),E.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[E.jsx("li",{children:'Modulations often move one "key" clockwise or counter-clockwise'}),E.jsx("li",{children:"Neighboring keys share many chords in common"}),E.jsx("li",{children:"The strong pull of V  I is why songs resolve satisfyingly"})]})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Building Chords"}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[E.jsxs("div",{children:[E.jsx("h4",{className:"font-semibold text-white mb-2",children:"Triads (3 Notes)"}),E.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Built using "every other note" of the scale: Root, 3rd, 5th'}),E.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Major"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Minor"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Diminished"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"font-semibold text-white mb-2",children:"Seventh Chords (4 Notes)"}),E.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Add the 7th note: 1st, 3rd, 5th, 7th"}),E.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Major 7th (maj7)"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Dominant 7th (7)"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Minor 7th (m7)"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[E.jsx("span",{className:"text-white font-medium",children:"Half-Dim (m75)"}),E.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]})]})]})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Common Progressions"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-IV-V (Pop/Rock)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - F - G"}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The foundation of rock 'n' roll"})]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-semibold text-white mb-2",children:"ii-V-I (Jazz)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: Dm7 - G7 - Cmaj7"}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The most common jazz progression"})]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-vi-IV-V (50s/Doo-wop)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - Am - F - G"}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Also used in countless pop songs"})]}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[E.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-V-vi-IV (Modern Pop)"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - G - Am - F"}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'The "4 chord song" progression'})]})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Secondary Dominants (II & III)"}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[E.jsxs("p",{children:["The II and III chords (shown with half-highlighting) aren't diatonic but are commonly used. They're called ",E.jsx("strong",{className:"text-white",children:"secondary dominants"}),' because they "act" like dominant V chords:']}),E.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[E.jsxs("li",{children:[E.jsx("strong",{className:"text-white",children:"II"})," (D in key of C) = V of V (leads strongly to G)"]}),E.jsxs("li",{children:[E.jsx("strong",{className:"text-white",children:"III"})," (E in key of C) = V of vi (leads strongly to Am)"]})]}),E.jsx("p",{className:"text-gray-400",children:"Study chord progressions by The Beatles, Rolling Stones, Elvis Costello, and you'll discover these two chords add tremendous variety."})]})]}),E.jsxs("section",{children:[E.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Modes & Relative Minor"}),E.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[E.jsxs("p",{children:["The vi chord (Am in key of C) is special: it's the ",E.jsx("strong",{className:"text-white",children:"relative minor"}),". Songs emphasizing vi as the tonic create a minor mood using the same chords."]}),E.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-[10px] mt-3",children:[E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"I"}),E.jsx("span",{className:"block text-gray-500",children:"Ionian"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"ii"}),E.jsx("span",{className:"block text-gray-500",children:"Dorian"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"iii"}),E.jsx("span",{className:"block text-gray-500",children:"Phrygian"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"IV"}),E.jsx("span",{className:"block text-gray-500",children:"Lydian"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"V"}),E.jsx("span",{className:"block text-gray-500",children:"Mixolyd."})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"vi"}),E.jsx("span",{className:"block text-gray-500",children:"Aeolian"})]}),E.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[E.jsx("span",{className:"font-bold text-white",children:"vii"}),E.jsx("span",{className:"block text-gray-500",children:"Locrian"})]})]})]})]})]}),YE=({isOpen:r,onClose:e,isEmbedded:t=!1})=>r?t?E.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[E.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:E.jsx(Zm,{size:12,className:"text-white"})}),E.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),E.jsx("button",{onClick:e,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:E.jsx(gb,{size:16})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:E.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:E.jsx(Ib,{})})})]}):E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm pointer-events-none"}),E.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-[85vh] overflow-hidden flex flex-col pointer-events-auto",children:[E.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:E.jsx(Zm,{size:16,className:"text-white"})}),E.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),E.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:E.jsx(gb,{size:20})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:E.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:E.jsx(Ib,{})})}),E.jsx("div",{className:"px-6 py-4 sm:px-8 sm:py-5 border-t border-border-subtle bg-[#22222e] text-center",children:E.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Drag the wheel or use the rotation buttons to change keys. Click any chord to see details."})})]})]}):null,pm=({variant:r="sidebar"})=>{const{selectedChord:e,selectedKey:t,chordPanelVisible:i,toggleChordPanel:a,selectedSectionId:o,selectedSlotId:h,addChordToSlot:c,setSelectedChord:f,selectNextSlotAfter:d,setSelectedSlot:m}=rr(),y=gp(),[w,v]=ue.useState(null),[S,N]=ue.useState([]),[T,C]=ue.useState(320),[I,R]=ue.useState(!1),[q,B]=ue.useState(!1),Z=ue.useRef(0),F=r==="drawer",[j,V]=ue.useState(e),H=e??j,{isMobile:k}=j3(),D=r==="landscape-panel"||r==="landscape-expanded",[ne,$]=ue.useState(!1),[he,Q]=ue.useState(!1),[K,ce]=ue.useState(!k),[fe,xe]=ue.useState(0),Y=4,L=ue.useRef(0),z=ue.useRef(0),[J,ie]=ue.useState(0),se=ue.useRef(null),de=ue.useRef(null),pe=ue.useRef(null),we=ue.useRef(null),Ae=Re=>{if(Re.current&&we.current){const Ye=we.current,Nt=Re.current.offsetTop-Ye.offsetTop;Ye.scrollTo({top:Nt,behavior:"smooth"})}},Ge=ue.useCallback(Re=>{!F||!k||(L.current=Re.touches[0].clientY,z.current=Re.touches[0].clientY)},[F,k]),Je=ue.useCallback(Re=>{if(!F||!k)return;z.current=Re.touches[0].clientY;const Ye=z.current-L.current;Ye>0&&ie(Math.min(Ye,150))},[F,k]),it=ue.useCallback(()=>{!F||!k||(J>80?(ie(300),setTimeout(()=>{a(),ie(0)},200)):ie(0))},[F,k,J,a]),st=()=>{if(!H)return"Chord Details";const Re=w||H.quality;return Re==="major"||Re==="maj"?H.root:Re==="minor"||Re==="m"?`${H.root}m`:Re==="diminished"||Re==="dim"?`${H.root}dim`:`${H.root}${Re}`},W=ue.useCallback((Re,Ye)=>{C3(Re,Ye)},[]),De={maj:'The classic major triad: bright, stable, and universally resolved. The foundation of Western harmony and the sound of "home."',major:'The classic major triad: bright, stable, and universally resolved. The foundation of Western harmony and the sound of "home."',maj7:"Smooth and sophisticated, the major 7th adds a dreamy, floating quality. Think Burt Bacharach, neo-soul, and late-night jazz.",maj9:"Builds on maj7 with a crystalline 9th. Modern, airy, and introspective  perfect for R&B ballads and ambient textures.",maj13:"The full major palette: lush, orchestral, and complex. Great for endings or when you want maximum harmonic richness.",6:"Warm and vintage  the major 6th has an old-Hollywood or country sweetness. Softer resolution than maj7.",add9:"A major triad with added sparkle from the 9th, but no 7th. Clean, modern, and ubiquitous in pop and worship music.",7:"The dominant 7th creates bluesy tension begging for resolution. The engine behind the ii-V-I and the soul of rock & blues.",9:"Dominant 7 with a colorful 9th. Funky, jazzy, and sophisticated  think Stevie Wonder, Earth Wind & Fire, and neo-soul.",11:"Suspended, modal quality over dominant function. Creates an open, unresolved tension that floats before landing.",13:"The dominant chord at its richest: soulful 13th on top of bluesy 7th. Perfect for jazz turnarounds and R&B grooves.",m7:"The workhorse minor chord: soulful, laid-back, and endlessly versatile. The default for jazz ii chords and R&B grooves.",minor:"The basic minor triad: melancholic, introspective, and emotionally direct. Minor keys are built on this sound.",m9:"Lush and cinematic  adds depth and width to the minor sound. Evokes late-night cityscapes and emotional introspection.",m11:"Spacious and modal, with an open 11th suspension. Great for grooves, vamps, and creating atmospheric tension.",m6:"Bittersweet with a film-noir quality. The 6th adds sophistication to minor  a nice alternative to m7 for tonic chords.",sus2:"Neither major nor minor  the open 2nd creates an ambient, neutral quality. Ubiquitous in pop, rock, and modern worship.",sus4:"Suspended tension from the 4th wants to fall to the 3rd. Creates expectation and movement  classic resolution technique.",dim:"Highly unstable and tense  every note pushes somewhere else. Perfect as a passing chord or chromatic approach.",diminished:"Highly unstable and tense  every note pushes somewhere else. Perfect as a passing chord or chromatic approach.",m7b5:"Half-diminished: dark and sophisticated. The natural ii chord in minor keys, essential for minor ii-V-i progressions."},at=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],$e=Re=>{if(!H?.root)return"-";const Ye=vt=>vt.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),qt={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},Nt=qt[Ye(H.root)],St=qt[Ye(Re)];if(Nt===void 0||St===void 0)return"-";const Lt=(St-Nt+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[Lt]??"-"},Te=ue.useCallback(Re=>{F||(Re.preventDefault(),R(!0))},[F]);ue.useEffect(()=>{if(!I||F)return;const Re=qt=>{const Nt=window.innerWidth-qt.clientX;C(Math.max(320,Math.min(450,Nt)))},Ye=()=>{R(!1)};return document.addEventListener("mousemove",Re),document.addEventListener("mouseup",Ye),()=>{document.removeEventListener("mousemove",Re),document.removeEventListener("mouseup",Ye)}},[I,F]),ue.useEffect(()=>{e&&V(e)},[e]),ue.useEffect(()=>{v(null),N([]),xe(0)},[H?.root,H?.quality]);const nt=H&&y[H.root]||"#6366f1",rt=S.length>0?S:H?.notes||[],lt=oh(rt,fe),ft=M4(rt),At=Re=>{const Ye=Date.now();if(Ye-Z.current<300||(Z.current=Ye,!H))return;const qt=mh(H.root,Re),Nt=oh(qt,fe);Lo(Nt),v(Re),N(qt)},Ft=Re=>{if(Z.current=0,!H||!o||!h)return;const Ye=mh(H.root,Re),qt=L4(H.root,Re,Ye,fe),Nt={...H,quality:Re,symbol:qt,notes:Ye,inversion:fe};c(Nt,o,h),d(o,h)||(m(o,h),f(Nt))},jt=()=>{if(!H)return"";const Re=H.numeral;return{I:"The tonic chord  your home base. Most songs begin and end here. Try adding maj7 or 6 for a jazzier sound.",ii:"The supertonic  a pre-dominant chord that naturally leads to V. The ii-V-I progression is fundamental in jazz and pop.",iii:"The mediant  shares two notes with I. Can substitute for I or lead to vi. Often used for color.",IV:'The subdominant  creates a "plagal" sound. The IV-I is the "Amen" cadence. Adds warmth to choruses.',V:"The dominant  creates tension that resolves to I. Add a 7th for extra pull toward home.",vi:"The relative minor  shares the same notes as I major. The vi-IV-I-V is hugely popular in pop music.","vii":"The leading tone chord  unstable and wants to resolve to I. Often used as a passing chord.",II:"Secondary dominant (V/V)  borrows dominant function to approach V. Common in jazz.",III:"Secondary dominant (V/vi)  leads strongly to vi. Creates a dramatic shift."}[Re||""]||"This chord adds color and interest to your progression."},kt=()=>{if(!H)return{extensions:[],description:""};let Re=H.numeral;if(Re&&Re.includes("(")){const qt=Re.match(/^(.+?)\s*\(/);qt&&(Re=qt[1].trim())}return{I:{extensions:["maj7","maj9","maj13","6"],description:"The tonic  your home base and resting point. This is where phrases resolve and songs often begin and end. Its stability makes it perfect for choruses and moments of arrival."},IV:{extensions:["maj7","maj9","maj13","6"],description:'The subdominant  warm, hopeful, and slightly floating. It gently pulls away from home without creating urgency. Great for pre-choruses and that "lifting" feeling before a chorus.'},V:{extensions:["7","9","11","sus4","13"],description:`The dominant  maximum tension wanting to resolve back to I. This chord creates expectation and forward motion. It's the "question" that begs for an "answer."`},ii:{extensions:["m7","m9","m11","m6"],description:"The supertonic  a natural setup chord that leads smoothly to V or IV. It's the workhorse of the ii-V-I progression and adds sophistication to any verse."},iii:{extensions:["m7"],description:"The mediant  mysterious and chameleon-like. It can substitute for I (they share two notes) or lead to vi. Use it for unexpected color and emotional complexity."},vi:{extensions:["m7","m9","m11"],description:'The relative minor  emotional depth and melancholy without leaving the key. This is the "sad" chord in major keys and the foundation of countless pop progressions (vi-IV-I-V).'},"vii":{extensions:["m75"],description:"The leading tone chord  highly unstable and restless. Every note wants to move somewhere, making it a powerful passing chord that pulls strongly toward I."},II:{extensions:["7","sus4"],description:"A secondary dominant (V of V)  borrowed tension that points toward V. Use it to create a dramatic runway before landing on V."},III:{extensions:["7","sus4"],description:"A secondary dominant (V of vi)  creates an unexpected dramatic pull toward vi. Perfect for adding tension before a minor chord moment."}}[Re||""]||{extensions:[],description:`This chord doesn't fit in the key of ${t}, but it may add color and interest to your progression.`}};if(!i)return F?E.jsxs("div",{className:`w-full ${k?"h-10":"h-9"} flex flex-col items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-pointer touch-feedback active:bg-bg-tertiary`,onClick:a,onTouchStart:Re=>{L.current=Re.touches[0].clientY,z.current=Re.touches[0].clientY},onTouchMove:Re=>{z.current=Re.touches[0].clientY},onTouchEnd:()=>{L.current-z.current>30&&a()},title:"Swipe up or tap to open",children:[E.jsx("div",{className:"w-10 h-1 rounded-full bg-text-muted/40 mb-0.5"}),E.jsx("span",{className:`${k?"text-[10px]":"text-[9px]"} font-medium text-text-muted uppercase tracking-wider`,children:"Chord Details"})]}):E.jsx("button",{onClick:a,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:E.jsx(yT,{size:18,className:"text-text-muted"})});const Mt=r==="landscape-panel",ht=r==="landscape-expanded";return E.jsxs("div",{className:ht||Mt?"h-full w-full flex flex-col bg-bg-secondary overflow-hidden":F?`${k?"relative w-full":"fixed inset-x-3 bottom-[88px]"} ${k?"max-h-[60vh]":"max-h-[70vh]"} bg-bg-secondary ${k?"border-t-2 border-border-subtle":"border-2 border-border-subtle rounded-2xl"} shadow-2xl overflow-hidden ${k?"":"z-40"} flex`:"h-full flex bg-bg-secondary border-l border-border-subtle shrink-0",style:!F&&!Mt&&!ht?{width:T,minWidth:T}:F?{transform:J>0?`translateY(${J}px)`:void 0,opacity:J>0?Math.max(0,1-J/300):1,transition:J===0||J>=150?"all 0.2s ease-out":"none"}:void 0,children:[!F&&!Mt&&E.jsx("div",{className:`w-2 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary transition-colors ${I?"bg-accent-primary/20":""} relative z-[60]`,onMouseDown:Te,children:E.jsx(b3,{size:12,className:"text-text-muted"})}),E.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[F&&k&&E.jsx("div",{className:"flex flex-col items-center shrink-0 cursor-grab active:cursor-grabbing",onTouchStart:Ge,onTouchMove:Je,onTouchEnd:it,children:E.jsx("div",{className:"pt-2 pb-1",children:E.jsx("div",{className:"w-10 h-1 rounded-full bg-text-muted/40"})})}),E.jsxs("div",{className:`${D?"px-3 py-2":k&&F?"px-2 py-2":"px-4 py-3"} border-b border-border-subtle flex justify-between items-center gap-2 shrink-0 ${F?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[E.jsx("div",{className:"flex items-center overflow-hidden flex-1 min-w-0",style:{gap:"8px"},children:E.jsxs("span",{className:"flex items-center shrink-0 min-w-0",style:{gap:"6px"},children:[E.jsx("span",{className:`${D?"text-lg":k?"text-base":"text-base sm:text-lg"} font-bold text-text-primary leading-none truncate`,children:D||k&&F?st():H?`${H.root}${(w||H.quality)==="maj"?"":" "+(w||H.quality)}`:"Chord Details"}),H?.numeral&&E.jsx("span",{className:`${D?"text-sm":"text-xs"} font-serif italic text-text-muted shrink-0`,children:H.numeral})]})}),E.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[H&&E.jsxs("div",{className:"flex items-center gap-0.5 bg-bg-tertiary/50 rounded px-1 py-0.5",title:"Chord inversion - which note is in the bass",children:[E.jsx("button",{onClick:()=>{const Re=Math.max(0,fe-1);xe(Re);const Ye=oh(rt,Re);Lo(Ye)},disabled:fe<=0,className:`${k?"w-6 h-6":"w-5 h-5"} flex items-center justify-center hover:bg-accent-primary/20 rounded text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Previous inversion",children:E.jsx(rp,{size:k?12:10})}),E.jsx("span",{className:`${k?"text-[10px]":"text-[9px]"} font-semibold text-text-secondary min-w-[28px] text-center`,children:H5(fe)}),E.jsx("button",{onClick:()=>{const Re=Math.min(ft,fe+1);xe(Re);const Ye=oh(rt,Re);Lo(Ye)},disabled:fe>=ft,className:`${k?"w-6 h-6":"w-5 h-5"} flex items-center justify-center hover:bg-accent-primary/20 rounded text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Next inversion",children:E.jsx(np,{size:k?12:10})})]}),H&&E.jsx("button",{onClick:()=>B(!0),className:`${k?"w-10 h-10 min-w-[40px] min-h-[40px]":"w-8 h-8"} flex items-center justify-center hover:bg-accent-primary/20 rounded-md text-text-muted hover:text-accent-primary transition-colors touch-feedback`,title:"Chord Wheel Guide",children:E.jsx(WC,{size:k?16:14})}),!D&&E.jsx("button",{onClick:a,className:`${k?"p-2 min-w-[40px] min-h-[40px]":"p-1"} hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center`,title:"Hide panel",children:E.jsx(y3,{size:k?18:16,className:`text-text-muted ${k&&F?"rotate-90":""}`})})]})]}),H?E.jsxs("div",{ref:we,className:`flex-1 ${ht?"flex flex-row overflow-hidden":"overflow-y-auto"} min-h-0 overscroll-contain`,children:[!ht&&E.jsxs("div",{className:`${k?"px-5 pt-4 pb-4":"px-5 py-4"} border-b border-border-subtle`,children:[E.jsx(qE,{highlightedNotes:lt,rootNote:H.root,color:nt,octave:Y,onNotePlay:W}),E.jsx("div",{className:`${k?"mt-4":"mt-5"} w-full`,children:E.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:`${k?"56px":"72px"} repeat(${lt.length}, minmax(0, 1fr))`},children:[E.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Notes"}),lt.map((Re,Ye)=>E.jsx("div",{className:`text-center ${k?"text-xs":"text-sm"} font-bold text-text-primary flex items-center justify-center`,style:{height:"16px"},children:Re},`note-${Ye}`)),E.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Absolute"}),lt.map((Re,Ye)=>E.jsx("div",{className:`text-center ${k?"text-[11px]":"text-xs"} text-text-primary font-semibold flex items-center justify-center`,style:{height:"16px"},children:$e(Re)},`abs-${Ye}`)),E.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Relative"}),lt.map((Re,Ye)=>E.jsx("div",{className:`text-center ${k?"text-[11px]":"text-xs"} text-text-secondary flex items-center justify-center`,style:{height:"16px"},children:j4(t,Re).replace(/^1/,"R")},`rel-${Ye}`))]})})]}),E.jsxs("div",{className:`flex flex-col ${ht?"flex-1 overflow-y-auto":""}`,children:[E.jsxs("div",{ref:se,className:`${ht?"px-3 py-1":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[E.jsxs("button",{onClick:()=>{const Re=!K;ce(Re),Re&&setTimeout(()=>Ae(se),50)},className:`w-full flex items-center justify-between ${K?"mb-2":"mb-0"} cursor-pointer rounded-none`,style:{backgroundColor:"transparent"},children:[E.jsxs("h3",{className:`${k?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide whitespace-nowrap`,children:["Guitar & Suggested Voicings for ",H.numeral||H.symbol]}),E.jsx(_h,{size:14,className:`text-text-secondary transition-transform ${K?"rotate-180":""}`})]}),K&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex flex-row gap-2",style:{marginTop:"8px"},children:[E.jsx("div",{className:"flex justify-center items-start shrink-0",style:{minWidth:"100px"},children:E.jsx(HE,{root:H.root,quality:w||H.quality,color:nt})}),E.jsx("div",{className:"w-px bg-border-subtle self-stretch"}),E.jsxs("div",{className:"flex-1 flex flex-col justify-start pl-1",children:[kt().extensions.length>0?E.jsx("div",{className:"grid grid-cols-2 mb-2",style:{gap:k?"8px":"6px"},children:kt().extensions.map(Re=>E.jsxs("button",{className:`relative group ${k?"px-2 py-2 text-xs min-h-[36px]":"px-1.5 py-1 text-[10px]"} rounded font-semibold transition-colors touch-feedback overflow-hidden text-ellipsis whitespace-nowrap`,style:w===Re?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#f0f0f5",border:"1px solid rgba(255,255,255,0.08)"},onClick:()=>At(Re),onDoubleClick:()=>Ft(Re),children:[H.root,Re,!k&&De[Re]&&E.jsxs("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[De[Re]?E.jsxs(E.Fragment,{children:[De[Re],E.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},Re))}):null,E.jsx("p",{className:`${k?"text-xs":"text-[10px]"} text-text-muted leading-relaxed`,children:De[w||H.quality]||"Select a voicing to see its description."})]})]}),E.jsxs("div",{className:"flex items-center mt-2 gap-1",children:[E.jsxs("div",{className:"flex flex-col items-center shrink-0",children:[E.jsx("span",{className:"text-[7px] font-semibold uppercase tracking-wide text-text-muted mb-0",children:"Inv"}),E.jsxs("div",{className:"flex items-center gap-0 bg-bg-tertiary/50 rounded",title:"Chord inversion - which note is in the bass",children:[E.jsx("button",{onClick:()=>{const Re=Math.max(0,fe-1);xe(Re);const Ye=oh(rt,Re);Lo(Ye)},disabled:fe<=0,className:`${k?"w-5 h-5":"w-4 h-4"} flex items-center justify-center hover:bg-accent-primary/20 rounded text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Previous inversion",children:E.jsx(rp,{size:k?10:8})}),E.jsx("span",{className:`${k?"text-[9px]":"text-[8px]"} font-semibold text-text-secondary min-w-[20px] text-center`,children:H5(fe)}),E.jsx("button",{onClick:()=>{const Re=Math.min(ft,fe+1);xe(Re);const Ye=oh(rt,Re);Lo(Ye)},disabled:fe>=ft,className:`${k?"w-5 h-5":"w-4 h-4"} flex items-center justify-center hover:bg-accent-primary/20 rounded text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Next inversion",children:E.jsx(np,{size:k?10:8})})]})]}),E.jsx("div",{className:"flex-1",children:E.jsx(WE,{notes:lt,rootNote:H.root,color:nt})})]}),E.jsx("p",{className:`${k?"text-xs":"text-[10px]"} text-text-secondary leading-relaxed italic`,children:kt().description})]})]}),E.jsxs("div",{ref:de,className:`${ht?"px-3 py-1":k?"px-5 py-1 mt-2":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[E.jsxs("button",{onClick:()=>{const Re=!ne;$(Re),Re&&setTimeout(()=>Ae(de),50)},className:`w-full flex items-center justify-between ${ne?"mb-3":"mb-0"} cursor-pointer rounded-none`,style:{backgroundColor:"transparent"},children:[E.jsx("h3",{className:`${k?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Voicings"}),E.jsx(_h,{size:14,className:`text-text-secondary transition-transform ${ne?"rotate-180":""}`})]}),ne&&E.jsx("div",{className:`grid ${k?"grid-cols-3":"grid-cols-2 sm:grid-cols-3"} ${k?"gap-3":"gap-2.5"}`,children:at.map((Re,Ye)=>{const Nt=Ye%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return E.jsxs("button",{className:`relative group ${k?"px-3 py-3 min-h-[48px] text-xs":"px-2 py-1.5 text-[10px]"} rounded font-medium transition-colors touch-feedback`,style:w===Re?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#9898a6",border:"1px solid rgba(255,255,255,0.08)"},onClick:()=>At(Re),onDoubleClick:()=>Ft(Re),children:[Re,!k&&De[Re]&&E.jsxs("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{...Nt,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[De[Re]?E.jsxs(E.Fragment,{children:[De[Re],E.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},Re)})})]}),E.jsxs("div",{ref:pe,className:`${ht?"px-3 py-1":k?"px-5 py-1 mt-2":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[E.jsxs("button",{onClick:()=>{const Re=!he;Q(Re),Re&&setTimeout(()=>Ae(pe),50)},className:`w-full flex items-center justify-between cursor-pointer ${he?"mb-3":"mb-0"} rounded-none`,style:{backgroundColor:"transparent"},children:[E.jsx("h3",{className:`${k?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Theory"}),E.jsx(_h,{size:14,className:`text-text-secondary transition-transform ${he?"rotate-180":""}`})]}),he&&E.jsx("div",{className:`${k?"p-3":"p-4"} bg-bg-elevated rounded-none`,children:E.jsx("p",{className:`${k?"text-sm":"text-xs"} text-text-secondary leading-relaxed`,children:jt()})})]})]}),k&&E.jsx("div",{className:"h-12 shrink-0"})]}):E.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:E.jsx("p",{className:`${k?"text-base":"text-sm"} text-text-muted text-center`,children:"Select a chord from the wheel or timeline"})})]}),E.jsx(YE,{isOpen:q,onClose:()=>B(!1)})]})},XE="modulepreload",ZE=function(r){return"/chord-wheel-writer/"+r},Vb={},O1=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=h?.nonce||h?.getAttribute("nonce");a=f(t.map(d=>{if(d=ZE(d),d in Vb)return;Vb[d]=!0;const m=d.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":XE,m||(w.as="script"),w.crossOrigin="",w.href=d,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((v,S)=>{w.addEventListener("load",v),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return a.then(h=>{for(const c of h||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},$E=()=>{const{currentSong:r,isPlaying:e,tempo:t,volume:i,setTempo:a,setVolume:o,instrument:h,setInstrument:c,isMuted:f,toggleMute:d,toggleLoop:m,isLooping:y,playingSectionId:w,selectedSectionId:v}=rr(),{isMobile:S,isLandscape:N}=j3(),[T,C]=fn.useState(!1);ue.useEffect(()=>{n2(r)},[r]),ue.useEffect(()=>{M3(t)},[t]),ue.useEffect(()=>{t2(h)},[h]),ue.useEffect(()=>{O3()},[y,r,w,v]),ue.useEffect(()=>{O1(()=>Promise.resolve().then(()=>qT),void 0).then(F=>{C(!0),F.preloadAudio().finally(()=>C(!1))})},[]);const I=async()=>{try{await S3(),e?(k3(),rr.getState().setIsPlaying(!1)):(C(!0),await E3(),rr.getState().setIsPlaying(!0))}catch(F){console.error("Playback error:",F)}finally{C(!1)}},R=F=>{L3(F)},q=()=>{m()},B=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}];B.find(F=>F.value===h)||c("piano");const Z=F=>{const j=B.findIndex(H=>H.value===h);if(j===-1){c("piano");return}const V=F==="next"?(j+1)%B.length:(j-1+B.length)%B.length;c(B[V].value)};return E.jsxs("div",{"data-playback-controls":!0,className:`${S&&N?"h-8":S?"h-11":"h-12"} bg-bg-elevated border-t border-border-subtle flex items-center justify-between ${S?"px-2 gap-1":"px-6"}`,children:[E.jsxs("div",{className:"flex items-center gap-0.5",children:[E.jsx("button",{onClick:()=>R("prev"),className:`${S&&N?"p-1":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:E.jsx(MT,{size:S&&N?12:16})}),E.jsx("button",{onClick:I,disabled:T,className:`${S&&N?"w-6 h-6":S?"w-8 h-8":"w-9 h-9"} rounded-full bg-accent-primary hover:bg-indigo-500 disabled:bg-accent-primary/50 flex items-center justify-center text-white shadow-md transition-all hover:scale-105 active:scale-95 touch-feedback`,children:T?E.jsx(dT,{size:S&&N?12:S?16:18,className:"animate-spin"}):e?E.jsx(wT,{size:S&&N?12:S?16:18,fill:"currentColor"}):E.jsx(x3,{size:S&&N?12:S?16:18,fill:"currentColor",className:"ml-0.5"})}),E.jsx("button",{onClick:()=>R("next"),className:`${S&&N?"p-1":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:E.jsx(OT,{size:S&&N?12:16})}),!S&&E.jsx("button",{onClick:q,className:`p-1.5 transition-colors ml-1 ${y?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:E.jsx(NT,{size:14})})]}),!S&&E.jsx("div",{className:"flex items-center gap-4 text-[11px] text-text-muted",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-text-secondary font-medium",children:"Tempo"}),E.jsx("input",{type:"number",value:t,onChange:F=>a(Number(F.target.value)),className:"w-14 bg-bg-tertiary border border-border-subtle rounded px-2 py-1 text-center text-text-primary text-[11px] font-medium",min:40,max:240}),E.jsx("span",{className:"text-text-muted",children:"BPM"})]})}),E.jsxs("div",{className:`flex items-center ${S?"gap-1.5":"gap-4"}`,children:[E.jsxs("div",{className:"flex items-center gap-1",children:[!S&&E.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-7",children:[E.jsx("button",{onClick:()=>Z("prev"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:E.jsx(rp,{size:12})}),E.jsx("button",{onClick:()=>Z("next"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:E.jsx(np,{size:12})})]}),S&&!N&&E.jsx(Zm,{size:14,className:"text-text-muted"}),!(S&&N)&&E.jsx("select",{value:h,onChange:F=>c(F.target.value),className:`bg-bg-tertiary border border-border-subtle rounded ${S?"px-1.5 h-7 text-[11px] min-w-[70px]":"px-2 h-7 text-[10px] min-w-[130px]"} text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer`,children:B.map(F=>E.jsx("option",{value:F.value,children:F.label},F.value))})]}),E.jsxs("div",{className:`flex items-center ${S?"":"gap-2 w-28"}`,children:[E.jsx("button",{onClick:d,className:`${S?"p-1.5":"p-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center rounded`,title:f?"Unmute":"Mute",children:f||i===0?E.jsx(VT,{size:S?16:14}):E.jsx(RT,{size:S?16:14})}),!S&&E.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:i,onChange:F=>{f&&d(),o(Number(F.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})},KE=({className:r="",size:e=24})=>E.jsx("div",{className:`relative flex items-center justify-center ${r}`,style:{width:e,height:e},children:E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-full h-full overflow-visible",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("defs",{children:E.jsxs("linearGradient",{id:"rainbow-style",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[E.jsx("stop",{offset:"0%",stopColor:"hsl(0, 90%, 65%)"}),"    ",E.jsx("stop",{offset:"20%",stopColor:"hsl(35, 95%, 60%)"}),"   ",E.jsx("stop",{offset:"40%",stopColor:"hsl(55, 95%, 55%)"}),"   ",E.jsx("stop",{offset:"60%",stopColor:"hsl(140, 90%, 50%)"}),"  ",E.jsx("stop",{offset:"80%",stopColor:"hsl(210, 90%, 55%)"}),"  ",E.jsx("stop",{offset:"100%",stopColor:"hsl(280, 85%, 60%)"})," "]})}),E.jsx("circle",{cx:"6",cy:"18",r:"3.5",fill:"url(#rainbow-style)",stroke:"none"}),E.jsx("circle",{cx:"18",cy:"16",r:"3.5",fill:"url(#rainbow-style)",stroke:"none"}),E.jsx("path",{d:"M9 18 V5 L21 3 V16",stroke:"url(#rainbow-style)",fill:"none"})]})});function Pn(r){"@babel/helpers - typeof";return Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(r)}var no=Uint8Array,$s=Uint16Array,f2=Int32Array,d2=new no([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),p2=new no([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Fb=new no([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fw=function(r,e){for(var t=new $s(31),i=0;i<31;++i)t[i]=e+=1<<r[i-1];for(var a=new f2(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)a[o]=o-t[i]<<5|i;return{b:t,r:a}},dw=fw(d2,2),QE=dw.b,eg=dw.r;QE[28]=258,eg[258]=28;var JE=fw(p2,0),Bb=JE.r,tg=new $s(32768);for(var pr=0;pr<32768;++pr){var sc=(pr&43690)>>1|(pr&21845)<<1;sc=(sc&52428)>>2|(sc&13107)<<2,sc=(sc&61680)>>4|(sc&3855)<<4,tg[pr]=((sc&65280)>>8|(sc&255)<<8)>>1}var qf=(function(r,e,t){for(var i=r.length,a=0,o=new $s(e);a<i;++a)r[a]&&++o[r[a]-1];var h=new $s(e);for(a=1;a<e;++a)h[a]=h[a-1]+o[a-1]<<1;var c;if(t){c=new $s(1<<e);var f=15-e;for(a=0;a<i;++a)if(r[a])for(var d=a<<4|r[a],m=e-r[a],y=h[r[a]-1]++<<m,w=y|(1<<m)-1;y<=w;++y)c[tg[y]>>f]=d}else for(c=new $s(i),a=0;a<i;++a)r[a]&&(c[a]=tg[h[r[a]-1]++]>>15-r[a]);return c}),uu=new no(288);for(var pr=0;pr<144;++pr)uu[pr]=8;for(var pr=144;pr<256;++pr)uu[pr]=9;for(var pr=256;pr<280;++pr)uu[pr]=7;for(var pr=280;pr<288;++pr)uu[pr]=8;var fp=new no(32);for(var pr=0;pr<32;++pr)fp[pr]=5;var ek=qf(uu,9,0),tk=qf(fp,5,0),pw=function(r){return(r+7)/8|0},nk=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new no(r.subarray(e,t))},fl=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8},Mf=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8,r[i+2]|=t>>16},mm=function(r,e){for(var t=[],i=0;i<r.length;++i)r[i]&&t.push({s:i,f:r[i]});var a=t.length,o=t.slice();if(!a)return{t:gw,l:0};if(a==1){var h=new no(t[0].s+1);return h[t[0].s]=1,{t:h,l:1}}t.sort(function(B,Z){return B.f-Z.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,m=1,y=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};m!=a-1;)c=t[t[d].f<t[y].f?d++:y++],f=t[d!=m&&t[d].f<t[y].f?d++:y++],t[m++]={s:-1,f:c.f+f.f,l:c,r:f};for(var w=o[0].s,i=1;i<a;++i)o[i].s>w&&(w=o[i].s);var v=new $s(w+1),S=ng(t[m-1],v,0);if(S>e){var i=0,N=0,T=S-e,C=1<<T;for(o.sort(function(Z,F){return v[F.s]-v[Z.s]||Z.f-F.f});i<a;++i){var I=o[i].s;if(v[I]>e)N+=C-(1<<S-v[I]),v[I]=e;else break}for(N>>=T;N>0;){var R=o[i].s;v[R]<e?N-=1<<e-v[R]++-1:++i}for(;i>=0&&N;--i){var q=o[i].s;v[q]==e&&(--v[q],++N)}S=e}return{t:new no(v),l:S}},ng=function(r,e,t){return r.s==-1?Math.max(ng(r.l,e,t+1),ng(r.r,e,t+1)):e[r.s]=t},qb=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new $s(++e),i=0,a=r[0],o=1,h=function(f){t[i++]=f},c=1;c<=e;++c)if(r[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)h(32754);o>2&&(h(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(h(a),--o;o>6;o-=6)h(8304);o>2&&(h(o-3<<5|8208),o=0)}for(;o--;)h(a);o=1,a=r[c]}return{c:t.subarray(0,i),n:e}},Lf=function(r,e){for(var t=0,i=0;i<e.length;++i)t+=r[i]*e[i];return t},mw=function(r,e,t){var i=t.length,a=pw(e+2);r[a]=i&255,r[a+1]=i>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var o=0;o<i;++o)r[a+o+4]=t[o];return(a+4+i)*8},zb=function(r,e,t,i,a,o,h,c,f,d,m){fl(e,m++,t),++a[256];for(var y=mm(a,15),w=y.t,v=y.l,S=mm(o,15),N=S.t,T=S.l,C=qb(w),I=C.c,R=C.n,q=qb(N),B=q.c,Z=q.n,F=new $s(19),j=0;j<I.length;++j)++F[I[j]&31];for(var j=0;j<B.length;++j)++F[B[j]&31];for(var V=mm(F,7),H=V.t,k=V.l,D=19;D>4&&!H[Fb[D-1]];--D);var ne=d+5<<3,$=Lf(a,uu)+Lf(o,fp)+h,he=Lf(a,w)+Lf(o,N)+h+14+3*D+Lf(F,H)+2*F[16]+3*F[17]+7*F[18];if(f>=0&&ne<=$&&ne<=he)return mw(e,m,r.subarray(f,f+d));var Q,K,ce,fe;if(fl(e,m,1+(he<$)),m+=2,he<$){Q=qf(w,v,0),K=w,ce=qf(N,T,0),fe=N;var xe=qf(H,k,0);fl(e,m,R-257),fl(e,m+5,Z-1),fl(e,m+10,D-4),m+=14;for(var j=0;j<D;++j)fl(e,m+3*j,H[Fb[j]]);m+=3*D;for(var Y=[I,B],L=0;L<2;++L)for(var z=Y[L],j=0;j<z.length;++j){var J=z[j]&31;fl(e,m,xe[J]),m+=H[J],J>15&&(fl(e,m,z[j]>>5&127),m+=z[j]>>12)}}else Q=ek,K=uu,ce=tk,fe=fp;for(var j=0;j<c;++j){var ie=i[j];if(ie>255){var J=ie>>18&31;Mf(e,m,Q[J+257]),m+=K[J+257],J>7&&(fl(e,m,ie>>23&31),m+=d2[J]);var se=ie&31;Mf(e,m,ce[se]),m+=fe[se],se>3&&(Mf(e,m,ie>>5&8191),m+=p2[se])}else Mf(e,m,Q[ie]),m+=K[ie]}return Mf(e,m,Q[256]),m+K[256]},rk=new f2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gw=new no(0),ik=function(r,e,t,i,a,o){var h=o.z||r.length,c=new no(i+h+5*(1+Math.ceil(h/7e3))+a),f=c.subarray(i,c.length-a),d=o.l,m=(o.r||0)&7;if(e){m&&(f[0]=o.r>>3);for(var y=rk[e-1],w=y>>13,v=y&8191,S=(1<<t)-1,N=o.p||new $s(32768),T=o.h||new $s(S+1),C=Math.ceil(t/3),I=2*C,R=function(st){return(r[st]^r[st+1]<<C^r[st+2]<<I)&S},q=new f2(25e3),B=new $s(288),Z=new $s(32),F=0,j=0,V=o.i||0,H=0,k=o.w||0,D=0;V+2<h;++V){var ne=R(V),$=V&32767,he=T[ne];if(N[$]=he,T[ne]=$,k<=V){var Q=h-V;if((F>7e3||H>24576)&&(Q>423||!d)){m=zb(r,f,0,q,B,Z,j,H,D,V-D,m),H=F=j=0,D=V;for(var K=0;K<286;++K)B[K]=0;for(var K=0;K<30;++K)Z[K]=0}var ce=2,fe=0,xe=v,Y=$-he&32767;if(Q>2&&ne==R(V-Y))for(var L=Math.min(w,Q)-1,z=Math.min(32767,V),J=Math.min(258,Q);Y<=z&&--xe&&$!=he;){if(r[V+ce]==r[V+ce-Y]){for(var ie=0;ie<J&&r[V+ie]==r[V+ie-Y];++ie);if(ie>ce){if(ce=ie,fe=Y,ie>L)break;for(var se=Math.min(Y,ie-2),de=0,K=0;K<se;++K){var pe=V-Y+K&32767,we=N[pe],Ae=pe-we&32767;Ae>de&&(de=Ae,he=pe)}}}$=he,he=N[$],Y+=$-he&32767}if(fe){q[H++]=268435456|eg[ce]<<18|Bb[fe];var Ge=eg[ce]&31,Je=Bb[fe]&31;j+=d2[Ge]+p2[Je],++B[257+Ge],++Z[Je],k=V+ce,++F}else q[H++]=r[V],++B[r[V]]}}for(V=Math.max(V,k);V<h;++V)q[H++]=r[V],++B[r[V]];m=zb(r,f,d,q,B,Z,j,H,D,V-D,m),d||(o.r=m&7|f[m/8|0]<<3,m-=7,o.h=T,o.p=N,o.i=V,o.w=k)}else{for(var V=o.w||0;V<h+d;V+=65535){var it=V+65535;it>=h&&(f[m/8|0]=d,it=h),m=mw(f,m+1,r.subarray(V,it))}o.i=h}return nk(c,0,i+pw(m)+a)},vw=function(){var r=1,e=0;return{p:function(t){for(var i=r,a=e,o=t.length|0,h=0;h!=o;){for(var c=Math.min(h+2655,o);h<c;++h)a+=i+=t[h];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}r=i,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},sk=function(r,e,t,i,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),h=new no(o.length+r.length);h.set(o),h.set(r,o.length),r=h,a.w=o.length}return ik(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,i,a)},bw=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},ak=function(r,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=i<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=vw();a.p(e.dictionary),bw(r,2,a.d())}};function rg(r,e){e||(e={});var t=vw();t.p(r);var i=sk(r,e,e.dictionary?6:2,4);return ak(i,e),bw(i,i.length-4,t.d()),i}var ok=typeof TextDecoder<"u"&&new TextDecoder,lk=0;try{ok.decode(gw,{stream:!0}),lk=1}catch{}function ck(r){if(Array.isArray(r))return r}function uk(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i,a,o,h,c=[],f=!0,d=!1;try{if(o=(t=t.call(r)).next,e!==0)for(;!(f=(i=o.call(t)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(m){d=!0,a=m}finally{try{if(!f&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(d)throw a}}return c}}function Pb(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=Array(e);t<e;t++)i[t]=r[t];return i}function hk(r,e){if(r){if(typeof r=="string")return Pb(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Pb(r,e):void 0}}function fk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ub(r,e){return ck(r)||uk(r,e)||hk(r,e)||fk()}function Hb(r,e="utf8"){return new TextDecoder(e).decode(r)}const dk=new TextEncoder;function pk(r){return dk.encode(r)}const mk=1024*8,gk=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),gm={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class m2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=mk,t={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let h=a;(ArrayBuffer.isView(e)||e instanceof m2)&&(e.byteLength!==e.buffer.byteLength&&(h=e.byteOffset+a),e=e.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,a=new Uint8Array(i);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=gm[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+i);if(this.littleEndian===gk&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+i));c.reverse();const f=new gm[t](c.buffer);return this.offset+=i,f.reverse(),f}const h=new gm[t](o);return this.offset+=i,h}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return Hb(this.readBytes(e))}decodeText(e=1,t="utf8"){return Hb(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(pk(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Uh(r){let e=r.length;for(;--e>=0;)r[e]=0}const vk=3,bk=258,yw=29,yk=256,xk=yk+1+yw,xw=30,wk=512,_k=new Array((xk+2)*2);Uh(_k);const Sk=new Array(xw*2);Uh(Sk);const Ak=new Array(wk);Uh(Ak);const Nk=new Array(bk-vk+1);Uh(Nk);const Ck=new Array(yw);Uh(Ck);const Tk=new Array(xw);Uh(Tk);const Ek=(r,e,t,i)=>{let a=r&65535|0,o=r>>>16&65535|0,h=0;for(;t!==0;){h=t>2e3?2e3:t,t-=h;do a=a+e[i++]|0,o=o+a|0;while(--h);a%=65521,o%=65521}return a|o<<16|0};var ig=Ek;const kk=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var i=0;i<8;i++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},Mk=new Uint32Array(kk()),Lk=(r,e,t,i)=>{const a=Mk,o=i+t;r^=-1;for(let h=i;h<o;h++)r=r>>>8^a[(r^e[h])&255];return r^-1};var ko=Lk,sg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ww={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Ok=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var jk=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)Ok(t,i)&&(r[i]=t[i])}}return r},Dk=r=>{let e=0;for(let i=0,a=r.length;i<a;i++)e+=r[i].length;const t=new Uint8Array(e);for(let i=0,a=0,o=r.length;i<o;i++){let h=r[i];t.set(h,a),a+=h.length}return t},_w={assign:jk,flattenChunks:Dk};let Sw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Sw=!1}const Qf=new Uint8Array(256);for(let r=0;r<256;r++)Qf[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Qf[254]=Qf[254]=1;var Rk=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,i,a,o,h=r.length,c=0;for(a=0;a<h;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<h&&(i=r.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<h&&(i=r.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const Ik=(r,e)=>{if(e<65534&&r.subarray&&Sw)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(r[i]);return t};var Vk=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let i,a;const o=new Array(t*2);for(a=0,i=0;i<t;){let h=r[i++];if(h<128){o[a++]=h;continue}let c=Qf[h];if(c>4){o[a++]=65533,i+=c-1;continue}for(h&=c===2?31:c===3?15:7;c>1&&i<t;)h=h<<6|r[i++]&63,c--;if(c>1){o[a++]=65533;continue}h<65536?o[a++]=h:(h-=65536,o[a++]=55296|h>>10&1023,o[a++]=56320|h&1023)}return Ik(o,a)},Fk=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Qf[r[t]]>e?t:e},ag={string2buf:Rk,buf2string:Vk,utf8border:Fk};function Bk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var qk=Bk;const b1=16209,zk=16191;var Pk=function(e,t){let i,a,o,h,c,f,d,m,y,w,v,S,N,T,C,I,R,q,B,Z,F,j,V,H;const k=e.state;i=e.next_in,V=e.input,a=i+(e.avail_in-5),o=e.next_out,H=e.output,h=o-(t-e.avail_out),c=o+(e.avail_out-257),f=k.dmax,d=k.wsize,m=k.whave,y=k.wnext,w=k.window,v=k.hold,S=k.bits,N=k.lencode,T=k.distcode,C=(1<<k.lenbits)-1,I=(1<<k.distbits)-1;e:do{S<15&&(v+=V[i++]<<S,S+=8,v+=V[i++]<<S,S+=8),R=N[v&C];t:for(;;){if(q=R>>>24,v>>>=q,S-=q,q=R>>>16&255,q===0)H[o++]=R&65535;else if(q&16){B=R&65535,q&=15,q&&(S<q&&(v+=V[i++]<<S,S+=8),B+=v&(1<<q)-1,v>>>=q,S-=q),S<15&&(v+=V[i++]<<S,S+=8,v+=V[i++]<<S,S+=8),R=T[v&I];n:for(;;){if(q=R>>>24,v>>>=q,S-=q,q=R>>>16&255,q&16){if(Z=R&65535,q&=15,S<q&&(v+=V[i++]<<S,S+=8,S<q&&(v+=V[i++]<<S,S+=8)),Z+=v&(1<<q)-1,Z>f){e.msg="invalid distance too far back",k.mode=b1;break e}if(v>>>=q,S-=q,q=o-h,Z>q){if(q=Z-q,q>m&&k.sane){e.msg="invalid distance too far back",k.mode=b1;break e}if(F=0,j=w,y===0){if(F+=d-q,q<B){B-=q;do H[o++]=w[F++];while(--q);F=o-Z,j=H}}else if(y<q){if(F+=d+y-q,q-=y,q<B){B-=q;do H[o++]=w[F++];while(--q);if(F=0,y<B){q=y,B-=q;do H[o++]=w[F++];while(--q);F=o-Z,j=H}}}else if(F+=y-q,q<B){B-=q;do H[o++]=w[F++];while(--q);F=o-Z,j=H}for(;B>2;)H[o++]=j[F++],H[o++]=j[F++],H[o++]=j[F++],B-=3;B&&(H[o++]=j[F++],B>1&&(H[o++]=j[F++]))}else{F=o-Z;do H[o++]=H[F++],H[o++]=H[F++],H[o++]=H[F++],B-=3;while(B>2);B&&(H[o++]=H[F++],B>1&&(H[o++]=H[F++]))}}else if((q&64)===0){R=T[(R&65535)+(v&(1<<q)-1)];continue n}else{e.msg="invalid distance code",k.mode=b1;break e}break}}else if((q&64)===0){R=N[(R&65535)+(v&(1<<q)-1)];continue t}else if(q&32){k.mode=zk;break e}else{e.msg="invalid literal/length code",k.mode=b1;break e}break}}while(i<a&&o<c);B=S>>3,i-=B,S-=B<<3,v&=(1<<S)-1,e.next_in=i,e.next_out=o,e.avail_in=i<a?5+(a-i):5-(i-a),e.avail_out=o<c?257+(c-o):257-(o-c),k.hold=v,k.bits=S};const lh=15,Gb=852,Wb=592,Yb=0,vm=1,Xb=2,Uk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Hk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Gk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Wk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Yk=(r,e,t,i,a,o,h,c)=>{const f=c.bits;let d=0,m=0,y=0,w=0,v=0,S=0,N=0,T=0,C=0,I=0,R,q,B,Z,F,j=null,V;const H=new Uint16Array(lh+1),k=new Uint16Array(lh+1);let D=null,ne,$,he;for(d=0;d<=lh;d++)H[d]=0;for(m=0;m<i;m++)H[e[t+m]]++;for(v=f,w=lh;w>=1&&H[w]===0;w--);if(v>w&&(v=w),w===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<w&&H[y]===0;y++);for(v<y&&(v=y),T=1,d=1;d<=lh;d++)if(T<<=1,T-=H[d],T<0)return-1;if(T>0&&(r===Yb||w!==1))return-1;for(k[1]=0,d=1;d<lh;d++)k[d+1]=k[d]+H[d];for(m=0;m<i;m++)e[t+m]!==0&&(h[k[e[t+m]]++]=m);if(r===Yb?(j=D=h,V=20):r===vm?(j=Uk,D=Hk,V=257):(j=Gk,D=Wk,V=0),I=0,m=0,d=y,F=o,S=v,N=0,B=-1,C=1<<v,Z=C-1,r===vm&&C>Gb||r===Xb&&C>Wb)return 1;for(;;){ne=d-N,h[m]+1<V?($=0,he=h[m]):h[m]>=V?($=D[h[m]-V],he=j[h[m]-V]):($=96,he=0),R=1<<d-N,q=1<<S,y=q;do q-=R,a[F+(I>>N)+q]=ne<<24|$<<16|he|0;while(q!==0);for(R=1<<d-1;I&R;)R>>=1;if(R!==0?(I&=R-1,I+=R):I=0,m++,--H[d]===0){if(d===w)break;d=e[t+h[m]]}if(d>v&&(I&Z)!==B){for(N===0&&(N=v),F+=y,S=d-N,T=1<<S;S+N<w&&(T-=H[S+N],!(T<=0));)S++,T<<=1;if(C+=1<<S,r===vm&&C>Gb||r===Xb&&C>Wb)return 1;B=I&Z,a[B]=v<<24|S<<16|F-o|0}}return I!==0&&(a[F+I]=d-N<<24|64<<16|0),c.bits=v,0};var zf=Yk;const Xk=0,Aw=1,Nw=2,{Z_FINISH:Zb,Z_BLOCK:Zk,Z_TREES:y1,Z_OK:hu,Z_STREAM_END:$k,Z_NEED_DICT:Kk,Z_STREAM_ERROR:ya,Z_DATA_ERROR:Cw,Z_MEM_ERROR:Tw,Z_BUF_ERROR:Qk,Z_DEFLATED:$b}=ww,Up=16180,Kb=16181,Qb=16182,Jb=16183,ey=16184,ty=16185,ny=16186,ry=16187,iy=16188,sy=16189,dp=16190,dl=16191,bm=16192,ay=16193,ym=16194,oy=16195,ly=16196,cy=16197,uy=16198,x1=16199,w1=16200,hy=16201,fy=16202,dy=16203,py=16204,my=16205,xm=16206,gy=16207,vy=16208,wr=16209,Ew=16210,kw=16211,Jk=852,eM=592,tM=15,nM=tM,by=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function rM(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const mu=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Up||e.mode>kw?1:0},Mw=r=>{if(mu(r))return ya;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Up,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Jk),e.distcode=e.distdyn=new Int32Array(eM),e.sane=1,e.back=-1,hu},Lw=r=>{if(mu(r))return ya;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,Mw(r)},Ow=(r,e)=>{let t;if(mu(r))return ya;const i=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ya:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,Lw(r))},jw=(r,e)=>{if(!r)return ya;const t=new rM;r.state=t,t.strm=r,t.window=null,t.mode=Up;const i=Ow(r,e);return i!==hu&&(r.state=null),i},iM=r=>jw(r,nM);let yy=!0,wm,_m;const sM=r=>{if(yy){wm=new Int32Array(512),_m=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(zf(Aw,r.lens,0,288,wm,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;zf(Nw,r.lens,0,32,_m,0,r.work,{bits:5}),yy=!1}r.lencode=wm,r.lenbits=9,r.distcode=_m,r.distbits=5},Dw=(r,e,t,i)=>{let a;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>i&&(a=i),o.window.set(e.subarray(t-i,t-i+a),o.wnext),i-=a,i?(o.window.set(e.subarray(t-i,t),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},aM=(r,e)=>{let t,i,a,o,h,c,f,d,m,y,w,v,S,N,T=0,C,I,R,q,B,Z,F,j;const V=new Uint8Array(4);let H,k;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(mu(r)||!r.output||!r.input&&r.avail_in!==0)return ya;t=r.state,t.mode===dl&&(t.mode=bm),h=r.next_out,a=r.output,f=r.avail_out,o=r.next_in,i=r.input,c=r.avail_in,d=t.hold,m=t.bits,y=c,w=f,j=hu;e:for(;;)switch(t.mode){case Up:if(t.wrap===0){t.mode=bm;break}for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,V[0]=d&255,V[1]=d>>>8&255,t.check=ko(t.check,V,2,0),d=0,m=0,t.mode=Kb;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",t.mode=wr;break}if((d&15)!==$b){r.msg="unknown compression method",t.mode=wr;break}if(d>>>=4,m-=4,F=(d&15)+8,t.wbits===0&&(t.wbits=F),F>15||F>t.wbits){r.msg="invalid window size",t.mode=wr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=d&512?sy:dl,d=0,m=0;break;case Kb:for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.flags=d,(t.flags&255)!==$b){r.msg="unknown compression method",t.mode=wr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=wr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(V[0]=d&255,V[1]=d>>>8&255,t.check=ko(t.check,V,2,0)),d=0,m=0,t.mode=Qb;case Qb:for(;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(V[0]=d&255,V[1]=d>>>8&255,V[2]=d>>>16&255,V[3]=d>>>24&255,t.check=ko(t.check,V,4,0)),d=0,m=0,t.mode=Jb;case Jb:for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(V[0]=d&255,V[1]=d>>>8&255,t.check=ko(t.check,V,2,0)),d=0,m=0,t.mode=ey;case ey:if(t.flags&1024){for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(V[0]=d&255,V[1]=d>>>8&255,t.check=ko(t.check,V,2,0)),d=0,m=0}else t.head&&(t.head.extra=null);t.mode=ty;case ty:if(t.flags&1024&&(v=t.length,v>c&&(v=c),v&&(t.head&&(F=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(o,o+v),F)),t.flags&512&&t.wrap&4&&(t.check=ko(t.check,i,v,o)),c-=v,o+=v,t.length-=v),t.length))break e;t.length=0,t.mode=ny;case ny:if(t.flags&2048){if(c===0)break e;v=0;do F=i[o+v++],t.head&&F&&t.length<65536&&(t.head.name+=String.fromCharCode(F));while(F&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=ko(t.check,i,v,o)),c-=v,o+=v,F)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=ry;case ry:if(t.flags&4096){if(c===0)break e;v=0;do F=i[o+v++],t.head&&F&&t.length<65536&&(t.head.comment+=String.fromCharCode(F));while(F&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=ko(t.check,i,v,o)),c-=v,o+=v,F)break e}else t.head&&(t.head.comment=null);t.mode=iy;case iy:if(t.flags&512){for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.check&65535)){r.msg="header crc mismatch",t.mode=wr;break}d=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=dl;break;case sy:for(;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}r.adler=t.check=by(d),d=0,m=0,t.mode=dp;case dp:if(t.havedict===0)return r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,Kk;r.adler=t.check=1,t.mode=dl;case dl:if(e===Zk||e===y1)break e;case bm:if(t.last){d>>>=m&7,m-=m&7,t.mode=xm;break}for(;m<3;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}switch(t.last=d&1,d>>>=1,m-=1,d&3){case 0:t.mode=ay;break;case 1:if(sM(t),t.mode=x1,e===y1){d>>>=2,m-=2;break e}break;case 2:t.mode=ly;break;case 3:r.msg="invalid block type",t.mode=wr}d>>>=2,m-=2;break;case ay:for(d>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",t.mode=wr;break}if(t.length=d&65535,d=0,m=0,t.mode=ym,e===y1)break e;case ym:t.mode=oy;case oy:if(v=t.length,v){if(v>c&&(v=c),v>f&&(v=f),v===0)break e;a.set(i.subarray(o,o+v),h),c-=v,o+=v,f-=v,h+=v,t.length-=v;break}t.mode=dl;break;case ly:for(;m<14;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.nlen=(d&31)+257,d>>>=5,m-=5,t.ndist=(d&31)+1,d>>>=5,m-=5,t.ncode=(d&15)+4,d>>>=4,m-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=wr;break}t.have=0,t.mode=cy;case cy:for(;t.have<t.ncode;){for(;m<3;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.lens[D[t.have++]]=d&7,d>>>=3,m-=3}for(;t.have<19;)t.lens[D[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,H={bits:t.lenbits},j=zf(Xk,t.lens,0,19,t.lencode,0,t.work,H),t.lenbits=H.bits,j){r.msg="invalid code lengths set",t.mode=wr;break}t.have=0,t.mode=uy;case uy:for(;t.have<t.nlen+t.ndist;){for(;T=t.lencode[d&(1<<t.lenbits)-1],C=T>>>24,I=T>>>16&255,R=T&65535,!(C<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(R<16)d>>>=C,m-=C,t.lens[t.have++]=R;else{if(R===16){for(k=C+2;m<k;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(d>>>=C,m-=C,t.have===0){r.msg="invalid bit length repeat",t.mode=wr;break}F=t.lens[t.have-1],v=3+(d&3),d>>>=2,m-=2}else if(R===17){for(k=C+3;m<k;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=C,m-=C,F=0,v=3+(d&7),d>>>=3,m-=3}else{for(k=C+7;m<k;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=C,m-=C,F=0,v=11+(d&127),d>>>=7,m-=7}if(t.have+v>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=wr;break}for(;v--;)t.lens[t.have++]=F}}if(t.mode===wr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=wr;break}if(t.lenbits=9,H={bits:t.lenbits},j=zf(Aw,t.lens,0,t.nlen,t.lencode,0,t.work,H),t.lenbits=H.bits,j){r.msg="invalid literal/lengths set",t.mode=wr;break}if(t.distbits=6,t.distcode=t.distdyn,H={bits:t.distbits},j=zf(Nw,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,H),t.distbits=H.bits,j){r.msg="invalid distances set",t.mode=wr;break}if(t.mode=x1,e===y1)break e;case x1:t.mode=w1;case w1:if(c>=6&&f>=258){r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,Pk(r,w),h=r.next_out,a=r.output,f=r.avail_out,o=r.next_in,i=r.input,c=r.avail_in,d=t.hold,m=t.bits,t.mode===dl&&(t.back=-1);break}for(t.back=0;T=t.lencode[d&(1<<t.lenbits)-1],C=T>>>24,I=T>>>16&255,R=T&65535,!(C<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(I&&(I&240)===0){for(q=C,B=I,Z=R;T=t.lencode[Z+((d&(1<<q+B)-1)>>q)],C=T>>>24,I=T>>>16&255,R=T&65535,!(q+C<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=q,m-=q,t.back+=q}if(d>>>=C,m-=C,t.back+=C,t.length=R,I===0){t.mode=my;break}if(I&32){t.back=-1,t.mode=dl;break}if(I&64){r.msg="invalid literal/length code",t.mode=wr;break}t.extra=I&15,t.mode=hy;case hy:if(t.extra){for(k=t.extra;m<k;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=fy;case fy:for(;T=t.distcode[d&(1<<t.distbits)-1],C=T>>>24,I=T>>>16&255,R=T&65535,!(C<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if((I&240)===0){for(q=C,B=I,Z=R;T=t.distcode[Z+((d&(1<<q+B)-1)>>q)],C=T>>>24,I=T>>>16&255,R=T&65535,!(q+C<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=q,m-=q,t.back+=q}if(d>>>=C,m-=C,t.back+=C,I&64){r.msg="invalid distance code",t.mode=wr;break}t.offset=R,t.extra=I&15,t.mode=dy;case dy:if(t.extra){for(k=t.extra;m<k;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=wr;break}t.mode=py;case py:if(f===0)break e;if(v=w-f,t.offset>v){if(v=t.offset-v,v>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=wr;break}v>t.wnext?(v-=t.wnext,S=t.wsize-v):S=t.wnext-v,v>t.length&&(v=t.length),N=t.window}else N=a,S=h-t.offset,v=t.length;v>f&&(v=f),f-=v,t.length-=v;do a[h++]=N[S++];while(--v);t.length===0&&(t.mode=w1);break;case my:if(f===0)break e;a[h++]=t.length,f--,t.mode=w1;break;case xm:if(t.wrap){for(;m<32;){if(c===0)break e;c--,d|=i[o++]<<m,m+=8}if(w-=f,r.total_out+=w,t.total+=w,t.wrap&4&&w&&(r.adler=t.check=t.flags?ko(t.check,a,w,h-w):ig(t.check,a,w,h-w)),w=f,t.wrap&4&&(t.flags?d:by(d))!==t.check){r.msg="incorrect data check",t.mode=wr;break}d=0,m=0}t.mode=gy;case gy:if(t.wrap&&t.flags){for(;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=wr;break}d=0,m=0}t.mode=vy;case vy:j=$k;break e;case wr:j=Cw;break e;case Ew:return Tw;case kw:default:return ya}return r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,(t.wsize||w!==r.avail_out&&t.mode<wr&&(t.mode<xm||e!==Zb))&&Dw(r,r.output,r.next_out,w-r.avail_out),y-=r.avail_in,w-=r.avail_out,r.total_in+=y,r.total_out+=w,t.total+=w,t.wrap&4&&w&&(r.adler=t.check=t.flags?ko(t.check,a,w,r.next_out-w):ig(t.check,a,w,r.next_out-w)),r.data_type=t.bits+(t.last?64:0)+(t.mode===dl?128:0)+(t.mode===x1||t.mode===ym?256:0),(y===0&&w===0||e===Zb)&&j===hu&&(j=Qk),j},oM=r=>{if(mu(r))return ya;let e=r.state;return e.window&&(e.window=null),r.state=null,hu},lM=(r,e)=>{if(mu(r))return ya;const t=r.state;return(t.wrap&2)===0?ya:(t.head=e,e.done=!1,hu)},cM=(r,e)=>{const t=e.length;let i,a,o;return mu(r)||(i=r.state,i.wrap!==0&&i.mode!==dp)?ya:i.mode===dp&&(a=1,a=ig(a,e,t,0),a!==i.check)?Cw:(o=Dw(r,e,t,t),o?(i.mode=Ew,Tw):(i.havedict=1,hu))};var uM=Lw,hM=Ow,fM=Mw,dM=iM,pM=jw,mM=aM,gM=oM,vM=lM,bM=cM,yM="pako inflate (from Nodeca project)",ml={inflateReset:uM,inflateReset2:hM,inflateResetKeep:fM,inflateInit:dM,inflateInit2:pM,inflate:mM,inflateEnd:gM,inflateGetHeader:vM,inflateSetDictionary:bM,inflateInfo:yM};function xM(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wM=xM;const Rw=Object.prototype.toString,{Z_NO_FLUSH:_M,Z_FINISH:SM,Z_OK:Jf,Z_STREAM_END:Sm,Z_NEED_DICT:Am,Z_STREAM_ERROR:AM,Z_DATA_ERROR:xy,Z_MEM_ERROR:NM}=ww;function vd(r){this.options=_w.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qk,this.strm.avail_out=0;let t=ml.inflateInit2(this.strm,e.windowBits);if(t!==Jf)throw new Error(sg[t]);if(this.header=new wM,ml.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ag.string2buf(e.dictionary):Rw.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ml.inflateSetDictionary(this.strm,e.dictionary),t!==Jf)))throw new Error(sg[t])}vd.prototype.push=function(r,e){const t=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let o,h,c;if(this.ended)return!1;for(e===~~e?h=e:h=e===!0?SM:_M,Rw.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),o=ml.inflate(t,h),o===Am&&a&&(o=ml.inflateSetDictionary(t,a),o===Jf?o=ml.inflate(t,h):o===xy&&(o=Am));t.avail_in>0&&o===Sm&&t.state.wrap>0&&r[t.next_in]!==0;)ml.inflateReset(t),o=ml.inflate(t,h);switch(o){case AM:case xy:case Am:case NM:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===Sm))if(this.options.to==="string"){let f=ag.utf8border(t.output,t.next_out),d=t.next_out-f,m=ag.buf2string(t.output,f);t.next_out=d,t.avail_out=i-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Jf&&c===0)){if(o===Sm)return o=ml.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};vd.prototype.onData=function(r){this.chunks.push(r)};vd.prototype.onEnd=function(r){r===Jf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_w.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function CM(r,e){const t=new vd(e);if(t.push(r),t.err)throw t.msg||sg[t.err];return t.result}var TM=vd,EM=CM,kM={Inflate:TM,inflate:EM};const{Inflate:MM,inflate:LM}=kM;var wy=MM,OM=LM;const Iw=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Iw[r]=e}const _y=4294967295;function jM(r,e,t){let i=r;for(let a=0;a<t;a++)i=Iw[(i^e[a])&255]^i>>>8;return i}function DM(r,e){return(jM(_y,r,e)^_y)>>>0}function Sy(r,e,t){const i=r.readUint32(),a=DM(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${a}`)}function Vw(r,e,t){for(let i=0;i<t;i++)e[i]=r[i]}function Fw(r,e,t,i){let a=0;for(;a<i;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-i]&255}function Bw(r,e,t,i){let a=0;if(t.length===0)for(;a<i;a++)e[a]=r[a];else for(;a<i;a++)e[a]=r[a]+t[a]&255}function qw(r,e,t,i,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=r[o]+(t[o]>>1)&255;for(;o<i;o++)e[o]=r[o]+(e[o-a]+t[o]>>1)&255}}function zw(r,e,t,i,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=r[o]+t[o]&255;for(;o<i;o++)e[o]=r[o]+RM(e[o-a],t[o],t[o-a])&255}}function RM(r,e,t){const i=r+e-t,a=Math.abs(i-r),o=Math.abs(i-e),h=Math.abs(i-t);return a<=o&&a<=h?r:o<=h?e:t}function IM(r,e,t,i,a,o){switch(r){case 0:Vw(e,t,a);break;case 1:Fw(e,t,a,o);break;case 2:Bw(e,t,i,a);break;case 3:qw(e,t,i,a,o);break;case 4:zw(e,t,i,a,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const VM=new Uint16Array([255]),FM=new Uint8Array(VM.buffer),BM=FM[0]===255;function qM(r){const{data:e,width:t,height:i,channels:a,depth:o}=r,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(i*t*c);let d=0;for(let m=0;m<7;m++){const y=h[m],w=Math.ceil((t-y.x)/y.xStep),v=Math.ceil((i-y.y)/y.yStep);if(w<=0||v<=0)continue;const S=w*c,N=new Uint8Array(S);for(let T=0;T<v;T++){const C=e[d++],I=e.subarray(d,d+S);d+=S;const R=new Uint8Array(S);IM(C,I,R,N,S,c),N.set(R);for(let q=0;q<w;q++){const B=y.x+q*y.xStep,Z=y.y+T*y.yStep;if(!(B>=t||Z>=i))for(let F=0;F<c;F++)f[(Z*t+B)*c+F]=R[q*c+F]}}}if(o===16){const m=new Uint16Array(f.buffer);if(BM)for(let y=0;y<m.length;y++)m[y]=zM(m[y]);return m}else return f}function zM(r){return(r&255)<<8|r>>8&255}const PM=new Uint16Array([255]),UM=new Uint8Array(PM.buffer),HM=UM[0]===255,GM=new Uint8Array(0);function Ay(r){const{data:e,width:t,height:i,channels:a,depth:o}=r,h=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(i*c);let d=GM,m=0,y,w;for(let v=0;v<i;v++){switch(y=e.subarray(m+1,m+1+c),w=f.subarray(v*c,(v+1)*c),e[m]){case 0:Vw(y,w,c);break;case 1:Fw(y,w,c,h);break;case 2:Bw(y,w,d,c);break;case 3:qw(y,w,d,c,h);break;case 4:zw(y,w,d,c,h);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}d=w,m+=c+1}if(o===16){const v=new Uint16Array(f.buffer);if(HM)for(let S=0;S<v.length;S++)v[S]=WM(v[S]);return v}else return f}function WM(r){return(r&255)<<8|r>>8&255}const j1=Uint8Array.of(137,80,78,71,13,10,26,10);function Ny(r){if(!YM(r.readBytes(j1.length)))throw new Error("wrong PNG signature")}function YM(r){if(r.length<j1.length)return!1;for(let e=0;e<j1.length;e++)if(r[e]!==j1[e])return!1;return!0}const XM="tEXt",ZM=0,Pw=new TextDecoder("latin1");function $M(r){if(QM(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const KM=/^[\u0000-\u00FF]*$/;function QM(r){if(!KM.test(r))throw new Error("invalid latin1 text")}function JM(r,e,t){const i=Uw(e);r[i]=eL(e,t-i.length-1)}function Uw(r){for(r.mark();r.readByte()!==ZM;);const e=r.offset;r.reset();const t=Pw.decode(r.readBytes(e-r.offset-1));return r.skip(1),$M(t),t}function eL(r,e){return Pw.decode(r.readBytes(e))}const Ws={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Nm={UNKNOWN:-1,DEFLATE:0},Cy={UNKNOWN:-1,ADAPTIVE:0},Cm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},_1={NONE:0,BACKGROUND:1,PREVIOUS:2},Tm={SOURCE:0,OVER:1};class tL extends m2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new wy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Nm.UNKNOWN,this._filterMethod=Cy.UNKNOWN,this._interlaceMethod=Cm.UNKNOWN,this._colorType=Ws.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Ny(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Ny(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case XM:JM(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Sy(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Sy(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=nL(this.readUint8());const t=this.readUint8();this._colorType=t;let i;switch(t){case Ws.GREYSCALE:i=1;break;case Ws.TRUECOLOUR:i=3;break;case Ws.INDEXED_COLOUR:i=1;break;case Ws.GREYSCALE_ALPHA:i=2;break;case Ws.TRUECOLOUR_ALPHA:i=4;break;case Ws.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Nm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<t;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ws.GREYSCALE:case Ws.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Ws.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Ws.UNKNOWN:case Ws.GREYSCALE_ALPHA:case Ws.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=Uw(this),i=this.readUint8();if(i!==Nm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:OM(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=Ay({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(i,a,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,i){switch(e.disposeOp){case _1.NONE:break;case _1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const h=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[h+c]=0}break;case _1.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const i=1<<this._png.depth,a=(o,h)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+h)*this._png.channels,f=(o*t.width+h)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case Tm.SOURCE:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case Tm.OVER:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++){const m=t.data[f+this._png.channels-1]/i,y=d%(this._png.channels-1)===0?1:t.data[f+d],w=Math.floor(m*y+(1-m)*e.data[c+d]);e.data[c+d]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Cy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Cm.NO_INTERLACE)this._png.data=Ay({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Cm.ADAM7)this._png.data=qM({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:_1.NONE,blendOp:Tm.SOURCE,data:e}),this._inflator=new wy,this._writingDataChunks=!1}}function nL(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var Ty;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(Ty||(Ty={}));function rL(r,e){return new tL(r,e).decode()}var en=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Em(){en.console&&typeof en.console.log=="function"&&en.console.log.apply(en.console,arguments)}var tr={log:Em,warn:function(r){en.console&&(typeof en.console.warn=="function"?en.console.warn.apply(en.console,arguments):Em.call(null,arguments))},error:function(r){en.console&&(typeof en.console.error=="function"?en.console.error.apply(en.console,arguments):Em(r))}};function km(r,e,t){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){Jc(i.response,e,t)},i.onerror=function(){tr.error("could not download file")},i.send()}function Ey(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function S1(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Jc=en.saveAs||((typeof window>"u"?"undefined":Pn(window))!=="object"||window!==en?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var i=en.URL||en.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?Ey(a.href)?km(r,e,t):S1(a,a.target="_blank"):S1(a)):(a.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){S1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(Ey(r))km(r,e,t);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){S1(i)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Pn(o)!=="object"&&(tr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof r=="string")return km(r,e,t);var a=r.type==="application/octet-stream",o=/constructor/i.test(en.HTMLElement)||en.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||a&&o)&&(typeof FileReader>"u"?"undefined":Pn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=h?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=m:location=m,i=null},c.readAsDataURL(r)}else{var f=en.URL||en.webkitURL,d=f.createObjectURL(r);i?i.location=d:location.href=d,i=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function Hw(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<t.length;i++){var a=t[i].re,o=t[i].process,h=a.exec(r);h&&(e=o(h),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var D1=en.atob.bind(en),ky=en.btoa.bind(en);function Mm(r,e){var t=r[0],i=r[1],a=r[2],o=r[3];t=zi(t,i,a,o,e[0],7,-680876936),o=zi(o,t,i,a,e[1],12,-389564586),a=zi(a,o,t,i,e[2],17,606105819),i=zi(i,a,o,t,e[3],22,-1044525330),t=zi(t,i,a,o,e[4],7,-176418897),o=zi(o,t,i,a,e[5],12,1200080426),a=zi(a,o,t,i,e[6],17,-1473231341),i=zi(i,a,o,t,e[7],22,-45705983),t=zi(t,i,a,o,e[8],7,1770035416),o=zi(o,t,i,a,e[9],12,-1958414417),a=zi(a,o,t,i,e[10],17,-42063),i=zi(i,a,o,t,e[11],22,-1990404162),t=zi(t,i,a,o,e[12],7,1804603682),o=zi(o,t,i,a,e[13],12,-40341101),a=zi(a,o,t,i,e[14],17,-1502002290),t=Pi(t,i=zi(i,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Pi(o,t,i,a,e[6],9,-1069501632),a=Pi(a,o,t,i,e[11],14,643717713),i=Pi(i,a,o,t,e[0],20,-373897302),t=Pi(t,i,a,o,e[5],5,-701558691),o=Pi(o,t,i,a,e[10],9,38016083),a=Pi(a,o,t,i,e[15],14,-660478335),i=Pi(i,a,o,t,e[4],20,-405537848),t=Pi(t,i,a,o,e[9],5,568446438),o=Pi(o,t,i,a,e[14],9,-1019803690),a=Pi(a,o,t,i,e[3],14,-187363961),i=Pi(i,a,o,t,e[8],20,1163531501),t=Pi(t,i,a,o,e[13],5,-1444681467),o=Pi(o,t,i,a,e[2],9,-51403784),a=Pi(a,o,t,i,e[7],14,1735328473),t=Ui(t,i=Pi(i,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Ui(o,t,i,a,e[8],11,-2022574463),a=Ui(a,o,t,i,e[11],16,1839030562),i=Ui(i,a,o,t,e[14],23,-35309556),t=Ui(t,i,a,o,e[1],4,-1530992060),o=Ui(o,t,i,a,e[4],11,1272893353),a=Ui(a,o,t,i,e[7],16,-155497632),i=Ui(i,a,o,t,e[10],23,-1094730640),t=Ui(t,i,a,o,e[13],4,681279174),o=Ui(o,t,i,a,e[0],11,-358537222),a=Ui(a,o,t,i,e[3],16,-722521979),i=Ui(i,a,o,t,e[6],23,76029189),t=Ui(t,i,a,o,e[9],4,-640364487),o=Ui(o,t,i,a,e[12],11,-421815835),a=Ui(a,o,t,i,e[15],16,530742520),t=Hi(t,i=Ui(i,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Hi(o,t,i,a,e[7],10,1126891415),a=Hi(a,o,t,i,e[14],15,-1416354905),i=Hi(i,a,o,t,e[5],21,-57434055),t=Hi(t,i,a,o,e[12],6,1700485571),o=Hi(o,t,i,a,e[3],10,-1894986606),a=Hi(a,o,t,i,e[10],15,-1051523),i=Hi(i,a,o,t,e[1],21,-2054922799),t=Hi(t,i,a,o,e[8],6,1873313359),o=Hi(o,t,i,a,e[15],10,-30611744),a=Hi(a,o,t,i,e[6],15,-1560198380),i=Hi(i,a,o,t,e[13],21,1309151649),t=Hi(t,i,a,o,e[4],6,-145523070),o=Hi(o,t,i,a,e[11],10,-1120210379),a=Hi(a,o,t,i,e[2],15,718787259),i=Hi(i,a,o,t,e[9],21,-343485551),r[0]=uc(t,r[0]),r[1]=uc(i,r[1]),r[2]=uc(a,r[2]),r[3]=uc(o,r[3])}function Hp(r,e,t,i,a,o){return e=uc(uc(e,r),uc(i,o)),uc(e<<a|e>>>32-a,t)}function zi(r,e,t,i,a,o,h){return Hp(e&t|~e&i,r,e,a,o,h)}function Pi(r,e,t,i,a,o,h){return Hp(e&i|t&~i,r,e,a,o,h)}function Ui(r,e,t,i,a,o,h){return Hp(e^t^i,r,e,a,o,h)}function Hi(r,e,t,i,a,o,h){return Hp(t^(e|~i),r,e,a,o,h)}function Gw(r){var e,t=r.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Mm(i,iL(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Mm(i,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Mm(i,a),i}function iL(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var My="0123456789abcdef".split("");function sL(r){for(var e="",t=0;t<4;t++)e+=My[r>>8*t+4&15]+My[r>>8*t&15];return e}function aL(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function og(r){return Gw(r).map(aL).join("")}var oL=(function(r){for(var e=0;e<r.length;e++)r[e]=sL(r[e]);return r.join("")})(Gw("hello"))!="5d41402abc4b2a76b9719d911017c592";function uc(r,e){if(oL){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function lg(r,e){var t,i,a,o;if(r!==t){for(var h=(a=r,o=1+(256/r.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var m=c[f];d=(d+m+h.charCodeAt(f))%256,c[f]=c[d],c[d]=m}t=r,i=c}else c=i;var y=e.length,w=0,v=0,S="";for(f=0;f<y;f++)v=(v+(m=c[w=(w+1)%256]))%256,c[w]=c[v],c[v]=m,h=c[(c[w]+c[v])%256],S+=String.fromCharCode(e.charCodeAt(f)^h);return S}var Ly={print:4,modify:8,copy:16,"annot-forms":32};function dh(r,e,t,i){this.v=1,this.r=2;var a=192;r.forEach(function(c){if(Ly.perm!==void 0)throw new Error("Invalid permission: "+c);a+=Ly[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),h=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,h),this.P=-(1+(255^a)),this.encryptionKey=og(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=lg(this.encryptionKey,this.padding)}function ph(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,i=0;i<t;i++){var a=r.charCodeAt(i);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[i]}return e}function Oy(r){if(Pn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,a){if(a=a||!1,typeof t!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[i,!!a],o},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var h=e[t][o];try{h[0].apply(r,i)}catch(c){en.console&&tr.error("jsPDF PubSub Error",c.message,c)}h[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pp(r){if(!(this instanceof pp))return new pp(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function Ww(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function tu(r,e,t,i,a){if(!(this instanceof tu))return new tu(r,e,t,i,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,Ww.call(this,i,a)}function xh(r,e,t,i,a){if(!(this instanceof xh))return new xh(r,e,t,i,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Ww.call(this,i,a)}function Ot(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],o=arguments[3],h=[],c=1,f=16,d="S",m=null;Pn(r=r||{})==="object"&&(t=r.orientation,i=r.unit||i,a=r.format||a,o=r.compress||r.compressPdf||o,(m=r.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(f=r.floatPrecision),d=r.defaultPathOperation||"S"),h=r.filters||(o===!0?["FlateEncode"]:h),i=i||"mm",t=(""+(t||"P")).toLowerCase();var y=r.putOnlyUsedFonts||!1,w={},v={internal:{},__private__:{}};v.__private__.PubSub=Oy;var S="1.3",N=v.__private__.getPdfVersion=function(){return S};v.__private__.setPdfVersion=function(_){S=_};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return T};var C=v.__private__.getPageFormat=function(_){return T[_]};a=a||"a4";var I="compat",R="advanced",q=I;function B(){this.saveGraphicsState(),W(new Ue(Re,0,0,-Re,0,Ta()*Re).toString()+" cm"),this.setFontSize(this.getFontSize()/Re),d="n",q=R}function Z(){this.restoreGraphicsState(),d="S",q=I}var F=v.__private__.combineFontStyleAndFontWeight=function(_,P){if(_=="bold"&&P=="normal"||_=="bold"&&P==400||_=="normal"&&P=="italic"||_=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(_=P==400||P==="normal"?_==="italic"?"italic":"normal":P!=700&&P!=="bold"||_!=="normal"?(P==700?"bold":P)+""+_:"bold"),_};v.advancedAPI=function(_){var P=q===I;return P&&B.call(this),typeof _!="function"||(_(this),P&&Z.call(this)),this},v.compatAPI=function(_){var P=q===R;return P&&Z.call(this),typeof _!="function"||(_(this),P&&B.call(this)),this},v.isAdvancedAPI=function(){return q===R};var j,V=function(_){if(q!==R)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=v.roundToPrecision=v.__private__.roundToPrecision=function(_,P){var le=e||P;if(isNaN(_)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(le).replace(/0+$/,"")};j=v.hpf=v.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return H(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return H(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return H(_,16)};var k=v.f2=v.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return H(_,2)},D=v.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return H(_,3)},ne=v.scale=v.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return q===I?_*Re:q===R?_:void 0},$=function(_){return ne((function(P){return q===I?Ta()-P:q===R?P:void 0})(_))};v.__private__.setPrecision=v.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var he,Q="00000000000000000000000000000000",K=v.__private__.getFileId=function(){return Q},ce=v.__private__.setFileId=function(_){return Q=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Fr=new dh(m.userPermissions,m.userPassword,m.ownerPassword,Q)),Q};v.setFileId=function(_){return ce(_),this},v.getFileId=function(){return K()};var fe=v.__private__.convertDateToPDFDate=function(_){var P=_.getTimezoneOffset(),le=P<0?"+":"-",ge=Math.floor(Math.abs(P/60)),_e=Math.abs(P%60),ze=[le,J(ge),"'",J(_e),"'"].join("");return["D:",_.getFullYear(),J(_.getMonth()+1),J(_.getDate()),J(_.getHours()),J(_.getMinutes()),J(_.getSeconds()),ze].join("")},xe=v.__private__.convertPDFDateToDate=function(_){var P=parseInt(_.substr(2,4),10),le=parseInt(_.substr(6,2),10)-1,ge=parseInt(_.substr(8,2),10),_e=parseInt(_.substr(10,2),10),ze=parseInt(_.substr(12,2),10),Ke=parseInt(_.substr(14,2),10);return new Date(P,le,ge,_e,ze,Ke,0)},Y=v.__private__.setCreationDate=function(_){var P;if(_===void 0&&(_=new Date),_ instanceof Date)P=fe(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=_}return he=P},L=v.__private__.getCreationDate=function(_){var P=he;return _==="jsDate"&&(P=xe(he)),P};v.setCreationDate=function(_){return Y(_),this},v.getCreationDate=function(_){return L(_)};var z,J=v.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},ie=v.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},se=0,de=[],pe=[],we=0,Ae=[],Ge=[],Je=!1,it=pe;v.__private__.setCustomOutputDestination=function(_){Je=!0,it=_};var st=function(_){Je||(it=_)};v.__private__.resetCustomOutputDestination=function(){Je=!1,it=pe};var W=v.__private__.out=function(_){return _=_.toString(),we+=_.length+1,it.push(_),it},De=v.__private__.write=function(_){return W(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},at=v.__private__.getArrayBuffer=function(_){for(var P=_.length,le=new ArrayBuffer(P),ge=new Uint8Array(le);P--;)ge[P]=_.charCodeAt(P);return le},$e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return $e};var Te=r.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(_){return Te=q===R?_/Re:_,this};var nt,rt=v.__private__.getFontSize=v.getFontSize=function(){return q===I?Te:Te*Re},lt=r.R2L||!1;v.__private__.setR2L=v.setR2L=function(_){return lt=_,this},v.__private__.getR2L=v.getR2L=function(){return lt};var ft,At=v.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))nt=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');nt=_}else nt=parseInt(_,10)};v.__private__.getZoomMode=function(){return nt};var Ft,jt=v.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');ft=_};v.__private__.getPageMode=function(){return ft};var kt=v.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Ft=_};v.__private__.getLayoutMode=function(){return Ft},v.__private__.setDisplayMode=v.setDisplayMode=function(_,P,le){return At(_),kt(P),jt(le),this};var Mt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(_){if(Object.keys(Mt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Mt[_]},v.__private__.getDocumentProperties=function(){return Mt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(_){for(var P in Mt)Mt.hasOwnProperty(P)&&_[P]&&(Mt[P]=_[P]);return this},v.__private__.setDocumentProperty=function(_,P){if(Object.keys(Mt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Mt[_]=P};var ht,Re,Ye,qt,Nt,St={},Lt={},Bt=[],vt={},dn={},Dt={},Oe={},ot=null,Qe=0,et=[],dt=new Oy(v),$t=r.hotfixes||[],Ne={},Ie={},He=[],Ue=function _(P,le,ge,_e,ze,Ke){if(!(this instanceof _))return new _(P,le,ge,_e,ze,Ke);isNaN(P)&&(P=1),isNaN(le)&&(le=0),isNaN(ge)&&(ge=0),isNaN(_e)&&(_e=1),isNaN(ze)&&(ze=0),isNaN(Ke)&&(Ke=0),this._matrix=[P,le,ge,_e,ze,Ke]};Object.defineProperty(Ue.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Ue.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Ue.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Ue.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Ue.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Ue.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Ue.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Ue.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Ue.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Ue.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Ue.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Ue.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Ue.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ue.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ue.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ue.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ue.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(_)},Ue.prototype.multiply=function(_){var P=_.sx*this.sx+_.shy*this.shx,le=_.sx*this.shy+_.shy*this.sy,ge=_.shx*this.sx+_.sy*this.shx,_e=_.shx*this.shy+_.sy*this.sy,ze=_.tx*this.sx+_.ty*this.shx+this.tx,Ke=_.tx*this.shy+_.ty*this.sy+this.ty;return new Ue(P,le,ge,_e,ze,Ke)},Ue.prototype.decompose=function(){var _=this.sx,P=this.shy,le=this.shx,ge=this.sy,_e=this.tx,ze=this.ty,Ke=Math.sqrt(_*_+P*P),yt=(_/=Ke)*le+(P/=Ke)*ge;le-=_*yt,ge-=P*yt;var Tt=Math.sqrt(le*le+ge*ge);return yt/=Tt,_*(ge/=Tt)<P*(le/=Tt)&&(_=-_,P=-P,yt=-yt,Ke=-Ke),{scale:new Ue(Ke,0,0,Tt,0,0),translate:new Ue(1,0,0,1,_e,ze),rotate:new Ue(_,P,-P,_,0,0),skew:new Ue(1,0,yt,1,0,0)}},Ue.prototype.toString=function(_){return this.join(" ")},Ue.prototype.inversed=function(){var _=this.sx,P=this.shy,le=this.shx,ge=this.sy,_e=this.tx,ze=this.ty,Ke=1/(_*ge-P*le),yt=ge*Ke,Tt=-P*Ke,Wt=-le*Ke,nn=_*Ke;return new Ue(yt,Tt,Wt,nn,-yt*_e-Wt*ze,-Tt*_e-nn*ze)},Ue.prototype.applyToPoint=function(_){var P=_.x*this.sx+_.y*this.shx+this.tx,le=_.x*this.shy+_.y*this.sy+this.ty;return new us(P,le)},Ue.prototype.applyToRectangle=function(_){var P=this.applyToPoint(_),le=this.applyToPoint(new us(_.x+_.w,_.y+_.h));return new _a(P.x,P.y,le.x-P.x,le.y-P.y)},Ue.prototype.clone=function(){var _=this.sx,P=this.shy,le=this.shx,ge=this.sy,_e=this.tx,ze=this.ty;return new Ue(_,P,le,ge,_e,ze)},v.Matrix=Ue;var ut=v.matrixMult=function(_,P){return P.multiply(_)},gt=new Ue(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=gt;var Ct=function(_,P){if(!dn[_]){var le=(P instanceof tu?"Sh":"P")+(Object.keys(vt).length+1).toString(10);P.id=le,dn[_]=le,vt[le]=P,dt.publish("addPattern",P)}};v.ShadingPattern=tu,v.TilingPattern=xh,v.addShadingPattern=function(_,P){return V("addShadingPattern()"),Ct(_,P),this},v.beginTilingPattern=function(_){V("beginTilingPattern()"),Ho(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},v.endTilingPattern=function(_,P){V("endTilingPattern()"),P.stream=Ge[z].join(`
`),Ct(_,P),dt.publish("endTilingPattern",P),He.pop().restore()};var Gt,Yt=v.__private__.newObject=function(){var _=cn();return Kt(_,!0),_},cn=v.__private__.newObjectDeferred=function(){return se++,de[se]=function(){return we},se},Kt=function(_,P){return P=typeof P=="boolean"&&P,de[_]=we,P&&W(_+" 0 obj"),_},ir=v.__private__.newAdditionalObject=function(){var _={objId:cn(),content:""};return Ae.push(_),_},Qt=cn(),Xt=cn(),ln=v.__private__.decodeColorString=function(_){var P=_.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var le=parseFloat(P[0]);P=[le,le,le,"r"]}for(var ge="#",_e=0;_e<3;_e++)ge+=("0"+Math.floor(255*parseFloat(P[_e])).toString(16)).slice(-2);return ge},Fn=v.__private__.encodeColorString=function(_){var P;typeof _=="string"&&(_={ch1:_});var le=_.ch1,ge=_.ch2,_e=_.ch3,ze=_.ch4,Ke=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var yt=new Hw(le);if(yt.ok)le=yt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var Tt=parseInt(le.substr(1),16);le=Tt>>16&255,ge=Tt>>8&255,_e=255&Tt}if(ge===void 0||ze===void 0&&le===ge&&ge===_e)P=typeof le=="string"?le+" "+Ke[0]:_.precision===2?k(le/255)+" "+Ke[0]:D(le/255)+" "+Ke[0];else if(ze===void 0||Pn(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return["1.","1.","1.",Ke[1]].join(" ");P=typeof le=="string"?[le,ge,_e,Ke[1]].join(" "):_.precision===2?[k(le/255),k(ge/255),k(_e/255),Ke[1]].join(" "):[D(le/255),D(ge/255),D(_e/255),Ke[1]].join(" ")}else P=typeof le=="string"?[le,ge,_e,ze,Ke[2]].join(" "):_.precision===2?[k(le),k(ge),k(_e),k(ze),Ke[2]].join(" "):[D(le),D(ge),D(_e),D(ze),Ke[2]].join(" ");return P},Un=v.__private__.getFilters=function(){return h},kn=v.__private__.putStream=function(_){var P=(_=_||{}).data||"",le=_.filters||Un(),ge=_.alreadyAppliedFilters||[],_e=_.addLength1||!1,ze=P.length,Ke=_.objectId,yt=function(Br){return Br};if(m!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(yt=Fr.encryptor(Ke,0));var Tt={};le===!0&&(le=["FlateEncode"]);var Wt=_.additionalKeyValues||[],nn=(Tt=Ot.API.processDataByFilters!==void 0?Ot.API.processDataByFilters(P,le):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Tt.data.length!==0&&(Wt.push({key:"Length",value:Tt.data.length}),_e===!0&&Wt.push({key:"Length1",value:ze})),nn.length!=0)if(nn.split("/").length-1==1)Wt.push({key:"Filter",value:nn});else{Wt.push({key:"Filter",value:"["+nn+"]"});for(var wn=0;wn<Wt.length;wn+=1)if(Wt[wn].key==="DecodeParms"){for(var lr=[],Sr=0;Sr<Tt.reverseChain.split("/").length-1;Sr+=1)lr.push("null");lr.push(Wt[wn].value),Wt[wn].value="["+lr.join(" ")+"]"}}W("<<");for(var Hn=0;Hn<Wt.length;Hn++)W("/"+Wt[Hn].key+" "+Wt[Hn].value);W(">>"),Tt.data.length!==0&&(W("stream"),W(yt(Tt.data)),W("endstream"))},di=v.__private__.putPage=function(_){var P=_.number,le=_.data,ge=_.objId,_e=_.contentsObjId;Kt(ge,!0),W("<</Type /Page"),W("/Parent "+_.rootDictionaryObjId+" 0 R"),W("/Resources "+_.resourceDictionaryObjId+" 0 R"),W("/MediaBox ["+parseFloat(j(_.mediaBox.bottomLeftX))+" "+parseFloat(j(_.mediaBox.bottomLeftY))+" "+j(_.mediaBox.topRightX)+" "+j(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&W("/CropBox ["+j(_.cropBox.bottomLeftX)+" "+j(_.cropBox.bottomLeftY)+" "+j(_.cropBox.topRightX)+" "+j(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&W("/BleedBox ["+j(_.bleedBox.bottomLeftX)+" "+j(_.bleedBox.bottomLeftY)+" "+j(_.bleedBox.topRightX)+" "+j(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&W("/TrimBox ["+j(_.trimBox.bottomLeftX)+" "+j(_.trimBox.bottomLeftY)+" "+j(_.trimBox.topRightX)+" "+j(_.trimBox.topRightY)+"]"),_.artBox!==null&&W("/ArtBox ["+j(_.artBox.bottomLeftX)+" "+j(_.artBox.bottomLeftY)+" "+j(_.artBox.topRightX)+" "+j(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&W("/UserUnit "+_.userUnit),dt.publish("putPage",{objId:ge,pageContext:et[P],pageNumber:P,page:le}),W("/Contents "+_e+" 0 R"),W(">>"),W("endobj");var ze=le.join(`
`);return q===R&&(ze+=`
Q`),Kt(_e,!0),kn({data:ze,filters:Un(),objectId:_e}),W("endobj"),ge},ls=v.__private__.putPages=function(){var _,P,le=[];for(_=1;_<=Qe;_++)et[_].objId=cn(),et[_].contentsObjId=cn();for(_=1;_<=Qe;_++)le.push(di({number:_,data:Ge[_],objId:et[_].objId,contentsObjId:et[_].contentsObjId,mediaBox:et[_].mediaBox,cropBox:et[_].cropBox,bleedBox:et[_].bleedBox,trimBox:et[_].trimBox,artBox:et[_].artBox,userUnit:et[_].userUnit,rootDictionaryObjId:Qt,resourceDictionaryObjId:Xt}));Kt(Qt,!0),W("<</Type /Pages");var ge="/Kids [";for(P=0;P<Qe;P++)ge+=le[P]+" 0 R ";W(ge+"]"),W("/Count "+Qe),W(">>"),W("endobj"),dt.publish("postPutPages")},Ri=function(_){dt.publish("putFont",{font:_,out:W,newObject:Yt,putStream:kn}),_.isAlreadyPutted!==!0&&(_.objectNumber=Yt(),W("<<"),W("/Type /Font"),W("/BaseFont /"+ph(_.postScriptName)),W("/Subtype /Type1"),typeof _.encoding=="string"&&W("/Encoding /"+_.encoding),W("/FirstChar 32"),W("/LastChar 255"),W(">>"),W("endobj"))},Os=function(_){_.objectNumber=Yt();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[j(_.x),j(_.y),j(_.x+_.width),j(_.y+_.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var le=_.pages[1].join(`
`);kn({data:le,additionalKeyValues:P,objectId:_.objectNumber}),W("endobj")},Ii=function(_,P){P||(P=21);var le=Yt(),ge=(function(Ke,yt){var Tt,Wt=[],nn=1/(yt-1);for(Tt=0;Tt<1;Tt+=nn)Wt.push(Tt);if(Wt.push(1),Ke[0].offset!=0){var wn={offset:0,color:Ke[0].color};Ke.unshift(wn)}if(Ke[Ke.length-1].offset!=1){var lr={offset:1,color:Ke[Ke.length-1].color};Ke.push(lr)}for(var Sr="",Hn=0,Br=0;Br<Wt.length;Br++){for(Tt=Wt[Br];Tt>Ke[Hn+1].offset;)Hn++;var kr=Ke[Hn].offset,ni=(Tt-kr)/(Ke[Hn+1].offset-kr),Ea=Ke[Hn].color,Vs=Ke[Hn+1].color;Sr+=ie(Math.round((1-ni)*Ea[0]+ni*Vs[0]).toString(16))+ie(Math.round((1-ni)*Ea[1]+ni*Vs[1]).toString(16))+ie(Math.round((1-ni)*Ea[2]+ni*Vs[2]).toString(16))}return Sr.trim()})(_.colors,P),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+P+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),kn({data:ge,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),W("endobj"),_.objectNumber=Yt(),W("<< /ShadingType "+_.type),W("/ColorSpace /DeviceRGB");var ze="/Coords ["+j(parseFloat(_.coords[0]))+" "+j(parseFloat(_.coords[1]))+" ";_.type===2?ze+=j(parseFloat(_.coords[2]))+" "+j(parseFloat(_.coords[3])):ze+=j(parseFloat(_.coords[2]))+" "+j(parseFloat(_.coords[3]))+" "+j(parseFloat(_.coords[4]))+" "+j(parseFloat(_.coords[5])),W(ze+="]"),_.matrix&&W("/Matrix ["+_.matrix.toString()+"]"),W("/Function "+le+" 0 R"),W("/Extend [true true]"),W(">>"),W("endobj")},Yi=function(_,P){var le=cn(),ge=Yt();P.push({resourcesOid:le,objectOid:ge}),_.objectNumber=ge;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+_.boundingBox.map(j).join(" ")+"]"}),_e.push({key:"XStep",value:j(_.xStep)}),_e.push({key:"YStep",value:j(_.yStep)}),_e.push({key:"Resources",value:le+" 0 R"}),_.matrix&&_e.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),kn({data:_.stream,additionalKeyValues:_e,objectId:_.objectNumber}),W("endobj")},Js=function(_){for(var P in _.objectNumber=Yt(),W("<<"),_)switch(P){case"opacity":W("/ca "+k(_[P]));break;case"stroke-opacity":W("/CA "+k(_[P]))}W(">>"),W("endobj")},Xi=function(_){Kt(_.resourcesOid,!0),W("<<"),W("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in W("/Font <<"),St)St.hasOwnProperty(P)&&(y===!1||y===!0&&w.hasOwnProperty(P))&&W("/"+P+" "+St[P].objectNumber+" 0 R");W(">>")})(),(function(){if(Object.keys(vt).length>0){for(var P in W("/Shading <<"),vt)vt.hasOwnProperty(P)&&vt[P]instanceof tu&&vt[P].objectNumber>=0&&W("/"+P+" "+vt[P].objectNumber+" 0 R");dt.publish("putShadingPatternDict"),W(">>")}})(),(function(P){if(Object.keys(vt).length>0){for(var le in W("/Pattern <<"),vt)vt.hasOwnProperty(le)&&vt[le]instanceof v.TilingPattern&&vt[le].objectNumber>=0&&vt[le].objectNumber<P&&W("/"+le+" "+vt[le].objectNumber+" 0 R");dt.publish("putTilingPatternDict"),W(">>")}})(_.objectOid),(function(){if(Object.keys(Dt).length>0){var P;for(P in W("/ExtGState <<"),Dt)Dt.hasOwnProperty(P)&&Dt[P].objectNumber>=0&&W("/"+P+" "+Dt[P].objectNumber+" 0 R");dt.publish("putGStateDict"),W(">>")}})(),(function(){for(var P in W("/XObject <<"),Ne)Ne.hasOwnProperty(P)&&Ne[P].objectNumber>=0&&W("/"+P+" "+Ne[P].objectNumber+" 0 R");dt.publish("putXobjectDict"),W(">>")})(),W(">>"),W("endobj")},or=function(_){Lt[_.fontName]=Lt[_.fontName]||{},Lt[_.fontName][_.fontStyle]=_.id},Bo=function(_,P,le,ge,_e){var ze={id:"F"+(Object.keys(St).length+1).toString(10),postScriptName:_,fontName:P,fontStyle:le,encoding:ge,isStandardFont:_e||!1,metadata:{}};return dt.publish("addFont",{font:ze,instance:this}),St[ze.id]=ze,or(ze),ze.id},Ai=v.__private__.pdfEscape=v.pdfEscape=function(_,P){return(function(le,ge){var _e,ze,Ke,yt,Tt,Wt,nn,wn,lr;if(Ke=(ge=ge||{}).sourceEncoding||"Unicode",Tt=ge.outputEncoding,(ge.autoencode||Tt)&&St[ht].metadata&&St[ht].metadata[Ke]&&St[ht].metadata[Ke].encoding&&(yt=St[ht].metadata[Ke].encoding,!Tt&&St[ht].encoding&&(Tt=St[ht].encoding),!Tt&&yt.codePages&&(Tt=yt.codePages[0]),typeof Tt=="string"&&(Tt=yt[Tt]),Tt)){for(nn=!1,Wt=[],_e=0,ze=le.length;_e<ze;_e++)(wn=Tt[le.charCodeAt(_e)])?Wt.push(String.fromCharCode(wn)):Wt.push(le[_e]),Wt[_e].charCodeAt(0)>>8&&(nn=!0);le=Wt.join("")}for(_e=le.length;nn===void 0&&_e!==0;)le.charCodeAt(_e-1)>>8&&(nn=!0),_e--;if(!nn)return le;for(Wt=ge.noBOM?[]:[254,255],_e=0,ze=le.length;_e<ze;_e++){if((lr=(wn=le.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wt.push(lr),Wt.push(wn-(lr<<8))}return String.fromCharCode.apply(void 0,Wt)})(_,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zi=v.__private__.beginPage=function(_){Ge[++Qe]=[],et[Qe]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},_c(Qe),st(Ge[z])},js=function(_,P){var le,ge,_e;switch(t=P||t,typeof _=="string"&&(le=C(_.toLowerCase()),Array.isArray(le)&&(ge=le[0],_e=le[1])),Array.isArray(_)&&(ge=_[0]*Re,_e=_[1]*Re),isNaN(ge)&&(ge=a[0],_e=a[1]),(ge>14400||_e>14400)&&(tr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),_e=Math.min(14400,_e)),a=[ge,_e],t.substr(0,1)){case"l":_e>ge&&(a=[_e,ge]);break;case"p":ge>_e&&(a=[_e,ge])}Zi(a),zt(zo),W(Qi),Cl!==0&&W(Cl+" J"),Wr!==0&&W(Wr+" j"),dt.publish("addPage",{pageNumber:Qe})},wc=function(_){_>0&&_<=Qe&&(Ge.splice(_,1),et.splice(_,1),Qe--,z>Qe&&(z=Qe),this.setPage(z))},_c=function(_){_>0&&_<=Qe&&(z=_)},Sc=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Ge.length-1},vu=function(_,P,le){var ge,_e=void 0;return le=le||{},_=_!==void 0?_:St[ht].fontName,P=P!==void 0?P:St[ht].fontStyle,ge=_.toLowerCase(),Lt[ge]!==void 0&&Lt[ge][P]!==void 0?_e=Lt[ge][P]:Lt[_]!==void 0&&Lt[_][P]!==void 0?_e=Lt[_][P]:le.disableWarning===!1&&tr.warn("Unable to look up font label for font '"+_+"', '"+P+"'. Refer to getFontList() for available fonts."),_e||le.noFallback||(_e=Lt.times[P])==null&&(_e=Lt.times.normal),_e},$i=v.__private__.putInfo=function(){var _=Yt(),P=function(ge){return ge};for(var le in m!==null&&(P=Fr.encryptor(_,0)),W("<<"),W("/Producer ("+Ai(P("jsPDF "+Ot.version))+")"),Mt)Mt.hasOwnProperty(le)&&Mt[le]&&W("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Ai(P(Mt[le]))+")");W("/CreationDate ("+Ai(P(he))+")"),W(">>"),W("endobj")},xa=v.__private__.putCatalog=function(_){var P=(_=_||{}).rootDictionaryObjId||Qt;switch(Yt(),W("<<"),W("/Type /Catalog"),W("/Pages "+P+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":W("/OpenAction [3 0 R /FitH null]");break;case"fullheight":W("/OpenAction [3 0 R /FitV null]");break;case"fullpage":W("/OpenAction [3 0 R /Fit]");break;case"original":W("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+nt;le.substr(le.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&W("/OpenAction [3 0 R /XYZ null null "+k(nt)+"]")}switch(Ft||(Ft="continuous"),Ft){case"continuous":W("/PageLayout /OneColumn");break;case"single":W("/PageLayout /SinglePage");break;case"two":case"twoleft":W("/PageLayout /TwoColumnLeft");break;case"tworight":W("/PageLayout /TwoColumnRight")}ft&&W("/PageMode /"+ft),dt.publish("putCatalog"),W(">>"),W("endobj")},Ds=v.__private__.putTrailer=function(){W("trailer"),W("<<"),W("/Size "+(se+1)),W("/Root "+se+" 0 R"),W("/Info "+(se-1)+" 0 R"),m!==null&&W("/Encrypt "+Fr.oid+" 0 R"),W("/ID [ <"+Q+"> <"+Q+"> ]"),W(">>")},Mn=v.__private__.putHeader=function(){W("%PDF-"+S),W("%")},Ac=v.__private__.putXRef=function(){var _="0000000000";W("xref"),W("0 "+(se+1)),W("0000000000 65535 f ");for(var P=1;P<=se;P++)typeof de[P]=="function"?W((_+de[P]()).slice(-10)+" 00000 n "):de[P]!==void 0?W((_+de[P]).slice(-10)+" 00000 n "):W("0000000000 00000 n ")},ea=v.__private__.buildDocument=function(){var _;se=0,we=0,pe=[],de=[],Ae=[],Qt=cn(),Xt=cn(),st(pe),dt.publish("buildDocument"),Mn(),ls(),(function(){dt.publish("putAdditionalObjects");for(var le=0;le<Ae.length;le++){var ge=Ae[le];Kt(ge.objId,!0),W(ge.content),W("endobj")}dt.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var le in St)St.hasOwnProperty(le)&&(y===!1||y===!0&&w.hasOwnProperty(le))&&Ri(St[le])})(),(function(){var le;for(le in Dt)Dt.hasOwnProperty(le)&&Js(Dt[le])})(),(function(){for(var le in Ne)Ne.hasOwnProperty(le)&&Os(Ne[le])})(),(function(le){var ge;for(ge in vt)vt.hasOwnProperty(ge)&&(vt[ge]instanceof tu?Ii(vt[ge]):vt[ge]instanceof xh&&Yi(vt[ge],le))})(_),dt.publish("putResources"),_.forEach(Xi),Xi({resourcesOid:Xt,objectOid:Number.MAX_SAFE_INTEGER}),dt.publish("postPutResources"),m!==null&&(Fr.oid=Yt(),W("<<"),W("/Filter /Standard"),W("/V "+Fr.v),W("/R "+Fr.r),W("/U <"+Fr.toHexString(Fr.U)+">"),W("/O <"+Fr.toHexString(Fr.O)+">"),W("/P "+Fr.P),W(">>"),W("endobj")),$i(),xa();var P=we;return Ac(),Ds(),W("startxref"),W(""+P),W("%%EOF"),st(Ge[z]),pe.join(`
`)},lo=v.__private__.getBlob=function(_){return new Blob([at(_)],{type:"application/pdf"})},Nc=v.output=v.__private__.output=(Gt=function(_,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",_){case void 0:return ea();case"save":v.save(P.filename);break;case"arraybuffer":return at(ea());case"blob":return lo(ea());case"bloburi":case"bloburl":if(en.URL!==void 0&&typeof en.URL.createObjectURL=="function")return en.URL&&en.URL.createObjectURL(lo(ea()))||void 0;tr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",ge=ea();try{le=ky(ge)}catch{le=ky(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+P.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(en)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(_e=P.pdfObjectUrl,ze="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",yt=en.open();return yt!==null&&yt.document.write(Ke),yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(en)==="[object Window]"){var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Wt=en.open();if(Wt!==null){Wt.document.write(Tt);var nn=this;Wt.document.documentElement.querySelector("#pdfViewer").onload=function(){Wt.document.title=P.filename,Wt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nn.output("bloburl"))}}return Wt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(en)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',lr=en.open();if(lr!==null&&(lr.document.write(wn),lr.document.title=P.filename),lr||typeof safari>"u")return lr;break;case"datauri":case"dataurl":return en.document.location.href=this.output("datauristring",P);default:return null}},Gt.foo=function(){try{return Gt.apply(this,arguments)}catch(le){var _=le.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var P="Error in function "+_.split(`
`)[0].split("<")[0]+": "+le.message;if(!en.console)throw new Error(P);en.console.error(P,le),en.alert&&alert(P)}},Gt.foo.bar=Gt,Gt.foo),Ni=function(_){return Array.isArray($t)===!0&&$t.indexOf(_)>-1};switch(i){case"pt":Re=1;break;case"mm":Re=72/25.4;break;case"cm":Re=72/2.54;break;case"in":Re=72;break;case"px":Re=Ni("px_scaling")==1?.75:96/72;break;case"pc":case"em":Re=12;break;case"ex":Re=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Re=i}var Fr=null;Y(),ce();var Er=v.__private__.getPageInfo=v.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:et[_].objId,pageNumber:_,pageContext:et[_]}},Al=v.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in et)if(et[P].objId===_)break;return Er(P)},bu=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:et[z].objId,pageNumber:z,pageContext:et[z]}};v.addPage=function(){return js.apply(this,arguments),this},v.setPage=function(){return _c.apply(this,arguments),st.call(this,Ge[z]),this},v.insertPage=function(_){return this.addPage(),this.movePage(z,_),this},v.movePage=function(_,P){var le,ge;if(_>P){le=Ge[_],ge=et[_];for(var _e=_;_e>P;_e--)Ge[_e]=Ge[_e-1],et[_e]=et[_e-1];Ge[P]=le,et[P]=ge,this.setPage(P)}else if(_<P){le=Ge[_],ge=et[_];for(var ze=_;ze<P;ze++)Ge[ze]=Ge[ze+1],et[ze]=et[ze+1];Ge[P]=le,et[P]=ge,this.setPage(P)}return this},v.deletePage=function(){return wc.apply(this,arguments),this},v.__private__.text=v.text=function(_,P,le,ge,_e){var ze,Ke,yt,Tt,Wt,nn,wn,lr,Sr,Hn=(ge=ge||{}).scope||this;if(typeof _=="number"&&typeof P=="number"&&(typeof le=="string"||Array.isArray(le))){var Br=le;le=P,P=_,_=Br}if(arguments[3]instanceof Ue==0?(yt=arguments[4],Tt=arguments[5],Pn(wn=arguments[3])==="object"&&wn!==null||(typeof yt=="string"&&(Tt=yt,yt=null),typeof wn=="string"&&(Tt=wn,wn=null),typeof wn=="number"&&(yt=wn,wn=null),ge={flags:wn,angle:yt,align:Tt})):(V("The transform parameter of text() with a Matrix value"),Sr=_e),isNaN(P)||isNaN(le)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Hn;var kr,ni="",Ea=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:wa,Vs=Hn.internal.scaleFactor;function ka(Ln){return Ln=Ln.split("	").join(Array(ge.TabLen||9).join(" ")),Ai(Ln,wn)}function Dc(Ln){for(var _n,Gn=Ln.concat(),Nr=[],ua=Gn.length;ua--;)typeof(_n=Gn.shift())=="string"?Nr.push(_n):Array.isArray(Ln)&&(_n.length===1||_n[1]===void 0&&_n[2]===void 0)?Nr.push(_n[0]):Nr.push([_n[0],_n[1],_n[2]]);return Nr}function El(Ln,_n){var Gn;if(typeof Ln=="string")Gn=_n(Ln)[0];else if(Array.isArray(Ln)){for(var Nr,ua,zs=Ln.concat(),Xo=[],Vc=zs.length;Vc--;)typeof(Nr=zs.shift())=="string"?Xo.push(_n(Nr)[0]):Array.isArray(Nr)&&typeof Nr[0]=="string"&&(ua=_n(Nr[0],Nr[1],Nr[2]),Xo.push([ua[0],ua[1],ua[2]]));Gn=Xo}return Gn}var ra=!1,Fs=!0;if(typeof _=="string")ra=!0;else if(Array.isArray(_)){var Wo=_.concat();Ke=[];for(var Ma,Yr=Wo.length;Yr--;)(typeof(Ma=Wo.shift())!="string"||Array.isArray(Ma)&&typeof Ma[0]!="string")&&(Fs=!1);ra=Fs}if(ra===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var uo=Te/Hn.internal.scaleFactor,ho=uo*(Ea-1);switch(ge.baseline){case"bottom":le-=ho;break;case"top":le+=uo-ho;break;case"hanging":le+=uo-2*ho;break;case"middle":le+=uo/2-ho}if((nn=ge.maxWidth||0)>0&&(typeof _=="string"?_=Hn.splitTextToSize(_,nn):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Ln,_n){return Ln.concat(Hn.splitTextToSize(_n,nn))},[]))),ze={text:_,x:P,y:le,options:ge,mutex:{pdfEscape:Ai,activeFontKey:ht,fonts:St,activeFontSize:Te}},dt.publish("preProcessText",ze),_=ze.text,yt=(ge=ze.options).angle,Sr instanceof Ue==0&&yt&&typeof yt=="number"){yt*=Math.PI/180,ge.rotationDirection===0&&(yt=-yt),q===R&&(yt=-yt);var kl=Math.cos(yt),ia=Math.sin(yt);Sr=new Ue(kl,ia,-ia,kl,0,0)}else yt&&yt instanceof Ue&&(Sr=yt);q!==R||Sr||(Sr=gt),(Wt=ge.charSpace||cs)!==void 0&&(ni+=j(ne(Wt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(lr=ge.horizontalScale)!==void 0&&(ni+=j(100*lr)+` Tz
`),ge.lang;var Ti=-1,La=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Ml=Hn.internal.getCurrentPageInfo().pageContext;switch(La){case 0:case!1:case"fill":Ti=0;break;case 1:case!0:case"stroke":Ti=1;break;case 2:case"fillThenStroke":Ti=2;break;case 3:case"invisible":Ti=3;break;case 4:case"fillAndAddForClipping":Ti=4;break;case 5:case"strokeAndAddPathForClipping":Ti=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ti=6;break;case 7:case"addToPathForClipping":Ti=7}var Rc=Ml.usedRenderingMode!==void 0?Ml.usedRenderingMode:-1;Ti!==-1?ni+=Ti+` Tr
`:Rc!==-1&&(ni+=`0 Tr
`),Ti!==-1&&(Ml.usedRenderingMode=Ti),Tt=ge.align||"left";var Ji,Bs=Te*Ea,Oa=Hn.internal.pageSize.getWidth(),Ic=St[ht];Wt=ge.charSpace||cs,nn=ge.maxWidth||0,wn=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var qs=[],fo=function(Ln){return Hn.getStringUnitWidth(Ln,{font:Ic,charSpace:Wt,fontSize:Te,doKerning:!1})*Te/Vs};if(Object.prototype.toString.call(_)==="[object Array]"){var Fi;Ke=Dc(_),Tt!=="left"&&(Ji=Ke.map(fo));var Ei,sa=0;if(Tt==="right"){P-=Ji[0],_=[],Yr=Ke.length;for(var aa=0;aa<Yr;aa++)aa===0?(Ei=Ki(P),Fi=ti(le)):(Ei=ne(sa-Ji[aa]),Fi=-Bs),_.push([Ke[aa],Ei,Fi]),sa=Ji[aa]}else if(Tt==="center"){P-=Ji[0]/2,_=[],Yr=Ke.length;for(var ja=0;ja<Yr;ja++)ja===0?(Ei=Ki(P),Fi=ti(le)):(Ei=ne((sa-Ji[ja])/2),Fi=-Bs),_.push([Ke[ja],Ei,Fi]),sa=Ji[ja]}else if(Tt==="left"){_=[],Yr=Ke.length;for(var Ll=0;Ll<Yr;Ll++)_.push(Ke[Ll])}else if(Tt==="justify"&&Ic.encoding==="Identity-H"){_=[],Yr=Ke.length,nn=nn!==0?nn:Oa;for(var Ol=0,Ar=0;Ar<Yr;Ar++)if(Fi=Ar===0?ti(le):-Bs,Ei=Ar===0?Ki(P):Ol,Ar<Yr-1){var Tu=ne((nn-Ji[Ar])/(Ke[Ar].split(" ").length-1)),oa=Ke[Ar].split(" ");_.push([oa[0]+" ",Ei,Fi]),Ol=0;for(var la=1;la<oa.length;la++){var ri=(fo(oa[la-1]+" "+oa[la])-fo(oa[la]))*Vs+Tu;la==oa.length-1?_.push([oa[la],ri,0]):_.push([oa[la]+" ",ri,0]),Ol-=ri}}else _.push([Ke[Ar],Ei,Fi]);_.push(["",Ol,0])}else{if(Tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Yr=Ke.length,nn=nn!==0?nn:Oa,Ar=0;Ar<Yr;Ar++){Fi=Ar===0?ti(le):-Bs,Ei=Ar===0?Ki(P):0;var Da=Ke[Ar].split(" ").length-1,jl=Da>0?(nn-Ji[Ar])/Da:0;Ar<Yr-1?qs.push(j(ne(jl))):qs.push(0),_.push([Ke[Ar],Ei,Fi])}}}(typeof ge.R2L=="boolean"?ge.R2L:lt)===!0&&(_=El(_,function(Ln,_n,Gn){return[Ln.split("").reverse().join(""),_n,Gn]})),ze={text:_,x:P,y:le,options:ge,mutex:{pdfEscape:Ai,activeFontKey:ht,fonts:St,activeFontSize:Te}},dt.publish("postProcessText",ze),_=ze.text,kr=ze.mutex.isHex||!1;var Dl=St[ht].encoding;Dl!=="WinAnsiEncoding"&&Dl!=="StandardEncoding"||(_=El(_,function(Ln,_n,Gn){return[ka(Ln),_n,Gn]})),Ke=Dc(_),_=[];for(var Ra,Ia,ca,Yo=Array.isArray(Ke[0])?1:0,es="",Va=function(Ln,_n,Gn){var Nr="";return Gn instanceof Ue?(Gn=typeof ge.angle=="number"?ut(Gn,new Ue(1,0,0,1,Ln,_n)):ut(new Ue(1,0,0,1,Ln,_n),Gn),q===R&&(Gn=ut(new Ue(1,0,0,-1,0,0),Gn)),Nr=Gn.join(" ")+` Tm
`):Nr=j(Ln)+" "+j(_n)+` Td
`,Nr},pi=0;pi<Ke.length;pi++){switch(es="",Yo){case 1:ca=(kr?"<":"(")+Ke[pi][0]+(kr?">":")"),Ra=parseFloat(Ke[pi][1]),Ia=parseFloat(Ke[pi][2]);break;case 0:ca=(kr?"<":"(")+Ke[pi]+(kr?">":")"),Ra=Ki(P),Ia=ti(le)}qs!==void 0&&qs[pi]!==void 0&&(es=qs[pi]+` Tw
`),pi===0?_.push(es+Va(Ra,Ia,Sr)+ca):Yo===0?_.push(es+ca):Yo===1&&_.push(es+Va(Ra,Ia,Sr)+ca)}_=Yo===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var hs=`BT
/`;return hs+=ht+" "+Te+` Tf
`,hs+=j(Te*Ea)+` TL
`,hs+=ta+`
`,hs+=ni,hs+=_,W(hs+="ET"),w[ht]=!0,Hn};var Cc=v.__private__.clip=v.clip=function(_){return W(_==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Cc("evenodd")},v.__private__.discardPath=v.discardPath=function(){return W("n"),this};var Ci=v.__private__.isValidStyle=function(_){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(P=!0),P};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(_){return Ci(_)&&(d=_),this};var Tc=v.__private__.getStyle=v.getStyle=function(_){var P=d;switch(_){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=_}return P},Ec=v.close=function(){return W("h"),this};v.stroke=function(){return W("S"),this},v.fill=function(_){return Rs("f",_),this},v.fillEvenOdd=function(_){return Rs("f*",_),this},v.fillStroke=function(_){return Rs("B",_),this},v.fillStrokeEvenOdd=function(_){return Rs("B*",_),this};var Rs=function(_,P){Pn(P)==="object"?xu(P,_):W(_)},qo=function(_){_===null||q===R&&_===void 0||(_=Tc(_),W(_))};function yu(_,P,le,ge,_e){var ze=new xh(P||this.boundingBox,le||this.xStep,ge||this.yStep,this.gState,_e||this.matrix);ze.stream=this.stream;var Ke=_+"$$"+this.cloneIndex+++"$$";return Ct(Ke,ze),ze}var xu=function(_,P){var le=dn[_.key],ge=vt[le];if(ge instanceof tu)W("q"),W(kc(P)),ge.gState&&v.setGState(ge.gState),W(_.matrix.toString()+" cm"),W("/"+le+" sh"),W("Q");else if(ge instanceof xh){var _e=new Ue(1,0,0,-1,0,Ta());_.matrix&&(_e=_e.multiply(_.matrix||gt),le=yu.call(ge,_.key,_.boundingBox,_.xStep,_.yStep,_e).id),W("q"),W("/Pattern cs"),W("/"+le+" scn"),ge.gState&&v.setGState(ge.gState),W(P),W("Q")}},kc=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Mc=v.moveTo=function(_,P){return W(j(ne(_))+" "+j($(P))+" m"),this},wu=v.lineTo=function(_,P){return W(j(ne(_))+" "+j($(P))+" l"),this},Vi=v.curveTo=function(_,P,le,ge,_e,ze){return W([j(ne(_)),j($(P)),j(ne(le)),j($(ge)),j(ne(_e)),j($(ze)),"c"].join(" ")),this};v.__private__.line=v.line=function(_,P,le,ge,_e){if(isNaN(_)||isNaN(P)||isNaN(le)||isNaN(ge)||!Ci(_e))throw new Error("Invalid arguments passed to jsPDF.line");return q===I?this.lines([[le-_,ge-P]],_,P,[1,1],_e||"S"):this.lines([[le-_,ge-P]],_,P,[1,1]).stroke()},v.__private__.lines=v.lines=function(_,P,le,ge,_e,ze){var Ke,yt,Tt,Wt,nn,wn,lr,Sr,Hn,Br,kr,ni;if(typeof _=="number"&&(ni=le,le=P,P=_,_=ni),ge=ge||[1,1],ze=ze||!1,isNaN(P)||isNaN(le)||!Array.isArray(_)||!Array.isArray(ge)||!Ci(_e)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Mc(P,le),Ke=ge[0],yt=ge[1],Wt=_.length,Br=P,kr=le,Tt=0;Tt<Wt;Tt++)(nn=_[Tt]).length===2?(Br=nn[0]*Ke+Br,kr=nn[1]*yt+kr,wu(Br,kr)):(wn=nn[0]*Ke+Br,lr=nn[1]*yt+kr,Sr=nn[2]*Ke+Br,Hn=nn[3]*yt+kr,Br=nn[4]*Ke+Br,kr=nn[5]*yt+kr,Vi(wn,lr,Sr,Hn,Br,kr));return ze&&Ec(),qo(_e),this},v.path=function(_){for(var P=0;P<_.length;P++){var le=_[P],ge=le.c;switch(le.op){case"m":Mc(ge[0],ge[1]);break;case"l":wu(ge[0],ge[1]);break;case"c":Vi.apply(this,ge);break;case"h":Ec()}}return this},v.__private__.rect=v.rect=function(_,P,le,ge,_e){if(isNaN(_)||isNaN(P)||isNaN(le)||isNaN(ge)||!Ci(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return q===I&&(ge=-ge),W([j(ne(_)),j($(P)),j(ne(le)),j(ne(ge)),"re"].join(" ")),qo(_e),this},v.__private__.triangle=v.triangle=function(_,P,le,ge,_e,ze,Ke){if(isNaN(_)||isNaN(P)||isNaN(le)||isNaN(ge)||isNaN(_e)||isNaN(ze)||!Ci(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-_,ge-P],[_e-le,ze-ge],[_-_e,P-ze]],_,P,[1,1],Ke,!0),this},v.__private__.roundedRect=v.roundedRect=function(_,P,le,ge,_e,ze,Ke){if(isNaN(_)||isNaN(P)||isNaN(le)||isNaN(ge)||isNaN(_e)||isNaN(ze)||!Ci(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yt=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*le),ze=Math.min(ze,.5*ge),this.lines([[le-2*_e,0],[_e*yt,0,_e,ze-ze*yt,_e,ze],[0,ge-2*ze],[0,ze*yt,-_e*yt,ze,-_e,ze],[2*_e-le,0],[-_e*yt,0,-_e,-ze*yt,-_e,-ze],[0,2*ze-ge],[0,-ze*yt,_e*yt,-ze,_e,-ze]],_+_e,P,[1,1],Ke,!0),this},v.__private__.ellipse=v.ellipse=function(_,P,le,ge,_e){if(isNaN(_)||isNaN(P)||isNaN(le)||isNaN(ge)||!Ci(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*le,Ke=4/3*(Math.SQRT2-1)*ge;return Mc(_+le,P),Vi(_+le,P-Ke,_+ze,P-ge,_,P-ge),Vi(_-ze,P-ge,_-le,P-Ke,_-le,P),Vi(_-le,P+Ke,_-ze,P+ge,_,P+ge),Vi(_+ze,P+ge,_+le,P+Ke,_+le,P),qo(_e),this},v.__private__.circle=v.circle=function(_,P,le,ge){if(isNaN(_)||isNaN(P)||isNaN(le)||!Ci(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,P,le,le,ge)},v.setFont=function(_,P,le){return le&&(P=F(P,le)),ht=vu(_,P,{disableWarning:!1}),this};var Is=v.__private__.getFont=v.getFont=function(){return St[vu.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var _,P,le={};for(_ in Lt)if(Lt.hasOwnProperty(_))for(P in le[_]=[],Lt[_])Lt[_].hasOwnProperty(P)&&le[_].push(P);return le},v.addFont=function(_,P,le,ge,_e){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(le=F(le,ge)),Bo.call(this,_,P,le,_e=_e||"Identity-H")};var wa,zo=r.lineWidth||.200025,co=v.__private__.getLineWidth=v.getLineWidth=function(){return zo},zt=v.__private__.setLineWidth=v.setLineWidth=function(_){return zo=_,W(j(ne(_))+" w"),this};v.__private__.setLineDash=Ot.API.setLineDash=Ot.API.setLineDashPattern=function(_,P){if(_=_||[],P=P||0,isNaN(P)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(le){return j(ne(le))}).join(" "),P=j(ne(P)),W("["+_+"] "+P+" d"),this};var _u=v.__private__.getLineHeight=v.getLineHeight=function(){return Te*wa};v.__private__.getLineHeight=v.getLineHeight=function(){return Te*wa};var Lc=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(wa=_),this},Su=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return wa};Lc(r.lineHeight);var Ki=v.__private__.getHorizontalCoordinate=function(_){return ne(_)},ti=v.__private__.getVerticalCoordinate=function(_){return q===R?_:et[z].mediaBox.topRightY-et[z].mediaBox.bottomLeftY-ne(_)},Oc=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(_){return j(Ki(_))},Po=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(_){return j(ti(_))},Qi=r.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return ln(Qi)},v.__private__.setStrokeColor=v.setDrawColor=function(_,P,le,ge){return Qi=Fn({ch1:_,ch2:P,ch3:le,ch4:ge,pdfColorType:"draw",precision:2}),W(Qi),this};var Uo=r.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return ln(Uo)},v.__private__.setFillColor=v.setFillColor=function(_,P,le,ge){return Uo=Fn({ch1:_,ch2:P,ch3:le,ch4:ge,pdfColorType:"fill",precision:2}),W(Uo),this};var ta=r.textColor||"0 g",Au=v.__private__.getTextColor=v.getTextColor=function(){return ln(ta)};v.__private__.setTextColor=v.setTextColor=function(_,P,le,ge){return ta=Fn({ch1:_,ch2:P,ch3:le,ch4:ge,pdfColorType:"text",precision:3}),this};var cs=r.charSpace,Nl=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(cs||0)};v.__private__.setCharSpace=v.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return cs=_,this};var Cl=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(_){var P=v.CapJoinStyles[_];if(P===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cl=P,W(P+" J"),this};var Wr=0;v.__private__.setLineJoin=v.setLineJoin=function(_){var P=v.CapJoinStyles[_];if(P===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wr=P,W(P+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return W(j(ne(_))+" M"),this},v.GState=pp,v.setGState=function(_){(_=typeof _=="string"?Dt[Oe[_]]:na(null,_)).equals(ot)||(W("/"+_.id+" gs"),ot=_)};var na=function(_,P){if(!_||!Oe[_]){var le=!1;for(var ge in Dt)if(Dt.hasOwnProperty(ge)&&Dt[ge].equals(P)){le=!0;break}if(le)P=Dt[ge];else{var _e="GS"+(Object.keys(Dt).length+1).toString(10);Dt[_e]=P,P.id=_e}return _&&(Oe[_]=P.id),dt.publish("addGState",P),P}};v.addGState=function(_,P){return na(_,P),this},v.saveGraphicsState=function(){return W("q"),Bt.push({key:ht,size:Te,color:ta}),this},v.restoreGraphicsState=function(){W("Q");var _=Bt.pop();return ht=_.key,Te=_.size,ta=_.color,ot=null,this},v.setCurrentTransformationMatrix=function(_){return W(_.toString()+" cm"),this},v.comment=function(_){return W("#"+_),this};var us=function(_,P){var le=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(ze){isNaN(ze)||(le=parseFloat(ze))}});var ge=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(ze){isNaN(ze)||(ge=parseFloat(ze))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(ze){_e=ze.toString()}}),this},_a=function(_,P,le,ge){us.call(this,_,P),this.type="rect";var _e=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(Ke){isNaN(Ke)||(_e=parseFloat(Ke))}});var ze=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(Ke){isNaN(Ke)||(ze=parseFloat(Ke))}}),this},Tl=function(){this.page=Qe,this.currentPage=z,this.pages=Ge.slice(0),this.pagesContext=et.slice(0),this.x=Ye,this.y=qt,this.matrix=Nt,this.width=Aa(z),this.height=jc(z),this.outputDestination=it,this.id="",this.objectNumber=-1};Tl.prototype.restore=function(){Qe=this.page,z=this.currentPage,et=this.pagesContext,Ge=this.pages,Ye=this.x,qt=this.y,Nt=this.matrix,Go(z,this.width),Na(z,this.height),it=this.outputDestination};var Ho=function(_,P,le,ge,_e){He.push(new Tl),Qe=z=0,Ge=[],Ye=_,qt=P,Nt=_e,Zi([le,ge])};for(var Sa in v.beginFormObject=function(_,P,le,ge,_e){return Ho(_,P,le,ge,_e),this},v.endFormObject=function(_){return(function(P){if(Ie[P])He.pop().restore();else{var le=new Tl,ge="Xo"+(Object.keys(Ne).length+1).toString(10);le.id=ge,Ie[P]=ge,Ne[ge]=le,dt.publish("addFormObject",le),He.pop().restore()}})(_),this},v.doFormObject=function(_,P){var le=Ne[Ie[_]];return W("q"),W(P.toString()+" cm"),W("/"+le.id+" Do"),W("Q"),this},v.getFormObject=function(_){var P=Ne[Ie[_]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},v.save=function(_,P){return _=_||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Jc(lo(ea()),_),typeof Jc.unload=="function"&&en.setTimeout&&setTimeout(Jc.unload,911),this):new Promise(function(le,ge){try{var _e=Jc(lo(ea()),_);typeof Jc.unload=="function"&&en.setTimeout&&setTimeout(Jc.unload,911),le(_e)}catch(ze){ge(ze.message)}})},Ot.API)Ot.API.hasOwnProperty(Sa)&&(Sa==="events"&&Ot.API.events.length?(function(_,P){var le,ge,_e;for(_e=P.length-1;_e!==-1;_e--)le=P[_e][0],ge=P[_e][1],_.subscribe.apply(_,[le].concat(typeof ge=="function"?[ge]:ge))})(dt,Ot.API.events):v[Sa]=Ot.API[Sa]);function Aa(_){return et[_].mediaBox.topRightX-et[_].mediaBox.bottomLeftX}function Go(_,P){et[_].mediaBox.topRightX=P+et[_].mediaBox.bottomLeftX}function jc(_){return et[_].mediaBox.topRightY-et[_].mediaBox.bottomLeftY}function Na(_,P){et[_].mediaBox.topRightY=P+et[_].mediaBox.bottomLeftY}var Ca=v.getPageWidth=function(_){return Aa(_=_||z)/Re},Nu=v.setPageWidth=function(_,P){Go(_,P*Re)},Ta=v.getPageHeight=function(_){return jc(_=_||z)/Re},Cu=v.setPageHeight=function(_,P){Na(_,P*Re)};return v.internal={pdfEscape:Ai,getStyle:Tc,getFont:Is,getFontSize:rt,getCharSpace:Nl,getTextColor:Au,getLineHeight:_u,getLineHeightFactor:Su,getLineWidth:co,write:De,getHorizontalCoordinate:Ki,getVerticalCoordinate:ti,getCoordinateString:Oc,getVerticalCoordinateString:Po,collections:{},newObject:Yt,newAdditionalObject:ir,newObjectDeferred:cn,newObjectDeferredBegin:Kt,getFilters:Un,putStream:kn,events:dt,scaleFactor:Re,pageSize:{getWidth:function(){return Ca(z)},setWidth:function(_){Nu(z,_)},getHeight:function(){return Ta(z)},setHeight:function(_){Cu(z,_)}},encryptionOptions:m,encryption:Fr,getEncryptor:function(_){return m!==null?Fr.encryptor(_,0):function(P){return P}},output:Nc,getNumberOfPages:Sc,get pages(){return Ge},out:W,f2:k,f3:D,getPageInfo:Er,getPageInfoByObjId:Al,getCurrentPageInfo:bu,getPDFVersion:N,Point:us,Rectangle:_a,Matrix:Ue,hasHotfix:Ni},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Ca(z)},set:function(_){Nu(z,_)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Ta(z)},set:function(_){Cu(z,_)},enumerable:!0,configurable:!0}),(function(_){for(var P=0,le=$e.length;P<le;P++){var ge=Bo.call(this,_[P][0],_[P][1],_[P][2],$e[P][3],!0);y===!1&&(w[ge]=!0);var _e=_[P][0].split("-");or({id:ge,fontName:_e[0],fontStyle:_e[1]||""})}dt.publish("addFonts",{fonts:St,dictionary:Lt})}).call(v,$e),ht="F1",js(a,t),dt.publish("initialized"),v}dh.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},dh.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},dh.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},dh.prototype.processOwnerPassword=function(r,e){return lg(og(e).substr(0,5),r)},dh.prototype.encryptor=function(r,e){var t=og(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return lg(t,i)}},pp.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Pn(r)!==Pn(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;i++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Ot.API={events:[]},Ot.version="3.0.4";var Ir=Ot.API,g2=1,gu=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ch=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},an=function(r){return r.toFixed(2)},ac=function(r){return r.toFixed(5)};Ir.__acroform__={};var Ls=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},jy=function(r){return r*g2},Mo=function(r){var e=new Xw,t=_t.internal.getHeight(r)||0,i=_t.internal.getWidth(r)||0;return e.BBox=[0,0,Number(an(i)),Number(an(t))],e},lL=Ir.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},cL=Ir.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},uL=Ir.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Pr=Ir.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return uL(r,e-1)},Ur=Ir.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lL(r,e-1)},Hr=Ir.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cL(r,e-1)},hL=Ir.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,a=r[0],o=r[1],h=r[2],c=r[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=i(o+c)||0,f.upperRight_X=t(a+h)||0,f.upperRight_Y=i(o)||0,[Number(an(f.lowerLeft_X)),Number(an(f.lowerLeft_Y)),Number(an(f.upperRight_X)),Number(an(f.upperRight_Y))]},fL=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,i=cg(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+an(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Mo(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},cg=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,i={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var o=t,h=_t.internal.getHeight(r)||0;h=h<0?-h:h;var c=_t.internal.getWidth(r)||0;c=c<0?-c:c;var f=function(k,D,ne){if(k+1<a.length){var $=D+" "+a[k+1][0];return A1($,r,ne).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,m,y=A1("3",r,o).height,w=r.multiline?h-o:(h-y)/2,v=w+=2,S=0,N=0,T=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+A1(e,r,o=12).width+", FieldWidth:"+c+`
`;break}for(var C="",I=0,R=0;R<a.length;R++)if(a.hasOwnProperty(R)){var q=!1;if(a[R].length!==1&&T!==a[R].length-1){if((y+2)*(I+2)+2>h)continue e;C+=a[R][T],q=!0,N=R,R--}else{C=(C+=a[R][T]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var B=parseInt(R),Z=f(B,C,o),F=R>=a.length-1;if(Z&&!F){C+=" ",T=0;continue}if(Z||F){if(F)N=B;else if(r.multiline&&(y+2)*(I+2)+2>h)continue e}else{if(!r.multiline||(y+2)*(I+2)+2>h)continue e;N=B}}for(var j="",V=S;V<=N;V++){var H=a[V];if(r.multiline){if(V===N){j+=H[T]+" ",T=(T+1)%H.length;continue}if(V===S){j+=H[H.length-1]+" ";continue}}j+=H[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,m=A1(j,r,o).width,r.textAlign){case"right":d=c-m-2;break;case"center":d=(c-m)/2;break;default:d=2}e+=an(d)+" "+an(v)+` Td
`,e+="("+gu(j)+`) Tj
`,e+=-an(d)+` 0 Td
`,v=-(o+2),m=0,S=q?N:N+1,I++,C=""}break}return i.text=e,i.fontSize=o,i},A1=function(r,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},dL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},pL=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},mL=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ao.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(dL)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");g2=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new Zw,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];o.objId=void 0,o.hasAnnotation&&pL(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(i,a){var o=!i;for(var h in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(h)){var c=i[h],f=[],d=c.Rect;if(c.Rect&&(c.Rect=hL(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=_t.createDefaultAppearanceStream(c),Pn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=fL(c);f.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var y="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var v=c.appearanceStreamContent[w];if(y+="/"+w+" ",y+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var h in v)if(v.hasOwnProperty(h)){var S=v[h];typeof S=="function"&&(S=S.call(a,c)),y+="/"+h+" "+S+" ",a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S)}}else typeof(S=v)=="function"&&(S=S.call(a,c)),y+="/"+h+" "+S,a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S);y+=">>"}f.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(N,T){for(var C in N)if(N.hasOwnProperty(C)){var I=C,R=N[C];T.internal.newObjectDeferredBegin(R.objId,!0),Pn(R)==="object"&&typeof R.putStream=="function"&&R.putStream(),delete N[I]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},Yw=Ir.__acroform__.arrayToPdfArray=function(r,e,t){var i=function(h){return h};if(Array.isArray(r)){for(var a="[",o=0;o<r.length;o++)switch(o!==0&&(a+=" "),Pn(r[o])){case"boolean":case"number":case"object":a+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),a+="("+gu(i(r[o].toString()))+")"):a+=r[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Lm=function(r,e,t){var i=function(a){return a};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+gu(i(r))+")"},Oo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Oo.prototype.toString=function(){return this.objId+" 0 R"},Oo.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Oo.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],a=this[i];a&&(Array.isArray(a)?r.push({key:i,value:Yw(a,this.objId,this.scope)}):a instanceof Oo?(a.scope=this.scope,r.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:i,value:a}))}return r};var Xw=function(){Oo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Ls(Xw,Oo);var Zw=function(){Oo.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+gu(t(r))+")"}},set:function(t){r=t}})};Ls(Zw,Oo);var ao=function r(){Oo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Pr(e,3)},set:function(C){C?this.F=Ur(e,3):this.F=Hr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(C){i=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(C){i[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(C){i[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(C){i[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(C){i[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof mp)return;o="FieldObject"+r.FieldNum++}var C=function(I){return I};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+gu(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/g2:d},set:function(C){d=C}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(C){m=C}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof mp||this instanceof au))return Lm(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=C}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof _i==0?Lm(w,this.objId,this.scope):w},set:function(C){C=C.toString(),w=this instanceof _i==0?C.substr(0,1)==="("?ch(C.substr(1,C.length-2)):ch(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof _i==1?ch(w.substr(1,w.length-1)):w},set:function(C){C=C.toString(),w=this instanceof _i==1?"/"+C:C}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof _i==0?Lm(v,this.objId,this.scope):v},set:function(C){C=C.toString(),v=this instanceof _i==0?C.substr(0,1)==="("?ch(C.substr(1,C.length-2)):ch(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof _i==1?ch(v.substr(1,v.length-1)):v},set:function(C){C=C.toString(),v=this instanceof _i==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(C){C=!!C,N=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(C){S=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,1)},set:function(C){C?this.Ff=Ur(this.Ff,1):this.Ff=Hr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,2)},set:function(C){C?this.Ff=Ur(this.Ff,2):this.Ff=Hr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,3)},set:function(C){C?this.Ff=Ur(this.Ff,3):this.Ff=Hr(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');T=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(T){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};Ls(ao,Oo);var Ah=function(){ao.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Yw(e,this.objId,this.scope)},set:function(t){var i,a;a=[],typeof(i=t)=="string"&&(a=(function(o,h,c){c||(c=1);for(var f,d=[];f=h.exec(o);)d.push(f[c]);return d})(i,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,18)},set:function(t){t?this.Ff=Ur(this.Ff,18):this.Ff=Hr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Ur(this.Ff,19):this.Ff=Hr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,20)},set:function(t){t?(this.Ff=Ur(this.Ff,20),e.sort()):this.Ff=Hr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,22)},set:function(t){t?this.Ff=Ur(this.Ff,22):this.Ff=Hr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,23)},set:function(t){t?this.Ff=Ur(this.Ff,23):this.Ff=Hr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,27)},set:function(t){t?this.Ff=Ur(this.Ff,27):this.Ff=Hr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ls(Ah,ao);var Nh=function(){Ah.call(this),this.fontName="helvetica",this.combo=!1};Ls(Nh,Ah);var Ch=function(){Nh.call(this),this.combo=!0};Ls(Ch,Nh);var R1=function(){Ch.call(this),this.edit=!0};Ls(R1,Ch);var _i=function(){ao.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,15)},set:function(t){t?this.Ff=Ur(this.Ff,15):this.Ff=Hr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,16)},set:function(t){t?this.Ff=Ur(this.Ff,16):this.Ff=Hr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,17)},set:function(t){t?this.Ff=Ur(this.Ff,17):this.Ff=Hr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,26)},set:function(t){t?this.Ff=Ur(this.Ff,26):this.Ff=Hr(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,a=[];for(i in a.push("<<"),e)a.push("/"+i+" ("+gu(t(e[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Pn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Ls(_i,ao);var I1=function(){_i.call(this),this.pushButton=!0};Ls(I1,_i);var Th=function(){_i.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Ls(Th,_i);var mp=function(){var r,e;ao.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,h=[];for(o in h.push("<<"),i)h.push("/"+o+" ("+gu(a(i[o]))+")");return h.push(">>"),h.join(`
`)},set:function(a){Pn(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ls(mp,ao),Th.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Th.prototype.createOption=function(r){var e=new mp;return e.Parent=this,e.optionName=r,this.Kids.push(e),gL.call(this.scope,e),e};var V1=function(){_i.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};Ls(V1,_i);var au=function(){ao.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,13)},set:function(e){e?this.Ff=Ur(this.Ff,13):this.Ff=Hr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,21)},set:function(e){e?this.Ff=Ur(this.Ff,21):this.Ff=Hr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,23)},set:function(e){e?this.Ff=Ur(this.Ff,23):this.Ff=Hr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,24)},set:function(e){e?this.Ff=Ur(this.Ff,24):this.Ff=Hr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,25)},set:function(e){e?this.Ff=Ur(this.Ff,25):this.Ff=Hr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,26)},set:function(e){e?this.Ff=Ur(this.Ff,26):this.Ff=Hr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ls(au,ao);var F1=function(){au.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Pr(this.Ff,14)},set:function(r){r?this.Ff=Ur(this.Ff,14):this.Ff=Hr(this.Ff,14)}}),this.password=!0};Ls(F1,au);var _t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[],i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),o=cg(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+an(_t.internal.getWidth(r))+" "+an(_t.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+an(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Mo(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=[],o=_t.internal.getHeight(r),h=_t.internal.getWidth(r),c=cg(r,r.caption);return a.push("1 g"),a.push("0 0 "+an(h)+" "+an(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+an(h-1)+" "+an(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+an(c.fontSize)+" Tf "+i),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(_t.internal.getWidth(r))+" "+an(_t.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=_t.RadioButton.Circle.YesNormal,e.D[r]=_t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Mo(r);e.scope=r.scope;var t=[],i=_t.internal.getWidth(r)<=_t.internal.getHeight(r)?_t.internal.getWidth(r)/4:_t.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=_t.internal.Bezier_C,o=Number((i*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ac(_t.internal.getWidth(r)/2)+" "+ac(_t.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[],i=_t.internal.getWidth(r)<=_t.internal.getHeight(r)?_t.internal.getWidth(r)/4:_t.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*_t.internal.Bezier_C).toFixed(5)),h=Number((i*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ac(_t.internal.getWidth(r)/2)+" "+ac(_t.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ac(_t.internal.getWidth(r)/2)+" "+ac(_t.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+h+" "+h+" "+i+" 0 "+i+" c"),t.push("-"+h+" "+i+" -"+i+" "+h+" -"+i+" 0 c"),t.push("-"+i+" -"+h+" -"+h+" -"+i+" 0 -"+i+" c"),t.push(h+" -"+i+" "+i+" -"+h+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[],i=_t.internal.getWidth(r)<=_t.internal.getHeight(r)?_t.internal.getWidth(r)/4:_t.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*_t.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ac(_t.internal.getWidth(r)/2)+" "+ac(_t.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=_t.RadioButton.Cross.YesNormal,e.D[r]=_t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Mo(r);e.scope=r.scope;var t=[],i=_t.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+an(_t.internal.getWidth(r)-2)+" "+an(_t.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(an(i.x1.x)+" "+an(i.x1.y)+" m"),t.push(an(i.x2.x)+" "+an(i.x2.y)+" l"),t.push(an(i.x4.x)+" "+an(i.x4.y)+" m"),t.push(an(i.x3.x)+" "+an(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=_t.internal.calculateCross(r),i=[];return i.push("0.749023 g"),i.push("0 0 "+an(_t.internal.getWidth(r))+" "+an(_t.internal.getHeight(r))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+an(_t.internal.getWidth(r)-2)+" "+an(_t.internal.getHeight(r)-2)+" re"),i.push("W"),i.push("n"),i.push(an(t.x1.x)+" "+an(t.x1.y)+" m"),i.push(an(t.x2.x)+" "+an(t.x2.y)+" l"),i.push(an(t.x4.x)+" "+an(t.x4.y)+" m"),i.push(an(t.x3.x)+" "+an(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=Mo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(_t.internal.getWidth(r))+" "+an(_t.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};_t.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=_t.internal.getWidth(r),t=_t.internal.getHeight(r),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},_t.internal.getWidth=function(r){var e=0;return Pn(r)==="object"&&(e=jy(r.Rect[2])),e},_t.internal.getHeight=function(r){var e=0;return Pn(r)==="object"&&(e=jy(r.Rect[3])),e};var gL=Ir.addField=function(r){if(mL(this,r),!(r instanceof ao))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Ir.AcroFormChoiceField=Ah,Ir.AcroFormListBox=Nh,Ir.AcroFormComboBox=Ch,Ir.AcroFormEditBox=R1,Ir.AcroFormButton=_i,Ir.AcroFormPushButton=I1,Ir.AcroFormRadioButton=Th,Ir.AcroFormCheckBox=V1,Ir.AcroFormTextField=au,Ir.AcroFormPasswordField=F1,Ir.AcroFormAppearance=_t,Ir.AcroForm={ChoiceField:Ah,ListBox:Nh,ComboBox:Ch,EditBox:R1,Button:_i,PushButton:I1,RadioButton:Th,CheckBox:V1,TextField:au,PasswordField:F1,Appearance:_t},Ot.AcroForm={ChoiceField:Ah,ListBox:Nh,ComboBox:Ch,EditBox:R1,Button:_i,PushButton:I1,RadioButton:Th,CheckBox:V1,TextField:au,PasswordField:F1,Appearance:_t};Ot.AcroForm;function $w(r){return r.reduce(function(e,t,i){return e[t]=i,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(k,D){var ne,$,he,Q,K,ce=t;if((D=D||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(Z(k))for(K in i)for(he=i[K],ne=0;ne<he.length;ne+=1){for(Q=!0,$=0;$<he[ne].length;$+=1)if(he[ne][$]!==void 0&&he[ne][$]!==k[$]){Q=!1;break}if(Q===!0){ce=K;break}}else for(K in i)for(he=i[K],ne=0;ne<he.length;ne+=1){for(Q=!0,$=0;$<he[ne].length;$+=1)if(he[ne][$]!==void 0&&he[ne][$]!==k.charCodeAt($)){Q=!1;break}if(Q===!0){ce=K;break}}return ce===t&&D!==t&&(ce=D),ce},o=function k(D){for(var ne=this.internal.write,$=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:D.width}),Q.push({key:"Height",value:D.height}),D.colorSpace===C.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===C.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var K="",ce=0,fe=D.transparency.length;ce<fe;ce++)K+=D.transparency[ce]+" "+D.transparency[ce]+" ";Q.push({key:"Mask",value:"["+K+"]"})}D.sMask!==void 0&&Q.push({key:"SMask",value:D.objectId+1+" 0 R"});var xe=D.filter!==void 0?["/"+D.filter]:void 0;if($({data:D.data,additionalKeyValues:Q,alreadyAppliedFilters:xe,objectId:D.objectId}),ne("endobj"),"sMask"in D&&D.sMask!==void 0){var Y,L=(Y=D.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:D.bitsPerComponent,z={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:D.sMask};"filter"in D&&(z.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(D.width),z.filter=D.filter),k.call(this,z)}if(D.colorSpace===C.INDEXED){var J=this.internal.newObject();$({data:j(new Uint8Array(D.palette)),objectId:J}),ne("endobj")}},h=function(){var k=this.internal.collections[e+"images"];for(var D in k)o.call(this,k[D])},c=function(){var k,D=this.internal.collections[e+"images"],ne=this.internal.write;for(var $ in D)ne("/I"+(k=D[$]).index,k.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var k=this.internal.collections[e+"images"];return f.call(this),k},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(k){return typeof r["process"+k.toUpperCase()]=="function"},w=function(k){return Pn(k)==="object"&&k.nodeType===1},v=function(k,D){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var ne=""+k.getAttribute("src");if(ne.indexOf("data:image/")===0)return D1(unescape(ne).split("base64,").pop());var $=r.loadFile(ne,!0);if($!==void 0)return $}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var he;switch(D){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;default:he="image/jpeg"}return D1(k.toDataURL(he,1).split("base64,").pop())}},S=function(k){var D=this.internal.collections[e+"images"];if(D){for(var ne in D)if(k===D[ne].alias)return D[ne]}},N=function(k,D,ne){return k||D||(k=-96,D=-96),k<0&&(k=-1*ne.width*72/k/this.internal.scaleFactor),D<0&&(D=-1*ne.height*72/D/this.internal.scaleFactor),k===0&&(k=D*ne.width/ne.height),D===0&&(D=k*ne.height/ne.width),[k,D]},T=function(k,D,ne,$,he,Q){var K=N.call(this,ne,$,he),ce=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,xe=d.call(this);if(ne=K[0],$=K[1],xe[he.index]=he,Q){Q*=Math.PI/180;var Y=Math.cos(Q),L=Math.sin(Q),z=function(ie){return ie.toFixed(4)},J=[z(Y),z(L),z(-1*L),z(Y),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,ce(k),fe(D+$),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ce(ne),"0","0",ce($),"0","0","cm"].join(" "))):this.internal.write([ce(ne),"0","0",ce($),ce(k),fe(D+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},C=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var I=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},R=r.__addimage__.sHashCode=function(k){var D,ne,$=0;if(typeof k=="string")for(ne=k.length,D=0;D<ne;D++)$=($<<5)-$+k.charCodeAt(D),$|=0;else if(Z(k))for(ne=k.byteLength/2,D=0;D<ne;D++)$=($<<5)-$+k[D],$|=0;return $},q=r.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var D=!0;return k.length===0&&(D=!1),k.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(D=!1),D},B=r.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var D=k.indexOf(",");return D<0?null:k.substring(0,D).trim().endsWith("base64")?k.substring(D+1):null};r.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var Z=r.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},F=r.__addimage__.binaryStringToUint8Array=function(k){for(var D=k.length,ne=new Uint8Array(D),$=0;$<D;$++)ne[$]=k.charCodeAt($);return ne},j=r.__addimage__.arrayBufferToBinaryString=function(k){for(var D="",ne=Z(k)?k:new Uint8Array(k),$=0;$<ne.length;$+=8192)D+=String.fromCharCode.apply(null,ne.subarray($,$+8192));return D};r.addImage=function(){var k,D,ne,$,he,Q,K,ce,fe;if(typeof arguments[1]=="number"?(D=t,ne=arguments[1],$=arguments[2],he=arguments[3],Q=arguments[4],K=arguments[5],ce=arguments[6],fe=arguments[7]):(D=arguments[1],ne=arguments[2],$=arguments[3],he=arguments[4],Q=arguments[5],K=arguments[6],ce=arguments[7],fe=arguments[8]),Pn(k=arguments[0])==="object"&&!w(k)&&"imageData"in k){var xe=k;k=xe.imageData,D=xe.format||D||t,ne=xe.x||ne||0,$=xe.y||$||0,he=xe.w||xe.width||he,Q=xe.h||xe.height||Q,K=xe.alias||K,ce=xe.compression||ce,fe=xe.rotation||xe.angle||fe}var Y=this.internal.getFilters();if(ce===void 0&&Y.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(ne)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var L=V.call(this,k,D,K,ce);return T.call(this,ne,$,he,Q,L,fe),this};var V=function(k,D,ne,$){var he,Q,K;if(typeof k=="string"&&a(k)===t){k=unescape(k);var ce=H(k,!1);(ce!==""||(ce=r.loadFile(k,!0))!==void 0)&&(k=ce)}if(w(k)&&(k=v(k,D)),D=a(k,D),!y(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((K=ne)==null||K.length===0)&&(ne=(function(fe){return typeof fe=="string"||Z(fe)?R(fe):Z(fe.data)?R(fe.data):null})(k)),(he=S.call(this,ne))||(k instanceof Uint8Array||D==="RGBA"||(Q=k,k=F(k)),he=this["process"+D.toUpperCase()](k,m.call(this),ne,(function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in r.image_compression?fe:I.NONE})($),Q)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},H=r.__addimage__.convertBase64ToBinaryString=function(k,D){D=typeof D!="boolean"||D;var ne,$="";if(typeof k=="string"){var he;ne=(he=B(k))!==null&&he!==void 0?he:k;try{$=D1(ne)}catch(Q){if(D)throw q(ne)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};r.getImageProperties=function(k){var D,ne,$="";if(w(k)&&(k=v(k)),typeof k=="string"&&a(k)===t&&(($=H(k,!1))===""&&($=r.loadFile(k)||""),k=$),ne=a(k),!y(ne))throw new Error("addImage does not support files of type '"+ne+"', please ensure that a plugin for '"+ne+"' support is added.");if(k instanceof Uint8Array||(k=F(k)),!(D=this["process"+ne.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=ne,D}})(Ot.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Ot.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var i,a,o,h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,m=!1,y=0;y<d.length&&!m;y++)switch((i=d[y]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){i=d[w];var v=this.internal.pdfEscape,S=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(N.objId),I=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+h(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+h(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+v(C(i.contents))+")",o+=" /Popup "+T.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+v(C(I))+") >>",N.content=o;var R=N.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+h(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+h(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+R,i.open&&(o+=" /Open true"),o+=" >>",T.content=o,this.internal.write(N.objId,"0 R",T.objId,"0 R");break;case"freetext":a="/Rect ["+h(i.bounds.x)+" "+c(i.bounds.y)+" "+h(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var q=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+v(S(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+q+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var B=this.annotations._nameMap[i.options.name];i.options.pageNumber=B.page,i.options.top=B.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+v(S(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var Z=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+Z+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},r.link=function(t,i,a,o,h){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(i),w:f(t+a),h:d(i+o)},options:h,type:"link"})},r.textWithLink=function(t,i,a,o){var h,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var m=this.splitTextToSize(t,c).length;h=Math.ceil(d*m)}else c=f,h=d;return this.text(t,i,a,o),a+=.2*d,o.align==="center"&&(i-=f/2),o.align==="right"&&(i-=f),this.link(i,a-d,c,h,o),f},r.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(Ot.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},h=r.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=r.__arabicParser__.isArabicEndLetter=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(N){return h(N)&&a.indexOf(N.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=3};var m=r.__arabicParser__.arabicLetterHasMedialForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length==4},y=r.__arabicParser__.resolveLigatures=function(N){var T=0,C=t,I="",R=0;for(T=0;T<N.length;T+=1)C[N.charCodeAt(T)]!==void 0?(R++,typeof(C=C[N.charCodeAt(T)])=="number"&&(I+=String.fromCharCode(C),C=t,R=0),T===N.length-1&&(C=t,I+=N.charAt(T-(R-1)),T-=R-1,R=0)):(C=t,I+=N.charAt(T-R),T-=R,R=0);return I};r.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&i[N.charCodeAt(0)]!==void 0};var w=r.__arabicParser__.getCorrectForm=function(N,T,C){return h(N)?o(N)===!1?-1:!d(N)||!h(T)&&!h(C)||!h(C)&&c(T)||c(N)&&!h(T)||c(N)&&f(T)||c(N)&&c(T)?0:m(N)&&h(T)&&!c(T)&&h(C)&&d(C)?3:c(N)||!h(C)?1:2:-1},v=function(N){var T=0,C=0,I=0,R="",q="",B="",Z=(N=N||"").split("\\s+"),F=[];for(T=0;T<Z.length;T+=1){for(F.push(""),C=0;C<Z[T].length;C+=1)R=Z[T][C],q=Z[T][C-1],B=Z[T][C+1],h(R)?(I=w(R,q,B),F[T]+=I!==-1?String.fromCharCode(e[R.charCodeAt(0)][I]):R):F[T]+=R;F[T]=y(F[T])}return F.join(" ")},S=r.__arabicParser__.processArabic=r.processArabic=function(){var N,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(T)){var I=0;for(C=[],I=0;I<T.length;I+=1)Array.isArray(T[I])?C.push([v(T[I][0]),T[I][1],T[I][2]]):C.push([v(T[I])]);N=C}else N=v(T);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};r.events.push(["preProcessText",S])})(Ot.API),Ot.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(c){h=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var a;if((t=t||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ot.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(N){S=N}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},r.getTextDimensions=function(f,d){i.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,v=0,S=0,N=0,T=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var C=d.maxWidth;C>0?typeof f=="string"?f=this.splitTextToSize(f,C):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(R,q){return R.concat(T.splitTextToSize(q,C))},[])):f=Array.isArray(f)?f:[f];for(var I=0;I<f.length;I++)v<(N=this.getStringUnitWidth(f[I],{font:y})*m)&&(v=N);return v!==0&&(S=f.length),{w:v/=w,h:Math.max((S*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/w,0)}},r.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=r.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=y.top,v&&w&&(this.printHeaderRow(f.lineNumber,!0),f.y+=w[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-m,f.y+m,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+m,{align:"center",baseline:"top",maxWidth:f.width-m-m}):this.text(f.text,f.x+m,f.y+m,{align:"left",baseline:"top",maxWidth:f.width-m-m})),this.internal.__cell__.lastCell=f,this};r.table=function(f,d,m,y,w){if(i.call(this),!m)throw new Error("No data for PDF table.");var v,S,N,T,C=[],I=[],R=[],q={},B={},Z=[],F=[],j=(w=w||{}).autoSize||!1,V=w.printHeaders!==!1,H=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,k=w.margins||Object.assign({width:this.getPageWidth()},e),D=typeof w.padding=="number"?w.padding:3,ne=w.headerBackgroundColor||"#c8c8c8",$=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=ne,this.internal.__cell__.headerTextColor=$,this.setFontSize(H),y==null)I=C=Object.keys(m[0]),R=C.map(function(){return"left"});else if(Array.isArray(y)&&Pn(y[0])==="object")for(C=y.map(function(xe){return xe.name}),I=y.map(function(xe){return xe.prompt||xe.name||""}),R=y.map(function(xe){return xe.align||"left"}),v=0;v<y.length;v+=1)B[y[v].name]=.7499990551181103*y[v].width;else Array.isArray(y)&&typeof y[0]=="string"&&(I=C=y,R=C.map(function(){return"left"}));if(j||Array.isArray(y)&&typeof y[0]=="string")for(v=0;v<C.length;v+=1){for(q[T=C[v]]=m.map(function(xe){return xe[T]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(I[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=q[T],this.setFont(void 0,"normal"),N=0;N<S.length;N+=1)Z.push(this.getTextDimensions(S[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[T]=Math.max.apply(null,Z)+D+D,Z=[]}if(V){var he={};for(v=0;v<C.length;v+=1)he[C[v]]={},he[C[v]].text=I[v],he[C[v]].align=R[v];var Q=c.call(this,he,B);F=C.map(function(xe){return new o(f,d,B[xe],Q,he[xe].text,void 0,he[xe].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var K=y.reduce(function(xe,Y){return xe[Y.name]=Y.align,xe},{});for(v=0;v<m.length;v+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:v,data:m[v]},this);var ce=c.call(this,m[v],B);for(N=0;N<C.length;N+=1){var fe=m[v][C[N]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:v,col:N,data:fe},this),h.call(this,new o(f,d,B[C[N]],ce,fe,v+2,K[C[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var m=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(f).map(function(v){var S=f[v];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,d[v]-m-m)},this).map(function(v){return this.getLineHeightFactor()*v.length*y/w+m+m},this).reduce(function(v,S){return Math.max(v,S)},0)};r.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){m=this.internal.__cell__.tableHeaderRow[v].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,w.push(m)),m.lineNumber=f;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,m),this.setTextColor(S)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),t=!1}})(Ot.API);var Kw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Qw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ug=$w(Qw),Jw=[100,200,300,400,500,600,700,800,900],vL=$w(Jw);function Om(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return Kw[o=o||"normal"]?o:"normal"})(r.style),i=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),a=(function(o){return typeof ug[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:t,weight:i,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,i].join(" ")}}}function Dy(r,e,t,i){var a;for(a=t;a>=0&&a<e.length;a+=i)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=i)if(r[e[a]])return r[e[a]]}var bL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ry={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Iy(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function Vy(r){return r.trimLeft()}function yL(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function xL(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var N1,Fy,By,uh,C1,qy,zy,Py,jm=["times"];function Uy(r,e,t,i,a){var o=4,h=Gy;switch(a){case Ot.API.image_compression.FAST:o=1,h=Hy;break;case Ot.API.image_compression.MEDIUM:o=6,h=Wy;break;case Ot.API.image_compression.SLOW:o=9,h=Yy}r=(function(f,d,m,y){for(var w,v=f.length/d,S=new Uint8Array(f.length+v),N=[wL,Hy,Gy,Wy,Yy],T=0;T<v;T+=1){var C=T*d,I=f.subarray(C,C+d);if(y)S.set(y(I,m,w),C+T);else{for(var R=N.length,q=[],B=0;B<R;B+=1)q[B]=N[B](I,m,w);var Z=SL(q.concat());S.set(q[Z],C+T)}w=I}return S})(r,e,Math.ceil(t*i/8),h);var c=rg(r,{level:o});return Ot.API.__addimage__.arrayBufferToBinaryString(c)}function wL(r){var e=Array.apply([],r);return e.unshift(0),e}function Hy(r,e){var t=r.length,i=[];i[0]=1;for(var a=0;a<t;a+=1){var o=r[a-e]||0;i[a+1]=r[a]-o+256&255}return i}function Gy(r,e,t){var i=r.length,a=[];a[0]=2;for(var o=0;o<i;o+=1){var h=t&&t[o]||0;a[o+1]=r[o]-h+256&255}return a}function Wy(r,e,t){var i=r.length,a=[];a[0]=3;for(var o=0;o<i;o+=1){var h=r[o-e]||0,c=t&&t[o]||0;a[o+1]=r[o]+256-(h+c>>>1)&255}return a}function Yy(r,e,t){var i=r.length,a=[];a[0]=4;for(var o=0;o<i;o+=1){var h=_L(r[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=r[o]-h+256&255}return a}function _L(r,e,t){if(r===e&&e===t)return r;var i=Math.abs(e-t),a=Math.abs(r-t),o=Math.abs(r+e-t-t);return i<=a&&i<=o?r:a<=o?e:t}function SL(r){var e=r.map(function(t){return t.reduce(function(i,a){return i+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Dm(r,e,t){var i=e*t,a=Math.floor(i/8),o=16-(i-8*a+t),h=(1<<t)-1;return e_(r,a)>>o&h}function Xy(r,e,t,i){var a=t*i,o=Math.floor(a/8),h=16-(a-8*o+i),c=(1<<i)-1,f=(e&c)<<h;(function(d,m,y){if(m+1<d.byteLength)d.setUint16(m,y,!1);else{var w=y>>8&255;d.setUint8(m,w)}})(r,o,e_(r,o)&~(c<<h)&65535|f)}function e_(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function AL(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,i=r[e++]|r[e++]<<8,a=r[e++],o=a>>7,h=1<<1+(7&a);r[e++],r[e++];var c=null,f=null;o&&(c=e,f=h,e+=3*h);var d=!0,m=[],y=0,w=null,v=0,S=null;for(this.width=t,this.height=i;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,S=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((k=r[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=r[e++];y=r[e++]|r[e++]<<8,w=r[e++],1&N||(w=null),v=N>>2&7,e++;break;case 254:for(;;){if(!((k=r[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var T=r[e++]|r[e++]<<8,C=r[e++]|r[e++]<<8,I=r[e++]|r[e++]<<8,R=r[e++]|r[e++]<<8,q=r[e++],B=q>>6&1,Z=1<<1+(7&q),F=c,j=f,V=!1;q>>7&&(V=!0,F=e,j=Z,e+=3*Z);var H=e;for(e++;;){var k;if(!((k=r[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}m.push({x:T,y:C,width:I,height:R,has_local_palette:V,palette_offset:F,palette_size:j,data_offset:H,data_length:e-H,transparent_index:w,interlaced:!!B,delay:y,disposal:v});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return S},this.frameInfo=function(D){if(D<0||D>=m.length)throw new Error("Frame index out of range.");return m[D]},this.decodeAndBlitFrameBGRA=function(D,ne){var $=this.frameInfo(D),he=$.width*$.height,Q=new Uint8Array(he);Zy(r,$.data_offset,Q,he);var K=$.palette_offset,ce=$.transparent_index;ce===null&&(ce=256);var fe=$.width,xe=t-fe,Y=fe,L=4*($.y*t+$.x),z=4*(($.y+$.height)*t+$.x),J=L,ie=4*xe;$.interlaced===!0&&(ie+=4*t*7);for(var se=8,de=0,pe=Q.length;de<pe;++de){var we=Q[de];if(Y===0&&(Y=fe,(J+=ie)>=z&&(ie=4*xe+4*t*(se-1),J=L+(fe+xe)*(se<<1),se>>=1)),we===ce)J+=4;else{var Ae=r[K+3*we],Ge=r[K+3*we+1],Je=r[K+3*we+2];ne[J++]=Je,ne[J++]=Ge,ne[J++]=Ae,ne[J++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(D,ne){var $=this.frameInfo(D),he=$.width*$.height,Q=new Uint8Array(he);Zy(r,$.data_offset,Q,he);var K=$.palette_offset,ce=$.transparent_index;ce===null&&(ce=256);var fe=$.width,xe=t-fe,Y=fe,L=4*($.y*t+$.x),z=4*(($.y+$.height)*t+$.x),J=L,ie=4*xe;$.interlaced===!0&&(ie+=4*t*7);for(var se=8,de=0,pe=Q.length;de<pe;++de){var we=Q[de];if(Y===0&&(Y=fe,(J+=ie)>=z&&(ie=4*xe+4*t*(se-1),J=L+(fe+xe)*(se<<1),se>>=1)),we===ce)J+=4;else{var Ae=r[K+3*we],Ge=r[K+3*we+1],Je=r[K+3*we+2];ne[J++]=Ae,ne[J++]=Ge,ne[J++]=Je,ne[J++]=255}--Y}}}function Zy(r,e,t,i){for(var a=r[e++],o=1<<a,h=o+1,c=h+1,f=a+1,d=(1<<f)-1,m=0,y=0,w=0,v=r[e++],S=new Int32Array(4096),N=null;;){for(;m<16&&v!==0;)y|=r[e++]<<m,m+=8,v===1?v=r[e++]:--v;if(m<f)break;var T=y&d;if(y>>=f,m-=f,T!==o){if(T===h)break;for(var C=T<c?T:N,I=0,R=C;R>o;)R=S[R]>>8,++I;var q=R;if(w+I+(C!==T?1:0)>i)return void tr.log("Warning, gif stream longer than expected.");t[w++]=q;var B=w+=I;for(C!==T&&(t[w++]=q),R=C;I--;)R=S[R],t[--B]=255&R,R>>=8;N!==null&&c<4096&&(S[c++]=N<<8|q,c>=d+1&&f<12&&(++f,d=d<<1|1)),N=T}else c=h+1,d=(1<<(f=a+1))-1,N=null}return w!==i&&tr.log("Warning, gif stream shorter than expected."),t}function Rm(r){var e,t,i,a,o,h=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),m=new Array(64),y=new Array(65535),w=new Array(65535),v=new Array(64),S=new Array(64),N=[],T=0,C=7,I=new Array(64),R=new Array(64),q=new Array(64),B=new Array(256),Z=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ne=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(L,z){for(var J=0,ie=0,se=new Array,de=1;de<=16;de++){for(var pe=1;pe<=L[de];pe++)se[z[ie]]=[],se[z[ie]][0]=J,se[z[ie]][1]=de,ie++,J++;J*=2}return se}function K(L){for(var z=L[0],J=L[1]-1;J>=0;)z&1<<J&&(T|=1<<C),J--,--C<0&&(T==255?(ce(255),ce(0)):ce(T),C=7,T=0)}function ce(L){N.push(L)}function fe(L){ce(L>>8&255),ce(255&L)}function xe(L,z,J,ie,se){for(var de,pe=se[0],we=se[240],Ae=(function(Te,nt){var rt,lt,ft,At,Ft,jt,kt,Mt,ht,Re,Ye=0;for(ht=0;ht<8;++ht){rt=Te[Ye],lt=Te[Ye+1],ft=Te[Ye+2],At=Te[Ye+3],Ft=Te[Ye+4],jt=Te[Ye+5],kt=Te[Ye+6];var qt=rt+(Mt=Te[Ye+7]),Nt=rt-Mt,St=lt+kt,Lt=lt-kt,Bt=ft+jt,vt=ft-jt,dn=At+Ft,Dt=At-Ft,Oe=qt+dn,ot=qt-dn,Qe=St+Bt,et=St-Bt;Te[Ye]=Oe+Qe,Te[Ye+4]=Oe-Qe;var dt=.707106781*(et+ot);Te[Ye+2]=ot+dt,Te[Ye+6]=ot-dt;var $t=.382683433*((Oe=Dt+vt)-(et=Lt+Nt)),Ne=.5411961*Oe+$t,Ie=1.306562965*et+$t,He=.707106781*(Qe=vt+Lt),Ue=Nt+He,ut=Nt-He;Te[Ye+5]=ut+Ne,Te[Ye+3]=ut-Ne,Te[Ye+1]=Ue+Ie,Te[Ye+7]=Ue-Ie,Ye+=8}for(Ye=0,ht=0;ht<8;++ht){rt=Te[Ye],lt=Te[Ye+8],ft=Te[Ye+16],At=Te[Ye+24],Ft=Te[Ye+32],jt=Te[Ye+40],kt=Te[Ye+48];var gt=rt+(Mt=Te[Ye+56]),Ct=rt-Mt,Gt=lt+kt,Yt=lt-kt,cn=ft+jt,Kt=ft-jt,ir=At+Ft,Qt=At-Ft,Xt=gt+ir,ln=gt-ir,Fn=Gt+cn,Un=Gt-cn;Te[Ye]=Xt+Fn,Te[Ye+32]=Xt-Fn;var kn=.707106781*(Un+ln);Te[Ye+16]=ln+kn,Te[Ye+48]=ln-kn;var di=.382683433*((Xt=Qt+Kt)-(Un=Yt+Ct)),ls=.5411961*Xt+di,Ri=1.306562965*Un+di,Os=.707106781*(Fn=Kt+Yt),Ii=Ct+Os,Yi=Ct-Os;Te[Ye+40]=Yi+ls,Te[Ye+24]=Yi-ls,Te[Ye+8]=Ii+Ri,Te[Ye+56]=Ii-Ri,Ye++}for(ht=0;ht<64;++ht)Re=Te[ht]*nt[ht],v[ht]=Re>0?Re+.5|0:Re-.5|0;return v})(L,z),Ge=0;Ge<64;++Ge)S[F[Ge]]=Ae[Ge];var Je=S[0]-J;J=S[0],Je==0?K(ie[0]):(K(ie[w[de=32767+Je]]),K(y[de]));for(var it=63;it>0&&S[it]==0;)it--;if(it==0)return K(pe),J;for(var st,W=1;W<=it;){for(var De=W;S[W]==0&&W<=it;)++W;var at=W-De;if(at>=16){st=at>>4;for(var $e=1;$e<=st;++$e)K(we);at&=15}de=32767+S[W],K(se[(at<<4)+w[de]]),K(y[de]),W++}return it!=63&&K(pe),J}function Y(L){L=Math.min(Math.max(L,1),100),o!=L&&((function(z){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var se=h((J[ie]*z+50)/100);se=Math.min(Math.max(se,1),255),c[F[ie]]=se}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var we=h((de[pe]*z+50)/100);we=Math.min(Math.max(we,1),255),f[F[pe]]=we}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ge=0,Je=0;Je<8;Je++)for(var it=0;it<8;it++)d[Ge]=1/(c[F[Ge]]*Ae[Je]*Ae[it]*8),m[Ge]=1/(f[F[Ge]]*Ae[Je]*Ae[it]*8),Ge++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,z){z&&Y(z),N=new Array,T=0,C=7,fe(65496),fe(65504),fe(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),fe(1),fe(1),ce(0),ce(0),(function(){fe(65499),fe(132),ce(0);for(var lt=0;lt<64;lt++)ce(c[lt]);ce(1);for(var ft=0;ft<64;ft++)ce(f[ft])})(),(function(lt,ft){fe(65472),fe(17),ce(8),fe(ft),fe(lt),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(L.width,L.height),(function(){fe(65476),fe(418),ce(0);for(var lt=0;lt<16;lt++)ce(j[lt+1]);for(var ft=0;ft<=11;ft++)ce(V[ft]);ce(16);for(var At=0;At<16;At++)ce(H[At+1]);for(var Ft=0;Ft<=161;Ft++)ce(k[Ft]);ce(1);for(var jt=0;jt<16;jt++)ce(D[jt+1]);for(var kt=0;kt<=11;kt++)ce(ne[kt]);ce(17);for(var Mt=0;Mt<16;Mt++)ce($[Mt+1]);for(var ht=0;ht<=161;ht++)ce(he[ht])})(),fe(65498),fe(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var J=0,ie=0,se=0;T=0,C=7,this.encode.displayName="_encode_";for(var de,pe,we,Ae,Ge,Je,it,st,W,De=L.data,at=L.width,$e=L.height,Te=4*at,nt=0;nt<$e;){for(de=0;de<Te;){for(Ge=Te*nt+de,it=-1,st=0,W=0;W<64;W++)Je=Ge+(st=W>>3)*Te+(it=4*(7&W)),nt+st>=$e&&(Je-=Te*(nt+1+st-$e)),de+it>=Te&&(Je-=de+it-Te+4),pe=De[Je++],we=De[Je++],Ae=De[Je++],I[W]=(Z[pe]+Z[we+256|0]+Z[Ae+512|0]>>16)-128,R[W]=(Z[pe+768|0]+Z[we+1024|0]+Z[Ae+1280|0]>>16)-128,q[W]=(Z[pe+1280|0]+Z[we+1536|0]+Z[Ae+1792|0]>>16)-128;J=xe(I,d,J,e,i),ie=xe(R,m,ie,t,a),se=xe(q,m,se,t,a),de+=32}nt+=8}if(C>=0){var rt=[];rt[1]=C+1,rt[0]=(1<<C+1)-1,K(rt)}return fe(65497),new Uint8Array(N)},r=r||50,(function(){for(var L=String.fromCharCode,z=0;z<256;z++)B[z]=L(z)})(),e=Q(j,V),t=Q(D,ne),i=Q(H,k),a=Q($,he),(function(){for(var L=1,z=2,J=1;J<=15;J++){for(var ie=L;ie<z;ie++)w[32767+ie]=J,y[32767+ie]=[],y[32767+ie][1]=J,y[32767+ie][0]=ie;for(var se=-(z-1);se<=-L;se++)w[32767+se]=J,y[32767+se]=[],y[32767+se][1]=J,y[32767+se][0]=z-1+se;L<<=1,z<<=1}})(),(function(){for(var L=0;L<256;L++)Z[L]=19595*L,Z[L+256|0]=38470*L,Z[L+512|0]=7471*L+32768,Z[L+768|0]=-11059*L,Z[L+1024|0]=-21709*L,Z[L+1280|0]=32768*L+8421375,Z[L+1536|0]=-27439*L,Z[L+1792|0]=-5329*L})(),Y(r)}function Wa(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $y(r){function e(V){if(!V)throw Error("assert :P")}function t(V,H,k){for(var D=0;4>D;D++)if(V[H+D]!=k.charCodeAt(D))return!0;return!1}function i(V,H,k,D,ne){for(var $=0;$<ne;$++)V[H+$]=k[D+$]}function a(V,H,k,D){for(var ne=0;ne<D;ne++)V[H+ne]=k}function o(V){return new Int32Array(V)}function h(V,H){for(var k=[],D=0;D<V;D++)k.push(new H);return k}function c(V,H){var k=[];return(function D(ne,$,he){for(var Q=he[$],K=0;K<Q&&(ne.push(he.length>$+1?[]:new H),!(he.length<$+1));K++)D(ne[K],$+1,he)})(k,0,V),k}var f=function(){var V=this;function H(p,b){for(var A=1<<b-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function k(p,b,A,M,U){e(!(M%A));do p[b+(M-=A)]=U;while(0<M)}function D(p,b,A,M,U){if(e(2328>=U),512>=U)var G=o(512);else if((G=o(U))==null)return 0;return(function(X,te,re,oe,ve,ke){var ae,ye,Ce=te,Be=1<<re,Ee=o(16),Fe=o(16);for(e(ve!=0),e(oe!=null),e(X!=null),e(0<re),ye=0;ye<ve;++ye){if(15<oe[ye])return 0;++Ee[oe[ye]]}if(Ee[0]==ve)return 0;for(Fe[1]=0,ae=1;15>ae;++ae){if(Ee[ae]>1<<ae)return 0;Fe[ae+1]=Fe[ae]+Ee[ae]}for(ye=0;ye<ve;++ye)ae=oe[ye],0<oe[ye]&&(ke[Fe[ae]++]=ye);if(Fe[15]==1)return(oe=new ne).g=0,oe.value=ke[0],k(X,Ce,1,Be,oe),Be;var Pe,tt=-1,Ze=Be-1,wt=0,pt=1,Jt=1,bt=1<<re;for(ye=0,ae=1,ve=2;ae<=re;++ae,ve<<=1){if(pt+=Jt<<=1,0>(Jt-=Ee[ae]))return 0;for(;0<Ee[ae];--Ee[ae])(oe=new ne).g=ae,oe.value=ke[ye++],k(X,Ce+wt,ve,bt,oe),wt=H(wt,ae)}for(ae=re+1,ve=2;15>=ae;++ae,ve<<=1){if(pt+=Jt<<=1,0>(Jt-=Ee[ae]))return 0;for(;0<Ee[ae];--Ee[ae]){if(oe=new ne,(wt&Ze)!=tt){for(Ce+=bt,Pe=1<<(tt=ae)-re;15>tt&&!(0>=(Pe-=Ee[tt]));)++tt,Pe<<=1;Be+=bt=1<<(Pe=tt-re),X[te+(tt=wt&Ze)].g=Pe+re,X[te+tt].value=Ce-te-tt}oe.g=ae-re,oe.value=ke[ye++],k(X,Ce+(wt>>re),ve,bt,oe),wt=H(wt,ae)}}return pt!=2*Fe[15]-1?0:Be})(p,b,A,M,U,G)}function ne(){this.value=this.g=0}function $(){this.value=this.g=0}function he(){this.G=h(5,ne),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(fo,$)}function Q(p,b,A,M){e(p!=null),e(b!=null),e(2147483648>M),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=A,p.Jd=b,p.Yc=A+M,p.Zc=4<=M?A+M-4+1:A,pe(p)}function K(p,b){for(var A=0;0<b--;)A|=Ae(p,128)<<b;return A}function ce(p,b){var A=K(p,b);return we(p)?-A:A}function fe(p,b,A,M){var U,G=0;for(e(p!=null),e(b!=null),e(4294967288>M),p.Sb=M,p.Ra=0,p.u=0,p.h=0,4<M&&(M=4),U=0;U<M;++U)G+=b[A+U]<<8*U;p.Ra=G,p.bb=M,p.oa=b,p.pa=A}function xe(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<sa-8>>>0,++p.bb,p.u-=8;ie(p)&&(p.h=1,p.u=0)}function Y(p,b){if(e(0<=b),!p.h&&b<=Ei){var A=J(p)&Fi[b];return p.u+=b,xe(p),A}return p.h=1,p.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(p){return p.Ra>>>(p.u&sa-1)>>>0}function ie(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>sa}function se(p,b){p.u=b,p.h=ie(p)}function de(p){p.u>=aa&&(e(p.u>=aa),xe(p))}function pe(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function we(p){return K(p,1)}function Ae(p,b){var A=p.Ca;0>p.b&&pe(p);var M=p.b,U=A*b>>>8,G=(p.I>>>M>U)+0;for(G?(A-=U,p.I-=U+1<<M>>>0):A=U+1,M=A,U=0;256<=M;)U+=8,M>>=8;return M=7^U+ja[M],p.b-=M,p.Ca=(A<<M)-1,G}function Ge(p,b,A){p[b+0]=A>>24&255,p[b+1]=A>>16&255,p[b+2]=A>>8&255,p[b+3]=255&A}function Je(p,b){return p[b+0]|p[b+1]<<8}function it(p,b){return Je(p,b)|p[b+2]<<16}function st(p,b){return Je(p,b)|Je(p,b+2)<<16}function W(p,b){var A=1<<b;return e(p!=null),e(0<b),p.X=o(A),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function De(p,b){e(p!=null),e(b!=null),e(p.Xa==b.Xa),i(b.X,0,p.X,0,1<<b.Xa)}function at(){this.X=[],this.Xa=this.Mb=0}function $e(p,b,A,M){e(A!=null),e(M!=null);var U=A[0],G=M[0];return U==0&&(U=(p*G+b/2)/b),G==0&&(G=(b*U+p/2)/p),0>=U||0>=G?0:(A[0]=U,M[0]=G,1)}function Te(p,b){return p+(1<<b)-1>>>b}function nt(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function rt(p,b){V[b]=function(A,M,U,G,X,te,re){var oe;for(oe=0;oe<X;++oe){var ve=V[p](te[re+oe-1],U,G+oe);te[re+oe]=nt(A[M+oe],ve)}}}function lt(){this.ud=this.hd=this.jd=0}function ft(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function At(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ft(p,b){return At(p+(p-b+.5>>1))}function jt(p,b,A){return Math.abs(b-A)-Math.abs(p-A)}function kt(p,b,A,M,U,G,X){for(M=G[X-1],A=0;A<U;++A)G[X+A]=M=nt(p[b+A],M)}function Mt(p,b,A,M,U){var G;for(G=0;G<A;++G){var X=p[b+G],te=X>>8&255,re=16711935&(re=(re=16711935&X)+((te<<16)+te));M[U+G]=(4278255360&X)+re>>>0}}function ht(p,b){b.jd=255&p,b.hd=p>>8&255,b.ud=p>>16&255}function Re(p,b,A,M,U,G){var X;for(X=0;X<M;++X){var te=b[A+X],re=te>>>8,oe=te,ve=255&(ve=(ve=te>>>16)+((p.jd<<24>>24)*(re<<24>>24)>>>5));oe=255&(oe=(oe+=(p.hd<<24>>24)*(re<<24>>24)>>>5)+((p.ud<<24>>24)*(ve<<24>>24)>>>5)),U[G+X]=(4278255360&te)+(ve<<16)+oe}}function Ye(p,b,A,M,U){V[b]=function(G,X,te,re,oe,ve,ke,ae,ye){for(re=ke;re<ae;++re)for(ke=0;ke<ye;++ke)oe[ve++]=U(te[M(G[X++])])},V[p]=function(G,X,te,re,oe,ve,ke){var ae=8>>G.b,ye=G.Ea,Ce=G.K[0],Be=G.w;if(8>ae)for(G=(1<<G.b)-1,Be=(1<<ae)-1;X<te;++X){var Ee,Fe=0;for(Ee=0;Ee<ye;++Ee)Ee&G||(Fe=M(re[oe++])),ve[ke++]=U(Ce[Fe&Be]),Fe>>=ae}else V["VP8LMapColor"+A](re,oe,Ce,Be,ve,ke,X,te,ye)}}function qt(p,b,A,M,U){for(A=b+A;b<A;){var G=p[b++];M[U++]=G>>16&255,M[U++]=G>>8&255,M[U++]=255&G}}function Nt(p,b,A,M,U){for(A=b+A;b<A;){var G=p[b++];M[U++]=G>>16&255,M[U++]=G>>8&255,M[U++]=255&G,M[U++]=G>>24&255}}function St(p,b,A,M,U){for(A=b+A;b<A;){var G=(X=p[b++])>>16&240|X>>12&15,X=240&X|X>>28&15;M[U++]=G,M[U++]=X}}function Lt(p,b,A,M,U){for(A=b+A;b<A;){var G=(X=p[b++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;M[U++]=G,M[U++]=X}}function Bt(p,b,A,M,U){for(A=b+A;b<A;){var G=p[b++];M[U++]=255&G,M[U++]=G>>8&255,M[U++]=G>>16&255}}function vt(p,b,A,M,U,G){if(G==0)for(A=b+A;b<A;)Ge(M,((G=p[b++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),U+=32;else i(M,U,p,b,A)}function dn(p,b){V[b][0]=V[p+"0"],V[b][1]=V[p+"1"],V[b][2]=V[p+"2"],V[b][3]=V[p+"3"],V[b][4]=V[p+"4"],V[b][5]=V[p+"5"],V[b][6]=V[p+"6"],V[b][7]=V[p+"7"],V[b][8]=V[p+"8"],V[b][9]=V[p+"9"],V[b][10]=V[p+"10"],V[b][11]=V[p+"11"],V[b][12]=V[p+"12"],V[b][13]=V[p+"13"],V[b][14]=V[p+"0"],V[b][15]=V[p+"0"]}function Dt(p){return p==Uc||p==Ou||p==Il||p==ju}function Oe(){this.eb=[],this.size=this.A=this.fb=0}function ot(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Oe,this.f.kb=new ot,this.sd=null}function et(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $t(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Ne(p,b){var A=p.T,M=b.ba.f.RGBA,U=M.eb,G=M.fb+p.ka*M.A,X=ai[b.ba.S],te=p.y,re=p.O,oe=p.f,ve=p.N,ke=p.ea,ae=p.W,ye=b.cc,Ce=b.dc,Be=b.Mc,Ee=b.Nc,Fe=p.ka,Pe=p.ka+p.T,tt=p.U,Ze=tt+1>>1;for(Fe==0?X(te,re,null,null,oe,ve,ke,ae,oe,ve,ke,ae,U,G,null,null,tt):(X(b.ec,b.fc,te,re,ye,Ce,Be,Ee,oe,ve,ke,ae,U,G-M.A,U,G,tt),++A);Fe+2<Pe;Fe+=2)ye=oe,Ce=ve,Be=ke,Ee=ae,ve+=p.Rc,ae+=p.Rc,G+=2*M.A,X(te,(re+=2*p.fa)-p.fa,te,re,ye,Ce,Be,Ee,oe,ve,ke,ae,U,G-M.A,U,G,tt);return re+=p.fa,p.j+Pe<p.o?(i(b.ec,b.fc,te,re,tt),i(b.cc,b.dc,oe,ve,Ze),i(b.Mc,b.Nc,ke,ae,Ze),A--):1&Pe||X(te,re,null,null,oe,ve,ke,ae,oe,ve,ke,ae,U,G+M.A,null,null,tt),A}function Ie(p,b,A){var M=p.F,U=[p.J];if(M!=null){var G=p.U,X=b.ba.S,te=X==Pc||X==Il;b=b.ba.f.RGBA;var re=[0],oe=p.ka;re[0]=p.T,p.Kb&&(oe==0?--re[0]:(--oe,U[0]-=p.width),p.j+p.ka+p.T==p.o&&(re[0]=p.o-p.j-oe));var ve=b.eb;oe=b.fb+oe*b.A,p=Fc(M,U[0],p.width,G,re,ve,oe+(te?0:3),b.A),e(A==re),p&&Dt(X)&&Zo(ve,oe,te,G,re,b.A)}return 0}function He(p){var b=p.ma,A=b.ba.S,M=11>A,U=A==gi||A==ds||A==Pc||A==Rl||A==12||Dt(A);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Oa(b.Oa,p,U?11:12))return 0;if(U&&Dt(A)&&Dc(),p.da)alert("todo:use_scaling");else{if(M){if(b.Ib=$t,p.Kb){if(A=p.U+1>>1,b.memory=o(p.U+2*A),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+A,b.Ib=Ne,Dc()}}else alert("todo:EmitYUV");U&&(b.Jb=Ie,M&&Vs())}if(M&&!xo){for(p=0;256>p;++p)oi[p]=89858*(p-128)+Bl>>ys,Gp[p]=-22014*(p-128)+Bl,Sd[p]=-45773*(p-128),Fu[p]=113618*(p-128)+Bl>>ys;for(p=Jo;p<yo;++p)b=76283*(p-16)+Bl>>ys,Wp[p-Jo]=$i(b,255),Yp[p-Jo]=$i(b+8>>4,15);xo=1}return 1}function Ue(p){var b=p.ma,A=p.U,M=p.T;return e(!(1&p.ka)),0>=A||0>=M?0:(A=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,A),b.Dc+=A,1)}function ut(p){p.ma.memory=null}function gt(p,b,A,M){return Y(p,8)!=47?0:(b[0]=Y(p,14)+1,A[0]=Y(p,14)+1,M[0]=Y(p,1),Y(p,3)!=0?0:!p.h)}function Ct(p,b){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+Y(b,A)+1}function Gt(p,b){return 120<b?b-120:1<=(A=((A=ms[b-1])>>4)*p+(8-(15&A)))?A:1;var A}function Yt(p,b,A){var M=J(A),U=p[b+=255&M].g-8;return 0<U&&(se(A,A.u+8),M=J(A),b+=p[b].value,b+=M&(1<<U)-1),se(A,A.u+p[b].g),p[b].value}function cn(p,b,A){return A.g+=p.g,A.value+=p.value<<b>>>0,e(8>=A.g),p.g}function Kt(p,b,A){var M=p.xc;return e((b=M==0?0:p.vc[p.md*(A>>M)+(b>>M)])<p.Wb),p.Ya[b]}function ir(p,b,A,M){var U=p.ab,G=p.c*b,X=p.C;b=X+b;var te=A,re=M;for(M=p.Ta,A=p.Ua;0<U--;){var oe=p.gc[U],ve=X,ke=b,ae=te,ye=re,Ce=(re=M,te=A,oe.Ea);switch(e(ve<ke),e(ke<=oe.nc),oe.hc){case 2:Ar(ae,ye,(ke-ve)*Ce,re,te);break;case 0:var Be=ve,Ee=ke,Fe=re,Pe=te,tt=(bt=oe).Ea;Be==0&&(Ll(ae,ye,null,null,1,Fe,Pe),kt(ae,ye+1,0,0,tt-1,Fe,Pe+1),ye+=tt,Pe+=tt,++Be);for(var Ze=1<<bt.b,wt=Ze-1,pt=Te(tt,bt.b),Jt=bt.K,bt=bt.w+(Be>>bt.b)*pt;Be<Ee;){var pn=Jt,Jn=bt,rn=1;for(Ol(ae,ye,Fe,Pe-tt,1,Fe,Pe);rn<tt;){var mt=(rn&~wt)+Ze;mt>tt&&(mt=tt),(0,Da[pn[Jn++]>>8&15])(ae,ye+ +rn,Fe,Pe+rn-tt,mt-rn,Fe,Pe+rn),rn=mt}ye+=tt,Pe+=tt,++Be&wt||(bt+=pt)}ke!=oe.nc&&i(re,te-Ce,re,te+(ke-ve-1)*Ce,Ce);break;case 1:for(Ce=ae,Ee=ye,tt=(ae=oe.Ea)-(Pe=ae&~(Fe=(ye=1<<oe.b)-1)),Be=Te(ae,oe.b),Ze=oe.K,oe=oe.w+(ve>>oe.b)*Be;ve<ke;){for(wt=Ze,pt=oe,Jt=new lt,bt=Ee+Pe,pn=Ee+ae;Ee<bt;)ht(wt[pt++],Jt),jl(Jt,Ce,Ee,ye,re,te),Ee+=ye,te+=ye;Ee<pn&&(ht(wt[pt++],Jt),jl(Jt,Ce,Ee,tt,re,te),Ee+=tt,te+=tt),++ve&Fe||(oe+=Be)}break;case 3:if(ae==re&&ye==te&&0<oe.b){for(Ee=re,ae=Ce=te+(ke-ve)*Ce-(Pe=(ke-ve)*Te(oe.Ea,oe.b)),ye=re,Fe=te,Be=[],Pe=(tt=Pe)-1;0<=Pe;--Pe)Be[Pe]=ye[Fe+Pe];for(Pe=tt-1;0<=Pe;--Pe)Ee[ae+Pe]=Be[Pe];Tu(oe,ve,ke,re,Ce,re,te)}else Tu(oe,ve,ke,ae,ye,re,te)}te=M,re=A}re!=A&&i(M,A,te,re,G)}function Qt(p,b){var A=p.V,M=p.Ba+p.c*p.C,U=b-p.C;if(e(b<=p.l.o),e(16>=U),0<U){var G=p.l,X=p.Ta,te=p.Ua,re=G.width;if(ir(p,U,A,M),U=te=[te],e((A=p.C)<(M=b)),e(G.v<G.va),M>G.o&&(M=G.o),A<G.j){var oe=G.j-A;A=G.j,U[0]+=oe*re}if(A>=M?A=0:(U[0]+=4*G.v,G.ka=A-G.j,G.U=G.va-G.v,G.T=M-A,A=1),A){if(te=te[0],11>(A=p.ca).S){var ve=A.f.RGBA,ke=(M=A.S,U=G.U,G=G.T,oe=ve.eb,ve.A),ae=G;for(ve=ve.fb+p.Ma*ve.A;0<ae--;){var ye=X,Ce=te,Be=U,Ee=oe,Fe=ve;switch(M){case Mu:Dl(ye,Ce,Be,Ee,Fe);break;case gi:Ra(ye,Ce,Be,Ee,Fe);break;case Uc:Ra(ye,Ce,Be,Ee,Fe),Zo(Ee,Fe,0,Be,1,0);break;case Lu:Yo(ye,Ce,Be,Ee,Fe);break;case ds:vt(ye,Ce,Be,Ee,Fe,1);break;case Ou:vt(ye,Ce,Be,Ee,Fe,1),Zo(Ee,Fe,0,Be,1,0);break;case Pc:vt(ye,Ce,Be,Ee,Fe,0);break;case Il:vt(ye,Ce,Be,Ee,Fe,0),Zo(Ee,Fe,1,Be,1,0);break;case Rl:Ia(ye,Ce,Be,Ee,Fe);break;case ju:Ia(ye,Ce,Be,Ee,Fe),fs(Ee,Fe,Be,1,0);break;case po:ca(ye,Ce,Be,Ee,Fe);break;default:e(0)}te+=re,ve+=ke}p.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=A.height)}}p.C=b,e(p.C<=p.i)}function Xt(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var A=p.Ya[b].G,M=p.Ya[b].H;if(0<A[1][M[1]+0].g||0<A[2][M[2]+0].g||0<A[3][M[3]+0].g)return 0}return 1}function ln(p,b,A,M,U,G){if(p.Z!=0){var X=p.qd,te=p.rd;for(e(Ba[p.Z]!=null);b<A;++b)Ba[p.Z](X,te,M,U,M,U,G),X=M,te=U,U+=G;p.qd=X,p.rd=te}}function Fn(p,b){var A=p.l.ma,M=A.Z==0||A.Z==1?p.l.j:p.C;if(M=p.C<M?M:p.C,e(b<=p.l.o),b>M){var U=p.l.width,G=A.ca,X=A.tb+U*M,te=p.V,re=p.Ba+p.c*M,oe=p.gc;e(p.ab==1),e(oe[0].hc==3),la(oe[0],M,b,te,re,G,X),ln(A,M,b,G,X,U)}p.C=p.Ma=b}function Un(p,b,A,M,U,G,X){var te=p.$/M,re=p.$%M,oe=p.m,ve=p.s,ke=A+p.$,ae=ke;U=A+M*U;var ye=A+M*G,Ce=280+ve.ua,Be=p.Pb?te:16777216,Ee=0<ve.ua?ve.Wa:null,Fe=ve.wc,Pe=ke<ye?Kt(ve,re,te):null;e(p.C<G),e(ye<=U);var tt=!1;e:for(;;){for(;tt||ke<ye;){var Ze=0;if(te>=Be){var wt=ke-A;e((Be=p).Pb),Be.wd=Be.m,Be.xd=wt,0<Be.s.ua&&De(Be.s.Wa,Be.s.vb),Be=te+mo}if(re&Fe||(Pe=Kt(ve,re,te)),e(Pe!=null),Pe.Qb&&(b[ke]=Pe.qb,tt=!0),!tt)if(de(oe),Pe.jc){Ze=oe,wt=b;var pt=ke,Jt=Pe.pd[J(Ze)&fo-1];e(Pe.jc),256>Jt.g?(se(Ze,Ze.u+Jt.g),wt[pt]=Jt.value,Ze=0):(se(Ze,Ze.u+Jt.g-256),e(256<=Jt.value),Ze=Jt.value),Ze==0&&(tt=!0)}else Ze=Yt(Pe.G[0],Pe.H[0],oe);if(oe.h)break;if(tt||256>Ze){if(!tt)if(Pe.nd)b[ke]=(Pe.qb|Ze<<8)>>>0;else{if(de(oe),tt=Yt(Pe.G[1],Pe.H[1],oe),de(oe),wt=Yt(Pe.G[2],Pe.H[2],oe),pt=Yt(Pe.G[3],Pe.H[3],oe),oe.h)break;b[ke]=(pt<<24|tt<<16|Ze<<8|wt)>>>0}if(tt=!1,++ke,++re>=M&&(re=0,++te,X!=null&&te<=G&&!(te%16)&&X(p,te),Ee!=null))for(;ae<ke;)Ze=b[ae++],Ee.X[(506832829*Ze&4294967295)>>>Ee.Mb]=Ze}else if(280>Ze){if(Ze=Ct(Ze-256,oe),wt=Yt(Pe.G[4],Pe.H[4],oe),de(oe),wt=Gt(M,wt=Ct(wt,oe)),oe.h)break;if(ke-A<wt||U-ke<Ze)break e;for(pt=0;pt<Ze;++pt)b[ke+pt]=b[ke+pt-wt];for(ke+=Ze,re+=Ze;re>=M;)re-=M,++te,X!=null&&te<=G&&!(te%16)&&X(p,te);if(e(ke<=U),re&Fe&&(Pe=Kt(ve,re,te)),Ee!=null)for(;ae<ke;)Ze=b[ae++],Ee.X[(506832829*Ze&4294967295)>>>Ee.Mb]=Ze}else{if(!(Ze<Ce))break e;for(tt=Ze-280,e(Ee!=null);ae<ke;)Ze=b[ae++],Ee.X[(506832829*Ze&4294967295)>>>Ee.Mb]=Ze;Ze=ke,e(!(tt>>>(wt=Ee).Xa)),b[Ze]=wt.X[tt],tt=!0}tt||e(oe.h==ie(oe))}if(p.Pb&&oe.h&&ke<U)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&De(p.s.vb,p.s.Wa);else{if(oe.h)break e;X?.(p,te>G?G:te),p.a=0,p.$=ke-A}return 1}return p.a=3,0}function kn(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,e(p!=null)}function di(){var p=new Wt;return p==null?null:(p.a=0,p.xb=Xh,dn("Predictor","VP8LPredictors"),dn("Predictor","VP8LPredictors_C"),dn("PredictorAdd","VP8LPredictorsAdd"),dn("PredictorAdd","VP8LPredictorsAdd_C"),Ar=Mt,jl=Re,Dl=qt,Ra=Nt,Ia=St,ca=Lt,Yo=Bt,V.VP8LMapColor32b=oa,V.VP8LMapColor8b=ri,p)}function ls(p,b,A,M,U){var G=1,X=[p],te=[b],re=M.m,oe=M.s,ve=null,ke=0;e:for(;;){if(A)for(;G&&Y(re,1);){var ae=X,ye=te,Ce=M,Be=1,Ee=Ce.m,Fe=Ce.gc[Ce.ab],Pe=Y(Ee,2);if(Ce.Oc&1<<Pe)G=0;else{switch(Ce.Oc|=1<<Pe,Fe.hc=Pe,Fe.Ea=ae[0],Fe.nc=ye[0],Fe.K=[null],++Ce.ab,e(4>=Ce.ab),Pe){case 0:case 1:Fe.b=Y(Ee,3)+2,Be=ls(Te(Fe.Ea,Fe.b),Te(Fe.nc,Fe.b),0,Ce,Fe.K),Fe.K=Fe.K[0];break;case 3:var tt,Ze=Y(Ee,8)+1,wt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(ae[0]=Te(Fe.Ea,wt),Fe.b=wt,tt=Be=ls(Ze,1,0,Ce,Fe.K)){var pt,Jt=Ze,bt=Fe,pn=1<<(8>>bt.b),Jn=o(pn);if(Jn==null)tt=0;else{var rn=bt.K[0],mt=bt.w;for(Jn[0]=bt.K[0][0],pt=1;pt<1*Jt;++pt)Jn[pt]=nt(rn[mt+pt],Jn[pt-1]);for(;pt<4*pn;++pt)Jn[pt]=0;bt.K[0]=null,bt.K[0]=Jn,tt=1}}Be=tt;break;case 2:break;default:e(0)}G=Be}}if(X=X[0],te=te[0],G&&Y(re,1)&&!(G=1<=(ke=Y(re,4))&&11>=ke)){M.a=3;break e}var ct;if(ct=G)t:{var cr,Pt,on,Rn=M,qr=X,li=te,Wn=ke,Mr=A,vi=Rn.m,Lr=Rn.s,hn=[null],Nn=1,ur=0,On=gs[Wn];n:for(;;){if(Mr&&Y(vi,1)){var zr=Y(vi,3)+2,hr=Te(qr,zr),Cn=Te(li,zr),Tr=hr*Cn;if(!ls(hr,Cn,0,Rn,hn))break n;for(hn=hn[0],Lr.xc=zr,cr=0;cr<Tr;++cr){var In=hn[cr]>>8&65535;hn[cr]=In,In>=Nn&&(Nn=In+1)}}if(vi.h)break n;for(Pt=0;5>Pt;++Pt){var Or=Ko[Pt];!Pt&&0<Wn&&(Or+=1<<Wn),ur<Or&&(ur=Or)}var jr=h(Nn*On,ne),Bn=Nn,Sn=h(Bn,he);if(Sn==null)var bi=null;else e(65536>=Bn),bi=Sn;var br=o(ur);if(bi==null||br==null||jr==null){Rn.a=1;break n}var Rt=jr;for(cr=on=0;cr<Nn;++cr){var It=bi[cr],Tn=It.G,Bi=It.H,xs=0,Mi=1,Dr=0;for(Pt=0;5>Pt;++Pt){Or=Ko[Pt],Tn[Pt]=Rt,Bi[Pt]=on,!Pt&&0<Wn&&(Or+=1<<Wn);i:{var wo,_o=Or,qu=Rn,Yn=br,$h=Rt,Kh=on,zu=0,qa=qu.m,Xp=Y(qa,1);if(a(Yn,0,0,_o),Xp){var Qh=Y(qa,1)+1,Jh=Y(qa,1),Pu=Y(qa,Jh==0?1:8);Yn[Pu]=1,Qh==2&&(Yn[Pu=Y(qa,8)]=1);var Xr=1}else{var yr=o(19),Yc=Y(qa,4)+4;if(19<Yc){qu.a=3;var So=0;break i}for(wo=0;wo<Yc;++wo)yr[Hc[wo]]=Y(qa,3);var zl=void 0,el=void 0,fa=qu,Uu=yr,Pl=_o,Hu=Yn,Gu=0,za=fa.m,ef=8,tf=h(128,ne);r:for(;D(tf,0,7,Uu,19);){if(Y(za,1)){var Ad=2+2*Y(za,3);if((zl=2+Y(za,Ad))>Pl)break r}else zl=Pl;for(el=0;el<Pl&&zl--;){de(za);var nf=tf[0+(127&J(za))];se(za,za.u+nf.g);var Ao=nf.value;if(16>Ao)Hu[el++]=Ao,Ao!=0&&(ef=Ao);else{var Nd=Ao==16,Cd=Ao-16,Td=Vl[Cd],rf=Y(za,ps[Cd])+Td;if(el+rf>Pl)break r;for(var Ed=Nd?ef:0;0<rf--;)Hu[el++]=Ed}}Gu=1;break r}Gu||(fa.a=3),Xr=Gu}(Xr=Xr&&!qa.h)&&(zu=D($h,Kh,8,Yn,_o)),Xr&&zu!=0?So=zu:(qu.a=3,So=0)}if(So==0)break n;if(Mi&&Du[Pt]==1&&(Mi=Rt[on].g==0),xs+=Rt[on].g,on+=So,3>=Pt){var tl,Wu=br[0];for(tl=1;tl<Or;++tl)br[tl]>Wu&&(Wu=br[tl]);Dr+=Wu}}if(It.nd=Mi,It.Qb=0,Mi&&(It.qb=(Tn[3][Bi[3]+0].value<<24|Tn[1][Bi[1]+0].value<<16|Tn[2][Bi[2]+0].value)>>>0,xs==0&&256>Tn[0][Bi[0]+0].value&&(It.Qb=1,It.qb+=Tn[0][Bi[0]+0].value<<8)),It.jc=!It.Qb&&6>Dr,It.jc){var Xc,da=It;for(Xc=0;Xc<fo;++Xc){var Pa=Xc,Ua=da.pd[Pa],Yu=da.G[0][da.H[0]+Pa];256<=Yu.value?(Ua.g=Yu.g+256,Ua.value=Yu.value):(Ua.g=0,Ua.value=0,Pa>>=cn(Yu,8,Ua),Pa>>=cn(da.G[1][da.H[1]+Pa],16,Ua),Pa>>=cn(da.G[2][da.H[2]+Pa],0,Ua),cn(da.G[3][da.H[3]+Pa],24,Ua))}}}Lr.vc=hn,Lr.Wb=Nn,Lr.Ya=bi,Lr.yc=jr,ct=1;break t}ct=0}if(!(G=ct)){M.a=3;break e}if(0<ke){if(oe.ua=1<<ke,!W(oe.Wa,ke)){M.a=1,G=0;break e}}else oe.ua=0;var Xu=M,nl=X,kd=te,Ul=Xu.s,Hl=Ul.xc;if(Xu.c=nl,Xu.i=kd,Ul.md=Te(nl,Hl),Ul.wc=Hl==0?-1:(1<<Hl)-1,A){M.xb=go;break e}if((ve=o(X*te))==null){M.a=1,G=0;break e}G=(G=Un(M,ve,0,X,te,te,null))&&!re.h;break e}return G?(U!=null?U[0]=ve:(e(ve==null),e(A)),M.$=0,A||kn(oe)):kn(oe),G}function Ri(p,b){var A=p.c*p.i,M=A+b+16*b;return e(p.c<=b),p.V=o(M),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+b,1)}function Os(p,b){var A=p.C,M=b-A,U=p.V,G=p.Ba+p.c*A;for(e(b<=p.l.o);0<M;){var X=16<M?16:M,te=p.l.ma,re=p.l.width,oe=re*X,ve=te.ca,ke=te.tb+re*A,ae=p.Ta,ye=p.Ua;ir(p,X,U,G),ts(ae,ye,ve,ke,oe),ln(te,A,A+X,ve,ke,re),M-=X,U+=X*p.c,A+=X}e(A==b),p.C=p.Ma=b}function Ii(){this.ub=this.yd=this.td=this.Rb=0}function Yi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Js(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Xi(){this.Yb=(function(){var p=[];return(function b(A,M,U){for(var G=U[M],X=0;X<G&&(A.push(U.length>M+1?[]:0),!(U.length<M+1));X++)b(A[X],M+1,U)})(p,0,[3,11]),p})()}function or(){this.jb=o(3),this.Wc=c([4,8],Xi),this.Xc=c([4,17],Xi)}function Bo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Ai(){this.ld=this.La=this.dd=this.tc=0}function Zi(){this.Na=this.la=0}function js(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function wc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _c(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ai),this.Y=0,this.ya=Array(new wc),this.aa=0,this.l=new xa}function Sc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function vu(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Ii,this.Kc=new Yi,this.ed=new Bo,this.Qa=new Js,this.Ic=this.$c=this.Aa=0,this.D=new _c,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,L),this.ia=0,this.pb=h(4,js),this.Pa=new or,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Sc),this.Hd=0,this.rb=Array(new Zi),this.sb=0,this.wa=Array(new Ai),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new wc),this.L=this.aa=0,this.gd=c([4,2],Ai),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $i(p,b){return 0>p?0:p>b?b:p}function xa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ds(){var p=new vu;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,ns||(ns=lo)),p}function Mn(p,b,A){return p.a==0&&(p.a=b,p.sc=A,p.cb=0),0}function Ac(p,b,A){return 3<=A&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function ea(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return Mn(p,2,"null VP8Io passed to VP8GetHeaders()");var A=b.data,M=b.w,U=b.ha;if(4>U)return Mn(p,7,"Truncated header.");var G=A[M+0]|A[M+1]<<8|A[M+2]<<16,X=p.Od;if(X.Rb=!(1&G),X.td=G>>1&7,X.yd=G>>4&1,X.ub=G>>5,3<X.td)return Mn(p,3,"Incorrect keyframe parameters.");if(!X.yd)return Mn(p,4,"Frame not displayable.");M+=3,U-=3;var te=p.Kc;if(X.Rb){if(7>U)return Mn(p,7,"cannot parse picture header");if(!Ac(A,M,U))return Mn(p,3,"Bad code word");te.c=16383&(A[M+4]<<8|A[M+3]),te.Td=A[M+4]>>6,te.i=16383&(A[M+6]<<8|A[M+5]),te.Ud=A[M+6]>>6,M+=7,U-=7,p.za=te.c+15>>4,p.Ub=te.i+15>>4,b.width=te.c,b.height=te.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((G=p.Pa).jb,0,255,G.jb.length),e((G=p.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,a(G.Zb,0,0,G.Zb.length),a(G.Lb,0,0,G.Lb)}if(X.ub>U)return Mn(p,7,"bad partition length");Q(G=p.m,A,M,X.ub),M+=X.ub,U-=X.ub,X.Rb&&(te.Ld=we(G),te.Kd=we(G)),te=p.Qa;var re,oe=p.Pa;if(e(G!=null),e(te!=null),te.Cb=we(G),te.Cb){if(te.Bb=we(G),we(G)){for(te.Fb=we(G),re=0;4>re;++re)te.Zb[re]=we(G)?ce(G,7):0;for(re=0;4>re;++re)te.Lb[re]=we(G)?ce(G,6):0}if(te.Bb)for(re=0;3>re;++re)oe.jb[re]=we(G)?K(G,8):255}else te.Bb=0;if(G.Ka)return Mn(p,3,"cannot parse segment header");if((te=p.ed).zd=we(G),te.Tb=K(G,6),te.wb=K(G,3),te.Pc=we(G),te.Pc&&we(G)){for(oe=0;4>oe;++oe)we(G)&&(te.vd[oe]=ce(G,6));for(oe=0;4>oe;++oe)we(G)&&(te.od[oe]=ce(G,6))}if(p.L=te.Tb==0?0:te.zd?1:2,G.Ka)return Mn(p,3,"cannot parse filter header");var ve=U;if(U=re=M,M=re+ve,te=ve,p.Xb=(1<<K(p.m,2))-1,ve<3*(oe=p.Xb))A=7;else{for(re+=3*oe,te-=3*oe,ve=0;ve<oe;++ve){var ke=A[U+0]|A[U+1]<<8|A[U+2]<<16;ke>te&&(ke=te),Q(p.Jc[+ve],A,re,ke),re+=ke,te-=ke,U+=3}Q(p.Jc[+oe],A,re,te),A=re<M?0:5}if(A!=0)return Mn(p,A,"cannot parse partitions");for(A=K(re=p.m,7),U=we(re)?ce(re,4):0,M=we(re)?ce(re,4):0,te=we(re)?ce(re,4):0,oe=we(re)?ce(re,4):0,re=we(re)?ce(re,4):0,ve=p.Qa,ke=0;4>ke;++ke){if(ve.Cb){var ae=ve.Zb[ke];ve.Fb||(ae+=A)}else{if(0<ke){p.pb[ke]=p.pb[0];continue}ae=A}var ye=p.pb[ke];ye.Sc[0]=vs[$i(ae+U,127)],ye.Sc[1]=bs[$i(ae+0,127)],ye.Eb[0]=2*vs[$i(ae+M,127)],ye.Eb[1]=101581*bs[$i(ae+te,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=vs[$i(ae+oe,117)],ye.Qc[1]=bs[$i(ae+re,127)],ye.lc=ae+re}if(!X.Rb)return Mn(p,4,"Not a key frame.");for(we(G),X=p.Pa,A=0;4>A;++A){for(U=0;8>U;++U)for(M=0;3>M;++M)for(te=0;11>te;++te)oe=Ae(G,Qn[A][U][M][te])?K(G,8):_d[A][U][M][te],X.Wc[A][U].Yb[M][te]=oe;for(U=0;17>U;++U)X.Xc[A][U]=X.Wc[A][mn[U]]}return p.kc=we(G),p.kc&&(p.Bd=K(G,8)),p.cb=1}function lo(p,b,A,M,U,G,X){var te=b[U].Yb[A];for(A=0;16>U;++U){if(!Ae(p,te[A+0]))return U;for(;!Ae(p,te[A+1]);)if(te=b[++U].Yb[0],A=0,U==16)return 16;var re=b[U+1].Yb;if(Ae(p,te[A+2])){var oe=p,ve=0;if(Ae(oe,(ae=te)[(ke=A)+3]))if(Ae(oe,ae[ke+6])){for(te=0,ke=2*(ve=Ae(oe,ae[ke+8]))+(ae=Ae(oe,ae[ke+9+ve])),ve=0,ae=wd[ke];ae[te];++te)ve+=ve+Ae(oe,ae[te]);ve+=3+(8<<ke)}else Ae(oe,ae[ke+7])?(ve=7+2*Ae(oe,165),ve+=Ae(oe,145)):ve=5+Ae(oe,159);else ve=Ae(oe,ae[ke+4])?3+Ae(oe,ae[ke+5]):2;te=re[2]}else ve=1,te=re[1];re=X+Yh[U],0>(oe=p).b&&pe(oe);var ke,ae=oe.b,ye=(ke=oe.Ca>>1)-(oe.I>>ae)>>31;--oe.b,oe.Ca+=ye,oe.Ca|=1,oe.I-=(ke+1&ye)<<ae,G[re]=((ve^ye)-ye)*M[(0<U)+0]}return 16}function Nc(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Ni(p,b,A,M,U){U=p[b+A+32*M]+(U>>3),p[b+A+32*M]=-256&U?0>U?0:255:U}function Fr(p,b,A,M,U,G){Ni(p,b,0,A,M+U),Ni(p,b,1,A,M+G),Ni(p,b,2,A,M-G),Ni(p,b,3,A,M-U)}function Er(p){return(20091*p>>16)+p}function Al(p,b,A,M){var U,G=0,X=o(16);for(U=0;4>U;++U){var te=p[b+0]+p[b+8],re=p[b+0]-p[b+8],oe=(35468*p[b+4]>>16)-Er(p[b+12]),ve=Er(p[b+4])+(35468*p[b+12]>>16);X[G+0]=te+ve,X[G+1]=re+oe,X[G+2]=re-oe,X[G+3]=te-ve,G+=4,b++}for(U=G=0;4>U;++U)te=(p=X[G+0]+4)+X[G+8],re=p-X[G+8],oe=(35468*X[G+4]>>16)-Er(X[G+12]),Ni(A,M,0,0,te+(ve=Er(X[G+4])+(35468*X[G+12]>>16))),Ni(A,M,1,0,re+oe),Ni(A,M,2,0,re-oe),Ni(A,M,3,0,te-ve),G++,M+=32}function bu(p,b,A,M){var U=p[b+0]+4,G=35468*p[b+4]>>16,X=Er(p[b+4]),te=35468*p[b+1]>>16;Fr(A,M,0,U+X,p=Er(p[b+1]),te),Fr(A,M,1,U+G,p,te),Fr(A,M,2,U-G,p,te),Fr(A,M,3,U-X,p,te)}function Cc(p,b,A,M,U){Al(p,b,A,M),U&&Al(p,b+16,A,M+4)}function Ci(p,b,A,M){Va(p,b+0,A,M,1),Va(p,b+32,A,M+128,1)}function Tc(p,b,A,M){var U;for(p=p[b+0]+4,U=0;4>U;++U)for(b=0;4>b;++b)Ni(A,M,b,U,p)}function Ec(p,b,A,M){p[b+0]&&Ln(p,b+0,A,M),p[b+16]&&Ln(p,b+16,A,M+4),p[b+32]&&Ln(p,b+32,A,M+128),p[b+48]&&Ln(p,b+48,A,M+128+4)}function Rs(p,b,A,M){var U,G=o(16);for(U=0;4>U;++U){var X=p[b+0+U]+p[b+12+U],te=p[b+4+U]+p[b+8+U],re=p[b+4+U]-p[b+8+U],oe=p[b+0+U]-p[b+12+U];G[0+U]=X+te,G[8+U]=X-te,G[4+U]=oe+re,G[12+U]=oe-re}for(U=0;4>U;++U)X=(p=G[0+4*U]+3)+G[3+4*U],te=G[1+4*U]+G[2+4*U],re=G[1+4*U]-G[2+4*U],oe=p-G[3+4*U],A[M+0]=X+te>>3,A[M+16]=oe+re>>3,A[M+32]=X-te>>3,A[M+48]=oe-re>>3,M+=64}function qo(p,b,A){var M,U=b-32,G=mi,X=255-p[U-1];for(M=0;M<A;++M){var te,re=G,oe=X+p[b-1];for(te=0;te<A;++te)p[b+te]=re[oe+p[U+te]];b+=32}}function yu(p,b){qo(p,b,4)}function xu(p,b){qo(p,b,8)}function kc(p,b){qo(p,b,16)}function Mc(p,b){var A;for(A=0;16>A;++A)i(p,b+32*A,p,b-32,16)}function wu(p,b){var A;for(A=16;0<A;--A)a(p,b,p[b-1],16),b+=32}function Vi(p,b,A){var M;for(M=0;16>M;++M)a(b,A+32*M,p,16)}function Is(p,b){var A,M=16;for(A=0;16>A;++A)M+=p[b-1+32*A]+p[b+A-32];Vi(M>>5,p,b)}function wa(p,b){var A,M=8;for(A=0;16>A;++A)M+=p[b-1+32*A];Vi(M>>4,p,b)}function zo(p,b){var A,M=8;for(A=0;16>A;++A)M+=p[b+A-32];Vi(M>>4,p,b)}function co(p,b){Vi(128,p,b)}function zt(p,b,A){return p+2*b+A+2>>2}function _u(p,b){var A,M=b-32;for(M=new Uint8Array([zt(p[M-1],p[M+0],p[M+1]),zt(p[M+0],p[M+1],p[M+2]),zt(p[M+1],p[M+2],p[M+3]),zt(p[M+2],p[M+3],p[M+4])]),A=0;4>A;++A)i(p,b+32*A,M,0,M.length)}function Lc(p,b){var A=p[b-1],M=p[b-1+32],U=p[b-1+64],G=p[b-1+96];Ge(p,b+0,16843009*zt(p[b-1-32],A,M)),Ge(p,b+32,16843009*zt(A,M,U)),Ge(p,b+64,16843009*zt(M,U,G)),Ge(p,b+96,16843009*zt(U,G,G))}function Su(p,b){var A,M=4;for(A=0;4>A;++A)M+=p[b+A-32]+p[b-1+32*A];for(M>>=3,A=0;4>A;++A)a(p,b+32*A,M,4)}function Ki(p,b){var A=p[b-1+0],M=p[b-1+32],U=p[b-1+64],G=p[b-1-32],X=p[b+0-32],te=p[b+1-32],re=p[b+2-32],oe=p[b+3-32];p[b+0+96]=zt(M,U,p[b-1+96]),p[b+1+96]=p[b+0+64]=zt(A,M,U),p[b+2+96]=p[b+1+64]=p[b+0+32]=zt(G,A,M),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=zt(X,G,A),p[b+3+64]=p[b+2+32]=p[b+1+0]=zt(te,X,G),p[b+3+32]=p[b+2+0]=zt(re,te,X),p[b+3+0]=zt(oe,re,te)}function ti(p,b){var A=p[b+1-32],M=p[b+2-32],U=p[b+3-32],G=p[b+4-32],X=p[b+5-32],te=p[b+6-32],re=p[b+7-32];p[b+0+0]=zt(p[b+0-32],A,M),p[b+1+0]=p[b+0+32]=zt(A,M,U),p[b+2+0]=p[b+1+32]=p[b+0+64]=zt(M,U,G),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=zt(U,G,X),p[b+3+32]=p[b+2+64]=p[b+1+96]=zt(G,X,te),p[b+3+64]=p[b+2+96]=zt(X,te,re),p[b+3+96]=zt(te,re,re)}function Oc(p,b){var A=p[b-1+0],M=p[b-1+32],U=p[b-1+64],G=p[b-1-32],X=p[b+0-32],te=p[b+1-32],re=p[b+2-32],oe=p[b+3-32];p[b+0+0]=p[b+1+64]=G+X+1>>1,p[b+1+0]=p[b+2+64]=X+te+1>>1,p[b+2+0]=p[b+3+64]=te+re+1>>1,p[b+3+0]=re+oe+1>>1,p[b+0+96]=zt(U,M,A),p[b+0+64]=zt(M,A,G),p[b+0+32]=p[b+1+96]=zt(A,G,X),p[b+1+32]=p[b+2+96]=zt(G,X,te),p[b+2+32]=p[b+3+96]=zt(X,te,re),p[b+3+32]=zt(te,re,oe)}function Po(p,b){var A=p[b+0-32],M=p[b+1-32],U=p[b+2-32],G=p[b+3-32],X=p[b+4-32],te=p[b+5-32],re=p[b+6-32],oe=p[b+7-32];p[b+0+0]=A+M+1>>1,p[b+1+0]=p[b+0+64]=M+U+1>>1,p[b+2+0]=p[b+1+64]=U+G+1>>1,p[b+3+0]=p[b+2+64]=G+X+1>>1,p[b+0+32]=zt(A,M,U),p[b+1+32]=p[b+0+96]=zt(M,U,G),p[b+2+32]=p[b+1+96]=zt(U,G,X),p[b+3+32]=p[b+2+96]=zt(G,X,te),p[b+3+64]=zt(X,te,re),p[b+3+96]=zt(te,re,oe)}function Qi(p,b){var A=p[b-1+0],M=p[b-1+32],U=p[b-1+64],G=p[b-1+96];p[b+0+0]=A+M+1>>1,p[b+2+0]=p[b+0+32]=M+U+1>>1,p[b+2+32]=p[b+0+64]=U+G+1>>1,p[b+1+0]=zt(A,M,U),p[b+3+0]=p[b+1+32]=zt(M,U,G),p[b+3+32]=p[b+1+64]=zt(U,G,G),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=G}function Uo(p,b){var A=p[b-1+0],M=p[b-1+32],U=p[b-1+64],G=p[b-1+96],X=p[b-1-32],te=p[b+0-32],re=p[b+1-32],oe=p[b+2-32];p[b+0+0]=p[b+2+32]=A+X+1>>1,p[b+0+32]=p[b+2+64]=M+A+1>>1,p[b+0+64]=p[b+2+96]=U+M+1>>1,p[b+0+96]=G+U+1>>1,p[b+3+0]=zt(te,re,oe),p[b+2+0]=zt(X,te,re),p[b+1+0]=p[b+3+32]=zt(A,X,te),p[b+1+32]=p[b+3+64]=zt(M,A,X),p[b+1+64]=p[b+3+96]=zt(U,M,A),p[b+1+96]=zt(G,U,M)}function ta(p,b){var A;for(A=0;8>A;++A)i(p,b+32*A,p,b-32,8)}function Au(p,b){var A;for(A=0;8>A;++A)a(p,b,p[b-1],8),b+=32}function cs(p,b,A){var M;for(M=0;8>M;++M)a(b,A+32*M,p,8)}function Nl(p,b){var A,M=8;for(A=0;8>A;++A)M+=p[b+A-32]+p[b-1+32*A];cs(M>>4,p,b)}function Cl(p,b){var A,M=4;for(A=0;8>A;++A)M+=p[b+A-32];cs(M>>3,p,b)}function Wr(p,b){var A,M=4;for(A=0;8>A;++A)M+=p[b-1+32*A];cs(M>>3,p,b)}function na(p,b){cs(128,p,b)}function us(p,b,A){var M=p[b-A],U=p[b+0],G=3*(U-M)+Fa[1020+p[b-2*A]-p[b+A]],X=zc[112+(G+4>>3)];p[b-A]=mi[255+M+zc[112+(G+3>>3)]],p[b+0]=mi[255+U-X]}function _a(p,b,A,M){var U=p[b+0],G=p[b+A];return ii[255+p[b-2*A]-p[b-A]]>M||ii[255+G-U]>M}function Tl(p,b,A,M){return 4*ii[255+p[b-A]-p[b+0]]+ii[255+p[b-2*A]-p[b+A]]<=M}function Ho(p,b,A,M,U){var G=p[b-3*A],X=p[b-2*A],te=p[b-A],re=p[b+0],oe=p[b+A],ve=p[b+2*A],ke=p[b+3*A];return 4*ii[255+te-re]+ii[255+X-oe]>M?0:ii[255+p[b-4*A]-G]<=U&&ii[255+G-X]<=U&&ii[255+X-te]<=U&&ii[255+ke-ve]<=U&&ii[255+ve-oe]<=U&&ii[255+oe-re]<=U}function Sa(p,b,A,M){var U=2*M+1;for(M=0;16>M;++M)Tl(p,b+M,A,U)&&us(p,b+M,A)}function Aa(p,b,A,M){var U=2*M+1;for(M=0;16>M;++M)Tl(p,b+M*A,1,U)&&us(p,b+M*A,1)}function Go(p,b,A,M){var U;for(U=3;0<U;--U)Sa(p,b+=4*A,A,M)}function jc(p,b,A,M){var U;for(U=3;0<U;--U)Aa(p,b+=4,A,M)}function Na(p,b,A,M,U,G,X,te){for(G=2*G+1;0<U--;){if(Ho(p,b,A,G,X))if(_a(p,b,A,te))us(p,b,A);else{var re=p,oe=b,ve=A,ke=re[oe-2*ve],ae=re[oe-ve],ye=re[oe+0],Ce=re[oe+ve],Be=re[oe+2*ve],Ee=27*(Pe=Fa[1020+3*(ye-ae)+Fa[1020+ke-Ce]])+63>>7,Fe=18*Pe+63>>7,Pe=9*Pe+63>>7;re[oe-3*ve]=mi[255+re[oe-3*ve]+Pe],re[oe-2*ve]=mi[255+ke+Fe],re[oe-ve]=mi[255+ae+Ee],re[oe+0]=mi[255+ye-Ee],re[oe+ve]=mi[255+Ce-Fe],re[oe+2*ve]=mi[255+Be-Pe]}b+=M}}function Ca(p,b,A,M,U,G,X,te){for(G=2*G+1;0<U--;){if(Ho(p,b,A,G,X))if(_a(p,b,A,te))us(p,b,A);else{var re=p,oe=b,ve=A,ke=re[oe-ve],ae=re[oe+0],ye=re[oe+ve],Ce=zc[112+(4+(Be=3*(ae-ke))>>3)],Be=zc[112+(Be+3>>3)],Ee=Ce+1>>1;re[oe-2*ve]=mi[255+re[oe-2*ve]+Ee],re[oe-ve]=mi[255+ke+Be],re[oe+0]=mi[255+ae-Ce],re[oe+ve]=mi[255+ye-Ee]}b+=M}}function Nu(p,b,A,M,U,G){Na(p,b,A,1,16,M,U,G)}function Ta(p,b,A,M,U,G){Na(p,b,1,A,16,M,U,G)}function Cu(p,b,A,M,U,G){var X;for(X=3;0<X;--X)Ca(p,b+=4*A,A,1,16,M,U,G)}function _(p,b,A,M,U,G){var X;for(X=3;0<X;--X)Ca(p,b+=4,1,A,16,M,U,G)}function P(p,b,A,M,U,G,X,te){Na(p,b,U,1,8,G,X,te),Na(A,M,U,1,8,G,X,te)}function le(p,b,A,M,U,G,X,te){Na(p,b,1,U,8,G,X,te),Na(A,M,1,U,8,G,X,te)}function ge(p,b,A,M,U,G,X,te){Ca(p,b+4*U,U,1,8,G,X,te),Ca(A,M+4*U,U,1,8,G,X,te)}function _e(p,b,A,M,U,G,X,te){Ca(p,b+4,1,U,8,G,X,te),Ca(A,M+4,1,U,8,G,X,te)}function ze(){this.ba=new Qe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tt(){this.ua=0,this.Wa=new at,this.vb=new at,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new he,this.yc=new ne}function Wt(){this.xb=this.a=0,this.l=new xa,this.ca=new Qe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tt,this.ab=0,this.gc=h(4,yt),this.Oc=0}function nn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function wn(p,b,A,M,U,G,X){for(p=p==null?0:p[b+0],b=0;b<X;++b)U[G+b]=p+A[M+b]&255,p=U[G+b]}function lr(p,b,A,M,U,G,X){var te;if(p==null)wn(null,null,A,M,U,G,X);else for(te=0;te<X;++te)U[G+te]=p[b+te]+A[M+te]&255}function Sr(p,b,A,M,U,G,X){if(p==null)wn(null,null,A,M,U,G,X);else{var te,re=p[b+0],oe=re,ve=re;for(te=0;te<X;++te)oe=ve+(re=p[b+te])-oe,ve=A[M+te]+(-256&oe?0>oe?0:255:oe)&255,oe=re,U[G+te]=ve}}function Hn(p,b,A,M){var U=b.width,G=b.o;if(e(p!=null&&b!=null),0>A||0>=M||A+M>G)return null;if(!p.Cc){if(p.ga==null){var X;if(p.ga=new nn,(X=p.ga==null)||(X=b.width*b.o,e(p.Gb.length==0),p.Gb=o(X),p.Uc=0,p.Gb==null?X=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,X=1),X=!X),!X){X=p.ga;var te=p.Fa,re=p.P,oe=p.qc,ve=p.mb,ke=p.nb,ae=re+1,ye=oe-1,Ce=X.l;if(e(te!=null&&ve!=null&&b!=null),Ba[0]=null,Ba[1]=wn,Ba[2]=lr,Ba[3]=Sr,X.ca=ve,X.tb=ke,X.c=b.width,X.i=b.height,e(0<X.c&&0<X.i),1>=oe)b=0;else if(X.$a=3&te[re+0],X.Z=te[re+0]>>2&3,X.Lc=te[re+0]>>4&3,re=te[re+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||re)b=0;else if(Ce.put=Ue,Ce.ac=He,Ce.bc=ut,Ce.ma=X,Ce.width=b.width,Ce.height=b.height,Ce.Da=b.Da,Ce.v=b.v,Ce.va=b.va,Ce.j=b.j,Ce.o=b.o,X.$a)e:{e(X.$a==1),b=di();t:for(;;){if(b==null){b=0;break e}if(e(X!=null),X.mc=b,b.c=X.c,b.i=X.i,b.l=X.l,b.l.ma=X,b.l.width=X.c,b.l.height=X.i,b.a=0,fe(b.m,te,ae,ye),!ls(X.c,X.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Xt(b.s)?(X.ic=1,te=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(te),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(X.ic=0,b=Ri(b,X.c)),!b))break t;b=1;break e}X.mc=null,b=0}else b=ye>=X.c*X.i;X=!b}if(X)return null;p.ga.Lc!=1?p.Ga=0:M=G-A}e(p.ga!=null),e(A+M<=G);e:{if(b=(te=p.ga).c,G=te.l.o,te.$a==0){if(ae=p.rc,ye=p.Vc,Ce=p.Fa,re=p.P+1+A*b,oe=p.mb,ve=p.nb+A*b,e(re<=p.P+p.qc),te.Z!=0)for(e(Ba[te.Z]!=null),X=0;X<M;++X)Ba[te.Z](ae,ye,Ce,re,oe,ve,b),ae=oe,ye=ve,ve+=b,re+=b;else for(X=0;X<M;++X)i(oe,ve,Ce,re,b),ae=oe,ye=ve,ve+=b,re+=b;p.rc=ae,p.Vc=ye}else{if(e(te.mc!=null),b=A+M,e((X=te.mc)!=null),e(b<=X.i),X.C>=b)b=1;else if(te.ic||Vs(),te.ic){te=X.V,ae=X.Ba,ye=X.c;var Be=X.i,Ee=(Ce=1,re=X.$/ye,oe=X.$%ye,ve=X.m,ke=X.s,X.$),Fe=ye*Be,Pe=ye*b,tt=ke.wc,Ze=Ee<Pe?Kt(ke,oe,re):null;e(Ee<=Fe),e(b<=Be),e(Xt(ke));t:for(;;){for(;!ve.h&&Ee<Pe;){if(oe&tt||(Ze=Kt(ke,oe,re)),e(Ze!=null),de(ve),256>(Be=Yt(Ze.G[0],Ze.H[0],ve)))te[ae+Ee]=Be,++Ee,++oe>=ye&&(oe=0,++re<=b&&!(re%16)&&Fn(X,re));else{if(!(280>Be)){Ce=0;break t}Be=Ct(Be-256,ve);var wt,pt=Yt(Ze.G[4],Ze.H[4],ve);if(de(ve),!(Ee>=(pt=Gt(ye,pt=Ct(pt,ve)))&&Fe-Ee>=Be)){Ce=0;break t}for(wt=0;wt<Be;++wt)te[ae+Ee+wt]=te[ae+Ee+wt-pt];for(Ee+=Be,oe+=Be;oe>=ye;)oe-=ye,++re<=b&&!(re%16)&&Fn(X,re);Ee<Pe&&oe&tt&&(Ze=Kt(ke,oe,re))}e(ve.h==ie(ve))}Fn(X,re>b?b:re);break t}!Ce||ve.h&&Ee<Fe?(Ce=0,X.a=ve.h?5:3):X.$=Ee,b=Ce}else b=Un(X,X.V,X.Ba,X.c,X.i,b,Os);if(!b){M=0;break e}}A+M>=G&&(p.Cc=1),M=1}if(!M)return null;if(p.Cc&&((M=p.ga)!=null&&(M.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*U}function Br(p,b,A,M,U,G){for(;0<U--;){var X,te=p,re=b+(A?1:0),oe=p,ve=b+(A?0:3);for(X=0;X<M;++X){var ke=oe[ve+4*X];ke!=255&&(ke*=32897,te[re+4*X+0]=te[re+4*X+0]*ke>>23,te[re+4*X+1]=te[re+4*X+1]*ke>>23,te[re+4*X+2]=te[re+4*X+2]*ke>>23)}b+=G}}function kr(p,b,A,M,U){for(;0<M--;){var G;for(G=0;G<A;++G){var X=p[b+2*G+0],te=15&(oe=p[b+2*G+1]),re=4369*te,oe=(240&oe|oe>>4)*re>>16;p[b+2*G+0]=(240&X|X>>4)*re>>16&240|(15&X|X<<4)*re>>16>>4&15,p[b+2*G+1]=240&oe|te}b+=U}}function ni(p,b,A,M,U,G,X,te){var re,oe,ve=255;for(oe=0;oe<U;++oe){for(re=0;re<M;++re){var ke=p[b+re];G[X+4*re]=ke,ve&=ke}b+=A,X+=te}return ve!=255}function Ea(p,b,A,M,U){var G;for(G=0;G<U;++G)A[M+G]=p[b+G]>>8}function Vs(){Zo=Br,fs=kr,Fc=ni,ts=Ea}function ka(p,b,A){V[p]=function(M,U,G,X,te,re,oe,ve,ke,ae,ye,Ce,Be,Ee,Fe,Pe,tt){var Ze,wt=tt-1>>1,pt=te[re+0]|oe[ve+0]<<16,Jt=ke[ae+0]|ye[Ce+0]<<16;e(M!=null);var bt=3*pt+Jt+131074>>2;for(b(M[U+0],255&bt,bt>>16,Be,Ee),G!=null&&(bt=3*Jt+pt+131074>>2,b(G[X+0],255&bt,bt>>16,Fe,Pe)),Ze=1;Ze<=wt;++Ze){var pn=te[re+Ze]|oe[ve+Ze]<<16,Jn=ke[ae+Ze]|ye[Ce+Ze]<<16,rn=pt+pn+Jt+Jn+524296,mt=rn+2*(pn+Jt)>>3;bt=mt+pt>>1,pt=(rn=rn+2*(pt+Jn)>>3)+pn>>1,b(M[U+2*Ze-1],255&bt,bt>>16,Be,Ee+(2*Ze-1)*A),b(M[U+2*Ze-0],255&pt,pt>>16,Be,Ee+(2*Ze-0)*A),G!=null&&(bt=rn+Jt>>1,pt=mt+Jn>>1,b(G[X+2*Ze-1],255&bt,bt>>16,Fe,Pe+(2*Ze-1)*A),b(G[X+2*Ze+0],255&pt,pt>>16,Fe,Pe+(2*Ze+0)*A)),pt=pn,Jt=Jn}1&tt||(bt=3*pt+Jt+131074>>2,b(M[U+tt-1],255&bt,bt>>16,Be,Ee+(tt-1)*A),G!=null&&(bt=3*Jt+pt+131074>>2,b(G[X+tt-1],255&bt,bt>>16,Fe,Pe+(tt-1)*A)))}}function Dc(){ai[Mu]=Qo,ai[gi]=Fl,ai[Lu]=Zh,ai[ds]=Iu,ai[Pc]=vo,ai[Rl]=ha,ai[po]=bo,ai[Uc]=Fl,ai[Ou]=Iu,ai[Il]=vo,ai[ju]=ha}function El(p){return p&-16384?0>p?0:255:p>>Vu}function ra(p,b){return El((19077*p>>8)+(26149*b>>8)-14234)}function Fs(p,b,A){return El((19077*p>>8)-(6419*b>>8)-(13320*A>>8)+8708)}function Wo(p,b){return El((19077*p>>8)+(33050*b>>8)-17685)}function Ma(p,b,A,M,U){M[U+0]=ra(p,A),M[U+1]=Fs(p,b,A),M[U+2]=Wo(p,b)}function Yr(p,b,A,M,U){M[U+0]=Wo(p,b),M[U+1]=Fs(p,b,A),M[U+2]=ra(p,A)}function uo(p,b,A,M,U){var G=Fs(p,b,A);b=G<<3&224|Wo(p,b)>>3,M[U+0]=248&ra(p,A)|G>>5,M[U+1]=b}function ho(p,b,A,M,U){var G=240&Wo(p,b)|15;M[U+0]=240&ra(p,A)|Fs(p,b,A)>>4,M[U+1]=G}function kl(p,b,A,M,U){M[U+0]=255,Ma(p,b,A,M,U+1)}function ia(p,b,A,M,U){Yr(p,b,A,M,U),M[U+3]=255}function Ti(p,b,A,M,U){Ma(p,b,A,M,U),M[U+3]=255}function La(p,b,A){V[p]=function(M,U,G,X,te,re,oe,ve,ke){for(var ae=ve+(-2&ke)*A;ve!=ae;)b(M[U+0],G[X+0],te[re+0],oe,ve),b(M[U+1],G[X+0],te[re+0],oe,ve+A),U+=2,++X,++re,ve+=2*A;1&ke&&b(M[U+0],G[X+0],te[re+0],oe,ve)}}function Ml(p,b,A){return A==0?p==0?b==0?6:5:b==0?4:0:A}function Rc(p,b,A,M,U){switch(p>>>30){case 3:Va(b,A,M,U,0);break;case 2:pi(b,A,M,U);break;case 1:Ln(b,A,M,U)}}function Ji(p,b){var A,M,U=b.M,G=b.Nb,X=p.oc,te=p.pc+40,re=p.oc,oe=p.pc+584,ve=p.oc,ke=p.pc+600;for(A=0;16>A;++A)X[te+32*A-1]=129;for(A=0;8>A;++A)re[oe+32*A-1]=129,ve[ke+32*A-1]=129;for(0<U?X[te-1-32]=re[oe-1-32]=ve[ke-1-32]=129:(a(X,te-32-1,127,21),a(re,oe-32-1,127,9),a(ve,ke-32-1,127,9)),M=0;M<p.za;++M){var ae=b.ya[b.aa+M];if(0<M){for(A=-1;16>A;++A)i(X,te+32*A-4,X,te+32*A+12,4);for(A=-1;8>A;++A)i(re,oe+32*A-4,re,oe+32*A+4,4),i(ve,ke+32*A-4,ve,ke+32*A+4,4)}var ye=p.Gd,Ce=p.Hd+M,Be=ae.ad,Ee=ae.Hc;if(0<U&&(i(X,te-32,ye[Ce].y,0,16),i(re,oe-32,ye[Ce].f,0,8),i(ve,ke-32,ye[Ce].ea,0,8)),ae.Za){var Fe=X,Pe=te-32+16;for(0<U&&(M>=p.za-1?a(Fe,Pe,ye[Ce].y[15],4):i(Fe,Pe,ye[Ce+1].y,0,4)),A=0;4>A;A++)Fe[Pe+128+A]=Fe[Pe+256+A]=Fe[Pe+384+A]=Fe[Pe+0+A];for(A=0;16>A;++A,Ee<<=2)Fe=X,Pe=te+Cr[A],vr[ae.Ob[A]](Fe,Pe),Rc(Ee,Be,16*+A,Fe,Pe)}else if(Fe=Ml(M,U,ae.Ob[0]),ki[Fe](X,te),Ee!=0)for(A=0;16>A;++A,Ee<<=2)Rc(Ee,Be,16*+A,X,te+Cr[A]);for(A=ae.Gc,Fe=Ml(M,U,ae.Dd),Ps[Fe](re,oe),Ps[Fe](ve,ke),Ee=Be,Fe=re,Pe=oe,255&(ae=0|A)&&(170&ae?hs(Ee,256,Fe,Pe):_n(Ee,256,Fe,Pe)),ae=ve,Ee=ke,255&(A>>=8)&&(170&A?hs(Be,320,ae,Ee):_n(Be,320,ae,Ee)),U<p.Ub-1&&(i(ye[Ce].y,0,X,te+480,16),i(ye[Ce].f,0,re,oe+224,8),i(ye[Ce].ea,0,ve,ke+224,8)),A=8*G*p.B,ye=p.sa,Ce=p.ta+16*M+16*G*p.R,Be=p.qa,ae=p.ra+8*M+A,Ee=p.Ha,Fe=p.Ia+8*M+A,A=0;16>A;++A)i(ye,Ce+A*p.R,X,te+32*A,16);for(A=0;8>A;++A)i(Be,ae+A*p.B,re,oe+32*A,8),i(Ee,Fe+A*p.B,ve,ke+32*A,8)}}function Bs(p,b,A,M,U,G,X,te,re){var oe=[0],ve=[0],ke=0,ae=re!=null?re.kd:0,ye=re??new Ke;if(p==null||12>A)return 7;ye.data=p,ye.w=b,ye.ha=A,b=[b],A=[A],ye.gb=[ye.gb];e:{var Ce=b,Be=A,Ee=ye.gb;if(e(p!=null),e(Be!=null),e(Ee!=null),Ee[0]=0,12<=Be[0]&&!t(p,Ce[0],"RIFF")){if(t(p,Ce[0]+8,"WEBP")){Ee=3;break e}var Fe=st(p,Ce[0]+4);if(12>Fe||4294967286<Fe){Ee=3;break e}if(ae&&Fe>Be[0]-8){Ee=7;break e}Ee[0]=Fe,Ce[0]+=12,Be[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Fe=0<ye.gb[0],A=A[0];;){e:{var Pe=p;Be=b,Ee=A;var tt=oe,Ze=ve,wt=Ce=[0];if((bt=ke=[ke])[0]=0,8>Ee[0])Ee=7;else{if(!t(Pe,Be[0],"VP8X")){if(st(Pe,Be[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var pt=st(Pe,Be[0]+8),Jt=1+it(Pe,Be[0]+12);if(2147483648<=Jt*(Pe=1+it(Pe,Be[0]+15))){Ee=3;break e}wt!=null&&(wt[0]=pt),tt!=null&&(tt[0]=Jt),Ze!=null&&(Ze[0]=Pe),Be[0]+=18,Ee[0]-=18,bt[0]=1}Ee=0}}if(ke=ke[0],Ce=Ce[0],Ee!=0)return Ee;if(Be=!!(2&Ce),!Fe&&ke)return 3;if(G!=null&&(G[0]=!!(16&Ce)),X!=null&&(X[0]=Be),te!=null&&(te[0]=0),X=oe[0],Ce=ve[0],ke&&Be&&re==null){Ee=0;break}if(4>A){Ee=7;break}if(Fe&&ke||!Fe&&!ke&&!t(p,b[0],"ALPH")){A=[A],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{pt=p,Ee=b,Fe=A;var bt=ye.gb;tt=ye.na,Ze=ye.P,wt=ye.Sa,Jt=22,e(pt!=null),e(Fe!=null),Pe=Ee[0];var pn=Fe[0];for(e(tt!=null),e(wt!=null),tt[0]=null,Ze[0]=null,wt[0]=0;;){if(Ee[0]=Pe,Fe[0]=pn,8>pn){Ee=7;break e}var Jn=st(pt,Pe+4);if(4294967286<Jn){Ee=3;break e}var rn=8+Jn+1&-2;if(Jt+=rn,0<bt&&Jt>bt){Ee=3;break e}if(!t(pt,Pe,"VP8 ")||!t(pt,Pe,"VP8L")){Ee=0;break e}if(pn[0]<rn){Ee=7;break e}t(pt,Pe,"ALPH")||(tt[0]=pt,Ze[0]=Pe+8,wt[0]=Jn),Pe+=rn,pn-=rn}}if(A=A[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],Ee!=0)break}A=[A],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(bt=p,Ee=b,Fe=A,tt=ye.gb[0],Ze=ye.Ja,wt=ye.xa,pt=Ee[0],Pe=!t(bt,pt,"VP8 "),Jt=!t(bt,pt,"VP8L"),e(bt!=null),e(Fe!=null),e(Ze!=null),e(wt!=null),8>Fe[0])Ee=7;else{if(Pe||Jt){if(bt=st(bt,pt+4),12<=tt&&bt>tt-12){Ee=3;break e}if(ae&&bt>Fe[0]-8){Ee=7;break e}Ze[0]=bt,Ee[0]+=8,Fe[0]-=8,wt[0]=Jt}else wt[0]=5<=Fe[0]&&bt[pt+0]==47&&!(bt[pt+4]>>5),Ze[0]=Fe[0];Ee=0}if(A=A[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],b=b[0],Ee!=0)break;if(4294967286<ye.Ja)return 3;if(te==null||Be||(te[0]=ye.xa?2:1),X=[X],Ce=[Ce],ye.xa){if(5>A){Ee=7;break}te=X,ae=Ce,Be=G,p==null||5>A?p=0:5<=A&&p[b+0]==47&&!(p[b+4]>>5)?(Fe=[0],bt=[0],tt=[0],fe(Ze=new z,p,b,A),gt(Ze,Fe,bt,tt)?(te!=null&&(te[0]=Fe[0]),ae!=null&&(ae[0]=bt[0]),Be!=null&&(Be[0]=tt[0]),p=1):p=0):p=0}else{if(10>A){Ee=7;break}te=Ce,p==null||10>A||!Ac(p,b+3,A-3)?p=0:(ae=p[b+0]|p[b+1]<<8|p[b+2]<<16,Be=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=ye.Ja||!Be||!p?p=0:(X&&(X[0]=Be),te&&(te[0]=p),p=1))}if(!p||(X=X[0],Ce=Ce[0],ke&&(oe[0]!=X||ve[0]!=Ce)))return 3;re!=null&&(re[0]=ye,re.offset=b-re.w,e(4294967286>b-re.w),e(re.offset==re.ha-A));break}return Ee==0||Ee==7&&ke&&re==null?(G!=null&&(G[0]|=ye.na!=null&&0<ye.na.length),M!=null&&(M[0]=X),U!=null&&(U[0]=Ce),0):Ee}function Oa(p,b,A){var M=b.width,U=b.height,G=0,X=0,te=M,re=U;if(b.Da=p!=null&&0<p.Da,b.Da&&(te=p.cd,re=p.bd,G=p.v,X=p.j,11>A||(G&=-2,X&=-2),0>G||0>X||0>=te||0>=re||G+te>M||X+re>U))return 0;if(b.v=G,b.j=X,b.va=G+te,b.o=X+re,b.U=te,b.T=re,b.da=p!=null&&0<p.da,b.da){if(!$e(te,re,A=[p.ib],G=[p.hb]))return 0;b.ib=A[0],b.hb=G[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*M/4&&b.hb<3*U/4,b.Kb=0),1}function Ic(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function qs(p,b,A,M){if(M==null||0>=p||0>=b)return 2;if(A!=null){if(A.Da){var U=A.cd,G=A.bd,X=-2&A.v,te=-2&A.j;if(0>X||0>te||0>=U||0>=G||X+U>p||te+G>b)return 2;p=U,b=G}if(A.da){if(!$e(p,b,U=[A.ib],G=[A.hb]))return 2;p=U[0],b=G[0]}}M.width=p,M.height=b;e:{var re=M.width,oe=M.height;if(p=M.S,0>=re||0>=oe||!(p>=Mu&&13>p))p=2;else{if(0>=M.Rd&&M.sd==null){X=G=U=b=0;var ve=(te=re*Bu[p])*oe;if(11>p||(G=(oe+1)/2*(b=(re+1)/2),p==12&&(X=(U=re)*oe)),(oe=o(ve+2*G+X))==null){p=1;break e}M.sd=oe,11>p?((re=M.f.RGBA).eb=oe,re.fb=0,re.A=te,re.size=ve):((re=M.f.kb).y=oe,re.O=0,re.fa=te,re.Fd=ve,re.f=oe,re.N=0+ve,re.Ab=b,re.Cd=G,re.ea=oe,re.W=0+ve+G,re.Db=b,re.Ed=G,p==12&&(re.F=oe,re.J=0+ve+2*G),re.Tc=X,re.lb=U)}if(b=1,U=M.S,G=M.width,X=M.height,U>=Mu&&13>U)if(11>U)p=M.f.RGBA,b&=(te=Math.abs(p.A))*(X-1)+G<=p.size,b&=te>=G*Bu[U],b&=p.eb!=null;else{p=M.f.kb,te=(G+1)/2,ve=(X+1)/2,re=Math.abs(p.fa),oe=Math.abs(p.Ab);var ke=Math.abs(p.Db),ae=Math.abs(p.lb),ye=ae*(X-1)+G;b&=re*(X-1)+G<=p.Fd,b&=oe*(ve-1)+te<=p.Cd,b=(b&=ke*(ve-1)+te<=p.Ed)&re>=G&oe>=te&ke>=te,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,U==12&&(b&=ae>=G,b&=ye<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||A!=null&&A.fd&&(p=Ic(M)),p}var fo=64,Fi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ei=24,sa=32,aa=8,ja=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];rt("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(p){return p},V.Predictor2=function(p,b,A){return b[A+0]},V.Predictor3=function(p,b,A){return b[A+1]},V.Predictor4=function(p,b,A){return b[A-1]},V.Predictor5=function(p,b,A){return ft(ft(p,b[A+1]),b[A+0])},V.Predictor6=function(p,b,A){return ft(p,b[A-1])},V.Predictor7=function(p,b,A){return ft(p,b[A+0])},V.Predictor8=function(p,b,A){return ft(b[A-1],b[A+0])},V.Predictor9=function(p,b,A){return ft(b[A+0],b[A+1])},V.Predictor10=function(p,b,A){return ft(ft(p,b[A-1]),ft(b[A+0],b[A+1]))},V.Predictor11=function(p,b,A){var M=b[A+0];return 0>=jt(M>>24&255,p>>24&255,(b=b[A-1])>>24&255)+jt(M>>16&255,p>>16&255,b>>16&255)+jt(M>>8&255,p>>8&255,b>>8&255)+jt(255&M,255&p,255&b)?M:p},V.Predictor12=function(p,b,A){var M=b[A+0];return(At((p>>24&255)+(M>>24&255)-((b=b[A-1])>>24&255))<<24|At((p>>16&255)+(M>>16&255)-(b>>16&255))<<16|At((p>>8&255)+(M>>8&255)-(b>>8&255))<<8|At((255&p)+(255&M)-(255&b)))>>>0},V.Predictor13=function(p,b,A){var M=b[A-1];return(Ft((p=ft(p,b[A+0]))>>24&255,M>>24&255)<<24|Ft(p>>16&255,M>>16&255)<<16|Ft(p>>8&255,M>>8&255)<<8|Ft(255&p,255&M))>>>0};var Ll=V.PredictorAdd0;V.PredictorAdd1=kt,rt("Predictor2","PredictorAdd2"),rt("Predictor3","PredictorAdd3"),rt("Predictor4","PredictorAdd4"),rt("Predictor5","PredictorAdd5"),rt("Predictor6","PredictorAdd6"),rt("Predictor7","PredictorAdd7"),rt("Predictor8","PredictorAdd8"),rt("Predictor9","PredictorAdd9"),rt("Predictor10","PredictorAdd10"),rt("Predictor11","PredictorAdd11"),rt("Predictor12","PredictorAdd12"),rt("Predictor13","PredictorAdd13");var Ol=V.PredictorAdd2;Ye("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Ye("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Ar,Tu=V.ColorIndexInverseTransform,oa=V.MapARGB,la=V.VP8LColorIndexInverseTransformAlpha,ri=V.MapAlpha,Da=V.VP8LPredictorsAdd=[];Da.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var jl,Dl,Ra,Ia,ca,Yo,es,Va,pi,hs,Ln,_n,Gn,Nr,ua,zs,Xo,Vc,Hh,bd,yd,xd,Gh,Wh,Zo,fs,Fc,ts,$o=o(511),Eu=o(2041),Bc=o(225),qc=o(767),ku=0,Fa=Eu,zc=Bc,mi=qc,ii=$o,Mu=0,gi=1,Lu=2,ds=3,Pc=4,Rl=5,po=6,Uc=7,Ou=8,Il=9,ju=10,ps=[2,3,7],Vl=[3,3,11],Ko=[280,256,256,256,40],Du=[0,1,1,1,0],Hc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ms=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],gs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mo=8,vs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ns=null,wd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Yh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ru=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_d=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],si=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Qn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],mn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ki=[],vr=[],Ps=[],go=1,Xh=2,Ba=[],ai=[];ka("UpsampleRgbLinePair",Ma,3),ka("UpsampleBgrLinePair",Yr,3),ka("UpsampleRgbaLinePair",Ti,4),ka("UpsampleBgraLinePair",ia,4),ka("UpsampleArgbLinePair",kl,4),ka("UpsampleRgba4444LinePair",ho,2),ka("UpsampleRgb565LinePair",uo,2);var Qo=V.UpsampleRgbLinePair,Zh=V.UpsampleBgrLinePair,Fl=V.UpsampleRgbaLinePair,Iu=V.UpsampleBgraLinePair,vo=V.UpsampleArgbLinePair,ha=V.UpsampleRgba4444LinePair,bo=V.UpsampleRgb565LinePair,ys=16,Bl=1<<ys-1,Jo=-227,yo=482,Vu=6,xo=0,oi=o(256),Fu=o(256),Sd=o(256),Gp=o(256),Wp=o(yo-Jo),Yp=o(yo-Jo);La("YuvToRgbRow",Ma,3),La("YuvToBgrRow",Yr,3),La("YuvToRgbaRow",Ti,4),La("YuvToBgraRow",ia,4),La("YuvToArgbRow",kl,4),La("YuvToRgba4444Row",ho,2),La("YuvToRgb565Row",uo,2);var Cr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ql=[0,2,8],Gc=[8,7,6,4,4,2,2,2,1,1,1,1],Wc=1;this.WebPDecodeRGBA=function(p,b,A,M,U){var G=gi,X=new ze,te=new Qe;X.ba=te,te.S=G,te.width=[te.width],te.height=[te.height];var re=te.width,oe=te.height,ve=new et;if(ve==null||p==null)var ke=2;else e(ve!=null),ke=Bs(p,b,A,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(ke!=0?re=0:(re!=null&&(re[0]=ve.width[0]),oe!=null&&(oe[0]=ve.height[0]),re=1),re){te.width=te.width[0],te.height=te.height[0],M!=null&&(M[0]=te.width),U!=null&&(U[0]=te.height);e:{if(M=new xa,(U=new Ke).data=p,U.w=b,U.ha=A,U.kd=1,b=[0],e(U!=null),((p=Bs(U.data,U.w,U.ha,null,null,null,b,null,U))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(e(X!=null),M.data=U.data,M.w=U.w+U.offset,M.ha=U.ha-U.offset,M.put=Ue,M.ac=He,M.bc=ut,M.ma=X,U.xa){if((p=di())==null){X=1;break e}if((function(ae,ye){var Ce=[0],Be=[0],Ee=[0];t:for(;;){if(ae==null)return 0;if(ye==null)return ae.a=2,0;if(ae.l=ye,ae.a=0,fe(ae.m,ye.data,ye.w,ye.ha),!gt(ae.m,Ce,Be,Ee)){ae.a=3;break t}if(ae.xb=Xh,ye.width=Ce[0],ye.height=Be[0],!ls(Ce[0],Be[0],1,ae,null))break t;return 1}return e(ae.a!=0),0})(p,M)){if(M=(b=qs(M.width,M.height,X.Oa,X.ba))==0){t:{M=p;n:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((A=M.l)!=null),e((U=A.ma)!=null),M.xb!=0){if(M.ca=U.ba,M.tb=U.tb,e(M.ca!=null),!Oa(U.Oa,A,ds)){M.a=2;break n}if(!Ri(M,A.width)||A.da)break n;if((A.da||Dt(M.ca.S))&&Vs(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Vs()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!W(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!Un(M,M.V,M.Ba,M.c,M.i,A.o,Qt))break n;U.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(b=p.a)}else b=p.a}else{if((p=new Ds)==null){X=1;break e}if(p.Fa=U.na,p.P=U.P,p.qc=U.Sa,ea(p,M)){if((b=qs(M.width,M.height,X.Oa,X.ba))==0){if(p.Aa=0,A=X.Oa,e((U=p)!=null),A!=null){if(0<(re=0>(re=A.Md)?0:100<re?255:255*re/100)){for(oe=ve=0;4>oe;++oe)12>(ke=U.pb[oe]).lc&&(ke.ia=re*Gc[0>ke.lc?0:ke.lc]>>3),ve|=ke.ia;ve&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=A.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ae,ye){if(ae==null)return 0;if(ye==null)return Mn(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!ea(ae,ye))return 0;if(e(ae.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(ae.L=0);var Ce=ql[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=ye.v-Ce>>4,ae.zb=ye.j-Ce>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=ye.o+15+Ce>>4,ae.Hb=ye.va+15+Ce>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Be=ae.ed;for(Ce=0;4>Ce;++Ce){var Ee;if(ae.Qa.Cb){var Fe=ae.Qa.Lb[Ce];ae.Qa.Fb||(Fe+=Be.Tb)}else Fe=Be.Tb;for(Ee=0;1>=Ee;++Ee){var Pe=ae.gd[Ce][Ee],tt=Fe;if(Be.Pc&&(tt+=Be.vd[0],Ee&&(tt+=Be.od[0])),0<(tt=0>tt?0:63<tt?63:tt)){var Ze=tt;0<Be.wb&&(Ze=4<Be.wb?Ze>>2:Ze>>1)>9-Be.wb&&(Ze=9-Be.wb),1>Ze&&(Ze=1),Pe.dd=Ze,Pe.tc=2*tt+Ze,Pe.ld=40<=tt?2:15<=tt?1:0}else Pe.tc=0;Pe.La=Ee}}}Ce=0}else Mn(ae,6,"Frame setup failed"),Ce=ae.a;if(Ce=Ce==0){if(Ce){ae.$c=0,0<ae.Aa||(ae.Ic=Wc);t:{Ce=ae.Ic,Be=4*(Ze=ae.za);var wt=32*Ze,pt=Ze+1,Jt=0<ae.L?Ze*(0<ae.Aa?2:1):0,bt=(ae.Aa==2?2:1)*Ze;if((Pe=Be+832+(Ee=3*(16*Ce+ql[ae.L])/2*wt)+(Fe=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=Pe)Ce=0;else{if(Pe>ae.Vb){if(ae.Vb=0,ae.Ec=o(Pe),ae.Fc=0,ae.Ec==null){Ce=Mn(ae,1,"no memory during frame initialization.");break t}ae.Vb=Pe}Pe=ae.Ec,tt=ae.Fc,ae.Ac=Pe,ae.Bc=tt,tt+=Be,ae.Gd=h(wt,Sc),ae.Hd=0,ae.rb=h(pt+1,Zi),ae.sb=1,ae.wa=Jt?h(Jt,Ai):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=Ze),e(!0),ae.oc=Pe,ae.pc=tt,tt+=832,ae.ya=h(bt,wc),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=Ze),ae.R=16*Ze,ae.B=8*Ze,Ze=(wt=ql[ae.L])*ae.R,wt=wt/2*ae.B,ae.sa=Pe,ae.ta=tt+Ze,ae.qa=ae.sa,ae.ra=ae.ta+16*Ce*ae.R+wt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Ce*ae.B+wt,ae.$c=0,tt+=Ee,ae.mb=Fe?Pe:null,ae.nb=Fe?tt:null,e(tt+Fe<=ae.Fc+ae.Vb),Nc(ae),a(ae.Ac,ae.Bc,0,Be),Ce=1}}if(Ce){if(ye.ka=0,ye.y=ae.sa,ye.O=ae.ta,ye.f=ae.qa,ye.N=ae.ra,ye.ea=ae.Ha,ye.Vd=ae.Ia,ye.fa=ae.R,ye.Rc=ae.B,ye.F=null,ye.J=0,!ku){for(Ce=-255;255>=Ce;++Ce)$o[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)Eu[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)Bc[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)qc[255+Ce]=0>Ce?0:255<Ce?255:Ce;ku=1}es=Rs,Va=Cc,hs=Ci,Ln=Tc,_n=Ec,pi=bu,Gn=Nu,Nr=Ta,ua=P,zs=le,Xo=Cu,Vc=_,Hh=ge,bd=_e,yd=Sa,xd=Aa,Gh=Go,Wh=jc,vr[0]=Su,vr[1]=yu,vr[2]=_u,vr[3]=Lc,vr[4]=Ki,vr[5]=Oc,vr[6]=ti,vr[7]=Po,vr[8]=Uo,vr[9]=Qi,ki[0]=Is,ki[1]=kc,ki[2]=Mc,ki[3]=wu,ki[4]=wa,ki[5]=zo,ki[6]=co,Ps[0]=Nl,Ps[1]=xu,Ps[2]=ta,Ps[3]=Au,Ps[4]=Wr,Ps[5]=Cl,Ps[6]=na,Ce=1}else Ce=0}Ce&&(Ce=(function(pn,Jn){for(pn.M=0;pn.M<pn.Va;++pn.M){var rn,mt=pn.Jc[pn.M&pn.Xb],ct=pn.m,cr=pn;for(rn=0;rn<cr.za;++rn){var Pt=ct,on=cr,Rn=on.Ac,qr=on.Bc+4*rn,li=on.zc,Wn=on.ya[on.aa+rn];if(on.Qa.Bb?Wn.$b=Ae(Pt,on.Pa.jb[0])?2+Ae(Pt,on.Pa.jb[2]):Ae(Pt,on.Pa.jb[1]):Wn.$b=0,on.kc&&(Wn.Ad=Ae(Pt,on.Bd)),Wn.Za=!Ae(Pt,145)+0,Wn.Za){var Mr=Wn.Ob,vi=0;for(on=0;4>on;++on){var Lr,hn=li[0+on];for(Lr=0;4>Lr;++Lr){hn=si[Rn[qr+Lr]][hn];for(var Nn=Ru[Ae(Pt,hn[0])];0<Nn;)Nn=Ru[2*Nn+Ae(Pt,hn[Nn])];hn=-Nn,Rn[qr+Lr]=hn}i(Mr,vi,Rn,qr,4),vi+=4,li[0+on]=hn}}else hn=Ae(Pt,156)?Ae(Pt,128)?1:3:Ae(Pt,163)?2:0,Wn.Ob[0]=hn,a(Rn,qr,hn,4),a(li,0,hn,4);Wn.Dd=Ae(Pt,142)?Ae(Pt,114)?Ae(Pt,183)?1:3:2:0}if(cr.m.Ka)return Mn(pn,7,"Premature end-of-partition0 encountered.");for(;pn.ja<pn.za;++pn.ja){if(cr=mt,Pt=(ct=pn).rb[ct.sb-1],Rn=ct.rb[ct.sb+ct.ja],rn=ct.ya[ct.aa+ct.ja],qr=ct.kc?rn.Ad:0)Pt.la=Rn.la=0,rn.Za||(Pt.Na=Rn.Na=0),rn.Hc=0,rn.Gc=0,rn.ia=0;else{var ur,On;if(Pt=Rn,Rn=cr,qr=ct.Pa.Xc,li=ct.ya[ct.aa+ct.ja],Wn=ct.pb[li.$b],on=li.ad,Mr=0,vi=ct.rb[ct.sb-1],hn=Lr=0,a(on,Mr,0,384),li.Za)var zr=0,hr=qr[3];else{Nn=o(16);var Cn=Pt.Na+vi.Na;if(Cn=ns(Rn,qr[1],Cn,Wn.Eb,0,Nn,0),Pt.Na=vi.Na=(0<Cn)+0,1<Cn)es(Nn,0,on,Mr);else{var Tr=Nn[0]+3>>3;for(Nn=0;256>Nn;Nn+=16)on[Mr+Nn]=Tr}zr=1,hr=qr[0]}var In=15&Pt.la,Or=15&vi.la;for(Nn=0;4>Nn;++Nn){var jr=1&Or;for(Tr=On=0;4>Tr;++Tr)In=In>>1|(jr=(Cn=ns(Rn,hr,Cn=jr+(1&In),Wn.Sc,zr,on,Mr))>zr)<<7,On=On<<2|(3<Cn?3:1<Cn?2:on[Mr+0]!=0),Mr+=16;In>>=4,Or=Or>>1|jr<<7,Lr=(Lr<<8|On)>>>0}for(hr=In,zr=Or>>4,ur=0;4>ur;ur+=2){for(On=0,In=Pt.la>>4+ur,Or=vi.la>>4+ur,Nn=0;2>Nn;++Nn){for(jr=1&Or,Tr=0;2>Tr;++Tr)Cn=jr+(1&In),In=In>>1|(jr=0<(Cn=ns(Rn,qr[2],Cn,Wn.Qc,0,on,Mr)))<<3,On=On<<2|(3<Cn?3:1<Cn?2:on[Mr+0]!=0),Mr+=16;In>>=2,Or=Or>>1|jr<<5}hn|=On<<4*ur,hr|=In<<4<<ur,zr|=(240&Or)<<ur}Pt.la=hr,vi.la=zr,li.Hc=Lr,li.Gc=hn,li.ia=43690&hn?0:Wn.ia,qr=!(Lr|hn)}if(0<ct.L&&(ct.wa[ct.Y+ct.ja]=ct.gd[rn.$b][rn.Za],ct.wa[ct.Y+ct.ja].La|=!qr),cr.Ka)return Mn(pn,7,"Premature end-of-file encountered.")}if(Nc(pn),ct=Jn,cr=1,rn=(mt=pn).D,Pt=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(rn.M=mt.M,rn.uc=Pt,Ji(mt,rn),cr=1,rn=(On=mt.D).Nb,Pt=(hn=ql[mt.L])*mt.R,Rn=hn/2*mt.B,Nn=16*rn*mt.R,Tr=8*rn*mt.B,qr=mt.sa,li=mt.ta-Pt+Nn,Wn=mt.qa,on=mt.ra-Rn+Tr,Mr=mt.Ha,vi=mt.Ia-Rn+Tr,Or=(In=On.M)==0,Lr=In>=mt.Va-1,mt.Aa==2&&Ji(mt,On),On.uc)for(jr=(Cn=mt).D.M,e(Cn.D.uc),On=Cn.yb;On<Cn.Hb;++On){zr=On,hr=jr;var Bn=(Sn=(Dr=Cn).D).Nb;ur=Dr.R;var Sn=Sn.wa[Sn.Y+zr],bi=Dr.sa,br=Dr.ta+16*Bn*ur+16*zr,Rt=Sn.dd,It=Sn.tc;if(It!=0)if(e(3<=It),Dr.L==1)0<zr&&xd(bi,br,ur,It+4),Sn.La&&Wh(bi,br,ur,It),0<hr&&yd(bi,br,ur,It+4),Sn.La&&Gh(bi,br,ur,It);else{var Tn=Dr.B,Bi=Dr.qa,xs=Dr.ra+8*Bn*Tn+8*zr,Mi=Dr.Ha,Dr=Dr.Ia+8*Bn*Tn+8*zr;Bn=Sn.ld,0<zr&&(Nr(bi,br,ur,It+4,Rt,Bn),zs(Bi,xs,Mi,Dr,Tn,It+4,Rt,Bn)),Sn.La&&(Vc(bi,br,ur,It,Rt,Bn),bd(Bi,xs,Mi,Dr,Tn,It,Rt,Bn)),0<hr&&(Gn(bi,br,ur,It+4,Rt,Bn),ua(Bi,xs,Mi,Dr,Tn,It+4,Rt,Bn)),Sn.La&&(Xo(bi,br,ur,It,Rt,Bn),Hh(Bi,xs,Mi,Dr,Tn,It,Rt,Bn))}}if(mt.ia&&alert("todo:DitherRow"),ct.put!=null){if(On=16*In,In=16*(In+1),Or?(ct.y=mt.sa,ct.O=mt.ta+Nn,ct.f=mt.qa,ct.N=mt.ra+Tr,ct.ea=mt.Ha,ct.W=mt.Ia+Tr):(On-=hn,ct.y=qr,ct.O=li,ct.f=Wn,ct.N=on,ct.ea=Mr,ct.W=vi),Lr||(In-=hn),In>ct.o&&(In=ct.o),ct.F=null,ct.J=null,mt.Fa!=null&&0<mt.Fa.length&&On<In&&(ct.J=Hn(mt,ct,On,In-On),ct.F=mt.mb,ct.F==null&&ct.F.length==0)){cr=Mn(mt,3,"Could not decode alpha data.");break t}On<ct.j&&(hn=ct.j-On,On=ct.j,e(!(1&hn)),ct.O+=mt.R*hn,ct.N+=mt.B*(hn>>1),ct.W+=mt.B*(hn>>1),ct.F!=null&&(ct.J+=ct.width*hn)),On<In&&(ct.O+=ct.v,ct.N+=ct.v>>1,ct.W+=ct.v>>1,ct.F!=null&&(ct.J+=ct.v),ct.ka=On-ct.j,ct.U=ct.va-ct.v,ct.T=In-On,cr=ct.put(ct))}rn+1!=mt.Ic||Lr||(i(mt.sa,mt.ta-Pt,qr,li+16*mt.R,Pt),i(mt.qa,mt.ra-Rn,Wn,on+8*mt.B,Rn),i(mt.Ha,mt.Ia-Rn,Mr,vi+8*mt.B,Rn))}if(!cr)return Mn(pn,6,"Output aborted.")}return 1})(ae,ye)),ye.bc!=null&&ye.bc(ye),Ce&=1}return Ce?(ae.cb=0,Ce):0})(p,M)||(b=p.a)}}else b=p.a}b==0&&X.Oa!=null&&X.Oa.fd&&(b=Ic(X.ba))}X=b}G=X!=0?null:11>G?te.f.RGBA.eb:te.f.kb.y}else G=null;return G};var Bu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(V,H){for(var k="",D=0;D<4;D++)k+=String.fromCharCode(V[H++]);return k}function m(V,H){return V[H+0]|V[H+1]<<8}function y(V,H){return(V[H+0]|V[H+1]<<8|V[H+2]<<16)>>>0}function w(V,H){return(V[H+0]|V[H+1]<<8|V[H+2]<<16|V[H+3]<<24)>>>0}new f;var v=[0],S=[0],N=[],T=new f,C=r,I=(function(V,H){var k={},D=0,ne=!1,$=0,he=0;if(k.frames=[],!(function(L,z){for(var J=0;J<4;J++)if(L[z+J]!="RIFF".charCodeAt(J))return!0;return!1})(V,H)){for(w(V,H+=4),H+=8;H<V.length;){var Q=d(V,H),K=w(V,H+=4);H+=4;var ce=K+(1&K);switch(Q){case"VP8 ":case"VP8L":k.frames[D]===void 0&&(k.frames[D]={}),(Y=k.frames[D]).src_off=ne?he:H-8,Y.src_size=$+K+8,D++,ne&&(ne=!1,$=0,he=0);break;case"VP8X":(Y=k.header={}).feature_flags=V[H];var fe=H+4;Y.canvas_width=1+y(V,fe),fe+=3,Y.canvas_height=1+y(V,fe),fe+=3;break;case"ALPH":ne=!0,$=ce+8,he=H-8;break;case"ANIM":(Y=k.header).bgcolor=w(V,H),fe=H+4,Y.loop_count=m(V,fe),fe+=2;break;case"ANMF":var xe,Y;(Y=k.frames[D]={}).offset_x=2*y(V,H),H+=3,Y.offset_y=2*y(V,H),H+=3,Y.width=1+y(V,H),H+=3,Y.height=1+y(V,H),H+=3,Y.duration=y(V,H),H+=3,xe=V[H++],Y.dispose=1&xe,Y.blend=xe>>1&1}Q!="ANMF"&&(H+=ce)}return k}})(C,0);I.response=C,I.rgbaoutput=!0,I.dataurl=!1;var R=I.header?I.header:null,q=I.frames?I.frames:null;if(R){R.loop_counter=R.loop_count,v=[R.canvas_height],S=[R.canvas_width];for(var B=0;B<q.length&&q[B].blend!=0;B++);}var Z=q[0],F=T.WebPDecodeRGBA(C,Z.src_off,Z.src_size,S,v);Z.rgba=F,Z.imgwidth=S[0],Z.imgheight=v[0];for(var j=0;j<S[0]*v[0]*4;j++)N[j]=F[j];return this.width=S,this.height=v,this.data=N,this}(function(r){var e,t,i,a,o,h,c,f,d,m=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new f,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new h,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new h,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,h=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new m}]);var y=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=L;Object.defineProperty(this,"pdf",{get:function(){return z}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(W){J=!!W}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(W){ie=!!W}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(W){isNaN(W)||(se=W)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(W){isNaN(W)||(de=W)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(W){var De;typeof W=="number"?De=[W,W,W,W]:((De=new Array(4))[0]=W[0],De[1]=W.length>=2?W[1]:De[0],De[2]=W.length>=3?W[2]:De[0],De[3]=W.length>=4?W[3]:De[1]),d.margin=De}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(W){pe=W}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(W){we=W}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(W){Ae=W}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(W){W instanceof m&&(d=W)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(W){d.path=W}});var Ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ge},set:function(W){Ge=W}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(W){var De;De=w(W),this.ctx.fillStyle=De.style,this.ctx.isFillTransparent=De.a===0,this.ctx.fillOpacity=De.a,this.pdf.setFillColor(De.r,De.g,De.b,{a:De.a}),this.pdf.setTextColor(De.r,De.g,De.b,{a:De.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(W){var De=w(W);this.ctx.strokeStyle=De.style,this.ctx.isStrokeTransparent=De.a===0,this.ctx.strokeOpacity=De.a,De.a===0?this.pdf.setDrawColor(255,255,255):(De.a,this.pdf.setDrawColor(De.r,De.g,De.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(W){["butt","round","square"].indexOf(W)!==-1&&(this.ctx.lineCap=W,this.pdf.setLineCap(W))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(W){isNaN(W)||(this.ctx.lineWidth=W,this.pdf.setLineWidth(W))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(W){["bevel","round","miter"].indexOf(W)!==-1&&(this.ctx.lineJoin=W,this.pdf.setLineJoin(W))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(W){isNaN(W)||(this.ctx.miterLimit=W,this.pdf.setMiterLimit(W))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(W){this.ctx.textBaseline=W}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(W){["right","end","center","left","start"].indexOf(W)!==-1&&(this.ctx.textAlign=W)}});var Je=null,it=null,st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(W){Je=null,it=null,st=W}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(W){var De;if(this.ctx.font=W,(De=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(W))!==null){var at=De[1];De[2];var $e=De[3],Te=De[4];De[5];var nt=De[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Te)[2];Te=Math.floor(rt==="px"?parseFloat(Te)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(Te)*this.pdf.getFontSize():parseFloat(Te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Te);var lt=(function(Ye){var qt,Nt,St=[],Lt=Ye.trim();if(Lt==="")return jm;if(Lt in Ry)return[Ry[Lt]];for(;Lt!=="";){switch(Nt=null,qt=(Lt=Vy(Lt)).charAt(0)){case'"':case"'":Nt=yL(Lt.substring(1),qt);break;default:Nt=xL(Lt)}if(Nt===null||(St.push(Nt[0]),(Lt=Vy(Nt[1]))!==""&&Lt.charAt(0)!==","))return jm;Lt=Lt.replace(/^,/,"")}return St})(nt);if(this.fontFaces){var ft=(function(Ye,qt){var Nt=Ye.getFontList(),St=JSON.stringify(Nt);if(Je===null||it!==St){var Lt=(function(Bt){var vt=[];return Object.keys(Bt).forEach(function(dn){Bt[dn].forEach(function(Dt){var Oe=null;switch(Dt){case"bold":Oe={family:dn,weight:"bold"};break;case"italic":Oe={family:dn,style:"italic"};break;case"bolditalic":Oe={family:dn,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:dn}}Oe!==null&&(Oe.ref={name:dn,style:Dt},vt.push(Oe))})}),vt})(Nt);Je=(function(Bt){for(var vt={},dn=0;dn<Bt.length;++dn){var Dt=Om(Bt[dn]),Oe=Dt.family,ot=Dt.stretch,Qe=Dt.style,et=Dt.weight;vt[Oe]=vt[Oe]||{},vt[Oe][ot]=vt[Oe][ot]||{},vt[Oe][ot][Qe]=vt[Oe][ot][Qe]||{},vt[Oe][ot][Qe][et]=Dt}return vt})(Lt.concat(qt)),it=St}return Je})(this.pdf,this.fontFaces),At=lt.map(function(Ye){return{family:Ye,stretch:"normal",weight:$e,style:at}}),Ft=(function(Ye,qt,Nt){for(var St=(Nt=Nt||{}).defaultFontFamily||"times",Lt=Object.assign({},bL,Nt.genericFontFamilies||{}),Bt=null,vt=null,dn=0;dn<qt.length;++dn)if(Lt[(Bt=Om(qt[dn])).family]&&(Bt.family=Lt[Bt.family]),Ye.hasOwnProperty(Bt.family)){vt=Ye[Bt.family];break}if(!(vt=vt||Ye[St]))throw new Error("Could not find a font-family for the rule '"+Iy(Bt)+"' and default family '"+St+"'.");if(vt=(function(Dt,Oe){if(Oe[Dt])return Oe[Dt];var ot=ug[Dt],Qe=ot<=ug.normal?-1:1,et=Dy(Oe,Qw,ot,Qe);if(!et)throw new Error("Could not find a matching font-stretch value for "+Dt);return et})(Bt.stretch,vt),vt=(function(Dt,Oe){if(Oe[Dt])return Oe[Dt];for(var ot=Kw[Dt],Qe=0;Qe<ot.length;++Qe)if(Oe[ot[Qe]])return Oe[ot[Qe]];throw new Error("Could not find a matching font-style for "+Dt)})(Bt.style,vt),!(vt=(function(Dt,Oe){if(Oe[Dt])return Oe[Dt];if(Dt===400&&Oe[500])return Oe[500];if(Dt===500&&Oe[400])return Oe[400];var ot=vL[Dt],Qe=Dy(Oe,Jw,ot,Dt<400?-1:1);if(!Qe)throw new Error("Could not find a matching font-weight for value "+Dt);return Qe})(Bt.weight,vt)))throw new Error("Failed to resolve a font for the rule '"+Iy(Bt)+"'.");return vt})(ft,At);this.pdf.setFont(Ft.ref.name,Ft.ref.style)}else{var jt="";($e==="bold"||parseInt($e,10)>=700||at==="bold")&&(jt="bold"),at==="italic"&&(jt+="italic"),jt.length===0&&(jt="normal");for(var kt="",Mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<lt.length;ht++){if(this.pdf.internal.getFont(lt[ht],jt,{noFallback:!0,disableWarning:!0})!==void 0){kt=lt[ht];break}if(jt==="bolditalic"&&this.pdf.internal.getFont(lt[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)kt=lt[ht],jt="bold";else if(this.pdf.internal.getFont(lt[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){kt=lt[ht],jt="normal";break}}if(kt===""){for(var Re=0;Re<lt.length;Re++)if(Mt[lt[Re]]){kt=Mt[lt[Re]];break}}kt=kt===""?"Times":kt,this.pdf.setFont(kt,jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(W){this.ctx.globalCompositeOperation=W}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(W){this.ctx.globalAlpha=W}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(W){this.ctx.lineDashOffset=W,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(W){this.ctx.lineDash=W,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(W){this.ctx.ignoreClearRect=!!W}})};y.prototype.setLineDash=function(L){this.lineDash=L},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){q.call(this,"fill",!1)},y.prototype.stroke=function(){q.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(L,z){if(isNaN(L)||isNaN(z))throw tr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new h(L,z));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new h(L,z)},y.prototype.closePath=function(){var L=new h(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Pn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){L=new h(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(L.x,L.y)},y.prototype.lineTo=function(L,z){if(isNaN(L)||isNaN(z))throw tr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new h(L,z));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new h(J.x,J.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),q.call(this,null,!0)},y.prototype.quadraticCurveTo=function(L,z,J,ie){if(isNaN(J)||isNaN(ie)||isNaN(L)||isNaN(z))throw tr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new h(J,ie)),de=this.ctx.transform.applyToPoint(new h(L,z));this.path.push({type:"qct",x1:de.x,y1:de.y,x:se.x,y:se.y}),this.ctx.lastPoint=new h(se.x,se.y)},y.prototype.bezierCurveTo=function(L,z,J,ie,se,de){if(isNaN(se)||isNaN(de)||isNaN(L)||isNaN(z)||isNaN(J)||isNaN(ie))throw tr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new h(se,de)),we=this.ctx.transform.applyToPoint(new h(L,z)),Ae=this.ctx.transform.applyToPoint(new h(J,ie));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Ae.x,y2:Ae.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new h(pe.x,pe.y)},y.prototype.arc=function(L,z,J,ie,se,de){if(isNaN(L)||isNaN(z)||isNaN(J)||isNaN(ie)||isNaN(se))throw tr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new h(L,z));L=pe.x,z=pe.y;var we=this.ctx.transform.applyToPoint(new h(0,J)),Ae=this.ctx.transform.applyToPoint(new h(0,0));J=Math.sqrt(Math.pow(we.x-Ae.x,2)+Math.pow(we.y-Ae.y,2))}Math.abs(se-ie)>=2*Math.PI&&(ie=0,se=2*Math.PI),this.path.push({type:"arc",x:L,y:z,radius:J,startAngle:ie,endAngle:se,counterclockwise:de})},y.prototype.arcTo=function(L,z,J,ie,se){throw new Error("arcTo not implemented.")},y.prototype.rect=function(L,z,J,ie){if(isNaN(L)||isNaN(z)||isNaN(J)||isNaN(ie))throw tr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,z),this.lineTo(L+J,z),this.lineTo(L+J,z+ie),this.lineTo(L,z+ie),this.lineTo(L,z),this.lineTo(L+J,z),this.lineTo(L,z)},y.prototype.fillRect=function(L,z,J,ie){if(isNaN(L)||isNaN(z)||isNaN(J)||isNaN(ie))throw tr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,z,J,ie),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},y.prototype.strokeRect=function(L,z,J,ie){if(isNaN(L)||isNaN(z)||isNaN(J)||isNaN(ie))throw tr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(L,z,J,ie),this.stroke())},y.prototype.clearRect=function(L,z,J,ie){if(isNaN(L)||isNaN(z)||isNaN(J)||isNaN(ie))throw tr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,z,J,ie))},y.prototype.save=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},y.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(z),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(L){var z,J,ie,se;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))z=0,J=0,ie=0,se=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(de!==null)z=parseInt(de[1]),J=parseInt(de[2]),ie=parseInt(de[3]),se=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)z=parseInt(de[1]),J=parseInt(de[2]),ie=parseInt(de[3]),se=parseFloat(de[4]);else{if(se=1,typeof L=="string"&&L.charAt(0)!=="#"){var pe=new Hw(L);L=pe.ok?pe.toHex():"#000000"}L.length===4?(z=L.substring(1,2),z+=z,J=L.substring(2,3),J+=J,ie=L.substring(3,4),ie+=ie):(z=L.substring(1,3),J=L.substring(3,5),ie=L.substring(5,7)),z=parseInt(z,16),J=parseInt(J,16),ie=parseInt(ie,16)}}return{r:z,g:J,b:ie,a:se,style:L}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(L,z,J,ie){if(isNaN(z)||isNaN(J)||typeof L!="string")throw tr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!v.call(this)){var se=ce(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;D.call(this,{text:L,x:z,y:J,scale:de,angle:se,align:this.textAlign,maxWidth:ie})}},y.prototype.strokeText=function(L,z,J,ie){if(isNaN(z)||isNaN(J)||typeof L!="string")throw tr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ie=isNaN(ie)?void 0:ie;var se=ce(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;D.call(this,{text:L,x:z,y:J,scale:de,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ie})}},y.prototype.measureText=function(L){if(typeof L!="string")throw tr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,J=this.pdf.internal.scaleFactor,ie=z.internal.getFontSize(),se=z.getStringUnitWidth(L)*ie/z.internal.scaleFactor;return new function(de){var pe=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:se*=Math.round(96*J/72*1e4)/1e4})},y.prototype.scale=function(L,z){if(isNaN(L)||isNaN(z))throw tr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(L,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},y.prototype.rotate=function(L){if(isNaN(L))throw tr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new f(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},y.prototype.translate=function(L,z){if(isNaN(L)||isNaN(z))throw tr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,L,z);this.ctx.transform=this.ctx.transform.multiply(J)},y.prototype.transform=function(L,z,J,ie,se,de){if(isNaN(L)||isNaN(z)||isNaN(J)||isNaN(ie)||isNaN(se)||isNaN(de))throw tr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new f(L,z,J,ie,se,de);this.ctx.transform=this.ctx.transform.multiply(pe)},y.prototype.setTransform=function(L,z,J,ie,se,de){L=isNaN(L)?1:L,z=isNaN(z)?0:z,J=isNaN(J)?0:J,ie=isNaN(ie)?1:ie,se=isNaN(se)?0:se,de=isNaN(de)?0:de,this.ctx.transform=new f(L,z,J,ie,se,de)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(L,z,J,ie,se,de,pe,we,Ae){var Ge=this.pdf.getImageProperties(L),Je=1,it=1,st=1,W=1;ie!==void 0&&we!==void 0&&(st=we/ie,W=Ae/se,Je=Ge.width/ie*we/ie,it=Ge.height/se*Ae/se),de===void 0&&(de=z,pe=J,z=0,J=0),ie!==void 0&&we===void 0&&(we=ie,Ae=se),ie===void 0&&we===void 0&&(we=Ge.width,Ae=Ge.height);var De=this.ctx.transform.decompose(),at=ce(De.rotate.shx),$e=new f,Te=($e=($e=($e=$e.multiply(De.translate)).multiply(De.skew)).multiply(De.scale)).applyToRectangle(new c(de-z*st,pe-J*W,ie*Je,se*it));if(this.autoPaging){for(var nt,rt=T.call(this,Te),lt=[],ft=0;ft<rt.length;ft+=1)lt.indexOf(rt[ft])===-1&&lt.push(rt[ft]);R(lt);for(var At=lt[0],Ft=lt[lt.length-1],jt=At;jt<Ft+1;jt++){this.pdf.setPage(jt);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=jt===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=jt===1?0:ht+(jt-2)*Re;if(this.ctx.clip_path.length!==0){var qt=this.path;nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(nt,this.posX+this.margin[3],-Ye+Mt+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=qt}var Nt=JSON.parse(JSON.stringify(Te));Nt=I([Nt],this.posX+this.margin[3],-Ye+Mt+this.ctx.prevPageLastElemOffset)[0];var St=(jt>At||jt<Ft)&&N.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,Re,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Nt.x,Nt.y,Nt.w,Nt.h,null,null,at),St&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",Te.x,Te.y,Te.w,Te.h,null,null,at)};var T=function(L,z,J){var ie=[];z=z||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":ie.push(Math.floor((L.y+se)/J)+1);break;case"arc":ie.push(Math.floor((L.y+se-L.radius)/J)+1),ie.push(Math.floor((L.y+se+L.radius)/J)+1);break;case"qct":var de=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);ie.push(Math.floor((de.y+se)/J)+1),ie.push(Math.floor((de.y+de.h+se)/J)+1);break;case"bct":var pe=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);ie.push(Math.floor((pe.y+se)/J)+1),ie.push(Math.floor((pe.y+pe.h+se)/J)+1);break;case"rect":ie.push(Math.floor((L.y+se)/J)+1),ie.push(Math.floor((L.y+L.h+se)/J)+1)}for(var we=0;we<ie.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<ie[we];)C.call(this);return ie},C=function(){var L=this.fillStyle,z=this.strokeStyle,J=this.font,ie=this.lineCap,se=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=z,this.font=J,this.lineCap=ie,this.lineWidth=se,this.lineJoin=de},I=function(L,z,J){for(var ie=0;ie<L.length;ie++)switch(L[ie].type){case"bct":L[ie].x2+=z,L[ie].y2+=J;case"qct":L[ie].x1+=z,L[ie].y1+=J;default:L[ie].x+=z,L[ie].y+=J}return L},R=function(L){return L.sort(function(z,J){return z-J})},q=function(L,z){var J=this.fillStyle,ie=this.strokeStyle,se=this.lineCap,de=this.lineWidth,pe=Math.abs(de*this.ctx.transform.scaleX),we=this.lineJoin;if(this.autoPaging){for(var Ae,Ge,Je=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),st=[],W=0;W<it.length;W++)if(it[W].x!==void 0)for(var De=T.call(this,it[W]),at=0;at<De.length;at+=1)st.indexOf(De[at])===-1&&st.push(De[at]);for(var $e=0;$e<st.length;$e++)for(;this.pdf.internal.getNumberOfPages()<st[$e];)C.call(this);R(st);for(var Te=st[0],nt=st[st.length-1],rt=Te;rt<nt+1;rt++){this.pdf.setPage(rt),this.fillStyle=J,this.strokeStyle=ie,this.lineCap=se,this.lineWidth=pe,this.lineJoin=we;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=rt===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],jt=rt===1?0:At+(rt-2)*Ft;if(this.ctx.clip_path.length!==0){var kt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(Ae,this.posX+this.margin[3],-jt+ft+this.ctx.prevPageLastElemOffset),B.call(this,L,!0),this.path=kt}if(Ge=JSON.parse(JSON.stringify(Je)),this.path=I(Ge,this.posX+this.margin[3],-jt+ft+this.ctx.prevPageLastElemOffset),z===!1||rt===0){var Mt=(rt>Te||rt<nt)&&N.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Ft,null).clip().discardPath()),B.call(this,L,z),Mt&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=Je}else this.lineWidth=pe,B.call(this,L,z),this.lineWidth=de},B=function(L,z){if((L!=="stroke"||z||!S.call(this))&&(L==="stroke"||z||!v.call(this))){for(var J,ie,se=[],de=this.path,pe=0;pe<de.length;pe++){var we=de[pe];switch(we.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:we,deltas:[],abs:[]});break;case"lt":var Ae=se.length;if(de[pe-1]&&!isNaN(de[pe-1].x)&&(J=[we.x-de[pe-1].x,we.y-de[pe-1].y],Ae>0)){for(;Ae>=0;Ae--)if(se[Ae-1].close!==!0&&se[Ae-1].begin!==!0){se[Ae-1].deltas.push(J),se[Ae-1].abs.push(we);break}}break;case"bct":J=[we.x1-de[pe-1].x,we.y1-de[pe-1].y,we.x2-de[pe-1].x,we.y2-de[pe-1].y,we.x-de[pe-1].x,we.y-de[pe-1].y],se[se.length-1].deltas.push(J);break;case"qct":var Ge=de[pe-1].x+2/3*(we.x1-de[pe-1].x),Je=de[pe-1].y+2/3*(we.y1-de[pe-1].y),it=we.x+2/3*(we.x1-we.x),st=we.y+2/3*(we.y1-we.y),W=we.x,De=we.y;J=[Ge-de[pe-1].x,Je-de[pe-1].y,it-de[pe-1].x,st-de[pe-1].y,W-de[pe-1].x,De-de[pe-1].y],se[se.length-1].deltas.push(J);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(we)}}ie=z?null:L==="stroke"?"stroke":"fill";for(var at=!1,$e=0;$e<se.length;$e++)if(se[$e].arc)for(var Te=se[$e].abs,nt=0;nt<Te.length;nt++){var rt=Te[nt];rt.type==="arc"?j.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,z,!at):ne.call(this,rt.x,rt.y),at=!0}else if(se[$e].close===!0)this.pdf.internal.out("h"),at=!1;else if(se[$e].begin!==!0){var lt=se[$e].start.x,ft=se[$e].start.y;$.call(this,se[$e].deltas,lt,ft),at=!0}ie&&V.call(this,ie),z&&H.call(this)}},Z=function(L){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-J;case"top":return L+z-J;case"hanging":return L+z-2*J;case"middle":return L+z/2-J;default:return L}},F=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(z,J){this.colorStops.push([z,J])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(L,z,J,ie,se,de,pe,we,Ae){for(var Ge=Q.call(this,J,ie,se,de),Je=0;Je<Ge.length;Je++){var it=Ge[Je];Je===0&&(Ae?k.call(this,it.x1+L,it.y1+z):ne.call(this,it.x1+L,it.y1+z)),he.call(this,L,z,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}we?H.call(this):V.call(this,pe)},V=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(L,z){this.pdf.internal.out(t(L)+" "+i(z)+" m")},D=function(L){var z;switch(L.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var J,ie,se,de=this.pdf.getTextDimensions(L.text),pe=Z.call(this,L.y),we=F.call(this,pe)-de.h,Ae=this.ctx.transform.applyToPoint(new h(L.x,pe));if(this.autoPaging){var Ge=this.ctx.transform.decompose(),Je=new f;Je=(Je=(Je=Je.multiply(Ge.translate)).multiply(Ge.skew)).multiply(Ge.scale);for(var it=this.ctx.transform.applyToRectangle(new c(L.x,pe,de.w,de.h)),st=Je.applyToRectangle(new c(L.x,we,de.w,de.h)),W=T.call(this,st),De=[],at=0;at<W.length;at+=1)De.indexOf(W[at])===-1&&De.push(W[at]);R(De);for(var $e=De[0],Te=De[De.length-1],nt=$e;nt<Te+1;nt++){this.pdf.setPage(nt);var rt=nt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],At=ft-this.margin[0],Ft=this.pdf.internal.pageSize.width-this.margin[1],jt=Ft-this.margin[3],kt=nt===1?0:lt+(nt-2)*At;if(this.ctx.clip_path.length!==0){var Mt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=I(J,this.posX+this.margin[3],-1*kt+rt),B.call(this,"fill",!0),this.path=Mt}var ht=I([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-kt+rt+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*L.scale),se=this.lineWidth,this.lineWidth=se*L.scale);var Re=this.autoPaging!=="text";if(Re||ht.y+ht.h<=ft){if(Re||ht.y>=rt&&ht.x<=Ft){var Ye=Re?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Ft-ht.x)[0],qt=I([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-kt+rt+this.ctx.prevPageLastElemOffset)[0],Nt=Re&&(nt>$e||nt<Te)&&N.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],jt,At,null).clip().discardPath()),this.pdf.text(Ye,qt.x,qt.y,{angle:L.angle,align:z,renderingMode:L.renderingMode}),Nt&&this.pdf.restoreGraphicsState()}}else ht.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-ht.y);L.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=se)}}else L.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*L.scale),se=this.lineWidth,this.lineWidth=se*L.scale),this.pdf.text(L.text,Ae.x+this.posX,Ae.y+this.posY,{angle:L.angle,align:z,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=se)},ne=function(L,z,J,ie){J=J||0,ie=ie||0,this.pdf.internal.out(t(L+J)+" "+i(z+ie)+" l")},$=function(L,z,J){return this.pdf.lines(L,z,J,null,null)},he=function(L,z,J,ie,se,de,pe,we){this.pdf.internal.out([e(a(J+L)),e(o(ie+z)),e(a(se+L)),e(o(de+z)),e(a(pe+L)),e(o(we+z)),"c"].join(" "))},Q=function(L,z,J,ie){for(var se=2*Math.PI,de=Math.PI/2;z>J;)z-=se;var pe=Math.abs(J-z);pe<se&&ie&&(pe=se-pe);for(var we=[],Ae=ie?-1:1,Ge=z;pe>1e-5;){var Je=Ge+Ae*Math.min(pe,de);we.push(K.call(this,L,Ge,Je)),pe-=Math.abs(Je-Ge),Ge=Je}return we},K=function(L,z,J){var ie=(J-z)/2,se=L*Math.cos(ie),de=L*Math.sin(ie),pe=se,we=-de,Ae=pe*pe+we*we,Ge=Ae+pe*se+we*de,Je=4/3*(Math.sqrt(2*Ae*Ge)-Ge)/(pe*de-we*se),it=pe-Je*we,st=we+Je*pe,W=it,De=-st,at=ie+z,$e=Math.cos(at),Te=Math.sin(at);return{x1:L*Math.cos(z),y1:L*Math.sin(z),x2:it*$e-st*Te,y2:it*Te+st*$e,x3:W*$e-De*Te,y3:W*Te+De*$e,x4:L*Math.cos(J),y4:L*Math.sin(J)}},ce=function(L){return 180*L/Math.PI},fe=function(L,z,J,ie,se,de){var pe=L+.5*(J-L),we=z+.5*(ie-z),Ae=se+.5*(J-se),Ge=de+.5*(ie-de),Je=Math.min(L,se,pe,Ae),it=Math.max(L,se,pe,Ae),st=Math.min(z,de,we,Ge),W=Math.max(z,de,we,Ge);return new c(Je,st,it-Je,W-st)},xe=function(L,z,J,ie,se,de,pe,we){var Ae,Ge,Je,it,st,W,De,at,$e,Te,nt,rt,lt,ft,At=J-L,Ft=ie-z,jt=se-J,kt=de-ie,Mt=pe-se,ht=we-de;for(Ge=0;Ge<41;Ge++)$e=(De=(Je=L+(Ae=Ge/40)*At)+Ae*((st=J+Ae*jt)-Je))+Ae*(st+Ae*(se+Ae*Mt-st)-De),Te=(at=(it=z+Ae*Ft)+Ae*((W=ie+Ae*kt)-it))+Ae*(W+Ae*(de+Ae*ht-W)-at),Ge==0?(nt=$e,rt=Te,lt=$e,ft=Te):(nt=Math.min(nt,$e),rt=Math.min(rt,Te),lt=Math.max(lt,$e),ft=Math.max(ft,Te));return new c(Math.round(nt),Math.round(rt),Math.round(lt-nt),Math.round(ft-rt))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,z,J=(L=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:z}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Ot.API),(function(r){var e=function(h){var c,f,d,m,y,w,v,S,N,T;for(f=[],d=0,m=(h+=c="\0\0\0\0".slice(h.length%4||4)).length;m>d;d+=4)(y=(h.charCodeAt(d)<<24)+(h.charCodeAt(d+1)<<16)+(h.charCodeAt(d+2)<<8)+h.charCodeAt(d+3))!==0?(w=(y=((y=((y=((y=(y-(T=y%85))/85)-(N=y%85))/85)-(S=y%85))/85)-(v=y%85))/85)%85,f.push(w+33,v+33,S+33,N+33,T+33)):f.push(122);return(function(C,I){for(var R=I;R>0;R--)C.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(h){var c,f,d,m,y,w=String,v="length",S=255,N="charCodeAt",T="slice",C="replace";for(h[T](-2),h=h[T](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),d=[],m=0,y=(h+=c="uuuuu"[T](h[v]%5||5))[v];y>m;m+=5)f=52200625*(h[N](m)-33)+614125*(h[N](m+1)-33)+7225*(h[N](m+2)-33)+85*(h[N](m+3)-33)+(h[N](m+4)-33),d.push(S&f>>24,S&f>>16,S&f>>8,S&f);return(function(I,R){for(var q=R;q>0;q--)I.pop()})(d,c[v]),w.fromCharCode.apply(w,d)},i=function(h){return h.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(h){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),c.test(h)===!1)return"";for(var f="",d=0;d<h.length;d+=2)f+=String.fromCharCode("0x"+(h[d]+h[d+1]));return f},o=function(h){for(var c=new Uint8Array(h.length),f=h.length;f--;)c[f]=h.charCodeAt(f);return(c=rg(c)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};r.processDataByFilters=function(h,c){var f=0,d=h||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=i(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(Ot.API),(function(r){r.loadFile=function(e,t,i){return(function(a,o,h){o=o!==!1,h=typeof h=="function"?h:function(){};var c=void 0;try{c=(function(f,d,m){var y=new XMLHttpRequest,w=0,v=function(S){var N=S.length,T=[],C=String.fromCharCode;for(w=0;w<N;w+=1)T.push(C(255&S.charCodeAt(w)));return T.join("")};if(y.open("GET",f,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?m(v(this.responseText)):m(void 0)}),y.send(null),d&&y.status===200)return v(y.responseText)})(a,o,h)}catch{}return c})(e,t,i)},r.loadImageFile=r.loadFile})(Ot.API),(function(r){function e(){return(en.html2canvas?Promise.resolve(en.html2canvas):O1(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(en.DOMPurify?Promise.resolve(en.DOMPurify):O1(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var i=function(c){var f=Pn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var m in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[m]=f.style[m];return d},o=function c(f,d){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(c(y,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m},h=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),d);return(m=m.setProgress(1,c,1,[c])).set(f)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(c,f){return c.__proto__=f||h.prototype,c},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},h.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,m=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var v=0;v<m.length;++v){var S=m[v],N=S.src.find(function(T){return T.format==="truetype"});N&&d.addFont(N.url,S.ref.name,S.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),f(this.prop.container,w)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},h.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},h.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},h.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(c){if(i(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in h.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},h.prototype.get=function(c,f){return this.then(function(){var d=c in h.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},h.prototype.setMargin=function(c){return this.then(function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},h.prototype.setPageSize=function(c){function f(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(c=c||Ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},h.prototype.setProgress=function(c,f,d,m){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(c,f,d,m){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},h.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(m,y){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,m),w}).then(m,y).then(function(w){return d.updateProgress(1),w})})},h.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),f&&(f=f.bind(m));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:h.convert(Object.assign({},m),Promise.prototype),w=d.call(y,c,f);return h.convert(w,m.__proto__)},h.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},h.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},h.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return h.convert(f,this)},h.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},h.prototype.error=function(c){return this.then(function(){throw new Error(c)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,Ot.getPageSize=function(c,f,d){if(Pn(c)==="object"){var m=c;c=m.orientation,f=m.unit||f,d=m.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var y,w=(""+d).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+f}var S,N=0,T=0;if(v.hasOwnProperty(w))N=v[w][1]/y,T=v[w][0]/y;else try{N=d[1],T=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",T>N&&(S=T,T=N,N=S);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",N>T&&(S=T,T=N,N=S)}return{width:T,height:N,unit:f,k:y,orientation:c}},r.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Om):null;var d=new h(f);return f.worker?d:d.from(c).doCallback()}})(Ot.API),Ot.API.addJS=function(r){return By=r,this.internal.events.subscribe("postPutResources",function(){N1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(N1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Fy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+By+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){N1!==void 0&&Fy!==void 0&&this.internal.out("/Names <</JavaScript "+N1+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var h=a[o],c=i.exec(h);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(h)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(o=0;o<d;o++){var y=t.internal.newObject();m.push(y);var w=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<m.length;o++)t.internal.write("(page_"+(o+1)+")"+m[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,a,o){var h={title:a,options:o,children:[]};return i==null&&(i=this.root),i.children.push(h),h},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var h=i.children[o];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var c=this.count=this.count_r({count:0},h);if(c>0&&this.line("/Count "+c),h.options&&h.options.pageNumber){var f=t.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,a){for(var o=0;o<a.children.length;o++)i.count++,this.count_r(i,a.children[o]);return i.count}}])})(Ot.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,i,a,o,h,c){var f,d=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=h||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(y){for(var w,v=256*y.charCodeAt(4)+y.charCodeAt(5),S=y.length,N={width:0,height:0,numcomponents:1},T=4;T<S;T+=2){if(T+=v,e.indexOf(y.charCodeAt(T+1))!==-1){w=256*y.charCodeAt(T+5)+y.charCodeAt(T+6),N={width:256*y.charCodeAt(T+7)+y.charCodeAt(T+8),height:w,numcomponents:y.charCodeAt(T+9)};break}v=256*y.charCodeAt(T+2)+y.charCodeAt(T+3)}return N})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:i,alias:a}}return m}})(Ot.API),Ot.API.processPNG=function(r,e,t,i){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,o=rL(r,{checkCrc:!0}),h=o.width,c=o.height,f=o.channels,d=o.palette,m=o.depth;a=d&&f===1?(function(j){for(var V=j.width,H=j.height,k=j.data,D=j.palette,ne=j.depth,$=!1,he=[],Q=[],K=void 0,ce=!1,fe=0,xe=0;xe<D.length;xe++){var Y=Ub(D[xe],4),L=Y[0],z=Y[1],J=Y[2],ie=Y[3];he.push(L,z,J),ie!=null&&(ie===0?(fe++,Q.length<1&&Q.push(xe)):ie<255&&(ce=!0))}if(ce||fe>1){$=!0,Q=void 0;var se=V*H;K=new Uint8Array(se);for(var de=new DataView(k.buffer),pe=0;pe<se;pe++){var we=Dm(de,pe,ne),Ae=Ub(D[we],4)[3];K[pe]=Ae}}else fe===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:k,alphaBytes:K,needSMask:$,palette:he,mask:Q}})(o):f===2||f===4?(function(j){for(var V=j.data,H=j.width,k=j.height,D=j.channels,ne=j.depth,$=D===2?"DeviceGray":"DeviceRGB",he=D-1,Q=H*k,K=he,ce=Q*K,fe=1*Q,xe=Math.ceil(ce*ne/8),Y=Math.ceil(fe*ne/8),L=new Uint8Array(xe),z=new Uint8Array(Y),J=new DataView(V.buffer),ie=new DataView(L.buffer),se=new DataView(z.buffer),de=!1,pe=0;pe<Q;pe++){for(var we=pe*D,Ae=0;Ae<K;Ae++)Xy(ie,Dm(J,we+Ae,ne),pe*K+Ae,ne);var Ge=Dm(J,we+K,ne);Ge<(1<<ne)-1&&(de=!0),Xy(se,Ge,1*pe,ne)}return{colorSpace:$,colorsPerPixel:he,sMaskBitsPerComponent:de?ne:void 0,colorBytes:L,alphaBytes:z,needSMask:de}})(o):(function(j){var V=j.data,H=j.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:V instanceof Uint16Array?(function(k){for(var D=k.length,ne=new Uint8Array(2*D),$=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),he=0;he<D;he++)$.setUint16(2*he,k[he],!1);return ne})(V):V,needSMask:!1}})(o);var y,w,v,S=a,N=S.colorSpace,T=S.colorsPerPixel,C=S.sMaskBitsPerComponent,I=S.colorBytes,R=S.alphaBytes,q=S.needSMask,B=S.palette,Z=S.mask,F=null;return i!==Ot.API.image_compression.NONE&&typeof rg=="function"?(F=(function(j){var V;switch(j){case Ot.API.image_compression.FAST:V=11;break;case Ot.API.image_compression.MEDIUM:V=13;break;case Ot.API.image_compression.SLOW:V=14;break;default:V=12}return V})(i),y=this.decode.FLATE_DECODE,w="/Predictor ".concat(F," /Colors ").concat(T," /BitsPerComponent ").concat(m," /Columns ").concat(h),r=Uy(I,Math.ceil(h*T*m/8),T,m,i),q&&(v=Uy(R,Math.ceil(h*C/8),1,C,i))):(y=void 0,w=void 0,r=I,q&&(v=R)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:t,data:r,index:e,filter:y,decodeParameters:w,transparency:Z,palette:B,sMask:v,predictor:F,width:h,height:c,bitsPerComponent:m,sMaskBitsPerComponent:C,colorSpace:N}}},(function(r){r.processGIF89A=function(e,t,i,a){var o=new AL(e),h=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:h,height:c},m=new Rm(100).encode(d,100);return r.processJPEG.call(this,m,t,i,a)},r.processGIF87A=r.processGIF89A})(Ot.API),Wa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:i,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wa.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){tr.log("bit decode error:"+t)}},Wa.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),h=i*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[h+4*c]=f.blue,this.data[h+4*c+1]=f.green,this.data[h+4*c+2]=f.red,this.data[h+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Wa.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var o=this.datav.getUint8(this.pos++,!0),h=i*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[h]=d.blue,this.data[h+1]=d.green,this.data[h+2]=d.red,this.data[h+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[h+4]=d.blue,this.data[h+4+1]=d.green,this.data[h+4+2]=d.red,this.data[h+4+3]=255}e!==0&&(this.pos+=4-e)}},Wa.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*i;if(a<this.palette.length){var h=this.palette[a];this.data[o]=h.red,this.data[o+1]=h.green,this.data[o+2]=h.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},Wa.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,m=i*this.width*4+4*a;this.data[m]=f,this.data[m+1]=c,this.data[m+2]=h,this.data[m+3]=d}this.pos+=r}},Wa.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(h&e)/e*255|0,f=(h>>5&t)/t*255|0,d=(h>>11)/e*255|0,m=a*this.width*4+4*o;this.data[m]=d,this.data[m+1]=f,this.data[m+2]=c,this.data[m+3]=255}this.pos+=r}},Wa.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=i,this.data[h+3]=255}this.pos+=this.width%4}},Wa.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=i,this.data[c+3]=h}},Wa.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,i,a){var o=new Wa(e,!1),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new Rm(100).encode(f,100);return r.processJPEG.call(this,d,t,i,a)}})(Ot.API),$y.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,i,a){var o=new $y(e),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new Rm(100).encode(f,100);return r.processJPEG.call(this,d,t,i,a)}})(Ot.API),Ot.API.processRGBA=function(r,e,t){for(var i=r.data,a=i.length,o=new Uint8Array(a/4*3),h=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var m=i[d],y=i[d+1],w=i[d+2],v=i[d+3];o[c++]=m,o[c++]=y,o[c++]=w,h[f++]=v}var S=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:S,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Ot.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},uh=Ot.API,C1=uh.getCharWidthsArray=function(r,e){var t,i,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),h=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,y=e.doKerning!==!1,w=0,v=r.length,S=0,N=c[0]||f,T=[];for(t=0;t<v;t++)i=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?T.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+h*(1e3/o)||0)/1e3):(w=y&&Pn(d[i])==="object"&&!isNaN(parseInt(d[i][S],10))?d[i][S]/m:0,T.push((c[i]||N)/f+w)),S=i;return T},qy=uh.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return uh.processArabic&&(r=uh.processArabic(r)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(r,t,a)/t:C1.apply(this,arguments).reduce(function(o,h){return o+h},0)},zy=function(r,e,t,i){for(var a=[],o=0,h=r.length,c=0;o!==h&&c+e[o]<t;)c+=e[o],o++;a.push(r.slice(0,o));var f=o;for(c=0;o!==h;)c+e[o]>i&&(a.push(r.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(r.slice(f,o)),a},Py=function(r,e,t){t||(t={});var i,a,o,h,c,f,d,m=[],y=[m],w=t.textIndent||0,v=0,S=0,N=r.split(" "),T=C1.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var C=Array(f).join(" "),I=[];N.map(function(q){(q=q.split(/\s*\n/)).length>1?I=I.concat(q.map(function(B,Z){return(Z&&B.length?`
`:"")+B})):I.push(q[0])}),N=I,f=qy.apply(this,[C,t])}for(o=0,h=N.length;o<h;o++){var R=0;if(i=N[o],f&&i[0]==`
`&&(i=i.substr(1),R=1),w+v+(S=(a=C1.apply(this,[i,t])).reduce(function(q,B){return q+B},0))>e||R){if(S>e){for(c=zy.apply(this,[i,a,e-(w+v),e]),m.push(c.shift()),m=[c.pop()];c.length;)y.push([c.shift()]);S=a.slice(i.length-(m[0]?m[0].length:0)).reduce(function(q,B){return q+B},0)}else m=[i];y.push(m),w=S+f,v=T}else m.push(i),w+=v+S,v=T}return d=f?function(q,B){return(B?C:"")+q.join(" ")}:function(q){return q.join(" ")},y.map(d)},uh.splitTextToSize=function(r,e,t){var i,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var y=this.internal.getFont(m.fontName,m.fontStyle),w="Unicode";return y.metadata[w]?{widths:y.metadata[w].widths||{0:1},kerning:y.metadata[w].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(r)?r:String(r).split(/\r?\n/);var h=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=i.length;c<f;c++)d=d.concat(Py.apply(this,[i[c],h,o]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},a={},o=0;o<16;o++)i[t[o]]=e[o],a[e[o]]=t[o];var h=function(w){return"0x"+parseInt(w,10).toString(16)},c=r.__fontmetrics__.compress=function(w){var v,S,N,T,C=["{"];for(var I in w){if(v=w[I],isNaN(parseInt(I,10))?S="'"+I+"'":(I=parseInt(I,10),S=(S=h(I).slice(2)).slice(0,-1)+a[S.slice(-1)]),typeof v=="number")v<0?(N=h(v).slice(3),T="-"):(N=h(v).slice(2),T=""),N=T+N.slice(0,-1)+a[N.slice(-1)];else{if(Pn(v)!=="object")throw new Error("Don't know what to do with value type "+Pn(v)+".");N=c(v)}C.push(S+N)}return C.push("}"),C.join("")},f=r.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,S,N,T,C={},I=1,R=C,q=[],B="",Z="",F=w.length-1,j=1;j<F;j+=1)(T=w[j])=="'"?v?(N=v.join(""),v=void 0):v=[]:v?v.push(T):T=="{"?(q.push([R,N]),R={},N=void 0):T=="}"?((S=q.pop())[0][S[1]]=R,N=void 0,R=S[0]):T=="-"?I=-1:N===void 0?i.hasOwnProperty(T)?(B+=i[T],N=parseInt(B,16)*I,I=1,B=""):B+=T:i.hasOwnProperty(T)?(Z+=i[T],R[N]=parseInt(Z,16)*I,I=1,N=void 0,Z=""):Z+=T;return C},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(w){var v=w.font,S=y.Unicode[v.postScriptName];S&&(v.metadata.Unicode={},v.metadata.Unicode.widths=S.widths,v.metadata.Unicode.kerning=S.kerning);var N=m.Unicode[v.postScriptName];N&&(v.metadata.Unicode.encoding=N,v.encoding=N.codePages[0])}])})(Ot.API),(function(r){var e=function(t){for(var i=t.length,a=new Uint8Array(i),o=0;o<i;o++)a[o]=t.charCodeAt(o);return a};r.API.events.push(["addFont",function(t){var i=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(h,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(D1(c)),h.metadata=r.API.TTFFont.open(c),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(a,i)}}])})(Ot),Ot.API.addSvgAsImage=function(r,e,t,i,a,o,h,c){if(isNaN(e)||isNaN(t))throw tr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw tr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(en.canvg?Promise.resolve(en.canvg):O1(()=>import("./index.es-CaGc0zyQ.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(d,r,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){y.addImage(f.toDataURL("image/jpeg",1),e,t,i,a,h,c)})},Ot.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(e,t);return this},Ot.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var i,a,o,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(h),f=[],d=0,m=0,y=0;function w(S,N){var T,C=!1;for(T=0;T<S.length;T+=1)S[T]===N&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var v=c.length;for(y=0;y<v;y+=1)t[c[y]].value=t[c[y]].defaultValue,t[c[y]].explicitSet=!1}if(Pn(r)==="object"){for(a in r)if(o=r[a],w(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&w(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(i=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(m=0;m<o[d].length;m+=1)typeof o[d][m]!="number"&&(i=!1);i===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,N=[];for(S in t)t[S].explicitSet===!0&&(t[S].type==="name"?N.push("/"+S+" /"+t[S].value):N.push("/"+S+" "+t[S].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+h.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+h+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Ot.API),(function(r){var e=r.API,t=e.pdfEscape16=function(o,h){for(var c,f=h.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],y=0,w=o.length;y<w;++y){if(c=h.metadata.characterToGlyph(o.charCodeAt(y)),h.metadata.glyIdsUsed.push(c),h.metadata.toUnicode[c]=o.charCodeAt(y),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(h.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(d[4-c.length],c)}return m.join("")},i=function(o){var h,c,f,d,m,y,w;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],y=0,w=(c=Object.keys(o).sort(function(v,S){return v-S})).length;y<w;y++)h=c[y],f.length>=100&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[h]!==void 0&&o[h]!==null&&typeof o[h].toString=="function"&&(d=("0000"+o[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),f.push("<"+h+"><"+d+">"));return f.length&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),v="",S=0;S<w.length;S++)v+=String.fromCharCode(w[S]);var N=d();m({data:v,addLength1:!0,objectId:N}),f("endobj");var T=d();m({data:i(c.metadata.toUnicode),addLength1:!0,objectId:T}),f("endobj");var C=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+ph(c.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var I=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+ph(c.fontName)),f("/FontDescriptor "+C+" 0 R"),f("/W "+r.API.PDFObject.convert(y)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+T+" 0 R"),f("/BaseFont /"+ph(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+I+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,w="",v=0;v<y.length;v++)w+=String.fromCharCode(y[v]);var S=d();m({data:w,addLength1:!0,objectId:S}),f("endobj");var N=d();m({data:i(c.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var T=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+S+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+ph(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var C=0;C<c.metadata.hmtx.widths.length;C++)c.metadata.hmtx.widths[C]=parseInt(c.metadata.hmtx.widths[C]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+ph(c.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var h,c=o.text||"",f=o.x,d=o.y,m=o.options||{},y=o.mutex||{},w=y.pdfEscape,v=y.activeFontKey,S=y.fonts,N=v,T="",C=0,I="",R=S[N].encoding;if(S[N].encoding!=="Identity-H")return{text:c,x:f,y:d,options:m,mutex:y};for(I=c,N=v,Array.isArray(c)&&(I=c[0]),C=0;C<I.length;C+=1)S[N].metadata.hasOwnProperty("cmap")&&(h=S[N].metadata.cmap.unicode.codeMap[I[C].charCodeAt(0)]),h||I[C].charCodeAt(0)<256&&S[N].metadata.hasOwnProperty("Unicode")?T+=I[C]:T+="";var q="";return parseInt(N.slice(1))<14||R==="WinAnsiEncoding"?q=w(T,N).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):R==="Identity-H"&&(q=t(T,S[N])),y.isHex=!0,{text:q,x:f,y:d,options:m,mutex:y}};e.events.push(["postProcessText",function(o){var h=o.text||"",c=[],f={text:h,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(h)){var d=0;for(d=0;d<h.length;d+=1)Array.isArray(h[d])&&h[d].length===3?c.push([a(Object.assign({},f,{text:h[d][0]})).text,h[d][1],h[d][2]]):c.push(a(Object.assign({},f,{text:h[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:h})).text}])})(Ot),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ot.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(i){var a,o,h,c,f,d,m,y=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),I=!1,R=0;this.__bidiEngine__={};var q=function(k){var D=k.charCodeAt(),ne=D>>8,$=N[ne];return $!==void 0?y[256*$+(255&D)]:ne===252||ne===253?"AL":C.test(ne)?"L":ne===8?"R":"N"},B=function(k){for(var D,ne=0;ne<k.length;ne++){if((D=q(k.charAt(ne)))==="L")return!1;if(D==="R")return!0}return!1},Z=function(k,D,ne,$){var he,Q,K,ce,fe=D[$];switch(fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":I=!1;break;case"N":case"AN":break;case"EN":I&&(fe="AN");break;case"AL":I=!0,fe="R";break;case"WS":case"BN":fe="N";break;case"CS":$<1||$+1>=D.length||(he=ne[$-1])!=="EN"&&he!=="AN"||(Q=D[$+1])!=="EN"&&Q!=="AN"?fe="N":I&&(Q="AN"),fe=Q===he?Q:"N";break;case"ES":fe=(he=$>0?ne[$-1]:"B")==="EN"&&$+1<D.length&&D[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&ne[$-1]==="EN"){fe="EN";break}if(I){fe="N";break}for(K=$+1,ce=D.length;K<ce&&D[K]==="ET";)K++;fe=K<ce&&D[K]==="EN"?"EN":"N";break;case"NSM":if(h&&!c){for(ce=D.length,K=$+1;K<ce&&D[K]==="NSM";)K++;if(K<ce){var xe=k[$],Y=xe>=1425&&xe<=2303||xe===64286;if(he=D[K],Y&&(he==="R"||he==="AL")){fe="R";break}}}fe=$<1||(he=D[$-1])==="B"?"N":ne[$-1];break;case"B":I=!1,a=!0,fe=R;break;case"S":o=!0,fe="N"}return fe},F=function(k,D,ne){var $=k.split("");return ne&&j($,ne,{hiLevel:R}),$.reverse(),D&&D.reverse(),$.join("")},j=function(k,D,ne){var $,he,Q,K,ce,fe=-1,xe=k.length,Y=0,L=[],z=R?v:w,J=[];for(I=!1,a=!1,o=!1,he=0;he<xe;he++)J[he]=q(k[he]);for(Q=0;Q<xe;Q++){if(ce=Y,L[Q]=Z(k,J,L,Q),$=240&(Y=z[ce][S[L[Q]]]),Y&=15,D[Q]=K=z[Y][5],$>0)if($===16){for(he=fe;he<Q;he++)D[he]=1;fe=-1}else fe=-1;if(z[Y][6])fe===-1&&(fe=Q);else if(fe>-1){for(he=fe;he<Q;he++)D[he]=K;fe=-1}J[Q]==="B"&&(D[Q]=0),ne.hiLevel|=K}o&&(function(ie,se,de){for(var pe=0;pe<de;pe++)if(ie[pe]==="S"){se[pe]=R;for(var we=pe-1;we>=0&&ie[we]==="WS";we--)se[we]=R}})(J,D,xe)},V=function(k,D,ne,$,he){if(!(he.hiLevel<k)){if(k===1&&R===1&&!a)return D.reverse(),void(ne&&ne.reverse());for(var Q,K,ce,fe,xe=D.length,Y=0;Y<xe;){if($[Y]>=k){for(ce=Y+1;ce<xe&&$[ce]>=k;)ce++;for(fe=Y,K=ce-1;fe<K;fe++,K--)Q=D[fe],D[fe]=D[K],D[K]=Q,ne&&(Q=ne[fe],ne[fe]=ne[K],ne[K]=Q);Y=ce}Y++}}},H=function(k,D,ne){var $=k.split(""),he={hiLevel:R};return ne||(ne=[]),j($,ne,he),(function(Q,K,ce){if(ce.hiLevel!==0&&m)for(var fe,xe=0;xe<Q.length;xe++)K[xe]===1&&(fe=T.indexOf(Q[xe]))>=0&&(Q[xe]=T[fe+1])})($,ne,he),V(2,$,D,ne,he),V(1,$,D,ne,he),$.join("")};return this.__bidiEngine__.doBidiReorder=function(k,D,ne){if((function(he,Q){if(Q)for(var K=0;K<he.length;K++)Q[K]=K;c===void 0&&(c=B(he)),d===void 0&&(d=B(he))})(k,D),h||!f||d)if(h&&f&&c^d)R=c?1:0,k=F(k,D,ne);else if(!h&&f&&d)R=c?1:0,k=H(k,D,ne),k=F(k,D);else if(!h||c||f||d){if(h&&!f&&c^d)k=F(k,D),c?(R=0,k=H(k,D,ne)):(R=1,k=H(k,D,ne),k=F(k,D));else if(h&&c&&!f&&d)R=1,k=H(k,D,ne),k=F(k,D);else if(!h&&!f&&c^d){var $=m;c?(R=1,k=H(k,D,ne),R=0,m=!1,k=H(k,D,ne),m=$):(R=0,k=H(k,D,ne),k=F(k,D),R=1,m=!1,k=H(k,D,ne),m=$,k=F(k,D))}}else R=0,k=H(k,D,ne);else R=c?1:0,k=H(k,D,ne);return k},this.__bidiEngine__.setOptions=function(k){k&&(h=k.isInputVisual,f=k.isOutputVisual,c=k.isInputRtl,d=k.isOutputRtl,m=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var h=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(h=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?h.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):h.push([t.doBidiReorder(a[c])]);i.text=h}else i.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Ot),Ot.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new bc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new BL(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new NL(this.contents),this.head=new TL(this),this.name=new OL(this),this.cmap=new t_(this),this.toUnicode={},this.hhea=new EL(this),this.maxp=new jL(this),this.hmtx=new DL(this),this.post=new ML(this),this.os2=new kL(this),this.loca=new FL(this),this.glyf=new RL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,i,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,c,f,d;for(d=[],h=0,c=(f=this.bbox).length;h<c;h++)e=f[h],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,i){var a,o,h,c;for(h=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),h+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/t)||0;return h*(t/1e3)},r.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},r})();var oo,bc=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},r.prototype.writeString=function(e){var t,i,a;for(a=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,i,a,o,h,c,f;return e=this.readByte(),t=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),h=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^o)+65536*(255^h)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*a+16777216*o+65536*h+256*c+f},r.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},r.prototype.write=function(e){var t,i,a,o;for(o=[],i=0,a=e.length;i<a;i++)t=e[i],o.push(this.writeByte(t));return o},r})(),NL=(function(){var r;function e(t){var i,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,a,o,h,c,f,d,m,y,w,v,S,N;for(N in v=Object.keys(t).length,f=Math.log(2),y=16*Math.floor(Math.log(v)/f),h=Math.floor(y/f),m=16*v-y,(a=new bc).writeInt(this.scalarType),a.writeShort(v),a.writeShort(y),a.writeShort(h),a.writeShort(m),o=16*v,d=a.pos+o,c=null,S=[],t)for(w=t[N],a.writeString(N),a.writeInt(r(w)),a.writeInt(d),a.writeInt(w.length),S=S.concat(w),N==="head"&&(c=d),d+=w.length;d%4;)S.push(0),d++;return a.write(S),i=2981146554-r(a.data),a.pos=c+8,a.writeUInt32(i),a.data},r=function(t){var i,a,o,h;for(t=n_.call(t);t.length%4;)t.push(0);for(o=new bc(t),a=0,i=0,h=t.length;i<h;i=i+=4)a+=o.readUInt32();return 4294967295&a},e})(),CL={}.hasOwnProperty,Fo=function(r,e){for(var t in e)CL.call(e,t)&&(r[t]=e[t]);function i(){this.constructor=r}return i.prototype=e.prototype,r.prototype=new i,r.__super__=e.prototype,r};oo=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var TL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Fo(r,oo),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new bc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),Ky=(function(){function r(e,t){var i,a,o,h,c,f,d,m,y,w,v,S,N,T,C,I,R;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(v=e.readUInt16(),w=v/2,e.pos+=6,o=(function(){var q,B;for(B=[],f=q=0;0<=w?q<w:q>w;f=0<=w?++q:--q)B.push(e.readUInt16());return B})(),e.pos+=2,N=(function(){var q,B;for(B=[],f=q=0;0<=w?q<w:q>w;f=0<=w?++q:--q)B.push(e.readUInt16());return B})(),d=(function(){var q,B;for(B=[],f=q=0;0<=w?q<w:q>w;f=0<=w?++q:--q)B.push(e.readUInt16());return B})(),m=(function(){var q,B;for(B=[],f=q=0;0<=w?q<w:q>w;f=0<=w?++q:--q)B.push(e.readUInt16());return B})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var q,B;for(B=[],f=q=0;0<=a?q<a:q>a;f=0<=a?++q:--q)B.push(e.readUInt16());return B})(),f=C=0,R=o.length;C<R;f=++C)for(T=o[f],i=I=S=N[f];S<=T?I<=T:I>=T;i=S<=T?++I:--I)m[f]===0?h=i+d[f]:(h=c[m[f]/2+(i-S)-(w-f)]||0)!==0&&(h+=d[f]),this.codeMap[i]=65535&h}e.pos=y}return r.encode=function(e,t){var i,a,o,h,c,f,d,m,y,w,v,S,N,T,C,I,R,q,B,Z,F,j,V,H,k,D,ne,$,he,Q,K,ce,fe,xe,Y,L,z,J,ie,se,de,pe,we,Ae,Ge,Je;switch($=new bc,h=Object.keys(e).sort(function(it,st){return it-st}),t){case"macroman":for(N=0,T=(function(){var it=[];for(S=0;S<256;++S)it.push(0);return it})(),I={0:0},o={},he=0,fe=h.length;he<fe;he++)I[we=e[a=h[he]]]==null&&(I[we]=++N),o[a]={old:e[a],new:I[e[a]]},T[a]=I[e[a]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(T),{charMap:o,subtable:$.data,maxGlyphID:N+1};case"unicode":for(D=[],y=[],R=0,I={},i={},C=d=null,Q=0,xe=h.length;Q<xe;Q++)I[B=e[a=h[Q]]]==null&&(I[B]=++R),i[a]={old:B,new:I[B]},c=I[B]-a,C!=null&&c===d||(C&&y.push(C),D.push(a),d=c),C=a;for(C&&y.push(C),y.push(65535),D.push(65535),H=2*(V=D.length),j=2*Math.pow(Math.log(V)/Math.LN2,2),w=Math.log(j/2)/Math.LN2,F=2*V-j,f=[],Z=[],v=[],S=K=0,Y=D.length;K<Y;S=++K){if(k=D[S],m=y[S],k===65535){f.push(0),Z.push(0);break}if(k-(ne=i[k].new)>=32768)for(f.push(0),Z.push(2*(v.length+V-S)),a=ce=k;k<=m?ce<=m:ce>=m;a=k<=m?++ce:--ce)v.push(i[a].new);else f.push(ne-k),Z.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*V+2*v.length),$.writeUInt16(0),$.writeUInt16(H),$.writeUInt16(j),$.writeUInt16(w),$.writeUInt16(F),de=0,L=y.length;de<L;de++)a=y[de],$.writeUInt16(a);for($.writeUInt16(0),pe=0,z=D.length;pe<z;pe++)a=D[pe],$.writeUInt16(a);for(Ae=0,J=f.length;Ae<J;Ae++)c=f[Ae],$.writeUInt16(c);for(Ge=0,ie=Z.length;Ge<ie;Ge++)q=Z[Ge],$.writeUInt16(q);for(Je=0,se=v.length;Je<se;Je++)N=v[Je],$.writeUInt16(N);return{charMap:i,subtable:$.data,maxGlyphID:R+1}}},r})(),t_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Fo(r,oo),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,i,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)t=new Ky(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var i,a;return t==null&&(t="macroman"),i=Ky.encode(e,t),(a=new bc).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},r})(),EL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Fo(r,oo),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),kL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Fo(r,oo),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),ML=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Fo(r,oo),r.prototype.tag="post",r.prototype.parse=function(e){var t,i,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var h,c,f;for(f=[],o=h=0,c=this.file.maxp.numGlyphs;0<=c?h<c:h>c;o=0<=c?++h:--h)f.push(e.readUInt32());return f}).call(this)}},r})(),LL=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},OL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Fo(r,oo),r.prototype.tag="name",r.prototype.parse=function(e){var t,i,a,o,h,c,f,d,m,y,w;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),i=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=m=0,y=i.length;m<y;o=++m)a=i[o],e.pos=a.offset,d=e.readString(a.length),h=new LL(d,a),f[w=a.nameID]==null&&(f[w]=[]),f[a.nameID].push(h);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r})(),jL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Fo(r,oo),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),DL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Fo(r,oo),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,i,a,o,h,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)m.push(e.readInt16());return m})(),this.widths=(function(){var d,m,y,w;for(w=[],d=0,m=(y=this.metrics).length;d<m;d++)o=y[d],w.push(o.advance);return w}).call(this),i=this.widths[this.widths.length-1],f=[],t=h=0;0<=a?h<a:h>a;t=0<=a?++h:--h)f.push(this.widths.push(i));return f},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),n_=[].slice,RL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Fo(r,oo),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,i,a,o,h,c,f,d,m,y;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,i=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,h=(c=new bc(t.read(a))).readShort(),d=c.readShort(),y=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[e]=h===-1?new VL(c,d,y,f,m):new IL(c,h,d,y,f,m),this.cache[e]))},r.prototype.encode=function(e,t,i){var a,o,h,c,f;for(h=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(h.length),a&&(h=h.concat(a.encode(i)));return o.push(h.length),{table:h,offsets:o}},r})(),IL=(function(){function r(e,t,i,a,o,h){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=a,this.xMax=o,this.yMax=h,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),VL=(function(){function r(e,t,i,a,o){var h,c;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;c=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&c;)h.pos+=1&c?4:2,128&c?h.pos+=8:64&c?h.pos+=4:8&c&&(h.pos+=2)}return r.prototype.encode=function(){var e,t,i;for(t=new bc(n_.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),FL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Fo(r,oo),r.prototype.tag="loca",r.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(e.readUInt32());return o}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,h=0;h<i.length;++h)if(i[h]=a,o<t.length&&t[o]==h){++o,i[h]=a;var c=this.offsets[h],f=this.offsets[h+1]-c;f>0&&(a+=f)}for(var d=new Array(4*i.length),m=0;m<i.length;++m)d[4*m+3]=255&i[m],d[4*m+2]=(65280&i[m])>>8,d[4*m+1]=(16711680&i[m])>>16,d[4*m]=(4278190080&i[m])>>24;return d},r})(),BL=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,i,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[t],e[t]=a[i];return e},r.prototype.glyphsFor=function(e){var t,i,a,o,h,c,f;for(a={},h=0,c=e.length;h<c;h++)a[o=e[h]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(i=a[o])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))i=f[o],a[o]=i;return a},r.prototype.encode=function(e,t){var i,a,o,h,c,f,d,m,y,w,v,S,N,T,C;for(a in i=t_.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(e),v={0:0},C=i.charMap)v[(f=C[a]).old]=f.new;for(S in w=i.maxGlyphID,h)S in v||(v[S]=w++);return m=(function(I){var R,q;for(R in q={},I)q[I[R]]=R;return q})(v),y=Object.keys(m).sort(function(I,R){return I-R}),N=(function(){var I,R,q;for(q=[],I=0,R=y.length;I<R;I++)c=y[I],q.push(m[c]);return q})(),o=this.font.glyf.encode(h,N,v),d=this.font.loca.encode(o.offsets,N),T={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},r})();Ot.API.PDFObject=(function(){var r;function e(){}return r=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,a,o,h;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)i=t[c],d.push(e.convert(i));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)h=t[a],o.push("/"+a+" "+e.convert(h));return o.push(">>"),o.join(`
`)}return""+t},e})();var B1={exports:{}},qL=B1.exports,Qy;function zL(){return Qy||(Qy=1,(function(r,e){(function(t,i){i()})(qL,function(){function t(d,m){return typeof m>"u"?m={autoBom:!1}:typeof m!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function i(d,m,y){var w=new XMLHttpRequest;w.open("GET",d),w.responseType="blob",w.onload=function(){f(w.response,m,y)},w.onerror=function(){console.error("could not download file")},w.send()}function a(d){var m=new XMLHttpRequest;m.open("HEAD",d,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function o(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(m)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof u1=="object"&&u1.global===u1?u1:void 0,c=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(d,m,y){var w=h.URL||h.webkitURL,v=document.createElement("a");m=m||d.name||"download",v.download=m,v.rel="noopener",typeof d=="string"?(v.href=d,v.origin===location.origin?o(v):a(v.href)?i(d,m,y):o(v,v.target="_blank")):(v.href=w.createObjectURL(d),setTimeout(function(){w.revokeObjectURL(v.href)},4e4),setTimeout(function(){o(v)},0))}:"msSaveOrOpenBlob"in navigator?function(d,m,y){if(m=m||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,y),m);else if(a(d))i(d,m,y);else{var w=document.createElement("a");w.href=d,w.target="_blank",setTimeout(function(){o(w)})}}:function(d,m,y,w){if(w=w||open("","_blank"),w&&(w.document.title=w.document.body.innerText="downloading..."),typeof d=="string")return i(d,m,y);var v=d.type==="application/octet-stream",S=/constructor/i.test(h.HTMLElement)||h.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||v&&S||c)&&typeof FileReader<"u"){var T=new FileReader;T.onloadend=function(){var R=T.result;R=N?R:R.replace(/^data:[^;]*;/,"data:attachment/file;"),w?w.location.href=R:location=R,w=null},T.readAsDataURL(d)}else{var C=h.URL||h.webkitURL,I=C.createObjectURL(d);w?w.location=I:location.href=I,w=null,setTimeout(function(){C.revokeObjectURL(I)},4e4)}});h.saveAs=f.saveAs=f,r.exports=f})})(B1)),B1.exports}var PL=zL();const v2="chordWheelSongs",hg="chordWheelCurrentSongId",Pf=()=>{try{const r=localStorage.getItem(v2);return r?JSON.parse(r).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(r){return console.error("Error loading saved songs:",r),[]}},Jy=r=>{try{const e=Pf(),t=e.findIndex(a=>a.id===r.id),i={...r,updatedAt:new Date().toISOString(),createdAt:r.createdAt instanceof Date?r.createdAt.toISOString():r.createdAt};t>=0?e[t]=i:e.push({...i,createdAt:new Date().toISOString()}),localStorage.setItem(v2,JSON.stringify(e)),localStorage.setItem(hg,r.id)}catch(e){console.error("Error saving song:",e)}},UL=r=>{try{const t=Pf().filter(i=>i.id!==r);localStorage.setItem(v2,JSON.stringify(t)),localStorage.getItem(hg)===r&&localStorage.removeItem(hg)}catch(e){console.error("Error deleting song:",e)}};var Im,ex;function HL(){if(ex)return Im;ex=1,Im=e;const r=["auxclick","click","contextmenu","dblclick","keydown","keyup","mousedown","mouseup","touchend"];function e(){const t=window.webkitAudioContext;if(!(navigator.maxTouchPoints>0&&t!=null))return;let a="blocked",o="blocked",h,c,f;const d=new t().sampleRate,m=y(d);r.forEach(T=>{window.addEventListener(T,w,{capture:!0,passive:!0})});function y(T){const C=new ArrayBuffer(10),I=new DataView(C);return I.setUint32(0,T,!0),I.setUint32(4,T,!0),I.setUint16(8,1,!0),`data:audio/wav;base64,UklGRisAAABXQVZFZm10IBAAAAABAAEA${window.btoa(String.fromCharCode(...new Uint8Array(C))).slice(0,13)}AgAZGF0YQcAAACAgICAgICAAAA=`}function w(T){a==="blocked"&&(a="pending",v()),o==="blocked"&&(o="pending",S())}function v(){h=document.createElement("audio"),h.setAttribute("x-webkit-airplay","deny"),h.preload="auto",h.loop=!0,h.src=m,h.load(),h.play().then(()=>{a="allowed",N()},()=>{a="blocked",h.pause(),h.removeAttribute("src"),h.load(),h=null})}function S(){c=new t,f=c.createBufferSource(),f.buffer=c.createBuffer(1,1,22050),f.connect(c.destination),f.start(),c.state==="running"?(o="allowed",N()):(o="blocked",f.disconnect(c.destination),f=null,c.close(),c=null)}function N(){a!=="allowed"||o!=="allowed"||r.forEach(T=>{window.removeEventListener(T,w,{capture:!0,passive:!0})})}}return Im}var GL=HL();const WL=tx(GL);WL();function YL(){const{currentSong:r,selectedKey:e,timelineVisible:t,toggleTimeline:i,selectedSectionId:a,selectedSlotId:o,clearSlot:h,clearTimeline:c,setTitle:f,loadSong:d,newSong:m,instrument:y,volume:w,isMuted:v,undo:S,redo:N,canUndo:T,canRedo:C,chordPanelVisible:I}=rr();ue.useEffect(()=>{t2(y)},[y]),ue.useEffect(()=>{A3(w)},[w]),ue.useEffect(()=>{N3(v)},[v]);const[R,q]=ue.useState(200),[B,Z]=ue.useState(!1),[F,j]=ue.useState(.6),[V,H]=ue.useState(1),[k,D]=ue.useState(50),[ne,$]=ue.useState(()=>{if(typeof window>"u")return 400;const Oe=window.innerWidth,ot=window.innerHeight;return Oe<768||ot<500&&ot<Oe?Math.max(280,(Oe-16)*1.2):Math.min(600,Math.max(400,ot-300))}),[he,Q]=ue.useState(()=>typeof window>"u"?200:Math.max(200,Math.floor(window.innerWidth*.33))),[K,ce]=ue.useState(()=>typeof window<"u"?window.innerWidth<768||window.innerHeight<500&&window.innerHeight<window.innerWidth:!1),[fe,xe]=ue.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerHeight<500:!1),Y=ue.useRef(!1),L=ue.useRef(!1),[z,J]=ue.useState(!1),ie=ue.useRef(null),[se,de]=ue.useState(!1);ue.useEffect(()=>{if(!K)return;fe&&(J(!0),de(!0),rr.getState().chordPanelVisible||rr.getState().toggleChordPanel());const Oe=()=>{J(!0)},ot=()=>{ie.current&&clearTimeout(ie.current),ie.current=setTimeout(Oe,3e4)},Qe=et=>{const dt=et.target,$t=dt.closest("[data-chord-details]"),Ne=dt.closest("[data-playback-controls]");!$t&&!Ne&&(J(!1),ot())};return document.addEventListener("touchstart",Qe),ot(),()=>{document.removeEventListener("touchstart",Qe),ie.current&&clearTimeout(ie.current)}},[K,fe]);const[pe,we]=ue.useState(!1),Ae=ue.useRef(null),Ge=ue.useCallback(()=>{!K||!fe||(we(!0),Ae.current&&clearTimeout(Ae.current),Ae.current=setTimeout(()=>{we(!1)},3e3))},[K,fe]);ue.useEffect(()=>()=>{Ae.current&&clearTimeout(Ae.current)},[]),ue.useEffect(()=>{const Oe=()=>{const ot=window.innerWidth,Qe=window.innerHeight,et=ot<768||Qe<500&&Qe<ot,dt=Qe<ot&&Qe<500;if(ce(et),xe(dt),et)if(dt){const Ie=Math.max(200,Math.floor(ot*.33));Q(Ie);const He=ot*.5,Ue=16,ut=Math.min(560,Math.max(280,He-Ue,Qe-120)),gt=Math.min(ut*1.2,He-Ue+12,Qe-120+12,560);$(gt)}else{const Ue=(ot-16)*1.2;$(Math.max(280,Ue))}else{const gt=Math.max(360,Qe-48-56-140-50),Ct=Math.min(720,Math.max(320,Math.min(ot-120,gt)));$(Ct)}const $t=rr.getState();et&&!L.current&&($t.timelineVisible&&$t.toggleTimeline(),$t.chordPanelVisible&&$t.toggleChordPanel(),L.current=!0),!et&&Y.current&&!$t.chordPanelVisible&&($t.toggleChordPanel(),Y.current=!1)};return Oe(),window.addEventListener("resize",Oe),window.addEventListener("orientationchange",Oe),()=>{window.removeEventListener("resize",Oe),window.removeEventListener("orientationchange",Oe)}},[]);const Je=ue.useCallback((Oe,ot)=>{H(Oe),D(ot)},[]),it=ue.useCallback(()=>{const Oe=Math.min(2.5,V+.3);H(Oe),D(Oe>1.3?38:50)},[V]),st=ue.useCallback(()=>{const Oe=Math.max(.2,V-.15);H(Oe),D(Oe>1.3?38:50)},[V]),[W,De]=ue.useState(!1),[at,$e]=ue.useState(r.title),Te=ue.useMemo(()=>{const Oe=r.sections.reduce(($t,Ne)=>{const Ie=Ne.measures.reduce((He,Ue)=>He+Ue.beats.reduce((ut,gt)=>ut+gt.duration,0),0);return $t+Ie},0),ot=r.tempo/60,Qe=Oe/ot,et=Math.floor(Qe/60),dt=Math.floor(Qe%60);return`${et}:${dt.toString().padStart(2,"0")}`},[r.sections,r.tempo]),[nt,rt]=ue.useState(!1);ue.useEffect(()=>{const Oe=async()=>{try{await cd(),await Bh(),rt(!0)}catch(Qe){console.error("Audio initialization failed:",Qe)}},ot=()=>{nt||Oe()};return document.addEventListener("touchstart",ot,{once:!0}),document.addEventListener("click",ot,{once:!0}),()=>{document.removeEventListener("touchstart",ot),document.removeEventListener("click",ot)}},[nt]),ue.useEffect(()=>{const Oe=ot=>{if((ot.key==="Delete"||ot.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;ot.preventDefault(),h(a,o)}};return window.addEventListener("keydown",Oe),()=>window.removeEventListener("keydown",Oe)},[a,o,h]),ue.useEffect(()=>{const Oe=ot=>{const Qe=ot.target;Qe?.tagName==="INPUT"||Qe?.tagName==="TEXTAREA"||Qe?.isContentEditable||ot.metaKey&&ot.key.toLowerCase()==="z"&&(ot.preventDefault(),ot.shiftKey?C&&N():T&&S())};return window.addEventListener("keydown",Oe),()=>window.removeEventListener("keydown",Oe)},[S,N,T,C]);const lt=()=>{$e(r.title),De(!0)},ft=()=>{f(at.trim()||"Untitled Song"),De(!1)},[At,Ft]=ue.useState(!1),[jt,kt]=ue.useState([]),Mt=ue.useRef(null);ue.useEffect(()=>{kt(Pf())},[]),ue.useEffect(()=>{const Oe=ot=>{Mt.current&&!Mt.current.contains(ot.target)&&Ft(!1)};return document.addEventListener("mousedown",Oe),()=>document.removeEventListener("mousedown",Oe)},[]);const ht=()=>{if(r.title==="Untitled Song"||!r.title.trim()){const Oe=prompt("Please name your song:",r.title);if(Oe===null)return;const ot=Oe.trim()||"Untitled Song";f(ot);const Qe={...r,title:ot};Jy(Qe)}else Jy(r);kt(Pf()),Ft(!1)},Re=Oe=>{d(Oe),Ft(!1)},[Ye,qt]=ue.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),Nt=()=>{qt({isOpen:!0,title:"New Song",message:"Start a new song? Unsaved changes will be lost.",confirmLabel:"Start New",isDestructive:!0,onConfirm:()=>{m(),Ft(!1)}})},St=(Oe,ot,Qe)=>{Qe.stopPropagation(),qt({isOpen:!0,title:"Delete Song",message:`Are you sure you want to delete "${ot}"? This cannot be undone.`,confirmLabel:"Delete",isDestructive:!0,onConfirm:()=>{UL(Oe),kt(Pf())}})},Lt=Oe=>{Oe.key==="Enter"?ft():Oe.key==="Escape"&&($e(r.title),De(!1))},Bt=ue.useCallback(Oe=>{Oe.preventDefault(),Z(!0)},[]);ue.useEffect(()=>{if(!B)return;const Oe=Qe=>{const dt=window.innerHeight-Qe.clientY-56;q(Math.max(100,Math.min(350,dt)))},ot=()=>{Z(!1)};return document.addEventListener("mousemove",Oe),document.addEventListener("mouseup",ot),()=>{document.removeEventListener("mousemove",Oe),document.removeEventListener("mouseup",ot)}},[B]);const vt=()=>{const Oe=new Ot;Oe.setFontSize(24),Oe.setFont("helvetica","bold"),Oe.text(r.title,20,20),Oe.setFontSize(12),Oe.setFont("helvetica","normal"),Oe.text(`Key: ${e} | Tempo: ${r.tempo} BPM`,20,30);let ot=50;const Qe=new Set;if(r.sections.forEach($t=>{ot>270&&(Oe.addPage(),ot=20),Oe.setFontSize(14),Oe.setFont("helvetica","bold"),Oe.text(`[${$t.name}]`,20,ot),ot+=10;const Ie=$t.measures.map(He=>{const Ue=He.beats.length;return He.beats.forEach(ut=>{if(ut.chord){const gt=ut.chord.root,Gt={major:"maj",minor:"m",diminished:"dim",augmented:"aug",major7:"maj7",minor7:"m7",dominant7:"7",halfDiminished7:"m7b5",sus2:"sus2",sus4:"sus4"}[ut.chord.quality]||ut.chord.quality||"maj";Qe.add(`${gt}|${Gt}`)}}),Ue===1?`${He.beats[0]?.chord?.symbol||""}   `:Ue===2?He.beats.map(ut=>`${ut.chord?.symbol||""} `).join(" "):He.beats.map(ut=>ut.chord?.symbol||"").join(" ")}).join("  |  ");Oe.setFontSize(12),Oe.setFont("helvetica","normal"),Oe.text(Ie||"(No chords)",20,ot),ot+=15}),Qe.size>0){const $t=Array.from(Qe),Ne=245,Ie=5,ut=$t.length*(22+Ie)>Ne,gt=ut?18:22,Ct=ut?18:20,Gt=ut?22:25,Yt=ut?155:170;let cn=0,Kt=35;const ir=ut?Math.ceil($t.length/2):$t.length;$t.forEach((Qt,Xt)=>{const[ln,Fn]=Qt.split("|"),Un=hw(ln,Fn);if(!Un)return;ut&&Xt===ir&&(cn=1,Kt=35);const kn=cn*Gt,di=`${ln}${Fn==="maj"?"":Fn}`;Oe.setFontSize(ut?6:7),Oe.setFont("helvetica","bold"),Oe.setTextColor(0,0,0),Oe.text(di,Yt+kn+Ct/2+2,Kt,{align:"center"}),dn(Oe,Un,Yt+kn,Kt+3,ut),Kt+=gt+Ie})}const et=`${r.title.replace(/\s+/g,"-").toLowerCase()}.pdf`,dt=Oe.output("blob");PL.saveAs(dt,et)},dn=(Oe,ot,Qe,et,dt=!1)=>{const{frets:$t,barres:Ne,baseFret:Ie}=ot,He=dt?2.5:3,Ue=dt?3:4,ut=4,gt=6,Ct=dt?1:1.2,Gt=Array.from({length:gt},(Qt,Xt)=>Qe+Xt*He),Yt=Array.from({length:ut+1},(Qt,Xt)=>et+Xt*Ue),cn=Ie===1,Kt=He*(gt-1),ir=Ue*ut;Oe.setDrawColor(0,0,0),cn?(Oe.setLineWidth(1),Oe.line(Qe,et,Qe+Kt,et)):(Oe.setLineWidth(.3),Oe.line(Qe,et,Qe+Kt,et),Oe.setFontSize(dt?6:7),Oe.setFont("helvetica","bold"),Oe.text(Ie.toString(),Qe-3,et+Ue/2+1)),Oe.setLineWidth(.2),Yt.slice(1).forEach(Qt=>{Oe.line(Qe,Qt,Qe+Kt,Qt)}),Gt.forEach(Qt=>{Oe.line(Qt,et,Qt,et+ir)}),Ne.forEach(Qt=>{const Xt=$t.map((kn,di)=>({fret:kn,idx:di})).filter(({fret:kn})=>kn===Qt);if(Xt.length<2)return;const ln=Math.min(...Xt.map(kn=>kn.idx)),Fn=Math.max(...Xt.map(kn=>kn.idx)),Un=et+(Qt-.5)*Ue;Oe.setLineWidth(Ct*1.4),Oe.line(Gt[ln],Un,Gt[Fn],Un),Oe.setLineWidth(.2)}),$t.forEach((Qt,Xt)=>{const ln=Gt[Xt];if(Qt===-1){Oe.setFontSize(dt?6:7),Oe.setFont("helvetica","bold"),Oe.text("x",ln,et-1,{align:"center"});return}if(Qt===0){Oe.setLineWidth(.3),Oe.circle(ln,et-1.5,.8,"S");return}if(Ne.includes(Qt)){const kn=$t.findIndex(di=>di===Qt);if(Xt!==kn)return}const Un=et+(Qt-.5)*Ue;Oe.setFillColor(0,0,0),Oe.circle(ln,Un,Ct,"F")})},Dt=Math.max(80,R-42);return E.jsxs("div",{className:"h-full w-full flex flex-col bg-bg-primary text-text-primary overflow-hidden",children:[E.jsxs("header",{className:`${K?"h-14":"h-12"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center ${K?"px-4":"px-3"} bg-bg-secondary shrink-0 z-20 transition-all duration-300 ease-out ${K&&!fe&&(z||I)||K&&fe&&!pe?"opacity-0 -translate-y-full pointer-events-none absolute top-0 left-0 right-0":"relative"}`,children:[E.jsx("div",{className:"flex items-center gap-2 shrink-0",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"relative",children:E.jsx(KE,{size:K?32:24})}),E.jsx("span",{className:`font-bold ${K?"text-xs":"text-sm"} tracking-tight hidden sm:block text-text-muted`,children:"Songwriter's Wheel"})]})}),E.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:W?E.jsx("input",{type:"text",value:at,onChange:Oe=>$e(Oe.target.value),onBlur:ft,onKeyDown:Lt,autoFocus:!0,className:`bg-bg-tertiary border border-border-medium rounded px-3 py-1 ${K?"text-xs":"text-sm"} font-medium text-text-primary focus:outline-none focus:border-accent-primary text-center ${K?"w-40":"w-56"} max-w-[70vw]`,maxLength:50}):E.jsx("span",{onDoubleClick:lt,className:`${K?"text-xs":"text-sm"} font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-2 py-1 rounded text-center truncate max-w-[70vw]`,title:"Double-click to edit title",children:r.title})}),E.jsxs("div",{className:`flex items-center ${K?"gap-3":"gap-4"} shrink-0 justify-self-end`,children:[!K&&E.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[E.jsx($C,{size:11,className:"shrink-0"}),E.jsx("span",{className:"leading-none",children:Te})]}),E.jsxs("div",{className:`flex items-center gap-2 p-[10px] ${K?"text-xs":"text-[10px]"} text-text-muted`,children:[E.jsx("span",{className:"uppercase font-bold",children:"Key"}),E.jsx("span",{className:`font-bold text-accent-primary ${K?"text-base":"text-sm"}`,children:e})]}),E.jsxs("div",{className:"relative",ref:Mt,children:[E.jsxs("button",{onClick:()=>Ft(!At),className:`flex items-center gap-1.5 ${K?"text-xs px-2 py-1.5 min-w-[44px]":"text-[11px] px-2 py-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback`,children:[E.jsx(mb,{size:K?16:12}),E.jsx("span",{className:"hidden sm:inline",children:"Save"}),E.jsx(_h,{size:K?12:10,className:`transition-transform ${At?"rotate-180":""}`})]}),At&&E.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[E.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[E.jsxs("button",{onClick:ht,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[E.jsx(mb,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),E.jsxs("button",{onClick:Nt,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[E.jsx(nT,{size:14,className:"text-green-400"}),"New Song"]})]}),E.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:jt.length===0?E.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):E.jsxs("div",{className:"p-1.5",children:[E.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),jt.map(Oe=>E.jsxs("div",{onClick:()=>Re(Oe),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${Oe.id===r.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[E.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[E.jsx(iT,{size:12,className:"shrink-0"}),E.jsx("span",{className:"truncate",children:Oe.title})]}),E.jsx("button",{onClick:ot=>St(Oe.id,Oe.title,ot),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:E.jsx($m,{size:10})})]},Oe.id))]})})]})]}),E.jsxs("button",{onClick:vt,className:`flex items-center gap-1.5 ${K?"text-xs px-3 py-1.5 min-w-[44px]":"text-[11px] px-2.5 py-1"} bg-text-primary text-bg-primary rounded font-medium hover:bg-white transition-colors touch-feedback`,children:[E.jsx(eT,{size:K?16:12}),E.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),E.jsxs("div",{className:`flex-1 flex ${K?fe?"flex-row":"flex-col":"flex-row"} overflow-hidden min-h-0`,children:[E.jsxs("div",{className:`flex flex-col min-w-0 min-h-0 bg-gradient-to-b from-bg-primary to-bg-secondary/30 ${K&&fe?"shrink-0":"flex-1"} ${K?"overflow-hidden":""}`,style:K&&fe?{width:`${he}px`,minWidth:"200px",height:"100dvh",maxHeight:"100%"}:void 0,children:[E.jsxs("div",{className:`flex-1 flex flex-col ${K&&!fe?"justify-center":"justify-center items-center"} ${K?"overflow-hidden":"overflow-visible"}`,children:[K?null:E.jsx("div",{className:"flex justify-end px-3 py-1 md:py-0.5 shrink-0 w-full",children:E.jsxs("div",{className:"flex items-center gap-1 bg-bg-secondary/80 backdrop-blur-sm rounded-full px-2 py-1 border border-border-subtle shadow-lg",children:[E.jsx("button",{onClick:st,disabled:V<=.2,className:"w-6 h-6 flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95",title:"Zoom out",children:E.jsx(mT,{size:12})}),E.jsxs("span",{className:"text-[9px] w-8 text-text-muted text-center font-medium",children:[Math.round(V*100),"%"]}),E.jsx("button",{onClick:it,disabled:V>=2.5,className:"w-6 h-6 flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95",title:"Zoom in",children:E.jsx(Jg,{size:12})})]})}),E.jsx("div",{className:`flex-1 flex items-center justify-center ${K&&fe?"p-1 overflow-hidden":K&&!fe?"px-0 py-0":"p-2 overflow-visible"}`,onClick:Ge,children:E.jsx("div",{className:"relative flex items-center justify-center",style:{width:K?"100%":void 0,height:K?"100%":void 0,maxWidth:K&&fe?"100%":K&&!fe&&z?"min(100vw - 8px, 55dvh)":`${ne}px`,maxHeight:K&&fe?"100%":K&&!fe&&z?"min(100vw - 8px, 55dvh)":`${ne}px`,aspectRatio:"1 / 1"},children:E.jsx(zT,{zoomScale:V,zoomOriginY:k,onZoomChange:Je})})})]}),K?null:t?E.jsxs(E.Fragment,{children:[E.jsx("div",{className:`bg-bg-secondary border-t border-border-subtle flex items-center justify-center group transition-colors ${B?"bg-accent-primary/20":""}`,style:{height:"16px"},children:E.jsx("div",{className:"flex-1 h-full cursor-ns-resize flex items-center justify-center hover:bg-bg-tertiary transition-colors",onMouseDown:Bt,children:E.jsx(aT,{size:10,className:"text-text-muted group-hover:text-text-secondary"})})}),E.jsxs("div",{className:"shrink-0 bg-bg-secondary overflow-hidden flex flex-col",style:{height:R},children:[E.jsxs("div",{className:"shrink-0 flex items-center justify-between px-3 border-b border-border-subtle bg-bg-secondary/90 backdrop-blur-sm",style:{paddingTop:"4px",paddingBottom:"4px"},children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[E.jsx("span",{className:"uppercase font-bold tracking-wider text-[9px]",children:"Scale"}),E.jsx("input",{type:"range",min:.01,max:1.6,step:.01,value:F,onChange:Oe=>j(parseFloat(Oe.target.value)),className:"w-32",style:{accentColor:"#8b5cf6"},"aria-label":"Timeline scale"}),E.jsxs("span",{className:"text-[10px] text-text-secondary w-12 text-right",children:[Math.round(F*100),"%"]})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsxs("button",{onClick:S,disabled:!T,className:`flex items-center gap-1 ${K?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Undo (Z)",children:[E.jsx(w3,{size:K?14:12}),E.jsx("span",{className:"uppercase font-bold tracking-wider",children:K?"":"Undo"})]}),E.jsxs("button",{onClick:N,disabled:!C,className:`flex items-center gap-1 ${K?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Redo (Z)",children:[E.jsx(_3,{size:K?14:12}),E.jsx("span",{className:"uppercase font-bold tracking-wider",children:K?"":"Redo"})]})]})]}),E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsxs("button",{onClick:()=>{qt({isOpen:!0,title:"Clear Timeline",message:"Are you sure you want to clear all chords from the timeline? This action cannot be undone.",confirmLabel:"Clear",isDestructive:!0,onConfirm:c})},className:`${K?"text-xs min-h-[44px] px-3":"text-[10px] px-2 py-1"} text-text-muted hover:text-red-400 rounded hover:bg-red-400/10 transition-colors flex items-center gap-1 touch-feedback`,title:"Clear all chords from timeline",children:[E.jsx($m,{size:K?14:12}),E.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Clear"})]}),E.jsxs("button",{onClick:i,className:`${K?"text-xs min-h-[44px] px-3":"text-[10px] px-2 py-1"} text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors flex items-center gap-1 touch-feedback`,title:"Hide timeline",children:[E.jsx(_h,{size:K?14:12}),E.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]})]}),E.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:E.jsx(Db,{height:Dt,scale:F})})]})]}):E.jsx("div",{className:`${K?"h-12":"h-7"} bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0`,children:E.jsxs("button",{onClick:i,className:`${K?"px-4 min-h-[48px]":"px-3 h-full"} flex items-center gap-1 ${K?"text-xs":"text-[9px]"} text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors touch-feedback`,title:"Show timeline",children:[E.jsx(v3,{size:K?14:12}),E.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})})]}),K&&fe?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:`flex h-full ${se?"flex-1":""} shrink-0`,style:{minWidth:se?"100px":"28px",transition:"all 0.25s ease-out"},children:[se&&E.jsx("div",{className:"flex-1 h-full bg-bg-secondary overflow-hidden border-l border-border-subtle",children:I?E.jsx(Rb,{isOpen:!0,onToggle:()=>de(!1),hideCloseButton:!0}):E.jsx(Db,{height:window.innerHeight-80,scale:.6})}),E.jsxs("div",{className:`h-full flex flex-col items-center justify-center cursor-pointer touch-feedback active:bg-bg-tertiary border-l border-border-subtle shrink-0 ${se?"bg-bg-elevated":"bg-bg-secondary"}`,style:{width:"28px"},onClick:()=>{se&&!I&&rr.getState().toggleChordPanel(),de(!se)},children:[E.jsx("div",{className:"h-10 w-1 rounded-full bg-text-muted/50 mb-2"}),E.jsx("span",{className:"text-[9px] font-bold text-text-muted uppercase tracking-wide",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:se?"":"Timeline"})]})]}),E.jsxs("div",{className:`flex h-full ${I?"flex-1":""} shrink-0`,style:{minWidth:I?"100px":"28px",transition:"all 0.25s ease-out"},children:[I&&E.jsx("div",{className:"flex-1 h-full bg-bg-secondary overflow-hidden border-l border-border-subtle","data-chord-details":!0,children:E.jsx(pm,{variant:se?"landscape-panel":"landscape-expanded"})}),E.jsxs("div",{className:`h-full flex flex-col items-center justify-center cursor-pointer touch-feedback active:bg-bg-tertiary border-l border-border-subtle shrink-0 ${I?"bg-bg-elevated":"bg-bg-secondary"}`,style:{width:"28px"},onClick:()=>{I&&!se&&de(!0),rr.getState().toggleChordPanel()},children:[E.jsx("div",{className:"h-10 w-1 rounded-full bg-text-muted/50 mb-2"}),E.jsx("span",{className:"text-[9px] font-bold text-text-muted uppercase tracking-wide",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:I?"":"Details"})]})]})]}):K?null:E.jsx(pm,{variant:"sidebar"})]}),K&&!fe&&E.jsxs("div",{className:"shrink-0 flex flex-col overflow-hidden",style:{maxHeight:"65vh"},children:[E.jsx(Rb,{isOpen:se,onToggle:()=>de(!se)}),E.jsx("div",{"data-chord-details":!0,className:"shrink-0 bg-bg-primary overflow-hidden",style:{maxHeight:se?"45vh":"55vh"},children:E.jsx(pm,{variant:"drawer"})})]}),!(K&&!fe&&(z||I))&&E.jsx("div",{className:"shrink-0 z-30 relative",style:{paddingBottom:K?"env(safe-area-inset-bottom)":void 0},children:E.jsx($E,{})}),E.jsx(uw,{isOpen:Ye.isOpen,onClose:()=>qt(Oe=>({...Oe,isOpen:!1})),onConfirm:Ye.onConfirm,title:Ye.title,message:Ye.message,confirmLabel:Ye.confirmLabel,isDestructive:Ye.isDestructive})]})}b4.createRoot(document.getElementById("root")).render(E.jsx(ue.StrictMode,{children:E.jsx(YL,{})}));export{Pn as _,u1 as c,tx as g};
