(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var jM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var K0={exports:{}},Sf={};var Nv;function Qw(){if(Nv)return Sf;Nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var h=null;if(o!==void 0&&(h=""+o),a.key!==void 0&&(h=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:r,type:i,key:h,ref:a!==void 0?a:null,props:o}}return Sf.Fragment=e,Sf.jsx=t,Sf.jsxs=t,Sf}var Cv;function Jw(){return Cv||(Cv=1,K0.exports=Qw()),K0.exports}var M=Jw(),Q0={exports:{}},Qt={};var Tv;function e4(){if(Tv)return Qt;Tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function v(X){return X===null||typeof X!="object"?null:(X=w&&X[w]||X["@@iterator"],typeof X=="function"?X:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,T={};function C(X,k,U){this.props=X,this.context=k,this.refs=T,this.updater=U||S}C.prototype.isReactComponent={},C.prototype.setState=function(X,k){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,k,"setState")},C.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function V(){}V.prototype=C.prototype;function j(X,k,U){this.props=X,this.context=k,this.refs=T,this.updater=U||S}var R=j.prototype=new V;R.constructor=j,N(R,C.prototype),R.isPureReactComponent=!0;var I=Array.isArray;function W(){}var P={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function F(X,k,U){var ee=U.ref;return{$$typeof:r,type:X,key:k,ref:ee!==void 0?ee:null,props:U}}function $(X,k){return F(X.type,k,X.props)}function E(X){return typeof X=="object"&&X!==null&&X.$$typeof===r}function B(X){var k={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(U){return k[U]})}var H=/\/+/g;function Q(X,k){return typeof X=="object"&&X!==null&&X.key!=null?B(""+X.key):k.toString(36)}function ue(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(W,W):(X.status="pending",X.then(function(k){X.status==="pending"&&(X.status="fulfilled",X.value=k)},function(k){X.status==="pending"&&(X.status="rejected",X.reason=k)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function J(X,k,U,ee,re){var se=typeof X;(se==="undefined"||se==="boolean")&&(X=null);var me=!1;if(X===null)me=!0;else switch(se){case"bigint":case"string":case"number":me=!0;break;case"object":switch(X.$$typeof){case r:case e:me=!0;break;case m:return me=X._init,J(me(X._payload),k,U,ee,re)}}if(me)return re=re(X),me=ee===""?"."+Q(X,0):ee,I(re)?(U="",me!=null&&(U=me.replace(H,"$&/")+"/"),J(re,k,U,"",function(Ne){return Ne})):re!=null&&(E(re)&&(re=$(re,U+(re.key==null||X&&X.key===re.key?"":(""+re.key).replace(H,"$&/")+"/")+me)),k.push(re)),1;me=0;var de=ee===""?".":ee+":";if(I(X))for(var _e=0;_e<X.length;_e++)ee=X[_e],se=de+Q(ee,_e),me+=J(ee,k,U,se,re);else if(_e=v(X),typeof _e=="function")for(X=_e.call(X),_e=0;!(ee=X.next()).done;)ee=ee.value,se=de+Q(ee,_e++),me+=J(ee,k,U,se,re);else if(se==="object"){if(typeof X.then=="function")return J(ue(X),k,U,ee,re);throw k=String(X),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return me}function ie(X,k,U){if(X==null)return X;var ee=[],re=0;return J(X,ee,"","",function(se){return k.call(U,se,re++)}),ee}function le(X){if(X._status===-1){var k=X._result;k=k(),k.then(function(U){(X._status===0||X._status===-1)&&(X._status=1,X._result=U)},function(U){(X._status===0||X._status===-1)&&(X._status=2,X._result=U)}),X._status===-1&&(X._status=0,X._result=k)}if(X._status===1)return X._result.default;throw X._result}var fe=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},xe={map:ie,forEach:function(X,k,U){ie(X,function(){k.apply(this,arguments)},U)},count:function(X){var k=0;return ie(X,function(){k++}),k},toArray:function(X){return ie(X,function(k){return k})||[]},only:function(X){if(!E(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Qt.Activity=y,Qt.Children=xe,Qt.Component=C,Qt.Fragment=t,Qt.Profiler=a,Qt.PureComponent=j,Qt.StrictMode=i,Qt.Suspense=f,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Qt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return P.H.useMemoCache(X)}},Qt.cache=function(X){return function(){return X.apply(null,arguments)}},Qt.cacheSignal=function(){return null},Qt.cloneElement=function(X,k,U){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var ee=N({},X.props),re=X.key;if(k!=null)for(se in k.key!==void 0&&(re=""+k.key),k)!D.call(k,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&k.ref===void 0||(ee[se]=k[se]);var se=arguments.length-2;if(se===1)ee.children=U;else if(1<se){for(var me=Array(se),de=0;de<se;de++)me[de]=arguments[de+2];ee.children=me}return F(X.type,re,ee)},Qt.createContext=function(X){return X={$$typeof:h,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},Qt.createElement=function(X,k,U){var ee,re={},se=null;if(k!=null)for(ee in k.key!==void 0&&(se=""+k.key),k)D.call(k,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(re[ee]=k[ee]);var me=arguments.length-2;if(me===1)re.children=U;else if(1<me){for(var de=Array(me),_e=0;_e<me;_e++)de[_e]=arguments[_e+2];re.children=de}if(X&&X.defaultProps)for(ee in me=X.defaultProps,me)re[ee]===void 0&&(re[ee]=me[ee]);return F(X,se,re)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(X){return{$$typeof:c,render:X}},Qt.isValidElement=E,Qt.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:le}},Qt.memo=function(X,k){return{$$typeof:d,type:X,compare:k===void 0?null:k}},Qt.startTransition=function(X){var k=P.T,U={};P.T=U;try{var ee=X(),re=P.S;re!==null&&re(U,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(W,fe)}catch(se){fe(se)}finally{k!==null&&U.types!==null&&(k.types=U.types),P.T=k}},Qt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Qt.use=function(X){return P.H.use(X)},Qt.useActionState=function(X,k,U){return P.H.useActionState(X,k,U)},Qt.useCallback=function(X,k){return P.H.useCallback(X,k)},Qt.useContext=function(X){return P.H.useContext(X)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(X,k){return P.H.useDeferredValue(X,k)},Qt.useEffect=function(X,k){return P.H.useEffect(X,k)},Qt.useEffectEvent=function(X){return P.H.useEffectEvent(X)},Qt.useId=function(){return P.H.useId()},Qt.useImperativeHandle=function(X,k,U){return P.H.useImperativeHandle(X,k,U)},Qt.useInsertionEffect=function(X,k){return P.H.useInsertionEffect(X,k)},Qt.useLayoutEffect=function(X,k){return P.H.useLayoutEffect(X,k)},Qt.useMemo=function(X,k){return P.H.useMemo(X,k)},Qt.useOptimistic=function(X,k){return P.H.useOptimistic(X,k)},Qt.useReducer=function(X,k,U){return P.H.useReducer(X,k,U)},Qt.useRef=function(X){return P.H.useRef(X)},Qt.useState=function(X){return P.H.useState(X)},Qt.useSyncExternalStore=function(X,k,U){return P.H.useSyncExternalStore(X,k,U)},Qt.useTransition=function(){return P.H.useTransition()},Qt.version="19.2.0",Qt}var Ev;function ig(){return Ev||(Ev=1,Q0.exports=e4()),Q0.exports}var he=ig();const gn=Yy(he);var J0={exports:{}},Af={},em={exports:{}},tm={};var kv;function t4(){return kv||(kv=1,(function(r){function e(J,ie){var le=J.length;J.push(ie);e:for(;0<le;){var fe=le-1>>>1,xe=J[fe];if(0<a(xe,ie))J[fe]=ie,J[le]=xe,le=fe;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var ie=J[0],le=J.pop();if(le!==ie){J[0]=le;e:for(var fe=0,xe=J.length,X=xe>>>1;fe<X;){var k=2*(fe+1)-1,U=J[k],ee=k+1,re=J[ee];if(0>a(U,le))ee<xe&&0>a(re,U)?(J[fe]=re,J[ee]=le,fe=ee):(J[fe]=U,J[k]=le,fe=k);else if(ee<xe&&0>a(re,le))J[fe]=re,J[ee]=le,fe=ee;else break e}}return ie}function a(J,ie){var le=J.sortIndex-ie.sortIndex;return le!==0?le:J.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();r.unstable_now=function(){return h.now()-c}}var f=[],d=[],m=1,y=null,w=3,v=!1,S=!1,N=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function R(J){for(var ie=t(d);ie!==null;){if(ie.callback===null)i(d);else if(ie.startTime<=J)i(d),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(d)}}function I(J){if(N=!1,R(J),!S)if(t(f)!==null)S=!0,W||(W=!0,B());else{var ie=t(d);ie!==null&&ue(I,ie.startTime-J)}}var W=!1,P=-1,D=5,F=-1;function $(){return T?!0:!(r.unstable_now()-F<D)}function E(){if(T=!1,W){var J=r.unstable_now();F=J;var ie=!0;try{e:{S=!1,N&&(N=!1,V(P),P=-1),v=!0;var le=w;try{t:{for(R(J),y=t(f);y!==null&&!(y.expirationTime>J&&$());){var fe=y.callback;if(typeof fe=="function"){y.callback=null,w=y.priorityLevel;var xe=fe(y.expirationTime<=J);if(J=r.unstable_now(),typeof xe=="function"){y.callback=xe,R(J),ie=!0;break t}y===t(f)&&i(f),R(J)}else i(f);y=t(f)}if(y!==null)ie=!0;else{var X=t(d);X!==null&&ue(I,X.startTime-J),ie=!1}}break e}finally{y=null,w=le,v=!1}ie=void 0}}finally{ie?B():W=!1}}}var B;if(typeof j=="function")B=function(){j(E)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Q=H.port2;H.port1.onmessage=E,B=function(){Q.postMessage(null)}}else B=function(){C(E,0)};function ue(J,ie){P=C(function(){J(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var le=w;w=ie;try{return J()}finally{w=le}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var le=w;w=J;try{return ie()}finally{w=le}},r.unstable_scheduleCallback=function(J,ie,le){var fe=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,J){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=le+xe,J={id:m++,callback:ie,priorityLevel:J,startTime:le,expirationTime:xe,sortIndex:-1},le>fe?(J.sortIndex=le,e(d,J),t(f)===null&&J===t(d)&&(N?(V(P),P=-1):N=!0,ue(I,le-fe))):(J.sortIndex=xe,e(f,J),S||v||(S=!0,W||(W=!0,B()))),J},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(J){var ie=w;return function(){var le=w;w=ie;try{return J.apply(this,arguments)}finally{w=le}}}})(tm)),tm}var Ov;function n4(){return Ov||(Ov=1,em.exports=t4()),em.exports}var nm={exports:{}},Fi={};var Mv;function r4(){if(Mv)return Fi;Mv=1;var r=ig();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:d,implementation:m}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Fi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Fi.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},Fi.flushSync=function(f){var d=h.T,m=i.p;try{if(h.T=null,i.p=2,f)return f()}finally{h.T=d,i.p=m,i.d.f()}},Fi.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Fi.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Fi.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:v}):m==="script"&&i.d.X(f,{crossOrigin:y,integrity:w,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Fi.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Fi.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Fi.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Fi.requestFormReset=function(f){i.d.r(f)},Fi.unstable_batchedUpdates=function(f,d){return f(d)},Fi.useFormState=function(f,d,m){return h.H.useFormState(f,d,m)},Fi.useFormStatus=function(){return h.H.useHostTransitionStatus()},Fi.version="19.2.0",Fi}var Lv;function Wy(){if(Lv)return nm.exports;Lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=r4(),nm.exports}var Dv;function i4(){if(Dv)return Af;Dv=1;var r=n4(),e=ig(),t=Wy();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function c(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(i(188))}function d(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,u=s;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return f(g),n;if(x===u)return f(g),s;x=x.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=x;else{for(var L=!1,K=g.child;K;){if(K===l){L=!0,l=g,u=x;break}if(K===u){L=!0,u=g,l=x;break}K=K.sibling}if(!L){for(K=x.child;K;){if(K===l){L=!0,l=x,u=g;break}if(K===u){L=!0,u=x,l=g;break}K=K.sibling}if(!L)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),j=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=E&&n[E]||n["@@iterator"],typeof n=="function"?n:null)}var H=Symbol.for("react.client.reference");function Q(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===H?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case W:return"SuspenseList";case F:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case j:return n.displayName||"Context";case V:return(n._context.displayName||"Context")+".Consumer";case R:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return s=n.displayName||null,s!==null?s:Q(n.type)||"Memo";case D:s=n._payload,n=n._init;try{return Q(n(s))}catch{}}return null}var ue=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},fe=[],xe=-1;function X(n){return{current:n}}function k(n){0>xe||(n.current=fe[xe],fe[xe]=null,xe--)}function U(n,s){xe++,fe[xe]=n.current,n.current=s}var ee=X(null),re=X(null),se=X(null),me=X(null);function de(n,s){switch(U(se,s),U(re,n),U(ee,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?X5(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=X5(s),n=Z5(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}k(ee),U(ee,n)}function _e(){k(ee),k(re),k(se)}function Ne(n){n.memoizedState!==null&&U(me,n);var s=ee.current,l=Z5(s,n.type);s!==l&&(U(re,n),U(ee,l))}function Ce(n){re.current===n&&(k(ee),k(re)),me.current===n&&(k(me),yf._currentValue=le)}var qe,We;function Qe(n){if(qe===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);qe=s&&s[1]||"",We=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qe+n+We}var G=!1;function je(n,s){if(!n||G)return"";G=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Re){var De=Re}Reflect.construct(n,[],He)}else{try{He.call()}catch(Re){De=Re}n.call(He.prototype)}}else{try{throw Error()}catch(Re){De=Re}(He=n())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Re){if(Re&&De&&typeof Re.stack=="string")return[Re.stack,De.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),L=x[0],K=x[1];if(L&&K){var pe=L.split(`
`),Le=K.split(`
`);for(g=u=0;u<pe.length&&!pe[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Le.length&&!Le[g].includes("DetermineComponentFrameRoot");)g++;if(u===pe.length||g===Le.length)for(u=pe.length-1,g=Le.length-1;1<=u&&0<=g&&pe[u]!==Le[g];)g--;for(;1<=u&&0<=g;u--,g--)if(pe[u]!==Le[g]){if(u!==1||g!==1)do if(u--,g--,0>g||pe[u]!==Le[g]){var Be=`
`+pe[u].replace(" at new "," at ");return n.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",n.displayName)),Be}while(1<=u&&0<=g);break}}}finally{G=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Qe(l):""}function rt(n,s){switch(n.tag){case 26:case 27:case 5:return Qe(n.type);case 16:return Qe("Lazy");case 13:return n.child!==s&&s!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return je(n.type,!1);case 11:return je(n.type.render,!1);case 1:return je(n.type,!0);case 31:return Qe("Activity");default:return""}}function Ze(n){try{var s="",l=null;do s+=rt(n,l),l=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ee=Object.prototype.hasOwnProperty,tt=r.unstable_scheduleCallback,nt=r.unstable_cancelCallback,ot=r.unstable_shouldYield,ut=r.unstable_requestPaint,Tt=r.unstable_now,Ye=r.unstable_getCurrentPriorityLevel,et=r.unstable_ImmediatePriority,lt=r.unstable_UserBlockingPriority,wt=r.unstable_NormalPriority,at=r.unstable_LowPriority,dt=r.unstable_IdlePriority,st=r.log,Gt=r.unstable_setDisableYieldValue,Rt=null,_t=null;function St(n){if(typeof st=="function"&&Gt(n),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Rt,n)}catch{}}var Ot=Math.clz32?Math.clz32:Et,gt=Math.log,sn=Math.LN2;function Et(n){return n>>>=0,n===0?32:31-(gt(n)/sn|0)|0}var Ft=256,Nn=262144,pt=4194304;function ct(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function It(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,x=n.suspendedLanes,L=n.pingedLanes;n=n.warmLanes;var K=u&134217727;return K!==0?(u=K&~x,u!==0?g=ct(u):(L&=K,L!==0?g=ct(L):l||(l=K&~n,l!==0&&(g=ct(l))))):(K=u&~x,K!==0?g=ct(K):L!==0?g=ct(L):l||(l=u&~n,l!==0&&(g=ct(l)))),g===0?0:s!==0&&s!==g&&(s&x)===0&&(x=g&-g,l=s&-s,x>=l||x===32&&(l&4194048)!==0)?s:g}function hr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Oe(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fe(){var n=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),n}function Ke(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function $e(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Mt(n,s,l,u,g,x){var L=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var K=n.entanglements,pe=n.expirationTimes,Le=n.hiddenUpdates;for(l=L&~l;0<l;){var Be=31-Ot(l),He=1<<Be;K[Be]=0,pe[Be]=-1;var De=Le[Be];if(De!==null)for(Le[Be]=null,Be=0;Be<De.length;Be++){var Re=De[Be];Re!==null&&(Re.lane&=-536870913)}l&=~He}u!==0&&Lt(n,u,0),x!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=x&~(L&~s))}function Lt(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Ot(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function Vt(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-Ot(l),g=1<<u;g&s|n[u]&s&&(n[u]|=s),l&=~g}}function tn(n,s){var l=s&-s;return l=(l&42)!==0?1:Zt(l),(l&(n.suspendedLanes|s))!==0?0:l}function Zt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function hn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function an(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:bv(n.type))}function Ar(n,s){var l=ie.p;try{return ie.p=n,s()}finally{ie.p=l}}var Bn=Math.random().toString(36).slice(2),fn="__reactFiber$"+Bn,Cn="__reactProps$"+Bn,br="__reactContainer$"+Bn,Hr="__reactEvents$"+Bn,Gr="__reactListeners$"+Bn,Ks="__reactHandles$"+Bn,as="__reactResources$"+Bn,Di="__reactMarker$"+Bn;function Os(n){delete n[fn],delete n[Cn],delete n[Hr],delete n[Gr],delete n[Ks]}function ji(n){var s=n[fn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[br]||l[fn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=nv(n);n!==null;){if(l=n[fn])return l;n=nv(n)}return s}n=l,l=n.parentNode}return null}function Gi(n){if(n=n[fn]||n[br]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Qs(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Yi(n){var s=n[as];return s||(s=n[as]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function tr(n){n[Di]=!0}var Fo=new Set,_i={};function Wi(n,s){Ms(n,s),Ms(n+"Capture",s)}function Ms(n,s){for(_i[n]=s,n=0;n<s.length;n++)Fo.add(s[n])}var xc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_c={},wc={};function mu(n){return Ee.call(wc,n)?!0:Ee.call(_c,n)?!1:xc.test(n)?wc[n]=!0:(_c[n]=!0,!1)}function Xi(n,s,l){if(mu(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function ya(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function Ls(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}function Tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Sc(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Js(n,s,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(L){l=""+L,x.call(this,L)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(L){l=""+L},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function lo(n){if(!n._valueTracker){var s=Sc(n)?"checked":"value";n._valueTracker=Js(n,s,""+n[s])}}function Ac(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=Sc(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function wi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ir=/[\n"\\]/g;function Nr(n){return n.replace(Ir,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sl(n,s,l,u,g,x,L,K){n.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?n.type=L:n.removeAttribute("type"),s!=null?L==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Tn(s)):n.value!==""+Tn(s)&&(n.value=""+Tn(s)):L!=="submit"&&L!=="reset"||n.removeAttribute("value"),s!=null?Nc(n,L,Tn(s)):l!=null?Nc(n,L,Tn(l)):u!=null&&n.removeAttribute("value"),g==null&&x!=null&&(n.defaultChecked=!!x),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?n.name=""+Tn(K):n.removeAttribute("name")}function gu(n,s,l,u,g,x,L,K){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),s!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){lo(n);return}l=l!=null?""+Tn(l):"",s=s!=null?""+Tn(s):l,K||s===n.value||(n.value=s),n.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=K?n.checked:!!u,n.defaultChecked=!!u,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(n.name=L),lo(n)}function Nc(n,s,l){s==="number"&&wi(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Si(n,s,l,u){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+Tn(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Cc(n,s,l){if(s!=null&&(s=""+Tn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+Tn(l):""}function Tc(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(ue(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Tn(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),lo(n)}function Ds(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||Bo.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function bu(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&vu(n,g,u)}else for(var x in s)s.hasOwnProperty(x)&&vu(n,x,s[x])}function Ec(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(n){return yu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function js(){}var xa=null;function qo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var co=null,Bt=null;function xu(n){var s=Gi(n);if(s&&(n=s.stateNode)){var l=n[Cn]||null;e:switch(n=s.stateNode,s.type){case"input":if(Sl(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Nr(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var g=u[Cn]||null;if(!g)throw Error(i(90));Sl(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&Ac(u)}break e;case"textarea":Cc(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Si(n,!!l.multiple,s,!1)}}}var Oc=!1;function _u(n,s,l){if(Oc)return n(s,l);Oc=!0;try{var u=n(s);return u}finally{if(Oc=!1,(co!==null||Bt!==null)&&(zd(),co&&(s=co,n=Bt,Bt=co=null,xu(s),n)))for(s=0;s<n.length;s++)xu(n[s])}}function Zi(n,s){var l=n.stateNode;if(l===null)return null;var u=l[Cn]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mc=!1;if(ti)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){Mc=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{Mc=!1}var $i=null,Po=null,ea=null;function wu(){if(ea)return ea;var n,s=Po,l=s.length,u,g="value"in $i?$i.value:$i.textContent,x=g.length;for(n=0;n<l&&s[n]===g[n];n++);var L=l-n;for(u=1;u<=L&&s[l-u]===g[x-u];u++);return ea=g.slice(n,1<u?1-u:void 0)}function os(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Al(){return!0}function Nl(){return!1}function Yr(n){function s(l,u,g,x,L){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=x,this.target=L,this.currentTarget=null;for(var K in n)n.hasOwnProperty(K)&&(l=n[K],this[K]=l?l(x):x[K]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Al:Nl,this.isPropagationStopped=Nl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Al)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Al)},persist:function(){},isPersistent:Al}),s}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Yr(ta),_a=y({},ta,{view:0,detail:0}),Cl=Yr(_a),Uo,wa,Sa,Ho=y({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ut,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Sa&&(Sa&&n.type==="mousemove"?(Uo=n.screenX-Sa.screenX,wa=n.screenY-Sa.screenY):wa=Uo=0,Sa=n),Uo)},movementY:function(n){return"movementY"in n?n.movementY:wa}}),Lc=Yr(Ho),Aa=y({},Ho,{dataTransfer:0}),Na=Yr(Aa),Su=y({},_a,{relatedTarget:0}),Ca=Yr(Su),Au=y({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Yr(Au),q=y({},ta,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ce=Yr(q),ge=y({},ta,{data:0}),we=Yr(ge),ze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function At(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=vt[n])?!!s[n]:!1}function Ut(){return At}var $t=y({},_a,{key:function(n){if(n.key){var s=ze[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=os(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Xe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ut,charCode:function(n){return n.type==="keypress"?os(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?os(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vn=Yr($t),nr=y({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=Yr(nr),qn=y({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ut}),Vr=Yr(qn),Cr=y({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),ni=Yr(Cr),Ta=y({},Ho,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Rs=Yr(Ta),Ea=y({},ta,{newState:0,oldState:0}),Dc=Yr(Ea),Tl=[9,13,27,32],na=ti&&"CompositionEvent"in window,Is=null;ti&&"documentMode"in document&&(Is=document.documentMode);var Go=ti&&"TextEvent"in window&&!Is,ka=ti&&(!na||Is&&8<Is&&11>=Is),Wr=" ",uo=!1;function ho(n,s){switch(n){case"keyup":return Tl.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function El(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ra=!1;function Ai(n,s){switch(n){case"compositionend":return El(s);case"keypress":return s.which!==32?null:(uo=!0,Wr);case"textInput":return n=s.data,n===Wr&&uo?null:n;default:return null}}function Oa(n,s){if(ra)return n==="compositionend"||!na&&ho(n,s)?(n=wu(),ea=Po=$i=null,ra=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ka&&s.locale!=="ko"?null:s.data;default:return null}}var kl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!kl[n.type]:s==="textarea"}function Ki(n,s,l,u){co?Bt?Bt.push(u):Bt=[u]:co=u,s=Xd(s,"onChange"),0<s.length&&(l=new ls("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var Vs=null,Ma=null;function Rc(n){P5(n,0)}function Fs(n){var s=Qs(n);if(Ac(s))return n}function fo(n,s){if(n==="change")return s}var Ii=!1;if(ti){var Ni;if(ti){var ia="oninput"in document;if(!ia){var sa=document.createElement("div");sa.setAttribute("oninput","return;"),ia=typeof sa.oninput=="function"}Ni=ia}else Ni=!1;Ii=Ni&&(!document.documentMode||9<document.documentMode)}function La(){Vs&&(Vs.detachEvent("onpropertychange",Ol),Ma=Vs=null)}function Ol(n){if(n.propertyName==="value"&&Fs(Ma)){var s=[];Ki(s,Ma,n,qo(n)),_u(Rc,s)}}function Ml(n,s,l){n==="focusin"?(La(),Vs=s,Ma=l,Vs.attachEvent("onpropertychange",Ol)):n==="focusout"&&La()}function xr(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Fs(Ma)}function Nu(n,s){if(n==="click")return Fs(s)}function aa(n,s){if(n==="input"||n==="change")return Fs(s)}function oa(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ri=typeof Object.is=="function"?Object.is:oa;function Da(n,s){if(ri(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Ee.call(s,g)||!ri(n[g],s[g]))return!1}return!0}function Ll(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Dl(n,s){var l=Ll(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ll(l)}}function ja(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?ja(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Ra(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=wi(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=wi(n.document)}return s}function la(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Yo=ti&&"documentMode"in document&&11>=document.documentMode,Qi=null,Ia=null,fi=null,cs=!1;function En(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;cs||Qi==null||Qi!==wi(u)||(u=Qi,"selectionStart"in u&&la(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fi&&Da(fi,u)||(fi=u,u=Xd(Ia,"onSelect"),0<u.length&&(s=new ls("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=Qi)))}function bn(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var zn={animationend:bn("Animation","AnimationEnd"),animationiteration:bn("Animation","AnimationIteration"),animationstart:bn("Animation","AnimationStart"),transitionrun:bn("Transition","TransitionRun"),transitionstart:bn("Transition","TransitionStart"),transitioncancel:bn("Transition","TransitionCancel"),transitionend:bn("Transition","TransitionEnd")},_r={},ca={};ti&&(ca=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function Bs(n){if(_r[n])return _r[n];if(!zn[n])return n;var s=zn[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in ca)return _r[n]=s[l];return n}var Wo=Bs("animationend"),Ic=Bs("animationiteration"),zh=Bs("animationstart"),vd=Bs("transitionrun"),bd=Bs("transitionstart"),yd=Bs("transitioncancel"),Ph=Bs("transitionend"),Uh=new Map,Xo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xo.push("scrollEnd");function us(n,s){Uh.set(n,s),Wi(s,[n])}var Vc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Ji=[],Zo=0,Cu=0;function Fc(){for(var n=Zo,s=Cu=Zo=0;s<n;){var l=Ji[s];Ji[s++]=null;var u=Ji[s];Ji[s++]=null;var g=Ji[s];Ji[s++]=null;var x=Ji[s];if(Ji[s++]=null,u!==null&&g!==null){var L=u.pending;L===null?g.next=g:(g.next=L.next,L.next=g),u.pending=g}x!==0&&qc(l,g,x)}}function Bc(n,s,l,u){Ji[Zo++]=n,Ji[Zo++]=s,Ji[Zo++]=l,Ji[Zo++]=u,Cu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Tu(n,s,l,u){return Bc(n,s,l,u),di(n)}function Va(n,s){return Bc(n,null,null,s),di(n)}function qc(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,x=n.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(g=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,g&&s!==null&&(g=31-Ot(l),n=x.hiddenUpdates,u=n[g],u===null?n[g]=[s]:u.push(s),s.lane=l|536870912),x):null}function di(n){if(50<ff)throw ff=0,_0=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ii={};function Eu(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(n,s,l,u){return new Eu(n,s,l,u)}function ku(n){return n=n.prototype,!(!n||!n.isReactComponent)}function hs(n,s){var l=n.alternate;return l===null?(l=pi(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function zc(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function jl(n,s,l,u,g,x){var L=0;if(u=n,typeof n=="function")ku(n)&&(L=1);else if(typeof n=="string")L=qw(n,l,ee.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case F:return n=pi(31,l,s,g),n.elementType=F,n.lanes=x,n;case N:return po(l.children,g,x,s);case T:L=8,g|=24;break;case C:return n=pi(12,l,s,g|2),n.elementType=C,n.lanes=x,n;case I:return n=pi(13,l,s,g),n.elementType=I,n.lanes=x,n;case W:return n=pi(19,l,s,g),n.elementType=W,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:L=10;break e;case V:L=9;break e;case R:L=11;break e;case P:L=14;break e;case D:L=16,u=null;break e}L=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=pi(L,l,s,g),s.elementType=n,s.type=u,s.lanes=x,s}function po(n,s,l,u){return n=pi(7,n,u,s),n.lanes=l,n}function Pc(n,s,l){return n=pi(6,n,null,s),n.lanes=l,n}function Ou(n){var s=pi(18,null,null,0);return s.stateNode=n,s}function Rl(n,s,l){return s=pi(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Mu=new WeakMap;function fs(n,s){if(typeof n=="object"&&n!==null){var l=Mu.get(n);return l!==void 0?l:(s={value:n,source:s,stack:Ze(s)},Mu.set(n,s),s)}return{value:n,source:s,stack:Ze(s)}}var Il=[],$o=0,Lu=null,Uc=0,ds=[],ps=0,mo=null,ms=1,gs="";function es(n,s){Il[$o++]=Uc,Il[$o++]=Lu,Lu=n,Uc=s}function xd(n,s,l){ds[ps++]=ms,ds[ps++]=gs,ds[ps++]=mo,mo=n;var u=ms;n=gs;var g=32-Ot(u)-1;u&=~(1<<g),l+=1;var x=32-Ot(s)+g;if(30<x){var L=g-g%5;x=(u&(1<<L)-1).toString(32),u>>=L,g-=L,ms=1<<32-Ot(s)+g|l<<g|u,gs=x+n}else ms=1<<x|l<<g|u,gs=n}function Hh(n){n.return!==null&&(es(n,1),xd(n,1,0))}function Du(n){for(;n===Lu;)Lu=Il[--$o],Il[$o]=null,Uc=Il[--$o],Il[$o]=null;for(;n===mo;)mo=ds[--ps],ds[ps]=null,gs=ds[--ps],ds[ps]=null,ms=ds[--ps],ds[ps]=null}function _d(n,s){ds[ps++]=ms,ds[ps++]=gs,ds[ps++]=mo,ms=s.id,gs=s.overflow,mo=n}var si=null,Xn=null,ln=!1,Ci=null,fr=!1,qs=Error(i(519));function go(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(fs(s,n)),qs}function Gh(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[fn]=n,s[Cn]=u,l){case"dialog":un("cancel",s),un("close",s);break;case"iframe":case"object":case"embed":un("load",s);break;case"video":case"audio":for(l=0;l<pf.length;l++)un(pf[l],s);break;case"source":un("error",s);break;case"img":case"image":case"link":un("error",s),un("load",s);break;case"details":un("toggle",s);break;case"input":un("invalid",s),gu(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":un("invalid",s);break;case"textarea":un("invalid",s),Tc(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||Y5(s.textContent,l)?(u.popover!=null&&(un("beforetoggle",s),un("toggle",s)),u.onScroll!=null&&un("scroll",s),u.onScrollEnd!=null&&un("scrollend",s),u.onClick!=null&&(s.onclick=js),s=!0):s=!1,s||go(n,!0)}function Fa(n){for(si=n.return;si;)switch(si.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:si=si.return}}function ai(n){if(n!==si)return!1;if(!ln)return Fa(n),ln=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||I0(n.type,n.memoizedProps)),l=!l),l&&Xn&&go(n),Fa(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Xn=tv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Xn=tv(n)}else s===27?(s=Xn,Kl(n.type)?(n=z0,z0=null,Xn=n):Xn=s):Xn=si?da(n.stateNode.nextSibling):null;return!0}function Ko(){Xn=si=null,ln=!1}function Yh(){var n=Ci;return n!==null&&(ws===null?ws=n:ws.push.apply(ws,n),Ci=null),n}function Vl(n){Ci===null?Ci=[n]:Ci.push(n)}var ju=X(null),vo=null,ua=null;function bo(n,s,l){U(ju,s._currentValue),s._currentValue=l}function vs(n){n._currentValue=ju.current,k(ju)}function Fl(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function Qo(n,s,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var x=g.dependencies;if(x!==null){var L=g.child;x=x.firstContext;e:for(;x!==null;){var K=x;x=g;for(var pe=0;pe<s.length;pe++)if(K.context===s[pe]){x.lanes|=l,K=x.alternate,K!==null&&(K.lanes|=l),Fl(x.return,l,n),u||(L=null);break e}x=K.next}}else if(g.tag===18){if(L=g.return,L===null)throw Error(i(341));L.lanes|=l,x=L.alternate,x!==null&&(x.lanes|=l),Fl(L,l,n),L=null}else L=g.child;if(L!==null)L.return=g;else for(L=g;L!==null;){if(L===n){L=null;break}if(g=L.sibling,g!==null){g.return=L.return,L=g;break}L=L.return}g=L}}function yo(n,s,l,u){n=null;for(var g=s,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var L=g.alternate;if(L===null)throw Error(i(387));if(L=L.memoizedProps,L!==null){var K=g.type;ri(g.pendingProps.value,L.value)||(n!==null?n.push(K):n=[K])}}else if(g===me.current){if(L=g.alternate,L===null)throw Error(i(387));L.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(yf):n=[yf])}g=g.return}n!==null&&Qo(s,n,l,u),s.flags|=262144}function Ru(n){for(n=n.firstContext;n!==null;){if(!ri(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function xo(n){vo=n,ua=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function oi(n){return wd(vo,n)}function Iu(n,s){return vo===null&&xo(n),wd(n,s)}function wd(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ua===null){if(n===null)throw Error(i(308));ua=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ua=ua.next=s;return l}var qp=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},zp=r.unstable_scheduleCallback,Pp=r.unstable_NormalPriority,wr={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bl(){return{controller:new qp,data:new Map,refCount:0}}function Hc(n){n.refCount--,n.refCount===0&&zp(Pp,function(){n.controller.abort()})}var Gc=null,Vu=0,p=0,b=null;function A(n,s){if(Gc===null){var l=Gc=[];Vu=0,p=T0(),b={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Vu++,s.then(O,O),s}function O(){if(--Vu===0&&Gc!==null){b!==null&&(b.status="fulfilled");var n=Gc;Gc=null,p=0,b=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function z(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Y=J.S;J.S=function(n,s){g5=Tt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&A(n,s),Y!==null&&Y(n,s)};var Z=X(null);function te(){var n=Z.current;return n!==null?n:$n.pooledCache}function ne(n,s){s===null?U(Z,Z.current):U(Z,s.pool)}function oe(){var n=te();return n===null?null:{parent:wr._currentValue,pool:n}}var ve=Error(i(460)),ke=Error(i(474)),ae=Error(i(542)),ye={then:function(){}};function Ae(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ve(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(js,js),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Je(n),n;default:if(typeof s.status=="string")s.then(js,js);else{if(n=$n,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Je(n),n}throw Ie=s,ve}}function Te(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ie=l,ve):l}}var Ie=null;function Pe(){if(Ie===null)throw Error(i(459));var n=Ie;return Ie=null,n}function Je(n){if(n===ve||n===ae)throw Error(i(483))}var Ge=null,yt=0;function ht(n){var s=yt;return yt+=1,Ge===null&&(Ge=[]),Ve(Ge,n,s)}function Yt(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function mt(n,s){throw s.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function on(n){function s(Se,be){if(n){var Me=Se.deletions;Me===null?(Se.deletions=[be],Se.flags|=16):Me.push(be)}}function l(Se,be){if(!n)return null;for(;be!==null;)s(Se,be),be=be.sibling;return null}function u(Se){for(var be=new Map;Se!==null;)Se.key!==null?be.set(Se.key,Se):be.set(Se.index,Se),Se=Se.sibling;return be}function g(Se,be){return Se=hs(Se,be),Se.index=0,Se.sibling=null,Se}function x(Se,be,Me){return Se.index=Me,n?(Me=Se.alternate,Me!==null?(Me=Me.index,Me<be?(Se.flags|=67108866,be):Me):(Se.flags|=67108866,be)):(Se.flags|=1048576,be)}function L(Se){return n&&Se.alternate===null&&(Se.flags|=67108866),Se}function K(Se,be,Me,Ue){return be===null||be.tag!==6?(be=Pc(Me,Se.mode,Ue),be.return=Se,be):(be=g(be,Me),be.return=Se,be)}function pe(Se,be,Me,Ue){var jt=Me.type;return jt===N?Be(Se,be,Me.props.children,Ue,Me.key):be!==null&&(be.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===D&&Te(jt)===be.type)?(be=g(be,Me.props),Yt(be,Me),be.return=Se,be):(be=jl(Me.type,Me.key,Me.props,null,Se.mode,Ue),Yt(be,Me),be.return=Se,be)}function Le(Se,be,Me,Ue){return be===null||be.tag!==4||be.stateNode.containerInfo!==Me.containerInfo||be.stateNode.implementation!==Me.implementation?(be=Rl(Me,Se.mode,Ue),be.return=Se,be):(be=g(be,Me.children||[]),be.return=Se,be)}function Be(Se,be,Me,Ue,jt){return be===null||be.tag!==7?(be=po(Me,Se.mode,Ue,jt),be.return=Se,be):(be=g(be,Me),be.return=Se,be)}function He(Se,be,Me){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Pc(""+be,Se.mode,Me),be.return=Se,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case v:return Me=jl(be.type,be.key,be.props,null,Se.mode,Me),Yt(Me,be),Me.return=Se,Me;case S:return be=Rl(be,Se.mode,Me),be.return=Se,be;case D:return be=Te(be),He(Se,be,Me)}if(ue(be)||B(be))return be=po(be,Se.mode,Me,null),be.return=Se,be;if(typeof be.then=="function")return He(Se,ht(be),Me);if(be.$$typeof===j)return He(Se,Iu(Se,be),Me);mt(Se,be)}return null}function De(Se,be,Me,Ue){var jt=be!==null?be.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return jt!==null?null:K(Se,be,""+Me,Ue);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case v:return Me.key===jt?pe(Se,be,Me,Ue):null;case S:return Me.key===jt?Le(Se,be,Me,Ue):null;case D:return Me=Te(Me),De(Se,be,Me,Ue)}if(ue(Me)||B(Me))return jt!==null?null:Be(Se,be,Me,Ue,null);if(typeof Me.then=="function")return De(Se,be,ht(Me),Ue);if(Me.$$typeof===j)return De(Se,be,Iu(Se,Me),Ue);mt(Se,Me)}return null}function Re(Se,be,Me,Ue,jt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Se=Se.get(Me)||null,K(be,Se,""+Ue,jt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case v:return Se=Se.get(Ue.key===null?Me:Ue.key)||null,pe(be,Se,Ue,jt);case S:return Se=Se.get(Ue.key===null?Me:Ue.key)||null,Le(be,Se,Ue,jt);case D:return Ue=Te(Ue),Re(Se,be,Me,Ue,jt)}if(ue(Ue)||B(Ue))return Se=Se.get(Me)||null,Be(be,Se,Ue,jt,null);if(typeof Ue.then=="function")return Re(Se,be,Me,ht(Ue),jt);if(Ue.$$typeof===j)return Re(Se,be,Me,Iu(be,Ue),jt);mt(be,Ue)}return null}function bt(Se,be,Me,Ue){for(var jt=null,On=null,Nt=be,nn=be=0,pn=null;Nt!==null&&nn<Me.length;nn++){Nt.index>nn?(pn=Nt,Nt=null):pn=Nt.sibling;var Mn=De(Se,Nt,Me[nn],Ue);if(Mn===null){Nt===null&&(Nt=pn);break}n&&Nt&&Mn.alternate===null&&s(Se,Nt),be=x(Mn,be,nn),On===null?jt=Mn:On.sibling=Mn,On=Mn,Nt=pn}if(nn===Me.length)return l(Se,Nt),ln&&es(Se,nn),jt;if(Nt===null){for(;nn<Me.length;nn++)Nt=He(Se,Me[nn],Ue),Nt!==null&&(be=x(Nt,be,nn),On===null?jt=Nt:On.sibling=Nt,On=Nt);return ln&&es(Se,nn),jt}for(Nt=u(Nt);nn<Me.length;nn++)pn=Re(Nt,Se,nn,Me[nn],Ue),pn!==null&&(n&&pn.alternate!==null&&Nt.delete(pn.key===null?nn:pn.key),be=x(pn,be,nn),On===null?jt=pn:On.sibling=pn,On=pn);return n&&Nt.forEach(function(nc){return s(Se,nc)}),ln&&es(Se,nn),jt}function zt(Se,be,Me,Ue){if(Me==null)throw Error(i(151));for(var jt=null,On=null,Nt=be,nn=be=0,pn=null,Mn=Me.next();Nt!==null&&!Mn.done;nn++,Mn=Me.next()){Nt.index>nn?(pn=Nt,Nt=null):pn=Nt.sibling;var nc=De(Se,Nt,Mn.value,Ue);if(nc===null){Nt===null&&(Nt=pn);break}n&&Nt&&nc.alternate===null&&s(Se,Nt),be=x(nc,be,nn),On===null?jt=nc:On.sibling=nc,On=nc,Nt=pn}if(Mn.done)return l(Se,Nt),ln&&es(Se,nn),jt;if(Nt===null){for(;!Mn.done;nn++,Mn=Me.next())Mn=He(Se,Mn.value,Ue),Mn!==null&&(be=x(Mn,be,nn),On===null?jt=Mn:On.sibling=Mn,On=Mn);return ln&&es(Se,nn),jt}for(Nt=u(Nt);!Mn.done;nn++,Mn=Me.next())Mn=Re(Nt,Se,nn,Mn.value,Ue),Mn!==null&&(n&&Mn.alternate!==null&&Nt.delete(Mn.key===null?nn:Mn.key),be=x(Mn,be,nn),On===null?jt=Mn:On.sibling=Mn,On=Mn);return n&&Nt.forEach(function(Kw){return s(Se,Kw)}),ln&&es(Se,nn),jt}function Gn(Se,be,Me,Ue){if(typeof Me=="object"&&Me!==null&&Me.type===N&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case v:e:{for(var jt=Me.key;be!==null;){if(be.key===jt){if(jt=Me.type,jt===N){if(be.tag===7){l(Se,be.sibling),Ue=g(be,Me.props.children),Ue.return=Se,Se=Ue;break e}}else if(be.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===D&&Te(jt)===be.type){l(Se,be.sibling),Ue=g(be,Me.props),Yt(Ue,Me),Ue.return=Se,Se=Ue;break e}l(Se,be);break}else s(Se,be);be=be.sibling}Me.type===N?(Ue=po(Me.props.children,Se.mode,Ue,Me.key),Ue.return=Se,Se=Ue):(Ue=jl(Me.type,Me.key,Me.props,null,Se.mode,Ue),Yt(Ue,Me),Ue.return=Se,Se=Ue)}return L(Se);case S:e:{for(jt=Me.key;be!==null;){if(be.key===jt)if(be.tag===4&&be.stateNode.containerInfo===Me.containerInfo&&be.stateNode.implementation===Me.implementation){l(Se,be.sibling),Ue=g(be,Me.children||[]),Ue.return=Se,Se=Ue;break e}else{l(Se,be);break}else s(Se,be);be=be.sibling}Ue=Rl(Me,Se.mode,Ue),Ue.return=Se,Se=Ue}return L(Se);case D:return Me=Te(Me),Gn(Se,be,Me,Ue)}if(ue(Me))return bt(Se,be,Me,Ue);if(B(Me)){if(jt=B(Me),typeof jt!="function")throw Error(i(150));return Me=jt.call(Me),zt(Se,be,Me,Ue)}if(typeof Me.then=="function")return Gn(Se,be,ht(Me),Ue);if(Me.$$typeof===j)return Gn(Se,be,Iu(Se,Me),Ue);mt(Se,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint"?(Me=""+Me,be!==null&&be.tag===6?(l(Se,be.sibling),Ue=g(be,Me),Ue.return=Se,Se=Ue):(l(Se,be),Ue=Pc(Me,Se.mode,Ue),Ue.return=Se,Se=Ue),L(Se)):l(Se,be)}return function(Se,be,Me,Ue){try{yt=0;var jt=Gn(Se,be,Me,Ue);return Ge=null,jt}catch(Nt){if(Nt===ve||Nt===ae)throw Nt;var On=pi(29,Nt,null,Se.mode);return On.lanes=Ue,On.return=Se,On}finally{}}}var Zn=on(!0),Kt=on(!1),ft=!1;function it(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rr(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function qt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function en(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(jn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=di(n),qc(n,null,l),s}return Bc(n,u,s,l),di(n)}function Ln(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Vt(n,l)}}function Fr(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var L={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=L:x=x.next=L,l=l.next}while(l!==null);x===null?g=x=s:x=x.next=s}else g=x=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var li=!1;function Pn(){if(li){var n=b;if(n!==null)throw n}}function Tr(n,s,l,u){li=!1;var g=n.updateQueue;ft=!1;var x=g.firstBaseUpdate,L=g.lastBaseUpdate,K=g.shared.pending;if(K!==null){g.shared.pending=null;var pe=K,Le=pe.next;pe.next=null,L===null?x=Le:L.next=Le,L=pe;var Be=n.alternate;Be!==null&&(Be=Be.updateQueue,K=Be.lastBaseUpdate,K!==L&&(K===null?Be.firstBaseUpdate=Le:K.next=Le,Be.lastBaseUpdate=pe))}if(x!==null){var He=g.baseState;L=0,Be=Le=pe=null,K=x;do{var De=K.lane&-536870913,Re=De!==K.lane;if(Re?(dn&De)===De:(u&De)===De){De!==0&&De===p&&(li=!0),Be!==null&&(Be=Be.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var bt=n,zt=K;De=s;var Gn=l;switch(zt.tag){case 1:if(bt=zt.payload,typeof bt=="function"){He=bt.call(Gn,He,De);break e}He=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=zt.payload,De=typeof bt=="function"?bt.call(Gn,He,De):bt,De==null)break e;He=y({},He,De);break e;case 2:ft=!0}}De=K.callback,De!==null&&(n.flags|=64,Re&&(n.flags|=8192),Re=g.callbacks,Re===null?g.callbacks=[De]:Re.push(De))}else Re={lane:De,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Be===null?(Le=Be=Re,pe=He):Be=Be.next=Re,L|=De;if(K=K.next,K===null){if(K=g.shared.pending,K===null)break;Re=K,K=Re.next,Re.next=null,g.lastBaseUpdate=Re,g.shared.pending=null}}while(!0);Be===null&&(pe=He),g.baseState=pe,g.firstBaseUpdate=Le,g.lastBaseUpdate=Be,x===null&&(g.shared.lanes=0),Yl|=L,n.lanes=L,n.memoizedState=He}}function mi(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Er(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)mi(l[n],s)}var rn=X(null),_n=X(0);function ir(n,s){n=ll,U(_n,n),U(rn,s),ll=n|s.baseLanes}function kn(){U(_n,ll),U(rn,rn.current)}function Br(){ll=_n.current,k(rn),k(_n)}var sr=X(null),wn=null;function Sr(n){var s=n.alternate;U(yn,yn.current&1),U(sr,n),wn===null&&(s===null||rn.current!==null||s.memoizedState!==null)&&(wn=n)}function Dn(n){U(yn,yn.current),U(sr,n),wn===null&&(wn=n)}function kr(n){n.tag===22?(U(yn,yn.current),U(sr,n),wn===null&&(wn=n)):Or()}function Or(){U(yn,yn.current),U(sr,sr.current)}function Rn(n){k(sr),wn===n&&(wn=null),k(yn)}var yn=X(0);function gi(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||B0(l)||q0(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var dr=0,kt=null,Dt=null,Sn=null,Vi=!1,bs=!1,Ti=!1,Mr=0,_o=0,wo=null,Fu=0;function Un(){throw Error(i(321))}function Wh(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!ri(n[l],s[l]))return!1;return!0}function Xh(n,s,l,u,g,x){return dr=x,kt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,J.H=n===null||n.memoizedState===null?T2:$p,Ti=!1,x=l(u,g),Ti=!1,bs&&(x=Ba(s,l,u,g)),Bu(n),x}function Bu(n){J.H=nf;var s=Dt!==null&&Dt.next!==null;if(dr=0,Sn=Dt=kt=null,Vi=!1,_o=0,wo=null,s)throw Error(i(300));n===null||Zr||(n=n.dependencies,n!==null&&Ru(n)&&(Zr=!0))}function Ba(n,s,l,u){kt=n;var g=0;do{if(bs&&(wo=null),_o=0,bs=!1,25<=g)throw Error(i(301));if(g+=1,Sn=Dt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}J.H=E2,x=s(l,u)}while(bs);return x}function Up(){var n=J.H,s=n.useState()[0];return s=typeof s.then=="function"?So(s):s,n=n.useState()[0],(Dt!==null?Dt.memoizedState:null)!==n&&(kt.flags|=1024),s}function Zh(){var n=Mr!==0;return Mr=0,n}function $h(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function qu(n){if(Vi){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Vi=!1}dr=0,Sn=Dt=kt=null,bs=!1,_o=Mr=0,wo=null}function Xr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?kt.memoizedState=Sn=n:Sn=Sn.next=n,Sn}function pr(){if(Dt===null){var n=kt.alternate;n=n!==null?n.memoizedState:null}else n=Dt.next;var s=Sn===null?kt.memoizedState:Sn.next;if(s!==null)Sn=s,Dt=n;else{if(n===null)throw kt.alternate===null?Error(i(467)):Error(i(310));Dt=n,n={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Sn===null?kt.memoizedState=Sn=n:Sn=Sn.next=n}return Sn}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(n){var s=_o;return _o+=1,wo===null&&(wo=[]),n=Ve(wo,n,s),s=kt,(Sn===null?s.memoizedState:Sn.next)===null&&(s=s.alternate,J.H=s===null||s.memoizedState===null?T2:$p),n}function ql(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return So(n);if(n.$$typeof===j)return oi(n)}throw Error(i(438,String(n)))}function Jo(n){var s=null,l=kt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=kt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Yc(),kt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=$;return s.index++,l}function ha(n,s){return typeof s=="function"?s(n):s}function zu(n){var s=pr();return zl(s,Dt,n)}function zl(n,s,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=n.baseQueue,x=u.pending;if(x!==null){if(g!==null){var L=g.next;g.next=x.next,x.next=L}s.baseQueue=g=x,u.pending=null}if(x=n.baseState,g===null)n.memoizedState=x;else{s=g.next;var K=L=null,pe=null,Le=s,Be=!1;do{var He=Le.lane&-536870913;if(He!==Le.lane?(dn&He)===He:(dr&He)===He){var De=Le.revertLane;if(De===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),He===p&&(Be=!0);else if((dr&De)===De){Le=Le.next,De===p&&(Be=!0);continue}else He={lane:0,revertLane:Le.revertLane,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},pe===null?(K=pe=He,L=x):pe=pe.next=He,kt.lanes|=De,Yl|=De;He=Le.action,Ti&&l(x,He),x=Le.hasEagerState?Le.eagerState:l(x,He)}else De={lane:He,revertLane:Le.revertLane,gesture:Le.gesture,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},pe===null?(K=pe=De,L=x):pe=pe.next=De,kt.lanes|=He,Yl|=He;Le=Le.next}while(Le!==null&&Le!==s);if(pe===null?L=x:pe.next=K,!ri(x,n.memoizedState)&&(Zr=!0,Be&&(l=b,l!==null)))throw l;n.memoizedState=x,n.baseState=L,n.baseQueue=pe,u.lastRenderedState=x}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Pu(n){var s=pr(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,x=s.memoizedState;if(g!==null){l.pending=null;var L=g=g.next;do x=n(x,L.action),L=L.next;while(L!==g);ri(x,s.memoizedState)||(Zr=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,u]}function Uu(n,s,l){var u=kt,g=pr(),x=ln;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=s();var L=!ri((Dt||g).memoizedState,l);if(L&&(g.memoizedState=l,Zr=!0),g=g.queue,Hp(Qh.bind(null,u,g,n),[n]),g.getSnapshot!==s||L||Sn!==null&&Sn.memoizedState.tag&1){if(u.flags|=2048,tl(9,{destroy:void 0},Kh.bind(null,u,g,l,s),null),$n===null)throw Error(i(349));x||(dr&127)!==0||qa(u,s,l)}return l}function qa(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=kt.updateQueue,s===null?(s=Yc(),kt.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Kh(n,s,l,u){s.value=l,s.getSnapshot=u,Sd(s)&&Jh(n)}function Qh(n,s,l){return l(function(){Sd(s)&&Jh(n)})}function Sd(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!ri(n,l)}catch{return!0}}function Jh(n){var s=Va(n,2);s!==null&&Ss(s,n,2)}function Ao(n){var s=Xr();if(typeof n=="function"){var l=n;if(n=l(),Ti){St(!0);try{l()}finally{St(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:n},s}function Ad(n,s,l,u){return n.baseState=l,zl(n,Dt,typeof u=="function"?u:ha)}function Nd(n,s,l,u,g){if(kd(n))throw Error(i(485));if(n=s.action,n!==null){var x={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){x.listeners.push(L)}};J.T!==null?l(!0):x.isTransition=!1,u(x),l=s.pending,l===null?(x.next=s.pending=x,Cd(s,x)):(x.next=l.next,s.pending=l.next=x)}}function Cd(n,s){var l=s.action,u=s.payload,g=n.state;if(s.isTransition){var x=J.T,L={};J.T=L;try{var K=l(g,u),pe=J.S;pe!==null&&pe(L,K),ef(n,s,K)}catch(Le){el(n,s,Le)}finally{x!==null&&L.types!==null&&(x.types=L.types),J.T=x}}else try{x=l(g,u),ef(n,s,x)}catch(Le){el(n,s,Le)}}function ef(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Td(n,s,u)},function(u){return el(n,s,u)}):Td(n,s,l)}function Td(n,s,l){s.status="fulfilled",s.value=l,Hu(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,Cd(n,l)))}function el(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Hu(s),s=s.next;while(s!==u)}n.action=null}function Hu(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Wc(n,s){return s}function fa(n,s){if(ln){var l=$n.formState;if(l!==null){e:{var u=kt;if(ln){if(Xn){t:{for(var g=Xn,x=fr;g.nodeType!==8;){if(!x){g=null;break t}if(g=da(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Xn=da(g.nextSibling),u=g.data==="F!";break e}}go(u)}u=!1}u&&(s=l[0])}}return l=Xr(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:s},l.queue=u,l=A2.bind(null,kt,u),u.dispatch=l,u=Ao(!1),x=Zp.bind(null,kt,!1,u.queue),u=Xr(),g={state:s,dispatch:null,action:n,pending:null},u.queue=g,l=Nd.bind(null,kt,g,x,l),g.dispatch=l,u.memoizedState=n,[s,l,!1]}function za(n){var s=pr();return Pa(s,Dt,n)}function Pa(n,s,l){if(s=zl(n,s,Wc)[0],n=zu(ha)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=So(s)}catch(L){throw L===ve?ae:L}else u=s;s=pr();var g=s.queue,x=g.dispatch;return l!==s.memoizedState&&(kt.flags|=2048,tl(9,{destroy:void 0},Gu.bind(null,g,l),null)),[u,x,n]}function Gu(n,s){n.action=s}function Yu(n){var s=pr(),l=Dt;if(l!==null)return Pa(s,l,n);pr(),s=s.memoizedState,l=pr();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function tl(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=kt.updateQueue,s===null&&(s=Yc(),kt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function Ed(){return pr().memoizedState}function Pl(n,s,l,u){var g=Xr();kt.flags|=n,g.memoizedState=tl(1|s,{destroy:void 0},l,u===void 0?null:u)}function Ul(n,s,l,u){var g=pr();u=u===void 0?null:u;var x=g.memoizedState.inst;Dt!==null&&u!==null&&Wh(u,Dt.memoizedState.deps)?g.memoizedState=tl(s,x,l,u):(kt.flags|=n,g.memoizedState=tl(1|s,x,l,u))}function u2(n,s){Pl(8390656,8,n,s)}function Hp(n,s){Ul(2048,8,n,s)}function G_(n){kt.flags|=4;var s=kt.updateQueue;if(s===null)s=Yc(),kt.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function h2(n){var s=pr().memoizedState;return G_({ref:s,nextImpl:n}),function(){if((jn&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function f2(n,s){return Ul(4,2,n,s)}function d2(n,s){return Ul(4,4,n,s)}function p2(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function m2(n,s,l){l=l!=null?l.concat([n]):null,Ul(4,4,p2.bind(null,s,n),l)}function Gp(){}function g2(n,s){var l=pr();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Wh(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function v2(n,s){var l=pr();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Wh(s,u[1]))return u[0];if(u=n(),Ti){St(!0);try{n()}finally{St(!1)}}return l.memoizedState=[u,s],u}function Yp(n,s,l){return l===void 0||(dr&1073741824)!==0&&(dn&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=b5(),kt.lanes|=n,Yl|=n,l)}function b2(n,s,l,u){return ri(l,s)?l:rn.current!==null?(n=Yp(n,l,u),ri(n,s)||(Zr=!0),n):(dr&42)===0||(dr&1073741824)!==0&&(dn&261930)===0?(Zr=!0,n.memoizedState=l):(n=b5(),kt.lanes|=n,Yl|=n,s)}function y2(n,s,l,u,g){var x=ie.p;ie.p=x!==0&&8>x?x:8;var L=J.T,K={};J.T=K,Zp(n,!1,s,l);try{var pe=g(),Le=J.S;if(Le!==null&&Le(K,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Be=z(pe,u);tf(n,s,Be,Us(n))}else tf(n,s,u,Us(n))}catch(He){tf(n,s,{then:function(){},status:"rejected",reason:He},Us())}finally{ie.p=x,L!==null&&K.types!==null&&(L.types=K.types),J.T=L}}function Y_(){}function Wp(n,s,l,u){if(n.tag!==5)throw Error(i(476));var g=x2(n).queue;y2(n,g,s,le,l===null?Y_:function(){return _2(n),l(u)})}function x2(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:le},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function _2(n){var s=x2(n);s.next===null&&(s=n.alternate.memoizedState),tf(n,s.next.queue,{},Us())}function Xp(){return oi(yf)}function w2(){return pr().memoizedState}function S2(){return pr().memoizedState}function W_(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=Us();n=qt(l);var u=en(s,n,l);u!==null&&(Ss(u,s,l),Ln(u,s,l)),s={cache:Bl()},n.payload=s;return}s=s.return}}function X_(n,s,l){var u=Us();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},kd(n)?N2(s,l):(l=Tu(n,s,l,u),l!==null&&(Ss(l,n,u),C2(l,s,u)))}function A2(n,s,l){var u=Us();tf(n,s,l,u)}function tf(n,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(kd(n))N2(s,g);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var L=s.lastRenderedState,K=x(L,l);if(g.hasEagerState=!0,g.eagerState=K,ri(K,L))return Bc(n,s,g,0),$n===null&&Fc(),!1}catch{}finally{}if(l=Tu(n,s,g,u),l!==null)return Ss(l,n,u),C2(l,s,u),!0}return!1}function Zp(n,s,l,u){if(u={lane:2,revertLane:T0(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},kd(n)){if(s)throw Error(i(479))}else s=Tu(n,l,u,2),s!==null&&Ss(s,n,2)}function kd(n){var s=n.alternate;return n===kt||s!==null&&s===kt}function N2(n,s){bs=Vi=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function C2(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Vt(n,l)}}var nf={readContext:oi,use:ql,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useLayoutEffect:Un,useInsertionEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useSyncExternalStore:Un,useId:Un,useHostTransitionStatus:Un,useFormState:Un,useActionState:Un,useOptimistic:Un,useMemoCache:Un,useCacheRefresh:Un};nf.useEffectEvent=Un;var T2={readContext:oi,use:ql,useCallback:function(n,s){return Xr().memoizedState=[n,s===void 0?null:s],n},useContext:oi,useEffect:u2,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Pl(4194308,4,p2.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Pl(4194308,4,n,s)},useInsertionEffect:function(n,s){Pl(4,2,n,s)},useMemo:function(n,s){var l=Xr();s=s===void 0?null:s;var u=n();if(Ti){St(!0);try{n()}finally{St(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=Xr();if(l!==void 0){var g=l(s);if(Ti){St(!0);try{l(s)}finally{St(!1)}}}else g=s;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=X_.bind(null,kt,n),[u.memoizedState,n]},useRef:function(n){var s=Xr();return n={current:n},s.memoizedState=n},useState:function(n){n=Ao(n);var s=n.queue,l=A2.bind(null,kt,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:Gp,useDeferredValue:function(n,s){var l=Xr();return Yp(l,n,s)},useTransition:function(){var n=Ao(!1);return n=y2.bind(null,kt,n.queue,!0,!1),Xr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=kt,g=Xr();if(ln){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),$n===null)throw Error(i(349));(dn&127)!==0||qa(u,s,l)}g.memoizedState=l;var x={value:l,getSnapshot:s};return g.queue=x,u2(Qh.bind(null,u,x,n),[n]),u.flags|=2048,tl(9,{destroy:void 0},Kh.bind(null,u,x,l,s),null),l},useId:function(){var n=Xr(),s=$n.identifierPrefix;if(ln){var l=gs,u=ms;l=(u&~(1<<32-Ot(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Mr++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Fu++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Xp,useFormState:fa,useActionState:fa,useOptimistic:function(n){var s=Xr();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Zp.bind(null,kt,!0,l),l.dispatch=s,[n,s]},useMemoCache:Jo,useCacheRefresh:function(){return Xr().memoizedState=W_.bind(null,kt)},useEffectEvent:function(n){var s=Xr(),l={impl:n};return s.memoizedState=l,function(){if((jn&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},$p={readContext:oi,use:ql,useCallback:g2,useContext:oi,useEffect:Hp,useImperativeHandle:m2,useInsertionEffect:f2,useLayoutEffect:d2,useMemo:v2,useReducer:zu,useRef:Ed,useState:function(){return zu(ha)},useDebugValue:Gp,useDeferredValue:function(n,s){var l=pr();return b2(l,Dt.memoizedState,n,s)},useTransition:function(){var n=zu(ha)[0],s=pr().memoizedState;return[typeof n=="boolean"?n:So(n),s]},useSyncExternalStore:Uu,useId:w2,useHostTransitionStatus:Xp,useFormState:za,useActionState:za,useOptimistic:function(n,s){var l=pr();return Ad(l,Dt,n,s)},useMemoCache:Jo,useCacheRefresh:S2};$p.useEffectEvent=h2;var E2={readContext:oi,use:ql,useCallback:g2,useContext:oi,useEffect:Hp,useImperativeHandle:m2,useInsertionEffect:f2,useLayoutEffect:d2,useMemo:v2,useReducer:Pu,useRef:Ed,useState:function(){return Pu(ha)},useDebugValue:Gp,useDeferredValue:function(n,s){var l=pr();return Dt===null?Yp(l,n,s):b2(l,Dt.memoizedState,n,s)},useTransition:function(){var n=Pu(ha)[0],s=pr().memoizedState;return[typeof n=="boolean"?n:So(n),s]},useSyncExternalStore:Uu,useId:w2,useHostTransitionStatus:Xp,useFormState:Yu,useActionState:Yu,useOptimistic:function(n,s){var l=pr();return Dt!==null?Ad(l,Dt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Jo,useCacheRefresh:S2};E2.useEffectEvent=h2;function Kp(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:y({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Qp={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=Us(),g=qt(u);g.payload=s,l!=null&&(g.callback=l),s=en(n,g,u),s!==null&&(Ss(s,n,u),Ln(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=Us(),g=qt(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=en(n,g,u),s!==null&&(Ss(s,n,u),Ln(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Us(),u=qt(l);u.tag=2,s!=null&&(u.callback=s),s=en(n,u,l),s!==null&&(Ss(s,n,l),Ln(s,n,l))}};function k2(n,s,l,u,g,x,L){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,x,L):s.prototype&&s.prototype.isPureReactComponent?!Da(l,u)||!Da(g,x):!0}function O2(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&Qp.enqueueReplaceState(s,s.state,null)}function Xc(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=y({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function M2(n){Vc(n)}function L2(n){console.error(n)}function D2(n){Vc(n)}function Od(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function j2(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Jp(n,s,l){return l=qt(l),l.tag=3,l.payload={element:null},l.callback=function(){Od(n,s)},l}function R2(n){return n=qt(n),n.tag=3,n}function I2(n,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=u.value;n.payload=function(){return g(x)},n.callback=function(){j2(s,l,u)}}var L=l.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(n.callback=function(){j2(s,l,u),typeof g!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var K=u.stack;this.componentDidCatch(u.value,{componentStack:K!==null?K:""})})}function Z_(n,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&yo(s,l,g,!0),l=sr.current,l!==null){switch(l.tag){case 31:case 13:return wn===null?Pd():l.alternate===null&&Lr===0&&(Lr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===ye?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),A0(n,u,g)),!1;case 22:return l.flags|=65536,u===ye?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),A0(n,u,g)),!1}throw Error(i(435,l.tag))}return A0(n,u,g),Pd(),!1}if(ln)return s=sr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==qs&&(n=Error(i(422),{cause:u}),Vl(fs(n,l)))):(u!==qs&&(s=Error(i(423),{cause:u}),Vl(fs(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=fs(u,l),g=Jp(n.stateNode,u,g),Fr(n,g),Lr!==4&&(Lr=2)),!1;var x=Error(i(520),{cause:u});if(x=fs(x,l),hf===null?hf=[x]:hf.push(x),Lr!==4&&(Lr=2),s===null)return!0;u=fs(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=Jp(l.stateNode,u,n),Fr(l,n),!1;case 1:if(s=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Wl===null||!Wl.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=R2(g),I2(g,n,l,u),Fr(l,g),!1}l=l.return}while(l!==null);return!1}var e0=Error(i(461)),Zr=!1;function Ei(n,s,l,u){s.child=n===null?Kt(s,null,l,u):Zn(s,n.child,l,u)}function V2(n,s,l,u,g){l=l.render;var x=s.ref;if("ref"in u){var L={};for(var K in u)K!=="ref"&&(L[K]=u[K])}else L=u;return xo(s),u=Xh(n,s,l,L,x,g),K=Zh(),n!==null&&!Zr?($h(n,s,g),nl(n,s,g)):(ln&&K&&Hh(s),s.flags|=1,Ei(n,s,u,g),s.child)}function F2(n,s,l,u,g){if(n===null){var x=l.type;return typeof x=="function"&&!ku(x)&&x.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=x,B2(n,s,x,u,g)):(n=jl(l.type,null,u,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(x=n.child,!l0(n,g)){var L=x.memoizedProps;if(l=l.compare,l=l!==null?l:Da,l(L,u)&&n.ref===s.ref)return nl(n,s,g)}return s.flags|=1,n=hs(x,u),n.ref=s.ref,n.return=s,s.child=n}function B2(n,s,l,u,g){if(n!==null){var x=n.memoizedProps;if(Da(x,u)&&n.ref===s.ref)if(Zr=!1,s.pendingProps=u=x,l0(n,g))(n.flags&131072)!==0&&(Zr=!0);else return s.lanes=n.lanes,nl(n,s,g)}return t0(n,s,l,u,g)}function q2(n,s,l,u){var g=u.children,x=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,n!==null){for(u=s.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~x}else u=0,s.child=null;return z2(n,s,x,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ne(s,x!==null?x.cachePool:null),x!==null?ir(s,x):kn(),kr(s);else return u=s.lanes=536870912,z2(n,s,x!==null?x.baseLanes|l:l,l,u)}else x!==null?(ne(s,x.cachePool),ir(s,x),Or(),s.memoizedState=null):(n!==null&&ne(s,null),kn(),Or());return Ei(n,s,g,l),s.child}function rf(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function z2(n,s,l,u,g){var x=te();return x=x===null?null:{parent:wr._currentValue,pool:x},s.memoizedState={baseLanes:l,cachePool:x},n!==null&&ne(s,null),kn(),kr(s),n!==null&&yo(n,s,u,!0),s.childLanes=g,null}function Md(n,s){return s=Dd({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function P2(n,s,l){return Zn(s,n.child,null,l),n=Md(s,s.pendingProps),n.flags|=2,Rn(s),s.memoizedState=null,n}function $_(n,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(ln){if(u.mode==="hidden")return n=Md(s,u),s.lanes=536870912,rf(null,n);if(Dn(s),(n=Xn)?(n=ev(n,fr),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:mo!==null?{id:ms,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},l=Ou(n),l.return=s,s.child=l,si=s,Xn=null)):n=null,n===null)throw go(s);return s.lanes=536870912,null}return Md(s,u)}var x=n.memoizedState;if(x!==null){var L=x.dehydrated;if(Dn(s),g)if(s.flags&256)s.flags&=-257,s=P2(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Zr||yo(n,s,l,!1),g=(l&n.childLanes)!==0,Zr||g){if(u=$n,u!==null&&(L=tn(u,l),L!==0&&L!==x.retryLane))throw x.retryLane=L,Va(n,L),Ss(u,n,L),e0;Pd(),s=P2(n,s,l)}else n=x.treeContext,Xn=da(L.nextSibling),si=s,ln=!0,Ci=null,fr=!1,n!==null&&_d(s,n),s=Md(s,u),s.flags|=4096;return s}return n=hs(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Ld(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function t0(n,s,l,u,g){return xo(s),l=Xh(n,s,l,u,void 0,g),u=Zh(),n!==null&&!Zr?($h(n,s,g),nl(n,s,g)):(ln&&u&&Hh(s),s.flags|=1,Ei(n,s,l,g),s.child)}function U2(n,s,l,u,g,x){return xo(s),s.updateQueue=null,l=Ba(s,u,l,g),Bu(n),u=Zh(),n!==null&&!Zr?($h(n,s,x),nl(n,s,x)):(ln&&u&&Hh(s),s.flags|=1,Ei(n,s,l,x),s.child)}function H2(n,s,l,u,g){if(xo(s),s.stateNode===null){var x=ii,L=l.contextType;typeof L=="object"&&L!==null&&(x=oi(L)),x=new l(u,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Qp,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=u,x.state=s.memoizedState,x.refs={},it(s),L=l.contextType,x.context=typeof L=="object"&&L!==null?oi(L):ii,x.state=s.memoizedState,L=l.getDerivedStateFromProps,typeof L=="function"&&(Kp(s,l,L,u),x.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(L=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),L!==x.state&&Qp.enqueueReplaceState(x,x.state,null),Tr(s,u,x,g),Pn(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){x=s.stateNode;var K=s.memoizedProps,pe=Xc(l,K);x.props=pe;var Le=x.context,Be=l.contextType;L=ii,typeof Be=="object"&&Be!==null&&(L=oi(Be));var He=l.getDerivedStateFromProps;Be=typeof He=="function"||typeof x.getSnapshotBeforeUpdate=="function",K=s.pendingProps!==K,Be||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(K||Le!==L)&&O2(s,x,u,L),ft=!1;var De=s.memoizedState;x.state=De,Tr(s,u,x,g),Pn(),Le=s.memoizedState,K||De!==Le||ft?(typeof He=="function"&&(Kp(s,l,He,u),Le=s.memoizedState),(pe=ft||k2(s,l,pe,u,De,Le,L))?(Be||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Le),x.props=u,x.state=Le,x.context=L,u=pe):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{x=s.stateNode,rr(n,s),L=s.memoizedProps,Be=Xc(l,L),x.props=Be,He=s.pendingProps,De=x.context,Le=l.contextType,pe=ii,typeof Le=="object"&&Le!==null&&(pe=oi(Le)),K=l.getDerivedStateFromProps,(Le=typeof K=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L!==He||De!==pe)&&O2(s,x,u,pe),ft=!1,De=s.memoizedState,x.state=De,Tr(s,u,x,g),Pn();var Re=s.memoizedState;L!==He||De!==Re||ft||n!==null&&n.dependencies!==null&&Ru(n.dependencies)?(typeof K=="function"&&(Kp(s,l,K,u),Re=s.memoizedState),(Be=ft||k2(s,l,Be,u,De,Re,pe)||n!==null&&n.dependencies!==null&&Ru(n.dependencies))?(Le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Re,pe),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Re,pe)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&De===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&De===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Re),x.props=u,x.state=Re,x.context=pe,u=Be):(typeof x.componentDidUpdate!="function"||L===n.memoizedProps&&De===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||L===n.memoizedProps&&De===n.memoizedState||(s.flags|=1024),u=!1)}return x=u,Ld(n,s),u=(s.flags&128)!==0,x||u?(x=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,n!==null&&u?(s.child=Zn(s,n.child,null,g),s.child=Zn(s,null,l,g)):Ei(n,s,l,g),s.memoizedState=x.state,n=s.child):n=nl(n,s,g),n}function G2(n,s,l,u){return Ko(),s.flags|=256,Ei(n,s,l,u),s.child}var n0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function r0(n){return{baseLanes:n,cachePool:oe()}}function i0(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Ps),n}function Y2(n,s,l){var u=s.pendingProps,g=!1,x=(s.flags&128)!==0,L;if((L=x)||(L=n!==null&&n.memoizedState===null?!1:(yn.current&2)!==0),L&&(g=!0,s.flags&=-129),L=(s.flags&32)!==0,s.flags&=-33,n===null){if(ln){if(g?Sr(s):Or(),(n=Xn)?(n=ev(n,fr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:mo!==null?{id:ms,overflow:gs}:null,retryLane:536870912,hydrationErrors:null},l=Ou(n),l.return=s,s.child=l,si=s,Xn=null)):n=null,n===null)throw go(s);return q0(n)?s.lanes=32:s.lanes=536870912,null}var K=u.children;return u=u.fallback,g?(Or(),g=s.mode,K=Dd({mode:"hidden",children:K},g),u=po(u,g,l,null),K.return=s,u.return=s,K.sibling=u,s.child=K,u=s.child,u.memoizedState=r0(l),u.childLanes=i0(n,L,l),s.memoizedState=n0,rf(null,u)):(Sr(s),s0(s,K))}var pe=n.memoizedState;if(pe!==null&&(K=pe.dehydrated,K!==null)){if(x)s.flags&256?(Sr(s),s.flags&=-257,s=a0(n,s,l)):s.memoizedState!==null?(Or(),s.child=n.child,s.flags|=128,s=null):(Or(),K=u.fallback,g=s.mode,u=Dd({mode:"visible",children:u.children},g),K=po(K,g,l,null),K.flags|=2,u.return=s,K.return=s,u.sibling=K,s.child=u,Zn(s,n.child,null,l),u=s.child,u.memoizedState=r0(l),u.childLanes=i0(n,L,l),s.memoizedState=n0,s=rf(null,u));else if(Sr(s),q0(K)){if(L=K.nextSibling&&K.nextSibling.dataset,L)var Le=L.dgst;L=Le,u=Error(i(419)),u.stack="",u.digest=L,Vl({value:u,source:null,stack:null}),s=a0(n,s,l)}else if(Zr||yo(n,s,l,!1),L=(l&n.childLanes)!==0,Zr||L){if(L=$n,L!==null&&(u=tn(L,l),u!==0&&u!==pe.retryLane))throw pe.retryLane=u,Va(n,u),Ss(L,n,u),e0;B0(K)||Pd(),s=a0(n,s,l)}else B0(K)?(s.flags|=192,s.child=n.child,s=null):(n=pe.treeContext,Xn=da(K.nextSibling),si=s,ln=!0,Ci=null,fr=!1,n!==null&&_d(s,n),s=s0(s,u.children),s.flags|=4096);return s}return g?(Or(),K=u.fallback,g=s.mode,pe=n.child,Le=pe.sibling,u=hs(pe,{mode:"hidden",children:u.children}),u.subtreeFlags=pe.subtreeFlags&65011712,Le!==null?K=hs(Le,K):(K=po(K,g,l,null),K.flags|=2),K.return=s,u.return=s,u.sibling=K,s.child=u,rf(null,u),u=s.child,K=n.child.memoizedState,K===null?K=r0(l):(g=K.cachePool,g!==null?(pe=wr._currentValue,g=g.parent!==pe?{parent:pe,pool:pe}:g):g=oe(),K={baseLanes:K.baseLanes|l,cachePool:g}),u.memoizedState=K,u.childLanes=i0(n,L,l),s.memoizedState=n0,rf(n.child,u)):(Sr(s),l=n.child,n=l.sibling,l=hs(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(L=s.deletions,L===null?(s.deletions=[n],s.flags|=16):L.push(n)),s.child=l,s.memoizedState=null,l)}function s0(n,s){return s=Dd({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Dd(n,s){return n=pi(22,n,null,s),n.lanes=0,n}function a0(n,s,l){return Zn(s,n.child,null,l),n=s0(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function W2(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Fl(n.return,s,l)}function o0(n,s,l,u,g,x){var L=n.memoizedState;L===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:x}:(L.isBackwards=s,L.rendering=null,L.renderingStartTime=0,L.last=u,L.tail=l,L.tailMode=g,L.treeForkCount=x)}function X2(n,s,l){var u=s.pendingProps,g=u.revealOrder,x=u.tail;u=u.children;var L=yn.current,K=(L&2)!==0;if(K?(L=L&1|2,s.flags|=128):L&=1,U(yn,L),Ei(n,s,u,l),u=ln?Uc:0,!K&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&W2(n,l,s);else if(n.tag===19)W2(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&gi(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),o0(s,!1,g,l,x,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&gi(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}o0(s,!0,l,null,x,u);break;case"together":o0(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function nl(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Yl|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(yo(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=hs(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=hs(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function l0(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ru(n)))}function K_(n,s,l){switch(s.tag){case 3:de(s,s.stateNode.containerInfo),bo(s,wr,n.memoizedState.cache),Ko();break;case 27:case 5:Ne(s);break;case 4:de(s,s.stateNode.containerInfo);break;case 10:bo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dn(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Sr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Y2(n,s,l):(Sr(s),n=nl(n,s,l),n!==null?n.sibling:null);Sr(s);break;case 19:var g=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(yo(n,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return X2(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),U(yn,yn.current),u)break;return null;case 22:return s.lanes=0,q2(n,s,l,s.pendingProps);case 24:bo(s,wr,n.memoizedState.cache)}return nl(n,s,l)}function Z2(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)Zr=!0;else{if(!l0(n,l)&&(s.flags&128)===0)return Zr=!1,K_(n,s,l);Zr=(n.flags&131072)!==0}else Zr=!1,ln&&(s.flags&1048576)!==0&&xd(s,Uc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Te(s.elementType),s.type=n,typeof n=="function")ku(n)?(u=Xc(n,u),s.tag=1,s=H2(null,s,n,u,l)):(s.tag=0,s=t0(null,s,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===R){s.tag=11,s=V2(null,s,n,u,l);break e}else if(g===P){s.tag=14,s=F2(null,s,n,u,l);break e}}throw s=Q(n)||n,Error(i(306,s,""))}}return s;case 0:return t0(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=Xc(u,s.pendingProps),H2(n,s,u,g,l);case 3:e:{if(de(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var x=s.memoizedState;g=x.element,rr(n,s),Tr(s,u,null,l);var L=s.memoizedState;if(u=L.cache,bo(s,wr,u),u!==x.cache&&Qo(s,[wr],l,!0),Pn(),u=L.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:L.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=G2(n,s,u,l);break e}else if(u!==g){g=fs(Error(i(424)),s),Vl(g),s=G2(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Xn=da(n.firstChild),si=s,ln=!0,Ci=null,fr=!0,l=Kt(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ko(),u===g){s=nl(n,s,l);break e}Ei(n,s,u,l)}s=s.child}return s;case 26:return Ld(n,s),n===null?(l=av(s.type,null,s.pendingProps,null))?s.memoizedState=l:ln||(l=s.type,n=s.pendingProps,u=Zd(se.current).createElement(l),u[fn]=s,u[Cn]=n,ki(u,l,n),tr(u),s.stateNode=u):s.memoizedState=av(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ne(s),n===null&&ln&&(u=s.stateNode=rv(s.type,s.pendingProps,se.current),si=s,fr=!0,g=Xn,Kl(s.type)?(z0=g,Xn=da(u.firstChild)):Xn=g),Ei(n,s,s.pendingProps.children,l),Ld(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&ln&&((g=u=Xn)&&(u=Tw(u,s.type,s.pendingProps,fr),u!==null?(s.stateNode=u,si=s,Xn=da(u.firstChild),fr=!1,g=!0):g=!1),g||go(s)),Ne(s),g=s.type,x=s.pendingProps,L=n!==null?n.memoizedProps:null,u=x.children,I0(g,x)?u=null:L!==null&&I0(g,L)&&(s.flags|=32),s.memoizedState!==null&&(g=Xh(n,s,Up,null,null,l),yf._currentValue=g),Ld(n,s),Ei(n,s,u,l),s.child;case 6:return n===null&&ln&&((n=l=Xn)&&(l=Ew(l,s.pendingProps,fr),l!==null?(s.stateNode=l,si=s,Xn=null,n=!0):n=!1),n||go(s)),null;case 13:return Y2(n,s,l);case 4:return de(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Zn(s,null,u,l):Ei(n,s,u,l),s.child;case 11:return V2(n,s,s.type,s.pendingProps,l);case 7:return Ei(n,s,s.pendingProps,l),s.child;case 8:return Ei(n,s,s.pendingProps.children,l),s.child;case 12:return Ei(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,bo(s,s.type,u.value),Ei(n,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,xo(s),g=oi(g),u=u(g),s.flags|=1,Ei(n,s,u,l),s.child;case 14:return F2(n,s,s.type,s.pendingProps,l);case 15:return B2(n,s,s.type,s.pendingProps,l);case 19:return X2(n,s,l);case 31:return $_(n,s,l);case 22:return q2(n,s,l,s.pendingProps);case 24:return xo(s),u=oi(wr),n===null?(g=te(),g===null&&(g=$n,x=Bl(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),s.memoizedState={parent:u,cache:g},it(s),bo(s,wr,g)):((n.lanes&l)!==0&&(rr(n,s),Tr(s,null,null,l),Pn()),g=n.memoizedState,x=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),bo(s,wr,u)):(u=x.cache,bo(s,wr,u),u!==g.cache&&Qo(s,[wr],l,!0))),Ei(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function rl(n){n.flags|=4}function c0(n,s,l,u,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(w5())n.flags|=8192;else throw Ie=ye,ke}else n.flags&=-16777217}function $2(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!hv(s))if(w5())n.flags|=8192;else throw Ie=ye,ke}function jd(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Fe():536870912,n.lanes|=s,$u|=s)}function sf(n,s){if(!ln)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ar(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function Q_(n,s,l){var u=s.pendingProps;switch(Du(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ar(s),null;case 1:return ar(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),vs(wr),_e(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(ai(s)?rl(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yh())),ar(s),null;case 26:var g=s.type,x=s.memoizedState;return n===null?(rl(s),x!==null?(ar(s),$2(s,x)):(ar(s),c0(s,g,null,u,l))):x?x!==n.memoizedState?(rl(s),ar(s),$2(s,x)):(ar(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&rl(s),ar(s),c0(s,g,n,u,l)),null;case 27:if(Ce(s),l=se.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&rl(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ar(s),null}n=ee.current,ai(s)?Gh(s):(n=rv(g,u,l),s.stateNode=n,rl(s))}return ar(s),null;case 5:if(Ce(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&rl(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return ar(s),null}if(x=ee.current,ai(s))Gh(s);else{var L=Zd(se.current);switch(x){case 1:x=L.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:x=L.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":x=L.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":x=L.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":x=L.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?L.createElement("select",{is:u.is}):L.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?L.createElement(g,{is:u.is}):L.createElement(g)}}x[fn]=s,x[Cn]=u;e:for(L=s.child;L!==null;){if(L.tag===5||L.tag===6)x.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===s)break e;for(;L.sibling===null;){if(L.return===null||L.return===s)break e;L=L.return}L.sibling.return=L.return,L=L.sibling}s.stateNode=x;e:switch(ki(x,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&rl(s)}}return ar(s),c0(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&rl(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=se.current,ai(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,g=si,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[fn]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Y5(n.nodeValue,l)),n||go(s,!0)}else n=Zd(n).createTextNode(u),n[fn]=s,s.stateNode=n}return ar(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(u=ai(s),l!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[fn]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ar(s),n=!1}else l=Yh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(Rn(s),s):(Rn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ar(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=ai(s),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[fn]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ar(s),g=!1}else g=Yh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Rn(s),s):(Rn(s),null)}return Rn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==g&&(u.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),jd(s,s.updateQueue),ar(s),null);case 4:return _e(),n===null&&M0(s.stateNode.containerInfo),ar(s),null;case 10:return vs(s.type),ar(s),null;case 19:if(k(yn),u=s.memoizedState,u===null)return ar(s),null;if(g=(s.flags&128)!==0,x=u.rendering,x===null)if(g)sf(u,!1);else{if(Lr!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=gi(n),x!==null){for(s.flags|=128,sf(u,!1),n=x.updateQueue,s.updateQueue=n,jd(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)zc(l,n),l=l.sibling;return U(yn,yn.current&1|2),ln&&es(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Tt()>Bd&&(s.flags|=128,g=!0,sf(u,!1),s.lanes=4194304)}else{if(!g)if(n=gi(x),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,jd(s,n),sf(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!ln)return ar(s),null}else 2*Tt()-u.renderingStartTime>Bd&&l!==536870912&&(s.flags|=128,g=!0,sf(u,!1),s.lanes=4194304);u.isBackwards?(x.sibling=s.child,s.child=x):(n=u.last,n!==null?n.sibling=x:s.child=x,u.last=x)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Tt(),n.sibling=null,l=yn.current,U(yn,g?l&1|2:l&1),ln&&es(s,u.treeForkCount),n):(ar(s),null);case 22:case 23:return Rn(s),Br(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(ar(s),s.subtreeFlags&6&&(s.flags|=8192)):ar(s),l=s.updateQueue,l!==null&&jd(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&k(Z),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),vs(wr),ar(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function J_(n,s){switch(Du(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return vs(wr),_e(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ce(s),null;case 31:if(s.memoizedState!==null){if(Rn(s),s.alternate===null)throw Error(i(340));Ko()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Rn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ko()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return k(yn),null;case 4:return _e(),null;case 10:return vs(s.type),null;case 22:case 23:return Rn(s),Br(),n!==null&&k(Z),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return vs(wr),null;case 25:return null;default:return null}}function K2(n,s){switch(Du(s),s.tag){case 3:vs(wr),_e();break;case 26:case 27:case 5:Ce(s);break;case 4:_e();break;case 31:s.memoizedState!==null&&Rn(s);break;case 13:Rn(s);break;case 19:k(yn);break;case 10:vs(s.type);break;case 22:case 23:Rn(s),Br(),n!==null&&k(Z);break;case 24:vs(wr)}}function af(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var x=l.create,L=l.inst;u=x(),L.destroy=u}l=l.next}while(l!==g)}}catch(K){Vn(s,s.return,K)}}function Hl(n,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var x=g.next;u=x;do{if((u.tag&n)===n){var L=u.inst,K=L.destroy;if(K!==void 0){L.destroy=void 0,g=s;var pe=l,Le=K;try{Le()}catch(Be){Vn(g,pe,Be)}}}u=u.next}while(u!==x)}}catch(Be){Vn(s,s.return,Be)}}function Q2(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Er(s,l)}catch(u){Vn(n,n.return,u)}}}function J2(n,s,l){l.props=Xc(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Vn(n,s,u)}}function of(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){Vn(n,s,g)}}function No(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Vn(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Vn(n,s,g)}else l.current=null}function e5(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Vn(n,n.return,g)}}function u0(n,s,l){try{var u=n.stateNode;_w(u,n.type,l,s),u[Cn]=s}catch(g){Vn(n,n.return,g)}}function t5(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Kl(n.type)||n.tag===4}function h0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||t5(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Kl(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function f0(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=js));else if(u!==4&&(u===27&&Kl(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(f0(n,s,l),n=n.sibling;n!==null;)f0(n,s,l),n=n.sibling}function Rd(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&Kl(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Rd(n,s,l),n=n.sibling;n!==null;)Rd(n,s,l),n=n.sibling}function n5(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);ki(s,u,l),s[fn]=n,s[Cn]=l}catch(x){Vn(n,n.return,x)}}var il=!1,$r=!1,d0=!1,r5=typeof WeakSet=="function"?WeakSet:Set,vi=null;function ew(n,s){if(n=n.containerInfo,j0=n1,n=Ra(n),la(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var L=0,K=-1,pe=-1,Le=0,Be=0,He=n,De=null;t:for(;;){for(var Re;He!==l||g!==0&&He.nodeType!==3||(K=L+g),He!==x||u!==0&&He.nodeType!==3||(pe=L+u),He.nodeType===3&&(L+=He.nodeValue.length),(Re=He.firstChild)!==null;)De=He,He=Re;for(;;){if(He===n)break t;if(De===l&&++Le===g&&(K=L),De===x&&++Be===u&&(pe=L),(Re=He.nextSibling)!==null)break;He=De,De=He.parentNode}He=Re}l=K===-1||pe===-1?null:{start:K,end:pe}}else l=null}l=l||{start:0,end:0}}else l=null;for(R0={focusedElem:n,selectionRange:l},n1=!1,vi=s;vi!==null;)if(s=vi,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,vi=n;else for(;vi!==null;){switch(s=vi,x=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,l=s,g=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var bt=Xc(l.type,g);n=u.getSnapshotBeforeUpdate(bt,x),u.__reactInternalSnapshotBeforeUpdate=n}catch(zt){Vn(l,l.return,zt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)F0(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":F0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,vi=n;break}vi=s.return}}function i5(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:al(n,l),u&4&&af(5,l);break;case 1:if(al(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(L){Vn(l,l.return,L)}else{var g=Xc(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(L){Vn(l,l.return,L)}}u&64&&Q2(l),u&512&&of(l,l.return);break;case 3:if(al(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Er(n,s)}catch(L){Vn(l,l.return,L)}}break;case 27:s===null&&u&4&&n5(l);case 26:case 5:al(n,l),s===null&&u&4&&e5(l),u&512&&of(l,l.return);break;case 12:al(n,l);break;case 31:al(n,l),u&4&&o5(n,l);break;case 13:al(n,l),u&4&&l5(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=cw.bind(null,l),kw(n,l))));break;case 22:if(u=l.memoizedState!==null||il,!u){s=s!==null&&s.memoizedState!==null||$r,g=il;var x=$r;il=u,($r=s)&&!x?ol(n,l,(l.subtreeFlags&8772)!==0):al(n,l),il=g,$r=x}break;case 30:break;default:al(n,l)}}function s5(n){var s=n.alternate;s!==null&&(n.alternate=null,s5(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Os(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mr=null,ys=!1;function sl(n,s,l){for(l=l.child;l!==null;)a5(n,s,l),l=l.sibling}function a5(n,s,l){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Rt,l)}catch{}switch(l.tag){case 26:$r||No(l,s),sl(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$r||No(l,s);var u=mr,g=ys;Kl(l.type)&&(mr=l.stateNode,ys=!1),sl(n,s,l),gf(l.stateNode),mr=u,ys=g;break;case 5:$r||No(l,s);case 6:if(u=mr,g=ys,mr=null,sl(n,s,l),mr=u,ys=g,mr!==null)if(ys)try{(mr.nodeType===9?mr.body:mr.nodeName==="HTML"?mr.ownerDocument.body:mr).removeChild(l.stateNode)}catch(x){Vn(l,s,x)}else try{mr.removeChild(l.stateNode)}catch(x){Vn(l,s,x)}break;case 18:mr!==null&&(ys?(n=mr,Q5(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),ih(n)):Q5(mr,l.stateNode));break;case 4:u=mr,g=ys,mr=l.stateNode.containerInfo,ys=!0,sl(n,s,l),mr=u,ys=g;break;case 0:case 11:case 14:case 15:Hl(2,l,s),$r||Hl(4,l,s),sl(n,s,l);break;case 1:$r||(No(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&J2(l,s,u)),sl(n,s,l);break;case 21:sl(n,s,l);break;case 22:$r=(u=$r)||l.memoizedState!==null,sl(n,s,l),$r=u;break;default:sl(n,s,l)}}function o5(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ih(n)}catch(l){Vn(s,s.return,l)}}}function l5(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ih(n)}catch(l){Vn(s,s.return,l)}}function tw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new r5),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new r5),s;default:throw Error(i(435,n.tag))}}function Id(n,s){var l=tw(n);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=uw.bind(null,n,u);u.then(g,g)}})}function xs(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],x=n,L=s,K=L;e:for(;K!==null;){switch(K.tag){case 27:if(Kl(K.type)){mr=K.stateNode,ys=!1;break e}break;case 5:mr=K.stateNode,ys=!1;break e;case 3:case 4:mr=K.stateNode.containerInfo,ys=!0;break e}K=K.return}if(mr===null)throw Error(i(160));a5(x,L,g),mr=null,ys=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)c5(s,n),s=s.sibling}var Ua=null;function c5(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:xs(s,n),_s(n),u&4&&(Hl(3,n,n.return),af(3,n),Hl(5,n,n.return));break;case 1:xs(s,n),_s(n),u&512&&($r||l===null||No(l,l.return)),u&64&&il&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Ua;if(xs(s,n),_s(n),u&512&&($r||l===null||No(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Di]||x[fn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(u),g.head.insertBefore(x,g.querySelector("head > title"))),ki(x,u,l),x[fn]=n,tr(x),u=x;break e;case"link":var L=cv("link","href",g).get(u+(l.href||""));if(L){for(var K=0;K<L.length;K++)if(x=L[K],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){L.splice(K,1);break t}}x=g.createElement(u),ki(x,u,l),g.head.appendChild(x);break;case"meta":if(L=cv("meta","content",g).get(u+(l.content||""))){for(K=0;K<L.length;K++)if(x=L[K],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){L.splice(K,1);break t}}x=g.createElement(u),ki(x,u,l),g.head.appendChild(x);break;default:throw Error(i(468,u))}x[fn]=n,tr(x),u=x}n.stateNode=u}else uv(g,n.type,n.stateNode);else n.stateNode=lv(g,u,n.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?uv(g,n.type,n.stateNode):lv(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&u0(n,n.memoizedProps,l.memoizedProps)}break;case 27:xs(s,n),_s(n),u&512&&($r||l===null||No(l,l.return)),l!==null&&u&4&&u0(n,n.memoizedProps,l.memoizedProps);break;case 5:if(xs(s,n),_s(n),u&512&&($r||l===null||No(l,l.return)),n.flags&32){g=n.stateNode;try{Ds(g,"")}catch(bt){Vn(n,n.return,bt)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,u0(n,g,l!==null?l.memoizedProps:g)),u&1024&&(d0=!0);break;case 6:if(xs(s,n),_s(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(bt){Vn(n,n.return,bt)}}break;case 3:if(Qd=null,g=Ua,Ua=$d(s.containerInfo),xs(s,n),Ua=g,_s(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ih(s.containerInfo)}catch(bt){Vn(n,n.return,bt)}d0&&(d0=!1,u5(n));break;case 4:u=Ua,Ua=$d(n.stateNode.containerInfo),xs(s,n),_s(n),Ua=u;break;case 12:xs(s,n),_s(n);break;case 31:xs(s,n),_s(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Id(n,u)));break;case 13:xs(s,n),_s(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Fd=Tt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Id(n,u)));break;case 22:g=n.memoizedState!==null;var pe=l!==null&&l.memoizedState!==null,Le=il,Be=$r;if(il=Le||g,$r=Be||pe,xs(s,n),$r=Be,il=Le,_s(n),u&8192)e:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||pe||il||$r||Zc(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){pe=l=s;try{if(x=pe.stateNode,g)L=x.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{K=pe.stateNode;var He=pe.memoizedProps.style,De=He!=null&&He.hasOwnProperty("display")?He.display:null;K.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(bt){Vn(pe,pe.return,bt)}}}else if(s.tag===6){if(l===null){pe=s;try{pe.stateNode.nodeValue=g?"":pe.memoizedProps}catch(bt){Vn(pe,pe.return,bt)}}}else if(s.tag===18){if(l===null){pe=s;try{var Re=pe.stateNode;g?J5(Re,!0):J5(pe.stateNode,!1)}catch(bt){Vn(pe,pe.return,bt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Id(n,l))));break;case 19:xs(s,n),_s(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Id(n,u)));break;case 30:break;case 21:break;default:xs(s,n),_s(n)}}function _s(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(t5(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,x=h0(n);Rd(n,x,g);break;case 5:var L=l.stateNode;l.flags&32&&(Ds(L,""),l.flags&=-33);var K=h0(n);Rd(n,K,L);break;case 3:case 4:var pe=l.stateNode.containerInfo,Le=h0(n);f0(n,Le,pe);break;default:throw Error(i(161))}}catch(Be){Vn(n,n.return,Be)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function u5(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;u5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function al(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)i5(n,s.alternate,s),s=s.sibling}function Zc(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Hl(4,s,s.return),Zc(s);break;case 1:No(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&J2(s,s.return,l),Zc(s);break;case 27:gf(s.stateNode);case 26:case 5:No(s,s.return),Zc(s);break;case 22:s.memoizedState===null&&Zc(s);break;case 30:Zc(s);break;default:Zc(s)}n=n.sibling}}function ol(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=n,x=s,L=x.flags;switch(x.tag){case 0:case 11:case 15:ol(g,x,l),af(4,x);break;case 1:if(ol(g,x,l),u=x,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Le){Vn(u,u.return,Le)}if(u=x,g=u.updateQueue,g!==null){var K=u.stateNode;try{var pe=g.shared.hiddenCallbacks;if(pe!==null)for(g.shared.hiddenCallbacks=null,g=0;g<pe.length;g++)mi(pe[g],K)}catch(Le){Vn(u,u.return,Le)}}l&&L&64&&Q2(x),of(x,x.return);break;case 27:n5(x);case 26:case 5:ol(g,x,l),l&&u===null&&L&4&&e5(x),of(x,x.return);break;case 12:ol(g,x,l);break;case 31:ol(g,x,l),l&&L&4&&o5(g,x);break;case 13:ol(g,x,l),l&&L&4&&l5(g,x);break;case 22:x.memoizedState===null&&ol(g,x,l),of(x,x.return);break;case 30:break;default:ol(g,x,l)}s=s.sibling}}function p0(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Hc(l))}function m0(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Hc(n))}function Ha(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)h5(n,s,l,u),s=s.sibling}function h5(n,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Ha(n,s,l,u),g&2048&&af(9,s);break;case 1:Ha(n,s,l,u);break;case 3:Ha(n,s,l,u),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Hc(n)));break;case 12:if(g&2048){Ha(n,s,l,u),n=s.stateNode;try{var x=s.memoizedProps,L=x.id,K=x.onPostCommit;typeof K=="function"&&K(L,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(pe){Vn(s,s.return,pe)}}else Ha(n,s,l,u);break;case 31:Ha(n,s,l,u);break;case 13:Ha(n,s,l,u);break;case 23:break;case 22:x=s.stateNode,L=s.alternate,s.memoizedState!==null?x._visibility&2?Ha(n,s,l,u):lf(n,s):x._visibility&2?Ha(n,s,l,u):(x._visibility|=2,Wu(n,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&p0(L,s);break;case 24:Ha(n,s,l,u),g&2048&&m0(s.alternate,s);break;default:Ha(n,s,l,u)}}function Wu(n,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=n,L=s,K=l,pe=u,Le=L.flags;switch(L.tag){case 0:case 11:case 15:Wu(x,L,K,pe,g),af(8,L);break;case 23:break;case 22:var Be=L.stateNode;L.memoizedState!==null?Be._visibility&2?Wu(x,L,K,pe,g):lf(x,L):(Be._visibility|=2,Wu(x,L,K,pe,g)),g&&Le&2048&&p0(L.alternate,L);break;case 24:Wu(x,L,K,pe,g),g&&Le&2048&&m0(L.alternate,L);break;default:Wu(x,L,K,pe,g)}s=s.sibling}}function lf(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,g=u.flags;switch(u.tag){case 22:lf(l,u),g&2048&&p0(u.alternate,u);break;case 24:lf(l,u),g&2048&&m0(u.alternate,u);break;default:lf(l,u)}s=s.sibling}}var cf=8192;function Xu(n,s,l){if(n.subtreeFlags&cf)for(n=n.child;n!==null;)f5(n,s,l),n=n.sibling}function f5(n,s,l){switch(n.tag){case 26:Xu(n,s,l),n.flags&cf&&n.memoizedState!==null&&zw(l,Ua,n.memoizedState,n.memoizedProps);break;case 5:Xu(n,s,l);break;case 3:case 4:var u=Ua;Ua=$d(n.stateNode.containerInfo),Xu(n,s,l),Ua=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=cf,cf=16777216,Xu(n,s,l),cf=u):Xu(n,s,l));break;default:Xu(n,s,l)}}function d5(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function uf(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];vi=u,m5(u,n)}d5(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)p5(n),n=n.sibling}function p5(n){switch(n.tag){case 0:case 11:case 15:uf(n),n.flags&2048&&Hl(9,n,n.return);break;case 3:uf(n);break;case 12:uf(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Vd(n)):uf(n);break;default:uf(n)}}function Vd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];vi=u,m5(u,n)}d5(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Hl(8,s,s.return),Vd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Vd(s));break;default:Vd(s)}n=n.sibling}}function m5(n,s){for(;vi!==null;){var l=vi;switch(l.tag){case 0:case 11:case 15:Hl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,vi=u;else e:for(l=n;vi!==null;){u=vi;var g=u.sibling,x=u.return;if(s5(u),u===l){vi=null;break e}if(g!==null){g.return=x,vi=g;break e}vi=x}}}var nw={getCacheForType:function(n){var s=oi(wr),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return oi(wr).controller.signal}},rw=typeof WeakMap=="function"?WeakMap:Map,jn=0,$n=null,cn=null,dn=0,In=0,zs=null,Gl=!1,Zu=!1,g0=!1,ll=0,Lr=0,Yl=0,$c=0,v0=0,Ps=0,$u=0,hf=null,ws=null,b0=!1,Fd=0,g5=0,Bd=1/0,qd=null,Wl=null,ci=0,Xl=null,Ku=null,cl=0,y0=0,x0=null,v5=null,ff=0,_0=null;function Us(){return(jn&2)!==0&&dn!==0?dn&-dn:J.T!==null?T0():an()}function b5(){if(Ps===0)if((dn&536870912)===0||ln){var n=Nn;Nn<<=1,(Nn&3932160)===0&&(Nn=262144),Ps=n}else Ps=536870912;return n=sr.current,n!==null&&(n.flags|=32),Ps}function Ss(n,s,l){(n===$n&&(In===2||In===9)||n.cancelPendingCommit!==null)&&(Qu(n,0),Zl(n,dn,Ps,!1)),$e(n,l),((jn&2)===0||n!==$n)&&(n===$n&&((jn&2)===0&&($c|=l),Lr===4&&Zl(n,dn,Ps,!1)),Co(n))}function y5(n,s,l){if((jn&6)!==0)throw Error(i(327));var u=!l&&(s&127)===0&&(s&n.expiredLanes)===0||hr(n,s),g=u?aw(n,s):S0(n,s,!0),x=u;do{if(g===0){Zu&&!u&&Zl(n,s,0,!1);break}else{if(l=n.current.alternate,x&&!iw(l)){g=S0(n,s,!1),x=!1;continue}if(g===2){if(x=s,n.errorRecoveryDisabledLanes&x)var L=0;else L=n.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){s=L;e:{var K=n;g=hf;var pe=K.current.memoizedState.isDehydrated;if(pe&&(Qu(K,L).flags|=256),L=S0(K,L,!1),L!==2){if(g0&&!pe){K.errorRecoveryDisabledLanes|=x,$c|=x,g=4;break e}x=ws,ws=g,x!==null&&(ws===null?ws=x:ws.push.apply(ws,x))}g=L}if(x=!1,g!==2)continue}}if(g===1){Qu(n,0),Zl(n,s,0,!0);break}e:{switch(u=n,x=g,x){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Zl(u,s,Ps,!Gl);break e;case 2:ws=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=Fd+300-Tt(),10<g)){if(Zl(u,s,Ps,!Gl),It(u,0,!0)!==0)break e;cl=s,u.timeoutHandle=$5(x5.bind(null,u,l,ws,qd,b0,s,Ps,$c,$u,Gl,x,"Throttled",-0,0),g);break e}x5(u,l,ws,qd,b0,s,Ps,$c,$u,Gl,x,null,-0,0)}}break}while(!0);Co(n)}function x5(n,s,l,u,g,x,L,K,pe,Le,Be,He,De,Re){if(n.timeoutHandle=-1,He=s.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:js},f5(s,x,He);var bt=(x&62914560)===x?Fd-Tt():(x&4194048)===x?g5-Tt():0;if(bt=Pw(He,bt),bt!==null){cl=x,n.cancelPendingCommit=bt(E5.bind(null,n,s,x,l,u,g,L,K,pe,Be,He,null,De,Re)),Zl(n,x,L,!Le);return}}E5(n,s,x,l,u,g,L,K,pe)}function iw(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],x=g.getSnapshot;g=g.value;try{if(!ri(x(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zl(n,s,l,u){s&=~v0,s&=~$c,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var g=s;0<g;){var x=31-Ot(g),L=1<<x;u[x]=-1,g&=~L}l!==0&&Lt(n,l,s)}function zd(){return(jn&6)===0?(df(0),!1):!0}function w0(){if(cn!==null){if(In===0)var n=cn.return;else n=cn,ua=vo=null,qu(n),Ge=null,yt=0,n=cn;for(;n!==null;)K2(n.alternate,n),n=n.return;cn=null}}function Qu(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,Aw(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),cl=0,w0(),$n=n,cn=l=hs(n.current,null),dn=s,In=0,zs=null,Gl=!1,Zu=hr(n,s),g0=!1,$u=Ps=v0=$c=Yl=Lr=0,ws=hf=null,b0=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var g=31-Ot(u),x=1<<g;s|=n[g],u&=~x}return ll=s,Fc(),l}function _5(n,s){kt=null,J.H=nf,s===ve||s===ae?(s=Pe(),In=3):s===ke?(s=Pe(),In=4):In=s===e0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zs=s,cn===null&&(Lr=1,Od(n,fs(s,n.current)))}function w5(){var n=sr.current;return n===null?!0:(dn&4194048)===dn?wn===null:(dn&62914560)===dn||(dn&536870912)!==0?n===wn:!1}function S5(){var n=J.H;return J.H=nf,n===null?nf:n}function A5(){var n=J.A;return J.A=nw,n}function Pd(){Lr=4,Gl||(dn&4194048)!==dn&&sr.current!==null||(Zu=!0),(Yl&134217727)===0&&($c&134217727)===0||$n===null||Zl($n,dn,Ps,!1)}function S0(n,s,l){var u=jn;jn|=2;var g=S5(),x=A5();($n!==n||dn!==s)&&(qd=null,Qu(n,s)),s=!1;var L=Lr;e:do try{if(In!==0&&cn!==null){var K=cn,pe=zs;switch(In){case 8:w0(),L=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(s=!0);var Le=In;if(In=0,zs=null,Ju(n,K,pe,Le),l&&Zu){L=0;break e}break;default:Le=In,In=0,zs=null,Ju(n,K,pe,Le)}}sw(),L=Lr;break}catch(Be){_5(n,Be)}while(!0);return s&&n.shellSuspendCounter++,ua=vo=null,jn=u,J.H=g,J.A=x,cn===null&&($n=null,dn=0,Fc()),L}function sw(){for(;cn!==null;)N5(cn)}function aw(n,s){var l=jn;jn|=2;var u=S5(),g=A5();$n!==n||dn!==s?(qd=null,Bd=Tt()+500,Qu(n,s)):Zu=hr(n,s);e:do try{if(In!==0&&cn!==null){s=cn;var x=zs;t:switch(In){case 1:In=0,zs=null,Ju(n,s,x,1);break;case 2:case 9:if(Ae(x)){In=0,zs=null,C5(s);break}s=function(){In!==2&&In!==9||$n!==n||(In=7),Co(n)},x.then(s,s);break e;case 3:In=7;break e;case 4:In=5;break e;case 7:Ae(x)?(In=0,zs=null,C5(s)):(In=0,zs=null,Ju(n,s,x,7));break;case 5:var L=null;switch(cn.tag){case 26:L=cn.memoizedState;case 5:case 27:var K=cn;if(L?hv(L):K.stateNode.complete){In=0,zs=null;var pe=K.sibling;if(pe!==null)cn=pe;else{var Le=K.return;Le!==null?(cn=Le,Ud(Le)):cn=null}break t}}In=0,zs=null,Ju(n,s,x,5);break;case 6:In=0,zs=null,Ju(n,s,x,6);break;case 8:w0(),Lr=6;break e;default:throw Error(i(462))}}ow();break}catch(Be){_5(n,Be)}while(!0);return ua=vo=null,J.H=u,J.A=g,jn=l,cn!==null?0:($n=null,dn=0,Fc(),Lr)}function ow(){for(;cn!==null&&!ot();)N5(cn)}function N5(n){var s=Z2(n.alternate,n,ll);n.memoizedProps=n.pendingProps,s===null?Ud(n):cn=s}function C5(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=U2(l,s,s.pendingProps,s.type,void 0,dn);break;case 11:s=U2(l,s,s.pendingProps,s.type.render,s.ref,dn);break;case 5:qu(s);default:K2(l,s),s=cn=zc(s,ll),s=Z2(l,s,ll)}n.memoizedProps=n.pendingProps,s===null?Ud(n):cn=s}function Ju(n,s,l,u){ua=vo=null,qu(s),Ge=null,yt=0;var g=s.return;try{if(Z_(n,g,s,l,dn)){Lr=1,Od(n,fs(l,n.current)),cn=null;return}}catch(x){if(g!==null)throw cn=g,x;Lr=1,Od(n,fs(l,n.current)),cn=null;return}s.flags&32768?(ln||u===1?n=!0:Zu||(dn&536870912)!==0?n=!1:(Gl=n=!0,(u===2||u===9||u===3||u===6)&&(u=sr.current,u!==null&&u.tag===13&&(u.flags|=16384))),T5(s,n)):Ud(s)}function Ud(n){var s=n;do{if((s.flags&32768)!==0){T5(s,Gl);return}n=s.return;var l=Q_(s.alternate,s,ll);if(l!==null){cn=l;return}if(s=s.sibling,s!==null){cn=s;return}cn=s=n}while(s!==null);Lr===0&&(Lr=5)}function T5(n,s){do{var l=J_(n.alternate,n);if(l!==null){l.flags&=32767,cn=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){cn=n;return}cn=n=l}while(n!==null);Lr=6,cn=null}function E5(n,s,l,u,g,x,L,K,pe){n.cancelPendingCommit=null;do Hd();while(ci!==0);if((jn&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(x=s.lanes|s.childLanes,x|=Cu,Mt(n,l,x,L,K,pe),n===$n&&(cn=$n=null,dn=0),Ku=s,Xl=n,cl=l,y0=x,x0=g,v5=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,hw(wt,function(){return D5(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,g=ie.p,ie.p=2,L=jn,jn|=4;try{ew(n,s,l)}finally{jn=L,ie.p=g,J.T=u}}ci=1,k5(),O5(),M5()}}function k5(){if(ci===1){ci=0;var n=Xl,s=Ku,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=J.T,J.T=null;var u=ie.p;ie.p=2;var g=jn;jn|=4;try{c5(s,n);var x=R0,L=Ra(n.containerInfo),K=x.focusedElem,pe=x.selectionRange;if(L!==K&&K&&K.ownerDocument&&ja(K.ownerDocument.documentElement,K)){if(pe!==null&&la(K)){var Le=pe.start,Be=pe.end;if(Be===void 0&&(Be=Le),"selectionStart"in K)K.selectionStart=Le,K.selectionEnd=Math.min(Be,K.value.length);else{var He=K.ownerDocument||document,De=He&&He.defaultView||window;if(De.getSelection){var Re=De.getSelection(),bt=K.textContent.length,zt=Math.min(pe.start,bt),Gn=pe.end===void 0?zt:Math.min(pe.end,bt);!Re.extend&&zt>Gn&&(L=Gn,Gn=zt,zt=L);var Se=Dl(K,zt),be=Dl(K,Gn);if(Se&&be&&(Re.rangeCount!==1||Re.anchorNode!==Se.node||Re.anchorOffset!==Se.offset||Re.focusNode!==be.node||Re.focusOffset!==be.offset)){var Me=He.createRange();Me.setStart(Se.node,Se.offset),Re.removeAllRanges(),zt>Gn?(Re.addRange(Me),Re.extend(be.node,be.offset)):(Me.setEnd(be.node,be.offset),Re.addRange(Me))}}}}for(He=[],Re=K;Re=Re.parentNode;)Re.nodeType===1&&He.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<He.length;K++){var Ue=He[K];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}n1=!!j0,R0=j0=null}finally{jn=g,ie.p=u,J.T=l}}n.current=s,ci=2}}function O5(){if(ci===2){ci=0;var n=Xl,s=Ku,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=J.T,J.T=null;var u=ie.p;ie.p=2;var g=jn;jn|=4;try{i5(n,s.alternate,s)}finally{jn=g,ie.p=u,J.T=l}}ci=3}}function M5(){if(ci===4||ci===3){ci=0,ut();var n=Xl,s=Ku,l=cl,u=v5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ci=5:(ci=0,Ku=Xl=null,L5(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Wl=null),hn(l),s=s.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Rt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=J.T,g=ie.p,ie.p=2,J.T=null;try{for(var x=n.onRecoverableError,L=0;L<u.length;L++){var K=u[L];x(K.value,{componentStack:K.stack})}}finally{J.T=s,ie.p=g}}(cl&3)!==0&&Hd(),Co(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===_0?ff++:(ff=0,_0=n):ff=0,df(0)}}function L5(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Hc(s)))}function Hd(){return k5(),O5(),M5(),D5()}function D5(){if(ci!==5)return!1;var n=Xl,s=y0;y0=0;var l=hn(cl),u=J.T,g=ie.p;try{ie.p=32>l?32:l,J.T=null,l=x0,x0=null;var x=Xl,L=cl;if(ci=0,Ku=Xl=null,cl=0,(jn&6)!==0)throw Error(i(331));var K=jn;if(jn|=4,p5(x.current),h5(x,x.current,L,l),jn=K,df(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Rt,x)}catch{}return!0}finally{ie.p=g,J.T=u,L5(n,s)}}function j5(n,s,l){s=fs(l,s),s=Jp(n.stateNode,s,2),n=en(n,s,2),n!==null&&($e(n,2),Co(n))}function Vn(n,s,l){if(n.tag===3)j5(n,n,l);else for(;s!==null;){if(s.tag===3){j5(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Wl===null||!Wl.has(u))){n=fs(l,n),l=R2(2),u=en(s,l,2),u!==null&&(I2(l,u,s,n),$e(u,2),Co(u));break}}s=s.return}}function A0(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new rw;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(g0=!0,g.add(l),n=lw.bind(null,n,s,l),s.then(n,n))}function lw(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,$n===n&&(dn&l)===l&&(Lr===4||Lr===3&&(dn&62914560)===dn&&300>Tt()-Fd?(jn&2)===0&&Qu(n,0):v0|=l,$u===dn&&($u=0)),Co(n)}function R5(n,s){s===0&&(s=Fe()),n=Va(n,s),n!==null&&($e(n,s),Co(n))}function cw(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),R5(n,l)}function uw(n,s){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),R5(n,l)}function hw(n,s){return tt(n,s)}var Gd=null,eh=null,N0=!1,Yd=!1,C0=!1,$l=0;function Co(n){n!==eh&&n.next===null&&(eh===null?Gd=eh=n:eh=eh.next=n),Yd=!0,N0||(N0=!0,dw())}function df(n,s){if(!C0&&Yd){C0=!0;do for(var l=!1,u=Gd;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var x=0;else{var L=u.suspendedLanes,K=u.pingedLanes;x=(1<<31-Ot(42|n)+1)-1,x&=g&~(L&~K),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,B5(u,x))}else x=dn,x=It(u,u===$n?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||hr(u,x)||(l=!0,B5(u,x));u=u.next}while(l);C0=!1}}function fw(){I5()}function I5(){Yd=N0=!1;var n=0;$l!==0&&Sw()&&(n=$l);for(var s=Tt(),l=null,u=Gd;u!==null;){var g=u.next,x=V5(u,s);x===0?(u.next=null,l===null?Gd=g:l.next=g,g===null&&(eh=l)):(l=u,(n!==0||(x&3)!==0)&&(Yd=!0)),u=g}ci!==0&&ci!==5||df(n),$l!==0&&($l=0)}function V5(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var L=31-Ot(x),K=1<<L,pe=g[L];pe===-1?((K&l)===0||(K&u)!==0)&&(g[L]=Oe(K,s)):pe<=s&&(n.expiredLanes|=K),x&=~K}if(s=$n,l=dn,l=It(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(In===2||In===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&nt(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||hr(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&nt(u),hn(l)){case 2:case 8:l=lt;break;case 32:l=wt;break;case 268435456:l=dt;break;default:l=wt}return u=F5.bind(null,n),l=tt(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&nt(u),n.callbackPriority=2,n.callbackNode=null,2}function F5(n,s){if(ci!==0&&ci!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Hd()&&n.callbackNode!==l)return null;var u=dn;return u=It(n,n===$n?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(y5(n,u,s),V5(n,Tt()),n.callbackNode!=null&&n.callbackNode===l?F5.bind(null,n):null)}function B5(n,s){if(Hd())return null;y5(n,s,!0)}function dw(){Nw(function(){(jn&6)!==0?tt(et,fw):I5()})}function T0(){if($l===0){var n=p;n===0&&(n=Ft,Ft<<=1,(Ft&261888)===0&&(Ft=256)),$l=n}return $l}function q5(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ri(""+n)}function z5(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function pw(n,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var x=q5((g[Cn]||null).action),L=u.submitter;L&&(s=(s=L[Cn]||null)?q5(s.formAction):L.getAttribute("formAction"),s!==null&&(x=s,L=null));var K=new ls("action","action",null,u,g);n.push({event:K,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($l!==0){var pe=L?z5(g,L):new FormData(g);Wp(l,{pending:!0,data:pe,method:g.method,action:x},null,pe)}}else typeof x=="function"&&(K.preventDefault(),pe=L?z5(g,L):new FormData(g),Wp(l,{pending:!0,data:pe,method:g.method,action:x},x,pe))},currentTarget:g}]})}}for(var E0=0;E0<Xo.length;E0++){var k0=Xo[E0],mw=k0.toLowerCase(),gw=k0[0].toUpperCase()+k0.slice(1);us(mw,"on"+gw)}us(Wo,"onAnimationEnd"),us(Ic,"onAnimationIteration"),us(zh,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(vd,"onTransitionRun"),us(bd,"onTransitionStart"),us(yd,"onTransitionCancel"),us(Ph,"onTransitionEnd"),Ms("onMouseEnter",["mouseout","mouseover"]),Ms("onMouseLeave",["mouseout","mouseover"]),Ms("onPointerEnter",["pointerout","pointerover"]),Ms("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pf));function P5(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;e:{var x=void 0;if(s)for(var L=u.length-1;0<=L;L--){var K=u[L],pe=K.instance,Le=K.currentTarget;if(K=K.listener,pe!==x&&g.isPropagationStopped())break e;x=K,g.currentTarget=Le;try{x(g)}catch(Be){Vc(Be)}g.currentTarget=null,x=pe}else for(L=0;L<u.length;L++){if(K=u[L],pe=K.instance,Le=K.currentTarget,K=K.listener,pe!==x&&g.isPropagationStopped())break e;x=K,g.currentTarget=Le;try{x(g)}catch(Be){Vc(Be)}g.currentTarget=null,x=pe}}}}function un(n,s){var l=s[Hr];l===void 0&&(l=s[Hr]=new Set);var u=n+"__bubble";l.has(u)||(U5(s,n,2,!1),l.add(u))}function O0(n,s,l){var u=0;s&&(u|=4),U5(l,n,u,s)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function M0(n){if(!n[Wd]){n[Wd]=!0,Fo.forEach(function(l){l!=="selectionchange"&&(vw.has(l)||O0(l,!1,n),O0(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Wd]||(s[Wd]=!0,O0("selectionchange",!1,s))}}function U5(n,s,l,u){switch(bv(s)){case 2:var g=Gw;break;case 8:g=Yw;break;default:g=Y0}l=g.bind(null,s,l,n),g=void 0,!Mc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function L0(n,s,l,u,g){var x=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var L=u.tag;if(L===3||L===4){var K=u.stateNode.containerInfo;if(K===g)break;if(L===4)for(L=u.return;L!==null;){var pe=L.tag;if((pe===3||pe===4)&&L.stateNode.containerInfo===g)return;L=L.return}for(;K!==null;){if(L=ji(K),L===null)return;if(pe=L.tag,pe===5||pe===6||pe===26||pe===27){u=x=L;continue e}K=K.parentNode}}u=u.return}_u(function(){var Le=x,Be=qo(l),He=[];e:{var De=Uh.get(n);if(De!==void 0){var Re=ls,bt=n;switch(n){case"keypress":if(os(l)===0)break e;case"keydown":case"keyup":Re=vn;break;case"focusin":bt="focus",Re=Ca;break;case"focusout":bt="blur",Re=Ca;break;case"beforeblur":case"afterblur":Re=Ca;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Na;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Vr;break;case Wo:case Ic:case zh:Re=_;break;case Ph:Re=ni;break;case"scroll":case"scrollend":Re=Cl;break;case"wheel":Re=Rs;break;case"copy":case"cut":case"paste":Re=ce;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=yr;break;case"toggle":case"beforetoggle":Re=Dc}var zt=(s&4)!==0,Gn=!zt&&(n==="scroll"||n==="scrollend"),Se=zt?De!==null?De+"Capture":null:De;zt=[];for(var be=Le,Me;be!==null;){var Ue=be;if(Me=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||Me===null||Se===null||(Ue=Zi(be,Se),Ue!=null&&zt.push(mf(be,Ue,Me))),Gn)break;be=be.return}0<zt.length&&(De=new Re(De,bt,null,l,Be),He.push({event:De,listeners:zt}))}}if((s&7)===0){e:{if(De=n==="mouseover"||n==="pointerover",Re=n==="mouseout"||n==="pointerout",De&&l!==xa&&(bt=l.relatedTarget||l.fromElement)&&(ji(bt)||bt[br]))break e;if((Re||De)&&(De=Be.window===Be?Be:(De=Be.ownerDocument)?De.defaultView||De.parentWindow:window,Re?(bt=l.relatedTarget||l.toElement,Re=Le,bt=bt?ji(bt):null,bt!==null&&(Gn=o(bt),zt=bt.tag,bt!==Gn||zt!==5&&zt!==27&&zt!==6)&&(bt=null)):(Re=null,bt=Le),Re!==bt)){if(zt=Lc,Ue="onMouseLeave",Se="onMouseEnter",be="mouse",(n==="pointerout"||n==="pointerover")&&(zt=yr,Ue="onPointerLeave",Se="onPointerEnter",be="pointer"),Gn=Re==null?De:Qs(Re),Me=bt==null?De:Qs(bt),De=new zt(Ue,be+"leave",Re,l,Be),De.target=Gn,De.relatedTarget=Me,Ue=null,ji(Be)===Le&&(zt=new zt(Se,be+"enter",bt,l,Be),zt.target=Me,zt.relatedTarget=Gn,Ue=zt),Gn=Ue,Re&&bt)t:{for(zt=bw,Se=Re,be=bt,Me=0,Ue=Se;Ue;Ue=zt(Ue))Me++;Ue=0;for(var jt=be;jt;jt=zt(jt))Ue++;for(;0<Me-Ue;)Se=zt(Se),Me--;for(;0<Ue-Me;)be=zt(be),Ue--;for(;Me--;){if(Se===be||be!==null&&Se===be.alternate){zt=Se;break t}Se=zt(Se),be=zt(be)}zt=null}else zt=null;Re!==null&&H5(He,De,Re,zt,!1),bt!==null&&Gn!==null&&H5(He,Gn,bt,zt,!0)}}e:{if(De=Le?Qs(Le):window,Re=De.nodeName&&De.nodeName.toLowerCase(),Re==="select"||Re==="input"&&De.type==="file")var On=fo;else if(jc(De))if(Ii)On=aa;else{On=xr;var Nt=Ml}else Re=De.nodeName,!Re||Re.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Le&&Ec(Le.elementType)&&(On=fo):On=Nu;if(On&&(On=On(n,Le))){Ki(He,On,l,Be);break e}Nt&&Nt(n,De,Le),n==="focusout"&&Le&&De.type==="number"&&Le.memoizedProps.value!=null&&Nc(De,"number",De.value)}switch(Nt=Le?Qs(Le):window,n){case"focusin":(jc(Nt)||Nt.contentEditable==="true")&&(Qi=Nt,Ia=Le,fi=null);break;case"focusout":fi=Ia=Qi=null;break;case"mousedown":cs=!0;break;case"contextmenu":case"mouseup":case"dragend":cs=!1,En(He,l,Be);break;case"selectionchange":if(Yo)break;case"keydown":case"keyup":En(He,l,Be)}var nn;if(na)e:{switch(n){case"compositionstart":var pn="onCompositionStart";break e;case"compositionend":pn="onCompositionEnd";break e;case"compositionupdate":pn="onCompositionUpdate";break e}pn=void 0}else ra?ho(n,l)&&(pn="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(pn="onCompositionStart");pn&&(ka&&l.locale!=="ko"&&(ra||pn!=="onCompositionStart"?pn==="onCompositionEnd"&&ra&&(nn=wu()):($i=Be,Po="value"in $i?$i.value:$i.textContent,ra=!0)),Nt=Xd(Le,pn),0<Nt.length&&(pn=new we(pn,n,null,l,Be),He.push({event:pn,listeners:Nt}),nn?pn.data=nn:(nn=El(l),nn!==null&&(pn.data=nn)))),(nn=Go?Ai(n,l):Oa(n,l))&&(pn=Xd(Le,"onBeforeInput"),0<pn.length&&(Nt=new we("onBeforeInput","beforeinput",null,l,Be),He.push({event:Nt,listeners:pn}),Nt.data=nn)),pw(He,n,Le,l,Be)}P5(He,s)})}function mf(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Xd(n,s){for(var l=s+"Capture",u=[];n!==null;){var g=n,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=Zi(n,l),g!=null&&u.unshift(mf(n,g,x)),g=Zi(n,s),g!=null&&u.push(mf(n,g,x))),n.tag===3)return u;n=n.return}return[]}function bw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function H5(n,s,l,u,g){for(var x=s._reactName,L=[];l!==null&&l!==u;){var K=l,pe=K.alternate,Le=K.stateNode;if(K=K.tag,pe!==null&&pe===u)break;K!==5&&K!==26&&K!==27||Le===null||(pe=Le,g?(Le=Zi(l,x),Le!=null&&L.unshift(mf(l,Le,pe))):g||(Le=Zi(l,x),Le!=null&&L.push(mf(l,Le,pe)))),l=l.return}L.length!==0&&n.push({event:s,listeners:L})}var yw=/\r\n?/g,xw=/\u0000|\uFFFD/g;function G5(n){return(typeof n=="string"?n:""+n).replace(yw,`
`).replace(xw,"")}function Y5(n,s){return s=G5(s),G5(n)===s}function Hn(n,s,l,u,g,x){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Ds(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Ds(n,""+u);break;case"className":ya(n,"class",u);break;case"tabIndex":ya(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ya(n,l,u);break;case"style":bu(n,u,x);break;case"data":if(s!=="object"){ya(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Ri(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(s!=="input"&&Hn(n,s,"name",g.name,g,null),Hn(n,s,"formEncType",g.formEncType,g,null),Hn(n,s,"formMethod",g.formMethod,g,null),Hn(n,s,"formTarget",g.formTarget,g,null)):(Hn(n,s,"encType",g.encType,g,null),Hn(n,s,"method",g.method,g,null),Hn(n,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Ri(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=js);break;case"onScroll":u!=null&&un("scroll",n);break;case"onScrollEnd":u!=null&&un("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Ri(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":un("beforetoggle",n),un("toggle",n),Xi(n,"popover",u);break;case"xlinkActuate":Ls(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ls(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ls(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ls(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ls(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ls(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ls(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ls(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ls(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Xi(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kc.get(l)||l,Xi(n,l,u))}}function D0(n,s,l,u,g,x){switch(l){case"style":bu(n,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Ds(n,u):(typeof u=="number"||typeof u=="bigint")&&Ds(n,""+u);break;case"onScroll":u!=null&&un("scroll",n);break;case"onScrollEnd":u!=null&&un("scrollend",n);break;case"onClick":u!=null&&(n.onclick=js);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_i.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),x=n[Cn]||null,x=x!=null?x[l]:null,typeof x=="function"&&n.removeEventListener(s,x,g),typeof u=="function")){typeof x!="function"&&x!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,g);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Xi(n,l,u)}}}function ki(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":un("error",n),un("load",n);var u=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var L=l[x];if(L!=null)switch(x){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Hn(n,s,x,L,l,null)}}g&&Hn(n,s,"srcSet",l.srcSet,l,null),u&&Hn(n,s,"src",l.src,l,null);return;case"input":un("invalid",n);var K=x=L=g=null,pe=null,Le=null;for(u in l)if(l.hasOwnProperty(u)){var Be=l[u];if(Be!=null)switch(u){case"name":g=Be;break;case"type":L=Be;break;case"checked":pe=Be;break;case"defaultChecked":Le=Be;break;case"value":x=Be;break;case"defaultValue":K=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(i(137,s));break;default:Hn(n,s,u,Be,l,null)}}gu(n,x,K,pe,Le,L,g,!1);return;case"select":un("invalid",n),u=L=x=null;for(g in l)if(l.hasOwnProperty(g)&&(K=l[g],K!=null))switch(g){case"value":x=K;break;case"defaultValue":L=K;break;case"multiple":u=K;default:Hn(n,s,g,K,l,null)}s=x,l=L,n.multiple=!!u,s!=null?Si(n,!!u,s,!1):l!=null&&Si(n,!!u,l,!0);return;case"textarea":un("invalid",n),x=g=u=null;for(L in l)if(l.hasOwnProperty(L)&&(K=l[L],K!=null))switch(L){case"value":u=K;break;case"defaultValue":g=K;break;case"children":x=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(91));break;default:Hn(n,s,L,K,l,null)}Tc(n,u,g,x);return;case"option":for(pe in l)if(l.hasOwnProperty(pe)&&(u=l[pe],u!=null))switch(pe){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Hn(n,s,pe,u,l,null)}return;case"dialog":un("beforetoggle",n),un("toggle",n),un("cancel",n),un("close",n);break;case"iframe":case"object":un("load",n);break;case"video":case"audio":for(u=0;u<pf.length;u++)un(pf[u],n);break;case"image":un("error",n),un("load",n);break;case"details":un("toggle",n);break;case"embed":case"source":case"link":un("error",n),un("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in l)if(l.hasOwnProperty(Le)&&(u=l[Le],u!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Hn(n,s,Le,u,l,null)}return;default:if(Ec(s)){for(Be in l)l.hasOwnProperty(Be)&&(u=l[Be],u!==void 0&&D0(n,s,Be,u,l,void 0));return}}for(K in l)l.hasOwnProperty(K)&&(u=l[K],u!=null&&Hn(n,s,K,u,l,null))}function _w(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,L=null,K=null,pe=null,Le=null,Be=null;for(Re in l){var He=l[Re];if(l.hasOwnProperty(Re)&&He!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":pe=He;default:u.hasOwnProperty(Re)||Hn(n,s,Re,null,u,He)}}for(var De in u){var Re=u[De];if(He=l[De],u.hasOwnProperty(De)&&(Re!=null||He!=null))switch(De){case"type":x=Re;break;case"name":g=Re;break;case"checked":Le=Re;break;case"defaultChecked":Be=Re;break;case"value":L=Re;break;case"defaultValue":K=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,s));break;default:Re!==He&&Hn(n,s,De,Re,u,He)}}Sl(n,L,K,pe,Le,Be,x,g);return;case"select":Re=L=K=De=null;for(x in l)if(pe=l[x],l.hasOwnProperty(x)&&pe!=null)switch(x){case"value":break;case"multiple":Re=pe;default:u.hasOwnProperty(x)||Hn(n,s,x,null,u,pe)}for(g in u)if(x=u[g],pe=l[g],u.hasOwnProperty(g)&&(x!=null||pe!=null))switch(g){case"value":De=x;break;case"defaultValue":K=x;break;case"multiple":L=x;default:x!==pe&&Hn(n,s,g,x,u,pe)}s=K,l=L,u=Re,De!=null?Si(n,!!l,De,!1):!!u!=!!l&&(s!=null?Si(n,!!l,s,!0):Si(n,!!l,l?[]:"",!1));return;case"textarea":Re=De=null;for(K in l)if(g=l[K],l.hasOwnProperty(K)&&g!=null&&!u.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Hn(n,s,K,null,u,g)}for(L in u)if(g=u[L],x=l[L],u.hasOwnProperty(L)&&(g!=null||x!=null))switch(L){case"value":De=g;break;case"defaultValue":Re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==x&&Hn(n,s,L,g,u,x)}Cc(n,De,Re);return;case"option":for(var bt in l)if(De=l[bt],l.hasOwnProperty(bt)&&De!=null&&!u.hasOwnProperty(bt))switch(bt){case"selected":n.selected=!1;break;default:Hn(n,s,bt,null,u,De)}for(pe in u)if(De=u[pe],Re=l[pe],u.hasOwnProperty(pe)&&De!==Re&&(De!=null||Re!=null))switch(pe){case"selected":n.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:Hn(n,s,pe,De,u,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in l)De=l[zt],l.hasOwnProperty(zt)&&De!=null&&!u.hasOwnProperty(zt)&&Hn(n,s,zt,null,u,De);for(Le in u)if(De=u[Le],Re=l[Le],u.hasOwnProperty(Le)&&De!==Re&&(De!=null||Re!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,s));break;default:Hn(n,s,Le,De,u,Re)}return;default:if(Ec(s)){for(var Gn in l)De=l[Gn],l.hasOwnProperty(Gn)&&De!==void 0&&!u.hasOwnProperty(Gn)&&D0(n,s,Gn,void 0,u,De);for(Be in u)De=u[Be],Re=l[Be],!u.hasOwnProperty(Be)||De===Re||De===void 0&&Re===void 0||D0(n,s,Be,De,u,Re);return}}for(var Se in l)De=l[Se],l.hasOwnProperty(Se)&&De!=null&&!u.hasOwnProperty(Se)&&Hn(n,s,Se,null,u,De);for(He in u)De=u[He],Re=l[He],!u.hasOwnProperty(He)||De===Re||De==null&&Re==null||Hn(n,s,He,De,u,Re)}function W5(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ww(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],x=g.transferSize,L=g.initiatorType,K=g.duration;if(x&&K&&W5(L)){for(L=0,K=g.responseEnd,u+=1;u<l.length;u++){var pe=l[u],Le=pe.startTime;if(Le>K)break;var Be=pe.transferSize,He=pe.initiatorType;Be&&W5(He)&&(pe=pe.responseEnd,L+=Be*(pe<K?1:(K-Le)/(pe-Le)))}if(--u,s+=8*(x+L)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var j0=null,R0=null;function Zd(n){return n.nodeType===9?n:n.ownerDocument}function X5(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z5(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function I0(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var V0=null;function Sw(){var n=window.event;return n&&n.type==="popstate"?n===V0?!1:(V0=n,!0):(V0=null,!1)}var $5=typeof setTimeout=="function"?setTimeout:void 0,Aw=typeof clearTimeout=="function"?clearTimeout:void 0,K5=typeof Promise=="function"?Promise:void 0,Nw=typeof queueMicrotask=="function"?queueMicrotask:typeof K5<"u"?function(n){return K5.resolve(null).then(n).catch(Cw)}:$5;function Cw(n){setTimeout(function(){throw n})}function Kl(n){return n==="head"}function Q5(n,s){var l=s,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),ih(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")gf(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,gf(l);for(var x=l.firstChild;x;){var L=x.nextSibling,K=x.nodeName;x[Di]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=L}}else l==="body"&&gf(n.ownerDocument.body);l=g}while(l);ih(s)}function J5(n,s){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function F0(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":F0(l),Os(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function Tw(n,s,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Di])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=da(n.nextSibling),n===null)break}return null}function Ew(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=da(n.nextSibling),n===null))return null;return n}function ev(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=da(n.nextSibling),n===null))return null;return n}function B0(n){return n.data==="$?"||n.data==="$~"}function q0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function kw(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function da(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var z0=null;function tv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return da(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function nv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function rv(n,s,l){switch(s=Zd(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function gf(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Os(n)}var pa=new Map,iv=new Set;function $d(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ul=ie.d;ie.d={f:Ow,r:Mw,D:Lw,C:Dw,L:jw,m:Rw,X:Vw,S:Iw,M:Fw};function Ow(){var n=ul.f(),s=zd();return n||s}function Mw(n){var s=Gi(n);s!==null&&s.tag===5&&s.type==="form"?_2(s):ul.r(n)}var th=typeof document>"u"?null:document;function sv(n,s,l){var u=th;if(u&&typeof s=="string"&&s){var g=Nr(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),iv.has(g)||(iv.add(g),n={rel:n,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),ki(s,"link",n),tr(s),u.head.appendChild(s)))}}function Lw(n){ul.D(n),sv("dns-prefetch",n,null)}function Dw(n,s){ul.C(n,s),sv("preconnect",n,s)}function jw(n,s,l){ul.L(n,s,l);var u=th;if(u&&n&&s){var g='link[rel="preload"][as="'+Nr(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Nr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Nr(l.imageSizes)+'"]')):g+='[href="'+Nr(n)+'"]';var x=g;switch(s){case"style":x=nh(n);break;case"script":x=rh(n)}pa.has(x)||(n=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),pa.set(x,n),u.querySelector(g)!==null||s==="style"&&u.querySelector(vf(x))||s==="script"&&u.querySelector(bf(x))||(s=u.createElement("link"),ki(s,"link",n),tr(s),u.head.appendChild(s)))}}function Rw(n,s){ul.m(n,s);var l=th;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Nr(u)+'"][href="'+Nr(n)+'"]',x=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=rh(n)}if(!pa.has(x)&&(n=y({rel:"modulepreload",href:n},s),pa.set(x,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bf(x)))return}u=l.createElement("link"),ki(u,"link",n),tr(u),l.head.appendChild(u)}}}function Iw(n,s,l){ul.S(n,s,l);var u=th;if(u&&n){var g=Yi(u).hoistableStyles,x=nh(n);s=s||"default";var L=g.get(x);if(!L){var K={loading:0,preload:null};if(L=u.querySelector(vf(x)))K.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},l),(l=pa.get(x))&&P0(n,l);var pe=L=u.createElement("link");tr(pe),ki(pe,"link",n),pe._p=new Promise(function(Le,Be){pe.onload=Le,pe.onerror=Be}),pe.addEventListener("load",function(){K.loading|=1}),pe.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Kd(L,s,u)}L={type:"stylesheet",instance:L,count:1,state:K},g.set(x,L)}}}function Vw(n,s){ul.X(n,s);var l=th;if(l&&n){var u=Yi(l).hoistableScripts,g=rh(n),x=u.get(g);x||(x=l.querySelector(bf(g)),x||(n=y({src:n,async:!0},s),(s=pa.get(g))&&U0(n,s),x=l.createElement("script"),tr(x),ki(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function Fw(n,s){ul.M(n,s);var l=th;if(l&&n){var u=Yi(l).hoistableScripts,g=rh(n),x=u.get(g);x||(x=l.querySelector(bf(g)),x||(n=y({src:n,async:!0,type:"module"},s),(s=pa.get(g))&&U0(n,s),x=l.createElement("script"),tr(x),ki(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function av(n,s,l,u){var g=(g=se.current)?$d(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=nh(l.href),l=Yi(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=nh(l.href);var x=Yi(g).hoistableStyles,L=x.get(n);if(L||(g=g.ownerDocument||g,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,L),(x=g.querySelector(vf(n)))&&!x._p&&(L.instance=x,L.state.loading=5),pa.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},pa.set(n,l),x||Bw(g,n,l,L.state))),s&&u===null)throw Error(i(528,""));return L}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=rh(l),l=Yi(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function nh(n){return'href="'+Nr(n)+'"'}function vf(n){return'link[rel="stylesheet"]['+n+"]"}function ov(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function Bw(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),ki(s,"link",l),tr(s),n.head.appendChild(s))}function rh(n){return'[src="'+Nr(n)+'"]'}function bf(n){return"script[async]"+n}function lv(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Nr(l.href)+'"]');if(u)return s.instance=u,tr(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),tr(u),ki(u,"style",g),Kd(u,l.precedence,n),s.instance=u;case"stylesheet":g=nh(l.href);var x=n.querySelector(vf(g));if(x)return s.state.loading|=4,s.instance=x,tr(x),x;u=ov(l),(g=pa.get(g))&&P0(u,g),x=(n.ownerDocument||n).createElement("link"),tr(x);var L=x;return L._p=new Promise(function(K,pe){L.onload=K,L.onerror=pe}),ki(x,"link",u),s.state.loading|=4,Kd(x,l.precedence,n),s.instance=x;case"script":return x=rh(l.src),(g=n.querySelector(bf(x)))?(s.instance=g,tr(g),g):(u=l,(g=pa.get(x))&&(u=y({},l),U0(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),tr(g),ki(g,"link",u),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Kd(u,l.precedence,n));return s.instance}function Kd(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,x=g,L=0;L<u.length;L++){var K=u[L];if(K.dataset.precedence===s)x=K;else if(x!==g)break}x?x.parentNode.insertBefore(n,x.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function P0(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function U0(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Qd=null;function cv(n,s,l){if(Qd===null){var u=new Map,g=Qd=new Map;g.set(l,u)}else g=Qd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var x=l[g];if(!(x[Di]||x[fn]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var L=x.getAttribute(s)||"";L=n+L;var K=u.get(L);K?K.push(x):u.set(L,[x])}}return u}function uv(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function qw(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function hv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function zw(n,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=nh(u.href),x=s.querySelector(vf(g));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Jd.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=x,tr(x);return}x=s.ownerDocument||s,u=ov(u),(g=pa.get(g))&&P0(u,g),x=x.createElement("link"),tr(x);var L=x;L._p=new Promise(function(K,pe){L.onload=K,L.onerror=pe}),ki(x,"link",u),l.instance=x}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Jd.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var H0=0;function Pw(n,s){return n.stylesheets&&n.count===0&&t1(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&t1(n,n.stylesheets),n.unsuspend){var x=n.unsuspend;n.unsuspend=null,x()}},6e4+s);0<n.imgBytes&&H0===0&&(H0=62500*ww());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&t1(n,n.stylesheets),n.unsuspend)){var x=n.unsuspend;n.unsuspend=null,x()}},(n.imgBytes>H0?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Jd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)t1(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var e1=null;function t1(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,e1=new Map,s.forEach(Uw,n),e1=null,Jd.call(n))}function Uw(n,s){if(!(s.state.loading&4)){var l=e1.get(n);if(l)var u=l.get(null);else{l=new Map,e1.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var L=g[x];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(l.set(L.dataset.precedence,L),u=L)}u&&l.set(null,u)}g=s.instance,L=g.getAttribute("data-precedence"),x=l.get(L)||u,x===u&&l.set(null,g),l.set(L,g),this.count++,u=Jd.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),x?x.parentNode.insertBefore(g,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var yf={$$typeof:j,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Hw(n,s,l,u,g,x,L,K,pe){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ke(0),this.hiddenUpdates=Ke(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function fv(n,s,l,u,g,x,L,K,pe,Le,Be,He){return n=new Hw(n,s,l,L,pe,Le,Be,He,K),s=1,x===!0&&(s|=24),x=pi(3,null,null,s),n.current=x,x.stateNode=n,s=Bl(),s.refCount++,n.pooledCache=s,s.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:s},it(x),n}function dv(n){return n?(n=ii,n):ii}function pv(n,s,l,u,g,x){g=dv(g),u.context===null?u.context=g:u.pendingContext=g,u=qt(s),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=en(n,u,s),l!==null&&(Ss(l,n,s),Ln(l,n,s))}function mv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function G0(n,s){mv(n,s),(n=n.alternate)&&mv(n,s)}function gv(n){if(n.tag===13||n.tag===31){var s=Va(n,67108864);s!==null&&Ss(s,n,67108864),G0(n,67108864)}}function vv(n){if(n.tag===13||n.tag===31){var s=Us();s=Zt(s);var l=Va(n,s);l!==null&&Ss(l,n,s),G0(n,s)}}var n1=!0;function Gw(n,s,l,u){var g=J.T;J.T=null;var x=ie.p;try{ie.p=2,Y0(n,s,l,u)}finally{ie.p=x,J.T=g}}function Yw(n,s,l,u){var g=J.T;J.T=null;var x=ie.p;try{ie.p=8,Y0(n,s,l,u)}finally{ie.p=x,J.T=g}}function Y0(n,s,l,u){if(n1){var g=W0(u);if(g===null)L0(n,s,u,r1,l),yv(n,u);else if(Xw(g,n,s,l,u))u.stopPropagation();else if(yv(n,u),s&4&&-1<Ww.indexOf(n)){for(;g!==null;){var x=Gi(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var L=ct(x.pendingLanes);if(L!==0){var K=x;for(K.pendingLanes|=2,K.entangledLanes|=2;L;){var pe=1<<31-Ot(L);K.entanglements[1]|=pe,L&=~pe}Co(x),(jn&6)===0&&(Bd=Tt()+500,df(0))}}break;case 31:case 13:K=Va(x,2),K!==null&&Ss(K,x,2),zd(),G0(x,2)}if(x=W0(u),x===null&&L0(n,s,u,r1,l),x===g)break;g=x}g!==null&&u.stopPropagation()}else L0(n,s,u,null,l)}}function W0(n){return n=qo(n),X0(n)}var r1=null;function X0(n){if(r1=null,n=ji(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=h(s),n!==null)return n;n=null}else if(l===31){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return r1=n,null}function bv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case et:return 2;case lt:return 8;case wt:case at:return 32;case dt:return 268435456;default:return 32}default:return 32}}var Z0=!1,Ql=null,Jl=null,ec=null,xf=new Map,_f=new Map,tc=[],Ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yv(n,s){switch(n){case"focusin":case"focusout":Ql=null;break;case"dragenter":case"dragleave":Jl=null;break;case"mouseover":case"mouseout":ec=null;break;case"pointerover":case"pointerout":xf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_f.delete(s.pointerId)}}function wf(n,s,l,u,g,x){return n===null||n.nativeEvent!==x?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[g]},s!==null&&(s=Gi(s),s!==null&&gv(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function Xw(n,s,l,u,g){switch(s){case"focusin":return Ql=wf(Ql,n,s,l,u,g),!0;case"dragenter":return Jl=wf(Jl,n,s,l,u,g),!0;case"mouseover":return ec=wf(ec,n,s,l,u,g),!0;case"pointerover":var x=g.pointerId;return xf.set(x,wf(xf.get(x)||null,n,s,l,u,g)),!0;case"gotpointercapture":return x=g.pointerId,_f.set(x,wf(_f.get(x)||null,n,s,l,u,g)),!0}return!1}function xv(n){var s=ji(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){n.blockedOn=s,Ar(n.priority,function(){vv(l)});return}}else if(s===31){if(s=c(l),s!==null){n.blockedOn=s,Ar(n.priority,function(){vv(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function i1(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=W0(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);xa=u,l.target.dispatchEvent(u),xa=null}else return s=Gi(l),s!==null&&gv(s),n.blockedOn=l,!1;s.shift()}return!0}function _v(n,s,l){i1(n)&&l.delete(s)}function Zw(){Z0=!1,Ql!==null&&i1(Ql)&&(Ql=null),Jl!==null&&i1(Jl)&&(Jl=null),ec!==null&&i1(ec)&&(ec=null),xf.forEach(_v),_f.forEach(_v)}function s1(n,s){n.blockedOn===s&&(n.blockedOn=null,Z0||(Z0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Zw)))}var a1=null;function wv(n){a1!==n&&(a1=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){a1===n&&(a1=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],g=n[s+2];if(typeof u!="function"){if(X0(u||l)===null)continue;break}var x=Gi(l);x!==null&&(n.splice(s,3),s-=3,Wp(x,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function ih(n){function s(pe){return s1(pe,n)}Ql!==null&&s1(Ql,n),Jl!==null&&s1(Jl,n),ec!==null&&s1(ec,n),xf.forEach(s),_f.forEach(s);for(var l=0;l<tc.length;l++){var u=tc[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<tc.length&&(l=tc[0],l.blockedOn===null);)xv(l),l.blockedOn===null&&tc.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],x=l[u+1],L=g[Cn]||null;if(typeof x=="function")L||wv(l);else if(L){var K=null;if(x&&x.hasAttribute("formAction")){if(g=x,L=x[Cn]||null)K=L.formAction;else if(X0(g)!==null)continue}else K=L.action;typeof K=="function"?l[u+1]=K:(l.splice(u,3),u-=3),wv(l)}}}function Sv(){function n(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(L){return g=L})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function $0(n){this._internalRoot=n}o1.prototype.render=$0.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=Us();pv(l,u,n,s,null,null)},o1.prototype.unmount=$0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;pv(n.current,2,null,n,null,null),zd(),s[br]=null}};function o1(n){this._internalRoot=n}o1.prototype.unstable_scheduleHydration=function(n){if(n){var s=an();n={blockedOn:null,target:n,priority:s};for(var l=0;l<tc.length&&s!==0&&s<tc[l].priority;l++);tc.splice(l,0,n),l===0&&xv(n)}};var Av=e.version;if(Av!=="19.2.0")throw Error(i(527,Av,"19.2.0"));ie.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=d(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var $w={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l1.isDisabled&&l1.supportsFiber)try{Rt=l1.inject($w),_t=l1}catch{}}return Af.createRoot=function(n,s){if(!a(n))throw Error(i(299));var l=!1,u="",g=M2,x=L2,L=D2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(L=s.onRecoverableError)),s=fv(n,1,!1,null,null,l,u,null,g,x,L,Sv),n[br]=s.current,M0(n),new $0(s)},Af.hydrateRoot=function(n,s,l){if(!a(n))throw Error(i(299));var u=!1,g="",x=M2,L=L2,K=D2,pe=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(L=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.formState!==void 0&&(pe=l.formState)),s=fv(n,1,!0,s,l??null,u,g,pe,x,L,K,Sv),s.context=dv(null),l=s.current,u=Us(),u=Zt(u),g=qt(u),g.callback=null,en(l,g,u),l=u,s.current.lanes=l,$e(s,l),Co(s),n[br]=s.current,M0(n),new o1(s)},Af.version="19.2.0",Af}var jv;function s4(){if(jv)return J0.exports;jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),J0.exports=i4(),J0.exports}var a4=s4();const Rv=r=>{let e;const t=new Set,i=(d,m)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const w=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(v=>v(e,w))}},a=()=>e,c={setState:i,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=r(i,a,c);return c},o4=(r=>r?Rv(r):Rv),l4=r=>r;function c4(r,e=l4){const t=gn.useSyncExternalStore(r.subscribe,gn.useCallback(()=>e(r.getState()),[r,e]),gn.useCallback(()=>e(r.getInitialState()),[r,e]));return gn.useDebugValue(t),t}const u4=r=>{const e=o4(r),t=i=>c4(e,i);return Object.assign(t,e),t},h4=(r=>u4);function f4(r,e){let t;try{t=r()}catch{return}return{getItem:a=>{var o;const h=f=>f===null?null:JSON.parse(f,void 0),c=(o=t.getItem(a))!=null?o:null;return c instanceof Promise?c.then(h):h(c)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const Mm=r=>e=>{try{const t=r(e);return t instanceof Promise?t:{then(i){return Mm(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return Mm(i)(t)}}}},d4=(r,e)=>(t,i,a)=>{let o={storage:f4(()=>localStorage),partialize:N=>N,version:0,merge:(N,T)=>({...T,...N}),...e},h=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return r((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...N)},i,a);const m=()=>{const N=o.partialize({...i()});return d.setItem(o.name,{state:N,version:o.version})},y=a.setState;a.setState=(N,T)=>(y(N,T),m());const w=r((...N)=>(t(...N),m()),i,a);a.getInitialState=()=>w;let v;const S=()=>{var N,T;if(!d)return;h=!1,c.forEach(V=>{var j;return V((j=i())!=null?j:w)});const C=((T=o.onRehydrateStorage)==null?void 0:T.call(o,(N=i())!=null?N:w))||void 0;return Mm(d.getItem.bind(d))(o.name).then(V=>{if(V)if(typeof V.version=="number"&&V.version!==o.version){if(o.migrate){const j=o.migrate(V.state,V.version);return j instanceof Promise?j.then(R=>[!0,R]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,V.state];return[!1,void 0]}).then(V=>{var j;const[R,I]=V;if(v=o.merge(I,(j=i())!=null?j:w),t(v,!0),R)return m()}).then(()=>{C?.(v,void 0),v=i(),h=!0,f.forEach(V=>V(v))}).catch(V=>{C?.(void 0,V)})};return a.persist={setOptions:N=>{o={...o,...N},N.storage&&(d=N.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>S(),hasHydrated:()=>h,onHydrate:N=>(c.add(N),()=>{c.delete(N)}),onFinishHydration:N=>(f.add(N),()=>{f.delete(N)})},o.skipHydration||S(),v||w},p4=d4,Jc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Mf=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],m4=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}];function qf(r){return r.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[r]||r}const g4={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},v4={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function fh(r,e){const t=qf(r),i=Jc.indexOf(t);if(i===-1)return[];const a=g4[e]||e,o=v4[a];return o?o.map(h=>Jc[(i+h)%12]):(console.warn(`Unknown chord quality: ${e} (resolved to ${a})`),Jc.slice(i,i+1).concat([Jc[(i+4)%12],Jc[(i+7)%12]]))}function b4(r){const e=["G","D","A","E","B","F#","C#"],t=["F","Bb","Eb","Ab","Db","Gb","Cb"],i=e.indexOf(r),a=t.indexOf(r);return i>=0?{sharps:i+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function sg(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function y4(r,e){const t=qf(r),i=qf(e),a=Jc.indexOf(t),o=Jc.indexOf(i);if(a===-1||o===-1)return"?";let h=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[h]||"?"}function Xy(r){const e=r.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(e){const t=parseInt(e[1]),i=parseInt(e[2]),a=parseInt(e[3]);let o=55;return t>=40&&t<=100?o=45:t>=160&&t<=200&&(o=50),i>60&&a>=45&&(o-=5),a>o?"#000000":"#ffffff"}return"#000000"}const Mi=[];for(let r=0;r<256;++r)Mi.push((r+256).toString(16).slice(1));function x4(r,e=0){return(Mi[r[e+0]]+Mi[r[e+1]]+Mi[r[e+2]]+Mi[r[e+3]]+"-"+Mi[r[e+4]]+Mi[r[e+5]]+"-"+Mi[r[e+6]]+Mi[r[e+7]]+"-"+Mi[r[e+8]]+Mi[r[e+9]]+"-"+Mi[r[e+10]]+Mi[r[e+11]]+Mi[r[e+12]]+Mi[r[e+13]]+Mi[r[e+14]]+Mi[r[e+15]]).toLowerCase()}let rm;const _4=new Uint8Array(16);function w4(){if(!rm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");rm=crypto.getRandomValues.bind(crypto)}return rm(_4)}const S4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Iv={randomUUID:S4};function A4(r,e,t){r=r||{};const i=r.random??r.rng?.()??w4();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,x4(i)}function Ya(r,e,t){return Iv.randomUUID&&!r?Iv.randomUUID():A4(r)}const Ns=[4,4],Lm=(r=Ns)=>{const[e,t]=r;return!e||!t?4:e*(4/t)},dh=r=>{const e=Lm(r);return{id:Ya(),beats:[{id:Ya(),chord:null,duration:e}]}},To=r=>r?`${r.sectionId}:${r.slotId}`:"",ag=r=>{const e=[];return r.forEach(t=>{t.measures.forEach(i=>{i.beats.forEach(a=>{e.push({sectionId:t.id,slotId:a.id,chord:a.chord??null})})})}),e},Kc=(r,e)=>{if(!e)return null;for(const t of r)if(t.id===e.sectionId){for(const i of t.measures)for(const a of i.beats)if(a.id===e.slotId)return a.chord??null}return null},Vv=(r,e)=>e?ag(r).findIndex(i=>i.sectionId===e.sectionId&&i.slotId===e.slotId):-1,N4=(r,e,t)=>{const i=ag(r),a=i.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId),o=i.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId);if(a===-1||o===-1)return[];const[h,c]=a<=o?[a,o]:[o,a];return i.slice(h,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},N1=(r,e)=>e?r.some(t=>t.id===e.sectionId&&t.measures.some(i=>i.beats.some(a=>a.id===e.slotId))):!1,lh=(r,e,t,i,a)=>{const o=e&&t?{sectionId:e,slotId:t}:null,h=i.filter(m=>N1(r,m)),c=N1(r,o),f=h[h.length-1]||(c?o:null),d=a&&N1(r,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:h,selectionAnchor:d?a:h[0]??f??null}},Dm=100,kf=r=>typeof structuredClone=="function"?structuredClone(r):JSON.parse(JSON.stringify(r)),Oi=r=>{const e=kf(r.currentSong),t=[...r.historyPast,e].slice(-Dm);return{historyPast:t,historyFuture:[],canUndo:t.length>0,canRedo:!1}},Fv=(r,e,t,i,a)=>{const o=lh(r.sections,e,t,i,a),h=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=h?Kc(r.sections,h):null;return{...o,selectedChord:c}},C4=(r,e,t)=>{let i=!1;for(const a of r)for(const o of a.measures)for(const h of o.beats){if(i)return{sectionId:a.id,slotId:h.id};a.id===e&&h.id===t&&(i=!0)}return null},Nf={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:Ns,measures:Array(4).fill(null).map(()=>dh(Ns))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:Ns,measures:Array(4).fill(null).map(()=>dh(Ns))}],notes:"",createdAt:new Date,updatedAt:new Date},Rr=h4()(p4(r=>({currentSong:Nf,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,collapsedSections:{},selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,playingSectionId:null,playingSlotId:null,isLooping:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:e=>r({selectedKey:e}),rotateWheel:e=>r(t=>({wheelRotation:t.wheelMode==="rotating"?t.wheelRotation+(e==="cw"?-30:30):0})),toggleWheelMode:()=>r(e=>{const t=e.wheelMode==="rotating"?"fixed":"rotating";let i=0;if(t==="rotating"){const a=Mf.indexOf(e.selectedKey);a!==-1&&(i=-(a*30))}return{wheelMode:t,wheelRotation:i}}),toggleChordPanel:()=>r(e=>({chordPanelVisible:!e.chordPanelVisible})),toggleTimeline:()=>r(e=>({timelineVisible:!e.timelineVisible})),toggleSectionCollapsed:e=>r(t=>{const i={...t.collapsedSections,[e]:!t.collapsedSections?.[e]};return i[e]||delete i[e],{collapsedSections:i}}),setSelectedChord:e=>r({selectedChord:e}),setSelectedSlot:(e,t)=>r(i=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:e,slotId:t},o=Kc(i.currentSong.sections,a);return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),setSelectedSlots:e=>r(t=>{const i=e.filter(Boolean),a=i[i.length-1]??null,o=Kc(t.currentSong.sections,a);return{selectedSlots:i,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:i[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(e,t)=>r(i=>{const a=i.selectedSlots.some(d=>d.sectionId===e&&d.slotId===t),o=a?i.selectedSlots.filter(d=>!(d.sectionId===e&&d.slotId===t)):[...i.selectedSlots,{sectionId:e,slotId:t}],h=o[o.length-1]??null,c=Kc(i.currentSong.sections,h),f=a&&i.selectionAnchor&&To(i.selectionAnchor)===To({sectionId:e,slotId:t});return{selectedSlots:o,selectedSectionId:h?.sectionId??null,selectedSlotId:h?.slotId??null,selectionAnchor:f?o[0]??h??null:i.selectionAnchor??h??null,selectedChord:c??null}}),selectRangeTo:(e,t)=>r(i=>{const a={sectionId:e,slotId:t},o=i.selectionAnchor||i.selectedSlots[i.selectedSlots.length-1]||(i.selectedSectionId&&i.selectedSlotId?{sectionId:i.selectedSectionId,slotId:i.selectedSlotId}:a),c=N1(i.currentSong.sections,o)?o:a,f=N4(i.currentSong.sections,c,a),d=f.length?f:[a],m=Kc(i.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:m??null}}),moveSelection:(e,t,i="move")=>{let a=!1;return r(o=>{const h=ag(o.currentSong.sections),c=Vv(o.currentSong.sections,e),f=Vv(o.currentSong.sections,t);if(c===-1||f===-1)return{};const m=(o.selectedSlots.length?o.selectedSlots:[e]).map(D=>{const F=h.findIndex($=>$.sectionId===D.sectionId&&$.slotId===D.slotId);return F>=0?{idx:F,slot:h[F]}:null}).filter(D=>!!D).sort((D,F)=>D.idx-F.idx);if(!m.length)return{};const y=f-c,w=m.map(({idx:D})=>D+y);if(w.some(D=>D<0||D>=h.length))return{};const v=w.map(D=>h[D]);if(m.length===1&&i==="move"){const D=m[0].slot,F=v[0],$=Oi(o),E=o.currentSong.sections.map(J=>({...J,measures:J.measures.map(ie=>({...ie,beats:ie.beats.map(le=>le.id===D.slotId&&J.id===D.sectionId?{...le,chord:F.chord}:le.id===F.slotId&&J.id===F.sectionId?{...le,chord:D.chord}:le)}))}));a=!0;const B=o.selectionAnchor&&To(o.selectionAnchor)===To(e),H=lh(E,t.sectionId,t.slotId,[{sectionId:F.sectionId,slotId:F.slotId}],B?{sectionId:F.sectionId,slotId:F.slotId}:o.selectionAnchor),Q=H.selectedSectionId&&H.selectedSlotId?{sectionId:H.selectedSectionId,slotId:H.selectedSlotId}:null,ue=Kc(E,Q);return{...$,currentSong:{...o.currentSong,sections:E},selectedSectionId:H.selectedSectionId,selectedSlotId:H.selectedSlotId,selectedSlots:H.selectedSlots,selectionAnchor:H.selectionAnchor,selectedChord:ue??null}}const S=new Map;m.forEach((D,F)=>{S.set(To(v[F]),D.slot.chord??null)});const N=new Set;i==="move"&&m.forEach((D,F)=>{const $=To(D.slot),E=To(v[F]);$!==E&&N.add($)});const T=Oi(o),C=o.currentSong.sections.map(D=>({...D,measures:D.measures.map(F=>({...F,beats:F.beats.map($=>{const E=To({sectionId:D.id,slotId:$.id});return S.has(E)?{...$,chord:S.get(E)??null}:N.has(E)?{...$,chord:null}:$})}))}));a=!0;const V=To(o.selectionAnchor),j=m.find(D=>To(D.slot)===V),R=j?{sectionId:v[m.indexOf(j)].sectionId,slotId:v[m.indexOf(j)].slotId}:o.selectionAnchor,I=lh(C,t.sectionId,t.slotId,v.map(D=>({sectionId:D.sectionId,slotId:D.slotId})),R??null),W=I.selectedSectionId&&I.selectedSlotId?{sectionId:I.selectedSectionId,slotId:I.selectedSlotId}:null,P=Kc(C,W);return{...T,currentSong:{...o.currentSong,sections:C},selectedSectionId:I.selectedSectionId,selectedSlotId:I.selectedSlotId,selectedSlots:I.selectedSlots,selectionAnchor:I.selectionAnchor,selectedChord:P??null}}),a},selectNextSlotAfter:(e,t)=>{let i=!1;return r(a=>{const o=C4(a.currentSong.sections,e,t);if(!o)return{};const h=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return i=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:h,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),i},setTempo:e=>r(t=>({...Oi(t),tempo:e,currentSong:{...t.currentSong,tempo:e}})),setVolume:e=>r({volume:e}),setInstrument:e=>r({instrument:e}),setIsPlaying:e=>r({isPlaying:e}),setPlayingSlot:(e,t)=>r({playingSectionId:e,playingSlotId:t}),toggleLoop:()=>r(e=>({isLooping:!e.isLooping})),toggleMute:()=>r(e=>({isMuted:!e.isMuted})),setTitle:e=>r(t=>({...Oi(t),currentSong:{...t.currentSong,title:e}})),loadSong:e=>r(t=>{const i=e.key||"C",a=e.tempo??Nf.tempo;let o=0;if(t.wheelMode==="rotating"){const c=Mf.indexOf(i);c!==-1&&(o=-(c*30))}return{...Oi(t),currentSong:{...e,tempo:a},selectedKey:i,wheelRotation:o,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>r(e=>({...Oi(e),currentSong:{...Nf,id:Ya(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:Nf.tempo,sections:[{id:Ya(),name:"Verse 1",type:"verse",timeSignature:Ns,measures:Array(4).fill(null).map(()=>dh(Ns))},{id:Ya(),name:"Chorus",type:"chorus",timeSignature:Ns,measures:Array(4).fill(null).map(()=>dh(Ns))}]},selectedKey:"C",wheelRotation:0,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:Nf.tempo})),addSection:e=>r(t=>{const i={id:Ya(),name:e.charAt(0).toUpperCase()+e.slice(1),type:e,timeSignature:t.currentSong.timeSignature||Ns,measures:Array(4).fill(null).map(()=>dh(t.currentSong.timeSignature||Ns))};return{...Oi(t),currentSong:{...t.currentSong,sections:[...t.currentSong.sections,i]}}}),updateSection:(e,t)=>r(i=>({...Oi(i),currentSong:{...i.currentSong,sections:i.currentSong.sections.map(o=>o.id===e?{...o,...t}:o)}})),removeSection:e=>r(t=>{const i=Oi(t),{[e]:a,...o}=t.collapsedSections||{};return{...i,currentSong:{...t.currentSong,sections:t.currentSong.sections.filter(h=>h.id!==e)},collapsedSections:o}}),duplicateSection:e=>r(t=>{const i=t.currentSong.sections.find(f=>f.id===e);if(!i)return{};const a=Oi(t),o={...i,id:Ya(),name:`${i.name} (Copy)`,timeSignature:i.timeSignature||t.currentSong.timeSignature||Ns,measures:i.measures.map(f=>({...f,id:Ya(),beats:f.beats.map(d=>({...d,id:Ya()}))}))},h=t.currentSong.sections.findIndex(f=>f.id===e),c=[...t.currentSong.sections];return c.splice(h+1,0,o),{...a,currentSong:{...t.currentSong,sections:c}}}),reorderSections:e=>r(t=>({...Oi(t),currentSong:{...t.currentSong,sections:e}})),setSectionMeasures:(e,t)=>r(i=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=i.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||i.currentSong.timeSignature||Ns;let m=[...f.measures];if(m.length<a)for(;m.length<a;)m.push(dh(d));else m.length>a&&(m=m.slice(0,a));return{...f,measures:m}}),h=lh(o,i.selectedSectionId,i.selectedSlotId,i.selectedSlots,i.selectionAnchor);return{...Oi(i),currentSong:{...i.currentSong,sections:o},...h}}),setSectionTimeSignature:(e,t)=>r(i=>{const a=i.currentSong.sections.map(c=>{if(c.id!==e)return c;const f=Lm(t);return{...c,timeSignature:t,measures:c.measures.map(d=>({...d,beats:[{id:Ya(),chord:null,duration:f}]}))}}),o=lh(a,i.selectedSectionId,i.selectedSlotId,i.selectedSlots,i.selectionAnchor);return{...Oi(i),currentSong:{...i.currentSong,sections:a},...o}}),setMeasureSubdivision:(e,t,i)=>r(a=>{const o=Math.max(1,Math.min(16,Math.round(i))),h=a.currentSong.sections.map(d=>{if(d.id!==e)return d;const m=d.timeSignature||a.currentSong.timeSignature||Ns,y=Lm(m);return{...d,measures:d.measures.map(w=>{if(w.id!==t)return w;const v=y/o,S=Array.from({length:o}).map((N,T)=>{const C=w.beats[T];return{id:C?.id??Ya(),chord:C?.chord??null,duration:v}});return{...w,beats:S}})}}),c=lh(h,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...Oi(a),currentSong:{...a.currentSong,sections:h},...c}}),addChordToSlot:(e,t,i)=>r(a=>{const o=Oi(a),h=a.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==i?d:{...d,chord:e})}))});return{...o,currentSong:{...a.currentSong,sections:h}}}),clearSlot:(e,t)=>r(i=>{if(!i.currentSong.sections.some(c=>c.id===e&&c.measures.some(f=>f.beats.some(d=>d.id===t&&d.chord))))return{};const o=Oi(i),h=i.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==t?d:{...d,chord:null})}))});return{...o,currentSong:{...i.currentSong,sections:h}}}),moveChord:(e,t,i,a)=>r(o=>{let h=null,c=null;if(o.currentSong.sections.forEach(m=>{m.measures.forEach(y=>{y.beats.forEach(w=>{w.id===t&&(h=w.chord),w.id===a&&(c=w.chord)})})}),!h&&!c)return{};const f=Oi(o),d=o.currentSong.sections.map(m=>({...m,measures:m.measures.map(y=>({...y,beats:y.beats.map(w=>w.id===t?{...w,chord:c}:w.id===a?{...w,chord:h}:w)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>r(e=>{if(!e.historyPast.length)return{};const t=e.historyPast[e.historyPast.length-1],i=e.historyPast.slice(0,-1),a=[kf(e.currentSong),...e.historyFuture].slice(0,Dm),o=Fv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:kf(t),historyPast:i,historyFuture:a,canUndo:i.length>0,canRedo:a.length>0,tempo:t.tempo??e.tempo,...o}}),redo:()=>r(e=>{if(!e.historyFuture.length)return{};const t=e.historyFuture[0],i=e.historyFuture.slice(1),a=[...e.historyPast,kf(e.currentSong)].slice(-Dm),o=Fv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:kf(t),historyPast:a,historyFuture:i,canUndo:a.length>0,canRedo:i.length>0,tempo:t.tempo??e.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:r=>({currentSong:r.currentSong,tempo:r.tempo,volume:r.volume,instrument:r.instrument,isMuted:r.isMuted})}));function lc(r,e,t,i){const a=(i-90)*Math.PI/180;return{x:r+t*Math.cos(a),y:e+t*Math.sin(a)}}function T4(r,e,t,i,a){const o=lc(r,e,t,i),h=lc(r,e,t,a),c=a-i<=180?"0":"1";return["M",o.x,o.y,"A",t,t,0,c,1,h.x,h.y].join(" ")}function E4(r,e,t,i,a,o){const h=lc(r,e,i,o),c=lc(r,e,i,a),f=lc(r,e,t,o),d=lc(r,e,t,a),m=o-a<=180?"0":"1";return["M",h.x,h.y,"A",i,i,0,m,0,c.x,c.y,"L",d.x,d.y,"A",t,t,0,m,1,f.x,f.y,"Z"].join(" ")}function Zy(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=Zy(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function Wa(){for(var r,e,t=0,i="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=Zy(r))&&(i&&(i+=" "),i+=e);return i}const $y="15.1.22",Bv=(r,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:r}),qv=(r,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:r}),jm=(r,e)=>({startTime:e,type:"setValue",value:r}),Ky=(r,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:r}),Qy=(r,e,{startTime:t,target:i,timeConstant:a})=>i+(e-i)*Math.exp((t-r)/a),ph=r=>r.type==="exponentialRampToValue",V1=r=>r.type==="linearRampToValue",ac=r=>ph(r)||V1(r),og=r=>r.type==="setValue",dl=r=>r.type==="setValueCurve",F1=(r,e,t,i)=>{const a=r[e];return a===void 0?i:ac(a)||og(a)?a.value:dl(a)?a.values[a.values.length-1]:Qy(t,F1(r,e-1,a.startTime,i),a)},zv=(r,e,t,i,a)=>t===void 0?[i.insertTime,a]:ac(t)?[t.endTime,t.value]:og(t)?[t.startTime,t.value]:dl(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,F1(r,e-1,t.startTime,a)],Rm=r=>r.type==="cancelAndHold",Im=r=>r.type==="cancelScheduledValues",rc=r=>Rm(r)||Im(r)?r.cancelTime:ph(r)||V1(r)?r.endTime:r.startTime,Pv=(r,e,t,{endTime:i,value:a})=>t===a?a:0<t&&0<a||t<0&&a<0?t*(a/t)**((r-e)/(i-e)):0,Uv=(r,e,t,{endTime:i,value:a})=>t+(r-e)/(i-e)*(a-t),k4=(r,e)=>{const t=Math.floor(e),i=Math.ceil(e);return t===i?r[t]:(1-(e-t))*r[t]+(1-(i-e))*r[i]},O4=(r,{duration:e,startTime:t,values:i})=>{const a=(r-t)/e*(i.length-1);return k4(i,a)},c1=r=>r.type==="setTarget";class M4{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=rc(e);if(Rm(e)||Im(e)){const i=this._automationEvents.findIndex(o=>Im(e)&&dl(o)?o.startTime+o.duration>=t:rc(o)>=t),a=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),Rm(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&ac(a)){if(o!==void 0&&c1(o))throw new Error("The internal list is malformed.");const h=o===void 0?a.insertTime:dl(o)?o.startTime+o.duration:rc(o),c=o===void 0?this._defaultValue:dl(o)?o.values[o.values.length-1]:o.value,f=ph(a)?Pv(t,h,c,a):Uv(t,h,c,a),d=ph(a)?Bv(f,t,this._currenTime):qv(f,t,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&c1(o)&&this._automationEvents.push(jm(this.getValue(t),t)),o!==void 0&&dl(o)&&o.startTime+o.duration>t){const h=t-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(h*c)),d=h/(f-1)*c,m=o.values.slice(0,f);if(d<1)for(let y=1;y<f;y+=1){const w=d*y%1;m[y]=o.values[y-1]*(1-w)+o.values[y]*w}this._automationEvents[this._automationEvents.length-1]=Ky(m,o.startTime,h)}}}else{const i=this._automationEvents.findIndex(h=>rc(h)>t),a=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(a!==void 0&&dl(a)&&rc(a)+a.duration>t)return!1;const o=ph(e)?Bv(e.value,e.endTime,this._currenTime):V1(e)?qv(e.value,t,this._currenTime):e;if(i===-1)this._automationEvents.push(o);else{if(dl(e)&&t+e.duration>rc(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,o)}}return!0}flush(e){const t=this._automationEvents.findIndex(i=>rc(i)>e);if(t>1){const i=this._automationEvents.slice(t-1),a=i[0];c1(a)&&i.unshift(jm(F1(this._automationEvents,t-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=i}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(h=>rc(h)>e),i=this._automationEvents[t],a=(t===-1?this._automationEvents.length:t)-1,o=this._automationEvents[a];if(o!==void 0&&c1(o)&&(i===void 0||!ac(i)||i.insertTime>e))return Qy(e,F1(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&og(o)&&(i===void 0||!ac(i)))return o.value;if(o!==void 0&&dl(o)&&(i===void 0||!ac(i)||o.startTime+o.duration>e))return e<o.startTime+o.duration?O4(e,o):o.values[o.values.length-1];if(o!==void 0&&ac(o)&&(i===void 0||!ac(i)))return o.value;if(i!==void 0&&ph(i)){const[h,c]=zv(this._automationEvents,a,o,i,this._defaultValue);return Pv(e,h,c,i)}if(i!==void 0&&V1(i)){const[h,c]=zv(this._automationEvents,a,o,i,this._defaultValue);return Uv(e,h,c,i)}return this._defaultValue}}const L4=r=>({cancelTime:r,type:"cancelAndHold"}),D4=r=>({cancelTime:r,type:"cancelScheduledValues"}),j4=(r,e)=>({endTime:e,type:"exponentialRampToValue",value:r}),R4=(r,e)=>({endTime:e,type:"linearRampToValue",value:r}),I4=(r,e,t)=>({startTime:e,target:r,timeConstant:t,type:"setTarget"}),V4=()=>new DOMException("","AbortError"),F4=r=>(e,t,[i,a,o],h)=>{r(e[a],[t,i,o],c=>c[0]===t&&c[1]===i,h)},B4=r=>(e,t,i)=>{const a=[];for(let o=0;o<i.numberOfInputs;o+=1)a.push(new Set);r.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},q4=r=>(e,t)=>{r.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Nh=new WeakSet,Jy=new WeakMap,lg=new WeakMap,e3=new WeakMap,cg=new WeakMap,hp=new WeakMap,t3=new WeakMap,Vm=new WeakMap,Fm=new WeakMap,Bm=new WeakMap,n3={construct(){return n3}},z4=r=>{try{const e=new Proxy(r,n3);new e}catch{return!1}return!0},Hv=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Gv=(r,e)=>{const t=[];let i=r.replace(/^[\s]+/,""),a=i.match(Hv);for(;a!==null;){const o=a[1].slice(1,-1),h=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());t.push(h),i=i.slice(a[0].length).replace(/^[\s]+/,""),a=i.match(Hv)}return[t.join(";"),i]},Yv=r=>{if(r!==void 0&&!Array.isArray(r))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Wv=r=>{if(!z4(r))throw new TypeError("The given value for processorCtor should be a constructor.");if(r.prototype===null||typeof r.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},P4=(r,e,t,i,a,o,h,c,f,d,m,y,w)=>{let v=0;return(S,N,T={credentials:"omit"})=>{const C=m.get(S);if(C!==void 0&&C.has(N))return Promise.resolve();const V=d.get(S);if(V!==void 0){const I=V.get(N);if(I!==void 0)return I}const j=o(S),R=j.audioWorklet===void 0?a(N).then(([I,W])=>{const[P,D]=Gv(I,W),F=`${P};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}
})})(window,'_AWGS')`;return t(F)}).then(()=>{const I=w._AWGS.pop();if(I===void 0)throw new SyntaxError;i(j.currentTime,j.sampleRate,()=>I(class{},void 0,(W,P)=>{if(W.trim()==="")throw e();const D=Fm.get(j);if(D!==void 0){if(D.has(W))throw e();Wv(P),Yv(P.parameterDescriptors),D.set(W,P)}else Wv(P),Yv(P.parameterDescriptors),Fm.set(j,new Map([[W,P]]))},j.sampleRate,void 0,void 0))}):Promise.all([a(N),Promise.resolve(r(y,y))]).then(([[I,W],P])=>{const D=v+1;v=D;const[F,$]=Gv(I,W),Q=`${F};((AudioWorkletProcessor,registerProcessor)=>{${$}
})(${P?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${P?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${P?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`,ue=new Blob([Q],{type:"application/javascript; charset=utf-8"}),J=URL.createObjectURL(ue);return j.audioWorklet.addModule(J,T).then(()=>{if(c(j))return j;const ie=h(j);return ie.audioWorklet.addModule(J,T).then(()=>ie)}).then(ie=>{if(f===null)throw new SyntaxError;try{new f(ie,`__sac${D}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(J))});return V===void 0?d.set(S,new Map([[N,R]])):V.set(N,R),R.then(()=>{const I=m.get(S);I===void 0?m.set(S,new Set([N])):I.add(N)}).finally(()=>{const I=d.get(S);I!==void 0&&I.delete(N)}),R}},Qa=(r,e)=>{const t=r.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},fp=(r,e)=>{const t=Array.from(r).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[i]=t;return r.delete(i),i},r3=(r,e,t,i)=>{const a=Qa(r,e),o=fp(a,h=>h[0]===t&&h[1]===i);return a.size===0&&r.delete(e),o},Qf=r=>Qa(t3,r),Ch=r=>{if(Nh.has(r))throw new Error("The AudioNode is already stored.");Nh.add(r),Qf(r).forEach(e=>e(!0))},i3=r=>"port"in r,Jf=r=>{if(!Nh.has(r))throw new Error("The AudioNode is not stored.");Nh.delete(r),Qf(r).forEach(e=>e(!1))},qm=(r,e)=>{!i3(r)&&e.every(t=>t.size===0)&&Jf(r)},U4=(r,e,t,i,a,o,h,c,f,d,m,y,w)=>{const v=new WeakMap;return(S,N,T,C,V)=>{const{activeInputs:j,passiveInputs:R}=o(N),{outputs:I}=o(S),W=c(S),P=D=>{const F=f(N),$=f(S);if(D){const E=r3(R,S,T,C);r(j,S,E,!1),!V&&!y(S)&&t($,F,T,C),w(N)&&Ch(N)}else{const E=i(j,S,T,C);e(R,C,E,!1),!V&&!y(S)&&a($,F,T,C);const B=h(N);if(B===0)m(N)&&qm(N,j);else{const H=v.get(N);H!==void 0&&clearTimeout(H),v.set(N,setTimeout(()=>{m(N)&&qm(N,j)},B*1e3))}}};return d(I,[N,T,C],D=>D[0]===N&&D[1]===T&&D[2]===C,!0)?(W.add(P),m(S)?r(j,S,[T,C,P],!0):e(R,C,[S,T,P],!0),!0):!1}},H4=r=>(e,t,[i,a,o],h)=>{const c=e.get(i);c===void 0?e.set(i,new Set([[a,t,o]])):r(c,[a,t,o],f=>f[0]===a&&f[1]===t,h)},G4=r=>(e,t)=>{const i=r(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(i).connect(e.destination);const a=()=>{t.removeEventListener("ended",a),t.disconnect(i),i.disconnect()};t.addEventListener("ended",a)},Y4=r=>(e,t)=>{r(e).add(t)},W4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},X4=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...W4,...f},y=i(d,m),w=o(d)?e():null;super(c,!1,y,w),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},Hi=(r,e)=>r.context===e,Z4=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Hi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=r(h,d)}return i.set(h,c),await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},B1=r=>{try{r.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},jo=()=>new DOMException("","IndexSizeError"),ug=r=>{r.getChannelData=(e=>t=>{try{return e.call(r,t)}catch(i){throw i.code===12?jo():i}})(r.getChannelData)},$4={numberOfChannels:1},K4=(r,e,t,i,a,o,h,c)=>{let f=null;return class s3{constructor(m){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:w,sampleRate:v}={...$4,...m};f===null&&(f=new a(1,1,44100));const S=i!==null&&e(o,o)?new i({length:y,numberOfChannels:w,sampleRate:v}):f.createBuffer(w,y,v);if(S.numberOfChannels===0)throw t();return typeof S.copyFromChannel!="function"?(h(S),ug(S)):e(B1,()=>B1(S))||c(S),r.add(S),S}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===s3.prototype||r.has(m)}}},Cs=-34028234663852886e22,ts=-Cs,ml=r=>Nh.has(r),Q4={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},J4=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),w={...Q4,...m},v=a(y,w),S=h(y),N=S?e():null;super(d,!1,v,N),this._audioBufferSourceNodeRenderer=N,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=t(this,S,v.playbackRate,ts,Cs)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const m=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=m;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===m?d:y}get playbackRate(){return this._playbackRate}start(d=0,m=0,y){if(this._nativeAudioBufferSourceNode.start(d,m,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[d,m]:[d,m,y]),this.context.state!=="closed"){Ch(this);const w=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",w),ml(this)&&Jf(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",w)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},eS=(r,e,t,i,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let y=t(d);const w=Hi(y,m);if(!w){const v={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=e(m,v),h!==null&&y.start(...h),c!==null&&y.stop(c)}return o.set(m,y),w?await r(m,d.playbackRate,y.playbackRate):await i(m,d.playbackRate,y.playbackRate),await a(d,m,y),y};return{set start(d){h=d},set stop(d){c=d},render(d,m){const y=o.get(m);return y!==void 0?Promise.resolve(y):f(d,m)}}},tS=r=>"playbackRate"in r,nS=r=>"frequency"in r&&"gain"in r,rS=r=>"offset"in r,iS=r=>!("frequency"in r)&&"gain"in r,sS=r=>"detune"in r&&"frequency"in r&&!("gain"in r),aS=r=>"pan"in r,ns=r=>Qa(Jy,r),ed=r=>Qa(e3,r),zm=(r,e)=>{const{activeInputs:t}=ns(r);t.forEach(a=>a.forEach(([o])=>{e.includes(r)||zm(o,[...e,r])}));const i=tS(r)?[r.playbackRate]:i3(r)?Array.from(r.parameters.values()):nS(r)?[r.Q,r.detune,r.frequency,r.gain]:rS(r)?[r.offset]:iS(r)?[r.gain]:sS(r)?[r.detune,r.frequency]:aS(r)?[r.pan]:[];for(const a of i){const o=ed(a);o!==void 0&&o.activeInputs.forEach(([h])=>zm(h,e))}ml(r)&&Jf(r)},a3=r=>{zm(r.destination,[])},oS=r=>r===void 0||typeof r=="number"||typeof r=="string"&&(r==="balanced"||r==="interactive"||r==="playback"),lS=(r,e,t,i,a,o,h,c,f)=>class extends r{constructor(m={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new f(m)}catch(S){throw S.code===12&&S.message==="sampleRate is not in range"?t():S}if(y===null)throw i();if(!oS(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&y.sampleRate!==m.sampleRate)throw t();super(y,2);const{latencyHint:w}=m,{sampleRate:v}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:w==="balanced"?512/v:w==="interactive"||w===void 0?256/v:w==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(w*v/128)))*128/v,this._nativeAudioContext=y,f.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const S=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",S)};y.addEventListener("statechange",S)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),a3(this)}))}createMediaElementSource(m){return new a(this,{mediaElement:m})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,y)=>{const w=()=>{this._nativeAudioContext.removeEventListener("statechange",w),this._nativeAudioContext.state==="running"?m():this.resume().then(m,y)};this._nativeAudioContext.addEventListener("statechange",w)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?e():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?e():m})}},cS=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),w=h(y),v=a(y,m,w),S=w?e(c):null;super(d,!1,v,S),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},uS=r=>{const e=new WeakMap,t=async(i,a)=>{const o=a.destination;return e.set(a,o),await r(i,a,o),o};return{render(i,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):t(i,a)}}},hS=(r,e,t,i,a,o,h,c)=>(f,d)=>{const m=d.listener,y=()=>{const I=new Float32Array(1),W=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),P=h(d);let D=!1,F=[0,0,-1,0,1,0],$=[0,0,0];const E=()=>{if(D)return;D=!0;const ue=i(d,256,9,0);ue.onaudioprocess=({inputBuffer:J})=>{const ie=[o(J,I,0),o(J,I,1),o(J,I,2),o(J,I,3),o(J,I,4),o(J,I,5)];ie.some((fe,xe)=>fe!==F[xe])&&(m.setOrientation(...ie),F=ie);const le=[o(J,I,6),o(J,I,7),o(J,I,8)];le.some((fe,xe)=>fe!==$[xe])&&(m.setPosition(...le),$=le)},W.connect(ue)},B=ue=>J=>{J!==F[ue]&&(F[ue]=J,m.setOrientation(...F))},H=ue=>J=>{J!==$[ue]&&($[ue]=J,m.setPosition(...$))},Q=(ue,J,ie)=>{const le=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:J});le.connect(W,0,ue),le.start(),Object.defineProperty(le.offset,"defaultValue",{get(){return J}});const fe=r({context:f},P,le.offset,ts,Cs);return c(fe,"value",xe=>()=>xe.call(fe),xe=>X=>{try{xe.call(fe,X)}catch(k){if(k.code!==9)throw k}E(),P&&ie(X)}),fe.cancelAndHoldAtTime=(xe=>P?()=>{throw a()}:(...X)=>{const k=xe.apply(fe,X);return E(),k})(fe.cancelAndHoldAtTime),fe.cancelScheduledValues=(xe=>P?()=>{throw a()}:(...X)=>{const k=xe.apply(fe,X);return E(),k})(fe.cancelScheduledValues),fe.exponentialRampToValueAtTime=(xe=>P?()=>{throw a()}:(...X)=>{const k=xe.apply(fe,X);return E(),k})(fe.exponentialRampToValueAtTime),fe.linearRampToValueAtTime=(xe=>P?()=>{throw a()}:(...X)=>{const k=xe.apply(fe,X);return E(),k})(fe.linearRampToValueAtTime),fe.setTargetAtTime=(xe=>P?()=>{throw a()}:(...X)=>{const k=xe.apply(fe,X);return E(),k})(fe.setTargetAtTime),fe.setValueAtTime=(xe=>P?()=>{throw a()}:(...X)=>{const k=xe.apply(fe,X);return E(),k})(fe.setValueAtTime),fe.setValueCurveAtTime=(xe=>P?()=>{throw a()}:(...X)=>{const k=xe.apply(fe,X);return E(),k})(fe.setValueCurveAtTime),fe};return{forwardX:Q(0,0,B(0)),forwardY:Q(1,0,B(1)),forwardZ:Q(2,-1,B(2)),positionX:Q(6,0,H(0)),positionY:Q(7,0,H(1)),positionZ:Q(8,0,H(2)),upX:Q(3,0,B(3)),upY:Q(4,1,B(4)),upZ:Q(5,0,B(5))}},{forwardX:w,forwardY:v,forwardZ:S,positionX:N,positionY:T,positionZ:C,upX:V,upY:j,upZ:R}=m.forwardX===void 0?y():m;return{get forwardX(){return w},get forwardY(){return v},get forwardZ(){return S},get positionX(){return N},get positionY(){return T},get positionZ(){return C},get upX(){return V},get upY(){return j},get upZ(){return R}}},q1=r=>"context"in r,td=r=>q1(r[0]),uu=(r,e,t,i)=>{for(const a of r)if(t(a)){if(i)return!1;throw Error("The set contains at least one similar element.")}return r.add(e),!0},Xv=(r,e,[t,i],a)=>{uu(r,[e,t,i],o=>o[0]===e&&o[1]===t,a)},Zv=(r,[e,t,i],a)=>{const o=r.get(e);o===void 0?r.set(e,new Set([[t,i]])):uu(o,[t,i],h=>h[0]===t,a)},kh=r=>"inputs"in r,z1=(r,e,t,i)=>{if(kh(e)){const a=e.inputs[i];return r.connect(a,t,0),[a,t,0]}return r.connect(e,t,i),[e,t,i]},o3=(r,e,t)=>{for(const i of r)if(i[0]===e&&i[1]===t)return r.delete(i),i;return null},fS=(r,e,t)=>fp(r,i=>i[0]===e&&i[1]===t),l3=(r,e)=>{if(!Qf(r).delete(e))throw new Error("Missing the expected event listener.")},c3=(r,e,t)=>{const i=Qa(r,e),a=fp(i,o=>o[0]===t);return i.size===0&&r.delete(e),a},P1=(r,e,t,i)=>{kh(e)?r.disconnect(e.inputs[i],t,0):r.disconnect(e,t,i)},cr=r=>Qa(lg,r),zf=r=>Qa(cg,r),au=r=>Vm.has(r),C1=r=>!Nh.has(r),$v=(r,e)=>new Promise(t=>{if(e!==null)t(!0);else{const i=r.createScriptProcessor(256,1,1),a=r.createGain(),o=r.createBuffer(1,2,44100),h=o.getChannelData(0);h[0]=1,h[1]=1;const c=r.createBufferSource();c.buffer=o,c.loop=!0,c.connect(i).connect(r.destination),c.connect(a),c.disconnect(a),i.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,m=>m===1)?t(!0):t(!1),c.stop(),i.onaudioprocess=null,c.disconnect(i),i.disconnect(r.destination)},c.start()}}),im=(r,e)=>{const t=new Map;for(const i of r)for(const a of i){const o=t.get(a);t.set(a,o===void 0?1:o+1)}t.forEach((i,a)=>e(a,i))},U1=r=>"context"in r,dS=r=>{const e=new Map;r.connect=(t=>(i,a=0,o=0)=>{const h=U1(i)?t(i,a,o):t(i,a),c=e.get(i);return c===void 0?e.set(i,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),h})(r.connect.bind(r)),r.disconnect=(t=>(i,a,o)=>{if(t.apply(r),i===void 0)e.clear();else if(typeof i=="number")for(const[h,c]of e){const f=c.filter(d=>d.output!==i);f.length===0?e.delete(h):e.set(h,f)}else if(e.has(i))if(a===void 0)e.delete(i);else{const h=e.get(i);if(h!==void 0){const c=h.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?e.delete(i):e.set(i,c)}}for(const[h,c]of e)c.forEach(f=>{U1(h)?r.connect(h,f.output,f.input):r.connect(h,f.output)})})(r.disconnect)},pS=(r,e,t,i)=>{const{activeInputs:a,passiveInputs:o}=ed(e),{outputs:h}=ns(r),c=Qf(r),f=d=>{const m=cr(r),y=zf(e);if(d){const w=c3(o,r,t);Xv(a,r,w,!1),!i&&!au(r)&&m.connect(y,t)}else{const w=fS(a,r,t);Zv(o,w,!1),!i&&!au(r)&&m.disconnect(y,t)}};return uu(h,[e,t],d=>d[0]===e&&d[1]===t,!0)?(c.add(f),ml(r)?Xv(a,r,[t,f],!0):Zv(o,[r,t,f],!0),!0):!1},mS=(r,e,t,i)=>{const{activeInputs:a,passiveInputs:o}=ns(e),h=o3(a[i],r,t);return h===null?[r3(o,r,t,i)[2],!1]:[h[2],!0]},gS=(r,e,t)=>{const{activeInputs:i,passiveInputs:a}=ed(e),o=o3(i,r,t);return o===null?[c3(a,r,t)[1],!1]:[o[2],!0]},hg=(r,e,t,i,a)=>{const[o,h]=mS(r,t,i,a);if(o!==null&&(l3(r,o),h&&!e&&!au(r)&&P1(cr(r),cr(t),i,a)),ml(t)){const{activeInputs:c}=ns(t);qm(t,c)}},fg=(r,e,t,i)=>{const[a,o]=gS(r,t,i);a!==null&&(l3(r,a),o&&!e&&!au(r)&&cr(r).disconnect(zf(t),i))},vS=(r,e)=>{const t=ns(r),i=[];for(const a of t.outputs)td(a)?hg(r,e,...a):fg(r,e,...a),i.push(a[0]);return t.outputs.clear(),i},bS=(r,e,t)=>{const i=ns(r),a=[];for(const o of i.outputs)o[1]===t&&(td(o)?hg(r,e,...o):fg(r,e,...o),a.push(o[0]),i.outputs.delete(o));return a},yS=(r,e,t,i,a)=>{const o=ns(r);return Array.from(o.outputs).filter(h=>h[0]===t&&(i===void 0||h[1]===i)&&(a===void 0||h[2]===a)).map(h=>(td(h)?hg(r,e,...h):fg(r,e,...h),o.outputs.delete(h),h[0]))},xS=(r,e,t,i,a,o,h,c,f,d,m,y,w,v,S,N)=>class extends d{constructor(C,V,j,R){super(j),this._context=C,this._nativeAudioNode=j;const I=m(C);y(I)&&t($v,()=>$v(I,N))!==!0&&dS(j),lg.set(this,j),t3.set(this,new Set),C.state!=="closed"&&V&&Ch(this),r(this,R,j)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,V=0,j=0){if(V<0||V>=this._nativeAudioNode.numberOfOutputs)throw a();const R=m(this._context),I=S(R);if(w(C)||v(C))throw o();if(q1(C)){const D=cr(C);try{const $=z1(this._nativeAudioNode,D,V,j),E=C1(this);(I||E)&&this._nativeAudioNode.disconnect(...$),this.context.state!=="closed"&&!E&&C1(C)&&Ch(C)}catch($){throw $.code===12?o():$}if(e(this,C,V,j,I)){const $=f([this],C);im($,i(I))}return C}const W=zf(C);if(W.name==="playbackRate"&&W.maxValue===1024)throw h();try{this._nativeAudioNode.connect(W,V),(I||C1(this))&&this._nativeAudioNode.disconnect(W,V)}catch(D){throw D.code===12?o():D}if(pS(this,C,V,I)){const D=f([this],C);im(D,i(I))}}disconnect(C,V,j){let R;const I=m(this._context),W=S(I);if(C===void 0)R=vS(this,W);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw a();R=bS(this,W,C)}else{if(V!==void 0&&(V<0||V>=this.numberOfOutputs)||q1(C)&&j!==void 0&&(j<0||j>=C.numberOfInputs))throw a();if(R=yS(this,W,C,V,j),R.length===0)throw o()}for(const P of R){const D=f([this],P);im(D,c)}}},_S=(r,e,t,i,a,o,h,c,f,d,m,y,w)=>(v,S,N,T=null,C=null)=>{const V=N.value,j=new M4(V),R=S?i(j):null,I={get defaultValue(){return V},get maxValue(){return T===null?N.maxValue:T},get minValue(){return C===null?N.minValue:C},get value(){return N.value},set value(W){N.value=W,I.setValueAtTime(W,v.context.currentTime)},cancelAndHoldAtTime(W){if(typeof N.cancelAndHoldAtTime=="function")R===null&&j.flush(v.context.currentTime),j.add(a(W)),N.cancelAndHoldAtTime(W);else{const P=Array.from(j).pop();R===null&&j.flush(v.context.currentTime),j.add(a(W));const D=Array.from(j).pop();N.cancelScheduledValues(W),P!==D&&D!==void 0&&(D.type==="exponentialRampToValue"?N.exponentialRampToValueAtTime(D.value,D.endTime):D.type==="linearRampToValue"?N.linearRampToValueAtTime(D.value,D.endTime):D.type==="setValue"?N.setValueAtTime(D.value,D.startTime):D.type==="setValueCurve"&&N.setValueCurveAtTime(D.values,D.startTime,D.duration))}return I},cancelScheduledValues(W){return R===null&&j.flush(v.context.currentTime),j.add(o(W)),N.cancelScheduledValues(W),I},exponentialRampToValueAtTime(W,P){if(W===0)throw new RangeError;if(!Number.isFinite(P)||P<0)throw new RangeError;const D=v.context.currentTime;return R===null&&j.flush(D),Array.from(j).length===0&&(j.add(d(V,D)),N.setValueAtTime(V,D)),j.add(h(W,P)),N.exponentialRampToValueAtTime(W,P),I},linearRampToValueAtTime(W,P){const D=v.context.currentTime;return R===null&&j.flush(D),Array.from(j).length===0&&(j.add(d(V,D)),N.setValueAtTime(V,D)),j.add(c(W,P)),N.linearRampToValueAtTime(W,P),I},setTargetAtTime(W,P,D){return R===null&&j.flush(v.context.currentTime),j.add(f(W,P,D)),N.setTargetAtTime(W,P,D),I},setValueAtTime(W,P){return R===null&&j.flush(v.context.currentTime),j.add(d(W,P)),N.setValueAtTime(W,P),I},setValueCurveAtTime(W,P,D){const F=W instanceof Float32Array?W:new Float32Array(W);if(y!==null&&y.name==="webkitAudioContext"){const $=P+D,E=v.context.sampleRate,B=Math.ceil(P*E),H=Math.floor($*E),Q=H-B,ue=new Float32Array(Q);for(let ie=0;ie<Q;ie+=1){const le=(F.length-1)/D*((B+ie)/E-P),fe=Math.floor(le),xe=Math.ceil(le);ue[ie]=fe===xe?F[fe]:(1-(le-fe))*F[fe]+(1-(xe-le))*F[xe]}R===null&&j.flush(v.context.currentTime),j.add(m(ue,P,D)),N.setValueCurveAtTime(ue,P,D);const J=H/E;J<$&&w(I,ue[ue.length-1],J),w(I,F[F.length-1],$)}else R===null&&j.flush(v.context.currentTime),j.add(m(F,P,D)),N.setValueCurveAtTime(F,P,D);return I}};return t.set(I,N),e.set(I,v),r(I,R),I},wS=r=>({replay(e){for(const t of r)if(t.type==="exponentialRampToValue"){const{endTime:i,value:a}=t;e.exponentialRampToValueAtTime(a,i)}else if(t.type==="linearRampToValue"){const{endTime:i,value:a}=t;e.linearRampToValueAtTime(a,i)}else if(t.type==="setTarget"){const{startTime:i,target:a,timeConstant:o}=t;e.setTargetAtTime(a,i,o)}else if(t.type==="setValue"){const{startTime:i,value:a}=t;e.setValueAtTime(a,i)}else if(t.type==="setValueCurve"){const{duration:i,startTime:a,values:o}=t;e.setValueCurveAtTime(o,a,i)}else throw new Error("Can't apply an unknown automation.")}});class u3{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((i,a)=>e.call(t,i,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const SS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},AS=(r,e,t,i,a,o,h,c,f,d,m,y,w,v)=>class extends e{constructor(N,T,C){var V;const j=c(N),R=f(j),I=m({...SS,...C});w(I);const W=Fm.get(j),P=W?.get(T),D=R||j.state!=="closed"?j:(V=h(j))!==null&&V!==void 0?V:j,F=a(D,R?null:N.baseLatency,d,T,P,I),$=R?i(T,I,P):null;super(N,!0,F,$);const E=[];F.parameters.forEach((H,Q)=>{const ue=t(this,R,H);E.push([Q,ue])}),this._nativeAudioWorkletNode=F,this._onprocessorerror=null,this._parameters=new u3(E),R&&r(j,this);const{activeInputs:B}=o(this);y(F,B)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(N){const T=typeof N=="function"?v(this,N):null;this._nativeAudioWorkletNode.onprocessorerror=T;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===T?N:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function H1(r,e,t,i,a){if(typeof r.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),r.copyFromChannel(e[t],i,a);else{const o=r.getChannelData(i);if(e[t].byteLength===0)e[t]=o.slice(a,a+128);else{const h=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(h)}}}const h3=(r,e,t,i,a)=>{typeof r.copyToChannel=="function"?e[t].byteLength!==0&&r.copyToChannel(e[t],i,a):e[t].byteLength!==0&&r.getChannelData(i).set(e[t],a)},G1=(r,e)=>{const t=[];for(let i=0;i<r;i+=1){const a=[],o=typeof e=="number"?e:e[i];for(let h=0;h<o;h+=1)a.push(new Float32Array(128));t.push(a)}return t},NS=(r,e)=>{const t=Qa(Bm,r),i=cr(e);return Qa(t,i)},CS=async(r,e,t,i,a,o,h)=>{const c=e===null?Math.ceil(r.context.length/128)*128:e.length,f=i.channelCount*i.numberOfInputs,d=a.reduce((T,C)=>T+C,0),m=d===0?null:t.createBuffer(d,c,t.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const y=ns(r),w=await NS(t,r),v=G1(i.numberOfInputs,i.channelCount),S=G1(i.numberOfOutputs,a),N=Array.from(r.parameters.keys()).reduce((T,C)=>({...T,[C]:new Float32Array(128)}),{});for(let T=0;T<c;T+=128){if(i.numberOfInputs>0&&e!==null)for(let C=0;C<i.numberOfInputs;C+=1)for(let V=0;V<i.channelCount;V+=1)H1(e,v[C],V,V,T);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:C},V)=>{H1(e,N,C,f+V,T)});for(let C=0;C<i.numberOfInputs;C+=1)for(let V=0;V<a[C];V+=1)S[C][V].byteLength===0&&(S[C][V]=new Float32Array(128));try{const C=v.map((j,R)=>y.activeInputs[R].size===0?[]:j),V=h(T/t.sampleRate,t.sampleRate,()=>w.process(C,S,N));if(m!==null)for(let j=0,R=0;j<i.numberOfOutputs;j+=1){for(let I=0;I<a[j];I+=1)h3(m,S[j],I,R+I,T);R+=a[j]}if(!V)break}catch(C){r.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return m},TS=(r,e,t,i,a,o,h,c,f,d,m,y,w,v,S,N)=>(T,C,V)=>{const j=new WeakMap;let R=null;const I=async(W,P)=>{let D=m(W),F=null;const $=Hi(D,P),E=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(y===null){const B=E.reduce((J,ie)=>J+ie,0),H=a(P,{channelCount:Math.max(1,B),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,B)}),Q=[];for(let J=0;J<W.numberOfOutputs;J+=1)Q.push(i(P,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:E[J]}));const ue=h(P,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});ue.connect=e.bind(null,Q),ue.disconnect=f.bind(null,Q),F=[H,Q,ue]}else $||(D=new y(P,T));if(j.set(P,F===null?D:F[2]),F!==null){if(R===null){if(V===void 0)throw new Error("Missing the processor constructor.");if(w===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ie=W.channelCount*W.numberOfInputs,le=V.parameterDescriptors===void 0?0:V.parameterDescriptors.length,fe=ie+le;R=CS(W,fe===0?null:await(async()=>{const X=new w(fe,Math.ceil(W.context.length/128)*128,P.sampleRate),k=[],U=[];for(let se=0;se<C.numberOfInputs;se+=1)k.push(h(X,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),U.push(a(X,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const ee=await Promise.all(Array.from(W.parameters.values()).map(async se=>{const me=o(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:se.value});return await v(X,se,me.offset),me})),re=i(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ie+le)});for(let se=0;se<C.numberOfInputs;se+=1){k[se].connect(U[se]);for(let me=0;me<C.channelCount;me+=1)U[se].connect(re,me,se*C.channelCount+me)}for(const[se,me]of ee.entries())me.connect(re,0,ie+se),me.start(0);return re.connect(X.destination),await Promise.all(k.map(se=>S(W,X,se))),N(X)})(),P,C,E,V,d)}const B=await R,H=t(P,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[Q,ue,J]=F;B!==null&&(H.buffer=B,H.start(0)),H.connect(Q);for(let ie=0,le=0;ie<W.numberOfOutputs;ie+=1){const fe=ue[ie];for(let xe=0;xe<E[ie];xe+=1)Q.connect(fe,le+xe,xe);le+=E[ie]}return J}if($)for(const[B,H]of W.parameters.entries())await r(P,H,D.parameters.get(B));else for(const[B,H]of W.parameters.entries())await v(P,H,D.parameters.get(B));return await S(W,P,D),D};return{render(W,P){c(P,W);const D=j.get(P);return D!==void 0?Promise.resolve(D):I(W,P)}}},ES=(r,e,t,i,a,o,h,c,f,d,m,y,w,v,S,N,T,C,V,j)=>class extends S{constructor(I,W){super(I,W),this._nativeContext=I,this._audioWorklet=r===void 0?void 0:{addModule:(P,D)=>r(this,P,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(I,W,P){return new t({length:W,numberOfChannels:I,sampleRate:P})}createBufferSource(){return new i(this)}createChannelMerger(I=6){return new o(this,{numberOfInputs:I})}createChannelSplitter(I=6){return new h(this,{numberOfOutputs:I})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(I=1){return new m(this,{maxDelayTime:I})}createDynamicsCompressor(){return new y(this)}createGain(){return new w(this)}createIIRFilter(I,W){return new v(this,{feedback:W,feedforward:I})}createOscillator(){return new N(this)}createPanner(){return new T(this)}createPeriodicWave(I,W,P={disableNormalization:!1}){return new C(this,{...P,imag:W,real:I})}createStereoPanner(){return new V(this)}createWaveShaper(){return new j(this)}decodeAudioData(I,W,P){return d(this._nativeContext,I).then(D=>(typeof W=="function"&&W(D),D),D=>{throw typeof P=="function"&&P(D),D})}},kS={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},OS=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),w={...kS,...m},v=a(y,w),S=h(y),N=S?t():null;super(d,!1,v,N),this._Q=e(this,S,v.Q,ts,Cs),this._detune=e(this,S,v.detune,1200*Math.log2(ts),-1200*Math.log2(ts)),this._frequency=e(this,S,v.frequency,d.sampleRate/2,0),this._gain=e(this,S,v.gain,40*Math.log10(ts),Cs),this._nativeBiquadFilterNode=v,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,m,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,m,y)}catch(w){throw w.code===11?i():w}if(d.length!==m.length||m.length!==y.length)throw i()}},MS=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Hi(d,f);if(!m){const y={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=e(f,y)}return o.set(f,d),m?(await r(f,c.Q,d.Q),await r(f,c.detune,d.detune),await r(f,c.frequency,d.frequency),await r(f,c.gain,d.gain)):(await i(f,c.Q,d.Q),await i(f,c.detune,d.detune),await i(f,c.frequency,d.frequency),await i(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},LS=(r,e)=>(t,i)=>{const a=e.get(t);if(a!==void 0)return a;const o=r.get(t);if(o!==void 0)return o;try{const h=i();return h instanceof Promise?(r.set(t,h),h.catch(()=>!1).then(c=>(r.delete(t),e.set(t,c),c))):(e.set(t,h),h)}catch{return e.set(t,!1),!1}},DS={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},jS=(r,e,t,i,a)=>class extends r{constructor(h,c){const f=i(h),d={...DS,...c},m=t(f,d),y=a(f)?e():null;super(h,!1,m,y)}},RS=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Hi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=r(h,d)}return i.set(h,c),await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},IS={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},VS=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=i(c),m=o({...IS,...f}),y=t(d,m),w=a(d)?e():null;super(c,!1,y,w)}},FS=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Hi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=r(h,d)}return i.set(h,c),await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},BS=r=>(e,t,i)=>r(t,e,i),qS=r=>(e,t,i=0,a=0)=>{const o=e[i];if(o===void 0)throw r();return U1(t)?o.connect(t,0,a):o.connect(t,0)},zS=r=>(e,t)=>{const i=r(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return i.buffer=a,i.loop=!0,i.connect(t),i.start(),()=>{i.stop(),i.disconnect(t)}},PS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},US=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...PS,...d},w=i(m,y),v=o(m),S=v?t():null;super(f,!1,w,S),this._constantSourceNodeRenderer=S,this._nativeConstantSourceNode=w,this._offset=e(this,v,w.offset,ts,Cs),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeConstantSourceNode.onended=d;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===d?f:m}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Ch(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),ml(this)&&Jf(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},HS=(r,e,t,i,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let y=t(d);const w=Hi(y,m);if(!w){const v={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=e(m,v),h!==null&&y.start(h),c!==null&&y.stop(c)}return o.set(m,y),w?await r(m,d.offset,y.offset):await i(m,d.offset,y.offset),await a(d,m,y),y};return{set start(d){h=d},set stop(d){c=d},render(d,m){const y=o.get(m);return y!==void 0?Promise.resolve(y):f(d,m)}}},GS=r=>e=>(r[0]=e,r[0]),YS={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},WS=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=i(c),m={...YS,...f},y=t(d,m),v=a(d)?e():null;super(c,!1,y,v),this._isBufferNullified=!1,this._nativeConvolverNode=y,m.buffer!==null&&o(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},XS=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Hi(c,h)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=r(h,d)}return i.set(h,c),kh(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},ZS=(r,e)=>(t,i,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,i,a)}catch(o){throw o.name==="SyntaxError"?r():o}},$S=()=>new DOMException("","DataCloneError"),Kv=r=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(i=>{const a=()=>{t.onmessage=null,e.close(),t.close(),i()};t.onmessage=()=>a();try{e.postMessage(r,[r])}catch{}finally{a()}})},KS=(r,e,t,i,a,o,h,c,f,d,m)=>(y,w)=>{const v=h(y)?y:o(y);if(a.has(w)){const S=t();return Promise.reject(S)}try{a.add(w)}catch{}return e(f,()=>f(v))?v.decodeAudioData(w).then(S=>(Kv(w).catch(()=>{}),e(c,()=>c(S))||m(S),r.add(S),S)):new Promise((S,N)=>{const T=async()=>{try{await Kv(w)}catch{}},C=V=>{N(V),T()};try{v.decodeAudioData(w,V=>{typeof V.copyFromChannel!="function"&&(d(V),ug(V)),r.add(V),T().then(()=>S(V))},V=>{C(V===null?i():V)})}catch(V){C(V)}})},QS=(r,e,t,i,a,o,h,c)=>(f,d)=>{const m=e.get(f);if(m===void 0)throw new Error("Missing the expected cycle count.");const y=o(f.context),w=c(y);if(m===d){if(e.delete(f),!w&&h(f)){const v=i(f),{outputs:S}=t(f);for(const N of S)if(td(N)){const T=i(N[0]);r(v,T,N[1],N[2])}else{const T=a(N[0]);v.connect(T,N[1])}}}else e.set(f,m-d)},JS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},e6=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...JS,...d},w=i(m,y),v=o(m),S=v?t(y.maxDelayTime):null;super(f,!1,w,S),this._delayTime=e(this,v,w.delayTime),h(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},t6=(r,e,t,i,a)=>o=>{const h=new WeakMap,c=async(f,d)=>{let m=t(f);const y=Hi(m,d);if(!y){const w={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:o};m=e(d,w)}return h.set(d,m),y?await r(d,f.delayTime,m.delayTime):await i(d,f.delayTime,m.delayTime),await a(f,d,m),m};return{render(f,d){const m=h.get(d);return m!==void 0?Promise.resolve(m):c(f,d)}}},n6=r=>(e,t,i,a)=>r(e[a],o=>o[0]===t&&o[1]===i),r6=r=>(e,t)=>{r(e).delete(t)},i6=r=>"delayTime"in r,s6=(r,e,t)=>function i(a,o){const h=q1(o)?o:t(r,o);if(i6(h))return[];if(a[0]===h)return[a];if(a.includes(h))return[];const{outputs:c}=e(h);return Array.from(c).map(f=>i([...a,h],f[0])).reduce((f,d)=>f.concat(d),[])},u1=(r,e,t)=>{const i=e[t];if(i===void 0)throw r();return i},a6=r=>(e,t=void 0,i=void 0,a=0)=>t===void 0?e.forEach(o=>o.disconnect()):typeof t=="number"?u1(r,e,t).disconnect():U1(t)?i===void 0?e.forEach(o=>o.disconnect(t)):a===void 0?u1(r,e,i).disconnect(t,0):u1(r,e,i).disconnect(t,0,a):i===void 0?e.forEach(o=>o.disconnect(t)):u1(r,e,i).disconnect(t,0),o6={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},l6=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),w={...o6,...m},v=i(y,w),S=h(y),N=S?t():null;super(d,!1,v,N),this._attack=e(this,S,v.attack),this._knee=e(this,S,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=e(this,S,v.ratio),this._release=e(this,S,v.release),this._threshold=e(this,S,v.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=m,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},c6=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Hi(d,f);if(!m){const y={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=e(f,y)}return o.set(f,d),m?(await r(f,c.attack,d.attack),await r(f,c.knee,d.knee),await r(f,c.ratio,d.ratio),await r(f,c.release,d.release),await r(f,c.threshold,d.threshold)):(await i(f,c.attack,d.attack),await i(f,c.knee,d.knee),await i(f,c.ratio,d.ratio),await i(f,c.release,d.release),await i(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},u6=()=>new DOMException("","EncodingError"),h6=r=>e=>new Promise((t,i)=>{if(r===null){i(new SyntaxError);return}const a=r.document.head;if(a===null)i(new SyntaxError);else{const o=r.document.createElement("script"),h=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(h),f=r.onerror,d=()=>{r.onerror=f,URL.revokeObjectURL(c)};r.onerror=(m,y,w,v,S)=>{if(y===c||y===r.location.href&&w===1&&v===1)return d(),i(S),!1;if(f!==null)return f(m,y,w,v,S)},o.onerror=()=>{d(),i(new SyntaxError)},o.onload=()=>{d(),t()},o.src=c,o.type="module",a.appendChild(o)}}),f6=r=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,i,a){if(i!==null){let o=this._listeners.get(i);o===void 0&&(o=r(this,i),typeof i=="function"&&this._listeners.set(i,o)),this._nativeEventTarget.addEventListener(t,o,a)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,i,a){const o=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,a)}},d6=r=>(e,t,i)=>{Object.defineProperties(r,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return i()}finally{r!==null&&(delete r.currentFrame,delete r.currentTime)}},p6=r=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw r()},m6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},g6=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...m6,...f},y=i(d,m),w=o(d),v=w?t():null;super(c,!1,y,v),this._gain=e(this,w,y.gain,ts,Cs)}get gain(){return this._gain}},v6=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Hi(d,f);if(!m){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=e(f,y)}return o.set(f,d),m?await r(f,c.gain,d.gain):await i(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},b6=(r,e)=>t=>e(r,t),y6=r=>e=>{const t=r(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},x6=r=>e=>{var t;return(t=r.get(e))!==null&&t!==void 0?t:0},_6=r=>e=>{const t=r(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},w6=r=>e=>r.get(e),xi=()=>new DOMException("","InvalidStateError"),S6=r=>e=>{const t=r.get(e);if(t===void 0)throw xi();return t},A6=(r,e)=>t=>{let i=r.get(t);if(i!==void 0)return i;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),r.set(t,i),i},N6=r=>e=>{const t=r.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},dp=()=>new DOMException("","InvalidAccessError"),C6=r=>{r.getFrequencyResponse=(e=>(t,i,a)=>{if(t.length!==i.length||i.length!==a.length)throw dp();return e.call(r,t,i,a)})(r.getFrequencyResponse)},T6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},E6=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=i(c),m=a(d),y={...T6,...f},w=e(d,m?null:c.baseLatency,y),v=m?t(y.feedback,y.feedforward):null;super(c,!1,w,v),C6(w),this._nativeIIRFilterNode=w,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},f3=(r,e,t,i,a,o,h,c,f,d,m)=>{const y=d.length;let w=c;for(let v=0;v<y;v+=1){let S=t[0]*d[v];for(let N=1;N<a;N+=1){const T=w-N&f-1;S+=t[N]*o[T],S-=r[N]*h[T]}for(let N=a;N<i;N+=1)S+=t[N]*o[w-N&f-1];for(let N=a;N<e;N+=1)S-=r[N]*h[w-N&f-1];o[w]=d[v],h[w]=S,w=w+1&f-1,m[v]=S}return w},k6=(r,e,t,i)=>{const a=t instanceof Float64Array?t:new Float64Array(t),o=i instanceof Float64Array?i:new Float64Array(i),h=a.length,c=o.length,f=Math.min(h,c);if(a[0]!==1){for(let S=0;S<h;S+=1)o[S]/=a[0];for(let S=1;S<c;S+=1)a[S]/=a[0]}const d=32,m=new Float32Array(d),y=new Float32Array(d),w=e.createBuffer(r.numberOfChannels,r.length,r.sampleRate),v=r.numberOfChannels;for(let S=0;S<v;S+=1){const N=r.getChannelData(S),T=w.getChannelData(S);m.fill(0),y.fill(0),f3(a,h,o,c,f,m,y,0,d,N,T)}return w},O6=(r,e,t,i,a)=>(o,h)=>{const c=new WeakMap;let f=null;const d=async(m,y)=>{let w=null,v=e(m);const S=Hi(v,y);if(y.createIIRFilter===void 0?w=r(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):S||(v=y.createIIRFilter(h,o)),c.set(y,w===null?v:w),w!==null){if(f===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const T=new t(m.context.destination.channelCount,m.context.length,y.sampleRate);f=(async()=>{await i(m,T,T.destination);const C=await a(T);return k6(C,y,o,h)})()}const N=await f;return w.buffer=N,w.start(0),w}return await i(m,y,v),v};return{render(m,y){const w=c.get(y);return w!==void 0?Promise.resolve(w):d(m,y)}}},M6=(r,e,t,i,a,o)=>h=>(c,f)=>{const d=r.get(c);if(d===void 0){if(!h&&o(c)){const m=i(c),{outputs:y}=t(c);for(const w of y)if(td(w)){const v=i(w[0]);e(m,v,w[1],w[2])}else{const v=a(w[0]);m.disconnect(v,w[1])}}r.set(c,f)}else r.set(c,d+f)},L6=(r,e)=>t=>{const i=r.get(t);return e(i)||e(t)},D6=(r,e)=>t=>r.has(t)||e(t),j6=(r,e)=>t=>r.has(t)||e(t),R6=(r,e)=>t=>{const i=r.get(t);return e(i)||e(t)},I6=r=>e=>r!==null&&e instanceof r,V6=r=>e=>r!==null&&typeof r.AudioNode=="function"&&e instanceof r.AudioNode,F6=r=>e=>r!==null&&typeof r.AudioParam=="function"&&e instanceof r.AudioParam,B6=(r,e)=>t=>r(t)||e(t),q6=r=>e=>r!==null&&e instanceof r,z6=r=>r!==null&&r.isSecureContext,P6=(r,e,t,i)=>class extends r{constructor(o,h){const c=t(o),f=e(c,h);if(i(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},U6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},H6=(r,e,t,i)=>class extends r{constructor(o,h){const c=t(o);if(i(c))throw new TypeError;const f={...U6,...h},d=e(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},G6=(r,e,t,i)=>class extends r{constructor(o,h){const c=t(o),f=e(c,h);if(i(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},Y6=(r,e,t)=>class extends r{constructor(a,o){const h=t(a),c=e(h,o);super(a,!0,c,null)}},W6=(r,e,t,i,a,o)=>class extends t{constructor(c,f){super(c),this._nativeContext=c,hp.set(this,c),i(c)&&a.set(c,new Set),this._destination=new r(this,f),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Pf=r=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=r.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},X6=(r,e)=>(t,i,a)=>{const o=new Set;return t.connect=(h=>(c,f=0,d=0)=>{const m=o.size===0;if(e(c))return h.call(t,c,f,d),r(o,[c,f,d],y=>y[0]===c&&y[1]===f&&y[2]===d,!0),m&&i(),c;h.call(t,c,f),r(o,[c,f],y=>y[0]===c&&y[1]===f,!0),m&&i()})(t.connect),t.disconnect=(h=>(c,f,d)=>{const m=o.size>0;if(c===void 0)h.apply(t),o.clear();else if(typeof c=="number"){h.call(t,c);for(const w of o)w[1]===c&&o.delete(w)}else{e(c)?h.call(t,c,f,d):h.call(t,c,f);for(const w of o)w[0]===c&&(f===void 0||w[1]===f)&&(d===void 0||w[2]===d)&&o.delete(w)}const y=o.size===0;m&&y&&a()})(t.disconnect),t},vr=(r,e,t)=>{const i=e[t];i!==void 0&&i!==r[t]&&(r[t]=i)},hi=(r,e)=>{vr(r,e,"channelCount"),vr(r,e,"channelCountMode"),vr(r,e,"channelInterpretation")},Qv=r=>typeof r.getFloatTimeDomainData=="function",Z6=r=>{r.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);r.getByteTimeDomainData(t);const i=Math.max(t.length,r.fftSize);for(let a=0;a<i;a+=1)e[a]=(t[a]-128)*.0078125;return e}},$6=(r,e)=>(t,i)=>{const a=t.createAnalyser();if(hi(a,i),!(i.maxDecibels>i.minDecibels))throw e();return vr(a,i,"fftSize"),vr(a,i,"maxDecibels"),vr(a,i,"minDecibels"),vr(a,i,"smoothingTimeConstant"),r(Qv,()=>Qv(a))||Z6(a),a},K6=r=>r===null?null:r.hasOwnProperty("AudioBuffer")?r.AudioBuffer:null,jr=(r,e,t)=>{const i=e[t];i!==void 0&&i!==r[t].value&&(r[t].value=i)},Q6=r=>{r.start=(e=>{let t=!1;return(i=0,a=0,o)=>{if(t)throw xi();e.call(r,i,a,o),t=!0}})(r.start)},dg=r=>{r.start=(e=>(t=0,i=0,a)=>{if(typeof a=="number"&&a<0||i<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(r,t,i,a)})(r.start)},pg=r=>{r.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(r,t)})(r.stop)},J6=(r,e,t,i,a,o,h,c,f,d,m)=>(y,w)=>{const v=y.createBufferSource();return hi(v,w),jr(v,w,"playbackRate"),vr(v,w,"buffer"),vr(v,w,"loop"),vr(v,w,"loopEnd"),vr(v,w,"loopStart"),e(t,()=>t(y))||Q6(v),e(i,()=>i(y))||f(v),e(a,()=>a(y))||d(v,y),e(o,()=>o(y))||dg(v),e(h,()=>h(y))||m(v,y),e(c,()=>c(y))||pg(v),r(y,v),v},eA=r=>r===null?null:r.hasOwnProperty("AudioContext")?r.AudioContext:r.hasOwnProperty("webkitAudioContext")?r.webkitAudioContext:null,tA=(r,e)=>(t,i,a)=>{const o=t.destination;if(o.channelCount!==i)try{o.channelCount=i}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:i});const h=r(t,{channelCount:i,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(h,"channelCount",c=>()=>c.call(h),c=>f=>{c.call(h,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),e(h,"channelCountMode",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelCountMode=f}),e(h,"channelInterpretation",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelInterpretation=f}),Object.defineProperty(h,"maxChannelCount",{get:()=>o.maxChannelCount}),h.connect(o),h},nA=r=>r===null?null:r.hasOwnProperty("AudioWorkletNode")?r.AudioWorkletNode:null,rA=r=>{const{port1:e}=new MessageChannel;try{e.postMessage(r)}finally{e.close()}},iA=(r,e,t,i,a)=>(o,h,c,f,d,m)=>{if(c!==null)try{const y=new c(o,f,m),w=new Map;let v=null;if(Object.defineProperties(y,{channelCount:{get:()=>m.channelCount,set:()=>{throw r()}},channelCountMode:{get:()=>"explicit",set:()=>{throw r()}},onprocessorerror:{get:()=>v,set:S=>{typeof v=="function"&&y.removeEventListener("processorerror",v),v=typeof S=="function"?S:null,typeof v=="function"&&y.addEventListener("processorerror",v)}}}),y.addEventListener=(S=>(...N)=>{if(N[0]==="processorerror"){const T=typeof N[1]=="function"?N[1]:typeof N[1]=="object"&&N[1]!==null&&typeof N[1].handleEvent=="function"?N[1].handleEvent:null;if(T!==null){const C=w.get(N[1]);C!==void 0?N[1]=C:(N[1]=V=>{V.type==="error"?(Object.defineProperties(V,{type:{value:"processorerror"}}),T(V)):T(new ErrorEvent(N[0],{...V}))},w.set(T,N[1]))}}return S.call(y,"error",N[1],N[2]),S.call(y,...N)})(y.addEventListener),y.removeEventListener=(S=>(...N)=>{if(N[0]==="processorerror"){const T=w.get(N[1]);T!==void 0&&(w.delete(N[1]),N[1]=T)}return S.call(y,"error",N[1],N[2]),S.call(y,N[0],N[1],N[2])})(y.removeEventListener),m.numberOfOutputs!==0){const S=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(S).connect(o.destination),a(y,()=>S.disconnect(),()=>S.connect(o.destination))}return y}catch(y){throw y.code===11?i():y}if(d===void 0)throw i();return rA(m),e(o,h,d,m)},d3=(r,e)=>r===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(r*e))))),sA=r=>new Promise((e,t)=>{const{port1:i,port2:a}=new MessageChannel;i.onmessage=({data:o})=>{i.close(),a.close(),e(o)},i.onmessageerror=({data:o})=>{i.close(),a.close(),t(o)},a.postMessage(r)}),aA=async(r,e)=>{const t=await sA(e);return new r(t)},oA=(r,e,t,i)=>{let a=Bm.get(r);a===void 0&&(a=new WeakMap,Bm.set(r,a));const o=aA(t,i);return a.set(e,o),o},lA=(r,e,t,i,a,o,h,c,f,d,m,y,w)=>(v,S,N,T)=>{if(T.numberOfInputs===0&&T.numberOfOutputs===0)throw f();const C=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(C.some(G=>G<1))throw f();if(C.length!==T.numberOfOutputs)throw e();if(T.channelCountMode!=="explicit")throw f();const V=T.channelCount*T.numberOfInputs,j=C.reduce((G,je)=>G+je,0),R=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length;if(V+R>6||j>6)throw f();const I=new MessageChannel,W=[],P=[];for(let G=0;G<T.numberOfInputs;G+=1)W.push(h(v,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),P.push(a(v,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const D=[];if(N.parameterDescriptors!==void 0)for(const{defaultValue:G,maxValue:je,minValue:rt,name:Ze}of N.parameterDescriptors){const Ee=o(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:T.parameterData[Ze]!==void 0?T.parameterData[Ze]:G===void 0?0:G});Object.defineProperties(Ee.offset,{defaultValue:{get:()=>G===void 0?0:G},maxValue:{get:()=>je===void 0?ts:je},minValue:{get:()=>rt===void 0?Cs:rt}}),D.push(Ee)}const F=i(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,V+R)}),$=d3(S,v.sampleRate),E=c(v,$,V+R,Math.max(1,j)),B=a(v,{channelCount:Math.max(1,j),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,j)}),H=[];for(let G=0;G<T.numberOfOutputs;G+=1)H.push(i(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[G]}));for(let G=0;G<T.numberOfInputs;G+=1){W[G].connect(P[G]);for(let je=0;je<T.channelCount;je+=1)P[G].connect(F,je,G*T.channelCount+je)}const Q=new u3(N.parameterDescriptors===void 0?[]:N.parameterDescriptors.map(({name:G},je)=>{const rt=D[je];return rt.connect(F,0,V+je),rt.start(0),[G,rt.offset]}));F.connect(E);let ue=T.channelInterpretation,J=null;const ie=T.numberOfOutputs===0?[E]:H,le={get bufferSize(){return $},get channelCount(){return T.channelCount},set channelCount(G){throw t()},get channelCountMode(){return T.channelCountMode},set channelCountMode(G){throw t()},get channelInterpretation(){return ue},set channelInterpretation(G){for(const je of W)je.channelInterpretation=G;ue=G},get context(){return E.context},get inputs(){return W},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get onprocessorerror(){return J},set onprocessorerror(G){typeof J=="function"&&le.removeEventListener("processorerror",J),J=typeof G=="function"?G:null,typeof J=="function"&&le.addEventListener("processorerror",J)},get parameters(){return Q},get port(){return I.port2},addEventListener(...G){return E.addEventListener(G[0],G[1],G[2])},connect:r.bind(null,ie),disconnect:d.bind(null,ie),dispatchEvent(...G){return E.dispatchEvent(G[0])},removeEventListener(...G){return E.removeEventListener(G[0],G[1],G[2])}},fe=new Map;I.port1.addEventListener=(G=>(...je)=>{if(je[0]==="message"){const rt=typeof je[1]=="function"?je[1]:typeof je[1]=="object"&&je[1]!==null&&typeof je[1].handleEvent=="function"?je[1].handleEvent:null;if(rt!==null){const Ze=fe.get(je[1]);Ze!==void 0?je[1]=Ze:(je[1]=Ee=>{m(v.currentTime,v.sampleRate,()=>rt(Ee))},fe.set(rt,je[1]))}}return G.call(I.port1,je[0],je[1],je[2])})(I.port1.addEventListener),I.port1.removeEventListener=(G=>(...je)=>{if(je[0]==="message"){const rt=fe.get(je[1]);rt!==void 0&&(fe.delete(je[1]),je[1]=rt)}return G.call(I.port1,je[0],je[1],je[2])})(I.port1.removeEventListener);let xe=null;Object.defineProperty(I.port1,"onmessage",{get:()=>xe,set:G=>{typeof xe=="function"&&I.port1.removeEventListener("message",xe),xe=typeof G=="function"?G:null,typeof xe=="function"&&(I.port1.addEventListener("message",xe),I.port1.start())}}),N.prototype.port=I.port1;let X=null;oA(v,le,N,T).then(G=>X=G);const U=G1(T.numberOfInputs,T.channelCount),ee=G1(T.numberOfOutputs,C),re=N.parameterDescriptors===void 0?[]:N.parameterDescriptors.reduce((G,{name:je})=>({...G,[je]:new Float32Array(128)}),{});let se=!0;const me=()=>{T.numberOfOutputs>0&&E.disconnect(B);for(let G=0,je=0;G<T.numberOfOutputs;G+=1){const rt=H[G];for(let Ze=0;Ze<C[G];Ze+=1)B.disconnect(rt,je+Ze,Ze);je+=C[G]}},de=new Map;E.onaudioprocess=({inputBuffer:G,outputBuffer:je})=>{if(X!==null){const rt=y(le);for(let Ze=0;Ze<$;Ze+=128){for(let Ee=0;Ee<T.numberOfInputs;Ee+=1)for(let tt=0;tt<T.channelCount;tt+=1)H1(G,U[Ee],tt,tt,Ze);N.parameterDescriptors!==void 0&&N.parameterDescriptors.forEach(({name:Ee},tt)=>{H1(G,re,Ee,V+tt,Ze)});for(let Ee=0;Ee<T.numberOfInputs;Ee+=1)for(let tt=0;tt<C[Ee];tt+=1)ee[Ee][tt].byteLength===0&&(ee[Ee][tt]=new Float32Array(128));try{const Ee=U.map((nt,ot)=>{if(rt[ot].size>0)return de.set(ot,$/128),nt;const Tt=de.get(ot);return Tt===void 0?[]:(nt.every(Ye=>Ye.every(et=>et===0))&&(Tt===1?de.delete(ot):de.set(ot,Tt-1)),nt)});se=m(v.currentTime+Ze/v.sampleRate,v.sampleRate,()=>X.process(Ee,ee,re));for(let nt=0,ot=0;nt<T.numberOfOutputs;nt+=1){for(let ut=0;ut<C[nt];ut+=1)h3(je,ee[nt],ut,ot+ut,Ze);ot+=C[nt]}}catch(Ee){se=!1,le.dispatchEvent(new ErrorEvent("processorerror",{colno:Ee.colno,filename:Ee.filename,lineno:Ee.lineno,message:Ee.message}))}if(!se){for(let Ee=0;Ee<T.numberOfInputs;Ee+=1){W[Ee].disconnect(P[Ee]);for(let tt=0;tt<T.channelCount;tt+=1)P[Ze].disconnect(F,tt,Ee*T.channelCount+tt)}if(N.parameterDescriptors!==void 0){const Ee=N.parameterDescriptors.length;for(let tt=0;tt<Ee;tt+=1){const nt=D[tt];nt.disconnect(F,0,V+tt),nt.stop()}}F.disconnect(E),E.onaudioprocess=null,_e?me():qe();break}}}};let _e=!1;const Ne=h(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ce=()=>E.connect(Ne).connect(v.destination),qe=()=>{E.disconnect(Ne),Ne.disconnect()},We=()=>{if(se){qe(),T.numberOfOutputs>0&&E.connect(B);for(let G=0,je=0;G<T.numberOfOutputs;G+=1){const rt=H[G];for(let Ze=0;Ze<C[G];Ze+=1)B.connect(rt,je+Ze,Ze);je+=C[G]}}_e=!0},Qe=()=>{se&&(Ce(),me()),_e=!1};return Ce(),w(le,We,Qe)},p3=(r,e)=>{const t=r.createBiquadFilter();return hi(t,e),jr(t,e,"Q"),jr(t,e,"detune"),jr(t,e,"frequency"),jr(t,e,"gain"),vr(t,e,"type"),t},cA=(r,e)=>(t,i)=>{const a=t.createChannelMerger(i.numberOfInputs);return r!==null&&r.name==="webkitAudioContext"&&e(t,a),hi(a,i),a},uA=r=>{const e=r.numberOfOutputs;Object.defineProperty(r,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw xi()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw xi()}}),Object.defineProperty(r,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw xi()}})},nd=(r,e)=>{const t=r.createChannelSplitter(e.numberOfOutputs);return hi(t,e),uA(t),t},hA=(r,e,t,i,a)=>(o,h)=>{if(o.createConstantSource===void 0)return t(o,h);const c=o.createConstantSource();return hi(c,h),jr(c,h,"offset"),e(i,()=>i(o))||dg(c),e(a,()=>a(o))||pg(c),r(o,c),c},Oh=(r,e)=>(r.connect=e.connect.bind(e),r.disconnect=e.disconnect.bind(e),r),fA=(r,e,t,i)=>(a,{offset:o,...h})=>{const c=a.createBuffer(1,2,44100),f=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t(a,{...h,gain:o}),m=c.getChannelData(0);m[0]=1,m[1]=1,f.buffer=c,f.loop=!0;const y={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(S){d.channelCount=S},get channelCountMode(){return d.channelCountMode},set channelCountMode(S){d.channelCountMode=S},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(S){d.channelInterpretation=S},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(S){f.onended=S},addEventListener(...S){return f.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return f.dispatchEvent(S[0])},removeEventListener(...S){return f.removeEventListener(S[0],S[1],S[2])},start(S=0){f.start.call(f,S)},stop(S=0){f.stop.call(f,S)}},w=()=>f.connect(d),v=()=>f.disconnect(d);return r(a,f),i(Oh(y,d),w,v)},dA=(r,e)=>(t,i)=>{const a=t.createConvolver();if(hi(a,i),i.disableNormalization===a.normalize&&(a.normalize=!i.disableNormalization),vr(a,i,"buffer"),i.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>h=>{if(h>2)throw r();return o.call(a,h)}),i.channelCountMode==="max"))throw r();return e(a,"channelCountMode",o=>()=>o.call(a),o=>h=>{if(h==="max")throw r();return o.call(a,h)}),a},m3=(r,e)=>{const t=r.createDelay(e.maxDelayTime);return hi(t,e),jr(t,e,"delayTime"),t},pA=r=>(e,t)=>{const i=e.createDynamicsCompressor();if(hi(i,t),t.channelCount>2||t.channelCountMode==="max")throw r();return jr(i,t,"attack"),jr(i,t,"knee"),jr(i,t,"ratio"),jr(i,t,"release"),jr(i,t,"threshold"),i},Es=(r,e)=>{const t=r.createGain();return hi(t,e),jr(t,e,"gain"),t},mA=r=>(e,t,i)=>{if(e.createIIRFilter===void 0)return r(e,t,i);const a=e.createIIRFilter(i.feedforward,i.feedback);return hi(a,i),a};function gA(r,e){const t=e[0]*e[0]+e[1]*e[1];return[(r[0]*e[0]+r[1]*e[1])/t,(r[1]*e[0]-r[0]*e[1])/t]}function vA(r,e){return[r[0]*e[0]-r[1]*e[1],r[0]*e[1]+r[1]*e[0]]}function Jv(r,e){let t=[0,0];for(let i=r.length-1;i>=0;i-=1)t=vA(t,e),t[0]+=r[i];return t}const bA=(r,e,t,i)=>(a,o,{channelCount:h,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:m})=>{const y=d3(o,a.sampleRate),w=d instanceof Float64Array?d:new Float64Array(d),v=m instanceof Float64Array?m:new Float64Array(m),S=w.length,N=v.length,T=Math.min(S,N);if(S===0||S>20)throw i();if(w[0]===0)throw e();if(N===0||N>20)throw i();if(v[0]===0)throw e();if(w[0]!==1){for(let D=0;D<N;D+=1)v[D]/=w[0];for(let D=1;D<S;D+=1)w[D]/=w[0]}const C=t(a,y,h,h);C.channelCount=h,C.channelCountMode=c,C.channelInterpretation=f;const V=32,j=[],R=[],I=[];for(let D=0;D<h;D+=1){j.push(0);const F=new Float32Array(V),$=new Float32Array(V);F.fill(0),$.fill(0),R.push(F),I.push($)}C.onaudioprocess=D=>{const F=D.inputBuffer,$=D.outputBuffer,E=F.numberOfChannels;for(let B=0;B<E;B+=1){const H=F.getChannelData(B),Q=$.getChannelData(B);j[B]=f3(w,S,v,N,T,R[B],I[B],j[B],V,H,Q)}};const W=a.sampleRate/2;return Oh({get bufferSize(){return y},get channelCount(){return C.channelCount},set channelCount(D){C.channelCount=D},get channelCountMode(){return C.channelCountMode},set channelCountMode(D){C.channelCountMode=D},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(D){C.channelInterpretation=D},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...D){return C.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return C.dispatchEvent(D[0])},getFrequencyResponse(D,F,$){if(D.length!==F.length||F.length!==$.length)throw r();const E=D.length;for(let B=0;B<E;B+=1){const H=-Math.PI*(D[B]/W),Q=[Math.cos(H),Math.sin(H)],ue=Jv(v,Q),J=Jv(w,Q),ie=gA(ue,J);F[B]=Math.sqrt(ie[0]*ie[0]+ie[1]*ie[1]),$[B]=Math.atan2(ie[1],ie[0])}},removeEventListener(...D){return C.removeEventListener(D[0],D[1],D[2])}},C)},yA=(r,e)=>r.createMediaElementSource(e.mediaElement),xA=(r,e)=>{const t=r.createMediaStreamDestination();return hi(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},_A=(r,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((o,h)=>o.id<h.id?-1:o.id>h.id?1:0);const i=t.slice(0,1),a=r.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(a,"mediaStream",{value:e}),a},wA=(r,e)=>(t,{mediaStreamTrack:i})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(i);const a=new MediaStream([i]),o=t.createMediaStreamSource(a);if(i.kind!=="audio")throw r();if(e(t))throw new TypeError;return o},SA=r=>r===null?null:r.hasOwnProperty("OfflineAudioContext")?r.OfflineAudioContext:r.hasOwnProperty("webkitOfflineAudioContext")?r.webkitOfflineAudioContext:null,AA=(r,e,t,i,a,o)=>(h,c)=>{const f=h.createOscillator();return hi(f,c),jr(f,c,"detune"),jr(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):vr(f,c,"type"),e(t,()=>t(h))||dg(f),e(i,()=>i(h))||o(f,h),e(a,()=>a(h))||pg(f),r(h,f),f},NA=r=>(e,t)=>{const i=e.createPanner();return i.orientationX===void 0?r(e,t):(hi(i,t),jr(i,t,"orientationX"),jr(i,t,"orientationY"),jr(i,t,"orientationZ"),jr(i,t,"positionX"),jr(i,t,"positionY"),jr(i,t,"positionZ"),vr(i,t,"coneInnerAngle"),vr(i,t,"coneOuterAngle"),vr(i,t,"coneOuterGain"),vr(i,t,"distanceModel"),vr(i,t,"maxDistance"),vr(i,t,"panningModel"),vr(i,t,"refDistance"),vr(i,t,"rolloffFactor"),i)},CA=(r,e,t,i,a,o,h,c,f,d)=>(m,{coneInnerAngle:y,coneOuterAngle:w,coneOuterGain:v,distanceModel:S,maxDistance:N,orientationX:T,orientationY:C,orientationZ:V,panningModel:j,positionX:R,positionY:I,positionZ:W,refDistance:P,rolloffFactor:D,...F})=>{const $=m.createPanner();if(F.channelCount>2||F.channelCountMode==="max")throw h();hi($,F);const E={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},B=t(m,{...E,channelInterpretation:"speakers",numberOfInputs:6}),H=i(m,{...F,gain:1}),Q=i(m,{...E,gain:1}),ue=i(m,{...E,gain:0}),J=i(m,{...E,gain:0}),ie=i(m,{...E,gain:0}),le=i(m,{...E,gain:0}),fe=i(m,{...E,gain:0}),xe=a(m,256,6,1),X=o(m,{...E,curve:new Float32Array([1,1]),oversample:"none"});let k=[T,C,V],U=[R,I,W];const ee=new Float32Array(1);xe.onaudioprocess=({inputBuffer:de})=>{const _e=[f(de,ee,0),f(de,ee,1),f(de,ee,2)];_e.some((Ce,qe)=>Ce!==k[qe])&&($.setOrientation(..._e),k=_e);const Ne=[f(de,ee,3),f(de,ee,4),f(de,ee,5)];Ne.some((Ce,qe)=>Ce!==U[qe])&&($.setPosition(...Ne),U=Ne)},Object.defineProperty(ue.gain,"defaultValue",{get:()=>0}),Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ie.gain,"defaultValue",{get:()=>0}),Object.defineProperty(le.gain,"defaultValue",{get:()=>0}),Object.defineProperty(fe.gain,"defaultValue",{get:()=>0});const re={get bufferSize(){},get channelCount(){return $.channelCount},set channelCount(de){if(de>2)throw h();H.channelCount=de,$.channelCount=de},get channelCountMode(){return $.channelCountMode},set channelCountMode(de){if(de==="max")throw h();H.channelCountMode=de,$.channelCountMode=de},get channelInterpretation(){return $.channelInterpretation},set channelInterpretation(de){H.channelInterpretation=de,$.channelInterpretation=de},get coneInnerAngle(){return $.coneInnerAngle},set coneInnerAngle(de){$.coneInnerAngle=de},get coneOuterAngle(){return $.coneOuterAngle},set coneOuterAngle(de){$.coneOuterAngle=de},get coneOuterGain(){return $.coneOuterGain},set coneOuterGain(de){if(de<0||de>1)throw e();$.coneOuterGain=de},get context(){return $.context},get distanceModel(){return $.distanceModel},set distanceModel(de){$.distanceModel=de},get inputs(){return[H]},get maxDistance(){return $.maxDistance},set maxDistance(de){if(de<0)throw new RangeError;$.maxDistance=de},get numberOfInputs(){return $.numberOfInputs},get numberOfOutputs(){return $.numberOfOutputs},get orientationX(){return Q.gain},get orientationY(){return ue.gain},get orientationZ(){return J.gain},get panningModel(){return $.panningModel},set panningModel(de){$.panningModel=de},get positionX(){return ie.gain},get positionY(){return le.gain},get positionZ(){return fe.gain},get refDistance(){return $.refDistance},set refDistance(de){if(de<0)throw new RangeError;$.refDistance=de},get rolloffFactor(){return $.rolloffFactor},set rolloffFactor(de){if(de<0)throw new RangeError;$.rolloffFactor=de},addEventListener(...de){return H.addEventListener(de[0],de[1],de[2])},dispatchEvent(...de){return H.dispatchEvent(de[0])},removeEventListener(...de){return H.removeEventListener(de[0],de[1],de[2])}};y!==re.coneInnerAngle&&(re.coneInnerAngle=y),w!==re.coneOuterAngle&&(re.coneOuterAngle=w),v!==re.coneOuterGain&&(re.coneOuterGain=v),S!==re.distanceModel&&(re.distanceModel=S),N!==re.maxDistance&&(re.maxDistance=N),T!==re.orientationX.value&&(re.orientationX.value=T),C!==re.orientationY.value&&(re.orientationY.value=C),V!==re.orientationZ.value&&(re.orientationZ.value=V),j!==re.panningModel&&(re.panningModel=j),R!==re.positionX.value&&(re.positionX.value=R),I!==re.positionY.value&&(re.positionY.value=I),W!==re.positionZ.value&&(re.positionZ.value=W),P!==re.refDistance&&(re.refDistance=P),D!==re.rolloffFactor&&(re.rolloffFactor=D),(k[0]!==1||k[1]!==0||k[2]!==0)&&$.setOrientation(...k),(U[0]!==0||U[1]!==0||U[2]!==0)&&$.setPosition(...U);const se=()=>{H.connect($),r(H,X,0,0),X.connect(Q).connect(B,0,0),X.connect(ue).connect(B,0,1),X.connect(J).connect(B,0,2),X.connect(ie).connect(B,0,3),X.connect(le).connect(B,0,4),X.connect(fe).connect(B,0,5),B.connect(xe).connect(m.destination)},me=()=>{H.disconnect($),c(H,X,0,0),X.disconnect(Q),Q.disconnect(B),X.disconnect(ue),ue.disconnect(B),X.disconnect(J),J.disconnect(B),X.disconnect(ie),ie.disconnect(B),X.disconnect(le),le.disconnect(B),X.disconnect(fe),fe.disconnect(B),B.disconnect(xe),xe.disconnect(m.destination)};return d(Oh(re,$),se,me)},TA=r=>(e,{disableNormalization:t,imag:i,real:a})=>{const o=i instanceof Float32Array?i:new Float32Array(i),h=a instanceof Float32Array?a:new Float32Array(a),c=e.createPeriodicWave(h,o,{disableNormalization:t});if(Array.from(i).length<2)throw r();return c},rd=(r,e,t,i)=>r.createScriptProcessor(e,t,i),EA=(r,e)=>(t,i)=>{const a=i.channelCountMode;if(a==="clamped-max")throw e();if(t.createStereoPanner===void 0)return r(t,i);const o=t.createStereoPanner();return hi(o,i),jr(o,i,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:h=>{if(h!==a)throw e()}}),o},kA=(r,e,t,i,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...d,oversample:"none"},y=(S,N,T,C)=>{const V=new Float32Array(16385),j=new Float32Array(16385);for(let F=0;F<16385;F+=1){const $=F/16384*f;V[F]=Math.cos($),j[F]=Math.sin($)}const R=t(S,{...d,gain:0}),I=i(S,{...m,curve:V}),W=i(S,{...m,curve:c}),P=t(S,{...d,gain:0}),D=i(S,{...m,curve:j});return{connectGraph(){N.connect(R),N.connect(W.inputs===void 0?W:W.inputs[0]),N.connect(P),W.connect(T),T.connect(I.inputs===void 0?I:I.inputs[0]),T.connect(D.inputs===void 0?D:D.inputs[0]),I.connect(R.gain),D.connect(P.gain),R.connect(C,0,0),P.connect(C,0,1)},disconnectGraph(){N.disconnect(R),N.disconnect(W.inputs===void 0?W:W.inputs[0]),N.disconnect(P),W.disconnect(T),T.disconnect(I.inputs===void 0?I:I.inputs[0]),T.disconnect(D.inputs===void 0?D:D.inputs[0]),I.disconnect(R.gain),D.disconnect(P.gain),R.disconnect(C,0,0),P.disconnect(C,0,1)}}},w=(S,N,T,C)=>{const V=new Float32Array(16385),j=new Float32Array(16385),R=new Float32Array(16385),I=new Float32Array(16385),W=Math.floor(16385/2);for(let ie=0;ie<16385;ie+=1)if(ie>W){const le=(ie-W)/(16384-W)*f;V[ie]=Math.cos(le),j[ie]=Math.sin(le),R[ie]=0,I[ie]=1}else{const le=ie/(16384-W)*f;V[ie]=1,j[ie]=0,R[ie]=Math.cos(le),I[ie]=Math.sin(le)}const P=e(S,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=t(S,{...d,gain:0}),F=i(S,{...m,curve:V}),$=t(S,{...d,gain:0}),E=i(S,{...m,curve:j}),B=i(S,{...m,curve:c}),H=t(S,{...d,gain:0}),Q=i(S,{...m,curve:R}),ue=t(S,{...d,gain:0}),J=i(S,{...m,curve:I});return{connectGraph(){N.connect(P),N.connect(B.inputs===void 0?B:B.inputs[0]),P.connect(D,0),P.connect($,0),P.connect(H,1),P.connect(ue,1),B.connect(T),T.connect(F.inputs===void 0?F:F.inputs[0]),T.connect(E.inputs===void 0?E:E.inputs[0]),T.connect(Q.inputs===void 0?Q:Q.inputs[0]),T.connect(J.inputs===void 0?J:J.inputs[0]),F.connect(D.gain),E.connect($.gain),Q.connect(H.gain),J.connect(ue.gain),D.connect(C,0,0),H.connect(C,0,0),$.connect(C,0,1),ue.connect(C,0,1)},disconnectGraph(){N.disconnect(P),N.disconnect(B.inputs===void 0?B:B.inputs[0]),P.disconnect(D,0),P.disconnect($,0),P.disconnect(H,1),P.disconnect(ue,1),B.disconnect(T),T.disconnect(F.inputs===void 0?F:F.inputs[0]),T.disconnect(E.inputs===void 0?E:E.inputs[0]),T.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),T.disconnect(J.inputs===void 0?J:J.inputs[0]),F.disconnect(D.gain),E.disconnect($.gain),Q.disconnect(H.gain),J.disconnect(ue.gain),D.disconnect(C,0,0),H.disconnect(C,0,0),$.disconnect(C,0,1),ue.disconnect(C,0,1)}}},v=(S,N,T,C,V)=>{if(N===1)return y(S,T,C,V);if(N===2)return w(S,T,C,V);throw a()};return(S,{channelCount:N,channelCountMode:T,pan:C,...V})=>{if(T==="max")throw a();const j=r(S,{...V,channelCount:1,channelCountMode:T,numberOfInputs:2}),R=t(S,{...V,channelCount:N,channelCountMode:T,gain:1}),I=t(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:W,disconnectGraph:P}=v(S,N,R,I,j);Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"maxValue",{get:()=>1}),Object.defineProperty(I.gain,"minValue",{get:()=>-1});const D={get bufferSize(){},get channelCount(){return R.channelCount},set channelCount(B){R.channelCount!==B&&(F&&P(),{connectGraph:W,disconnectGraph:P}=v(S,B,R,I,j),F&&W()),R.channelCount=B},get channelCountMode(){return R.channelCountMode},set channelCountMode(B){if(B==="clamped-max"||B==="max")throw a();R.channelCountMode=B},get channelInterpretation(){return R.channelInterpretation},set channelInterpretation(B){R.channelInterpretation=B},get context(){return R.context},get inputs(){return[R]},get numberOfInputs(){return R.numberOfInputs},get numberOfOutputs(){return R.numberOfOutputs},get pan(){return I.gain},addEventListener(...B){return R.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return R.dispatchEvent(B[0])},removeEventListener(...B){return R.removeEventListener(B[0],B[1],B[2])}};let F=!1;const $=()=>{W(),F=!0},E=()=>{P(),F=!1};return o(Oh(D,j),$,E)}},OA=(r,e,t,i,a,o,h)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,f);hi(d,f);const m=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(m!==null&&m.length<2)throw e();vr(d,{curve:m},"curve"),vr(d,f,"oversample");let y=null,w=!1;return h(d,"curve",N=>()=>N.call(d),N=>T=>(N.call(d,T),w&&(i(T)&&y===null?y=r(c,d):!i(T)&&y!==null&&(y(),y=null)),T)),a(d,()=>{w=!0,i(d.curve)&&(y=r(c,d))},()=>{w=!1,y!==null&&(y(),y=null)})},MA=(r,e,t,i,a)=>(o,{curve:h,oversample:c,...f})=>{const d=o.createWaveShaper(),m=o.createWaveShaper();hi(d,f),hi(m,f);const y=t(o,{...f,gain:1}),w=t(o,{...f,gain:-1}),v=t(o,{...f,gain:1}),S=t(o,{...f,gain:-1});let N=null,T=!1,C=null;const V={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(I){y.channelCount=I,w.channelCount=I,d.channelCount=I,v.channelCount=I,m.channelCount=I,S.channelCount=I},get channelCountMode(){return d.channelCountMode},set channelCountMode(I){y.channelCountMode=I,w.channelCountMode=I,d.channelCountMode=I,v.channelCountMode=I,m.channelCountMode=I,S.channelCountMode=I},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(I){y.channelInterpretation=I,w.channelInterpretation=I,d.channelInterpretation=I,v.channelInterpretation=I,m.channelInterpretation=I,S.channelInterpretation=I},get context(){return d.context},get curve(){return C},set curve(I){if(I!==null&&I.length<2)throw e();if(I===null)d.curve=I,m.curve=I;else{const W=I.length,P=new Float32Array(W+2-W%2),D=new Float32Array(W+2-W%2);P[0]=I[0],D[0]=-I[W-1];const F=Math.ceil((W+1)/2),$=(W+1)/2-1;for(let E=1;E<F;E+=1){const B=E/F*$,H=Math.floor(B),Q=Math.ceil(B);P[E]=H===Q?I[H]:(1-(B-H))*I[H]+(1-(Q-B))*I[Q],D[E]=H===Q?-I[W-1-H]:-((1-(B-H))*I[W-1-H])-(1-(Q-B))*I[W-1-Q]}P[F]=W%2===1?I[F-1]:(I[F-2]+I[F-1])/2,d.curve=P,m.curve=D}C=I,T&&(i(C)&&N===null?N=r(o,y):N!==null&&(N(),N=null))},get inputs(){return[y]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(I){d.oversample=I,m.oversample=I},addEventListener(...I){return y.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return y.dispatchEvent(I[0])},removeEventListener(...I){return y.removeEventListener(I[0],I[1],I[2])}};h!==null&&(V.curve=h instanceof Float32Array?h:new Float32Array(h)),c!==V.oversample&&(V.oversample=c);const j=()=>{y.connect(d).connect(v),y.connect(w).connect(m).connect(S).connect(v),T=!0,i(C)&&(N=r(o,y))},R=()=>{y.disconnect(d),d.disconnect(v),y.disconnect(w),w.disconnect(m),m.disconnect(S),S.disconnect(v),T=!1,N!==null&&(N(),N=null)};return a(Oh(V,v),j,R)},is=()=>new DOMException("","NotSupportedError"),LA={numberOfChannels:1},DA=(r,e,t,i,a)=>class extends r{constructor(h,c,f){let d;if(typeof h=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:h,sampleRate:f};else if(typeof h=="object")d=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:y,sampleRate:w}={...LA,...d},v=i(y,m,w);e(Pf,()=>Pf(v))||v.addEventListener("statechange",(()=>{let S=0;const N=T=>{this._state==="running"&&(S>0?(v.removeEventListener("statechange",N),T.stopImmediatePropagation(),this._waitForThePromiseToSettle(T)):S+=1)};return N})()),super(v,y),this._length=m,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,a3(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},jA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},RA=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...jA,...d},w=t(m,y),v=o(m),S=v?i():null,N=f.sampleRate/2;super(f,!1,w,S),this._detune=e(this,v,w.detune,153600,-153600),this._frequency=e(this,v,w.frequency,N,-N),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=S,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeOscillatorNode.onended=d;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===d?f:m}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Ch(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),ml(this)&&Jf(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},IA=(r,e,t,i,a)=>()=>{const o=new WeakMap;let h=null,c=null,f=null;const d=async(m,y)=>{let w=t(m);const v=Hi(w,y);if(!v){const S={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,detune:w.detune.value,frequency:w.frequency.value,periodicWave:h===null?void 0:h,type:w.type};w=e(y,S),c!==null&&w.start(c),f!==null&&w.stop(f)}return o.set(y,w),v?(await r(y,m.detune,w.detune),await r(y,m.frequency,w.frequency)):(await i(y,m.detune,w.detune),await i(y,m.frequency,w.frequency)),await a(m,y,w),w};return{set periodicWave(m){h=m},set start(m){c=m},set stop(m){f=m},render(m,y){const w=o.get(y);return w!==void 0?Promise.resolve(w):d(m,y)}}},VA={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},FA=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...VA,...d},w=t(m,y),v=o(m),S=v?i():null;super(f,!1,w,S),this._nativePannerNode=w,this._orientationX=e(this,v,w.orientationX,ts,Cs),this._orientationY=e(this,v,w.orientationY,ts,Cs),this._orientationZ=e(this,v,w.orientationZ,ts,Cs),this._positionX=e(this,v,w.positionX,ts,Cs),this._positionY=e(this,v,w.positionY,ts,Cs),this._positionZ=e(this,v,w.positionZ,ts,Cs),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},BA=(r,e,t,i,a,o,h,c,f,d)=>()=>{const m=new WeakMap;let y=null;const w=async(v,S)=>{let N=null,T=o(v);const C={channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation},V={...C,coneInnerAngle:T.coneInnerAngle,coneOuterAngle:T.coneOuterAngle,coneOuterGain:T.coneOuterGain,distanceModel:T.distanceModel,maxDistance:T.maxDistance,panningModel:T.panningModel,refDistance:T.refDistance,rolloffFactor:T.rolloffFactor},j=Hi(T,S);if("bufferSize"in T)N=i(S,{...C,gain:1});else if(!j){const R={...V,orientationX:T.orientationX.value,orientationY:T.orientationY.value,orientationZ:T.orientationZ.value,positionX:T.positionX.value,positionY:T.positionY.value,positionZ:T.positionZ.value};T=a(S,R)}if(m.set(S,N===null?T:N),N!==null){if(y===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const E=new h(6,v.context.length,S.sampleRate),B=e(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});B.connect(E.destination),y=(async()=>{const H=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async(Q,ue)=>{const J=t(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue===0?1:0});return await c(E,Q,J.offset),J}));for(let Q=0;Q<6;Q+=1)H[Q].connect(B,0,Q),H[Q].start(0);return d(E)})()}const R=await y,I=i(S,{...C,gain:1});await f(v,S,I);const W=[];for(let E=0;E<R.numberOfChannels;E+=1)W.push(R.getChannelData(E));let P=[W[0][0],W[1][0],W[2][0]],D=[W[3][0],W[4][0],W[5][0]],F=i(S,{...C,gain:1}),$=a(S,{...V,orientationX:P[0],orientationY:P[1],orientationZ:P[2],positionX:D[0],positionY:D[1],positionZ:D[2]});I.connect(F).connect($.inputs[0]),$.connect(N);for(let E=128;E<R.length;E+=128){const B=[W[0][E],W[1][E],W[2][E]],H=[W[3][E],W[4][E],W[5][E]];if(B.some((Q,ue)=>Q!==P[ue])||H.some((Q,ue)=>Q!==D[ue])){P=B,D=H;const Q=E/S.sampleRate;F.gain.setValueAtTime(0,Q),F=i(S,{...C,gain:0}),$=a(S,{...V,orientationX:P[0],orientationY:P[1],orientationZ:P[2],positionX:D[0],positionY:D[1],positionZ:D[2]}),F.gain.setValueAtTime(1,Q),I.connect(F).connect($.inputs[0]),$.connect(N)}}return N}return j?(await r(S,v.orientationX,T.orientationX),await r(S,v.orientationY,T.orientationY),await r(S,v.orientationZ,T.orientationZ),await r(S,v.positionX,T.positionX),await r(S,v.positionY,T.positionY),await r(S,v.positionZ,T.positionZ)):(await c(S,v.orientationX,T.orientationX),await c(S,v.orientationY,T.orientationY),await c(S,v.orientationZ,T.orientationZ),await c(S,v.positionX,T.positionX),await c(S,v.positionY,T.positionY),await c(S,v.positionZ,T.positionZ)),kh(T)?await f(v,S,T.inputs[0]):await f(v,S,T),T};return{render(v,S){const N=m.get(S);return N!==void 0?Promise.resolve(N):w(v,S)}}},qA={disableNormalization:!1},zA=(r,e,t,i)=>class g3{constructor(o,h){const c=e(o),f=i({...qA,...h}),d=r(c,f);return t.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===g3.prototype||t.has(o)}},PA=(r,e)=>(t,i,a)=>(r(i).replay(a),e(i,t,a)),UA=(r,e,t)=>async(i,a,o)=>{const h=r(i);await Promise.all(h.activeInputs.map((c,f)=>Array.from(c).map(async([d,m])=>{const w=await e(d).render(d,a),v=i.context.destination;!t(d)&&(i!==v||!t(i))&&w.connect(o,m,f)})).reduce((c,f)=>[...c,...f],[]))},HA=(r,e,t)=>async(i,a,o)=>{const h=e(i);await Promise.all(Array.from(h.activeInputs).map(async([c,f])=>{const m=await r(c).render(c,a);t(c)||m.connect(o,f)}))},GA=(r,e,t,i)=>a=>r(Pf,()=>Pf(a))?Promise.resolve(r(i,i)).then(o=>{if(!o){const h=t(a,512,0,1);a.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>a.currentTime,h.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const h=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{h.disconnect(),o(c.renderedBuffer)},h.connect(a.destination),a.startRendering()}),YA=r=>(e,t)=>{r.set(e,t)},WA=r=>(e,t)=>r.set(e,t),XA=(r,e,t,i,a,o,h,c)=>(f,d)=>t(f).render(f,d).then(()=>Promise.all(Array.from(i(d)).map(m=>t(m).render(m,d)))).then(()=>a(d)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),ug(m)):e(o,()=>o(m))||c(m),r.add(m),m)),ZA={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},$A=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...ZA,...f},y=t(d,m),w=o(d),v=w?i():null;super(c,!1,y,v),this._pan=e(this,w,y.pan)}get pan(){return this._pan}},KA=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Hi(d,f);if(!m){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=e(f,y)}return o.set(f,d),m?await r(f,c.pan,d.pan):await i(f,c.pan,d.pan),kh(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},QA=r=>()=>{if(r===null)return!1;try{new r({length:1,sampleRate:44100})}catch{return!1}return!0},JA=(r,e)=>async()=>{if(r===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),a=URL.createObjectURL(t);let o=!1,h=!1;try{await i.audioWorklet.addModule(a);const c=new r(i,"a",{numberOfOutputs:0}),f=i.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>h=!0,f.connect(c),f.start(0),await i.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!h},eN=(r,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),i=r(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{t.oncomplete=()=>{i.disconnect(),a(t.currentTime!==0)},t.startRendering()})},tN=()=>new DOMException("","UnknownError"),nN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},rN=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...nN,...d},w=t(m,y),S=o(m)?i():null;super(f,!0,w,S),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},iN=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Hi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=r(h,d)}return i.set(h,c),kh(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},sN=()=>typeof window>"u"?null:window,aN=(r,e)=>t=>{t.copyFromChannel=(i,a,o=0)=>{const h=r(o),c=r(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=i.length;for(let y=h<0?-h:0;y+h<f&&y<m;y+=1)i[y]=d[y+h]},t.copyToChannel=(i,a,o=0)=>{const h=r(o),c=r(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=i.length;for(let y=h<0?-h:0;y+h<f&&y<m;y+=1)d[y+h]=i[y]}},oN=r=>e=>{e.copyFromChannel=(t=>(i,a,o=0)=>{const h=r(o),c=r(a);if(h<e.length)return t.call(e,i,c,h)})(e.copyFromChannel),e.copyToChannel=(t=>(i,a,o=0)=>{const h=r(o),c=r(a);if(h<e.length)return t.call(e,i,c,h)})(e.copyToChannel)},lN=r=>(e,t)=>{const i=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=i),r(e,"buffer",a=>()=>{const o=a.call(e);return o===i?null:o},a=>o=>a.call(e,o===null?i:o))},cN=(r,e)=>(t,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw r()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw r()}});const a=t.createBufferSource();e(i,()=>{const c=i.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(i,0,f)},()=>a.disconnect(i))},v3=(r,e,t)=>r.copyFromChannel===void 0?r.getChannelData(t)[0]:(r.copyFromChannel(e,t),e[0]),b3=r=>{if(r===null)return!1;const e=r.length;return e%2!==0?r[Math.floor(e/2)]!==0:r[e/2-1]+r[e/2]!==0},id=(r,e,t,i)=>{let a=r;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:h}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(r,e,{get:t(o),set:i(h)})},uN=r=>({...r,outputChannelCount:r.outputChannelCount!==void 0?r.outputChannelCount:r.numberOfInputs===1&&r.numberOfOutputs===1?[r.channelCount]:Array.from({length:r.numberOfOutputs},()=>1)}),hN=r=>({...r,channelCount:r.numberOfOutputs}),fN=r=>{const{imag:e,real:t}=r;return e===void 0?t===void 0?{...r,imag:[0,0],real:[0,0]}:{...r,imag:Array.from(t,()=>0),real:t}:t===void 0?{...r,imag:e,real:Array.from(e,()=>0)}:{...r,imag:e,real:t}},y3=(r,e,t)=>{try{r.setValueAtTime(e,t)}catch(i){if(i.code!==9)throw i;y3(r,e,t+1e-7)}},dN=r=>{const e=r.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},pN=r=>{const e=r.createBufferSource(),t=r.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},mN=r=>{const e=r.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},mg=r=>{const e=r.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},x3=r=>{const e=r.createBuffer(1,1,44100),t=r.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},gg=r=>{const e=r.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},gN=r=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(r)}finally{e.close(),t.close()}},vN=r=>{r.start=(e=>(t=0,i=0,a)=>{const o=r.buffer,h=o===null?i:Math.min(o.duration,i);o!==null&&h>o.duration-.5/r.context.sampleRate?e.call(r,t,0,0):e.call(r,t,h,a)})(r.start)},_3=(r,e)=>{const t=e.createGain();r.connect(t);const i=(a=>()=>{a.call(r,t),r.removeEventListener("ended",i)})(r.disconnect);r.addEventListener("ended",i),Oh(r,t),r.stop=(a=>{let o=!1;return(h=0)=>{if(o)try{a.call(r,h)}catch{t.gain.setValueAtTime(0,h)}else a.call(r,h),o=!0}})(r.stop)},Mh=(r,e)=>t=>{const i={value:r};return Object.defineProperties(t,{currentTarget:i,target:i}),typeof e=="function"?e.call(r,t):e.handleEvent.call(r,t)},bN=F4(uu),yN=H4(uu),xN=n6(fp),w3=new WeakMap,_N=x6(w3),ro=LS(new Map,new WeakMap),Do=sN(),S3=$6(ro,jo),vg=y6(ns),Li=UA(ns,vg,au),wN=Z4(S3,cr,Li),er=S6(hp),xl=SA(Do),Wn=q6(xl),A3=new WeakMap,N3=f6(Mh),sd=eA(Do),bg=I6(sd),yg=V6(Do),C3=F6(Do),Uf=nA(Do),Ur=xS(B4(Jy),U4(bN,yN,z1,xN,P1,ns,_N,Qf,cr,uu,ml,au,C1),ro,M6(Vm,P1,ns,cr,zf,ml),jo,dp,is,QS(z1,Vm,ns,cr,zf,er,ml,Wn),s6(A3,ns,Qa),N3,er,bg,yg,C3,Wn,Uf),SN=X4(Ur,wN,jo,S3,er,Wn),xg=new WeakSet,eb=K6(Do),T3=GS(new Uint32Array(1)),_g=aN(T3,jo),wg=oN(T3),E3=K4(xg,ro,is,eb,xl,QA(eb),_g,wg),pp=G4(Es),k3=HA(vg,ed,au),Ro=BS(k3),Lh=J6(pp,ro,dN,pN,mN,mg,x3,gg,vN,lN(id),_3),Io=PA(_6(ed),k3),AN=eS(Ro,Lh,cr,Io,Li),io=_S(q4(e3),A3,cg,wS,L4,D4,j4,R4,I4,jm,Ky,sd,y3),NN=J4(Ur,AN,io,xi,Lh,er,Wn,Mh),CN=cS(Ur,uS,jo,xi,tA(Es,id),er,Wn,Li),TN=MS(Ro,p3,cr,Io,Li),hu=WA(w3),EN=OS(Ur,io,TN,dp,p3,er,Wn,hu),bc=X6(uu,yg),kN=cN(xi,bc),yc=cA(sd,kN),ON=RS(yc,cr,Li),MN=jS(Ur,ON,yc,er,Wn),LN=FS(nd,cr,Li),DN=VS(Ur,LN,nd,er,Wn,hN),jN=fA(pp,Lh,Es,bc),Dh=hA(pp,ro,jN,mg,gg),RN=HS(Ro,Dh,cr,Io,Li),IN=US(Ur,io,RN,Dh,er,Wn,Mh),O3=dA(is,id),VN=XS(O3,cr,Li),FN=WS(Ur,VN,O3,er,Wn,hu),BN=t6(Ro,m3,cr,Io,Li),qN=e6(Ur,io,BN,m3,er,Wn,hu),M3=pA(is),zN=c6(Ro,M3,cr,Io,Li),PN=l6(Ur,io,zN,M3,is,er,Wn,hu),UN=v6(Ro,Es,cr,Io,Li),HN=g6(Ur,io,UN,Es,er,Wn),GN=bA(dp,xi,rd,is),mp=GA(ro,Es,rd,eN(Es,xl)),YN=O6(Lh,cr,xl,Li,mp),WN=mA(GN),XN=E6(Ur,WN,YN,er,Wn,hu),ZN=hS(io,yc,Dh,rd,is,v3,Wn,id),L3=new WeakMap,$N=W6(CN,ZN,N3,Wn,L3,Mh),D3=AA(pp,ro,mg,x3,gg,_3),KN=IA(Ro,D3,cr,Io,Li),QN=RA(Ur,io,D3,KN,er,Wn,Mh),j3=zS(Lh),JN=MA(j3,xi,Es,b3,bc),gp=OA(j3,xi,JN,b3,bc,sd,id),e8=CA(z1,xi,yc,Es,rd,gp,is,P1,v3,bc),R3=NA(e8),t8=BA(Ro,yc,Dh,Es,R3,cr,xl,Io,Li,mp),n8=FA(Ur,io,R3,t8,er,Wn,hu),r8=TA(jo),i8=zA(r8,er,new WeakSet,fN),s8=kA(yc,nd,Es,gp,is,bc),I3=EA(s8,is),a8=KA(Ro,I3,cr,Io,Li),o8=$A(Ur,io,I3,a8,er,Wn),l8=iN(gp,cr,Li),c8=rN(Ur,xi,gp,l8,er,Wn,hu),V3=z6(Do),Sg=d6(Do),F3=new WeakMap,u8=A6(F3,xl),h8=V3?P4(ro,is,h6(Do),Sg,p6(V4),er,u8,Wn,Uf,new WeakMap,new WeakMap,JA(Uf,xl),Do):void 0,f8=B6(bg,Wn),d8=KS(xg,ro,$S,u6,new WeakSet,er,f8,B1,Pf,_g,wg),B3=ES(h8,SN,E3,NN,EN,MN,DN,IN,FN,d8,qN,PN,HN,XN,$N,QN,n8,i8,o8,c8),p8=P6(Ur,yA,er,Wn),m8=H6(Ur,xA,er,Wn),g8=G6(Ur,_A,er,Wn),v8=wA(xi,Wn),b8=Y6(Ur,v8,er),y8=lS(B3,xi,is,tN,p8,m8,g8,b8,sd),Ag=N6(L3),x8=Y4(Ag),q3=qS(jo),_8=r6(Ag),z3=a6(jo),P3=new WeakMap,w8=b6(P3,Qa),S8=lA(q3,jo,xi,yc,nd,Dh,Es,rd,is,z3,Sg,w8,bc),A8=iA(xi,S8,Es,is,bc),N8=TS(Ro,q3,Lh,yc,nd,Dh,Es,_8,z3,Sg,cr,Uf,xl,Io,Li,mp),C8=w6(F3),T8=YA(P3),tb=V3?AS(x8,Ur,io,N8,A8,ns,C8,er,Wn,Uf,uN,T8,gN,Mh):void 0,E8=ZS(is,xl),k8=XA(xg,ro,vg,Ag,mp,B1,_g,wg),O8=DA(B3,ro,xi,E8,k8),M8=L6(hp,bg),L8=D6(lg,yg),D8=j6(cg,C3),j8=R6(hp,Wn);function va(r){return r===void 0}function mn(r){return r!==void 0}function R8(r){return typeof r=="function"}function gl(r){return typeof r=="number"}function ru(r){return Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object}function I8(r){return typeof r=="boolean"}function Zs(r){return Array.isArray(r)}function vl(r){return typeof r=="string"}function h1(r){return vl(r)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(r)}function Ht(r,e){if(!r)throw new Error(e)}function bl(r,e,t=1/0){if(!(e<=r&&r<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${r}`)}function U3(r){!r.isOffline&&r.state!=="running"&&vp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let H3=!1,nb=!1;function rb(r){H3=r}function V8(r){va(r)&&H3&&!nb&&(nb=!0,vp("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let G3=console;function F8(...r){G3.log(...r)}function vp(...r){G3.warn(...r)}function B8(r){return new y8(r)}function q8(r,e,t){return new O8(r,e,t)}const Gs=typeof self=="object"?self:null,z8=Gs&&(Gs.hasOwnProperty("AudioContext")||Gs.hasOwnProperty("webkitAudioContext"));function P8(r,e,t){return Ht(mn(tb),"AudioWorkletNode only works in a secure context (https or localhost)"),new(r instanceof Gs?.BaseAudioContext?Gs?.AudioWorkletNode:tb)(r,e,t)}function so(r,e,t,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var c=r.length-1;c>=0;c--)(h=r[c])&&(o=(a<3?h(o):a>3?h(e,t,o):h(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function Jr(r,e,t,i){function a(o){return o instanceof t?o:new t(function(h){h(o)})}return new(t||(t=Promise))(function(o,h){function c(m){try{d(i.next(m))}catch(y){h(y)}}function f(m){try{d(i.throw(m))}catch(y){h(y)}}function d(m){m.done?o(m.value):a(m.value).then(c,f)}d((i=i.apply(r,e||[])).next())})}class U8{constructor(e,t,i,a){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),i=new Worker(t);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function ou(r){return D8(r)}function uc(r){return L8(r)}function T1(r){return j8(r)}function ch(r){return M8(r)}function H8(r){return r instanceof E3}function G8(r,e){return r==="value"||ou(e)||uc(e)||H8(e)}function iu(r,...e){if(!e.length)return r;const t=e.shift();if(ru(r)&&ru(t))for(const i in t)G8(i,t[i])?r[i]=t[i]:ru(t[i])?(r[i]||Object.assign(r,{[i]:{}}),iu(r[i],t[i])):Object.assign(r,{[i]:t[i]});return iu(r,...e)}function Y8(r,e){return r.length===e.length&&r.every((t,i)=>e[i]===t)}function Pt(r,e,t=[],i){const a={},o=Array.from(e);if(ru(o[0])&&i&&!Reflect.has(o[0],i)&&(Object.keys(o[0]).some(c=>Reflect.has(r,c))||(iu(a,{[i]:o[0]}),t.splice(t.indexOf(i),1),o.shift())),o.length===1&&ru(o[0]))iu(a,o[0]);else for(let h=0;h<t.length;h++)mn(o[h])&&(a[t[h]]=o[h]);return iu(r,a)}function W8(r){return r.constructor.getDefaults()}function bh(r,e){return va(r)?e:r}function Za(r,e){return e.forEach(t=>{Reflect.has(r,t)&&delete r[t]}),r}class _l{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Gs&&this.toString()===Gs.TONE_DEBUG_CLASS)&&F8(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}_l.version=$y;const Ng=1e-6;function Th(r,e){return r>e+Ng}function Pm(r,e){return Th(r,e)||Xa(r,e)}function Y1(r,e){return r+Ng<e}function Xa(r,e){return Math.abs(r-e)<Ng}function X8(r,e,t){return Math.max(Math.min(r,t),e)}let Lo=class Y3 extends _l{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Pt(Y3.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Ht(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];Ht(Pm(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const i=this._search(e,t);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const i=this._search(e,t);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const i=this._search(e);return i-1>=0?this._timeline[i-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Xa(this._timeline[t].time,e)){for(let i=t;i>=0&&Xa(this._timeline[i].time,e);i--)t=i;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&Pm(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let i=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][t]<=e)return a-1;for(;i<o;){let h=Math.floor(i+(o-i)/2);const c=this._timeline[h],f=this._timeline[h+1];if(Xa(c[t],e)){for(let d=h;d<this._timeline.length;d++){const m=this._timeline[d];if(Xa(m[t],e))h=d;else break}return h}else{if(Y1(c[t],e)&&Th(f[t],e))return h;Th(c[t],e)?o=h:i=h+1}}return-1}_iterate(e,t=0,i=this._timeline.length-1){this._timeline.slice(t,i+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const i=this._search(e);return i!==-1&&this._iterate(t,0,i),this}forEachAfter(e,t){const i=this._search(e);return this._iterate(t,i+1),this}forEachBetween(e,t,i){let a=this._search(e),o=this._search(t);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===t&&(o-=1),this._iterate(i,a,o)):a===-1&&this._iterate(i,0,o),this}forEachFrom(e,t){let i=this._search(e);for(;i>=0&&this._timeline[i].time>=e;)i--;return this._iterate(t,i+1),this}forEachAtTime(e,t){const i=this._search(e);if(i!==-1&&Xa(this._timeline[i].time,e)){let a=i;for(let o=i;o>=0&&Xa(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{t(o)},a,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}};const W3=[];function bp(r){W3.push(r)}function Z8(r){W3.forEach(e=>e(r))}const X3=[];function yp(r){X3.push(r)}function $8(r){X3.forEach(e=>e(r))}class ad extends _l{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(a=>{va(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(t)}),this}once(e,t){const i=(...a)=>{t(...a),this.off(e,i)};return this.on(e,i),this}off(e,t){return e.split(/\W+/).forEach(a=>{if(va(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(va(t))this._events[a]=[];else{const o=this._events[a];for(let h=o.length-1;h>=0;h--)o[h]===t&&o.splice(h,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(let a=0,o=i.length;a<o;a++)i[a].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const i=Object.getOwnPropertyDescriptor(ad.prototype,t);Object.defineProperty(e.prototype,t,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class Z3 extends ad{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let Cg=class $3 extends Z3{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Lo,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=Pt($3.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=B8({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new U8(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Z8(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,i){return this._context.createBuffer(e,t,i)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,i){return this._context.createPeriodicWave(e,t,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Ht(ch(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Ht(ch(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Ht(ch(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Ht(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Ht(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Ht(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Ht(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return P8(this.rawContext,e,t)}addAudioWorkletModule(e){return Jr(this,void 0,void 0,function*(){Ht(mn(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Jr(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ch(this._context)?this._context.resume():Promise.resolve()}close(){return Jr(this,void 0,void 0,function*(){ch(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&$8(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),i=t.getChannelData(0);for(let o=0;o<i.length;o++)i[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=t,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:i+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const i=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:i,time:o+t})};return a(),i}};class K8 extends Z3{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,i){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Jr(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ur(r,e){Zs(e)?e.forEach(t=>ur(r,t)):Object.defineProperty(r,e,{enumerable:!0,writable:!1})}function Tg(r,e){Zs(e)?e.forEach(t=>Tg(r,t)):Object.defineProperty(r,e,{writable:!0})}const Yn=()=>{};class or extends _l{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Yn;const e=Pt(or.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,vl(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Yn,onload:Yn,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:$a().sampleRate}set(e){return e instanceof or?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Jr(this,void 0,void 0,function*(){const t=or.load(e).then(i=>{this.set(i),this.onload(this)});or.downloads.push(t);try{yield t}finally{const i=or.downloads.indexOf(t);or.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Zs(e)&&e[0].length>0,i=t?e.length:1,a=t?e[0].length:e.length,o=$a(),h=o.createBuffer(i,a,o.sampleRate),c=!t&&i===1?[e]:e;for(let f=0;f<i;f++)h.copyToChannel(c[f],f);return this._buffer=h,this}toMono(e){if(gl(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const i=this.numberOfChannels;for(let a=0;a<i;a++){const o=this.toArray(a);for(let h=0;h<o.length;h++)t[h]+=o[h]}t=t.map(a=>a/i),this.fromArray(t)}return this}toArray(e){if(gl(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let i=0;i<this.numberOfChannels;i++)t[i]=this.getChannelData(i);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){Ht(this.loaded,"Buffer is not loaded");const i=Math.floor(e*this.sampleRate),a=Math.floor(t*this.sampleRate);Ht(i<a,"The start time must be less than the end time");const o=a-i,h=$a().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)h.copyToChannel(this.getChannelData(c).subarray(i,a),c);return new or(h)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new or().fromArray(e)}static fromUrl(e){return Jr(this,void 0,void 0,function*(){return yield new or().load(e)})}static load(e){return Jr(this,void 0,void 0,function*(){const t=or.baseUrl===""||or.baseUrl.endsWith("/")?or.baseUrl:or.baseUrl+"/",i=yield fetch(t+e);if(!i.ok)throw new Error(`could not load url: ${e}`);const a=yield i.arrayBuffer();return yield $a().decodeAudioData(a)})}static supportsType(e){const t=e.split("."),i=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return Jr(this,void 0,void 0,function*(){for(yield Promise.resolve();or.downloads.length;)yield or.downloads[0]})}}or.baseUrl="";or.downloads=[];class Eg extends Cg{constructor(){super({clockSource:"offline",context:T1(arguments[0])?arguments[0]:q8(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:T1(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=T1(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Jr(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const i=Math.floor(this.sampleRate/128);e&&t%i===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return Jr(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new or(t)})}close(){return Promise.resolve()}}const K3=new K8;let tu=K3;function $a(){return tu===K3&&z8&&Q8(new Cg),tu}function Q8(r,e=!1){e&&tu.dispose(),ch(r)?tu=new Cg(r):T1(r)?tu=new Eg(r):tu=r}function od(){return tu.resume()}if(Gs&&!Gs.TONE_SILENCE_LOGGING){const e=` * Tone.js v${$y} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function J8(r){return Math.pow(10,r/20)}function eC(r){return 20*(Math.log(r)/Math.LN10)}function Q3(r){return Math.pow(2,r/12)}let xp=440;function tC(){return xp}function nC(r){xp=r}function nu(r){return Math.round(J3(r))}function J3(r){return 69+12*Math.log2(r/xp)}function ex(r){return xp*Math.pow(2,(r-69)/12)}class kg extends _l{constructor(e,t,i){super(),this.defaultUnits="s",this._val=t,this._units=i,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const i=parseInt(e,10),a=t==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/i)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,i)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a+=this._beatsToUnits(parseFloat(t))),i&&i!=="0"&&(a+=this._beatsToUnits(parseFloat(i)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof kg&&this.fromType(this._val),va(this._val))return this._noArg();if(vl(this._val)&&va(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(ru(this._val)){let e=0;for(const t in this._val)if(mn(this._val[t])){const i=this._val[t],a=new this.constructor(this.context,t).valueOf()*i;e+=a}return e}if(mn(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return vl(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Ka extends kg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Ka(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const i=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),c=Math.round(a/i)*i-a;return a+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let o=1;o<9;o++){const h=Math.pow(2,o);t.push(h+"n."),t.push(h+"n"),t.push(h+"t")}t.push("0");let i=t[0],a=new Ka(this.context,t[0]).toSeconds();return t.forEach(o=>{const h=new Ka(this.context,o).toSeconds();Math.abs(h-e)<Math.abs(a-e)&&(i=o,a=h)}),i}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const i=Math.floor(t/this._getTimeSignature());let a=t%1*4;t=Math.floor(t)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[i,t,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return nu(this.toFrequency())}_now(){return this.context.now()}}class Ys extends Ka{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return tC()}static set A4(e){nC(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Ys.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const a=rC[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?a:Ys.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,i){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a*=this._beatsToUnits(parseFloat(t))),i&&i!=="0"&&(a*=this._beatsToUnits(parseFloat(i)/4)),a}}})}transpose(e){return new Ys(this.context,this.valueOf()*Q3(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return nu(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Ys.A4);let i=Math.round(12*t)+57;const a=Math.floor(i/12);return a<0&&(i+=-12*a),iC[i%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return ex(e)}static ftom(e){return nu(e)}}const rC={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},iC=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Lf extends Ka{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Ts extends _l{constructor(){super();const e=Pt(Ts.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:$a()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return V8(e),new Ka(this.context,e).toSeconds()}toFrequency(e){return new Ys(this.context,e).toFrequency()}toTicks(e){return new Lf(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(i=>{va(e[i])&&delete t[i]}),t}get(){const e=W8(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const i=this[t];mn(i)&&mn(i.value)&&mn(i.setValueAtTime)?e[t]=i.value:i instanceof Ts?e[t]=i._getPartialProperties(e[t]):Zs(i)||gl(i)||vl(i)||I8(i)?e[t]=i:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&mn(this[t])&&(this[t]&&mn(this[t].value)&&mn(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Ts?this[t].set(e[t]):this[t]=e[t])}),this}}class Og extends Lo{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,i){return bl(t,0),this.add(Object.assign({},i,{state:e,time:t})),this}getLastState(e,t){const i=this._search(t);for(let a=i;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,t){const i=this._search(t);if(i!==-1)for(let a=i;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class Qn extends Ts{constructor(){const e=Pt(Qn.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Ht(mn(e.param)&&(ou(e.param)||e.param instanceof Qn),"param must be an AudioParam");!ou(e.param);)e.param=e.param._param;this._swappable=mn(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Lo(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,mn(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Ts.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return mn(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return mn(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return mn(this.maxValue)&&mn(this.minValue)&&bl(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?J8(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?eC(e):e}setValueAtTime(e,t){const i=this.toSeconds(t),a=this._fromType(e);return Ht(isFinite(a)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,i),this._events.add({time:i,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,i),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),i=this._events.getAfter(t),a=this._events.get(t);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const h=this._events.getBefore(a.time);let c;h===null?c=this._initialValue:c=h.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,t))}else if(i===null)o=a.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let h=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?h=this._initialValue:h=c.value}i.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,h,i.time,i.value,t):o=this._exponentialInterpolate(a.time,h,i.time,i.value,t)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const i=this._fromType(e),a=this.toSeconds(t);return Ht(isFinite(i)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(i),this._events.add({time:a,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(i,a),this}exponentialRampToValueAtTime(e,t){let i=this._fromType(e);i=Xa(i,0)?this._minOutput:i,this._assertRange(i);const a=this.toSeconds(t);return Ht(isFinite(i)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(i,a),this}exponentialRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(e,i+this.toSeconds(t)),this}linearRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(e,i+this.toSeconds(t)),this}targetRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(e,i,t),this}exponentialApproachValueAtTime(e,t,i){t=this.toSeconds(t),i=this.toSeconds(i);const a=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(e,t,a),this.cancelAndHoldAtTime(t+i*.9),this.linearRampToValueAtTime(e,t+i),this}setTargetAtTime(e,t,i){const a=this._fromType(e);Ht(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(t);return this._assertRange(a),Ht(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:i,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,i),this._param.setTargetAtTime(a,o,i),this}setValueCurveAtTime(e,t,i,a=1){i=this.toSeconds(i),t=this.toSeconds(t);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),t);const h=i/(e.length-1);for(let c=1;c<e.length;c++){const f=this._fromType(e[c])*a;this.linearRampToValueAtTime(this._toType(f),t+c*h)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return Ht(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),i=this._fromType(this.getValueAtTime(t));Ht(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+i);const a=this._events.get(t),o=this._events.getAfter(t);return a&&Xa(a.time,t)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),t):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),t)),this._events.add({time:t,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,t),this}rampTo(e,t=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,i):this.linearRampTo(e,t,i),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const i=this._events.get(t);if(i&&i.type==="setTargetAtTime"){const a=this._events.getAfter(i.time),o=a?a.time:t+2,h=(o-t)/10;for(let c=t;c<o;c+=h)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){Ht(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,i,a,o){return i+(t-i)*Math.exp(-(o-e)/a)}_linearInterpolate(e,t,i,a,o){return t+(a-t)*((o-e)/(i-e))}_exponentialInterpolate(e,t,i,a,o){return t*Math.pow(a/t,(o-e)/(i-e))}}class Xt extends Ts{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return mn(this.input)?ou(this.input)||this.input instanceof Qn?1:this.input.numberOfInputs:0}get numberOfOutputs(){return mn(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return mn(e)&&(e instanceof Xt||uc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(i=>{i.channelCount=e.channelCount,i.channelCountMode=e.channelCountMode,i.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Ht(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,i=0){return jh(this,e,t,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return vp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,i=0){return sC(this,e,t,i),this}chain(...e){return Hf(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),mn(this.input)&&(this.input instanceof Xt?this.input.dispose():uc(this.input)&&this.input.disconnect()),mn(this.output)&&(this.output instanceof Xt?this.output.dispose():uc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Hf(...r){const e=r.shift();r.reduce((t,i)=>(t instanceof Xt?t.connect(i):uc(t)&&jh(t,i),i),e)}function jh(r,e,t=0,i=0){for(Ht(mn(r),"Cannot connect from undefined node"),Ht(mn(e),"Cannot connect to undefined node"),(e instanceof Xt||uc(e))&&Ht(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Ht(r.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Xt||e instanceof Qn;)mn(e.input)&&(e=e.input);for(;r instanceof Xt;)mn(r.output)&&(r=r.output);ou(e)?r.connect(e,t):r.connect(e,t,i)}function sC(r,e,t=0,i=0){if(mn(e))for(;e instanceof Xt;)e=e.input;for(;!uc(r);)mn(r.output)&&(r=r.output);ou(e)?r.disconnect(e,t):uc(e)?r.disconnect(e,t,i):r.disconnect()}class ei extends Xt{constructor(){const e=Pt(ei.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Qn({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ur(this,"gain")}static getDefaults(){return Object.assign(Xt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Eh extends Xt{constructor(e){super(e),this.onended=Yn,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ei({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const i=this.toSeconds(t);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Xt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Yn})}_startGain(e,t=1){Ht(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=e+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+i):this._gainNode.gain.exponentialApproachValueAtTime(t,e,i)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Ht(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Yn&&(this.onended(this),this.onended=Yn,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Ht(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Yn,this}}class Mg extends Eh{constructor(){const e=Pt(Mg.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),jh(this._source,this._gainNode),this.offset=new Qn({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Eh.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Jn extends Xt{constructor(){const e=Pt(Jn.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Mg({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Xt.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,i=0){return Lg(this,e,t,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,i){return this._param.exponentialRampTo(e,t,i),this}linearRampTo(e,t,i){return this._param.linearRampTo(e,t,i),this}targetRampTo(e,t,i){return this._param.targetRampTo(e,t,i),this}exponentialApproachValueAtTime(e,t,i){return this._param.exponentialApproachValueAtTime(e,t,i),this}setTargetAtTime(e,t,i){return this._param.setTargetAtTime(e,t,i),this}setValueCurveAtTime(e,t,i,a){return this._param.setValueCurveAtTime(e,t,i,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,i){return this._param.rampTo(e,t,i),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Lg(r,e,t,i){(e instanceof Qn||ou(e)||e instanceof Jn&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Jn&&(e.overridden=!0)),jh(r,e,t,i)}class Dg extends Qn{constructor(){const e=Pt(Dg.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Lo(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Qn.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,i){t=this.toSeconds(t),this.setRampPoint(t);const a=this._fromType(e),o=this._events.get(t),h=Math.round(Math.max(1/i,1));for(let c=0;c<=h;c++){const f=i*c+t,d=this._exponentialApproach(o.time,o.value,a,i,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(e,t){const i=this.toSeconds(t);super.setValueAtTime(e,t);const a=this._events.get(i),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,i);return a.ticks=Math.max(h,0),this}linearRampToValueAtTime(e,t){const i=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const a=this._events.get(i),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,i);return a.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const i=this._fromType(e),a=this._events.get(t),o=Math.round(Math.max((t-a.time)*10,1)),h=(t-a.time)/o;for(let c=0;c<=o;c++){const f=h*c+a.time,d=this._exponentialInterpolate(a.time,a.value,t,i,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(va(e.ticks)){const h=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(h,e.time)}const i=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(t));const o=this._events.get(t);return o&&o.time===t&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(i+a)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),i=this._events.get(t);return Math.max(this._getTicksUntilEvent(i,t),0)}getDurationOfTicks(e,t){const i=this.toSeconds(t),a=this.getTicksAtTime(t);return this.getTimeOfTick(a+e)-i}getTimeOfTick(e){const t=this._events.get(e,"ticks"),i=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&i&&i.type==="linearRampToValueAtTime"&&t.value!==i.value){const a=this._fromType(this.getValueAtTime(t.time)),h=(this._fromType(this.getValueAtTime(i.time))-a)/(i.time-t.time),c=Math.sqrt(Math.pow(a,2)-2*h*(t.ticks-e)),f=(-a+c)/h,d=(-a-c)/h;return(f>0?f:d)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const i=this.toSeconds(t),a=this.toSeconds(e),o=this.getTicksAtTime(i);return this.getTicksAtTime(i+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class jg extends Jn{constructor(){const e=Pt(jg.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Dg({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Jn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Rg extends Ts{constructor(){const e=Pt(Rg.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Og,this._tickOffset=new Lo,this._ticksAtTime=new Lo,this._secondsAtTime=new Lo,this.frequency=new jg({context:this.context,units:e.units,value:e.frequency}),ur(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ts.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const i=this.toSeconds(e);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),mn(t)&&this.setTicksAtTime(t,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const i=this._state.get(t);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),i=this._state.getLastState("stopped",t),a=this._ticksAtTime.get(t),o={state:"paused",time:t};this._state.add(o);let h=a||i,c=a?a.ticks:0,f=null;return this._state.forEachBetween(h.time,t+this.sampleTime,d=>{let m=h.time;const y=this._tickOffset.get(d.time);y&&y.time>=h.time&&(c=y.ticks,m=y.time),h.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(m),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),h=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),i=this.frequency.timeToTicks(e,t);this.setTicksAtTime(i,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);const a=this._secondsAtTime.get(e);let o=a||t,h=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,e+this.sampleTime,f=>{let d=o.time;const m=this._tickOffset.get(f.time);m&&m.time>=o.time&&(h=m.seconds,d=m.time),o.state==="started"&&f.state!=="started"&&(h+=f.time-d,f.time!==i.time&&(c={state:f.state,time:f.time,seconds:h})),o=f}),this._state.remove(i),c&&this._secondsAtTime.add(c),h}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const i=this._tickOffset.get(t),a=this._state.get(t),o=Math.max(i.time,a.time),h=this.frequency.getTicksAtTime(o)+e-i.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(e,t,i){let a=this._state.get(e);this._state.forEachBetween(e,t,h=>{a&&a.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),h.time-this.sampleTime,i),a=h});let o=null;if(a&&a.state==="started"){const h=Math.max(a.time,e),c=this.frequency.getTicksAtTime(h),f=this.frequency.getTicksAtTime(a.time),d=c-f;let m=Math.ceil(d)-d;m=Xa(m,1)?0:m;let y=this.frequency.getTimeOfTick(c+m);for(;y<t;){try{i(y,Math.round(this.getTicksAtTime(y)))}catch(w){o=w;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}let tx=class nx extends Ts{constructor(){const e=Pt(nx.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Yn,this._lastUpdate=0,this._state=new Og("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Rg({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ur(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ts.getDefaults(),{callback:Yn,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){U3(this.context);const i=this.toSeconds(e);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,t),i<this._lastUpdate&&this.emit("start",i,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const i=this.toSeconds(t),a=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(a+e,i)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,i=>{switch(i.state){case"started":const a=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,a);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(e,t,(i,a)=>{this.callback(i,a)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};ad.mixin(tx);class Rh extends Xt{constructor(){const e=Pt(Rh.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new ei({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ur(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Xt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Ig extends Xt{constructor(){const e=Pt(Ig.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Rh({context:this.context}),this.output=new ei({context:this.context}),this.volume=this.input.volume,Hf(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Xt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Hf(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}bp(r=>{r.destination=new Ig({context:r})});yp(r=>{r.destination.dispose()});class aC extends Xt{constructor(){super(...arguments),this.name="Listener",this.positionX=new Qn({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Qn({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Qn({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Qn({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Qn({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Qn({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Qn({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Qn({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Qn({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Xt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}bp(r=>{r.listener=new aC({context:r})});yp(r=>{r.listener.dispose()});class Vg extends _l{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Pt(Vg.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const i=e.urls[t];this.add(t,i,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Yn,onload:Yn,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Ht(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,i=Yn,a=Yn){return vl(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new or(this.baseUrl+t,i,a))):this._buffers.set(e.toString(),new or(t,i,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class W1 extends Ys{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return nu(super._frequencyToUnits(e))}_ticksToUnits(e){return nu(super._ticksToUnits(e))}_beatsToUnits(e){return nu(super._beatsToUnits(e))}_secondsToUnits(e){return nu(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return ex(this.toMidi())}transpose(e){return new W1(this.context,this.toMidi()+e)}}class mh extends Lf{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class oC extends Ts{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Lo,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}bp(r=>{r.draw=new oC({context:r})});yp(r=>{r.draw.dispose()});class lC extends _l{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Ht(mn(e.time),"Events must have a time property"),Ht(mn(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new cC(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const i of t)if(i.event===e){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let i,a=null;if(t>0)if(e.left.right===null)i=e.left,i.right=e.right,a=i;else{for(i=e.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,a=i.parent,i.left=e.left,i.right=e.right)}else if(e.right.left===null)i=e.right,i.left=e.left,a=i;else{for(i=e.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,a=i.parent,i.left=e.left,i.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=i:e.parent.right=i:this._setRoot(i),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const t=e.parent,i=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),t!==null?i?t.left=a:t.right=a:this._setRoot(a)}_rotateRight(e){const t=e.parent,i=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),t!==null?i?t.left=a:t.right=a:this._setRoot(a)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let i=t[0];for(let a=1;a<t.length;a++)t[a].low>i.low&&(i=t[a]);return i.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(i=>t.push(i)),t.forEach(i=>{i.event&&e(i.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const i=[];this._root.search(e,i),i.forEach(a=>{a.event&&t(a.event)})}return this}forEachFrom(e,t){if(this._root!==null){const i=[];this._root.searchAfter(e,i),i.forEach(a=>{a.event&&t(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class cC{constructor(e,t,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class uC extends _l{constructor(e){super(),this.name="TimelineValue",this._timeline=new Lo({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class hc extends Xt{constructor(){super(Pt(hc.getDefaults(),arguments,["context"]))}connect(e,t=0,i=0){return Lg(this,e,t,i),this}}class ld extends hc{constructor(){const e=Pt(ld.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Zs(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):R8(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Jn.getDefaults(),{length:1024})}setMap(e,t=1024){const i=new Float32Array(t);for(let a=0,o=t;a<o;a++){const h=a/(o-1)*2-1;i[a]=e(h,a)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(i=>i.includes(e));Ht(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class _p extends hc{constructor(){const e=Pt(_p.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new ld({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(hc.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class fc{constructor(e,t){this.id=fc._eventId++,this._remainderTime=0;const i=Object.assign(fc.getDefaults(),t);this.transport=e,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:Yn,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}fc._eventId=0;class Fg extends fc{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(Fg.getDefaults(),t);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},fc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Y1(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new mh(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Y1(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new mh(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Th(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class wp extends Ts{constructor(){const e=Pt(wp.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new uC(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Lo,this._repeatedEvents=new lC,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new tx({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ur(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Ts.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const i=t%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(i*Math.PI)*this._swingAmount;e+=new mh(this.context,this._swingTicks*2/3).toSeconds()*a}rb(!0),this._timeline.forEachAtTime(t,i=>i.invoke(e)),rb(!1)}schedule(e,t){const i=new fc(this,{callback:e,time:new Lf(this.context,t).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(e,t,i,a=1/0){const o=new Fg(this,{callback:e,duration:new Ka(this.context,a).toTicks(),interval:new Ka(this.context,t).toTicks(),time:new Lf(this.context,i).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,t){const i=new fc(this,{callback:e,once:!0,time:new Lf(this.context,t).toTicks()});return this._addEvent(i,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(t,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new mh(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let i;return mn(t)&&(i=this.toTicks(t)),this._clock.start(e,i),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Zs(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Ka(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Ka(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new mh(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new mh(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),i=this._clock.frequency.timeToTicks(e,t);this.ticks=i}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(t),a=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,t),o=t+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),i=this.getTicksAtTime(t),a=e-i%e;return this._clock.nextTickTime(a,t)}}syncSignal(e,t){const i=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(i)/this.PPQ),h=[];if(e.units==="time"){const f=.015625/o,d=new ei(f),m=new _p(-1),y=new ei(f);a.chain(d,m,y),a=y,o=1/o,h=[d,m,y]}t||(e.getValueAtTime(i)!==0?t=e.getValueAtTime(i)/o:t=0);const c=new ei(t);return a.connect(c),c.connect(e._param),h.push(c),this._syncedSignals.push({initial:e.value,nodes:h,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const i=this._syncedSignals[t];i.signal===e&&(i.nodes.forEach(a=>a.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Tg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}ad.mixin(wp);bp(r=>{r.transport=new wp({context:r})});yp(r=>{r.transport.dispose()});class Ui extends Xt{constructor(e){super(e),this.input=void 0,this._state=new Og("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Yn,this._syncedStop=Yn,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Rh({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ur(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Xt.getDefaults(),{mute:!1,onstop:Yn,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,i){let a=va(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")Ht(Th(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,t,i);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(bh(t,0)),o.duration=i?this.toSeconds(i):void 0);const h=this.context.transport.schedule(c=>{this._start(c,t,i)},a);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else U3(this.context),this._start(a,t,i);return this}stop(e){let t=va(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||mn(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const i=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(i)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,i){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Th(t,0)){const i=this._state.get(t);if(i&&i.state==="started"&&i.time!==t){const a=t-this.toSeconds(i.time);let o;i.duration&&(o=this.toSeconds(i.duration)-a),this._start(e,this.toSeconds(i.offset)+a,o)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Yn,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Sp extends Eh{constructor(){const e=Pt(Sp.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,jh(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Qn({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new or(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Eh.getDefaults(),{url:new or,loop:!1,loopEnd:0,loopStart:0,onload:Yn,onerror:Yn,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,i,a=1){Ht(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?t=bh(t,this.loopStart):t=bh(t,0);let h=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;Pm(h,c)&&(h=(h-f)%d+f),Xa(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Y1(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,h)),mn(i)){let c=this.toSeconds(i);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function fu(r,e){return Jr(this,void 0,void 0,function*(){const t=e/r.context.sampleRate,i=new Eg(1,t,r.context.sampleRate);return new r.constructor(Object.assign(r.get(),{frequency:2/t,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class Bg extends Eh{constructor(){const e=Pt(Bg.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],jh(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Qn({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Qn({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ur(this,["frequency","detune"])}static getDefaults(){return Object.assign(Eh.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Qr extends Ui{constructor(){const e=Pt(Qr.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),ur(this,"frequency"),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),ur(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Ui.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),i=new Bg({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Qr._periodicWaveCache.find(t=>t.phase===this._phase&&Y8(t.partials,this._partials));{const e=Qr._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const i=this._getCachedPeriodicWave();if(mn(i)){const{partials:a,wave:o}=i;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),h=this.context.createPeriodicWave(a,o);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Qr._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Qr._periodicWaveCache.length>100&&Qr._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){bl(e,0);let t=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(t=i[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,h)=>a[h]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,t){let a=2048;const o=new Float32Array(a),h=new Float32Array(a);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,h]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let m;switch(e){case"sine":m=f<=c?1:0,this._partials[f-1]=m;break;case"square":m=f&1?2*d:0,this._partials[f-1]=m;break;case"sawtooth":m=d*(f&1?1:-1),this._partials[f-1]=m;break;case"triangle":f&1?m=2*(d*d)*(f-1>>1&1?-1:1):m=0,this._partials[f-1]=m;break;case"custom":m=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}m!==0?(o[f]=-m*Math.sin(t*f),h[f]=m*Math.cos(t*f)):(o[f]=0,h[f]=0)}return[o,h]}_inverseFFT(e,t,i){let a=0;const o=e.length;for(let h=0;h<o;h++)a+=e[h]*Math.cos(h*i)+t[h]*Math.sin(h*i);return a}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let i=0;const a=Math.PI*2,o=32;for(let h=0;h<o;h++)i=Math.max(this._inverseFFT(e,t,h/o*a),i);return X8(-this._inverseFFT(e,t,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Qr._periodicWaveCache=[];class rx extends hc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ld({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class yl extends Jn{constructor(){const e=Pt(yl.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new ei({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Jn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ap extends Ui{constructor(){const e=Pt(Ap.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new rx({context:this.context}),this._modulationNode=new ei({context:this.context}),this._carrier=new Qr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Qr({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new yl({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ur(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Np extends Ui{constructor(){const e=Pt(Np.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new ei({context:this.context,gain:0}),this._carrier=new Qr({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Qr({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new yl({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new yl({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ur(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class cd extends Ui{constructor(){const e=Pt(cd.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new ei({context:this.context,gain:0}),this._thresh=new ld({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new Jn({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Qr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ur(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Ui.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Cp extends Ui{constructor(){const e=Pt(Cp.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ur(this,["frequency","detune"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,i=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=t+i*o)}}get count(){return this._oscillators.length}set count(e){if(bl(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const i=new Qr({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):Yn});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[t]=i}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,i)=>t.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Tp extends Ui{constructor(){const e=Pt(Tp.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new yl({context:this.context,value:2}),this._pulse=new cd({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Qr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ur(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Ui.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const ib={am:Ap,fat:Cp,fm:Np,oscillator:Qr,pulse:cd,pwm:Tp};class dc extends Ui{constructor(){const e=Pt(dc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),ur(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Qr.getDefaults(),Np.getDefaults(),Ap.getDefaults(),Cp.getDefaults(),cd.getDefaults(),Tp.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=ib[e],i=this.now();if(this._oscillator){const a=this._oscillator;a.stop(i),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof ib[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&gl(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&gl(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&vl(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return fu(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class qg extends Jn{constructor(){super(Pt(qg.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new ei({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Hf(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Jn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class zg extends hc{constructor(){const e=Pt(zg.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new yl({context:this.context,value:e.max-e.min}),this._add=this.output=new qg({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(hc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function ix(r,e=1/0){const t=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){bl(o,r,e),t.set(this,o)}})}}function wl(r,e=1/0){const t=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){bl(this.toSeconds(o),r,e),t.set(this,o)}})}}class Ep extends Ui{constructor(){const e=Pt(Ep.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new or({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ui.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Yn,onerror:Yn,playbackRate:1,reverse:!1})}load(e){return Jr(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Yn){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,i){return super.start(e,t,i),this}_start(e,t,i){this._loop?t=bh(t,this._loopStart):t=bh(t,0);const a=this.toSeconds(t),o=i;i=bh(i,Math.max(this._buffer.duration-a,0));let h=this.toSeconds(i);h=h/this._playbackRate,e=this.toSeconds(e);const c=new Sp({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+h),this._state.setStateAtTime("stopped",e+h,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&va(o)?c.start(e,a):c.start(e,a,h-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(i=>i.stop(t))}restart(e,t,i){return super.restart(e,t,i),this}_restart(e,t,i){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,t,i)}seek(e,t){const i=this.toSeconds(t);if(this._state.getValueAtTime(i)==="started"){const a=this.toSeconds(e);this._stop(i),this._start(i,a)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&bl(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&bl(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),i=this._state.getNextState("stopped",t);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}so([wl(0)],Ep.prototype,"fadeIn",void 0);so([wl(0)],Ep.prototype,"fadeOut",void 0);class $s extends Xt{constructor(){const e=Pt($s.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Jn({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Xt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(vl(e))return e;{let i;for(i in f1)if(f1[i][t]===e)return i;return e}}_setCurve(e,t,i){if(vl(i)&&Reflect.has(f1,i)){const a=f1[i];ru(a)?e!=="_decayCurve"&&(this[e]=a[t]):this[e]=a}else if(Zs(i)&&e!=="_decayCurve")this[e]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),h=this.getValueAtTime(e);if(h>0){const c=1/a;a=(1-h)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,a,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=h&&h<=c[f]){c=this._attackCurve.slice(f),c[0]=h;break}this._sig.setValueCurveAtTime(c,e,a,t)}if(o&&this.sustain<1){const c=t*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,e):(Ht(Zs(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,i,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,i=1){return t=this.toSeconds(t),this.triggerAttack(t,i),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,i=0){return Lg(this,e,t,i),this}asArray(){return Jr(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,i=new Eg(1,t,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),h=o*.1,c=o+h,f=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:i}));return f._sig.toDestination(),f.triggerAttackRelease(t*(a+h)/c,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}so([wl(0)],$s.prototype,"attack",void 0);so([wl(0)],$s.prototype,"decay",void 0);so([ix(0,1)],$s.prototype,"sustain",void 0);so([wl(0)],$s.prototype,"release",void 0);const f1=(()=>{let e,t;const i=[];for(e=0;e<128;e++)i[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){t=e/127;const w=Math.sin(t*(Math.PI*2)*o-Math.PI/2)+1;a[e]=w/10+t*.83}a[127]=1;const h=[],c=5;for(e=0;e<128;e++)h[e]=Math.ceil(e/127*c)/c;const f=[];for(e=0;e<128;e++)t=e/127,f[e]=.5*(1-Math.cos(Math.PI*t));const d=[];for(e=0;e<128;e++){t=e/127;const w=Math.pow(t,3)*4+.2,v=Math.cos(w*Math.PI*2*t);d[e]=Math.abs(v*(1-t))}function m(w){const v=new Array(w.length);for(let S=0;S<w.length;S++)v[S]=1-w[S];return v}function y(w){return w.slice(0).reverse()}return{bounce:{In:m(d),Out:d},cosine:{In:i,Out:y(i)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:m(a)},sine:{In:f,Out:m(f)},step:{In:h,Out:m(h)}}})();class pc extends Xt{constructor(){const e=Pt(pc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Rh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ur(this,"volume")}static getDefaults(){return Object.assign(Xt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const i=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[t],h=this.context.transport.schedule(c=>{a[t]=c,i.apply(this,a)},o);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,i,a){const o=this.toSeconds(i),h=this.toSeconds(t);return this.triggerAttack(e,o,a),this.triggerRelease(o+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ja extends pc{constructor(){const e=Pt(Ja.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(pc.getDefaults(),{detune:0,onsilence:Yn,portamento:0})}triggerAttack(e,t,i=1){this.log("triggerAttack",e,t,i);const a=this.toSeconds(t);return this._triggerEnvelopeAttack(a,i),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const i=this.toSeconds(t),a=e instanceof Ys?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,i)}else this.frequency.setValueAtTime(a,i);return this}}so([wl(0)],Ja.prototype,"portamento",void 0);class kp extends $s{constructor(){super(Pt(kp.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ei({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ga extends Ja{constructor(){const e=Pt(ga.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new dc(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new kp(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ur(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{envelope:Object.assign(Za($s.getDefaults(),Object.keys(Xt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Za(dc.getDefaults(),[...Object.keys(Ui.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Gf extends Ja{constructor(){const e=Pt(Gf.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new ga({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new ga({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Jn({context:this.context,units:"frequency"}),this.detune=new Jn({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new yl({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new ei({context:this.context,gain:0}),ur(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{harmonicity:3,oscillator:Object.assign(Za(dc.getDefaults(),[...Object.keys(Ui.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Za($s.getDefaults(),Object.keys(Xt.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Za(dc.getDefaults(),[...Object.keys(Ui.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Za($s.getDefaults(),Object.keys(Xt.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class X1 extends Gf{constructor(){super(Pt(X1.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new rx({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Z1 extends Xt{constructor(){const e=Pt(Z1.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Qn({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Qn({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Qn({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Qn({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(Xt.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Ht(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let h=0;h<e;h++){const f=Math.pow(h/e,2)*19980+20;t[h]=f}const i=new Float32Array(e),a=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(t,i,a),i}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class $1 extends Xt{constructor(){const e=Pt($1.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new ei({context:this.context}),this.output=new ei({context:this.context}),this._filters=[],this._filters=[],this.Q=new Jn({context:this.context,units:"positive",value:e.Q}),this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune}),this.gain=new Jn({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,ur(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Xt.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Ht(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(i=>i.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=gl(e)?e:parseInt(e,10),i=[-12,-24,-48,-96];let a=i.indexOf(t);Ht(a!==-1,`rolloff can only be ${i.join(", ")}`),a+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const h=new Z1({context:this.context});h.type=this._type,this.frequency.connect(h.frequency),this.detune.connect(h.detune),this.Q.connect(h.Q),this.gain.connect(h.gain),this._filters[o]=h}this._internalChannels=this._filters,Hf(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new Z1({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((o,h)=>i[h]*=o)}),t.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Tg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class K1 extends $s{constructor(){const e=Pt(K1.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new _p({context:this.context,value:e.exponent}),this._scale=this.output=new zg({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign($s.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);bl(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Q1 extends Ja{constructor(){const e=Pt(Q1.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new dc(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new $1(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new K1(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new kp(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),ur(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{envelope:Object.assign(Za($s.getDefaults(),Object.keys(Xt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Za($1.getDefaults(),Object.keys(Xt.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Za(K1.getDefaults(),Object.keys(Xt.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Za(dc.getDefaults(),Object.keys(Ui.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Df extends Gf{constructor(){const e=Pt(Df.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new yl({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Gf.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class Op extends ga{constructor(){const e=Pt(Op.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ur(this,["oscillator","envelope"])}static getDefaults(){return iu(Ja.getDefaults(),ga.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const i=this.toSeconds(t),a=this.toFrequency(e instanceof Ys?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,i),this.oscillator.frequency.exponentialRampToValueAtTime(a,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}so([ix(0)],Op.prototype,"octaves",void 0);so([wl(0)],Op.prototype,"pitchDecay",void 0);const sx=new Set;function Pg(r){sx.add(r)}function ax(r,e){const t=`registerProcessor("${r}", ${e})`;sx.add(t)}const hC=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Pg(hC);const fC=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Pg(fC);const dC=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Pg(dC);const pC="feedback-comb-filter",mC=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;ax(pC,mC);class As extends pc{constructor(){const e=Pt(As.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),Ht(!gl(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const i=this._voices.indexOf(this._dummyVoice);this._voices.splice(i,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(pc.getDefaults(),{maxPolyphony:32,options:{},voice:ga})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(i=>i.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Ht(e instanceof Ja,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else vp("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,i){e.forEach(a=>{const o=new W1(this.context,a).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(a,t,i),this._activeVoices.push({midi:o,voice:h,released:!1}),this.log("triggerAttack",a,t))})}_triggerRelease(e,t){e.forEach(i=>{const a=new W1(this.context,i).toMidi(),o=this._activeVoices.find(({midi:h,released:c})=>h===a&&!c);o&&(o.voice.triggerRelease(t),o.released=!0,this.log("triggerRelease",i,t))})}_scheduleEvent(e,t,i,a){Ht(!this.disposed,"Synth was already disposed"),i<=this.now()?e==="attack"?this._triggerAttack(t,i,a):this._triggerRelease(t,i):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,i,a)},i-this.now())}triggerAttack(e,t,i){Array.isArray(e)||(e=[e]);const a=this.toSeconds(t);return this._scheduleEvent("attack",e,a,i),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const i=this.toSeconds(t);return this._scheduleEvent("release",e,i),this}triggerAttackRelease(e,t,i,a){const o=this.toSeconds(i);if(this.triggerAttack(e,o,a),Zs(t)){Ht(Zs(e),"If the duration is an array, the notes must also be an array"),e=e;for(let h=0;h<e.length;h++){const c=t[Math.min(h,t.length-1)],f=this.toSeconds(c);Ht(f>0,"The duration must be greater than 0"),this.triggerRelease(e[h],o+f)}}else{const h=this.toSeconds(t);Ht(h>0,"The duration must be greater than 0"),this.triggerRelease(e,o+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=Za(e,["onsilence","context"]);return this.options=iu(this.options,t),this._voices.forEach(i=>i.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:i})=>{i.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class ud extends pc{constructor(){const e=Pt(ud.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(i=>{const a=parseInt(i,10);if(Ht(h1(i)||gl(a)&&isFinite(a),`url key is neither a note or midi pitch: ${i}`),h1(i)){const o=new Ys(this.context,i).toMidi();t[o]=e.urls[i]}else gl(a)&&isFinite(a)&&(t[a]=e.urls[a])}),this._buffers=new Vg({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(pc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Yn,onerror:Yn,release:.1,urls:{}})}_findClosest(e){let i=0;for(;i<96;){if(this._buffers.has(e+i))return-i;if(this._buffers.has(e-i))return i;i++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,i=1){return this.log("triggerAttack",e,t,i),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=J3(new Ys(this.context,a).toFrequency()),h=Math.round(o),c=o-h,f=this._findClosest(h),d=h-f,m=this._buffers.get(d),y=Q3(f+c),w=new Sp({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);w.start(t,0,m.duration/y,i),Zs(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(w),w.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const v=this._activeSources.get(h),S=v.indexOf(w);S!==-1&&v.splice(S,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(i=>{const a=new Ys(this.context,i).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);t=this.toSeconds(t),o.forEach(h=>{h.stop(t)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,i,a=1){const o=this.toSeconds(i);return this.triggerAttack(e,o,a),Zs(t)?(Ht(Zs(e),"notes must be an array when duration is array"),e.forEach((h,c)=>{const f=t[Math.min(c,t.length-1)];this.triggerRelease(h,o+this.toSeconds(f))})):this.triggerRelease(e,o+this.toSeconds(t)),this}add(e,t,i){if(Ht(h1(e)||isFinite(e),`note must be a pitch or midi: ${e}`),h1(e)){const a=new Ys(this.context,e).toMidi();this._buffers.add(a,t,i)}else this._buffers.add(e,t,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}so([wl(0)],ud.prototype,"attack",void 0);so([wl(0)],ud.prototype,"release",void 0);class Ug extends Xt{constructor(){const e=Pt(Ug.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Qn({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ur(this,"pan")}static getDefaults(){return Object.assign(Xt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const gC="bit-crusher",vC=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;ax(gC,vC);class Kr extends Xt{constructor(){const e=Pt(Kr.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new ei({context:this.context}),Kr._allSolos.has(this.context)||Kr._allSolos.set(this.context,new Set),Kr._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Xt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Kr._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Kr._soloed.has(this.context)||Kr._soloed.set(this.context,new Set),Kr._soloed.get(this.context).add(this)}_removeSolo(){Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).delete(this)}_isSoloed(){return Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).has(this)}_noSolos(){return!Kr._soloed.has(this.context)||Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Kr._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Kr._allSolos=new Map;Kr._soloed=new Map;class Hg extends Xt{constructor(){const e=Pt(Hg.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Ug({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Rh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ur(this,["pan","volume"])}static getDefaults(){return Object.assign(Xt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class gh extends Xt{constructor(){const e=Pt(gh.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Kr({solo:e.solo,context:this.context}),this._panVol=this.output=new Hg({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ur(this,["pan","volume"])}static getDefaults(){return Object.assign(Xt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return gh.buses.has(e)||gh.buses.set(e,new ei({context:this.context})),gh.buses.get(e)}send(e,t=0){const i=this._getBus(e),a=new ei({context:this.context,units:"decibels",gain:t});return this.connect(a),a.connect(i),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}gh.buses=new Map;const rs=$a().transport,ox=$a().destination;$a().destination;$a().listener;const bC=$a().draw,Ws=$a();function yC(){return or.loaded()}const d1=({cx:r,cy:e,innerRadius:t,outerRadius:i,startAngle:a,endAngle:o,color:h,label:c,chord:f,isSelected:d,isDiatonic:m,isSecondary:y=!1,onClick:w,onDoubleClick:v,ringType:S="major",wheelRotation:N=0,romanNumeral:T,voicingSuggestion:C,segmentId:V="seg",onHover:j})=>{const R=E4(r,e,t,i,a,o),I=(a+o)/2,W=gn.useRef(0),P=gn.useRef(null),[D,F]=gn.useState(!1),$=-N,E=i-t,B=t+E*.5,H=t+E*.18,Q=lc(r,e,B,I),ue=lc(r,e,H,I),J=i-6,ie=T4(r,e,J,a+1,o-1),le=`voicing-arc-${V}`,fe=`clip-${V}`,X=(()=>{let rt=.35,Ze=.5;m?(rt=1,Ze=1):y&&(rt=.7,Ze=.65);const Ee=h.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(Ee){const tt=parseInt(Ee[1]),nt=Math.round(parseInt(Ee[2])*Ze),ot=parseInt(Ee[3]);let ut=ot;return S==="minor"?ut=Math.max(ot-8,30):S==="diminished"&&(ut=Math.max(ot-15,25)),{fill:`hsl(${tt}, ${nt}%, ${ut}%)`,opacity:rt}}return{fill:h,opacity:rt}})(),k=()=>S==="diminished"?"10px":S==="minor"?"12px":"14px",U=m||y,ee=U?"#000000":"rgba(255,255,255,0.7)",re=m?"bold":y?"600":"normal",se=S==="diminished"||S==="minor"?"6px":"8px",me=S==="major"?U?6:5:S==="minor"?U?4:3.25:U?3.5:3,de=U?1:.95,_e=()=>{F(!0)},Ne=async rt=>{rt.preventDefault(),rt.stopPropagation(),F(!1),Ws.state!=="running"&&await od();const Ze=Date.now(),Ee=Ze-W.current;P.current&&(clearTimeout(P.current),P.current=null),Ee<300&&Ee>0?(W.current=0,v&&v(f)):(W.current=Ze,P.current=setTimeout(()=>{w(f),P.current=null},300))},Ce=()=>{F(!1),P.current&&(clearTimeout(P.current),P.current=null)},qe=rt=>{rt.stopPropagation(),Qe.current&&(clearTimeout(Qe.current),Qe.current=null),j&&j(null,0,0),w(f)},We=rt=>{rt.stopPropagation(),Qe.current&&(clearTimeout(Qe.current),Qe.current=null),j&&j(null,0,0),v&&v(f)},Qe=gn.useRef(null),G=rt=>{if(!j)return;const Ze=rt.clientX,Ee=rt.clientY;Qe.current=setTimeout(()=>{j("Select a chord slot in the timeline, then double-click a chord or chord voicing to add to the timeline.",Ze,Ee)},3e3)},je=()=>{Qe.current&&(clearTimeout(Qe.current),Qe.current=null),j&&j(null,0,0)};return M.jsxs("g",{className:Wa("cursor-pointer transition-all duration-200",!U&&"hover:opacity-70",D&&"opacity-80"),onClick:qe,onDoubleClick:We,onTouchStart:_e,onTouchEnd:Ne,onTouchCancel:Ce,onMouseEnter:G,onMouseLeave:je,style:{pointerEvents:"all",WebkitTapHighlightColor:"transparent"},children:[(m||y)&&C&&M.jsx("defs",{children:M.jsx("path",{id:le,d:ie,fill:"none"})}),M.jsx("defs",{children:M.jsx("clipPath",{id:fe,children:M.jsx("path",{d:R})})}),M.jsx("path",{d:R,fill:X.fill,opacity:X.opacity,stroke:T==="I"?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",strokeWidth:T==="I"?2.5:1,className:Wa("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",U&&"hover:brightness-105"),style:{pointerEvents:"all"}}),d&&M.jsx("path",{d:R,fill:"none",stroke:"white",strokeWidth:me,opacity:de,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${fe})`}),(m||y)&&C&&S==="major"&&M.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:M.jsx("textPath",{href:`#${le}`,startOffset:"50%",textAnchor:"middle",children:C})}),m&&C&&S==="minor"&&M.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:M.jsx("textPath",{href:`#${le}`,startOffset:"50%",textAnchor:"middle",children:C})}),m&&C&&S==="diminished"&&M.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:M.jsx("textPath",{href:`#${le}`,startOffset:"50%",textAnchor:"middle",children:C})}),M.jsx("text",{x:Q.x,y:Q.y,textAnchor:"middle",dominantBaseline:"middle",fill:ee,fontWeight:re,fontSize:k(),className:"pointer-events-none select-none",transform:`rotate(${$}, ${Q.x}, ${Q.y})`,children:c}),(m||y)&&T&&M.jsx("text",{x:ue.x,y:ue.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:se,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${$}, ${ue.x}, ${ue.y})`,children:T})]})};const xC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_C=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),sb=r=>{const e=_C(r);return e.charAt(0).toUpperCase()+e.slice(1)},lx=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),wC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var SC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const AC=he.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:h,...c},f)=>he.createElement("svg",{ref:f,...SC,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:lx("lucide",a),...!o&&!wC(c)&&{"aria-hidden":"true"},...c},[...h.map(([d,m])=>he.createElement(d,m)),...Array.isArray(o)?o:[o]]));const An=(r,e)=>{const t=he.forwardRef(({className:i,...a},o)=>he.createElement(AC,{ref:o,iconNode:e,className:lx(`lucide-${xC(sb(r))}`,`lucide-${r}`,i),...a}));return t.displayName=sb(r),t};const NC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],CC=An("arrow-right",NC);const TC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yh=An("chevron-down",TC);const EC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kC=An("chevron-right",EC);const OC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],MC=An("chevron-left",OC);const LC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Gg=An("chevron-up",LC);const DC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jC=An("circle-question-mark",DC);const RC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IC=An("circle",RC);const VC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FC=An("clock",VC);const BC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],qC=An("copy",BC);const zC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],PC=An("download",zC);const UC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],HC=An("file-plus",UC);const GC=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],YC=An("folder-open",GC);const WC=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],XC=An("grip-horizontal",WC);const ZC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],cx=An("grip-vertical",ZC);const $C=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],KC=An("hash",$C);const QC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],JC=An("layers",QC);const eT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tT=An("loader-circle",eT);const nT=[["path",{d:"M5 12h14",key:"1ays0h"}]],ux=An("minus",nT);const rT=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],J1=An("music",rT);const iT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],sT=An("panel-right-close",iT);const aT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],oT=An("panel-right",aT);const lT=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],cT=An("pause",lT);const uT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],hT=An("play",uT);const fT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yg=An("plus",fT);const dT=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],pT=An("repeat",dT);const mT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hx=An("rotate-ccw",mT);const gT=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],fx=An("rotate-cw",gT);const vT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ab=An("save",vT);const bT=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],yT=An("skip-back",bT);const xT=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],_T=An("skip-forward",xT);const wT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dx=An("trash-2",wT);const ST=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],AT=An("volume-2",ST);const NT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],CT=An("volume-x",NT);const TT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ob=An("x",TT);let mc={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},Wg="piano",Cf=null,E1=[],ep={},lb=!1,Eo=null;const px=async()=>{if(!lb){if(console.log("[iOS Audio] Starting unlock sequence..."),"audioSession"in navigator)try{navigator.audioSession.type="playback",console.log("[iOS Audio] Set audioSession.type to playback")}catch(r){console.warn("[iOS Audio] Could not set audioSession type:",r)}Eo||(Eo=document.createElement("audio"),Eo.src="data:audio/mpeg;base64,/+NIxAAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/jSMQADwAAADSAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",Eo.loop=!0,Eo.volume=.001,Eo.muted=!1,Eo.setAttribute("playsinline","true"),Eo.setAttribute("x-webkit-airplay","deny"),document.body.appendChild(Eo));try{const r=Eo.play();r!==void 0&&await r,console.log("[iOS Audio] Silent looping audio started successfully")}catch(r){console.warn("[iOS Audio] Silent audio failed:",r)}try{await od(),console.log("[iOS Audio] Tone.start() completed, state:",Ws.state)}catch(r){console.warn("[iOS Audio] Tone.start() failed:",r)}if(Ws.state!=="running")try{await Ws.resume(),console.log("[iOS Audio] Context resumed, state:",Ws.state)}catch(r){console.warn("[iOS Audio] Context resume failed:",r)}lb=!0,console.log("[iOS Audio] Unlock sequence complete")}},Xg=r=>{r in mc&&(Wg=r)},mx=r=>{const e=r<=0?-1/0:20*Math.log10(r);try{ox.volume.rampTo(e,.1)}catch(t){console.error("Error setting volume:",t)}},gx=r=>{ox.mute=r},Ih=async()=>{if(Cf)return Cf;Cf=(async()=>{const r="https://tonejs.github.io/audio/salamander/",e=(t,i)=>{if(!mc[t])try{const a=i();a&&(mc[t]=a)}catch(a){console.error(`Failed to init instrument "${t}"`,a)}};e("piano",()=>new ud({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:r}).toDestination()),e("guitar",()=>new As(ga,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),e("organ",()=>new As(X1,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("synth",()=>new As(Df,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("epiano",()=>new As(X1,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),e("strings",()=>new As(ga,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),e("pad",()=>new As(Df,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),e("brass",()=>new As(Q1,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),e("marimba",()=>new As(ga,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),e("bell",()=>new As(Df,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),e("lead",()=>new As(ga,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),e("bass",()=>new As(Q1,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),e("choir",()=>new As(ga,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await yC()})();try{await Cf}catch(r){Cf=null,console.error("Failed to initialize audio",r)}},cb=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Mp=async(r,e="1n",t)=>{if(Ws.state!=="running"&&await od(),Ws.state==="suspended"&&await Ws.resume(),await Ih(),!r||r.length===0)return;const i=r[0],a=cb.indexOf(i.replace(/\d/,"")),o=r.map((c,f)=>{if(c.match(/\d/))return c;const d=c,m=cb.indexOf(d);if(f===0)return`${d}3`;let y=3;return(m<a||m-a>6)&&(y=4),f>=4&&(y=4),f>=5&&(y=5),`${d}${y}`});let h=mc[Wg];if(h||(h=mc.piano),!h){console.error("No instrument available to play!");return}try{h.triggerAttackRelease(o,e,t)}catch(c){console.error("Failed to play chord",c)}},vx=async(r,e=4,t="8n")=>{Ws.state!=="running"&&await od(),Ws.state==="suspended"&&await Ws.resume(),await Ih();let i=mc[Wg];if(i||(i=mc.piano),!i){console.error("No instrument available to play!");return}const a=`${r}${e}`;try{i.triggerAttackRelease(a,t)}catch(o){console.error(`Failed to play note ${a}`,o)}},bx=()=>{Object.values(mc).forEach(t=>t?.releaseAll()),rs.stop();const{setPlayingSlot:r,setIsPlaying:e}=Rr.getState();r(null,null),e(!1)},Yf=r=>{const e=Math.floor(r/4),t=Math.floor(r%4),i=Math.floor(r%1*4);return`${e}:${t}:${i}`},Zg=r=>{rs.cancel(0),E1=[],ep={},rs.timeSignature=4;let e=0;r.sections.forEach(i=>{ep[i.id]=e,i.measures.forEach(a=>{a.beats.forEach(o=>{const h=Yf(e),c=o.duration,f=c*4,d=`${Math.floor(f/16)}:${Math.floor(f%16/4)}:${f%4}`,m=rs.schedule(y=>{bC.schedule(()=>{Rr.getState().setPlayingSlot(i.id,o.id)},y),o.chord&&Mp(o.chord.notes,d,y)},h);E1.push(m),e+=c})})});const t=rs.schedule(()=>{Rr.getState().isLooping||bx()},Yf(e));E1.push(t)},ET=async()=>{await Ih()},yx=async()=>{await Ih(),Ws.state!=="running"&&await Ws.resume();const{tempo:r,currentSong:e}=Rr.getState();rs.bpm.value=r,E1.length===0&&Zg(e),rs.start()},xx=()=>{rs.pause()},_x=r=>{rs.bpm.value=r},wx=r=>{const{currentSong:e,playingSectionId:t}=Rr.getState(),i=e.sections.map(m=>m.id);let a=t?i.indexOf(t):-1;a===-1&&(a=0);let o=r==="next"?a+1:a-1;o>=i.length&&(o=0),o<0&&(o=0);const h=i[o],c=ep[h]||0,f=Yf(c);rs.position=f;const d=e.sections[o].measures[0]?.beats[0];d&&Rr.getState().setPlayingSlot(h,d.id)},Sx=()=>{const{isLooping:r,playingSectionId:e,selectedSectionId:t,currentSong:i}=Rr.getState();if(r){const a=e||t,o=i.sections.find(h=>h.id===a);if(o){const h=ep[o.id]??0;let c=0;o.measures.forEach(d=>d.beats.forEach(m=>c+=m.duration));const f=h+c;rs.loopStart=Yf(h),rs.loopEnd=Yf(f),rs.loop=!0;return}}rs.loop=!1},kT=Object.freeze(Object.defineProperty({__proto__:null,initAudio:Ih,pauseSong:xx,playChord:Mp,playNote:vx,playSong:yx,preloadAudio:ET,scheduleSong:Zg,setInstrument:Xg,setMute:gx,setTempo:_x,setVolume:mx,skipToSection:wx,stopAudio:bx,toggleLoopMode:Sx,unlockAudioForIOS:px},Symbol.toStringTag,{value:"Module"})),ub=768;function hd(){const[r,e]=he.useState(()=>typeof window<"u"?window.innerWidth<ub:!1);return he.useEffect(()=>{const t=()=>e(window.innerWidth<ub);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r}const OT=({zoomScale:r,zoomOriginY:e,onZoomChange:t})=>{const{selectedKey:i,setKey:a,wheelRotation:o,wheelMode:h,rotateWheel:c,toggleWheelMode:f,addChordToSlot:d,selectedSectionId:m,selectedSlotId:y,currentSong:w,setSelectedChord:v,selectedChord:S,selectNextSlotAfter:N,setSelectedSlot:T}=Rr(),C=h==="rotating"?o:0,V=Mf.indexOf(i),j=he.useRef(null),R=he.useRef(null),[I,W]=he.useState(null),[P,D]=he.useState({x:0,y:0}),F=hd();he.useEffect(()=>{const Oe=S?.segmentId??null;W(Oe)},[S]);const $=he.useRef(null),E=he.useRef(null),[B,H]=he.useState(!1),Q=he.useRef(0),ue=he.useRef(0),[J,ie]=he.useState(!1),le=he.useRef(null),fe=he.useCallback((Oe,Fe)=>{if(!E.current)return 0;const Ke=E.current.getBoundingClientRect(),$e=Ke.left+Ke.width/2,Mt=Ke.top+Ke.height/2,Lt=Oe-$e,Vt=Fe-Mt;return Math.atan2(Vt,Lt)*(180/Math.PI)},[]),xe=he.useCallback(Oe=>{const Fe=Mf.indexOf(i),Ke=Oe==="cw"?(Fe+1)%12:(Fe-1+12)%12;a(Mf[Ke]),c(Oe)},[i,a,c]),X=he.useRef(null),k=he.useRef(!1),U=he.useCallback(Oe=>{if(F||!E.current||!$.current)return;const Fe=E.current.getBoundingClientRect(),Ke=Fe.width/2,$e=Fe.height/2,Mt=Oe.clientX-Fe.left-Ke,Lt=Oe.clientY-Fe.top-$e,Vt=Math.sqrt(Mt*Mt+Lt*Lt),tn=Fe.width/600*70,Zt=Fe.width/600*250;Vt>tn&&Vt<=Zt?(H(!0),Q.current=fe(Oe.clientX,Oe.clientY),ue.current=o,Oe.preventDefault()):Vt>Zt&&r>1&&(ie(!0),le.current={x:Oe.clientX,y:Oe.clientY},Oe.preventDefault())},[fe,o,F,r]),ee=he.useCallback(Oe=>{if(Oe.touches.length!==1)return;const Fe=Oe.touches[0];if(X.current={x:Fe.clientX,y:Fe.clientY},k.current=!1,!E.current)return;const Ke=E.current.getBoundingClientRect(),$e=Ke.width/2,Mt=Ke.height/2,Lt=Fe.clientX-Ke.left-$e,Vt=Fe.clientY-Ke.top-Mt,tn=Math.sqrt(Lt*Lt+Vt*Vt),Zt=Ke.width/600*70;tn>Zt&&(Q.current=fe(Fe.clientX,Fe.clientY),ue.current=o)},[fe,o]),re=he.useCallback(Oe=>{if(Oe.touches.length!==1||!X.current)return;const Fe=Oe.touches[0],Ke=Fe.clientX-X.current.x,$e=Fe.clientY-X.current.y;if(Math.sqrt(Ke*Ke+$e*$e)>10){if(k.current=!0,Oe.preventDefault(),!E.current)return;const Lt=E.current.getBoundingClientRect(),Vt=Lt.width/2,tn=Lt.height/2,Zt=Fe.clientX-Lt.left,hn=Fe.clientY-Lt.top,an=Math.sqrt(Math.pow(Zt-Vt,2)+Math.pow(hn-tn,2)),Ar=Lt.width/600*70;if(an>Ar&&Q.current!==0){const Bn=fe(Fe.clientX,Fe.clientY),fn=Bn-Q.current;if(Math.abs(fn)>=15){const Cn=Math.round(fn/30);if(Cn!==0){const br=h==="fixed"?Cn>0?"cw":"ccw":Cn>0?"ccw":"cw",Hr=Math.abs(Cn);for(let Gr=0;Gr<Hr;Gr++)xe(br);Q.current=Bn}}}}},[fe,xe,h]),se=he.useCallback(Oe=>{if(!B)return;const Fe=fe(Oe.clientX,Oe.clientY),Ke=Fe-Q.current;if(Math.abs(Ke)>=15){const $e=Math.round(Ke/30);if($e!==0){let Mt;h==="fixed"?Mt=$e>0?"cw":"ccw":Mt=$e>0?"ccw":"cw";const Lt=Math.abs($e);for(let Vt=0;Vt<Lt;Vt++)xe(Mt);Q.current=Fe}}},[B,fe,xe,h]),me=he.useCallback(()=>{H(!1)},[]);he.useEffect(()=>{if(B)return document.addEventListener("mousemove",se),document.addEventListener("mouseup",me),()=>{document.removeEventListener("mousemove",se),document.removeEventListener("mouseup",me)}},[B,se,me]);const de=he.useCallback((Oe,Fe,Ke)=>{if(!$.current||Ke<=1)return{x:0,y:0};const{clientWidth:$e,clientHeight:Mt}=$.current,Lt=12,Vt=$e*(Ke-1)/2+Lt,tn=Mt*(Ke-1)/2+Lt;return{x:Math.max(-Vt,Math.min(Vt,Oe)),y:Math.max(-tn,Math.min(tn,Fe))}},[]);he.useEffect(()=>{D(Oe=>de(Oe.x,Oe.y,r))},[r,de]);const _e=he.useCallback(Oe=>{if(!J||!le.current)return;const Fe=Oe.clientX-le.current.x,Ke=Oe.clientY-le.current.y;D($e=>de($e.x+Fe,$e.y+Ke,r)),le.current={x:Oe.clientX,y:Oe.clientY}},[J,r,de]),Ne=he.useCallback(()=>{ie(!1),le.current=null},[]);he.useEffect(()=>{if(J)return document.addEventListener("mousemove",_e),document.addEventListener("mouseup",Ne),()=>{document.removeEventListener("mousemove",_e),document.removeEventListener("mouseup",Ne)}},[J,_e,Ne]);const Ce=Oe=>({x:(Oe[0].clientX+Oe[1].clientX)/2,y:(Oe[0].clientY+Oe[1].clientY)/2}),qe=he.useCallback(Oe=>{if(Oe.touches.length===2){Oe.preventDefault();const Fe=Oe.touches[0].clientX-Oe.touches[1].clientX,Ke=Oe.touches[0].clientY-Oe.touches[1].clientY;j.current=Math.sqrt(Fe*Fe+Ke*Ke),R.current=Ce(Oe.touches)}},[]),We=he.useCallback(Oe=>{if(Oe.touches.length===2&&j.current!==null){Oe.preventDefault(),Oe.stopPropagation();const Fe=Oe.touches[0].clientX-Oe.touches[1].clientX,Ke=Oe.touches[0].clientY-Oe.touches[1].clientY,$e=Math.sqrt(Fe*Fe+Ke*Ke),Mt=$e/j.current,Lt=Math.max(1,Math.min(2.5,r*Mt)),Vt=Lt>1.3?38:50,tn=Ce(Oe.touches);if(R.current){const Zt=tn.x-R.current.x,hn=tn.y-R.current.y;D(an=>de(an.x+Zt,an.y+hn,Lt))}j.current=$e,R.current=tn,t(Lt,Vt)}},[r,t,de]),Qe=he.useCallback(Oe=>{j.current=null,R.current=null,Oe.touches.length===0&&Oe.preventDefault()},[]),G=he.useCallback(Oe=>{if(Oe.ctrlKey||Oe.metaKey){Oe.preventDefault();const Fe=Oe.deltaY>0?.9:1.1,Ke=Math.max(1,Math.min(2.5,r*Fe)),$e=Ke>1.3?38:50;t(Ke,$e)}},[r,t]),je=sg(),rt=600,Ze=rt/2,Ee=rt/2,tt=60,nt=tt+8,ot=145,ut=ot,Tt=210,Ye=Tt,et=250,lt=he.useMemo(()=>b4(i),[i]),wt=he.useMemo(()=>lt.sharps>0?`${lt.sharps}`:lt.flats>0?`${lt.flats}`:"",[lt]),at=he.useRef(0),dt=Oe=>{const Fe=Oe,Ke=Date.now();Ke-at.current<300||(at.current=Ke,Mp(Oe.notes),W(Fe.segmentId??null),v(Oe))},st=Oe=>{const Fe=Oe;let Ke=null,$e=null;if(m&&y)Ke=m,$e=y;else if(m){const Mt=w.sections.find(Lt=>Lt.id===m);if(Mt)for(const Lt of Mt.measures){for(const Vt of Lt.beats)if(!Vt.chord){Ke=Mt.id,$e=Vt.id;break}if($e)break}}if(!Ke||!$e)for(const Mt of w.sections){for(const Lt of Mt.measures){for(const Vt of Lt.beats)if(!Vt.chord){Ke=Mt.id,$e=Vt.id;break}if($e)break}if($e)break}Ke&&$e&&(d(Oe,Ke,$e),N(Ke,$e)||(T(Ke,$e),W(Fe.segmentId??null),v(Oe)))},Gt=Oe=>(Oe-V+12)%12,Rt=(Oe,Fe)=>{const Ke=Gt(Oe);return Fe==="major"?Ke===0||Ke===1||Ke===11:Fe==="ii"||Fe==="iii"||Fe==="dim"?Ke===0:!1},_t=Oe=>Gt(Oe)===1,St=Oe=>{const Fe=Gt(Oe);return Fe===2||Fe===4},Ot=(Oe,Fe)=>{const Ke=Gt(Oe);if(Fe==="major"){if(Ke===0)return"I";if(Ke===1)return"V";if(Ke===11)return"IV";if(Ke===2)return"II";if(Ke===4)return"III"}if(Fe==="ii"){if(Ke===0)return"ii";if(Ke===1)return"vi"}return Fe==="iii"&&Ke===0?"iii":Fe==="dim"&&Ke===0?"vii":""},gt=(Oe,Fe)=>{const Ke=Gt(Oe);if(Fe==="major"){if(Ke===0)return"maj7, maj9, maj13 or 6";if(Ke===1)return"7, 9, 11, sus4, 13";if(Ke===11)return"maj7, maj9, maj13 or 6";if(Ke===2||Ke===4)return"7, sus4"}if(Fe==="ii"){if(Ke===0)return"m7, m9, m11, m6";if(Ke===1)return"m7, m9, m11"}return Fe==="iii"&&Ke===0?"m7":Fe==="dim"&&Ke===0?"m75 (7)":""},sn=Oe=>{if(I)return I===Oe.segmentId;const Fe=S?.segmentId;return Fe?Fe===Oe.segmentId:!1},Et=he.useCallback(Oe=>{Oe.touches.length===2?qe(Oe):Oe.touches.length===1&&ee(Oe)},[qe,ee]),Ft=he.useCallback(Oe=>{Oe.touches.length===2?We(Oe):Oe.touches.length===1&&re(Oe)},[We,re]),Nn=he.useCallback(Oe=>{X.current=null,k.current=!1,Qe(Oe)},[Qe]),[pt,ct]=he.useState(null),It=he.useCallback((Oe,Fe,Ke)=>{ct(Oe?{text:Oe,x:Fe,y:Ke}:null)},[]),hr=pt?{position:"fixed",left:pt.x,top:pt.y,transform:"translate(-50%, -100%) translateY(-12px)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"11px",pointerEvents:"none",zIndex:9999,whiteSpace:"normal",textAlign:"center",maxWidth:"220px",lineHeight:"1.4",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"}:{};return M.jsxs("div",{ref:$,className:`relative flex flex-col items-center justify-center w-full h-full max-w-full max-h-full aspect-square p-1 sm:p-2 select-none ${J?"cursor-grabbing":r>1&&!F?"cursor-grab":""}`,onTouchStart:Et,onTouchMove:Ft,onTouchEnd:Nn,onWheel:G,onMouseDown:U,style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"none"},children:[pt&&M.jsx("div",{style:hr,children:pt.text}),M.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`translate(${P.x}px, ${P.y}px) scale(${r})`,transformOrigin:`center ${e}%`},children:M.jsxs("svg",{ref:E,width:"100%",height:"100%",viewBox:`0 0 ${rt} ${rt}`,className:`w-full h-full select-none ${B?"cursor-grabbing":"cursor-grab"}`,onMouseDown:U,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[M.jsxs("defs",{children:[M.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[M.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),M.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),M.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:M.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),M.jsx("g",{style:{transform:`rotate(${C}deg)`,transformOrigin:`${Ze}px ${Ee}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:m4.map((Oe,Fe)=>{const $e=Fe*30-15,Mt=$e+30,Lt=je[Oe.major]||je.C,Vt=Oe.ii.replace("m",""),tn=Oe.iii.replace("m",""),Zt=Oe.diminished.replace("",""),hn=Rt(Fe,"major"),an=St(Fe),Ar=Rt(Fe,"ii")||_t(Fe),Bn=Rt(Fe,"iii"),fn=Rt(Fe,"dim"),Cn={root:Oe.major,quality:"major",numeral:Ot(Fe,"major"),notes:fh(Oe.major,"major"),symbol:Oe.major,segmentId:`major-${Fe}`,ringType:"major",positionIndex:Fe},br={root:Vt,quality:"minor",numeral:Ot(Fe,"ii"),notes:fh(Vt,"minor"),symbol:Oe.ii,segmentId:`ii-${Fe}`,ringType:"minor",positionIndex:Fe},Hr={root:tn,quality:"minor",numeral:Ot(Fe,"iii"),notes:fh(tn,"minor"),symbol:Oe.iii,segmentId:`iii-${Fe}`,ringType:"minor",positionIndex:Fe},Gr={root:Zt,quality:"diminished",numeral:Ot(Fe,"dim"),notes:fh(Zt,"diminished"),symbol:Oe.diminished,segmentId:`dim-${Fe}`,ringType:"diminished",positionIndex:Fe},Ks=15,Di=$e+-7.5,Os=Di+Ks,ji=Os,Gi=ji+Ks,Qs=15,Yi=$e+(30-Qs)/2,tr=Yi+Qs,Fo=Oe.major,_i=Oe.ii,Wi=Oe.iii,Ms=Oe.diminished;return M.jsxs("g",{children:[M.jsx(d1,{cx:Ze,cy:Ee,innerRadius:nt,outerRadius:ot,startAngle:$e,endAngle:Mt,color:Lt,label:Fo,chord:Cn,isSelected:sn(Cn),isDiatonic:hn,isSecondary:an,onClick:dt,onDoubleClick:st,ringType:"major",wheelRotation:C,romanNumeral:hn||an?Ot(Fe,"major"):void 0,voicingSuggestion:hn||an?gt(Fe,"major"):void 0,segmentId:`major-${Fe}`,onHover:It}),M.jsx(d1,{cx:Ze,cy:Ee,innerRadius:ut,outerRadius:Tt,startAngle:Di,endAngle:Os,color:Lt,label:_i,chord:br,isSelected:sn(br),isDiatonic:Ar,onClick:dt,onDoubleClick:st,ringType:"minor",wheelRotation:C,romanNumeral:Ar?Ot(Fe,"ii"):void 0,voicingSuggestion:Ar?gt(Fe,"ii"):void 0,segmentId:`ii-${Fe}`,onHover:It}),M.jsx(d1,{cx:Ze,cy:Ee,innerRadius:ut,outerRadius:Tt,startAngle:ji,endAngle:Gi,color:Lt,label:Wi,chord:Hr,isSelected:sn(Hr),isDiatonic:Bn,onClick:dt,onDoubleClick:st,ringType:"minor",wheelRotation:C,romanNumeral:Bn?Ot(Fe,"iii"):void 0,voicingSuggestion:Bn?gt(Fe,"iii"):void 0,segmentId:`iii-${Fe}`,onHover:It}),M.jsx(d1,{cx:Ze,cy:Ee,innerRadius:Ye,outerRadius:et,startAngle:Yi,endAngle:tr,color:Lt,label:Ms,chord:Gr,isSelected:sn(Gr),isDiatonic:fn,onClick:dt,onDoubleClick:st,ringType:"diminished",wheelRotation:C,romanNumeral:fn?Ot(Fe,"dim"):void 0,voicingSuggestion:fn?gt(Fe,"dim"):void 0,segmentId:`dim-${Fe}`,onHover:It})]},Oe.major)})}),M.jsx("circle",{cx:Ze,cy:Ee,r:tt,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2",style:{pointerEvents:"none"}}),M.jsx("text",{x:Ze,y:Ee-25,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),M.jsx("text",{x:Ze,y:Ee+3,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:i}),M.jsx("text",{x:Ze,y:Ee+21,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:wt||"No /"}),M.jsxs("g",{transform:`translate(${Ze-22}, ${Ee+40})`,onClick:()=>xe("ccw"),onTouchEnd:Oe=>{Oe.preventDefault(),Oe.stopPropagation(),xe("ccw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[M.jsx("circle",{r:F?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),M.jsx("g",{transform:F?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:M.jsx(hx,{size:F?12:9,color:"#9898a6"})})]}),M.jsxs("g",{transform:`translate(${Ze+22}, ${Ee+40})`,onClick:()=>xe("cw"),onTouchEnd:Oe=>{Oe.preventDefault(),Oe.stopPropagation(),xe("cw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[M.jsx("circle",{r:F?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),M.jsx("g",{transform:F?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:M.jsx(fx,{size:F?12:9,color:"#9898a6"})})]}),M.jsxs("g",{transform:`translate(${Ze}, ${Ee+40})`,onClick:f,onTouchEnd:Oe=>{Oe.preventDefault(),Oe.stopPropagation(),f()},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[M.jsx("circle",{r:F?16:11,fill:h==="rotating"?"#252535":"#3f2e2e",className:"transition-colors",style:{pointerEvents:"all",transition:"fill 0.3s ease"},children:M.jsx("title",{children:h==="rotating"?"Lock wheel (C at top)":"Pin current key to top"})}),M.jsxs("g",{style:{pointerEvents:"none",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",transform:h==="rotating"?"rotate(0deg)":`rotate(${V*30}deg)`,transformOrigin:"0px 0px"},children:[M.jsx("polygon",{points:F?"0,-10 4,0 0,1.5 -4,0":"0,-7 2.5,0 0,1 -2.5,0",fill:"#ef4444",stroke:"#b91c1c",strokeWidth:"0.5"}),M.jsx("polygon",{points:F?"0,10 4,0 0,-1.5 -4,0":"0,7 2.5,0 0,-1 -2.5,0",fill:"#f1f5f9",stroke:"#94a3b8",strokeWidth:"0.5"}),M.jsx("circle",{cx:0,cy:0,r:F?2:1.5,fill:h==="rotating"?"#fef2f2":"#6b7280"})]})]})]})})]})};var Of=Wy();function MT(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return he.useMemo(()=>i=>{e.forEach(a=>a(i))},e)}const Lp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vh(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function $g(r){return"nodeType"in r}function ss(r){var e,t;return r?Vh(r)?r:$g(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function Kg(r){const{Document:e}=ss(r);return r instanceof e}function fd(r){return Vh(r)?!1:r instanceof ss(r).HTMLElement}function Ax(r){return r instanceof ss(r).SVGElement}function Fh(r){return r?Vh(r)?r.document:$g(r)?Kg(r)?r:fd(r)||Ax(r)?r.ownerDocument:document:document:document}const eo=Lp?he.useLayoutEffect:he.useEffect;function Dp(r){const e=he.useRef(r);return eo(()=>{e.current=r}),he.useCallback(function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}function LT(){const r=he.useRef(null),e=he.useCallback((i,a)=>{r.current=setInterval(i,a)},[]),t=he.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function Wf(r,e){e===void 0&&(e=[r]);const t=he.useRef(r);return eo(()=>{t.current!==r&&(t.current=r)},e),t}function dd(r,e){const t=he.useRef();return he.useMemo(()=>{const i=r(t.current);return t.current=i,i},[...e])}function tp(r){const e=Dp(r),t=he.useRef(null),i=he.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,i]}function np(r){const e=he.useRef();return he.useEffect(()=>{e.current=r},[r]),e.current}let sm={};function pd(r,e){return he.useMemo(()=>{if(e)return e;const t=sm[r]==null?0:sm[r]+1;return sm[r]=t,r+"-"+t},[r,e])}function Nx(r){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return i.reduce((o,h)=>{const c=Object.entries(h);for(const[f,d]of c){const m=o[f];m!=null&&(o[f]=m+r*d)}return o},{...e})}}const xh=Nx(1),Xf=Nx(-1);function DT(r){return"clientX"in r&&"clientY"in r}function jp(r){if(!r)return!1;const{KeyboardEvent:e}=ss(r.target);return e&&r instanceof e}function jT(r){if(!r)return!1;const{TouchEvent:e}=ss(r.target);return e&&r instanceof e}function rp(r){if(jT(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return DT(r)?{x:r.clientX,y:r.clientY}:null}const gc=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[gc.Translate.toString(r),gc.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:i}=r;return e+" "+t+"ms "+i}}}),hb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function RT(r){return r.matches(hb)?r:r.querySelector(hb)}const IT={display:"none"};function VT(r){let{id:e,value:t}=r;return gn.createElement("div",{id:e,style:IT},t)}function FT(r){let{id:e,announcement:t,ariaLiveType:i="assertive"}=r;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return gn.createElement("div",{id:e,style:a,role:"status","aria-live":i,"aria-atomic":!0},t)}function BT(){const[r,e]=he.useState("");return{announce:he.useCallback(i=>{i!=null&&e(i)},[]),announcement:r}}const Cx=he.createContext(null);function Tx(r){const e=he.useContext(Cx);he.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function qT(){const[r]=he.useState(()=>new Set),e=he.useCallback(i=>(r.add(i),()=>r.delete(i)),[r]);return[he.useCallback(i=>{let{type:a,event:o}=i;r.forEach(h=>{var c;return(c=h[a])==null?void 0:c.call(h,o)})},[r]),e]}const zT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},PT={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function UT(r){let{announcements:e=PT,container:t,hiddenTextDescribedById:i,screenReaderInstructions:a=zT}=r;const{announce:o,announcement:h}=BT(),c=pd("DndLiveRegion"),[f,d]=he.useState(!1);if(he.useEffect(()=>{d(!0)},[]),Tx(he.useMemo(()=>({onDragStart(y){let{active:w}=y;o(e.onDragStart({active:w}))},onDragMove(y){let{active:w,over:v}=y;e.onDragMove&&o(e.onDragMove({active:w,over:v}))},onDragOver(y){let{active:w,over:v}=y;o(e.onDragOver({active:w,over:v}))},onDragEnd(y){let{active:w,over:v}=y;o(e.onDragEnd({active:w,over:v}))},onDragCancel(y){let{active:w,over:v}=y;o(e.onDragCancel({active:w,over:v}))}}),[o,e])),!f)return null;const m=gn.createElement(gn.Fragment,null,gn.createElement(VT,{id:i,value:a.draggable}),gn.createElement(FT,{id:c,announcement:h}));return t?Of.createPortal(m,t):m}var ui;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(ui||(ui={}));function ip(){}function fb(r,e){return he.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function HT(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return he.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const to=Object.freeze({x:0,y:0});function Ex(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function GT(r,e){const t=rp(r);if(!t)return"0 0";const i={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function kx(r,e){let{data:{value:t}}=r,{data:{value:i}}=e;return t-i}function YT(r,e){let{data:{value:t}}=r,{data:{value:i}}=e;return i-t}function db(r){let{left:e,top:t,height:i,width:a}=r;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+i},{x:e+a,y:t+i}]}function Ox(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}function pb(r,e,t){return e===void 0&&(e=r.left),t===void 0&&(t=r.top),{x:e+r.width*.5,y:t+r.height*.5}}const WT=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=pb(e,e.left,e.top),o=[];for(const h of i){const{id:c}=h,f=t.get(c);if(f){const d=Ex(pb(f),a);o.push({id:c,data:{droppableContainer:h,value:d}})}}return o.sort(kx)},XT=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=db(e),o=[];for(const h of i){const{id:c}=h,f=t.get(c);if(f){const d=db(f),m=a.reduce((w,v,S)=>w+Ex(d[S],v),0),y=Number((m/4).toFixed(4));o.push({id:c,data:{droppableContainer:h,value:y}})}}return o.sort(kx)};function ZT(r,e){const t=Math.max(e.top,r.top),i=Math.max(e.left,r.left),a=Math.min(e.left+e.width,r.left+r.width),o=Math.min(e.top+e.height,r.top+r.height),h=a-i,c=o-t;if(i<a&&t<o){const f=e.width*e.height,d=r.width*r.height,m=h*c,y=m/(f+d-m);return Number(y.toFixed(4))}return 0}const $T=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=[];for(const o of i){const{id:h}=o,c=t.get(h);if(c){const f=ZT(c,e);f>0&&a.push({id:h,data:{droppableContainer:o,value:f}})}}return a.sort(YT)};function KT(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function Mx(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:to}function QT(r){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return a.reduce((h,c)=>({...h,top:h.top+r*c.y,bottom:h.bottom+r*c.y,left:h.left+r*c.x,right:h.right+r*c.x}),{...t})}}const JT=QT(1);function Lx(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function e7(r,e,t){const i=Lx(e);if(!i)return r;const{scaleX:a,scaleY:o,x:h,y:c}=i,f=r.left-h-(1-a)*parseFloat(t),d=r.top-c-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),m=a?r.width/a:r.width,y=o?r.height/o:r.height;return{width:m,height:y,top:d,right:f+m,bottom:d+y,left:f}}const t7={ignoreTransform:!1};function Bh(r,e){e===void 0&&(e=t7);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:m}=ss(r).getComputedStyle(r);d&&(t=e7(t,d,m))}const{top:i,left:a,width:o,height:h,bottom:c,right:f}=t;return{top:i,left:a,width:o,height:h,bottom:c,right:f}}function mb(r){return Bh(r,{ignoreTransform:!0})}function n7(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function r7(r,e){return e===void 0&&(e=ss(r).getComputedStyle(r)),e.position==="fixed"}function i7(r,e){e===void 0&&(e=ss(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function Rp(r,e){const t=[];function i(a){if(e!=null&&t.length>=e||!a)return t;if(Kg(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!fd(a)||Ax(a)||t.includes(a))return t;const o=ss(r).getComputedStyle(a);return a!==r&&i7(a,o)&&t.push(a),r7(a,o)?t:i(a.parentNode)}return r?i(r):t}function Dx(r){const[e]=Rp(r,1);return e??null}function am(r){return!Lp||!r?null:Vh(r)?r:$g(r)?Kg(r)||r===Fh(r).scrollingElement?window:fd(r)?r:null:null}function jx(r){return Vh(r)?r.scrollX:r.scrollLeft}function Rx(r){return Vh(r)?r.scrollY:r.scrollTop}function Um(r){return{x:jx(r),y:Rx(r)}}var bi;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(bi||(bi={}));function Ix(r){return!Lp||!r?!1:r===document.scrollingElement}function Vx(r){const e={x:0,y:0},t=Ix(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},i={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},a=r.scrollTop<=e.y,o=r.scrollLeft<=e.x,h=r.scrollTop>=i.y,c=r.scrollLeft>=i.x;return{isTop:a,isLeft:o,isBottom:h,isRight:c,maxScroll:i,minScroll:e}}const s7={x:.2,y:.2};function a7(r,e,t,i,a){let{top:o,left:h,right:c,bottom:f}=t;i===void 0&&(i=10),a===void 0&&(a=s7);const{isTop:d,isBottom:m,isLeft:y,isRight:w}=Vx(r),v={x:0,y:0},S={x:0,y:0},N={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+N.height?(v.y=bi.Backward,S.y=i*Math.abs((e.top+N.height-o)/N.height)):!m&&f>=e.bottom-N.height&&(v.y=bi.Forward,S.y=i*Math.abs((e.bottom-N.height-f)/N.height)),!w&&c>=e.right-N.width?(v.x=bi.Forward,S.x=i*Math.abs((e.right-N.width-c)/N.width)):!y&&h<=e.left+N.width&&(v.x=bi.Backward,S.x=i*Math.abs((e.left+N.width-h)/N.width)),{direction:v,speed:S}}function o7(r){if(r===document.scrollingElement){const{innerWidth:o,innerHeight:h}=window;return{top:0,left:0,right:o,bottom:h,width:o,height:h}}const{top:e,left:t,right:i,bottom:a}=r.getBoundingClientRect();return{top:e,left:t,right:i,bottom:a,width:r.clientWidth,height:r.clientHeight}}function Fx(r){return r.reduce((e,t)=>xh(e,Um(t)),to)}function l7(r){return r.reduce((e,t)=>e+jx(t),0)}function c7(r){return r.reduce((e,t)=>e+Rx(t),0)}function Bx(r,e){if(e===void 0&&(e=Bh),!r)return;const{top:t,left:i,bottom:a,right:o}=e(r);Dx(r)&&(a<=0||o<=0||t>=window.innerHeight||i>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const u7=[["x",["left","right"],l7],["y",["top","bottom"],c7]];class Qg{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Rp(t),a=Fx(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,h,c]of u7)for(const f of h)Object.defineProperty(this,f,{get:()=>{const d=c(i),m=a[o]-d;return this.rect[f]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class jf{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...t)})},this.target=e}add(e,t,i){var a;(a=this.target)==null||a.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function h7(r){const{EventTarget:e}=ss(r);return r instanceof e?r:Fh(r)}function om(r,e){const t=Math.abs(r.x),i=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+i**2)>e:"x"in e&&"y"in e?t>e.x&&i>e.y:"x"in e?t>e.x:"y"in e?i>e.y:!1}var ma;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(ma||(ma={}));function gb(r){r.preventDefault()}function f7(r){r.stopPropagation()}var xn;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(xn||(xn={}));const qx={start:[xn.Space,xn.Enter],cancel:[xn.Esc],end:[xn.Space,xn.Enter,xn.Tab]},d7=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case xn.Right:return{...t,x:t.x+25};case xn.Left:return{...t,x:t.x-25};case xn.Down:return{...t,y:t.y+25};case xn.Up:return{...t,y:t.y-25}}};class Jg{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new jf(Fh(t)),this.windowListeners=new jf(ss(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ma.Resize,this.handleCancel),this.windowListeners.add(ma.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ma.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&Bx(i),t(to)}handleKeyDown(e){if(jp(e)){const{active:t,context:i,options:a}=this.props,{keyboardCodes:o=qx,coordinateGetter:h=d7,scrollBehavior:c="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:d}=i.current,m=d?{x:d.left,y:d.top}:to;this.referenceCoordinates||(this.referenceCoordinates=m);const y=h(e,{active:t,context:i.current,currentCoordinates:m});if(y){const w=Xf(y,m),v={x:0,y:0},{scrollableAncestors:S}=i.current;for(const N of S){const T=e.code,{isTop:C,isRight:V,isLeft:j,isBottom:R,maxScroll:I,minScroll:W}=Vx(N),P=o7(N),D={x:Math.min(T===xn.Right?P.right-P.width/2:P.right,Math.max(T===xn.Right?P.left:P.left+P.width/2,y.x)),y:Math.min(T===xn.Down?P.bottom-P.height/2:P.bottom,Math.max(T===xn.Down?P.top:P.top+P.height/2,y.y))},F=T===xn.Right&&!V||T===xn.Left&&!j,$=T===xn.Down&&!R||T===xn.Up&&!C;if(F&&D.x!==y.x){const E=N.scrollLeft+w.x,B=T===xn.Right&&E<=I.x||T===xn.Left&&E>=W.x;if(B&&!w.y){N.scrollTo({left:E,behavior:c});return}B?v.x=N.scrollLeft-E:v.x=T===xn.Right?N.scrollLeft-I.x:N.scrollLeft-W.x,v.x&&N.scrollBy({left:-v.x,behavior:c});break}else if($&&D.y!==y.y){const E=N.scrollTop+w.y,B=T===xn.Down&&E<=I.y||T===xn.Up&&E>=W.y;if(B&&!w.x){N.scrollTo({top:E,behavior:c});return}B?v.y=N.scrollTop-E:v.y=T===xn.Down?N.scrollTop-I.y:N.scrollTop-W.y,v.y&&N.scrollBy({top:-v.y,behavior:c});break}}this.handleMove(e,xh(Xf(y,this.referenceCoordinates),v))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Jg.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:i=qx,onActivation:a}=e,{active:o}=t;const{code:h}=r.nativeEvent;if(i.start.includes(h)){const c=o.activatorNode.current;return c&&r.target!==c?!1:(r.preventDefault(),a?.({event:r.nativeEvent}),!0)}return!1}}];function vb(r){return!!(r&&"distance"in r)}function bb(r){return!!(r&&"delay"in r)}class e2{constructor(e,t,i){var a;i===void 0&&(i=h7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:h}=o;this.props=e,this.events=t,this.document=Fh(h),this.documentListeners=new jf(this.document),this.listeners=new jf(i),this.windowListeners=new jf(ss(h)),this.initialCoordinates=(a=rp(o))!=null?a:to,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ma.Resize,this.handleCancel),this.windowListeners.add(ma.DragStart,gb),this.windowListeners.add(ma.VisibilityChange,this.handleCancel),this.windowListeners.add(ma.ContextMenu,gb),this.documentListeners.add(ma.Keydown,this.handleKeydown),t){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(bb(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(vb(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:i,onPending:a}=this.props;a(i,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ma.Click,f7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ma.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:a,props:o}=this,{onMove:h,options:{activationConstraint:c}}=o;if(!a)return;const f=(t=rp(e))!=null?t:to,d=Xf(a,f);if(!i&&c){if(vb(c)){if(c.tolerance!=null&&om(d,c.tolerance))return this.handleCancel();if(om(d,c.distance))return this.handleStart()}if(bb(c)&&om(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),h(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===xn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const p7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class t2 extends e2{constructor(e){const{event:t}=e,i=Fh(t.target);super(e,p7,i)}}t2.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;return!t.isPrimary||t.button!==0?!1:(i?.({event:t}),!0)}}];const m7={move:{name:"mousemove"},end:{name:"mouseup"}};var Hm;(function(r){r[r.RightClick=2]="RightClick"})(Hm||(Hm={}));class g7 extends e2{constructor(e){super(e,m7,Fh(e.event.target))}}g7.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;return t.button===Hm.RightClick?!1:(i?.({event:t}),!0)}}];const lm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class v7 extends e2{constructor(e){super(e,lm)}static setup(){return window.addEventListener(lm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(lm.move.name,e)};function e(){}}}v7.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;const{touches:a}=t;return a.length>1?!1:(i?.({event:t}),!0)}}];var Rf;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Rf||(Rf={}));var sp;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(sp||(sp={}));function b7(r){let{acceleration:e,activator:t=Rf.Pointer,canScroll:i,draggingRect:a,enabled:o,interval:h=5,order:c=sp.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:m,delta:y,threshold:w}=r;const v=x7({delta:y,disabled:!o}),[S,N]=LT(),T=he.useRef({x:0,y:0}),C=he.useRef({x:0,y:0}),V=he.useMemo(()=>{switch(t){case Rf.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Rf.DraggableRect:return a}},[t,a,f]),j=he.useRef(null),R=he.useCallback(()=>{const W=j.current;if(!W)return;const P=T.current.x*C.current.x,D=T.current.y*C.current.y;W.scrollBy(P,D)},[]),I=he.useMemo(()=>c===sp.TreeOrder?[...d].reverse():d,[c,d]);he.useEffect(()=>{if(!o||!d.length||!V){N();return}for(const W of I){if(i?.(W)===!1)continue;const P=d.indexOf(W),D=m[P];if(!D)continue;const{direction:F,speed:$}=a7(W,D,V,e,w);for(const E of["x","y"])v[E][F[E]]||($[E]=0,F[E]=0);if($.x>0||$.y>0){N(),j.current=W,S(R,h),T.current=$,C.current=F;return}}T.current={x:0,y:0},C.current={x:0,y:0},N()},[e,R,i,N,o,h,JSON.stringify(V),JSON.stringify(v),S,d,I,m,JSON.stringify(w)])}const y7={x:{[bi.Backward]:!1,[bi.Forward]:!1},y:{[bi.Backward]:!1,[bi.Forward]:!1}};function x7(r){let{delta:e,disabled:t}=r;const i=np(e);return dd(a=>{if(t||!i||!a)return y7;const o={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[bi.Backward]:a.x[bi.Backward]||o.x===-1,[bi.Forward]:a.x[bi.Forward]||o.x===1},y:{[bi.Backward]:a.y[bi.Backward]||o.y===-1,[bi.Forward]:a.y[bi.Forward]||o.y===1}}},[t,e,i])}function _7(r,e){const t=e!=null?r.get(e):void 0,i=t?t.node.current:null;return dd(a=>{var o;return e==null?null:(o=i??a)!=null?o:null},[i,e])}function w7(r,e){return he.useMemo(()=>r.reduce((t,i)=>{const{sensor:a}=i,o=a.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,i)}));return[...t,...o]},[]),[r,e])}var Zf;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(Zf||(Zf={}));var Gm;(function(r){r.Optimized="optimized"})(Gm||(Gm={}));const yb=new Map;function S7(r,e){let{dragging:t,dependencies:i,config:a}=e;const[o,h]=he.useState(null),{frequency:c,measure:f,strategy:d}=a,m=he.useRef(r),y=T(),w=Wf(y),v=he.useCallback(function(C){C===void 0&&(C=[]),!w.current&&h(V=>V===null?C:V.concat(C.filter(j=>!V.includes(j))))},[w]),S=he.useRef(null),N=dd(C=>{if(y&&!t)return yb;if(!C||C===yb||m.current!==r||o!=null){const V=new Map;for(let j of r){if(!j)continue;if(o&&o.length>0&&!o.includes(j.id)&&j.rect.current){V.set(j.id,j.rect.current);continue}const R=j.node.current,I=R?new Qg(f(R),R):null;j.rect.current=I,I&&V.set(j.id,I)}return V}return C},[r,o,t,y,f]);return he.useEffect(()=>{m.current=r},[r]),he.useEffect(()=>{y||v()},[t,y]),he.useEffect(()=>{o&&o.length>0&&h(null)},[JSON.stringify(o)]),he.useEffect(()=>{y||typeof c!="number"||S.current!==null||(S.current=setTimeout(()=>{v(),S.current=null},c))},[c,y,v,...i]),{droppableRects:N,measureDroppableContainers:v,measuringScheduled:o!=null};function T(){switch(d){case Zf.Always:return!1;case Zf.BeforeDragging:return t;default:return!t}}}function n2(r,e){return dd(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function A7(r,e){return n2(r,e)}function N7(r){let{callback:e,disabled:t}=r;const i=Dp(e),a=he.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,t]);return he.useEffect(()=>()=>a?.disconnect(),[a]),a}function Ip(r){let{callback:e,disabled:t}=r;const i=Dp(e),a=he.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[t]);return he.useEffect(()=>()=>a?.disconnect(),[a]),a}function C7(r){return new Qg(Bh(r),r)}function xb(r,e,t){e===void 0&&(e=C7);const[i,a]=he.useState(null);function o(){a(f=>{if(!r)return null;if(r.isConnected===!1){var d;return(d=f??t)!=null?d:null}const m=e(r);return JSON.stringify(f)===JSON.stringify(m)?f:m})}const h=N7({callback(f){if(r)for(const d of f){const{type:m,target:y}=d;if(m==="childList"&&y instanceof HTMLElement&&y.contains(r)){o();break}}}}),c=Ip({callback:o});return eo(()=>{o(),r?(c?.observe(r),h?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),h?.disconnect())},[r]),i}function T7(r){const e=n2(r);return Mx(r,e)}const _b=[];function E7(r){const e=he.useRef(r),t=dd(i=>r?i&&i!==_b&&r&&e.current&&r.parentNode===e.current.parentNode?i:Rp(r):_b,[r]);return he.useEffect(()=>{e.current=r},[r]),t}function k7(r){const[e,t]=he.useState(null),i=he.useRef(r),a=he.useCallback(o=>{const h=am(o.target);h&&t(c=>c?(c.set(h,Um(h)),new Map(c)):null)},[]);return he.useEffect(()=>{const o=i.current;if(r!==o){h(o);const c=r.map(f=>{const d=am(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,Um(d)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),i.current=r}return()=>{h(r),h(o)};function h(c){c.forEach(f=>{const d=am(f);d?.removeEventListener("scroll",a)})}},[a,r]),he.useMemo(()=>r.length?e?Array.from(e.values()).reduce((o,h)=>xh(o,h),to):Fx(r):to,[r,e])}function wb(r,e){e===void 0&&(e=[]);const t=he.useRef(null);return he.useEffect(()=>{t.current=null},e),he.useEffect(()=>{const i=r!==to;i&&!t.current&&(t.current=r),!i&&t.current&&(t.current=null)},[r]),t.current?Xf(r,t.current):to}function O7(r){he.useEffect(()=>{if(!Lp)return;const e=r.map(t=>{let{sensor:i}=t;return i.setup==null?void 0:i.setup()});return()=>{for(const t of e)t?.()}},r.map(e=>{let{sensor:t}=e;return t}))}function M7(r,e){return he.useMemo(()=>r.reduce((t,i)=>{let{eventName:a,handler:o}=i;return t[a]=h=>{o(h,e)},t},{}),[r,e])}function zx(r){return he.useMemo(()=>r?n7(r):null,[r])}const Sb=[];function L7(r,e){e===void 0&&(e=Bh);const[t]=r,i=zx(t?ss(t):null),[a,o]=he.useState(Sb);function h(){o(()=>r.length?r.map(f=>Ix(f)?i:new Qg(e(f),f)):Sb)}const c=Ip({callback:h});return eo(()=>{c?.disconnect(),h(),r.forEach(f=>c?.observe(f))},[r]),a}function Px(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return fd(e)?e:r}function D7(r){let{measure:e}=r;const[t,i]=he.useState(null),a=he.useCallback(d=>{for(const{target:m}of d)if(fd(m)){i(y=>{const w=e(m);return y?{...y,width:w.width,height:w.height}:w});break}},[e]),o=Ip({callback:a}),h=he.useCallback(d=>{const m=Px(d);o?.disconnect(),m&&o?.observe(m),i(m?e(m):null)},[e,o]),[c,f]=tp(h);return he.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const j7=[{sensor:t2,options:{}},{sensor:Jg,options:{}}],R7={current:{}},k1={draggable:{measure:mb},droppable:{measure:mb,strategy:Zf.WhileDragging,frequency:Gm.Optimized},dragOverlay:{measure:Bh}};class If extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return(t=(i=this.get(e))==null?void 0:i.node.current)!=null?t:void 0}}const I7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new If,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ip},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:k1,measureDroppableContainers:ip,windowRect:null,measuringScheduled:!1},Ux={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ip,draggableNodes:new Map,over:null,measureDroppableContainers:ip},md=he.createContext(Ux),Hx=he.createContext(I7);function V7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new If}}}function F7(r,e){switch(e.type){case ui.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ui.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case ui.DragEnd:case ui.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ui.RegisterDroppable:{const{element:t}=e,{id:i}=t,a=new If(r.droppable.containers);return a.set(i,t),{...r,droppable:{...r.droppable,containers:a}}}case ui.SetDroppableDisabled:{const{id:t,key:i,disabled:a}=e,o=r.droppable.containers.get(t);if(!o||i!==o.key)return r;const h=new If(r.droppable.containers);return h.set(t,{...o,disabled:a}),{...r,droppable:{...r.droppable,containers:h}}}case ui.UnregisterDroppable:{const{id:t,key:i}=e,a=r.droppable.containers.get(t);if(!a||i!==a.key)return r;const o=new If(r.droppable.containers);return o.delete(t),{...r,droppable:{...r.droppable,containers:o}}}default:return r}}function B7(r){let{disabled:e}=r;const{active:t,activatorEvent:i,draggableNodes:a}=he.useContext(md),o=np(i),h=np(t?.id);return he.useEffect(()=>{if(!e&&!i&&o&&h!=null){if(!jp(o)||document.activeElement===o.target)return;const c=a.get(h);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const m of[f.current,d.current]){if(!m)continue;const y=RT(m);if(y){y.focus();break}}})}},[i,e,a,h,o]),null}function Gx(r,e){let{transform:t,...i}=e;return r!=null&&r.length?r.reduce((a,o)=>o({transform:a,...i}),t):t}function q7(r){return he.useMemo(()=>({draggable:{...k1.draggable,...r?.draggable},droppable:{...k1.droppable,...r?.droppable},dragOverlay:{...k1.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function z7(r){let{activeNode:e,measure:t,initialRect:i,config:a=!0}=r;const o=he.useRef(!1),{x:h,y:c}=typeof a=="boolean"?{x:a,y:a}:a;eo(()=>{if(!h&&!c||!e){o.current=!1;return}if(o.current||!i)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const m=t(d),y=Mx(m,i);if(h||(y.x=0),c||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=Dx(d);w&&w.scrollBy({top:y.y,left:y.x})}},[e,h,c,i,t])}const Vp=he.createContext({...to,scaleX:1,scaleY:1});var oc;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(oc||(oc={}));const P7=he.memo(function(e){var t,i,a,o;let{id:h,accessibility:c,autoScroll:f=!0,children:d,sensors:m=j7,collisionDetection:y=$T,measuring:w,modifiers:v,...S}=e;const N=he.useReducer(F7,void 0,V7),[T,C]=N,[V,j]=qT(),[R,I]=he.useState(oc.Uninitialized),W=R===oc.Initialized,{draggable:{active:P,nodes:D,translate:F},droppable:{containers:$}}=T,E=P!=null?D.get(P):null,B=he.useRef({initial:null,translated:null}),H=he.useMemo(()=>{var pt;return P!=null?{id:P,data:(pt=E?.data)!=null?pt:R7,rect:B}:null},[P,E]),Q=he.useRef(null),[ue,J]=he.useState(null),[ie,le]=he.useState(null),fe=Wf(S,Object.values(S)),xe=pd("DndDescribedBy",h),X=he.useMemo(()=>$.getEnabled(),[$]),k=q7(w),{droppableRects:U,measureDroppableContainers:ee,measuringScheduled:re}=S7(X,{dragging:W,dependencies:[F.x,F.y],config:k.droppable}),se=_7(D,P),me=he.useMemo(()=>ie?rp(ie):null,[ie]),de=Nn(),_e=A7(se,k.draggable.measure);z7({activeNode:P!=null?D.get(P):null,config:de.layoutShiftCompensation,initialRect:_e,measure:k.draggable.measure});const Ne=xb(se,k.draggable.measure,_e),Ce=xb(se?se.parentElement:null),qe=he.useRef({activatorEvent:null,active:null,activeNode:se,collisionRect:null,collisions:null,droppableRects:U,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:$,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),We=$.getNodeFor((t=qe.current.over)==null?void 0:t.id),Qe=D7({measure:k.dragOverlay.measure}),G=(i=Qe.nodeRef.current)!=null?i:se,je=W?(a=Qe.rect)!=null?a:Ne:null,rt=!!(Qe.nodeRef.current&&Qe.rect),Ze=T7(rt?null:Ne),Ee=zx(G?ss(G):null),tt=E7(W?We??se:null),nt=L7(tt),ot=Gx(v,{transform:{x:F.x-Ze.x,y:F.y-Ze.y,scaleX:1,scaleY:1},activatorEvent:ie,active:H,activeNodeRect:Ne,containerNodeRect:Ce,draggingNodeRect:je,over:qe.current.over,overlayNodeRect:Qe.rect,scrollableAncestors:tt,scrollableAncestorRects:nt,windowRect:Ee}),ut=me?xh(me,F):null,Tt=k7(tt),Ye=wb(Tt),et=wb(Tt,[Ne]),lt=xh(ot,Ye),wt=je?JT(je,ot):null,at=H&&wt?y({active:H,collisionRect:wt,droppableRects:U,droppableContainers:X,pointerCoordinates:ut}):null,dt=Ox(at,"id"),[st,Gt]=he.useState(null),Rt=rt?ot:xh(ot,et),_t=KT(Rt,(o=st?.rect)!=null?o:null,Ne),St=he.useRef(null),Ot=he.useCallback((pt,ct)=>{let{sensor:It,options:hr}=ct;if(Q.current==null)return;const Oe=D.get(Q.current);if(!Oe)return;const Fe=pt.nativeEvent,Ke=new It({active:Q.current,activeNode:Oe,event:Fe,options:hr,context:qe,onAbort(Mt){if(!D.get(Mt))return;const{onDragAbort:Vt}=fe.current,tn={id:Mt};Vt?.(tn),V({type:"onDragAbort",event:tn})},onPending(Mt,Lt,Vt,tn){if(!D.get(Mt))return;const{onDragPending:hn}=fe.current,an={id:Mt,constraint:Lt,initialCoordinates:Vt,offset:tn};hn?.(an),V({type:"onDragPending",event:an})},onStart(Mt){const Lt=Q.current;if(Lt==null)return;const Vt=D.get(Lt);if(!Vt)return;const{onDragStart:tn}=fe.current,Zt={activatorEvent:Fe,active:{id:Lt,data:Vt.data,rect:B}};Of.unstable_batchedUpdates(()=>{tn?.(Zt),I(oc.Initializing),C({type:ui.DragStart,initialCoordinates:Mt,active:Lt}),V({type:"onDragStart",event:Zt}),J(St.current),le(Fe)})},onMove(Mt){C({type:ui.DragMove,coordinates:Mt})},onEnd:$e(ui.DragEnd),onCancel:$e(ui.DragCancel)});St.current=Ke;function $e(Mt){return async function(){const{active:Vt,collisions:tn,over:Zt,scrollAdjustedTranslate:hn}=qe.current;let an=null;if(Vt&&hn){const{cancelDrop:Ar}=fe.current;an={activatorEvent:Fe,active:Vt,collisions:tn,delta:hn,over:Zt},Mt===ui.DragEnd&&typeof Ar=="function"&&await Promise.resolve(Ar(an))&&(Mt=ui.DragCancel)}Q.current=null,Of.unstable_batchedUpdates(()=>{C({type:Mt}),I(oc.Uninitialized),Gt(null),J(null),le(null),St.current=null;const Ar=Mt===ui.DragEnd?"onDragEnd":"onDragCancel";if(an){const Bn=fe.current[Ar];Bn?.(an),V({type:Ar,event:an})}})}}},[D]),gt=he.useCallback((pt,ct)=>(It,hr)=>{const Oe=It.nativeEvent,Fe=D.get(hr);if(Q.current!==null||!Fe||Oe.dndKit||Oe.defaultPrevented)return;const Ke={active:Fe};pt(It,ct.options,Ke)===!0&&(Oe.dndKit={capturedBy:ct.sensor},Q.current=hr,Ot(It,ct))},[D,Ot]),sn=w7(m,gt);O7(m),eo(()=>{Ne&&R===oc.Initializing&&I(oc.Initialized)},[Ne,R]),he.useEffect(()=>{const{onDragMove:pt}=fe.current,{active:ct,activatorEvent:It,collisions:hr,over:Oe}=qe.current;if(!ct||!It)return;const Fe={active:ct,activatorEvent:It,collisions:hr,delta:{x:lt.x,y:lt.y},over:Oe};Of.unstable_batchedUpdates(()=>{pt?.(Fe),V({type:"onDragMove",event:Fe})})},[lt.x,lt.y]),he.useEffect(()=>{const{active:pt,activatorEvent:ct,collisions:It,droppableContainers:hr,scrollAdjustedTranslate:Oe}=qe.current;if(!pt||Q.current==null||!ct||!Oe)return;const{onDragOver:Fe}=fe.current,Ke=hr.get(dt),$e=Ke&&Ke.rect.current?{id:Ke.id,rect:Ke.rect.current,data:Ke.data,disabled:Ke.disabled}:null,Mt={active:pt,activatorEvent:ct,collisions:It,delta:{x:Oe.x,y:Oe.y},over:$e};Of.unstable_batchedUpdates(()=>{Gt($e),Fe?.(Mt),V({type:"onDragOver",event:Mt})})},[dt]),eo(()=>{qe.current={activatorEvent:ie,active:H,activeNode:se,collisionRect:wt,collisions:at,droppableRects:U,draggableNodes:D,draggingNode:G,draggingNodeRect:je,droppableContainers:$,over:st,scrollableAncestors:tt,scrollAdjustedTranslate:lt},B.current={initial:je,translated:wt}},[H,se,at,wt,D,G,je,U,$,st,tt,lt]),b7({...de,delta:F,draggingRect:wt,pointerCoordinates:ut,scrollableAncestors:tt,scrollableAncestorRects:nt});const Et=he.useMemo(()=>({active:H,activeNode:se,activeNodeRect:Ne,activatorEvent:ie,collisions:at,containerNodeRect:Ce,dragOverlay:Qe,draggableNodes:D,droppableContainers:$,droppableRects:U,over:st,measureDroppableContainers:ee,scrollableAncestors:tt,scrollableAncestorRects:nt,measuringConfiguration:k,measuringScheduled:re,windowRect:Ee}),[H,se,Ne,ie,at,Ce,Qe,D,$,U,st,ee,tt,nt,k,re,Ee]),Ft=he.useMemo(()=>({activatorEvent:ie,activators:sn,active:H,activeNodeRect:Ne,ariaDescribedById:{draggable:xe},dispatch:C,draggableNodes:D,over:st,measureDroppableContainers:ee}),[ie,sn,H,Ne,C,xe,D,st,ee]);return gn.createElement(Cx.Provider,{value:j},gn.createElement(md.Provider,{value:Ft},gn.createElement(Hx.Provider,{value:Et},gn.createElement(Vp.Provider,{value:_t},d)),gn.createElement(B7,{disabled:c?.restoreFocus===!1})),gn.createElement(UT,{...c,hiddenTextDescribedById:xe}));function Nn(){const pt=ue?.autoScrollEnabled===!1,ct=typeof f=="object"?f.enabled===!1:f===!1,It=W&&!pt&&!ct;return typeof f=="object"?{...f,enabled:It}:{enabled:It}}}),U7=he.createContext(null),Ab="button",H7="Draggable";function Yx(r){let{id:e,data:t,disabled:i=!1,attributes:a}=r;const o=pd(H7),{activators:h,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:m,draggableNodes:y,over:w}=he.useContext(md),{role:v=Ab,roleDescription:S="draggable",tabIndex:N=0}=a??{},T=f?.id===e,C=he.useContext(T?Vp:U7),[V,j]=tp(),[R,I]=tp(),W=M7(h,e),P=Wf(t);eo(()=>(y.set(e,{id:e,key:o,node:V,activatorNode:R,data:P}),()=>{const F=y.get(e);F&&F.key===o&&y.delete(e)}),[y,e]);const D=he.useMemo(()=>({role:v,tabIndex:N,"aria-disabled":i,"aria-pressed":T&&v===Ab?!0:void 0,"aria-roledescription":S,"aria-describedby":m.draggable}),[i,v,N,T,S,m.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:D,isDragging:T,listeners:i?void 0:W,node:V,over:w,setNodeRef:j,setActivatorNodeRef:I,transform:C}}function Wx(){return he.useContext(Hx)}const G7="Droppable",Y7={timeout:25};function Xx(r){let{data:e,disabled:t=!1,id:i,resizeObserverConfig:a}=r;const o=pd(G7),{active:h,dispatch:c,over:f,measureDroppableContainers:d}=he.useContext(md),m=he.useRef({disabled:t}),y=he.useRef(!1),w=he.useRef(null),v=he.useRef(null),{disabled:S,updateMeasurementsFor:N,timeout:T}={...Y7,...a},C=Wf(N??i),V=he.useCallback(()=>{if(!y.current){y.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),v.current=null},T)},[T]),j=Ip({callback:V,disabled:S||!h}),R=he.useCallback((D,F)=>{j&&(F&&(j.unobserve(F),y.current=!1),D&&j.observe(D))},[j]),[I,W]=tp(R),P=Wf(e);return he.useEffect(()=>{!j||!I.current||(j.disconnect(),y.current=!1,j.observe(I.current))},[I,j]),he.useEffect(()=>(c({type:ui.RegisterDroppable,element:{id:i,key:o,disabled:t,node:I,rect:w,data:P}}),()=>c({type:ui.UnregisterDroppable,key:o,id:i})),[i]),he.useEffect(()=>{t!==m.current.disabled&&(c({type:ui.SetDroppableDisabled,id:i,key:o,disabled:t}),m.current.disabled=t)},[i,o,t,c]),{active:h,rect:w,isOver:f?.id===i,node:I,over:f,setNodeRef:W}}function W7(r){let{animation:e,children:t}=r;const[i,a]=he.useState(null),[o,h]=he.useState(null),c=np(t);return!t&&!i&&c&&a(c),eo(()=>{if(!o)return;const f=i?.key,d=i?.props.id;if(f==null||d==null){a(null);return}Promise.resolve(e(d,o)).then(()=>{a(null)})},[e,i,o]),gn.createElement(gn.Fragment,null,t,i?he.cloneElement(i,{ref:h}):null)}const X7={x:0,y:0,scaleX:1,scaleY:1};function Z7(r){let{children:e}=r;return gn.createElement(md.Provider,{value:Ux},gn.createElement(Vp.Provider,{value:X7},e))}const $7={position:"fixed",touchAction:"none"},K7=r=>jp(r)?"transform 250ms ease":void 0,Q7=he.forwardRef((r,e)=>{let{as:t,activatorEvent:i,adjustScale:a,children:o,className:h,rect:c,style:f,transform:d,transition:m=K7}=r;if(!c)return null;const y=a?d:{...d,scaleX:1,scaleY:1},w={...$7,width:c.width,height:c.height,top:c.top,left:c.left,transform:gc.Transform.toString(y),transformOrigin:a&&i?GT(i,c):void 0,transition:typeof m=="function"?m(i):m,...f};return gn.createElement(t,{className:h,style:w,ref:e},o)}),J7=r=>e=>{let{active:t,dragOverlay:i}=e;const a={},{styles:o,className:h}=r;if(o!=null&&o.active)for(const[c,f]of Object.entries(o.active))f!==void 0&&(a[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,f));if(o!=null&&o.dragOverlay)for(const[c,f]of Object.entries(o.dragOverlay))f!==void 0&&i.node.style.setProperty(c,f);return h!=null&&h.active&&t.node.classList.add(h.active),h!=null&&h.dragOverlay&&i.node.classList.add(h.dragOverlay),function(){for(const[f,d]of Object.entries(a))t.node.style.setProperty(f,d);h!=null&&h.active&&t.node.classList.remove(h.active)}},eE=r=>{let{transform:{initial:e,final:t}}=r;return[{transform:gc.Transform.toString(e)},{transform:gc.Transform.toString(t)}]},tE={duration:250,easing:"ease",keyframes:eE,sideEffects:J7({styles:{active:{opacity:"0"}}})};function nE(r){let{config:e,draggableNodes:t,droppableContainers:i,measuringConfiguration:a}=r;return Dp((o,h)=>{if(e===null)return;const c=t.get(o);if(!c)return;const f=c.node.current;if(!f)return;const d=Px(h);if(!d)return;const{transform:m}=ss(h).getComputedStyle(h),y=Lx(m);if(!y)return;const w=typeof e=="function"?e:rE(e);return Bx(f,a.draggable.measure),w({active:{id:o,data:c.data,node:f,rect:a.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:h,rect:a.dragOverlay.measure(d)},droppableContainers:i,measuringConfiguration:a,transform:y})})}function rE(r){const{duration:e,easing:t,sideEffects:i,keyframes:a}={...tE,...r};return o=>{let{active:h,dragOverlay:c,transform:f,...d}=o;if(!e)return;const m={x:c.rect.left-h.rect.left,y:c.rect.top-h.rect.top},y={scaleX:f.scaleX!==1?h.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?h.rect.height*f.scaleY/c.rect.height:1},w={x:f.x-m.x,y:f.y-m.y,...y},v=a({...d,active:h,dragOverlay:c,transform:{initial:f,final:w}}),[S]=v,N=v[v.length-1];if(JSON.stringify(S)===JSON.stringify(N))return;const T=i?.({active:h,dragOverlay:c,...d}),C=c.node.animate(v,{duration:e,easing:t,fill:"forwards"});return new Promise(V=>{C.onfinish=()=>{T?.(),V()}})}}let Nb=0;function iE(r){return he.useMemo(()=>{if(r!=null)return Nb++,Nb},[r])}const sE=gn.memo(r=>{let{adjustScale:e=!1,children:t,dropAnimation:i,style:a,transition:o,modifiers:h,wrapperElement:c="div",className:f,zIndex:d=999}=r;const{activatorEvent:m,active:y,activeNodeRect:w,containerNodeRect:v,draggableNodes:S,droppableContainers:N,dragOverlay:T,over:C,measuringConfiguration:V,scrollableAncestors:j,scrollableAncestorRects:R,windowRect:I}=Wx(),W=he.useContext(Vp),P=iE(y?.id),D=Gx(h,{activatorEvent:m,active:y,activeNodeRect:w,containerNodeRect:v,draggingNodeRect:T.rect,over:C,overlayNodeRect:T.rect,scrollableAncestors:j,scrollableAncestorRects:R,transform:W,windowRect:I}),F=n2(w),$=nE({config:i,draggableNodes:S,droppableContainers:N,measuringConfiguration:V}),E=F?T.setRef:void 0;return gn.createElement(Z7,null,gn.createElement(W7,{animation:$},y&&P?gn.createElement(Q7,{key:P,id:y.id,ref:E,as:c,activatorEvent:m,adjustScale:e,className:f,transition:o,rect:F,style:{zIndex:d,...a},transform:D},t):null))});function r2(r,e,t){const i=r.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}function aE(r,e){return r.reduce((t,i,a)=>{const o=e.get(i);return o&&(t[a]=o),t},Array(r.length))}function p1(r){return r!==null&&r>=0}function oE(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function lE(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const m1={scaleX:1,scaleY:1},cE=r=>{var e;let{rects:t,activeNodeRect:i,activeIndex:a,overIndex:o,index:h}=r;const c=(e=t[a])!=null?e:i;if(!c)return null;const f=uE(t,h,a);if(h===a){const d=t[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...m1}:null}return h>a&&h<=o?{x:-c.width-f,y:0,...m1}:h<a&&h>=o?{x:c.width+f,y:0,...m1}:{x:0,y:0,...m1}};function uE(r,e,t){const i=r[e],a=r[e-1],o=r[e+1];return!i||!a&&!o?0:t<e?a?i.left-(a.left+a.width):o.left-(i.left+i.width):o?o.left-(i.left+i.width):i.left-(a.left+a.width)}const Zx=r=>{let{rects:e,activeIndex:t,overIndex:i,index:a}=r;const o=r2(e,i,t),h=e[a],c=o[a];return!c||!h?null:{x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height}},$x="Sortable",Kx=gn.createContext({activeIndex:-1,containerId:$x,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Zx,disabled:{draggable:!1,droppable:!1}});function hE(r){let{children:e,id:t,items:i,strategy:a=Zx,disabled:o=!1}=r;const{active:h,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:m}=Wx(),y=pd($x,t),w=c.rect!==null,v=he.useMemo(()=>i.map(W=>typeof W=="object"&&"id"in W?W.id:W),[i]),S=h!=null,N=h?v.indexOf(h.id):-1,T=d?v.indexOf(d.id):-1,C=he.useRef(v),V=!oE(v,C.current),j=T!==-1&&N===-1||V,R=lE(o);eo(()=>{V&&S&&m(v)},[V,v,S,m]),he.useEffect(()=>{C.current=v},[v]);const I=he.useMemo(()=>({activeIndex:N,containerId:y,disabled:R,disableTransforms:j,items:v,overIndex:T,useDragOverlay:w,sortedRects:aE(v,f),strategy:a}),[N,y,R.draggable,R.droppable,j,v,T,f,w,a]);return gn.createElement(Kx.Provider,{value:I},e)}const fE=r=>{let{id:e,items:t,activeIndex:i,overIndex:a}=r;return r2(t,i,a).indexOf(e)},dE=r=>{let{containerId:e,isSorting:t,wasDragging:i,index:a,items:o,newIndex:h,previousItems:c,previousContainerId:f,transition:d}=r;return!d||!i||c!==o&&a===h?!1:t?!0:h!==a&&e===f},pE={duration:200,easing:"ease"},Qx="transform",mE=gc.Transition.toString({property:Qx,duration:0,easing:"linear"}),gE={roleDescription:"sortable"};function vE(r){let{disabled:e,index:t,node:i,rect:a}=r;const[o,h]=he.useState(null),c=he.useRef(t);return eo(()=>{if(!e&&t!==c.current&&i.current){const f=a.current;if(f){const d=Bh(i.current,{ignoreTransform:!0}),m={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(m.x||m.y)&&h(m)}}t!==c.current&&(c.current=t)},[e,t,i,a]),he.useEffect(()=>{o&&h(null)},[o]),o}function bE(r){let{animateLayoutChanges:e=dE,attributes:t,disabled:i,data:a,getNewIndex:o=fE,id:h,strategy:c,resizeObserverConfig:f,transition:d=pE}=r;const{items:m,containerId:y,activeIndex:w,disabled:v,disableTransforms:S,sortedRects:N,overIndex:T,useDragOverlay:C,strategy:V}=he.useContext(Kx),j=yE(i,v),R=m.indexOf(h),I=he.useMemo(()=>({sortable:{containerId:y,index:R,items:m},...a}),[y,a,R,m]),W=he.useMemo(()=>m.slice(m.indexOf(h)),[m,h]),{rect:P,node:D,isOver:F,setNodeRef:$}=Xx({id:h,data:I,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:W,...f}}),{active:E,activatorEvent:B,activeNodeRect:H,attributes:Q,setNodeRef:ue,listeners:J,isDragging:ie,over:le,setActivatorNodeRef:fe,transform:xe}=Yx({id:h,data:I,attributes:{...gE,...t},disabled:j.draggable}),X=MT($,ue),k=!!E,U=k&&!S&&p1(w)&&p1(T),ee=!C&&ie,re=ee&&U?xe:null,me=U?re??(c??V)({rects:N,activeNodeRect:H,activeIndex:w,overIndex:T,index:R}):null,de=p1(w)&&p1(T)?o({id:h,items:m,activeIndex:w,overIndex:T}):R,_e=E?.id,Ne=he.useRef({activeId:_e,items:m,newIndex:de,containerId:y}),Ce=m!==Ne.current.items,qe=e({active:E,containerId:y,isDragging:ie,isSorting:k,id:h,index:R,items:m,newIndex:Ne.current.newIndex,previousItems:Ne.current.items,previousContainerId:Ne.current.containerId,transition:d,wasDragging:Ne.current.activeId!=null}),We=vE({disabled:!qe,index:R,node:D,rect:P});return he.useEffect(()=>{k&&Ne.current.newIndex!==de&&(Ne.current.newIndex=de),y!==Ne.current.containerId&&(Ne.current.containerId=y),m!==Ne.current.items&&(Ne.current.items=m)},[k,de,y,m]),he.useEffect(()=>{if(_e===Ne.current.activeId)return;if(_e!=null&&Ne.current.activeId==null){Ne.current.activeId=_e;return}const G=setTimeout(()=>{Ne.current.activeId=_e},50);return()=>clearTimeout(G)},[_e]),{active:E,activeIndex:w,attributes:Q,data:I,rect:P,index:R,newIndex:de,items:m,isOver:F,isSorting:k,isDragging:ie,listeners:J,node:D,overIndex:T,over:le,setNodeRef:X,setActivatorNodeRef:fe,setDroppableNodeRef:$,setDraggableNodeRef:ue,transform:We??me,transition:Qe()};function Qe(){if(We||Ce&&Ne.current.newIndex===R)return mE;if(!(ee&&!jp(B)||!d)&&(k||qe))return gc.Transition.toString({...d,property:Qx})}}function yE(r,e){var t,i;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r?.draggable)!=null?t:e.draggable,droppable:(i=r?.droppable)!=null?i:e.droppable}}function ap(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const xE=[xn.Down,xn.Right,xn.Up,xn.Left],_E=(r,e)=>{let{context:{active:t,collisionRect:i,droppableRects:a,droppableContainers:o,over:h,scrollableAncestors:c}}=e;if(xE.includes(r.code)){if(r.preventDefault(),!t||!i)return;const f=[];o.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const w=a.get(y.id);if(w)switch(r.code){case xn.Down:i.top<w.top&&f.push(y);break;case xn.Up:i.top>w.top&&f.push(y);break;case xn.Left:i.left>w.left&&f.push(y);break;case xn.Right:i.left<w.left&&f.push(y);break}});const d=XT({collisionRect:i,droppableRects:a,droppableContainers:f});let m=Ox(d,"id");if(m===h?.id&&d.length>1&&(m=d[1].id),m!=null){const y=o.get(t.id),w=o.get(m),v=w?a.get(w.id):null,S=w?.node.current;if(S&&v&&y&&w){const T=Rp(S).some((W,P)=>c[P]!==W),C=Jx(y,w),V=wE(y,w),j=T||!C?{x:0,y:0}:{x:V?i.width-v.width:0,y:V?i.height-v.height:0},R={x:v.left,y:v.top};return j.x&&j.y?R:Xf(R,j)}}}};function Jx(r,e){return!ap(r)||!ap(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function wE(r,e){return!ap(r)||!ap(e)||!Jx(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const SE=({slot:r,sectionId:e,size:t=48,width:i})=>{const{selectedSlots:a,setSelectedSlot:o,toggleSlotSelection:h,selectRangeTo:c,setSelectedSlots:f,playingSectionId:d,playingSlotId:m}=Rr(),y=sg(),w=i??t,{isOver:v,setNodeRef:S}=Xx({id:`slot-${r.id}`,data:{type:"slot",sectionId:e,slotId:r.id}}),{attributes:N,listeners:T,setNodeRef:C,transform:V,isDragging:j}=Yx({id:`chord-${r.id}`,data:{type:"chord",chord:r.chord,originSlotId:r.id,originSectionId:e},disabled:!r.chord}),R=a.some(E=>E.slotId===r.id&&E.sectionId===e),I=d===e&&m===r.id,W=V?{transform:`translate3d(${V.x}px, ${V.y}px, 0)`,zIndex:999}:void 0,P=E=>{if(E.button===0)if(E.stopPropagation(),E.shiftKey)c(e,r.id);else if(E.metaKey||E.ctrlKey)h(e,r.id);else if(R&&a.length>0){const B=[...a.filter(H=>!(H.sectionId===e&&H.slotId===r.id)),{sectionId:e,slotId:r.id}];f(B)}else o(e,r.id)},F=(()=>{if(!r.chord)return;const E=r.chord.root;if(y[E])return y[E];const B=qf(E);for(const H of Object.keys(y))if(qf(H)===B)return y[H];return"hsl(230, 60%, 50%)"})(),$=Math.max(8,Math.min(12,t*.22));return M.jsxs("div",{ref:S,onMouseDown:P,onClick:E=>E.stopPropagation(),onDoubleClick:E=>E.stopPropagation(),style:{width:w,height:t},className:Wa("rounded border-2 flex items-center justify-center transition-all relative flex-shrink-0",v?"border-accent-primary bg-accent-glow scale-105":"border-border-medium bg-bg-elevated",R?"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary":"",I?"ring-2 ring-green-500 ring-offset-1 ring-offset-bg-primary shadow-[0_0_15px_rgba(34,197,94,0.5)] scale-105 z-10":"",!r.chord&&"hover:border-text-muted cursor-pointer"),children:[!r.chord&&M.jsx("span",{className:"text-text-muted font-light select-none",style:{fontSize:$+4},children:"+"}),r.chord&&M.jsx("div",{ref:C,...T,...N,style:{...W,backgroundColor:F},className:Wa("w-full h-full rounded flex items-center justify-center font-bold shadow cursor-grab active:cursor-grabbing select-none overflow-hidden",j?"opacity-50":"opacity-100"),children:M.jsx("span",{style:{fontSize:$,color:Xy(F||"")},className:"truncate px-0.5 text-center font-bold",children:r.chord.symbol})})]})},AE=r=>{const[e,t]=r;return e*(4/t)},NE=({measure:r,sectionId:e,index:t,chordSize:i=48,timeSignature:a,scale:o=1})=>{const{setMeasureSubdivision:h}=Rr(),c=Math.max(.1,Math.min(1.6,o)),f=AE(a),d=r.beats.length,m=i*.9,y=Math.max(8,m*c),v=f%3===0?[1,3,6]:[2,4,8],S=N=>{Number.isFinite(N)&&h(e,r.id,N)};return M.jsxs("div",{className:"flex flex-col border-r-2 border-border-medium last:border-r-0 px-1 min-w-[64px]",style:{minWidth:y*Math.max(1,f)+8},children:[M.jsx("div",{className:"text-[8px] text-text-muted mb-0.5 font-mono uppercase tracking-wider text-center",children:t+1}),M.jsx("div",{className:"flex gap-0.5",children:r.beats.map(N=>{const T=Math.max(y*(N.duration||1),y);return M.jsx(SE,{slot:N,sectionId:e,size:i,width:T},N.id)})}),M.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5 mt-1",children:[M.jsx("span",{className:"text-[8px] uppercase tracking-wider text-text-muted leading-tight",children:"Steps"}),M.jsxs("select",{value:d,onChange:N=>S(parseInt(N.target.value,10)),className:"bg-bg-tertiary text-text-primary text-[10px] rounded px-1 py-0.5 border border-border-subtle focus:outline-none",children:[v.map(N=>M.jsx("option",{value:N,className:"bg-bg-secondary text-text-primary",children:N},N)),!v.includes(d)&&M.jsx("option",{value:d,className:"bg-bg-secondary text-text-primary",children:d})]})]})]})},CE=({section:r,chordSize:e=48,scale:t=1})=>{const{removeSection:i,duplicateSection:a,updateSection:o,selectedSectionId:h,setSelectedSlot:c,setSectionMeasures:f,setSectionTimeSignature:d,currentSong:m,collapsedSections:y,toggleSectionCollapsed:w}=Rr(),[v,S]=he.useState(!1),[N,T]=he.useState(r.name),C=he.useRef(null);he.useEffect(()=>{v&&C.current&&(C.current.focus(),C.current.select())},[v]);const V=k=>{k.stopPropagation(),T(r.name),S(!0)},j=()=>{const k=N.trim();k&&k!==r.name&&o(r.id,{name:k}),S(!1)},R=k=>{k.key==="Enter"?j():k.key==="Escape"&&(T(r.name),S(!1))},{attributes:I,listeners:W,setNodeRef:P,transform:D,transition:F,isDragging:$}=bE({id:r.id,data:{type:"section",sectionId:r.id}}),E={transform:gc.Transform.toString(D),transition:F},B=k=>{k.stopPropagation(),confirm(`Delete section "${r.name}"?`)&&i(r.id)},H=()=>{c(r.id,null)},Q=(t??1)<=.2,ue=y[r.id]??!1,J=r.timeSignature||m.timeSignature||[4,4],ie=r.measures.length,le=k=>{const U=Number.isFinite(k)?k:ie;f(r.id,U)},fe=k=>{const[U,ee]=k.split("/").map(se=>parseInt(se,10));!U||!ee||r.measures.some(se=>se.beats.some(me=>!!me.chord))&&!confirm("Changing the time signature will clear chords in this section. Continue?")||d(r.id,[U,ee])},xe=`${J[0]}/${J[1]}`,X=[[4,4],[3,4],[2,4],[6,8]];return M.jsxs("div",{ref:P,style:E,className:Wa("flex flex-col bg-bg-secondary rounded-lg overflow-hidden border-2 shadow-[0_0_0_2px_rgba(255,255,255,0.12)] transition-all h-full",h===r.id?"border-accent-primary shadow-[0_0_0_2px_rgba(99,102,241,0.35)]":"border-border-medium",$?"opacity-50":"opacity-100"),onClick:H,children:[M.jsxs("div",{className:Wa("flex items-center justify-between bg-bg-elevated border-b border-border-subtle group",Q?"px-1.5 py-1 gap-1.5":"flex-wrap gap-3 px-2 py-1.5"),children:[M.jsxs("div",{className:Wa("flex items-center min-w-0",Q?"gap-1":"gap-1.5"),children:[M.jsx("div",{...I,...W,className:"cursor-grab active:cursor-grabbing text-text-muted hover:text-text-primary shrink-0",title:"Drag section",children:M.jsx(cx,{size:Q?10:12})}),!Q&&M.jsx(M.Fragment,{children:v?M.jsx("input",{ref:C,type:"text",value:N,onChange:k=>T(k.target.value),onBlur:j,onKeyDown:R,onClick:k=>k.stopPropagation(),className:"font-medium text-xs text-text-primary bg-bg-tertiary border border-border-medium rounded px-1.5 py-0.5 w-24 focus:outline-none focus:border-accent-primary",maxLength:30}):M.jsx("span",{className:"font-medium text-xs text-text-primary cursor-pointer hover:text-accent-primary transition-colors truncate max-w-[120px]",onDoubleClick:V,title:"Double-click to rename",children:r.name})})]}),!Q&&M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded px-1.5 py-0.5",onClick:k=>k.stopPropagation(),children:[M.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Bars"}),M.jsx("input",{type:"number",min:1,max:32,value:ie,onChange:k=>le(parseInt(k.target.value,10)),className:"w-12 bg-transparent text-text-primary text-xs focus:outline-none"})]}),M.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded px-1.5 py-0.5",onClick:k=>k.stopPropagation(),children:[M.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Meter"}),M.jsx("select",{value:xe,onChange:k=>fe(k.target.value),className:"bg-transparent text-text-primary text-xs focus:outline-none",children:X.map(([k,U])=>M.jsxs("option",{value:`${k}/${U}`,className:"bg-bg-secondary text-text-primary",children:[k,"/",U]},`${k}/${U}`))})]})]}),M.jsxs("div",{className:Wa("flex items-center gap-1",Q?"":"opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-opacity"),children:[M.jsx("button",{onClick:k=>{k.stopPropagation(),w(r.id)},className:Wa("p-1 rounded text-text-muted hover:text-text-primary",Q?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:ue?"Expand section":"Collapse section",children:ue?M.jsx(yh,{size:Q?12:11}):M.jsx(Gg,{size:Q?12:11})}),M.jsx("button",{onClick:k=>{k.stopPropagation(),a(r.id)},className:Wa("p-1 rounded text-text-muted hover:text-text-primary",Q?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:"Duplicate section",children:M.jsx(qC,{size:Q?12:11})}),M.jsx("button",{onClick:B,className:Wa("p-1 rounded text-text-muted hover:text-red-400",Q?"hover:bg-red-500/15":"hover:bg-red-500/10"),title:"Delete section",children:M.jsx(dx,{size:Q?12:11})})]})]}),ue?M.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-t border-border-subtle bg-bg-secondary text-[10px] text-text-muted",children:[M.jsx("span",{className:"font-semibold text-text-secondary truncate pr-2",children:r.name}),M.jsxs("div",{className:"flex items-center gap-2 uppercase tracking-wider",children:[M.jsxs("span",{children:[ie," bars"]}),M.jsx("span",{children:xe})]})]}):M.jsx("div",{className:"flex p-1.5 gap-0 overflow-x-auto flex-1",children:r.measures.map((k,U)=>M.jsx(NE,{measure:k,sectionId:r.id,index:U,chordSize:e,timeSignature:J,scale:t},k.id))})]})},TE=({scale:r,chordSize:e})=>{const{isPlaying:t,currentSong:i}=Rr(),a=he.useRef(null),o=he.useRef(0),h=e*.9,c=Math.max(8,h*r),f=12,d=m=>{let y=m,w=0;for(const v of i.sections){for(const S of v.measures){const N=S.beats.reduce((I,W)=>I+(W.duration||1),0);if(y<N){w+=4;let I=y;for(const W of S.beats){const P=W.duration||1;if(I<P){const F=I/P,$=Math.max(c*P,c);return w+=F*$,w}const D=Math.max(c*P,c);w+=D+2,I-=P}return w}const T=S.beats.reduce((I,W)=>I+Math.max(c*(W.duration||1),c),0),C=Math.max(0,S.beats.length-1)*2,V=8,j=2,R=S===v.measures[v.measures.length-1];w+=T+C+V+(R?0:j),y-=N}w+=f}return w};return he.useEffect(()=>{if(!t)return;const m=()=>{if(a.current){const y=rs.position.toString().split(":"),w=parseFloat(y[0]),v=parseFloat(y[1]),S=parseFloat(y[2]),N=w*4+v+S/4,T=d(N);a.current.style.transform=`translateX(${T}px)`}o.current=requestAnimationFrame(m)};return o.current=requestAnimationFrame(m),()=>{o.current&&cancelAnimationFrame(o.current)}},[t,c,i]),t?M.jsx("div",{ref:a,className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-50 pointer-events-none shadow-[0_0_8px_rgba(239,68,68,0.8)]",style:{left:0},children:M.jsx("div",{className:"absolute -top-1 -left-[4.5px] w-0 h-0 border-l-[5px] border-l-transparent border-r-[5px] border-r-transparent border-t-[6px] border-t-red-500"})}):null},EE=({onAltChange:r})=>(Tx({onDragMove:e=>{const t=e.modifiers?.altKey??!1;r(!!t)},onDragEnd:()=>r(!1),onDragCancel:()=>r(!1)}),null),Cb=({height:r=180,scale:e=1})=>{const{currentSong:t,addSection:i,reorderSections:a,addChordToSlot:o,moveChord:h,moveSelection:c}=Rr(),f=Math.max(.1,Math.min(1.6,e)),d=r-40,m=Math.max(32,Math.min(64,d-24)),[y,w]=gn.useState(null),[v,S]=gn.useState(null),[N,T]=gn.useState(!1),C=HT(fb(t2,{activationConstraint:{distance:8}}),fb(Jg,{coordinateGetter:_E})),V=R=>{const I=R.activatorEvent,W=!!(I&&"altKey"in I&&I.altKey);w(R.active.id),S({...R.active.data.current,copyMode:W}),T(W)},j=R=>{const{active:I,over:W}=R;if(w(null),S(null),T(!1),!!W){if(I.data.current?.type==="section"&&W.data.current?.type==="section"){if(I.id!==W.id){const P=t.sections.findIndex(F=>F.id===I.id),D=t.sections.findIndex(F=>F.id===W.id);a(r2(t.sections,P,D))}return}if(I.data.current?.type==="chord"&&W.data.current?.type==="slot"){const P=I.data.current.originSlotId,D=I.data.current.originSectionId,F=W.data.current.slotId,$=W.data.current.sectionId,E=I.data.current.chord;if(P&&D){if(P===F&&D===$||c({sectionId:D,slotId:P},{sectionId:$,slotId:F},v?.copyMode||N?"copy":"move"))return;const H=Rr.getState(),Q=H.currentSong.sections.find(ue=>ue.id===$)?.measures.flatMap(ue=>ue.beats).find(ue=>ue.id===F)?.chord;h(D,P,$,F),Q?(H.setSelectedSlot(D,P),H.setSelectedChord(Q)):E&&(H.setSelectedSlot($,F),H.setSelectedChord(E))}else o(E,$,F),Rr.getState().setSelectedSlot($,F),Rr.getState().setSelectedChord(E)}}};return gn.useEffect(()=>{const R=W=>{W.altKey&&T(!0)},I=W=>{W.altKey||T(!1)};return window.addEventListener("keydown",R),window.addEventListener("keyup",I),()=>{window.removeEventListener("keydown",R),window.removeEventListener("keyup",I)}},[]),M.jsx("div",{className:"w-full h-full flex flex-col",children:M.jsx("div",{className:"flex-1 overflow-x-auto px-3 py-1.5 overflow-y-hidden",ref:R=>{R&&R.addEventListener("wheel",I=>{I.deltaY!==0&&(I.preventDefault(),R.scrollLeft+=I.deltaY)},{passive:!1})},children:M.jsxs("div",{className:"relative flex gap-3 min-w-max h-full items-stretch",children:[M.jsx(TE,{scale:f,chordSize:m}),M.jsxs(P7,{sensors:C,collisionDetection:WT,onDragStart:V,onDragEnd:j,children:[M.jsx(EE,{onAltChange:T}),M.jsxs(hE,{items:t.sections.map(R=>R.id),strategy:cE,children:[t.sections.map(R=>M.jsx(CE,{section:R,chordSize:m,scale:f},R.id)),M.jsxs("button",{onClick:()=>i("chorus"),className:"w-10 rounded-lg border-2 border-dashed border-border-medium hover:border-accent-primary hover:bg-bg-elevated transition-all flex flex-col items-center justify-center text-text-muted hover:text-accent-primary gap-0.5 self-stretch",children:[M.jsx(Yg,{size:12}),M.jsx("span",{className:"text-[6px] font-medium uppercase tracking-wider",children:"Add"})]})]}),M.jsxs(sE,{children:[y&&v?.type==="section"?M.jsx("div",{className:"opacity-80 rotate-2 scale-105",children:M.jsx("div",{className:"bg-bg-elevated p-4 rounded-xl border border-accent-primary w-[400px] h-[200px] flex items-center justify-center shadow-2xl",children:M.jsx("span",{className:"font-bold text-xl",children:"Moving Section..."})})}):null,y&&v?.type==="chord"?M.jsxs("div",{className:"relative",children:[M.jsx("div",{className:"w-24 h-24 rounded-lg bg-accent-primary text-white flex items-center justify-center font-bold text-xl shadow-2xl rotate-6 scale-110 cursor-grabbing",children:v.chord.symbol}),(v?.copyMode||N)&&M.jsx("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white text-[11px] font-bold px-2 py-0.5 rounded-full shadow-md border border-white",children:"+"})]}):null]})]})]})})})},kE=({highlightedNotes:r,rootNote:e,color:t="#6366f1",octave:i=4,onNotePlay:a})=>{const o=["C","D","E","F","G","A","B"],h=S=>{const N={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},T=S.replace(/\d+/g,"");return N[T]??-1},c=r.map(S=>h(S)),f=e?h(e):-1,d=S=>{const N=h(S);return N!==-1&&c.includes(N)},m=S=>f===-1?!1:h(S)===f,y=(S,N)=>{a&&a(S,N)},w=()=>{const S=[];for(let T=0;T<2;T++){const C=i+T;o.forEach(V=>{const j=d(V),R=m(V);S.push(M.jsx("div",{className:"h-full rounded-b-md relative border-x border-b border-gray-400 cursor-pointer hover:brightness-95 active:brightness-90 transition-all",style:{width:`${100/14}%`,background:"linear-gradient(180deg, #fafafa 0%, #e8e8e8 70%, #d0d0d0 100%)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.9), inset 0 -2px 4px rgba(0,0,0,0.08)"},onClick:()=>y(V,C),children:j&&M.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"6px",transform:"translateX(-50%)",width:R?"12px":"9px",height:R?"12px":"9px",background:t,border:"2px solid #000",boxShadow:`0 0 6px ${t}80`}})},`white-${T}-${V}`))})}return S},v=()=>{const S=[],N=[{note:"C#",offset:7.14},{note:"D#",offset:14.28},{note:"F#",offset:28.57},{note:"G#",offset:35.71},{note:"A#",offset:42.85}];for(let T=0;T<2;T++){const C=T*50,V=i+T;N.forEach(({note:j,offset:R})=>{const I=d(j),W=m(j),P=C+R;S.push(M.jsx("div",{className:"absolute top-0 rounded-b-md cursor-pointer hover:brightness-125 active:brightness-150 transition-all",style:{left:`${P}%`,width:"5.5%",height:"58%",transform:"translateX(-50%)",background:"linear-gradient(180deg, #333 0%, #1a1a1a 70%, #0a0a0a 100%)",boxShadow:"0 3px 6px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.08)",pointerEvents:"auto"},onClick:()=>y(j,V),children:I&&M.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"4px",transform:"translateX(-50%)",width:W?"10px":"8px",height:W?"10px":"8px",background:t,border:"2px solid #fff",boxShadow:`0 0 6px ${t}80`}})},`black-${T}-${j}`))})}return S};return M.jsx("div",{className:"relative w-full rounded-lg select-none overflow-hidden",style:{height:"80px",minHeight:"80px",background:"#1a1a22",boxShadow:"inset 0 2px 8px rgba(0,0,0,0.6)",padding:"3px 2px 2px 2px"},children:M.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[M.jsx("div",{className:"flex w-full h-full gap-[1px]",style:{position:"relative",zIndex:0},children:w()}),M.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,pointerEvents:"none"},children:v()})]})})},OE={C:{maj:[{frets:[-1,3,2,0,1,0],fingers:[0,3,2,0,1,0],barres:[],baseFret:1}],m:[{frets:[-1,3,1,0,1,3],fingers:[0,3,1,0,2,4],barres:[],baseFret:1}],7:[{frets:[-1,3,2,3,1,0],fingers:[0,3,2,4,1,0],barres:[],baseFret:1}],maj7:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj9:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,3,2,2,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],m7:[{frets:[-1,3,1,3,1,3],fingers:[0,2,1,3,1,4],barres:[1],baseFret:3}],m9:[{frets:[-1,3,1,3,3,3],fingers:[0,2,1,3,4,4],barres:[3],baseFret:3}],m11:[{frets:[-1,3,1,3,3,1],fingers:[0,2,1,3,4,1],barres:[1],baseFret:3}],m6:[{frets:[-1,3,1,2,1,3],fingers:[0,3,1,2,1,4],barres:[1],baseFret:1}],sus2:[{frets:[-1,3,0,0,1,3],fingers:[0,2,0,0,1,3],barres:[],baseFret:1}],sus4:[{frets:[-1,3,3,0,1,1],fingers:[0,3,4,0,1,1],barres:[1],baseFret:1}],dim:[{frets:[-1,3,1,-1,1,2],fingers:[0,4,1,0,2,3],barres:[],baseFret:1}],6:[{frets:[-1,3,2,2,1,0],fingers:[0,4,2,3,1,0],barres:[],baseFret:1}],add9:[{frets:[-1,3,2,0,3,0],fingers:[0,2,1,0,3,0],barres:[],baseFret:1}],9:[{frets:[-1,3,2,3,3,0],fingers:[0,2,1,3,4,0],barres:[],baseFret:1}],11:[{frets:[-1,3,2,3,3,3],fingers:[0,2,1,3,3,3],barres:[3],baseFret:1}],13:[{frets:[-1,3,2,3,3,5],fingers:[0,2,1,3,3,4],barres:[3],baseFret:1}],m7b5:[{frets:[-1,3,4,3,4,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},"C#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[3],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[1,3],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},Db:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[3],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[1,3],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},D:{maj:[{frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2],barres:[],baseFret:1}],m:[{frets:[-1,-1,0,2,3,1],fingers:[0,0,0,2,3,1],barres:[],baseFret:1}],7:[{frets:[-1,-1,0,2,1,2],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],maj7:[{frets:[-1,-1,0,2,2,2],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],maj9:[{frets:[-1,-1,0,2,2,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],maj13:[{frets:[-1,-1,0,2,2,4],fingers:[0,0,0,1,1,3],barres:[2],baseFret:1}],m7:[{frets:[-1,-1,0,2,1,1],fingers:[0,0,0,2,1,1],barres:[1],baseFret:1}],m9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],m11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m6:[{frets:[-1,-1,0,2,0,1],fingers:[0,0,0,2,0,1],barres:[],baseFret:1}],sus2:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],sus4:[{frets:[-1,-1,0,2,3,3],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,1,3,1],fingers:[0,0,0,1,4,2],barres:[],baseFret:1}],6:[{frets:[-1,-1,0,2,0,2],fingers:[0,0,0,1,0,2],barres:[],baseFret:1}],add9:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],13:[{frets:[-1,-1,0,2,1,4],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,1,1,1],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}]},"D#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[3],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[1,3],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},Eb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[3],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[1,3],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},E:{maj:[{frets:[0,2,2,1,0,0],fingers:[0,2,3,1,0,0],barres:[],baseFret:1}],m:[{frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0],barres:[],baseFret:1}],7:[{frets:[0,2,0,1,0,0],fingers:[0,2,0,1,0,0],barres:[],baseFret:1}],maj7:[{frets:[0,2,1,1,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],maj9:[{frets:[0,2,1,1,0,2],fingers:[0,2,1,1,0,3],barres:[1],baseFret:1}],maj13:[{frets:[0,2,1,1,2,2],fingers:[0,2,1,1,3,3],barres:[1,2],baseFret:1}],m7:[{frets:[0,2,0,0,0,0],fingers:[0,1,0,0,0,0],barres:[],baseFret:1}],m9:[{frets:[0,2,0,0,0,2],fingers:[0,2,0,0,0,3],barres:[],baseFret:1}],m11:[{frets:[0,2,0,0,3,0],fingers:[0,2,0,0,4,0],barres:[],baseFret:1}],m6:[{frets:[0,2,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],sus2:[{frets:[0,2,4,4,0,0],fingers:[0,1,3,4,0,0],barres:[],baseFret:1}],sus4:[{frets:[0,2,2,2,0,0],fingers:[0,2,3,4,0,0],barres:[],baseFret:1}],dim:[{frets:[0,1,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],6:[{frets:[0,2,2,1,2,0],fingers:[0,2,3,1,4,0],barres:[],baseFret:1}],add9:[{frets:[0,2,2,1,0,2],fingers:[0,2,3,1,0,4],barres:[],baseFret:1}],9:[{frets:[0,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],11:[{frets:[0,2,0,1,3,0],fingers:[0,2,0,1,4,0],barres:[],baseFret:1}],13:[{frets:[0,2,0,1,2,2],fingers:[0,2,0,1,3,4],barres:[],baseFret:1}],m7b5:[{frets:[0,1,0,0,2,0],fingers:[0,1,0,0,2,0],barres:[],baseFret:1}]},F:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:1}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:1}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,-1,3,2,1,0],fingers:[0,0,3,2,1,0],barres:[],baseFret:1}],maj9:[{frets:[1,0,3,0,1,0],fingers:[1,0,3,0,2,0],barres:[],baseFret:1}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[1,3],baseFret:1}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:1}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:1}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,-1,3,0,1,1],fingers:[0,0,3,0,1,1],barres:[1],baseFret:1}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:1}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:1}],6:[{frets:[1,-1,0,2,1,1],fingers:[1,0,0,3,1,1],barres:[1],baseFret:1}],add9:[{frets:[-1,-1,3,2,1,3],fingers:[0,0,3,2,1,4],barres:[],baseFret:1}],9:[{frets:[1,3,1,2,1,3],fingers:[1,3,1,2,1,4],barres:[1],baseFret:1}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:1}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[1,3],baseFret:1}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}]},"F#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[1,3],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[1,3],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},Gb:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[1,3],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[1,3],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},G:{maj:[{frets:[3,2,0,0,0,3],fingers:[2,1,0,0,0,3],barres:[],baseFret:1}],m:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],7:[{frets:[3,2,0,0,0,1],fingers:[3,2,0,0,0,1],barres:[],baseFret:1}],maj7:[{frets:[3,2,0,0,0,2],fingers:[3,1,0,0,0,2],barres:[],baseFret:1}],maj9:[{frets:[3,0,0,0,0,2],fingers:[2,0,0,0,0,1],barres:[],baseFret:1}],maj13:[{frets:[3,2,0,0,2,2],fingers:[3,1,0,0,2,2],barres:[2],baseFret:1}],m7:[{frets:[3,1,0,0,3,0],fingers:[2,1,0,0,3,0],barres:[],baseFret:1}],m9:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],m11:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],m6:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],sus2:[{frets:[3,0,0,0,3,3],fingers:[1,0,0,0,2,3],barres:[],baseFret:1}],sus4:[{frets:[3,3,0,0,1,3],fingers:[2,3,0,0,1,4],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],6:[{frets:[3,2,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],add9:[{frets:[3,0,0,0,0,3],fingers:[2,0,0,0,0,3],barres:[],baseFret:1}],9:[{frets:[3,2,0,1,0,1],fingers:[3,2,0,1,0,1],barres:[1],baseFret:1}],11:[{frets:[3,2,0,1,3,1],fingers:[3,2,0,1,4,1],barres:[1],baseFret:1}],13:[{frets:[3,2,0,1,0,5],fingers:[2,1,0,1,0,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}]},"G#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[1,3],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[1,3],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},Ab:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[1,3],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[1,3],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},A:{maj:[{frets:[-1,0,2,2,2,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],m:[{frets:[-1,0,2,2,1,0],fingers:[0,0,2,3,1,0],barres:[],baseFret:1}],7:[{frets:[-1,0,2,0,2,0],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}],maj7:[{frets:[-1,0,2,1,2,0],fingers:[0,0,2,1,3,0],barres:[],baseFret:1}],maj9:[{frets:[-1,0,2,1,0,0],fingers:[0,0,2,1,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,0,2,1,2,4],fingers:[0,0,2,1,3,4],barres:[],baseFret:1}],m7:[{frets:[-1,0,2,0,1,0],fingers:[0,0,2,0,1,0],barres:[],baseFret:1}],m9:[{frets:[-1,0,2,0,1,3],fingers:[0,0,2,0,1,4],barres:[],baseFret:1}],m11:[{frets:[-1,0,0,0,1,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],m6:[{frets:[-1,0,2,2,1,2],fingers:[0,0,2,3,1,4],barres:[],baseFret:1}],sus2:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],sus4:[{frets:[-1,0,2,2,3,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],dim:[{frets:[-1,0,1,2,1,-1],fingers:[0,0,1,3,2,0],barres:[],baseFret:1}],6:[{frets:[-1,0,2,2,2,2],fingers:[0,0,1,1,1,1],barres:[2],baseFret:1}],add9:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],9:[{frets:[-1,0,2,4,2,3],fingers:[0,0,1,3,1,2],barres:[2],baseFret:1}],11:[{frets:[-1,0,0,0,2,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],13:[{frets:[-1,0,2,0,2,4],fingers:[0,0,1,0,2,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,0,1,0,1,-1],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}]},"A#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[3],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[1,3],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},Bb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[3],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[1,3],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},B:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:2}],7:[{frets:[-1,2,1,2,0,2],fingers:[0,2,1,3,0,4],barres:[],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:2}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[3],baseFret:2}],m7:[{frets:[-1,2,0,2,0,2],fingers:[0,1,0,2,0,3],barres:[],baseFret:1}],m9:[{frets:[-1,2,0,2,2,2],fingers:[0,1,0,2,3,4],barres:[],baseFret:1}],m11:[{frets:[-1,2,0,2,0,0],fingers:[0,1,0,2,0,0],barres:[],baseFret:1}],m6:[{frets:[-1,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:2}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:2}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,2,1,2,2,2],fingers:[0,2,1,3,3,3],barres:[2],baseFret:1}],11:[{frets:[-1,2,1,2,0,0],fingers:[0,2,1,3,0,0],barres:[],baseFret:1}],13:[{frets:[-1,2,1,2,2,4],fingers:[0,2,1,3,3,4],barres:[2],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:2}]}};function ME(r){return{"C":"C#","D":"Db","D":"D#","E":"Eb","F":"F#","G":"Gb","G":"G#","A":"Ab","A":"A#","B":"Bb"}[r]||r.replace("","#").replace("","b")}function LE(r){return{major:"maj",minor:"m",min:"m",dom7:"7",dominant7:"7",major7:"maj7",minor7:"m7",min7:"m7",suspended2:"sus2",suspended4:"sus4",diminished:"dim","half-diminished":"m7b5","m75":"m7b5",sixth:"6",ninth:"9",added9:"add9"}[r]||r}function DE(r,e){const t=ME(r),i=LE(e),a=OE[t];if(!a)return null;const o=a[i];return!o||o.length===0?null:o[0]}const jE=({root:r,quality:e,color:t="#6366f1"})=>{const i=hd(),a=DE(r,e),o=`${r}${e==="maj"?"":e}`,h=Xy(t);return a?M.jsxs("div",{className:"flex flex-col items-center",children:[M.jsx("span",{className:`${i?"text-xs":"text-[11px]"} font-bold mb-1 text-center`,style:{backgroundColor:t,color:h,padding:"4px 12px",borderRadius:"10px"},children:o}),M.jsx("svg",{viewBox:"0 0 100 120",className:`w-full ${i?"max-w-[110px]":"max-w-[120px]"}`,style:{minHeight:i?110:120},children:M.jsx(RE,{chord:a,color:t})})]}):M.jsxs("div",{className:"flex items-center justify-center text-text-muted text-xs py-4",children:["No guitar diagram available for ",r,e]})},RE=({chord:r,color:e})=>{const{frets:t,fingers:i,barres:a,baseFret:o}=r,h=20,c=25,f=12,d=18,m=4,y=6,w=4.5,v=Array.from({length:y},(V,j)=>h+j*f),S=Array.from({length:m+1},(V,j)=>c+j*d),N=o===1,T=f*(y-1)+16,C=d*m+8;return M.jsxs(M.Fragment,{children:[M.jsx("rect",{x:h-8,y:c-4,width:T,height:C,fill:"#3d2817",rx:3}),N?M.jsx("rect",{x:h-2,y:c-3,width:f*(y-1)+4,height:4,fill:"#f5f5f5",rx:1}):M.jsx("text",{x:h-14,y:c+d/2+4,fontSize:"12",fill:"#e0e0e0",textAnchor:"middle",fontWeight:"700",children:o}),S.map((V,j)=>M.jsx("line",{x1:h,y1:V,x2:h+f*(y-1),y2:V,stroke:"#b8b8b8",strokeWidth:j===0&&!N?2:1},`fret-${j}`)),v.map((V,j)=>M.jsx("line",{x1:V,y1:c,x2:V,y2:c+d*m,stroke:"#d4d4d4",strokeWidth:1.2+(5-j)*.25},`string-${j}`)),a.map((V,j)=>{const R=t.map((D,F)=>({fret:D,idx:F})).filter(({fret:D})=>D===V);if(R.length<2)return null;const I=Math.min(...R.map(D=>D.idx)),W=Math.max(...R.map(D=>D.idx)),P=c+(V-.5)*d;return M.jsx("rect",{x:v[I]-w,y:P-w,width:v[W]-v[I]+w*2,height:w*2,fill:"white",stroke:e,strokeWidth:2,rx:w},`barre-${j}`)}),t.map((V,j)=>{const R=v[j];if(V===-1)return M.jsx("text",{x:R,y:c-10,fontSize:"14",fill:"#ff6b6b",textAnchor:"middle",fontWeight:"bold",children:""},`mute-${j}`);if(V===0)return M.jsx("circle",{cx:R,cy:c-8,r:4,fill:"none",stroke:"var(--color-text-secondary)",strokeWidth:1.5},`open-${j}`);const I=a.includes(V),W=i[j];if(I){const D=t.findIndex(F=>F===V);if(j!==D)return null}const P=c+(V-.5)*d;return M.jsxs("g",{children:[M.jsx("circle",{cx:R,cy:P,r:w,fill:"white",stroke:e,strokeWidth:2}),W>0&&!I&&M.jsx("text",{x:R,y:P+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:W})]},`finger-${j}`)}),a.map((V,j)=>{const R=t.map((D,F)=>({fret:D,idx:F})).filter(({fret:D})=>D===V);if(R.length<2)return null;const I=Math.min(...R.map(D=>D.idx)),W=c+(V-.5)*d,P=i[I];return P>0?M.jsx("text",{x:v[I],y:W+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:P},`barre-finger-${j}`):null})]})},IE=({notes:r,rootNote:e,color:t="#6366f1",width:i})=>{const a=hd(),o=T=>{const C=T.replace(/[0-9]/g,"");let V=C[0],j="";C.includes("")||C.includes("#")?j="":(C.includes("")||C.includes("b"))&&(j="");let I={C:-6,D:-5,E:-4,F:-3,G:-2,A:-1,B:0}[V]??0;const W="CDEFGAB".indexOf(V),P="CDEFGAB".indexOf(e[0]);return W<P&&P-W>3&&(I+=7),{line:I,accidental:j}},c=i||(a?200:220),f=a?90:100,d=20,m=d,y=f/2,w=6,v=Math.max(100,c-d*2),S=r.map((T,C)=>{const{line:V,accidental:j}=o(T),R=30,I=v-R-20,W=m+R+C*I/Math.max(r.length-1,1),P=y-V*w/2;return{note:T,x:W,y:P,line:V,accidental:j,needsLedgerLines:V<-4||V>4}}),N=T=>{const C=[];if(T.line<-4)for(let j=-6;j>=T.line;j-=2)j<-4&&C.push(M.jsx("line",{x1:T.x-20/2,y1:y-j*w/2,x2:T.x+20/2,y2:y-j*w/2,stroke:"#555",strokeWidth:"1"},`ledger-below-${j}`));else if(T.line>4)for(let j=6;j<=T.line;j+=2)j>4&&C.push(M.jsx("line",{x1:T.x-20/2,y1:y-j*w/2,x2:T.x+20/2,y2:y-j*w/2,stroke:"#555",strokeWidth:"1"},`ledger-above-${j}`));return C};return M.jsx("div",{className:"flex justify-center items-center w-full",children:M.jsxs("svg",{viewBox:`0 0 ${c} ${f}`,className:"w-full",style:{minHeight:a?90:100},children:[[-2,-1,0,1,2].map(T=>M.jsx("line",{x1:m,y1:y-T*w,x2:m+v,y2:y-T*w,stroke:"#555",strokeWidth:"1.5"},`staff-${T}`)),M.jsx("text",{x:m-8,y:y+10,fontSize:a?"36":"40",fill:t,fontFamily:"serif",fontWeight:"bold",children:""}),S.map(T=>N(T)),S.map((T,C)=>M.jsxs("g",{children:[T.accidental&&M.jsx("text",{x:T.x-12,y:T.y+4,fontSize:a?"14":"16",fill:"#333",fontFamily:"serif",fontWeight:"bold",children:T.accidental}),M.jsx("ellipse",{cx:T.x,cy:T.y,rx:6,ry:4.5,fill:"none",stroke:C===0?t:"#333",strokeWidth:C===0?2.5:2}),M.jsx("ellipse",{cx:T.x,cy:T.y,rx:3.5,ry:2.5,fill:"white"}),M.jsx("text",{x:T.x,y:y+28,fontSize:a?"7":"8",fill:"#666",textAnchor:"middle",fontWeight:"600",children:T.note})]},`note-${C}`))]})})},Tb=()=>M.jsxs(M.Fragment,{children:[M.jsxs("section",{children:[M.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[M.jsx(IC,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-3 text-sm text-gray-300",children:[M.jsx("p",{children:"The Chord Wheel puts chord theory into your hands. No music reading is necessary; simply rotate the transparent disk and analyze any chord progression instantly."}),M.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[M.jsx("li",{children:"Determine which chords belong to a given key"}),M.jsx("li",{children:"Transpose a chord progression to any key"}),M.jsx("li",{children:"Compose your own music"})]})]})]}),M.jsxs("section",{children:[M.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[M.jsx(JC,{size:12}),"Understanding the Rings"]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-bold text-white mb-2",children:"Inner Ring (Major)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Contains the 12 major chords arranged in the Circle of Fifths. Upper-case numerals (I, IV, V) denote major chords."})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-bold text-white mb-2",children:"Middle Ring (Minor)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Contains 24 minor chords. Lower-case numerals (ii, iii, vi) denote minor chords in a key."})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-bold text-white mb-2",children:"Outer Ring (Diminished)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"The vii chord for each key. The diminished chord has a harsh, dissonant quality due to the 5."})]})]})]}),M.jsxs("section",{children:[M.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[M.jsx(KC,{size:12}),"Roman Numerals"]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Roman numerals denote the harmonic progression. Upper-case = major, lower-case = minor."}),M.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center text-sm",children:[M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"I"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Tonic"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"ii"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Super"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"iii"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Mediant"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"IV"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Subdom"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"V"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Dominant"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"vi"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Relative"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"vii"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Leading"})]})]})]})]}),M.jsxs("section",{children:[M.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[M.jsx(CC,{size:12}),"The Circle of Fifths"]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[M.jsx("p",{children:'Starting with C and moving clockwise (C  G  D  A  E  B  F#  Db  Ab  Eb  Bb  F), each step is a "dominant" (fifth) progression. This cyclical nature is one of the most fundamental principles in music theory.'}),M.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[M.jsx("li",{children:'Modulations often move one "key" clockwise or counter-clockwise'}),M.jsx("li",{children:"Neighboring keys share many chords in common"}),M.jsx("li",{children:"The strong pull of V  I is why songs resolve satisfyingly"})]})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Building Chords"}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[M.jsxs("div",{children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"Triads (3 Notes)"}),M.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Built using "every other note" of the scale: Root, 3rd, 5th'}),M.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Major"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Minor"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Diminished"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]})]})]}),M.jsxs("div",{children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"Seventh Chords (4 Notes)"}),M.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Add the 7th note: 1st, 3rd, 5th, 7th"}),M.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Major 7th (maj7)"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Dominant 7th (7)"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Minor 7th (m7)"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Half-Dim (m75)"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]})]})]})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Common Progressions"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-IV-V (Pop/Rock)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - F - G"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The foundation of rock 'n' roll"})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"ii-V-I (Jazz)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: Dm7 - G7 - Cmaj7"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The most common jazz progression"})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-vi-IV-V (50s/Doo-wop)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - Am - F - G"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Also used in countless pop songs"})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-V-vi-IV (Modern Pop)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - G - Am - F"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'The "4 chord song" progression'})]})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Secondary Dominants (II & III)"}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[M.jsxs("p",{children:["The II and III chords (shown with half-highlighting) aren't diatonic but are commonly used. They're called ",M.jsx("strong",{className:"text-white",children:"secondary dominants"}),' because they "act" like dominant V chords:']}),M.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[M.jsxs("li",{children:[M.jsx("strong",{className:"text-white",children:"II"})," (D in key of C) = V of V (leads strongly to G)"]}),M.jsxs("li",{children:[M.jsx("strong",{className:"text-white",children:"III"})," (E in key of C) = V of vi (leads strongly to Am)"]})]}),M.jsx("p",{className:"text-gray-400",children:"Study chord progressions by The Beatles, Rolling Stones, Elvis Costello, and you'll discover these two chords add tremendous variety."})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Modes & Relative Minor"}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[M.jsxs("p",{children:["The vi chord (Am in key of C) is special: it's the ",M.jsx("strong",{className:"text-white",children:"relative minor"}),". Songs emphasizing vi as the tonic create a minor mood using the same chords."]}),M.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-[10px] mt-3",children:[M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"I"}),M.jsx("span",{className:"block text-gray-500",children:"Ionian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"ii"}),M.jsx("span",{className:"block text-gray-500",children:"Dorian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"iii"}),M.jsx("span",{className:"block text-gray-500",children:"Phrygian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"IV"}),M.jsx("span",{className:"block text-gray-500",children:"Lydian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"V"}),M.jsx("span",{className:"block text-gray-500",children:"Mixolyd."})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"vi"}),M.jsx("span",{className:"block text-gray-500",children:"Aeolian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"vii"}),M.jsx("span",{className:"block text-gray-500",children:"Locrian"})]})]})]})]})]}),VE=({isOpen:r,onClose:e,isEmbedded:t=!1})=>r?t?M.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[M.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:M.jsx(J1,{size:12,className:"text-white"})}),M.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),M.jsx("button",{onClick:e,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:M.jsx(ob,{size:16})})]}),M.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:M.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:M.jsx(Tb,{})})})]}):M.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:[M.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm pointer-events-none"}),M.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-[85vh] overflow-hidden flex flex-col pointer-events-auto",children:[M.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:M.jsx(J1,{size:16,className:"text-white"})}),M.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),M.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:M.jsx(ob,{size:20})})]}),M.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:M.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:M.jsx(Tb,{})})}),M.jsx("div",{className:"px-6 py-4 sm:px-8 sm:py-5 border-t border-border-subtle bg-[#22222e] text-center",children:M.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Drag the wheel or use the rotation buttons to change keys. Click any chord to see details."})})]})]}):null,Eb=({variant:r="sidebar"})=>{const{selectedChord:e,selectedKey:t,chordPanelVisible:i,toggleChordPanel:a,selectedSectionId:o,selectedSlotId:h,addChordToSlot:c,setSelectedChord:f,selectNextSlotAfter:d,setSelectedSlot:m}=Rr(),y=sg(),[w,v]=he.useState(null),[S,N]=he.useState([]),[T,C]=he.useState(280),[V,j]=he.useState(!1),[R,I]=he.useState(!1),W=he.useRef(0),P=r==="drawer",[D,F]=he.useState(e),$=e??D,E=hd(),[B,H]=he.useState(!1),[Q,ue]=he.useState(!1),[J,ie]=he.useState(!1),[le,fe]=he.useState(4),xe=he.useCallback((Ce,qe)=>{vx(Ce,qe)},[]),X={maj:"Bright, stable major triad  home base sound.",7:"Dominant 7: bluesy tension that wants to resolve.",maj7:"Dreamy, smooth major color  great on I or IV.",maj9:"Airy, modern major flavor; adds sparkle without tension.",maj13:"Lush, extended major pad; orchestral/jazz sheen.",6:"Warm vintage major; softer than maj7 for tonic use.",13:"Dominant with a soulful top; funky/jazz turnaround vibe.",m7:"Soulful, laid-back minor  default jazz ii sound.",m9:"Lush, cinematic minor color with extra depth.",m11:"Spacious, modal minor; great for grooves and vamps.",m6:"Bittersweet/film-noir minor; nice tonic minor option.",sus2:"Open and airy with no third; neutral pop/ambient feel.",sus4:"Suspended tension that likes to resolve to major.",dim:"Tense and unstable; classic passing/leading chord.",m7b5:"Half-diminished; dark ii chord in minor keys.",add9:"Sparkly major with no 7th; modern pop shimmer.",9:"Dominant 9: rich funk/jazz tension with color.",11:"Dominant 11: suspended, modal flavor over V."},k=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],U=Ce=>{if(!$?.root)return"-";const qe=Ze=>Ze.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),We={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},Qe=We[qe($.root)],G=We[qe(Ce)];if(Qe===void 0||G===void 0)return"-";const je=(G-Qe+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[je]??"-"},ee=he.useCallback(Ce=>{P||(Ce.preventDefault(),j(!0))},[P]);he.useEffect(()=>{if(!V||P)return;const Ce=We=>{const Qe=window.innerWidth-We.clientX;C(Math.max(200,Math.min(400,Qe)))},qe=()=>{j(!1)};return document.addEventListener("mousemove",Ce),document.addEventListener("mouseup",qe),()=>{document.removeEventListener("mousemove",Ce),document.removeEventListener("mouseup",qe)}},[V,P]),he.useEffect(()=>{e&&F(e)},[e]),he.useEffect(()=>{v(null),N([])},[$?.root,$?.quality]);const re=$&&y[$.root]||"#6366f1",se=S.length>0?S:$?.notes||[],me=Ce=>{const qe=Date.now();if(qe-W.current<300||(W.current=qe,!$))return;const We=fh($.root,Ce);Mp(We),v(Ce),N(We)},de=Ce=>{if(W.current=0,!$||!o||!h)return;const qe=fh($.root,Ce),We={...$,quality:Ce,symbol:`${$.root}${Ce}`,notes:qe};c(We,o,h),d(o,h)||(m(o,h),f(We))},_e=()=>{if(!$)return"";const Ce=$.numeral;return{I:"The tonic chord  your home base. Most songs begin and end here. Try adding maj7 or 6 for a jazzier sound.",ii:"The supertonic  a pre-dominant chord that naturally leads to V. The ii-V-I progression is fundamental in jazz and pop.",iii:"The mediant  shares two notes with I. Can substitute for I or lead to vi. Often used for color.",IV:'The subdominant  creates a "plagal" sound. The IV-I is the "Amen" cadence. Adds warmth to choruses.',V:"The dominant  creates tension that resolves to I. Add a 7th for extra pull toward home.",vi:"The relative minor  shares the same notes as I major. The vi-IV-I-V is hugely popular in pop music.","vii":"The leading tone chord  unstable and wants to resolve to I. Often used as a passing chord.",II:"Secondary dominant (V/V)  borrows dominant function to approach V. Common in jazz.",III:"Secondary dominant (V/vi)  leads strongly to vi. Creates a dramatic shift."}[Ce||""]||"This chord adds color and interest to your progression."},Ne=()=>{if(!$)return{extensions:[],description:""};let Ce=$.numeral;if(Ce&&Ce.includes("(")){const We=Ce.match(/^(.+?)\s*\(/);We&&(Ce=We[1].trim())}return{I:{extensions:["maj7","maj9","maj13","6"],description:"Major 7th or 6th voicings sound rich and resolved"},IV:{extensions:["maj7","maj9","maj13","6"],description:"Same as I  warm major extensions work beautifully"},V:{extensions:["7","9","11","sus4","13"],description:"Dominant 7th adds tension that pulls to I"},ii:{extensions:["m7","m9","m11","m6"],description:"Minor 7th extensions for a smooth jazz sound"},iii:{extensions:["m7"],description:"Keep it simple  m7 is most common for iii"},vi:{extensions:["m7","m9","m11"],description:"Minor extensions add depth and emotion"},"vii":{extensions:["m75"],description:"Half-diminished (7) is the standard voicing"},II:{extensions:["7","sus4"],description:"Dominant voicing as V/V  leads strongly to V"},III:{extensions:["7","sus4"],description:"Dominant voicing as V/vi  leads strongly to vi"}}[Ce||""]||{extensions:[],description:`This chord doesn't fit in the key of ${t}, but it may add color and interest to your progression.`}};return i?M.jsxs("div",{className:P?`${E?"relative w-full":"fixed inset-x-3 bottom-[88px]"} ${E?"max-h-[60vh]":"max-h-[70vh]"} bg-bg-secondary border-2 border-border-subtle rounded-2xl shadow-2xl overflow-hidden ${E?"":"z-40"} flex`:"h-full flex bg-bg-secondary border-l border-border-subtle shrink-0",style:P?void 0:{width:T,minWidth:T},children:[!P&&M.jsx("div",{className:`w-2 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary transition-colors ${V?"bg-accent-primary/20":""} relative z-[60]`,onMouseDown:ee,children:M.jsx(cx,{size:12,className:"text-text-muted"})}),M.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[M.jsxs("div",{className:`${E&&P?"px-5 py-3":"px-4 py-3"} border-b border-border-subtle flex justify-between items-center gap-4 shrink-0 ${P?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[M.jsxs("div",{className:"flex items-center gap-12 overflow-hidden flex-1 min-w-0",children:[M.jsxs("span",{className:"flex items-center gap-2 shrink-0 mr-12",children:[M.jsx("span",{className:`${E?"text-lg":"text-base sm:text-lg"} font-bold text-text-primary leading-none`,children:$?`${$.root}${(w||$.quality)==="maj"?"":w||$.quality}`:"Chord Details"}),$?.numeral&&M.jsx("span",{className:`${E?"text-xs":"text-[11px]"} font-serif italic text-text-secondary shrink-0`,children:$.numeral})]}),$&&M.jsxs("span",{className:`${E?"text-xs":"text-[10px]"} text-text-muted whitespace-nowrap`,children:["Key: ",M.jsx("span",{className:"font-semibold text-text-primary",children:t})]})]}),M.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[$&&M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("button",{onClick:()=>fe(Ce=>Math.max(1,Ce-1)),disabled:le<=1,className:`${E?"w-8 h-8 min-w-[32px] min-h-[32px]":"w-6 h-6"} flex items-center justify-center hover:bg-accent-primary/20 rounded-md text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Lower octave",children:M.jsx(ux,{size:E?14:12})}),M.jsx("span",{className:`${E?"text-xs px-1":"text-[10px] px-0.5"} font-semibold text-text-secondary min-w-[24px] text-center`,children:le}),M.jsx("button",{onClick:()=>fe(Ce=>Math.min(6,Ce+1)),disabled:le>=6,className:`${E?"w-8 h-8 min-w-[32px] min-h-[32px]":"w-6 h-6"} flex items-center justify-center hover:bg-accent-primary/20 rounded-md text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Raise octave",children:M.jsx(Yg,{size:E?14:12})})]}),$&&M.jsx("button",{onClick:()=>I(!0),className:`${E?"w-10 h-10 min-w-[40px] min-h-[40px]":"w-8 h-8"} flex items-center justify-center hover:bg-accent-primary/20 rounded-md text-text-muted hover:text-accent-primary transition-colors touch-feedback`,title:"Chord Wheel Guide",children:M.jsx(jC,{size:E?16:14})}),M.jsx("button",{onClick:a,className:`${E?"p-2 min-w-[40px] min-h-[40px]":"p-1"} hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center`,title:"Hide panel",children:M.jsx(sT,{size:E?18:16,className:"text-text-muted"})})]})]}),$?M.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 overscroll-contain",children:[M.jsxs("div",{className:`${E?"px-5 pt-4 pb-4":"px-5 py-4"} border-b border-border-subtle`,children:[M.jsx(kE,{highlightedNotes:se,rootNote:$.root,color:re,octave:le,onNotePlay:xe}),M.jsx("div",{className:`${E?"mt-4":"mt-5"} w-full`,children:M.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:`${E?"56px":"72px"} repeat(${se.length}, minmax(0, 1fr))`},children:[M.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",children:"Notes"}),se.map((Ce,qe)=>M.jsx("div",{className:`text-center ${E?"text-xs":"text-sm"} font-bold text-text-primary py-1`,children:Ce},`note-${qe}`)),M.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",children:"Absolute"}),se.map((Ce,qe)=>M.jsx("div",{className:`text-center ${E?"text-[11px]":"text-xs"} text-text-primary font-semibold py-1`,children:U(Ce)},`abs-${qe}`)),M.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",children:"Relative"}),se.map((Ce,qe)=>M.jsx("div",{className:`text-center ${E?"text-[11px]":"text-xs"} text-text-secondary py-1`,children:y4(t,Ce).replace(/^1/,"R")},`rel-${qe}`))]})})]}),M.jsxs("div",{className:`${E?"px-5 py-3":"px-5 py-4"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a"},children:[M.jsxs("button",{onClick:()=>E&&ie(!J),className:`w-full flex items-center justify-between ${J&&E?"mb-3":"mb-0"} ${E?"cursor-pointer":""} rounded-none`,style:{backgroundColor:"transparent"},children:[M.jsxs("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:["Guitar Chart & Suggested Voicings for ",$.numeral||$.symbol]}),E&&M.jsx(yh,{size:14,className:`text-text-secondary transition-transform ${J?"rotate-180":""}`})]}),(!E||J)&&M.jsxs("div",{className:"flex flex-row gap-4",style:{marginTop:"16px",paddingTop:"8px"},children:[M.jsx("div",{className:"w-1/3 min-w-[130px] flex justify-center items-start shrink-0",children:M.jsx(jE,{root:$.root,quality:w||$.quality,color:re})}),M.jsx("div",{className:"w-px bg-border-subtle self-stretch"}),M.jsxs("div",{className:"flex-1 flex flex-col justify-start pl-2",children:[Ne().extensions.length>0?M.jsx("div",{className:`flex flex-wrap ${E?"gap-3":"gap-2.5"} mb-3`,children:Ne().extensions.map(Ce=>M.jsxs("button",{className:`relative group ${E?"px-4 py-2.5 text-sm min-h-[44px]":"px-3 py-1.5 text-xs"} rounded font-semibold transition-colors touch-feedback`,style:w===Ce?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#f0f0f5",border:"1px solid rgba(255,255,255,0.08)"},onClick:()=>me(Ce),onDoubleClick:()=>de(Ce),children:[$.root,Ce,!E&&X[Ce]&&M.jsxs("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-500 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[X[Ce]?M.jsxs(M.Fragment,{children:[X[Ce],M.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},Ce))}):null,M.jsx("p",{className:`${E?"text-xs":"text-[10px]"} text-text-muted leading-relaxed mb-3`,children:Ne().description}),M.jsx("div",{className:"mt-2",children:M.jsx(IE,{notes:se,rootNote:$.root,color:re})})]})]})]}),M.jsxs("div",{className:`${E?"px-5 py-3 mt-2":"px-5 py-4"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a"},children:[M.jsxs("button",{onClick:()=>E&&H(!B),className:`w-full flex items-center justify-between ${B&&E?"mb-3":"mb-0"} ${E?"cursor-pointer":""} rounded-none`,style:{backgroundColor:"transparent"},children:[M.jsx("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Voicings"}),E&&M.jsx(yh,{size:14,className:`text-text-secondary transition-transform ${B?"rotate-180":""}`})]}),(!E||B)&&M.jsx("div",{className:`grid ${E?"grid-cols-3":"grid-cols-2 sm:grid-cols-3"} ${E?"gap-3":"gap-2.5"}`,children:k.map((Ce,qe)=>{const Qe=qe%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return M.jsxs("button",{className:`relative group ${E?"px-3 py-3 min-h-[48px] text-xs":"px-2 py-1.5 text-[10px]"} rounded font-medium transition-colors touch-feedback`,style:w===Ce?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#9898a6",border:"1px solid rgba(255,255,255,0.08)"},onClick:()=>me(Ce),onDoubleClick:()=>de(Ce),children:[Ce,!E&&X[Ce]&&M.jsxs("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-500 z-50 w-44 text-left",style:{...Qe,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[X[Ce]?M.jsxs(M.Fragment,{children:[X[Ce],M.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},Ce)})})]}),M.jsxs("div",{className:`${E?"px-5 py-3 mt-2 pb-4":"px-5 py-4"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a"},children:[M.jsxs("button",{onClick:()=>E&&ue(!Q),className:`w-full flex items-center justify-between ${E?"cursor-pointer":"mb-0"} ${Q&&E?"mb-3":"mb-0"} rounded-none`,style:{backgroundColor:"transparent"},children:[M.jsx("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide ${E?"":"mb-2"}`,children:"Theory"}),E&&M.jsx(yh,{size:14,className:`text-text-secondary transition-transform ${Q?"rotate-180":""}`})]}),(!E||Q)&&M.jsx("div",{className:`${E?"p-3":"p-4"} bg-bg-elevated rounded-none`,children:M.jsx("p",{className:`${E?"text-sm":"text-xs"} text-text-secondary leading-relaxed`,children:_e()})})]})]}):M.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:M.jsx("p",{className:`${E?"text-base":"text-sm"} text-text-muted text-center`,children:"Select a chord from the wheel or timeline"})})]}),M.jsx(VE,{isOpen:R,onClose:()=>I(!1)})]}):P?M.jsxs("button",{onClick:a,className:`w-full ${E?"h-16 min-h-[64px]":"h-11"} flex items-center justify-center gap-2 bg-bg-secondary border-2 border-border-subtle rounded-2xl ${E?"text-base":"text-[11px]"} font-bold text-text-primary shadow-lg hover:border-accent-primary transition-all touch-feedback active:scale-[0.97]`,title:"Show chord details",children:[M.jsx(Gg,{size:E?20:14}),M.jsx("span",{children:"Open Chord Details"})]}):M.jsx("button",{onClick:a,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:M.jsx(oT,{size:18,className:"text-text-muted"})})},FE="modulepreload",BE=function(r){return"/chord-wheel-writer/"+r},kb={},O1=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=h?.nonce||h?.getAttribute("nonce");a=f(t.map(d=>{if(d=BE(d),d in kb)return;kb[d]=!0;const m=d.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":FE,m||(w.as="script"),w.crossOrigin="",w.href=d,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((v,S)=>{w.addEventListener("load",v),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return a.then(h=>{for(const c of h||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},qE=()=>{const{currentSong:r,isPlaying:e,tempo:t,volume:i,setTempo:a,setVolume:o,instrument:h,setInstrument:c,isMuted:f,toggleMute:d,toggleLoop:m,isLooping:y,playingSectionId:w,selectedSectionId:v}=Rr(),S=hd(),[N,T]=gn.useState(!1);he.useEffect(()=>{Zg(r)},[r]),he.useEffect(()=>{_x(t)},[t]),he.useEffect(()=>{Xg(h)},[h]),he.useEffect(()=>{Sx()},[y,r,w,v]),he.useEffect(()=>{O1(()=>Promise.resolve().then(()=>kT),void 0).then(W=>{T(!0),W.preloadAudio().finally(()=>T(!1))})},[]);const C=async()=>{try{await px(),e?(xx(),Rr.getState().setIsPlaying(!1)):(T(!0),await yx(),Rr.getState().setIsPlaying(!0))}catch(W){console.error("Playback error:",W)}finally{T(!1)}},V=W=>{wx(W)},j=()=>{m()},R=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}];R.find(W=>W.value===h)||c("piano");const I=W=>{const P=R.findIndex(F=>F.value===h);if(P===-1){c("piano");return}const D=W==="next"?(P+1)%R.length:(P-1+R.length)%R.length;c(R[D].value)};return M.jsxs("div",{className:`${S?"h-11":"h-12"} bg-bg-elevated border-t border-border-subtle flex items-center justify-between ${S?"px-3 gap-2":"px-6"}`,children:[M.jsxs("div",{className:"flex items-center gap-1",children:[M.jsx("button",{onClick:()=>V("prev"),className:"p-1.5 text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center",children:M.jsx(yT,{size:16})}),M.jsx("button",{onClick:C,disabled:N,className:`${S?"w-8 h-8":"w-9 h-9"} rounded-full bg-accent-primary hover:bg-indigo-500 disabled:bg-accent-primary/50 flex items-center justify-center text-white shadow-md transition-all hover:scale-105 active:scale-95 touch-feedback`,children:N?M.jsx(tT,{size:S?16:18,className:"animate-spin"}):e?M.jsx(cT,{size:S?16:18,fill:"currentColor"}):M.jsx(hT,{size:S?16:18,fill:"currentColor",className:"ml-0.5"})}),M.jsx("button",{onClick:()=>V("next"),className:"p-1.5 text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center",children:M.jsx(_T,{size:16})}),!S&&M.jsx("button",{onClick:j,className:`p-1.5 transition-colors ml-1 ${y?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:M.jsx(pT,{size:14})})]}),!S&&M.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-text-muted",children:[M.jsxs("div",{className:"flex items-center gap-1.5",children:[M.jsx("span",{children:"Tempo"}),M.jsx("input",{type:"number",value:t,onChange:W=>a(Number(W.target.value)),className:"w-10 bg-bg-tertiary border border-border-subtle rounded px-1 py-0.5 text-center text-text-primary text-[10px]"}),M.jsx("span",{children:"BPM"})]}),M.jsx("span",{className:"text-text-muted",children:""}),M.jsx("span",{children:r.timeSignature?`${r.timeSignature[0]}/${r.timeSignature[1]}`:"4/4"})]}),M.jsxs("div",{className:`flex items-center ${S?"gap-1.5":"gap-4"}`,children:[M.jsxs("div",{className:"flex items-center gap-1",children:[!S&&M.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-7",children:[M.jsx("button",{onClick:()=>I("prev"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:M.jsx(MC,{size:12})}),M.jsx("button",{onClick:()=>I("next"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:M.jsx(kC,{size:12})})]}),S&&M.jsx(J1,{size:14,className:"text-text-muted"}),M.jsx("select",{value:h,onChange:W=>c(W.target.value),className:`bg-bg-tertiary border border-border-subtle rounded ${S?"px-1.5 h-7 text-[11px] min-w-[70px]":"px-2 h-7 text-[10px] min-w-[130px]"} text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer`,children:R.map(W=>M.jsx("option",{value:W.value,children:W.label},W.value))})]}),M.jsxs("div",{className:`flex items-center ${S?"":"gap-2 w-28"}`,children:[M.jsx("button",{onClick:d,className:`${S?"p-1.5":"p-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center rounded`,title:f?"Unmute":"Mute",children:f||i===0?M.jsx(CT,{size:S?16:14}):M.jsx(AT,{size:S?16:14})}),!S&&M.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:i,onChange:W=>{f&&d(),o(Number(W.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})};function Fn(r){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(r)}var no=Uint8Array,Xs=Uint16Array,i2=Int32Array,s2=new no([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a2=new no([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ob=new no([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e_=function(r,e){for(var t=new Xs(31),i=0;i<31;++i)t[i]=e+=1<<r[i-1];for(var a=new i2(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)a[o]=o-t[i]<<5|i;return{b:t,r:a}},t_=e_(s2,2),zE=t_.b,Ym=t_.r;zE[28]=258,Ym[258]=28;var PE=e_(a2,0),Mb=PE.r,Wm=new Xs(32768);for(var lr=0;lr<32768;++lr){var ic=(lr&43690)>>1|(lr&21845)<<1;ic=(ic&52428)>>2|(ic&13107)<<2,ic=(ic&61680)>>4|(ic&3855)<<4,Wm[lr]=((ic&65280)>>8|(ic&255)<<8)>>1}var Vf=(function(r,e,t){for(var i=r.length,a=0,o=new Xs(e);a<i;++a)r[a]&&++o[r[a]-1];var h=new Xs(e);for(a=1;a<e;++a)h[a]=h[a-1]+o[a-1]<<1;var c;if(t){c=new Xs(1<<e);var f=15-e;for(a=0;a<i;++a)if(r[a])for(var d=a<<4|r[a],m=e-r[a],y=h[r[a]-1]++<<m,w=y|(1<<m)-1;y<=w;++y)c[Wm[y]>>f]=d}else for(c=new Xs(i),a=0;a<i;++a)r[a]&&(c[a]=Wm[h[r[a]-1]++]>>15-r[a]);return c}),lu=new no(288);for(var lr=0;lr<144;++lr)lu[lr]=8;for(var lr=144;lr<256;++lr)lu[lr]=9;for(var lr=256;lr<280;++lr)lu[lr]=7;for(var lr=280;lr<288;++lr)lu[lr]=8;var op=new no(32);for(var lr=0;lr<32;++lr)op[lr]=5;var UE=Vf(lu,9,0),HE=Vf(op,5,0),n_=function(r){return(r+7)/8|0},GE=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new no(r.subarray(e,t))},hl=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8},Tf=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8,r[i+2]|=t>>16},cm=function(r,e){for(var t=[],i=0;i<r.length;++i)r[i]&&t.push({s:i,f:r[i]});var a=t.length,o=t.slice();if(!a)return{t:i_,l:0};if(a==1){var h=new no(t[0].s+1);return h[t[0].s]=1,{t:h,l:1}}t.sort(function(I,W){return I.f-W.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,m=1,y=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};m!=a-1;)c=t[t[d].f<t[y].f?d++:y++],f=t[d!=m&&t[d].f<t[y].f?d++:y++],t[m++]={s:-1,f:c.f+f.f,l:c,r:f};for(var w=o[0].s,i=1;i<a;++i)o[i].s>w&&(w=o[i].s);var v=new Xs(w+1),S=Xm(t[m-1],v,0);if(S>e){var i=0,N=0,T=S-e,C=1<<T;for(o.sort(function(W,P){return v[P.s]-v[W.s]||W.f-P.f});i<a;++i){var V=o[i].s;if(v[V]>e)N+=C-(1<<S-v[V]),v[V]=e;else break}for(N>>=T;N>0;){var j=o[i].s;v[j]<e?N-=1<<e-v[j]++-1:++i}for(;i>=0&&N;--i){var R=o[i].s;v[R]==e&&(--v[R],++N)}S=e}return{t:new no(v),l:S}},Xm=function(r,e,t){return r.s==-1?Math.max(Xm(r.l,e,t+1),Xm(r.r,e,t+1)):e[r.s]=t},Lb=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Xs(++e),i=0,a=r[0],o=1,h=function(f){t[i++]=f},c=1;c<=e;++c)if(r[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)h(32754);o>2&&(h(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(h(a),--o;o>6;o-=6)h(8304);o>2&&(h(o-3<<5|8208),o=0)}for(;o--;)h(a);o=1,a=r[c]}return{c:t.subarray(0,i),n:e}},Ef=function(r,e){for(var t=0,i=0;i<e.length;++i)t+=r[i]*e[i];return t},r_=function(r,e,t){var i=t.length,a=n_(e+2);r[a]=i&255,r[a+1]=i>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var o=0;o<i;++o)r[a+o+4]=t[o];return(a+4+i)*8},Db=function(r,e,t,i,a,o,h,c,f,d,m){hl(e,m++,t),++a[256];for(var y=cm(a,15),w=y.t,v=y.l,S=cm(o,15),N=S.t,T=S.l,C=Lb(w),V=C.c,j=C.n,R=Lb(N),I=R.c,W=R.n,P=new Xs(19),D=0;D<V.length;++D)++P[V[D]&31];for(var D=0;D<I.length;++D)++P[I[D]&31];for(var F=cm(P,7),$=F.t,E=F.l,B=19;B>4&&!$[Ob[B-1]];--B);var H=d+5<<3,Q=Ef(a,lu)+Ef(o,op)+h,ue=Ef(a,w)+Ef(o,N)+h+14+3*B+Ef(P,$)+2*P[16]+3*P[17]+7*P[18];if(f>=0&&H<=Q&&H<=ue)return r_(e,m,r.subarray(f,f+d));var J,ie,le,fe;if(hl(e,m,1+(ue<Q)),m+=2,ue<Q){J=Vf(w,v,0),ie=w,le=Vf(N,T,0),fe=N;var xe=Vf($,E,0);hl(e,m,j-257),hl(e,m+5,W-1),hl(e,m+10,B-4),m+=14;for(var D=0;D<B;++D)hl(e,m+3*D,$[Ob[D]]);m+=3*B;for(var X=[V,I],k=0;k<2;++k)for(var U=X[k],D=0;D<U.length;++D){var ee=U[D]&31;hl(e,m,xe[ee]),m+=$[ee],ee>15&&(hl(e,m,U[D]>>5&127),m+=U[D]>>12)}}else J=UE,ie=lu,le=HE,fe=op;for(var D=0;D<c;++D){var re=i[D];if(re>255){var ee=re>>18&31;Tf(e,m,J[ee+257]),m+=ie[ee+257],ee>7&&(hl(e,m,re>>23&31),m+=s2[ee]);var se=re&31;Tf(e,m,le[se]),m+=fe[se],se>3&&(Tf(e,m,re>>5&8191),m+=a2[se])}else Tf(e,m,J[re]),m+=ie[re]}return Tf(e,m,J[256]),m+ie[256]},YE=new i2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),i_=new no(0),WE=function(r,e,t,i,a,o){var h=o.z||r.length,c=new no(i+h+5*(1+Math.ceil(h/7e3))+a),f=c.subarray(i,c.length-a),d=o.l,m=(o.r||0)&7;if(e){m&&(f[0]=o.r>>3);for(var y=YE[e-1],w=y>>13,v=y&8191,S=(1<<t)-1,N=o.p||new Xs(32768),T=o.h||new Xs(S+1),C=Math.ceil(t/3),V=2*C,j=function(Qe){return(r[Qe]^r[Qe+1]<<C^r[Qe+2]<<V)&S},R=new i2(25e3),I=new Xs(288),W=new Xs(32),P=0,D=0,F=o.i||0,$=0,E=o.w||0,B=0;F+2<h;++F){var H=j(F),Q=F&32767,ue=T[H];if(N[Q]=ue,T[H]=Q,E<=F){var J=h-F;if((P>7e3||$>24576)&&(J>423||!d)){m=Db(r,f,0,R,I,W,D,$,B,F-B,m),$=P=D=0,B=F;for(var ie=0;ie<286;++ie)I[ie]=0;for(var ie=0;ie<30;++ie)W[ie]=0}var le=2,fe=0,xe=v,X=Q-ue&32767;if(J>2&&H==j(F-X))for(var k=Math.min(w,J)-1,U=Math.min(32767,F),ee=Math.min(258,J);X<=U&&--xe&&Q!=ue;){if(r[F+le]==r[F+le-X]){for(var re=0;re<ee&&r[F+re]==r[F+re-X];++re);if(re>le){if(le=re,fe=X,re>k)break;for(var se=Math.min(X,re-2),me=0,ie=0;ie<se;++ie){var de=F-X+ie&32767,_e=N[de],Ne=de-_e&32767;Ne>me&&(me=Ne,ue=de)}}}Q=ue,ue=N[Q],X+=Q-ue&32767}if(fe){R[$++]=268435456|Ym[le]<<18|Mb[fe];var Ce=Ym[le]&31,qe=Mb[fe]&31;D+=s2[Ce]+a2[qe],++I[257+Ce],++W[qe],E=F+le,++P}else R[$++]=r[F],++I[r[F]]}}for(F=Math.max(F,E);F<h;++F)R[$++]=r[F],++I[r[F]];m=Db(r,f,d,R,I,W,D,$,B,F-B,m),d||(o.r=m&7|f[m/8|0]<<3,m-=7,o.h=T,o.p=N,o.i=F,o.w=E)}else{for(var F=o.w||0;F<h+d;F+=65535){var We=F+65535;We>=h&&(f[m/8|0]=d,We=h),m=r_(f,m+1,r.subarray(F,We))}o.i=h}return GE(c,0,i+n_(m)+a)},s_=function(){var r=1,e=0;return{p:function(t){for(var i=r,a=e,o=t.length|0,h=0;h!=o;){for(var c=Math.min(h+2655,o);h<c;++h)a+=i+=t[h];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}r=i,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},XE=function(r,e,t,i,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),h=new no(o.length+r.length);h.set(o),h.set(r,o.length),r=h,a.w=o.length}return WE(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,i,a)},a_=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},ZE=function(r,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=i<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=s_();a.p(e.dictionary),a_(r,2,a.d())}};function Zm(r,e){e||(e={});var t=s_();t.p(r);var i=XE(r,e,e.dictionary?6:2,4);return ZE(i,e),a_(i,i.length-4,t.d()),i}var $E=typeof TextDecoder<"u"&&new TextDecoder,KE=0;try{$E.decode(i_,{stream:!0}),KE=1}catch{}function QE(r){if(Array.isArray(r))return r}function JE(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i,a,o,h,c=[],f=!0,d=!1;try{if(o=(t=t.call(r)).next,e!==0)for(;!(f=(i=o.call(t)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(m){d=!0,a=m}finally{try{if(!f&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(d)throw a}}return c}}function jb(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=Array(e);t<e;t++)i[t]=r[t];return i}function ek(r,e){if(r){if(typeof r=="string")return jb(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?jb(r,e):void 0}}function tk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rb(r,e){return QE(r)||JE(r,e)||ek(r,e)||tk()}function Ib(r,e="utf8"){return new TextDecoder(e).decode(r)}const nk=new TextEncoder;function rk(r){return nk.encode(r)}const ik=1024*8,sk=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),um={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class o2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=ik,t={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let h=a;(ArrayBuffer.isView(e)||e instanceof o2)&&(e.byteLength!==e.buffer.byteLength&&(h=e.byteOffset+a),e=e.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,a=new Uint8Array(i);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=um[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+i);if(this.littleEndian===sk&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+i));c.reverse();const f=new um[t](c.buffer);return this.offset+=i,f.reverse(),f}const h=new um[t](o);return this.offset+=i,h}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return Ib(this.readBytes(e))}decodeText(e=1,t="utf8"){return Ib(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(rk(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function qh(r){let e=r.length;for(;--e>=0;)r[e]=0}const ak=3,ok=258,o_=29,lk=256,ck=lk+1+o_,l_=30,uk=512,hk=new Array((ck+2)*2);qh(hk);const fk=new Array(l_*2);qh(fk);const dk=new Array(uk);qh(dk);const pk=new Array(ok-ak+1);qh(pk);const mk=new Array(o_);qh(mk);const gk=new Array(l_);qh(gk);const vk=(r,e,t,i)=>{let a=r&65535|0,o=r>>>16&65535|0,h=0;for(;t!==0;){h=t>2e3?2e3:t,t-=h;do a=a+e[i++]|0,o=o+a|0;while(--h);a%=65521,o%=65521}return a|o<<16|0};var $m=vk;const bk=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var i=0;i<8;i++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},yk=new Uint32Array(bk()),xk=(r,e,t,i)=>{const a=yk,o=i+t;r^=-1;for(let h=i;h<o;h++)r=r>>>8^a[(r^e[h])&255];return r^-1};var ko=xk,Km={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},c_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const _k=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var wk=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)_k(t,i)&&(r[i]=t[i])}}return r},Sk=r=>{let e=0;for(let i=0,a=r.length;i<a;i++)e+=r[i].length;const t=new Uint8Array(e);for(let i=0,a=0,o=r.length;i<o;i++){let h=r[i];t.set(h,a),a+=h.length}return t},u_={assign:wk,flattenChunks:Sk};let h_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h_=!1}const $f=new Uint8Array(256);for(let r=0;r<256;r++)$f[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;$f[254]=$f[254]=1;var Ak=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,i,a,o,h=r.length,c=0;for(a=0;a<h;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<h&&(i=r.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<h&&(i=r.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const Nk=(r,e)=>{if(e<65534&&r.subarray&&h_)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(r[i]);return t};var Ck=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let i,a;const o=new Array(t*2);for(a=0,i=0;i<t;){let h=r[i++];if(h<128){o[a++]=h;continue}let c=$f[h];if(c>4){o[a++]=65533,i+=c-1;continue}for(h&=c===2?31:c===3?15:7;c>1&&i<t;)h=h<<6|r[i++]&63,c--;if(c>1){o[a++]=65533;continue}h<65536?o[a++]=h:(h-=65536,o[a++]=55296|h>>10&1023,o[a++]=56320|h&1023)}return Nk(o,a)},Tk=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+$f[r[t]]>e?t:e},Qm={string2buf:Ak,buf2string:Ck,utf8border:Tk};function Ek(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var kk=Ek;const g1=16209,Ok=16191;var Mk=function(e,t){let i,a,o,h,c,f,d,m,y,w,v,S,N,T,C,V,j,R,I,W,P,D,F,$;const E=e.state;i=e.next_in,F=e.input,a=i+(e.avail_in-5),o=e.next_out,$=e.output,h=o-(t-e.avail_out),c=o+(e.avail_out-257),f=E.dmax,d=E.wsize,m=E.whave,y=E.wnext,w=E.window,v=E.hold,S=E.bits,N=E.lencode,T=E.distcode,C=(1<<E.lenbits)-1,V=(1<<E.distbits)-1;e:do{S<15&&(v+=F[i++]<<S,S+=8,v+=F[i++]<<S,S+=8),j=N[v&C];t:for(;;){if(R=j>>>24,v>>>=R,S-=R,R=j>>>16&255,R===0)$[o++]=j&65535;else if(R&16){I=j&65535,R&=15,R&&(S<R&&(v+=F[i++]<<S,S+=8),I+=v&(1<<R)-1,v>>>=R,S-=R),S<15&&(v+=F[i++]<<S,S+=8,v+=F[i++]<<S,S+=8),j=T[v&V];n:for(;;){if(R=j>>>24,v>>>=R,S-=R,R=j>>>16&255,R&16){if(W=j&65535,R&=15,S<R&&(v+=F[i++]<<S,S+=8,S<R&&(v+=F[i++]<<S,S+=8)),W+=v&(1<<R)-1,W>f){e.msg="invalid distance too far back",E.mode=g1;break e}if(v>>>=R,S-=R,R=o-h,W>R){if(R=W-R,R>m&&E.sane){e.msg="invalid distance too far back",E.mode=g1;break e}if(P=0,D=w,y===0){if(P+=d-R,R<I){I-=R;do $[o++]=w[P++];while(--R);P=o-W,D=$}}else if(y<R){if(P+=d+y-R,R-=y,R<I){I-=R;do $[o++]=w[P++];while(--R);if(P=0,y<I){R=y,I-=R;do $[o++]=w[P++];while(--R);P=o-W,D=$}}}else if(P+=y-R,R<I){I-=R;do $[o++]=w[P++];while(--R);P=o-W,D=$}for(;I>2;)$[o++]=D[P++],$[o++]=D[P++],$[o++]=D[P++],I-=3;I&&($[o++]=D[P++],I>1&&($[o++]=D[P++]))}else{P=o-W;do $[o++]=$[P++],$[o++]=$[P++],$[o++]=$[P++],I-=3;while(I>2);I&&($[o++]=$[P++],I>1&&($[o++]=$[P++]))}}else if((R&64)===0){j=T[(j&65535)+(v&(1<<R)-1)];continue n}else{e.msg="invalid distance code",E.mode=g1;break e}break}}else if((R&64)===0){j=N[(j&65535)+(v&(1<<R)-1)];continue t}else if(R&32){E.mode=Ok;break e}else{e.msg="invalid literal/length code",E.mode=g1;break e}break}}while(i<a&&o<c);I=S>>3,i-=I,S-=I<<3,v&=(1<<S)-1,e.next_in=i,e.next_out=o,e.avail_in=i<a?5+(a-i):5-(i-a),e.avail_out=o<c?257+(c-o):257-(o-c),E.hold=v,E.bits=S};const sh=15,Vb=852,Fb=592,Bb=0,hm=1,qb=2,Lk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Dk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),jk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Rk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Ik=(r,e,t,i,a,o,h,c)=>{const f=c.bits;let d=0,m=0,y=0,w=0,v=0,S=0,N=0,T=0,C=0,V=0,j,R,I,W,P,D=null,F;const $=new Uint16Array(sh+1),E=new Uint16Array(sh+1);let B=null,H,Q,ue;for(d=0;d<=sh;d++)$[d]=0;for(m=0;m<i;m++)$[e[t+m]]++;for(v=f,w=sh;w>=1&&$[w]===0;w--);if(v>w&&(v=w),w===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<w&&$[y]===0;y++);for(v<y&&(v=y),T=1,d=1;d<=sh;d++)if(T<<=1,T-=$[d],T<0)return-1;if(T>0&&(r===Bb||w!==1))return-1;for(E[1]=0,d=1;d<sh;d++)E[d+1]=E[d]+$[d];for(m=0;m<i;m++)e[t+m]!==0&&(h[E[e[t+m]]++]=m);if(r===Bb?(D=B=h,F=20):r===hm?(D=Lk,B=Dk,F=257):(D=jk,B=Rk,F=0),V=0,m=0,d=y,P=o,S=v,N=0,I=-1,C=1<<v,W=C-1,r===hm&&C>Vb||r===qb&&C>Fb)return 1;for(;;){H=d-N,h[m]+1<F?(Q=0,ue=h[m]):h[m]>=F?(Q=B[h[m]-F],ue=D[h[m]-F]):(Q=96,ue=0),j=1<<d-N,R=1<<S,y=R;do R-=j,a[P+(V>>N)+R]=H<<24|Q<<16|ue|0;while(R!==0);for(j=1<<d-1;V&j;)j>>=1;if(j!==0?(V&=j-1,V+=j):V=0,m++,--$[d]===0){if(d===w)break;d=e[t+h[m]]}if(d>v&&(V&W)!==I){for(N===0&&(N=v),P+=y,S=d-N,T=1<<S;S+N<w&&(T-=$[S+N],!(T<=0));)S++,T<<=1;if(C+=1<<S,r===hm&&C>Vb||r===qb&&C>Fb)return 1;I=V&W,a[I]=v<<24|S<<16|P-o|0}}return V!==0&&(a[P+V]=d-N<<24|64<<16|0),c.bits=v,0};var Ff=Ik;const Vk=0,f_=1,d_=2,{Z_FINISH:zb,Z_BLOCK:Fk,Z_TREES:v1,Z_OK:cu,Z_STREAM_END:Bk,Z_NEED_DICT:qk,Z_STREAM_ERROR:ba,Z_DATA_ERROR:p_,Z_MEM_ERROR:m_,Z_BUF_ERROR:zk,Z_DEFLATED:Pb}=c_,Fp=16180,Ub=16181,Hb=16182,Gb=16183,Yb=16184,Wb=16185,Xb=16186,Zb=16187,$b=16188,Kb=16189,lp=16190,fl=16191,fm=16192,Qb=16193,dm=16194,Jb=16195,ey=16196,ty=16197,ny=16198,b1=16199,y1=16200,ry=16201,iy=16202,sy=16203,ay=16204,oy=16205,pm=16206,ly=16207,cy=16208,gr=16209,g_=16210,v_=16211,Pk=852,Uk=592,Hk=15,Gk=Hk,uy=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function Yk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const du=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Fp||e.mode>v_?1:0},b_=r=>{if(du(r))return ba;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Fp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Pk),e.distcode=e.distdyn=new Int32Array(Uk),e.sane=1,e.back=-1,cu},y_=r=>{if(du(r))return ba;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,b_(r)},x_=(r,e)=>{let t;if(du(r))return ba;const i=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ba:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,y_(r))},__=(r,e)=>{if(!r)return ba;const t=new Yk;r.state=t,t.strm=r,t.window=null,t.mode=Fp;const i=x_(r,e);return i!==cu&&(r.state=null),i},Wk=r=>__(r,Gk);let hy=!0,mm,gm;const Xk=r=>{if(hy){mm=new Int32Array(512),gm=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Ff(f_,r.lens,0,288,mm,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Ff(d_,r.lens,0,32,gm,0,r.work,{bits:5}),hy=!1}r.lencode=mm,r.lenbits=9,r.distcode=gm,r.distbits=5},w_=(r,e,t,i)=>{let a;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>i&&(a=i),o.window.set(e.subarray(t-i,t-i+a),o.wnext),i-=a,i?(o.window.set(e.subarray(t-i,t),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},Zk=(r,e)=>{let t,i,a,o,h,c,f,d,m,y,w,v,S,N,T=0,C,V,j,R,I,W,P,D;const F=new Uint8Array(4);let $,E;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(du(r)||!r.output||!r.input&&r.avail_in!==0)return ba;t=r.state,t.mode===fl&&(t.mode=fm),h=r.next_out,a=r.output,f=r.avail_out,o=r.next_in,i=r.input,c=r.avail_in,d=t.hold,m=t.bits,y=c,w=f,D=cu;e:for(;;)switch(t.mode){case Fp:if(t.wrap===0){t.mode=fm;break}for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,F[0]=d&255,F[1]=d>>>8&255,t.check=ko(t.check,F,2,0),d=0,m=0,t.mode=Ub;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",t.mode=gr;break}if((d&15)!==Pb){r.msg="unknown compression method",t.mode=gr;break}if(d>>>=4,m-=4,P=(d&15)+8,t.wbits===0&&(t.wbits=P),P>15||P>t.wbits){r.msg="invalid window size",t.mode=gr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=d&512?Kb:fl,d=0,m=0;break;case Ub:for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.flags=d,(t.flags&255)!==Pb){r.msg="unknown compression method",t.mode=gr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=gr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,t.check=ko(t.check,F,2,0)),d=0,m=0,t.mode=Hb;case Hb:for(;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,F[2]=d>>>16&255,F[3]=d>>>24&255,t.check=ko(t.check,F,4,0)),d=0,m=0,t.mode=Gb;case Gb:for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,t.check=ko(t.check,F,2,0)),d=0,m=0,t.mode=Yb;case Yb:if(t.flags&1024){for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(F[0]=d&255,F[1]=d>>>8&255,t.check=ko(t.check,F,2,0)),d=0,m=0}else t.head&&(t.head.extra=null);t.mode=Wb;case Wb:if(t.flags&1024&&(v=t.length,v>c&&(v=c),v&&(t.head&&(P=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(o,o+v),P)),t.flags&512&&t.wrap&4&&(t.check=ko(t.check,i,v,o)),c-=v,o+=v,t.length-=v),t.length))break e;t.length=0,t.mode=Xb;case Xb:if(t.flags&2048){if(c===0)break e;v=0;do P=i[o+v++],t.head&&P&&t.length<65536&&(t.head.name+=String.fromCharCode(P));while(P&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=ko(t.check,i,v,o)),c-=v,o+=v,P)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Zb;case Zb:if(t.flags&4096){if(c===0)break e;v=0;do P=i[o+v++],t.head&&P&&t.length<65536&&(t.head.comment+=String.fromCharCode(P));while(P&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=ko(t.check,i,v,o)),c-=v,o+=v,P)break e}else t.head&&(t.head.comment=null);t.mode=$b;case $b:if(t.flags&512){for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.check&65535)){r.msg="header crc mismatch",t.mode=gr;break}d=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=fl;break;case Kb:for(;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}r.adler=t.check=uy(d),d=0,m=0,t.mode=lp;case lp:if(t.havedict===0)return r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,qk;r.adler=t.check=1,t.mode=fl;case fl:if(e===Fk||e===v1)break e;case fm:if(t.last){d>>>=m&7,m-=m&7,t.mode=pm;break}for(;m<3;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}switch(t.last=d&1,d>>>=1,m-=1,d&3){case 0:t.mode=Qb;break;case 1:if(Xk(t),t.mode=b1,e===v1){d>>>=2,m-=2;break e}break;case 2:t.mode=ey;break;case 3:r.msg="invalid block type",t.mode=gr}d>>>=2,m-=2;break;case Qb:for(d>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",t.mode=gr;break}if(t.length=d&65535,d=0,m=0,t.mode=dm,e===v1)break e;case dm:t.mode=Jb;case Jb:if(v=t.length,v){if(v>c&&(v=c),v>f&&(v=f),v===0)break e;a.set(i.subarray(o,o+v),h),c-=v,o+=v,f-=v,h+=v,t.length-=v;break}t.mode=fl;break;case ey:for(;m<14;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.nlen=(d&31)+257,d>>>=5,m-=5,t.ndist=(d&31)+1,d>>>=5,m-=5,t.ncode=(d&15)+4,d>>>=4,m-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=gr;break}t.have=0,t.mode=ty;case ty:for(;t.have<t.ncode;){for(;m<3;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.lens[B[t.have++]]=d&7,d>>>=3,m-=3}for(;t.have<19;)t.lens[B[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,$={bits:t.lenbits},D=Ff(Vk,t.lens,0,19,t.lencode,0,t.work,$),t.lenbits=$.bits,D){r.msg="invalid code lengths set",t.mode=gr;break}t.have=0,t.mode=ny;case ny:for(;t.have<t.nlen+t.ndist;){for(;T=t.lencode[d&(1<<t.lenbits)-1],C=T>>>24,V=T>>>16&255,j=T&65535,!(C<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(j<16)d>>>=C,m-=C,t.lens[t.have++]=j;else{if(j===16){for(E=C+2;m<E;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(d>>>=C,m-=C,t.have===0){r.msg="invalid bit length repeat",t.mode=gr;break}P=t.lens[t.have-1],v=3+(d&3),d>>>=2,m-=2}else if(j===17){for(E=C+3;m<E;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=C,m-=C,P=0,v=3+(d&7),d>>>=3,m-=3}else{for(E=C+7;m<E;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=C,m-=C,P=0,v=11+(d&127),d>>>=7,m-=7}if(t.have+v>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=gr;break}for(;v--;)t.lens[t.have++]=P}}if(t.mode===gr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=gr;break}if(t.lenbits=9,$={bits:t.lenbits},D=Ff(f_,t.lens,0,t.nlen,t.lencode,0,t.work,$),t.lenbits=$.bits,D){r.msg="invalid literal/lengths set",t.mode=gr;break}if(t.distbits=6,t.distcode=t.distdyn,$={bits:t.distbits},D=Ff(d_,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,$),t.distbits=$.bits,D){r.msg="invalid distances set",t.mode=gr;break}if(t.mode=b1,e===v1)break e;case b1:t.mode=y1;case y1:if(c>=6&&f>=258){r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,Mk(r,w),h=r.next_out,a=r.output,f=r.avail_out,o=r.next_in,i=r.input,c=r.avail_in,d=t.hold,m=t.bits,t.mode===fl&&(t.back=-1);break}for(t.back=0;T=t.lencode[d&(1<<t.lenbits)-1],C=T>>>24,V=T>>>16&255,j=T&65535,!(C<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(V&&(V&240)===0){for(R=C,I=V,W=j;T=t.lencode[W+((d&(1<<R+I)-1)>>R)],C=T>>>24,V=T>>>16&255,j=T&65535,!(R+C<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=R,m-=R,t.back+=R}if(d>>>=C,m-=C,t.back+=C,t.length=j,V===0){t.mode=oy;break}if(V&32){t.back=-1,t.mode=fl;break}if(V&64){r.msg="invalid literal/length code",t.mode=gr;break}t.extra=V&15,t.mode=ry;case ry:if(t.extra){for(E=t.extra;m<E;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=iy;case iy:for(;T=t.distcode[d&(1<<t.distbits)-1],C=T>>>24,V=T>>>16&255,j=T&65535,!(C<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if((V&240)===0){for(R=C,I=V,W=j;T=t.distcode[W+((d&(1<<R+I)-1)>>R)],C=T>>>24,V=T>>>16&255,j=T&65535,!(R+C<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=R,m-=R,t.back+=R}if(d>>>=C,m-=C,t.back+=C,V&64){r.msg="invalid distance code",t.mode=gr;break}t.offset=j,t.extra=V&15,t.mode=sy;case sy:if(t.extra){for(E=t.extra;m<E;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=gr;break}t.mode=ay;case ay:if(f===0)break e;if(v=w-f,t.offset>v){if(v=t.offset-v,v>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=gr;break}v>t.wnext?(v-=t.wnext,S=t.wsize-v):S=t.wnext-v,v>t.length&&(v=t.length),N=t.window}else N=a,S=h-t.offset,v=t.length;v>f&&(v=f),f-=v,t.length-=v;do a[h++]=N[S++];while(--v);t.length===0&&(t.mode=y1);break;case oy:if(f===0)break e;a[h++]=t.length,f--,t.mode=y1;break;case pm:if(t.wrap){for(;m<32;){if(c===0)break e;c--,d|=i[o++]<<m,m+=8}if(w-=f,r.total_out+=w,t.total+=w,t.wrap&4&&w&&(r.adler=t.check=t.flags?ko(t.check,a,w,h-w):$m(t.check,a,w,h-w)),w=f,t.wrap&4&&(t.flags?d:uy(d))!==t.check){r.msg="incorrect data check",t.mode=gr;break}d=0,m=0}t.mode=ly;case ly:if(t.wrap&&t.flags){for(;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=gr;break}d=0,m=0}t.mode=cy;case cy:D=Bk;break e;case gr:D=p_;break e;case g_:return m_;case v_:default:return ba}return r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,(t.wsize||w!==r.avail_out&&t.mode<gr&&(t.mode<pm||e!==zb))&&w_(r,r.output,r.next_out,w-r.avail_out),y-=r.avail_in,w-=r.avail_out,r.total_in+=y,r.total_out+=w,t.total+=w,t.wrap&4&&w&&(r.adler=t.check=t.flags?ko(t.check,a,w,r.next_out-w):$m(t.check,a,w,r.next_out-w)),r.data_type=t.bits+(t.last?64:0)+(t.mode===fl?128:0)+(t.mode===b1||t.mode===dm?256:0),(y===0&&w===0||e===zb)&&D===cu&&(D=zk),D},$k=r=>{if(du(r))return ba;let e=r.state;return e.window&&(e.window=null),r.state=null,cu},Kk=(r,e)=>{if(du(r))return ba;const t=r.state;return(t.wrap&2)===0?ba:(t.head=e,e.done=!1,cu)},Qk=(r,e)=>{const t=e.length;let i,a,o;return du(r)||(i=r.state,i.wrap!==0&&i.mode!==lp)?ba:i.mode===lp&&(a=1,a=$m(a,e,t,0),a!==i.check)?p_:(o=w_(r,e,t,t),o?(i.mode=g_,m_):(i.havedict=1,cu))};var Jk=y_,eO=x_,tO=b_,nO=Wk,rO=__,iO=Zk,sO=$k,aO=Kk,oO=Qk,lO="pako inflate (from Nodeca project)",pl={inflateReset:Jk,inflateReset2:eO,inflateResetKeep:tO,inflateInit:nO,inflateInit2:rO,inflate:iO,inflateEnd:sO,inflateGetHeader:aO,inflateSetDictionary:oO,inflateInfo:lO};function cO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uO=cO;const S_=Object.prototype.toString,{Z_NO_FLUSH:hO,Z_FINISH:fO,Z_OK:Kf,Z_STREAM_END:vm,Z_NEED_DICT:bm,Z_STREAM_ERROR:dO,Z_DATA_ERROR:fy,Z_MEM_ERROR:pO}=c_;function gd(r){this.options=u_.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kk,this.strm.avail_out=0;let t=pl.inflateInit2(this.strm,e.windowBits);if(t!==Kf)throw new Error(Km[t]);if(this.header=new uO,pl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Qm.string2buf(e.dictionary):S_.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=pl.inflateSetDictionary(this.strm,e.dictionary),t!==Kf)))throw new Error(Km[t])}gd.prototype.push=function(r,e){const t=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let o,h,c;if(this.ended)return!1;for(e===~~e?h=e:h=e===!0?fO:hO,S_.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),o=pl.inflate(t,h),o===bm&&a&&(o=pl.inflateSetDictionary(t,a),o===Kf?o=pl.inflate(t,h):o===fy&&(o=bm));t.avail_in>0&&o===vm&&t.state.wrap>0&&r[t.next_in]!==0;)pl.inflateReset(t),o=pl.inflate(t,h);switch(o){case dO:case fy:case bm:case pO:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===vm))if(this.options.to==="string"){let f=Qm.utf8border(t.output,t.next_out),d=t.next_out-f,m=Qm.buf2string(t.output,f);t.next_out=d,t.avail_out=i-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Kf&&c===0)){if(o===vm)return o=pl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};gd.prototype.onData=function(r){this.chunks.push(r)};gd.prototype.onEnd=function(r){r===Kf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u_.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function mO(r,e){const t=new gd(e);if(t.push(r),t.err)throw t.msg||Km[t.err];return t.result}var gO=gd,vO=mO,bO={Inflate:gO,inflate:vO};const{Inflate:yO,inflate:xO}=bO;var dy=yO,_O=xO;const A_=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;A_[r]=e}const py=4294967295;function wO(r,e,t){let i=r;for(let a=0;a<t;a++)i=A_[(i^e[a])&255]^i>>>8;return i}function SO(r,e){return(wO(py,r,e)^py)>>>0}function my(r,e,t){const i=r.readUint32(),a=SO(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${a}`)}function N_(r,e,t){for(let i=0;i<t;i++)e[i]=r[i]}function C_(r,e,t,i){let a=0;for(;a<i;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-i]&255}function T_(r,e,t,i){let a=0;if(t.length===0)for(;a<i;a++)e[a]=r[a];else for(;a<i;a++)e[a]=r[a]+t[a]&255}function E_(r,e,t,i,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=r[o]+(t[o]>>1)&255;for(;o<i;o++)e[o]=r[o]+(e[o-a]+t[o]>>1)&255}}function k_(r,e,t,i,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=r[o]+t[o]&255;for(;o<i;o++)e[o]=r[o]+AO(e[o-a],t[o],t[o-a])&255}}function AO(r,e,t){const i=r+e-t,a=Math.abs(i-r),o=Math.abs(i-e),h=Math.abs(i-t);return a<=o&&a<=h?r:o<=h?e:t}function NO(r,e,t,i,a,o){switch(r){case 0:N_(e,t,a);break;case 1:C_(e,t,a,o);break;case 2:T_(e,t,i,a);break;case 3:E_(e,t,i,a,o);break;case 4:k_(e,t,i,a,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const CO=new Uint16Array([255]),TO=new Uint8Array(CO.buffer),EO=TO[0]===255;function kO(r){const{data:e,width:t,height:i,channels:a,depth:o}=r,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(i*t*c);let d=0;for(let m=0;m<7;m++){const y=h[m],w=Math.ceil((t-y.x)/y.xStep),v=Math.ceil((i-y.y)/y.yStep);if(w<=0||v<=0)continue;const S=w*c,N=new Uint8Array(S);for(let T=0;T<v;T++){const C=e[d++],V=e.subarray(d,d+S);d+=S;const j=new Uint8Array(S);NO(C,V,j,N,S,c),N.set(j);for(let R=0;R<w;R++){const I=y.x+R*y.xStep,W=y.y+T*y.yStep;if(!(I>=t||W>=i))for(let P=0;P<c;P++)f[(W*t+I)*c+P]=j[R*c+P]}}}if(o===16){const m=new Uint16Array(f.buffer);if(EO)for(let y=0;y<m.length;y++)m[y]=OO(m[y]);return m}else return f}function OO(r){return(r&255)<<8|r>>8&255}const MO=new Uint16Array([255]),LO=new Uint8Array(MO.buffer),DO=LO[0]===255,jO=new Uint8Array(0);function gy(r){const{data:e,width:t,height:i,channels:a,depth:o}=r,h=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(i*c);let d=jO,m=0,y,w;for(let v=0;v<i;v++){switch(y=e.subarray(m+1,m+1+c),w=f.subarray(v*c,(v+1)*c),e[m]){case 0:N_(y,w,c);break;case 1:C_(y,w,c,h);break;case 2:T_(y,w,d,c);break;case 3:E_(y,w,d,c,h);break;case 4:k_(y,w,d,c,h);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}d=w,m+=c+1}if(o===16){const v=new Uint16Array(f.buffer);if(DO)for(let S=0;S<v.length;S++)v[S]=RO(v[S]);return v}else return f}function RO(r){return(r&255)<<8|r>>8&255}const M1=Uint8Array.of(137,80,78,71,13,10,26,10);function vy(r){if(!IO(r.readBytes(M1.length)))throw new Error("wrong PNG signature")}function IO(r){if(r.length<M1.length)return!1;for(let e=0;e<M1.length;e++)if(r[e]!==M1[e])return!1;return!0}const VO="tEXt",FO=0,O_=new TextDecoder("latin1");function BO(r){if(zO(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const qO=/^[\u0000-\u00FF]*$/;function zO(r){if(!qO.test(r))throw new Error("invalid latin1 text")}function PO(r,e,t){const i=M_(e);r[i]=UO(e,t-i.length-1)}function M_(r){for(r.mark();r.readByte()!==FO;);const e=r.offset;r.reset();const t=O_.decode(r.readBytes(e-r.offset-1));return r.skip(1),BO(t),t}function UO(r,e){return O_.decode(r.readBytes(e))}const Hs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ym={UNKNOWN:-1,DEFLATE:0},by={UNKNOWN:-1,ADAPTIVE:0},xm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},x1={NONE:0,BACKGROUND:1,PREVIOUS:2},_m={SOURCE:0,OVER:1};class HO extends o2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new dy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ym.UNKNOWN,this._filterMethod=by.UNKNOWN,this._interlaceMethod=xm.UNKNOWN,this._colorType=Hs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(vy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(vy(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case VO:PO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?my(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?my(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=GO(this.readUint8());const t=this.readUint8();this._colorType=t;let i;switch(t){case Hs.GREYSCALE:i=1;break;case Hs.TRUECOLOUR:i=3;break;case Hs.INDEXED_COLOUR:i=1;break;case Hs.GREYSCALE_ALPHA:i=2;break;case Hs.TRUECOLOUR_ALPHA:i=4;break;case Hs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==ym.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<t;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Hs.GREYSCALE:case Hs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Hs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Hs.UNKNOWN:case Hs.GREYSCALE_ALPHA:case Hs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=M_(this),i=this.readUint8();if(i!==ym.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:_O(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=gy({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(i,a,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,i){switch(e.disposeOp){case x1.NONE:break;case x1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const h=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[h+c]=0}break;case x1.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const i=1<<this._png.depth,a=(o,h)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+h)*this._png.channels,f=(o*t.width+h)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case _m.SOURCE:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case _m.OVER:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++){const m=t.data[f+this._png.channels-1]/i,y=d%(this._png.channels-1)===0?1:t.data[f+d],w=Math.floor(m*y+(1-m)*e.data[c+d]);e.data[c+d]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==by.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===xm.NO_INTERLACE)this._png.data=gy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===xm.ADAM7)this._png.data=kO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:x1.NONE,blendOp:_m.SOURCE,data:e}),this._inflator=new dy,this._writingDataChunks=!1}}function GO(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var yy;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(yy||(yy={}));function YO(r,e){return new HO(r,e).decode()}var Wt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function wm(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var Kn={log:wm,warn:function(r){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):wm.call(null,arguments))},error:function(r){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):wm(r))}};function Sm(r,e,t){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){Qc(i.response,e,t)},i.onerror=function(){Kn.error("could not download file")},i.send()}function xy(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function _1(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Qc=Wt.saveAs||((typeof window>"u"?"undefined":Fn(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var i=Wt.URL||Wt.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?xy(a.href)?Sm(r,e,t):_1(a,a.target="_blank"):_1(a)):(a.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){_1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(xy(r))Sm(r,e,t);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){_1(i)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Fn(o)!=="object"&&(Kn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof r=="string")return Sm(r,e,t);var a=r.type==="application/octet-stream",o=/constructor/i.test(Wt.HTMLElement)||Wt.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||a&&o)&&(typeof FileReader>"u"?"undefined":Fn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=h?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=m:location=m,i=null},c.readAsDataURL(r)}else{var f=Wt.URL||Wt.webkitURL,d=f.createObjectURL(r);i?i.location=d:location.href=d,i=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function L_(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<t.length;i++){var a=t[i].re,o=t[i].process,h=a.exec(r);h&&(e=o(h),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var L1=Wt.atob.bind(Wt),_y=Wt.btoa.bind(Wt);function Am(r,e){var t=r[0],i=r[1],a=r[2],o=r[3];t=Bi(t,i,a,o,e[0],7,-680876936),o=Bi(o,t,i,a,e[1],12,-389564586),a=Bi(a,o,t,i,e[2],17,606105819),i=Bi(i,a,o,t,e[3],22,-1044525330),t=Bi(t,i,a,o,e[4],7,-176418897),o=Bi(o,t,i,a,e[5],12,1200080426),a=Bi(a,o,t,i,e[6],17,-1473231341),i=Bi(i,a,o,t,e[7],22,-45705983),t=Bi(t,i,a,o,e[8],7,1770035416),o=Bi(o,t,i,a,e[9],12,-1958414417),a=Bi(a,o,t,i,e[10],17,-42063),i=Bi(i,a,o,t,e[11],22,-1990404162),t=Bi(t,i,a,o,e[12],7,1804603682),o=Bi(o,t,i,a,e[13],12,-40341101),a=Bi(a,o,t,i,e[14],17,-1502002290),t=qi(t,i=Bi(i,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=qi(o,t,i,a,e[6],9,-1069501632),a=qi(a,o,t,i,e[11],14,643717713),i=qi(i,a,o,t,e[0],20,-373897302),t=qi(t,i,a,o,e[5],5,-701558691),o=qi(o,t,i,a,e[10],9,38016083),a=qi(a,o,t,i,e[15],14,-660478335),i=qi(i,a,o,t,e[4],20,-405537848),t=qi(t,i,a,o,e[9],5,568446438),o=qi(o,t,i,a,e[14],9,-1019803690),a=qi(a,o,t,i,e[3],14,-187363961),i=qi(i,a,o,t,e[8],20,1163531501),t=qi(t,i,a,o,e[13],5,-1444681467),o=qi(o,t,i,a,e[2],9,-51403784),a=qi(a,o,t,i,e[7],14,1735328473),t=zi(t,i=qi(i,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=zi(o,t,i,a,e[8],11,-2022574463),a=zi(a,o,t,i,e[11],16,1839030562),i=zi(i,a,o,t,e[14],23,-35309556),t=zi(t,i,a,o,e[1],4,-1530992060),o=zi(o,t,i,a,e[4],11,1272893353),a=zi(a,o,t,i,e[7],16,-155497632),i=zi(i,a,o,t,e[10],23,-1094730640),t=zi(t,i,a,o,e[13],4,681279174),o=zi(o,t,i,a,e[0],11,-358537222),a=zi(a,o,t,i,e[3],16,-722521979),i=zi(i,a,o,t,e[6],23,76029189),t=zi(t,i,a,o,e[9],4,-640364487),o=zi(o,t,i,a,e[12],11,-421815835),a=zi(a,o,t,i,e[15],16,530742520),t=Pi(t,i=zi(i,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Pi(o,t,i,a,e[7],10,1126891415),a=Pi(a,o,t,i,e[14],15,-1416354905),i=Pi(i,a,o,t,e[5],21,-57434055),t=Pi(t,i,a,o,e[12],6,1700485571),o=Pi(o,t,i,a,e[3],10,-1894986606),a=Pi(a,o,t,i,e[10],15,-1051523),i=Pi(i,a,o,t,e[1],21,-2054922799),t=Pi(t,i,a,o,e[8],6,1873313359),o=Pi(o,t,i,a,e[15],10,-30611744),a=Pi(a,o,t,i,e[6],15,-1560198380),i=Pi(i,a,o,t,e[13],21,1309151649),t=Pi(t,i,a,o,e[4],6,-145523070),o=Pi(o,t,i,a,e[11],10,-1120210379),a=Pi(a,o,t,i,e[2],15,718787259),i=Pi(i,a,o,t,e[9],21,-343485551),r[0]=cc(t,r[0]),r[1]=cc(i,r[1]),r[2]=cc(a,r[2]),r[3]=cc(o,r[3])}function Bp(r,e,t,i,a,o){return e=cc(cc(e,r),cc(i,o)),cc(e<<a|e>>>32-a,t)}function Bi(r,e,t,i,a,o,h){return Bp(e&t|~e&i,r,e,a,o,h)}function qi(r,e,t,i,a,o,h){return Bp(e&i|t&~i,r,e,a,o,h)}function zi(r,e,t,i,a,o,h){return Bp(e^t^i,r,e,a,o,h)}function Pi(r,e,t,i,a,o,h){return Bp(t^(e|~i),r,e,a,o,h)}function D_(r){var e,t=r.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Am(i,WO(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Am(i,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Am(i,a),i}function WO(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var wy="0123456789abcdef".split("");function XO(r){for(var e="",t=0;t<4;t++)e+=wy[r>>8*t+4&15]+wy[r>>8*t&15];return e}function ZO(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function Jm(r){return D_(r).map(ZO).join("")}var $O=(function(r){for(var e=0;e<r.length;e++)r[e]=XO(r[e]);return r.join("")})(D_("hello"))!="5d41402abc4b2a76b9719d911017c592";function cc(r,e){if($O){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function eg(r,e){var t,i,a,o;if(r!==t){for(var h=(a=r,o=1+(256/r.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var m=c[f];d=(d+m+h.charCodeAt(f))%256,c[f]=c[d],c[d]=m}t=r,i=c}else c=i;var y=e.length,w=0,v=0,S="";for(f=0;f<y;f++)v=(v+(m=c[w=(w+1)%256]))%256,c[w]=c[v],c[v]=m,h=c[(c[w]+c[v])%256],S+=String.fromCharCode(e.charCodeAt(f)^h);return S}var Sy={print:4,modify:8,copy:16,"annot-forms":32};function uh(r,e,t,i){this.v=1,this.r=2;var a=192;r.forEach(function(c){if(Sy.perm!==void 0)throw new Error("Invalid permission: "+c);a+=Sy[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),h=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,h),this.P=-(1+(255^a)),this.encryptionKey=Jm(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=eg(this.encryptionKey,this.padding)}function hh(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,i=0;i<t;i++){var a=r.charCodeAt(i);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[i]}return e}function Ay(r){if(Fn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,a){if(a=a||!1,typeof t!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[i,!!a],o},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var h=e[t][o];try{h[0].apply(r,i)}catch(c){Wt.console&&Kn.error("jsPDF PubSub Error",c.message,c)}h[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function cp(r){if(!(this instanceof cp))return new cp(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function j_(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function eu(r,e,t,i,a){if(!(this instanceof eu))return new eu(r,e,t,i,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,j_.call(this,i,a)}function vh(r,e,t,i,a){if(!(this instanceof vh))return new vh(r,e,t,i,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,j_.call(this,i,a)}function Ct(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],o=arguments[3],h=[],c=1,f=16,d="S",m=null;Fn(r=r||{})==="object"&&(t=r.orientation,i=r.unit||i,a=r.format||a,o=r.compress||r.compressPdf||o,(m=r.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(f=r.floatPrecision),d=r.defaultPathOperation||"S"),h=r.filters||(o===!0?["FlateEncode"]:h),i=i||"mm",t=(""+(t||"P")).toLowerCase();var y=r.putOnlyUsedFonts||!1,w={},v={internal:{},__private__:{}};v.__private__.PubSub=Ay;var S="1.3",N=v.__private__.getPdfVersion=function(){return S};v.__private__.setPdfVersion=function(_){S=_};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return T};var C=v.__private__.getPageFormat=function(_){return T[_]};a=a||"a4";var V="compat",j="advanced",R=V;function I(){this.saveGraphicsState(),G(new $e(dt,0,0,-dt,0,Ca()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),d="n",R=j}function W(){this.restoreGraphicsState(),d="S",R=V}var P=v.__private__.combineFontStyleAndFontWeight=function(_,q){if(_=="bold"&&q=="normal"||_=="bold"&&q==400||_=="normal"&&q=="italic"||_=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(_=q==400||q==="normal"?_==="italic"?"italic":"normal":q!=700&&q!=="bold"||_!=="normal"?(q==700?"bold":q)+""+_:"bold"),_};v.advancedAPI=function(_){var q=R===V;return q&&I.call(this),typeof _!="function"||(_(this),q&&W.call(this)),this},v.compatAPI=function(_){var q=R===j;return q&&W.call(this),typeof _!="function"||(_(this),q&&I.call(this)),this},v.isAdvancedAPI=function(){return R===j};var D,F=function(_){if(R!==j)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=v.roundToPrecision=v.__private__.roundToPrecision=function(_,q){var ce=e||q;if(isNaN(_)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(ce).replace(/0+$/,"")};D=v.hpf=v.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return $(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return $(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return $(_,16)};var E=v.f2=v.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return $(_,2)},B=v.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return $(_,3)},H=v.scale=v.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return R===V?_*dt:R===j?_:void 0},Q=function(_){return H((function(q){return R===V?Ca()-q:R===j?q:void 0})(_))};v.__private__.setPrecision=v.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ue,J="00000000000000000000000000000000",ie=v.__private__.getFileId=function(){return J},le=v.__private__.setFileId=function(_){return J=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Ir=new uh(m.userPermissions,m.userPassword,m.ownerPassword,J)),J};v.setFileId=function(_){return le(_),this},v.getFileId=function(){return ie()};var fe=v.__private__.convertDateToPDFDate=function(_){var q=_.getTimezoneOffset(),ce=q<0?"+":"-",ge=Math.floor(Math.abs(q/60)),we=Math.abs(q%60),ze=[ce,ee(ge),"'",ee(we),"'"].join("");return["D:",_.getFullYear(),ee(_.getMonth()+1),ee(_.getDate()),ee(_.getHours()),ee(_.getMinutes()),ee(_.getSeconds()),ze].join("")},xe=v.__private__.convertPDFDateToDate=function(_){var q=parseInt(_.substr(2,4),10),ce=parseInt(_.substr(6,2),10)-1,ge=parseInt(_.substr(8,2),10),we=parseInt(_.substr(10,2),10),ze=parseInt(_.substr(12,2),10),Xe=parseInt(_.substr(14,2),10);return new Date(q,ce,ge,we,ze,Xe,0)},X=v.__private__.setCreationDate=function(_){var q;if(_===void 0&&(_=new Date),_ instanceof Date)q=fe(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=_}return ue=q},k=v.__private__.getCreationDate=function(_){var q=ue;return _==="jsDate"&&(q=xe(ue)),q};v.setCreationDate=function(_){return X(_),this},v.getCreationDate=function(_){return k(_)};var U,ee=v.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},re=v.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},se=0,me=[],de=[],_e=0,Ne=[],Ce=[],qe=!1,We=de;v.__private__.setCustomOutputDestination=function(_){qe=!0,We=_};var Qe=function(_){qe||(We=_)};v.__private__.resetCustomOutputDestination=function(){qe=!1,We=de};var G=v.__private__.out=function(_){return _=_.toString(),_e+=_.length+1,We.push(_),We},je=v.__private__.write=function(_){return G(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},rt=v.__private__.getArrayBuffer=function(_){for(var q=_.length,ce=new ArrayBuffer(q),ge=new Uint8Array(ce);q--;)ge[q]=_.charCodeAt(q);return ce},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Ze};var Ee=r.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(_){return Ee=R===j?_/dt:_,this};var tt,nt=v.__private__.getFontSize=v.getFontSize=function(){return R===V?Ee:Ee*dt},ot=r.R2L||!1;v.__private__.setR2L=v.setR2L=function(_){return ot=_,this},v.__private__.getR2L=v.getR2L=function(){return ot};var ut,Tt=v.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))tt=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');tt=_}else tt=parseInt(_,10)};v.__private__.getZoomMode=function(){return tt};var Ye,et=v.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');ut=_};v.__private__.getPageMode=function(){return ut};var lt=v.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Ye=_};v.__private__.getLayoutMode=function(){return Ye},v.__private__.setDisplayMode=v.setDisplayMode=function(_,q,ce){return Tt(_),lt(q),et(ce),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(_){if(Object.keys(wt).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[_]},v.__private__.getDocumentProperties=function(){return wt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(_){for(var q in wt)wt.hasOwnProperty(q)&&_[q]&&(wt[q]=_[q]);return this},v.__private__.setDocumentProperty=function(_,q){if(Object.keys(wt).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[_]=q};var at,dt,st,Gt,Rt,_t={},St={},Ot=[],gt={},sn={},Et={},Ft={},Nn=null,pt=0,ct=[],It=new Ay(v),hr=r.hotfixes||[],Oe={},Fe={},Ke=[],$e=function _(q,ce,ge,we,ze,Xe){if(!(this instanceof _))return new _(q,ce,ge,we,ze,Xe);isNaN(q)&&(q=1),isNaN(ce)&&(ce=0),isNaN(ge)&&(ge=0),isNaN(we)&&(we=1),isNaN(ze)&&(ze=0),isNaN(Xe)&&(Xe=0),this._matrix=[q,ce,ge,we,ze,Xe]};Object.defineProperty($e.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty($e.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty($e.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty($e.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty($e.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty($e.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty($e.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty($e.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty($e.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty($e.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty($e.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty($e.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty($e.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($e.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($e.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($e.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$e.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(_)},$e.prototype.multiply=function(_){var q=_.sx*this.sx+_.shy*this.shx,ce=_.sx*this.shy+_.shy*this.sy,ge=_.shx*this.sx+_.sy*this.shx,we=_.shx*this.shy+_.sy*this.sy,ze=_.tx*this.sx+_.ty*this.shx+this.tx,Xe=_.tx*this.shy+_.ty*this.sy+this.ty;return new $e(q,ce,ge,we,ze,Xe)},$e.prototype.decompose=function(){var _=this.sx,q=this.shy,ce=this.shx,ge=this.sy,we=this.tx,ze=this.ty,Xe=Math.sqrt(_*_+q*q),vt=(_/=Xe)*ce+(q/=Xe)*ge;ce-=_*vt,ge-=q*vt;var At=Math.sqrt(ce*ce+ge*ge);return vt/=At,_*(ge/=At)<q*(ce/=At)&&(_=-_,q=-q,vt=-vt,Xe=-Xe),{scale:new $e(Xe,0,0,At,0,0),translate:new $e(1,0,0,1,we,ze),rotate:new $e(_,q,-q,_,0,0),skew:new $e(1,0,vt,1,0,0)}},$e.prototype.toString=function(_){return this.join(" ")},$e.prototype.inversed=function(){var _=this.sx,q=this.shy,ce=this.shx,ge=this.sy,we=this.tx,ze=this.ty,Xe=1/(_*ge-q*ce),vt=ge*Xe,At=-q*Xe,Ut=-ce*Xe,$t=_*Xe;return new $e(vt,At,Ut,$t,-vt*we-Ut*ze,-At*we-$t*ze)},$e.prototype.applyToPoint=function(_){var q=_.x*this.sx+_.y*this.shx+this.tx,ce=_.x*this.shy+_.y*this.sy+this.ty;return new ls(q,ce)},$e.prototype.applyToRectangle=function(_){var q=this.applyToPoint(_),ce=this.applyToPoint(new ls(_.x+_.w,_.y+_.h));return new _a(q.x,q.y,ce.x-q.x,ce.y-q.y)},$e.prototype.clone=function(){var _=this.sx,q=this.shy,ce=this.shx,ge=this.sy,we=this.tx,ze=this.ty;return new $e(_,q,ce,ge,we,ze)},v.Matrix=$e;var Mt=v.matrixMult=function(_,q){return q.multiply(_)},Lt=new $e(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Lt;var Vt=function(_,q){if(!sn[_]){var ce=(q instanceof eu?"Sh":"P")+(Object.keys(gt).length+1).toString(10);q.id=ce,sn[_]=ce,gt[ce]=q,It.publish("addPattern",q)}};v.ShadingPattern=eu,v.TilingPattern=vh,v.addShadingPattern=function(_,q){return F("addShadingPattern()"),Vt(_,q),this},v.beginTilingPattern=function(_){F("beginTilingPattern()"),Uo(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},v.endTilingPattern=function(_,q){F("endTilingPattern()"),q.stream=Ce[U].join(`
`),Vt(_,q),It.publish("endTilingPattern",q),Ke.pop().restore()};var tn,Zt=v.__private__.newObject=function(){var _=hn();return an(_,!0),_},hn=v.__private__.newObjectDeferred=function(){return se++,me[se]=function(){return _e},se},an=function(_,q){return q=typeof q=="boolean"&&q,me[_]=_e,q&&G(_+" 0 obj"),_},Ar=v.__private__.newAdditionalObject=function(){var _={objId:hn(),content:""};return Ne.push(_),_},Bn=hn(),fn=hn(),Cn=v.__private__.decodeColorString=function(_){var q=_.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var ce=parseFloat(q[0]);q=[ce,ce,ce,"r"]}for(var ge="#",we=0;we<3;we++)ge+=("0"+Math.floor(255*parseFloat(q[we])).toString(16)).slice(-2);return ge},br=v.__private__.encodeColorString=function(_){var q;typeof _=="string"&&(_={ch1:_});var ce=_.ch1,ge=_.ch2,we=_.ch3,ze=_.ch4,Xe=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var vt=new L_(ce);if(vt.ok)ce=vt.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var At=parseInt(ce.substr(1),16);ce=At>>16&255,ge=At>>8&255,we=255&At}if(ge===void 0||ze===void 0&&ce===ge&&ge===we)q=typeof ce=="string"?ce+" "+Xe[0]:_.precision===2?E(ce/255)+" "+Xe[0]:B(ce/255)+" "+Xe[0];else if(ze===void 0||Fn(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return["1.","1.","1.",Xe[1]].join(" ");q=typeof ce=="string"?[ce,ge,we,Xe[1]].join(" "):_.precision===2?[E(ce/255),E(ge/255),E(we/255),Xe[1]].join(" "):[B(ce/255),B(ge/255),B(we/255),Xe[1]].join(" ")}else q=typeof ce=="string"?[ce,ge,we,ze,Xe[2]].join(" "):_.precision===2?[E(ce),E(ge),E(we),E(ze),Xe[2]].join(" "):[B(ce),B(ge),B(we),B(ze),Xe[2]].join(" ");return q},Hr=v.__private__.getFilters=function(){return h},Gr=v.__private__.putStream=function(_){var q=(_=_||{}).data||"",ce=_.filters||Hr(),ge=_.alreadyAppliedFilters||[],we=_.addLength1||!1,ze=q.length,Xe=_.objectId,vt=function(Vr){return Vr};if(m!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(vt=Ir.encryptor(Xe,0));var At={};ce===!0&&(ce=["FlateEncode"]);var Ut=_.additionalKeyValues||[],$t=(At=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(q,ce):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(At.data.length!==0&&(Ut.push({key:"Length",value:At.data.length}),we===!0&&Ut.push({key:"Length1",value:ze})),$t.length!=0)if($t.split("/").length-1==1)Ut.push({key:"Filter",value:$t});else{Ut.push({key:"Filter",value:"["+$t+"]"});for(var vn=0;vn<Ut.length;vn+=1)if(Ut[vn].key==="DecodeParms"){for(var nr=[],yr=0;yr<At.reverseChain.split("/").length-1;yr+=1)nr.push("null");nr.push(Ut[vn].value),Ut[vn].value="["+nr.join(" ")+"]"}}G("<<");for(var qn=0;qn<Ut.length;qn++)G("/"+Ut[qn].key+" "+Ut[qn].value);G(">>"),At.data.length!==0&&(G("stream"),G(vt(At.data)),G("endstream"))},Ks=v.__private__.putPage=function(_){var q=_.number,ce=_.data,ge=_.objId,we=_.contentsObjId;an(ge,!0),G("<</Type /Page"),G("/Parent "+_.rootDictionaryObjId+" 0 R"),G("/Resources "+_.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(D(_.mediaBox.bottomLeftX))+" "+parseFloat(D(_.mediaBox.bottomLeftY))+" "+D(_.mediaBox.topRightX)+" "+D(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&G("/CropBox ["+D(_.cropBox.bottomLeftX)+" "+D(_.cropBox.bottomLeftY)+" "+D(_.cropBox.topRightX)+" "+D(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&G("/BleedBox ["+D(_.bleedBox.bottomLeftX)+" "+D(_.bleedBox.bottomLeftY)+" "+D(_.bleedBox.topRightX)+" "+D(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&G("/TrimBox ["+D(_.trimBox.bottomLeftX)+" "+D(_.trimBox.bottomLeftY)+" "+D(_.trimBox.topRightX)+" "+D(_.trimBox.topRightY)+"]"),_.artBox!==null&&G("/ArtBox ["+D(_.artBox.bottomLeftX)+" "+D(_.artBox.bottomLeftY)+" "+D(_.artBox.topRightX)+" "+D(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&G("/UserUnit "+_.userUnit),It.publish("putPage",{objId:ge,pageContext:ct[q],pageNumber:q,page:ce}),G("/Contents "+we+" 0 R"),G(">>"),G("endobj");var ze=ce.join(`
`);return R===j&&(ze+=`
Q`),an(we,!0),Gr({data:ze,filters:Hr(),objectId:we}),G("endobj"),ge},as=v.__private__.putPages=function(){var _,q,ce=[];for(_=1;_<=pt;_++)ct[_].objId=hn(),ct[_].contentsObjId=hn();for(_=1;_<=pt;_++)ce.push(Ks({number:_,data:Ce[_],objId:ct[_].objId,contentsObjId:ct[_].contentsObjId,mediaBox:ct[_].mediaBox,cropBox:ct[_].cropBox,bleedBox:ct[_].bleedBox,trimBox:ct[_].trimBox,artBox:ct[_].artBox,userUnit:ct[_].userUnit,rootDictionaryObjId:Bn,resourceDictionaryObjId:fn}));an(Bn,!0),G("<</Type /Pages");var ge="/Kids [";for(q=0;q<pt;q++)ge+=ce[q]+" 0 R ";G(ge+"]"),G("/Count "+pt),G(">>"),G("endobj"),It.publish("postPutPages")},Di=function(_){It.publish("putFont",{font:_,out:G,newObject:Zt,putStream:Gr}),_.isAlreadyPutted!==!0&&(_.objectNumber=Zt(),G("<<"),G("/Type /Font"),G("/BaseFont /"+hh(_.postScriptName)),G("/Subtype /Type1"),typeof _.encoding=="string"&&G("/Encoding /"+_.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},Os=function(_){_.objectNumber=Zt();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[D(_.x),D(_.y),D(_.x+_.width),D(_.y+_.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var ce=_.pages[1].join(`
`);Gr({data:ce,additionalKeyValues:q,objectId:_.objectNumber}),G("endobj")},ji=function(_,q){q||(q=21);var ce=Zt(),ge=(function(Xe,vt){var At,Ut=[],$t=1/(vt-1);for(At=0;At<1;At+=$t)Ut.push(At);if(Ut.push(1),Xe[0].offset!=0){var vn={offset:0,color:Xe[0].color};Xe.unshift(vn)}if(Xe[Xe.length-1].offset!=1){var nr={offset:1,color:Xe[Xe.length-1].color};Xe.push(nr)}for(var yr="",qn=0,Vr=0;Vr<Ut.length;Vr++){for(At=Ut[Vr];At>Xe[qn+1].offset;)qn++;var Cr=Xe[qn].offset,ni=(At-Cr)/(Xe[qn+1].offset-Cr),Ta=Xe[qn].color,Rs=Xe[qn+1].color;yr+=re(Math.round((1-ni)*Ta[0]+ni*Rs[0]).toString(16))+re(Math.round((1-ni)*Ta[1]+ni*Rs[1]).toString(16))+re(Math.round((1-ni)*Ta[2]+ni*Rs[2]).toString(16))}return yr.trim()})(_.colors,q),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+q+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gr({data:ge,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),G("endobj"),_.objectNumber=Zt(),G("<< /ShadingType "+_.type),G("/ColorSpace /DeviceRGB");var ze="/Coords ["+D(parseFloat(_.coords[0]))+" "+D(parseFloat(_.coords[1]))+" ";_.type===2?ze+=D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3])):ze+=D(parseFloat(_.coords[2]))+" "+D(parseFloat(_.coords[3]))+" "+D(parseFloat(_.coords[4]))+" "+D(parseFloat(_.coords[5])),G(ze+="]"),_.matrix&&G("/Matrix ["+_.matrix.toString()+"]"),G("/Function "+ce+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},Gi=function(_,q){var ce=hn(),ge=Zt();q.push({resourcesOid:ce,objectOid:ge}),_.objectNumber=ge;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+_.boundingBox.map(D).join(" ")+"]"}),we.push({key:"XStep",value:D(_.xStep)}),we.push({key:"YStep",value:D(_.yStep)}),we.push({key:"Resources",value:ce+" 0 R"}),_.matrix&&we.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Gr({data:_.stream,additionalKeyValues:we,objectId:_.objectNumber}),G("endobj")},Qs=function(_){for(var q in _.objectNumber=Zt(),G("<<"),_)switch(q){case"opacity":G("/ca "+E(_[q]));break;case"stroke-opacity":G("/CA "+E(_[q]))}G(">>"),G("endobj")},Yi=function(_){an(_.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var q in G("/Font <<"),_t)_t.hasOwnProperty(q)&&(y===!1||y===!0&&w.hasOwnProperty(q))&&G("/"+q+" "+_t[q].objectNumber+" 0 R");G(">>")})(),(function(){if(Object.keys(gt).length>0){for(var q in G("/Shading <<"),gt)gt.hasOwnProperty(q)&&gt[q]instanceof eu&&gt[q].objectNumber>=0&&G("/"+q+" "+gt[q].objectNumber+" 0 R");It.publish("putShadingPatternDict"),G(">>")}})(),(function(q){if(Object.keys(gt).length>0){for(var ce in G("/Pattern <<"),gt)gt.hasOwnProperty(ce)&&gt[ce]instanceof v.TilingPattern&&gt[ce].objectNumber>=0&&gt[ce].objectNumber<q&&G("/"+ce+" "+gt[ce].objectNumber+" 0 R");It.publish("putTilingPatternDict"),G(">>")}})(_.objectOid),(function(){if(Object.keys(Et).length>0){var q;for(q in G("/ExtGState <<"),Et)Et.hasOwnProperty(q)&&Et[q].objectNumber>=0&&G("/"+q+" "+Et[q].objectNumber+" 0 R");It.publish("putGStateDict"),G(">>")}})(),(function(){for(var q in G("/XObject <<"),Oe)Oe.hasOwnProperty(q)&&Oe[q].objectNumber>=0&&G("/"+q+" "+Oe[q].objectNumber+" 0 R");It.publish("putXobjectDict"),G(">>")})(),G(">>"),G("endobj")},tr=function(_){St[_.fontName]=St[_.fontName]||{},St[_.fontName][_.fontStyle]=_.id},Fo=function(_,q,ce,ge,we){var ze={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:_,fontName:q,fontStyle:ce,encoding:ge,isStandardFont:we||!1,metadata:{}};return It.publish("addFont",{font:ze,instance:this}),_t[ze.id]=ze,tr(ze),ze.id},_i=v.__private__.pdfEscape=v.pdfEscape=function(_,q){return(function(ce,ge){var we,ze,Xe,vt,At,Ut,$t,vn,nr;if(Xe=(ge=ge||{}).sourceEncoding||"Unicode",At=ge.outputEncoding,(ge.autoencode||At)&&_t[at].metadata&&_t[at].metadata[Xe]&&_t[at].metadata[Xe].encoding&&(vt=_t[at].metadata[Xe].encoding,!At&&_t[at].encoding&&(At=_t[at].encoding),!At&&vt.codePages&&(At=vt.codePages[0]),typeof At=="string"&&(At=vt[At]),At)){for($t=!1,Ut=[],we=0,ze=ce.length;we<ze;we++)(vn=At[ce.charCodeAt(we)])?Ut.push(String.fromCharCode(vn)):Ut.push(ce[we]),Ut[we].charCodeAt(0)>>8&&($t=!0);ce=Ut.join("")}for(we=ce.length;$t===void 0&&we!==0;)ce.charCodeAt(we-1)>>8&&($t=!0),we--;if(!$t)return ce;for(Ut=ge.noBOM?[]:[254,255],we=0,ze=ce.length;we<ze;we++){if((nr=(vn=ce.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ut.push(nr),Ut.push(vn-(nr<<8))}return String.fromCharCode.apply(void 0,Ut)})(_,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wi=v.__private__.beginPage=function(_){Ce[++pt]=[],ct[pt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},_c(pt),Qe(Ce[U])},Ms=function(_,q){var ce,ge,we;switch(t=q||t,typeof _=="string"&&(ce=C(_.toLowerCase()),Array.isArray(ce)&&(ge=ce[0],we=ce[1])),Array.isArray(_)&&(ge=_[0]*dt,we=_[1]*dt),isNaN(ge)&&(ge=a[0],we=a[1]),(ge>14400||we>14400)&&(Kn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),we=Math.min(14400,we)),a=[ge,we],t.substr(0,1)){case"l":we>ge&&(a=[we,ge]);break;case"p":ge>we&&(a=[we,ge])}Wi(a),Bt(qo),G($i),Nl!==0&&G(Nl+" J"),Yr!==0&&G(Yr+" j"),It.publish("addPage",{pageNumber:pt})},xc=function(_){_>0&&_<=pt&&(Ce.splice(_,1),ct.splice(_,1),pt--,U>pt&&(U=pt),this.setPage(U))},_c=function(_){_>0&&_<=pt&&(U=_)},wc=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Ce.length-1},mu=function(_,q,ce){var ge,we=void 0;return ce=ce||{},_=_!==void 0?_:_t[at].fontName,q=q!==void 0?q:_t[at].fontStyle,ge=_.toLowerCase(),St[ge]!==void 0&&St[ge][q]!==void 0?we=St[ge][q]:St[_]!==void 0&&St[_][q]!==void 0?we=St[_][q]:ce.disableWarning===!1&&Kn.warn("Unable to look up font label for font '"+_+"', '"+q+"'. Refer to getFontList() for available fonts."),we||ce.noFallback||(we=St.times[q])==null&&(we=St.times.normal),we},Xi=v.__private__.putInfo=function(){var _=Zt(),q=function(ge){return ge};for(var ce in m!==null&&(q=Ir.encryptor(_,0)),G("<<"),G("/Producer ("+_i(q("jsPDF "+Ct.version))+")"),wt)wt.hasOwnProperty(ce)&&wt[ce]&&G("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+_i(q(wt[ce]))+")");G("/CreationDate ("+_i(q(ue))+")"),G(">>"),G("endobj")},ya=v.__private__.putCatalog=function(_){var q=(_=_||{}).rootDictionaryObjId||Bn;switch(Zt(),G("<<"),G("/Type /Catalog"),G("/Pages "+q+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+tt;ce.substr(ce.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&G("/OpenAction [3 0 R /XYZ null null "+E(tt)+"]")}switch(Ye||(Ye="continuous"),Ye){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}ut&&G("/PageMode /"+ut),It.publish("putCatalog"),G(">>"),G("endobj")},Ls=v.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(se+1)),G("/Root "+se+" 0 R"),G("/Info "+(se-1)+" 0 R"),m!==null&&G("/Encrypt "+Ir.oid+" 0 R"),G("/ID [ <"+J+"> <"+J+"> ]"),G(">>")},Tn=v.__private__.putHeader=function(){G("%PDF-"+S),G("%")},Sc=v.__private__.putXRef=function(){var _="0000000000";G("xref"),G("0 "+(se+1)),G("0000000000 65535 f ");for(var q=1;q<=se;q++)typeof me[q]=="function"?G((_+me[q]()).slice(-10)+" 00000 n "):me[q]!==void 0?G((_+me[q]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},Js=v.__private__.buildDocument=function(){var _;se=0,_e=0,de=[],me=[],Ne=[],Bn=hn(),fn=hn(),Qe(de),It.publish("buildDocument"),Tn(),as(),(function(){It.publish("putAdditionalObjects");for(var ce=0;ce<Ne.length;ce++){var ge=Ne[ce];an(ge.objId,!0),G(ge.content),G("endobj")}It.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var ce in _t)_t.hasOwnProperty(ce)&&(y===!1||y===!0&&w.hasOwnProperty(ce))&&Di(_t[ce])})(),(function(){var ce;for(ce in Et)Et.hasOwnProperty(ce)&&Qs(Et[ce])})(),(function(){for(var ce in Oe)Oe.hasOwnProperty(ce)&&Os(Oe[ce])})(),(function(ce){var ge;for(ge in gt)gt.hasOwnProperty(ge)&&(gt[ge]instanceof eu?ji(gt[ge]):gt[ge]instanceof vh&&Gi(gt[ge],ce))})(_),It.publish("putResources"),_.forEach(Yi),Yi({resourcesOid:fn,objectOid:Number.MAX_SAFE_INTEGER}),It.publish("postPutResources"),m!==null&&(Ir.oid=Zt(),G("<<"),G("/Filter /Standard"),G("/V "+Ir.v),G("/R "+Ir.r),G("/U <"+Ir.toHexString(Ir.U)+">"),G("/O <"+Ir.toHexString(Ir.O)+">"),G("/P "+Ir.P),G(">>"),G("endobj")),Xi(),ya();var q=_e;return Sc(),Ls(),G("startxref"),G(""+q),G("%%EOF"),Qe(Ce[U]),de.join(`
`)},lo=v.__private__.getBlob=function(_){return new Blob([rt(_)],{type:"application/pdf"})},Ac=v.output=v.__private__.output=(tn=function(_,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",_){case void 0:return Js();case"save":v.save(q.filename);break;case"arraybuffer":return rt(Js());case"blob":return lo(Js());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(lo(Js()))||void 0;Kn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",ge=Js();try{ce=_y(ge)}catch{ce=_y(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+q.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(we=q.pdfObjectUrl,ze="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",vt=Wt.open();return vt!==null&&vt.document.write(Xe),vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',Ut=Wt.open();if(Ut!==null){Ut.document.write(At);var $t=this;Ut.document.documentElement.querySelector("#pdfViewer").onload=function(){Ut.document.title=q.filename,Ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($t.output("bloburl"))}}return Ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var vn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',nr=Wt.open();if(nr!==null&&(nr.document.write(vn),nr.document.title=q.filename),nr||typeof safari>"u")return nr;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",q);default:return null}},tn.foo=function(){try{return tn.apply(this,arguments)}catch(ce){var _=ce.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var q="Error in function "+_.split(`
`)[0].split("<")[0]+": "+ce.message;if(!Wt.console)throw new Error(q);Wt.console.error(q,ce),Wt.alert&&alert(q)}},tn.foo.bar=tn,tn.foo),wi=function(_){return Array.isArray(hr)===!0&&hr.indexOf(_)>-1};switch(i){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=wi("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);dt=i}var Ir=null;X(),le();var Nr=v.__private__.getPageInfo=v.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[_].objId,pageNumber:_,pageContext:ct[_]}},Sl=v.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in ct)if(ct[q].objId===_)break;return Nr(q)},gu=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:ct[U].objId,pageNumber:U,pageContext:ct[U]}};v.addPage=function(){return Ms.apply(this,arguments),this},v.setPage=function(){return _c.apply(this,arguments),Qe.call(this,Ce[U]),this},v.insertPage=function(_){return this.addPage(),this.movePage(U,_),this},v.movePage=function(_,q){var ce,ge;if(_>q){ce=Ce[_],ge=ct[_];for(var we=_;we>q;we--)Ce[we]=Ce[we-1],ct[we]=ct[we-1];Ce[q]=ce,ct[q]=ge,this.setPage(q)}else if(_<q){ce=Ce[_],ge=ct[_];for(var ze=_;ze<q;ze++)Ce[ze]=Ce[ze+1],ct[ze]=ct[ze+1];Ce[q]=ce,ct[q]=ge,this.setPage(q)}return this},v.deletePage=function(){return xc.apply(this,arguments),this},v.__private__.text=v.text=function(_,q,ce,ge,we){var ze,Xe,vt,At,Ut,$t,vn,nr,yr,qn=(ge=ge||{}).scope||this;if(typeof _=="number"&&typeof q=="number"&&(typeof ce=="string"||Array.isArray(ce))){var Vr=ce;ce=q,q=_,_=Vr}if(arguments[3]instanceof $e==0?(vt=arguments[4],At=arguments[5],Fn(vn=arguments[3])==="object"&&vn!==null||(typeof vt=="string"&&(At=vt,vt=null),typeof vn=="string"&&(At=vn,vn=null),typeof vn=="number"&&(vt=vn,vn=null),ge={flags:vn,angle:vt,align:At})):(F("The transform parameter of text() with a Matrix value"),yr=we),isNaN(q)||isNaN(ce)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return qn;var Cr,ni="",Ta=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:xa,Rs=qn.internal.scaleFactor;function Ea(En){return En=En.split("	").join(Array(ge.TabLen||9).join(" ")),_i(En,vn)}function Dc(En){for(var bn,zn=En.concat(),_r=[],ca=zn.length;ca--;)typeof(bn=zn.shift())=="string"?_r.push(bn):Array.isArray(En)&&(bn.length===1||bn[1]===void 0&&bn[2]===void 0)?_r.push(bn[0]):_r.push([bn[0],bn[1],bn[2]]);return _r}function Tl(En,bn){var zn;if(typeof En=="string")zn=bn(En)[0];else if(Array.isArray(En)){for(var _r,ca,Bs=En.concat(),Wo=[],Ic=Bs.length;Ic--;)typeof(_r=Bs.shift())=="string"?Wo.push(bn(_r)[0]):Array.isArray(_r)&&typeof _r[0]=="string"&&(ca=bn(_r[0],_r[1],_r[2]),Wo.push([ca[0],ca[1],ca[2]]));zn=Wo}return zn}var na=!1,Is=!0;if(typeof _=="string")na=!0;else if(Array.isArray(_)){var Go=_.concat();Xe=[];for(var ka,Wr=Go.length;Wr--;)(typeof(ka=Go.shift())!="string"||Array.isArray(ka)&&typeof ka[0]!="string")&&(Is=!1);na=Is}if(na===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var uo=Ee/qn.internal.scaleFactor,ho=uo*(Ta-1);switch(ge.baseline){case"bottom":ce-=ho;break;case"top":ce+=uo-ho;break;case"hanging":ce+=uo-2*ho;break;case"middle":ce+=uo/2-ho}if(($t=ge.maxWidth||0)>0&&(typeof _=="string"?_=qn.splitTextToSize(_,$t):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(En,bn){return En.concat(qn.splitTextToSize(bn,$t))},[]))),ze={text:_,x:q,y:ce,options:ge,mutex:{pdfEscape:_i,activeFontKey:at,fonts:_t,activeFontSize:Ee}},It.publish("preProcessText",ze),_=ze.text,vt=(ge=ze.options).angle,yr instanceof $e==0&&vt&&typeof vt=="number"){vt*=Math.PI/180,ge.rotationDirection===0&&(vt=-vt),R===j&&(vt=-vt);var El=Math.cos(vt),ra=Math.sin(vt);yr=new $e(El,ra,-ra,El,0,0)}else vt&&vt instanceof $e&&(yr=vt);R!==j||yr||(yr=Lt),(Ut=ge.charSpace||os)!==void 0&&(ni+=D(H(Ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(nr=ge.horizontalScale)!==void 0&&(ni+=D(100*nr)+` Tz
`),ge.lang;var Ai=-1,Oa=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,kl=qn.internal.getCurrentPageInfo().pageContext;switch(Oa){case 0:case!1:case"fill":Ai=0;break;case 1:case!0:case"stroke":Ai=1;break;case 2:case"fillThenStroke":Ai=2;break;case 3:case"invisible":Ai=3;break;case 4:case"fillAndAddForClipping":Ai=4;break;case 5:case"strokeAndAddPathForClipping":Ai=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ai=6;break;case 7:case"addToPathForClipping":Ai=7}var jc=kl.usedRenderingMode!==void 0?kl.usedRenderingMode:-1;Ai!==-1?ni+=Ai+` Tr
`:jc!==-1&&(ni+=`0 Tr
`),Ai!==-1&&(kl.usedRenderingMode=Ai),At=ge.align||"left";var Ki,Vs=Ee*Ta,Ma=qn.internal.pageSize.getWidth(),Rc=_t[at];Ut=ge.charSpace||os,$t=ge.maxWidth||0,vn=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Fs=[],fo=function(En){return qn.getStringUnitWidth(En,{font:Rc,charSpace:Ut,fontSize:Ee,doKerning:!1})*Ee/Rs};if(Object.prototype.toString.call(_)==="[object Array]"){var Ii;Xe=Dc(_),At!=="left"&&(Ki=Xe.map(fo));var Ni,ia=0;if(At==="right"){q-=Ki[0],_=[],Wr=Xe.length;for(var sa=0;sa<Wr;sa++)sa===0?(Ni=Zi(q),Ii=ti(ce)):(Ni=H(ia-Ki[sa]),Ii=-Vs),_.push([Xe[sa],Ni,Ii]),ia=Ki[sa]}else if(At==="center"){q-=Ki[0]/2,_=[],Wr=Xe.length;for(var La=0;La<Wr;La++)La===0?(Ni=Zi(q),Ii=ti(ce)):(Ni=H((ia-Ki[La])/2),Ii=-Vs),_.push([Xe[La],Ni,Ii]),ia=Ki[La]}else if(At==="left"){_=[],Wr=Xe.length;for(var Ol=0;Ol<Wr;Ol++)_.push(Xe[Ol])}else if(At==="justify"&&Rc.encoding==="Identity-H"){_=[],Wr=Xe.length,$t=$t!==0?$t:Ma;for(var Ml=0,xr=0;xr<Wr;xr++)if(Ii=xr===0?ti(ce):-Vs,Ni=xr===0?Zi(q):Ml,xr<Wr-1){var Nu=H(($t-Ki[xr])/(Xe[xr].split(" ").length-1)),aa=Xe[xr].split(" ");_.push([aa[0]+" ",Ni,Ii]),Ml=0;for(var oa=1;oa<aa.length;oa++){var ri=(fo(aa[oa-1]+" "+aa[oa])-fo(aa[oa]))*Rs+Nu;oa==aa.length-1?_.push([aa[oa],ri,0]):_.push([aa[oa]+" ",ri,0]),Ml-=ri}}else _.push([Xe[xr],Ni,Ii]);_.push(["",Ml,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Wr=Xe.length,$t=$t!==0?$t:Ma,xr=0;xr<Wr;xr++){Ii=xr===0?ti(ce):-Vs,Ni=xr===0?Zi(q):0;var Da=Xe[xr].split(" ").length-1,Ll=Da>0?($t-Ki[xr])/Da:0;xr<Wr-1?Fs.push(D(H(Ll))):Fs.push(0),_.push([Xe[xr],Ni,Ii])}}}(typeof ge.R2L=="boolean"?ge.R2L:ot)===!0&&(_=Tl(_,function(En,bn,zn){return[En.split("").reverse().join(""),bn,zn]})),ze={text:_,x:q,y:ce,options:ge,mutex:{pdfEscape:_i,activeFontKey:at,fonts:_t,activeFontSize:Ee}},It.publish("postProcessText",ze),_=ze.text,Cr=ze.mutex.isHex||!1;var Dl=_t[at].encoding;Dl!=="WinAnsiEncoding"&&Dl!=="StandardEncoding"||(_=Tl(_,function(En,bn,zn){return[Ea(En),bn,zn]})),Xe=Dc(_),_=[];for(var ja,Ra,la,Yo=Array.isArray(Xe[0])?1:0,Qi="",Ia=function(En,bn,zn){var _r="";return zn instanceof $e?(zn=typeof ge.angle=="number"?Mt(zn,new $e(1,0,0,1,En,bn)):Mt(new $e(1,0,0,1,En,bn),zn),R===j&&(zn=Mt(new $e(1,0,0,-1,0,0),zn)),_r=zn.join(" ")+` Tm
`):_r=D(En)+" "+D(bn)+` Td
`,_r},fi=0;fi<Xe.length;fi++){switch(Qi="",Yo){case 1:la=(Cr?"<":"(")+Xe[fi][0]+(Cr?">":")"),ja=parseFloat(Xe[fi][1]),Ra=parseFloat(Xe[fi][2]);break;case 0:la=(Cr?"<":"(")+Xe[fi]+(Cr?">":")"),ja=Zi(q),Ra=ti(ce)}Fs!==void 0&&Fs[fi]!==void 0&&(Qi=Fs[fi]+` Tw
`),fi===0?_.push(Qi+Ia(ja,Ra,yr)+la):Yo===0?_.push(Qi+la):Yo===1&&_.push(Qi+Ia(ja,Ra,yr)+la)}_=Yo===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var cs=`BT
/`;return cs+=at+" "+Ee+` Tf
`,cs+=D(Ee*Ta)+` TL
`,cs+=ea+`
`,cs+=ni,cs+=_,G(cs+="ET"),w[at]=!0,qn};var Nc=v.__private__.clip=v.clip=function(_){return G(_==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Nc("evenodd")},v.__private__.discardPath=v.discardPath=function(){return G("n"),this};var Si=v.__private__.isValidStyle=function(_){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(q=!0),q};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(_){return Si(_)&&(d=_),this};var Cc=v.__private__.getStyle=v.getStyle=function(_){var q=d;switch(_){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=_}return q},Tc=v.close=function(){return G("h"),this};v.stroke=function(){return G("S"),this},v.fill=function(_){return Ds("f",_),this},v.fillEvenOdd=function(_){return Ds("f*",_),this},v.fillStroke=function(_){return Ds("B",_),this},v.fillStrokeEvenOdd=function(_){return Ds("B*",_),this};var Ds=function(_,q){Fn(q)==="object"?bu(q,_):G(_)},Bo=function(_){_===null||R===j&&_===void 0||(_=Cc(_),G(_))};function vu(_,q,ce,ge,we){var ze=new vh(q||this.boundingBox,ce||this.xStep,ge||this.yStep,this.gState,we||this.matrix);ze.stream=this.stream;var Xe=_+"$$"+this.cloneIndex+++"$$";return Vt(Xe,ze),ze}var bu=function(_,q){var ce=sn[_.key],ge=gt[ce];if(ge instanceof eu)G("q"),G(Ec(q)),ge.gState&&v.setGState(ge.gState),G(_.matrix.toString()+" cm"),G("/"+ce+" sh"),G("Q");else if(ge instanceof vh){var we=new $e(1,0,0,-1,0,Ca());_.matrix&&(we=we.multiply(_.matrix||Lt),ce=vu.call(ge,_.key,_.boundingBox,_.xStep,_.yStep,we).id),G("q"),G("/Pattern cs"),G("/"+ce+" scn"),ge.gState&&v.setGState(ge.gState),G(q),G("Q")}},Ec=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},kc=v.moveTo=function(_,q){return G(D(H(_))+" "+D(Q(q))+" m"),this},yu=v.lineTo=function(_,q){return G(D(H(_))+" "+D(Q(q))+" l"),this},Ri=v.curveTo=function(_,q,ce,ge,we,ze){return G([D(H(_)),D(Q(q)),D(H(ce)),D(Q(ge)),D(H(we)),D(Q(ze)),"c"].join(" ")),this};v.__private__.line=v.line=function(_,q,ce,ge,we){if(isNaN(_)||isNaN(q)||isNaN(ce)||isNaN(ge)||!Si(we))throw new Error("Invalid arguments passed to jsPDF.line");return R===V?this.lines([[ce-_,ge-q]],_,q,[1,1],we||"S"):this.lines([[ce-_,ge-q]],_,q,[1,1]).stroke()},v.__private__.lines=v.lines=function(_,q,ce,ge,we,ze){var Xe,vt,At,Ut,$t,vn,nr,yr,qn,Vr,Cr,ni;if(typeof _=="number"&&(ni=ce,ce=q,q=_,_=ni),ge=ge||[1,1],ze=ze||!1,isNaN(q)||isNaN(ce)||!Array.isArray(_)||!Array.isArray(ge)||!Si(we)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(kc(q,ce),Xe=ge[0],vt=ge[1],Ut=_.length,Vr=q,Cr=ce,At=0;At<Ut;At++)($t=_[At]).length===2?(Vr=$t[0]*Xe+Vr,Cr=$t[1]*vt+Cr,yu(Vr,Cr)):(vn=$t[0]*Xe+Vr,nr=$t[1]*vt+Cr,yr=$t[2]*Xe+Vr,qn=$t[3]*vt+Cr,Vr=$t[4]*Xe+Vr,Cr=$t[5]*vt+Cr,Ri(vn,nr,yr,qn,Vr,Cr));return ze&&Tc(),Bo(we),this},v.path=function(_){for(var q=0;q<_.length;q++){var ce=_[q],ge=ce.c;switch(ce.op){case"m":kc(ge[0],ge[1]);break;case"l":yu(ge[0],ge[1]);break;case"c":Ri.apply(this,ge);break;case"h":Tc()}}return this},v.__private__.rect=v.rect=function(_,q,ce,ge,we){if(isNaN(_)||isNaN(q)||isNaN(ce)||isNaN(ge)||!Si(we))throw new Error("Invalid arguments passed to jsPDF.rect");return R===V&&(ge=-ge),G([D(H(_)),D(Q(q)),D(H(ce)),D(H(ge)),"re"].join(" ")),Bo(we),this},v.__private__.triangle=v.triangle=function(_,q,ce,ge,we,ze,Xe){if(isNaN(_)||isNaN(q)||isNaN(ce)||isNaN(ge)||isNaN(we)||isNaN(ze)||!Si(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-_,ge-q],[we-ce,ze-ge],[_-we,q-ze]],_,q,[1,1],Xe,!0),this},v.__private__.roundedRect=v.roundedRect=function(_,q,ce,ge,we,ze,Xe){if(isNaN(_)||isNaN(q)||isNaN(ce)||isNaN(ge)||isNaN(we)||isNaN(ze)||!Si(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*ce),ze=Math.min(ze,.5*ge),this.lines([[ce-2*we,0],[we*vt,0,we,ze-ze*vt,we,ze],[0,ge-2*ze],[0,ze*vt,-we*vt,ze,-we,ze],[2*we-ce,0],[-we*vt,0,-we,-ze*vt,-we,-ze],[0,2*ze-ge],[0,-ze*vt,we*vt,-ze,we,-ze]],_+we,q,[1,1],Xe,!0),this},v.__private__.ellipse=v.ellipse=function(_,q,ce,ge,we){if(isNaN(_)||isNaN(q)||isNaN(ce)||isNaN(ge)||!Si(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*ce,Xe=4/3*(Math.SQRT2-1)*ge;return kc(_+ce,q),Ri(_+ce,q-Xe,_+ze,q-ge,_,q-ge),Ri(_-ze,q-ge,_-ce,q-Xe,_-ce,q),Ri(_-ce,q+Xe,_-ze,q+ge,_,q+ge),Ri(_+ze,q+ge,_+ce,q+Xe,_+ce,q),Bo(we),this},v.__private__.circle=v.circle=function(_,q,ce,ge){if(isNaN(_)||isNaN(q)||isNaN(ce)||!Si(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,q,ce,ce,ge)},v.setFont=function(_,q,ce){return ce&&(q=P(q,ce)),at=mu(_,q,{disableWarning:!1}),this};var js=v.__private__.getFont=v.getFont=function(){return _t[mu.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var _,q,ce={};for(_ in St)if(St.hasOwnProperty(_))for(q in ce[_]=[],St[_])St[_].hasOwnProperty(q)&&ce[_].push(q);return ce},v.addFont=function(_,q,ce,ge,we){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(ce=P(ce,ge)),Fo.call(this,_,q,ce,we=we||"Identity-H")};var xa,qo=r.lineWidth||.200025,co=v.__private__.getLineWidth=v.getLineWidth=function(){return qo},Bt=v.__private__.setLineWidth=v.setLineWidth=function(_){return qo=_,G(D(H(_))+" w"),this};v.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(_,q){if(_=_||[],q=q||0,isNaN(q)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(ce){return D(H(ce))}).join(" "),q=D(H(q)),G("["+_+"] "+q+" d"),this};var xu=v.__private__.getLineHeight=v.getLineHeight=function(){return Ee*xa};v.__private__.getLineHeight=v.getLineHeight=function(){return Ee*xa};var Oc=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(xa=_),this},_u=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return xa};Oc(r.lineHeight);var Zi=v.__private__.getHorizontalCoordinate=function(_){return H(_)},ti=v.__private__.getVerticalCoordinate=function(_){return R===j?_:ct[U].mediaBox.topRightY-ct[U].mediaBox.bottomLeftY-H(_)},Mc=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(_){return D(Zi(_))},zo=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(_){return D(ti(_))},$i=r.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Cn($i)},v.__private__.setStrokeColor=v.setDrawColor=function(_,q,ce,ge){return $i=br({ch1:_,ch2:q,ch3:ce,ch4:ge,pdfColorType:"draw",precision:2}),G($i),this};var Po=r.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Cn(Po)},v.__private__.setFillColor=v.setFillColor=function(_,q,ce,ge){return Po=br({ch1:_,ch2:q,ch3:ce,ch4:ge,pdfColorType:"fill",precision:2}),G(Po),this};var ea=r.textColor||"0 g",wu=v.__private__.getTextColor=v.getTextColor=function(){return Cn(ea)};v.__private__.setTextColor=v.setTextColor=function(_,q,ce,ge){return ea=br({ch1:_,ch2:q,ch3:ce,ch4:ge,pdfColorType:"text",precision:3}),this};var os=r.charSpace,Al=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(os||0)};v.__private__.setCharSpace=v.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return os=_,this};var Nl=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(_){var q=v.CapJoinStyles[_];if(q===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nl=q,G(q+" J"),this};var Yr=0;v.__private__.setLineJoin=v.setLineJoin=function(_){var q=v.CapJoinStyles[_];if(q===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yr=q,G(q+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(D(H(_))+" M"),this},v.GState=cp,v.setGState=function(_){(_=typeof _=="string"?Et[Ft[_]]:ta(null,_)).equals(Nn)||(G("/"+_.id+" gs"),Nn=_)};var ta=function(_,q){if(!_||!Ft[_]){var ce=!1;for(var ge in Et)if(Et.hasOwnProperty(ge)&&Et[ge].equals(q)){ce=!0;break}if(ce)q=Et[ge];else{var we="GS"+(Object.keys(Et).length+1).toString(10);Et[we]=q,q.id=we}return _&&(Ft[_]=q.id),It.publish("addGState",q),q}};v.addGState=function(_,q){return ta(_,q),this},v.saveGraphicsState=function(){return G("q"),Ot.push({key:at,size:Ee,color:ea}),this},v.restoreGraphicsState=function(){G("Q");var _=Ot.pop();return at=_.key,Ee=_.size,ea=_.color,Nn=null,this},v.setCurrentTransformationMatrix=function(_){return G(_.toString()+" cm"),this},v.comment=function(_){return G("#"+_),this};var ls=function(_,q){var ce=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(ze){isNaN(ze)||(ce=parseFloat(ze))}});var ge=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(ze){isNaN(ze)||(ge=parseFloat(ze))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(ze){we=ze.toString()}}),this},_a=function(_,q,ce,ge){ls.call(this,_,q),this.type="rect";var we=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Xe){isNaN(Xe)||(we=parseFloat(Xe))}});var ze=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(Xe){isNaN(Xe)||(ze=parseFloat(Xe))}}),this},Cl=function(){this.page=pt,this.currentPage=U,this.pages=Ce.slice(0),this.pagesContext=ct.slice(0),this.x=st,this.y=Gt,this.matrix=Rt,this.width=Sa(U),this.height=Lc(U),this.outputDestination=We,this.id="",this.objectNumber=-1};Cl.prototype.restore=function(){pt=this.page,U=this.currentPage,ct=this.pagesContext,Ce=this.pages,st=this.x,Gt=this.y,Rt=this.matrix,Ho(U,this.width),Aa(U,this.height),We=this.outputDestination};var Uo=function(_,q,ce,ge,we){Ke.push(new Cl),pt=U=0,Ce=[],st=_,Gt=q,Rt=we,Wi([ce,ge])};for(var wa in v.beginFormObject=function(_,q,ce,ge,we){return Uo(_,q,ce,ge,we),this},v.endFormObject=function(_){return(function(q){if(Fe[q])Ke.pop().restore();else{var ce=new Cl,ge="Xo"+(Object.keys(Oe).length+1).toString(10);ce.id=ge,Fe[q]=ge,Oe[ge]=ce,It.publish("addFormObject",ce),Ke.pop().restore()}})(_),this},v.doFormObject=function(_,q){var ce=Oe[Fe[_]];return G("q"),G(q.toString()+" cm"),G("/"+ce.id+" Do"),G("Q"),this},v.getFormObject=function(_){var q=Oe[Fe[_]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},v.save=function(_,q){return _=_||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Qc(lo(Js()),_),typeof Qc.unload=="function"&&Wt.setTimeout&&setTimeout(Qc.unload,911),this):new Promise(function(ce,ge){try{var we=Qc(lo(Js()),_);typeof Qc.unload=="function"&&Wt.setTimeout&&setTimeout(Qc.unload,911),ce(we)}catch(ze){ge(ze.message)}})},Ct.API)Ct.API.hasOwnProperty(wa)&&(wa==="events"&&Ct.API.events.length?(function(_,q){var ce,ge,we;for(we=q.length-1;we!==-1;we--)ce=q[we][0],ge=q[we][1],_.subscribe.apply(_,[ce].concat(typeof ge=="function"?[ge]:ge))})(It,Ct.API.events):v[wa]=Ct.API[wa]);function Sa(_){return ct[_].mediaBox.topRightX-ct[_].mediaBox.bottomLeftX}function Ho(_,q){ct[_].mediaBox.topRightX=q+ct[_].mediaBox.bottomLeftX}function Lc(_){return ct[_].mediaBox.topRightY-ct[_].mediaBox.bottomLeftY}function Aa(_,q){ct[_].mediaBox.topRightY=q+ct[_].mediaBox.bottomLeftY}var Na=v.getPageWidth=function(_){return Sa(_=_||U)/dt},Su=v.setPageWidth=function(_,q){Ho(_,q*dt)},Ca=v.getPageHeight=function(_){return Lc(_=_||U)/dt},Au=v.setPageHeight=function(_,q){Aa(_,q*dt)};return v.internal={pdfEscape:_i,getStyle:Cc,getFont:js,getFontSize:nt,getCharSpace:Al,getTextColor:wu,getLineHeight:xu,getLineHeightFactor:_u,getLineWidth:co,write:je,getHorizontalCoordinate:Zi,getVerticalCoordinate:ti,getCoordinateString:Mc,getVerticalCoordinateString:zo,collections:{},newObject:Zt,newAdditionalObject:Ar,newObjectDeferred:hn,newObjectDeferredBegin:an,getFilters:Hr,putStream:Gr,events:It,scaleFactor:dt,pageSize:{getWidth:function(){return Na(U)},setWidth:function(_){Su(U,_)},getHeight:function(){return Ca(U)},setHeight:function(_){Au(U,_)}},encryptionOptions:m,encryption:Ir,getEncryptor:function(_){return m!==null?Ir.encryptor(_,0):function(q){return q}},output:Ac,getNumberOfPages:wc,get pages(){return Ce},out:G,f2:E,f3:B,getPageInfo:Nr,getPageInfoByObjId:Sl,getCurrentPageInfo:gu,getPDFVersion:N,Point:ls,Rectangle:_a,Matrix:$e,hasHotfix:wi},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Na(U)},set:function(_){Su(U,_)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Ca(U)},set:function(_){Au(U,_)},enumerable:!0,configurable:!0}),(function(_){for(var q=0,ce=Ze.length;q<ce;q++){var ge=Fo.call(this,_[q][0],_[q][1],_[q][2],Ze[q][3],!0);y===!1&&(w[ge]=!0);var we=_[q][0].split("-");tr({id:ge,fontName:we[0],fontStyle:we[1]||""})}It.publish("addFonts",{fonts:_t,dictionary:St})}).call(v,Ze),at="F1",Ms(a,t),It.publish("initialized"),v}uh.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},uh.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uh.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},uh.prototype.processOwnerPassword=function(r,e){return eg(Jm(e).substr(0,5),r)},uh.prototype.encryptor=function(r,e){var t=Jm(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return eg(t,i)}},cp.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Fn(r)!==Fn(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;i++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Ct.API={events:[]},Ct.version="3.0.4";var Dr=Ct.API,l2=1,pu=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ah=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Jt=function(r){return r.toFixed(2)},sc=function(r){return r.toFixed(5)};Dr.__acroform__={};var ks=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Ny=function(r){return r*l2},Oo=function(r){var e=new I_,t=xt.internal.getHeight(r)||0,i=xt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Jt(i)),Number(Jt(t))],e},KO=Dr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},QO=Dr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},JO=Dr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},qr=Dr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return JO(r,e-1)},zr=Dr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return KO(r,e-1)},Pr=Dr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return QO(r,e-1)},eM=Dr.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,a=r[0],o=r[1],h=r[2],c=r[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=i(o+c)||0,f.upperRight_X=t(a+h)||0,f.upperRight_Y=i(o)||0,[Number(Jt(f.lowerLeft_X)),Number(Jt(f.lowerLeft_Y)),Number(Jt(f.upperRight_X)),Number(Jt(f.upperRight_Y))]},tM=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,i=tg(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+Jt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Oo(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},tg=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,i={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var o=t,h=xt.internal.getHeight(r)||0;h=h<0?-h:h;var c=xt.internal.getWidth(r)||0;c=c<0?-c:c;var f=function(E,B,H){if(E+1<a.length){var Q=B+" "+a[E+1][0];return w1(Q,r,H).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,m,y=w1("3",r,o).height,w=r.multiline?h-o:(h-y)/2,v=w+=2,S=0,N=0,T=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+w1(e,r,o=12).width+", FieldWidth:"+c+`
`;break}for(var C="",V=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var R=!1;if(a[j].length!==1&&T!==a[j].length-1){if((y+2)*(V+2)+2>h)continue e;C+=a[j][T],R=!0,N=j,j--}else{C=(C+=a[j][T]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var I=parseInt(j),W=f(I,C,o),P=j>=a.length-1;if(W&&!P){C+=" ",T=0;continue}if(W||P){if(P)N=I;else if(r.multiline&&(y+2)*(V+2)+2>h)continue e}else{if(!r.multiline||(y+2)*(V+2)+2>h)continue e;N=I}}for(var D="",F=S;F<=N;F++){var $=a[F];if(r.multiline){if(F===N){D+=$[T]+" ",T=(T+1)%$.length;continue}if(F===S){D+=$[$.length-1]+" ";continue}}D+=$[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,m=w1(D,r,o).width,r.textAlign){case"right":d=c-m-2;break;case"center":d=(c-m)/2;break;default:d=2}e+=Jt(d)+" "+Jt(v)+` Td
`,e+="("+pu(D)+`) Tj
`,e+=-Jt(d)+` 0 Td
`,v=-(o+2),m=0,S=R?N:N+1,V++,C=""}break}return i.text=e,i.fontSize=o,i},w1=function(r,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},nM={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},rM=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},iM=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ao.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(nM)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");l2=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new V_,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];o.objId=void 0,o.hasAnnotation&&rM(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(i,a){var o=!i;for(var h in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(h)){var c=i[h],f=[],d=c.Rect;if(c.Rect&&(c.Rect=eM(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=xt.createDefaultAppearanceStream(c),Fn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=tM(c);f.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var y="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var v=c.appearanceStreamContent[w];if(y+="/"+w+" ",y+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var h in v)if(v.hasOwnProperty(h)){var S=v[h];typeof S=="function"&&(S=S.call(a,c)),y+="/"+h+" "+S+" ",a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S)}}else typeof(S=v)=="function"&&(S=S.call(a,c)),y+="/"+h+" "+S,a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S);y+=">>"}f.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(N,T){for(var C in N)if(N.hasOwnProperty(C)){var V=C,j=N[C];T.internal.newObjectDeferredBegin(j.objId,!0),Fn(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete N[V]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},R_=Dr.__acroform__.arrayToPdfArray=function(r,e,t){var i=function(h){return h};if(Array.isArray(r)){for(var a="[",o=0;o<r.length;o++)switch(o!==0&&(a+=" "),Fn(r[o])){case"boolean":case"number":case"object":a+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),a+="("+pu(i(r[o].toString()))+")"):a+=r[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nm=function(r,e,t){var i=function(a){return a};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+pu(i(r))+")"},Mo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Mo.prototype.toString=function(){return this.objId+" 0 R"},Mo.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Mo.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],a=this[i];a&&(Array.isArray(a)?r.push({key:i,value:R_(a,this.objId,this.scope)}):a instanceof Mo?(a.scope=this.scope,r.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:i,value:a}))}return r};var I_=function(){Mo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};ks(I_,Mo);var V_=function(){Mo.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+pu(t(r))+")"}},set:function(t){r=t}})};ks(V_,Mo);var ao=function r(){Mo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qr(e,3)},set:function(C){C?this.F=zr(e,3):this.F=Pr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(C){i=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(C){i[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(C){i[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(C){i[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(C){i[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof up)return;o="FieldObject"+r.FieldNum++}var C=function(V){return V};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+pu(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/l2:d},set:function(C){d=C}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(C){m=C}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof up||this instanceof su))return Nm(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=C}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof yi==0?Nm(w,this.objId,this.scope):w},set:function(C){C=C.toString(),w=this instanceof yi==0?C.substr(0,1)==="("?ah(C.substr(1,C.length-2)):ah(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof yi==1?ah(w.substr(1,w.length-1)):w},set:function(C){C=C.toString(),w=this instanceof yi==1?"/"+C:C}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof yi==0?Nm(v,this.objId,this.scope):v},set:function(C){C=C.toString(),v=this instanceof yi==0?C.substr(0,1)==="("?ah(C.substr(1,C.length-2)):ah(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof yi==1?ah(v.substr(1,v.length-1)):v},set:function(C){C=C.toString(),v=this instanceof yi==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(C){C=!!C,N=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(C){S=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,1)},set:function(C){C?this.Ff=zr(this.Ff,1):this.Ff=Pr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,2)},set:function(C){C?this.Ff=zr(this.Ff,2):this.Ff=Pr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,3)},set:function(C){C?this.Ff=zr(this.Ff,3):this.Ff=Pr(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');T=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(T){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};ks(ao,Mo);var _h=function(){ao.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return R_(e,this.objId,this.scope)},set:function(t){var i,a;a=[],typeof(i=t)=="string"&&(a=(function(o,h,c){c||(c=1);for(var f,d=[];f=h.exec(o);)d.push(f[c]);return d})(i,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,18)},set:function(t){t?this.Ff=zr(this.Ff,18):this.Ff=Pr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=zr(this.Ff,19):this.Ff=Pr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,20)},set:function(t){t?(this.Ff=zr(this.Ff,20),e.sort()):this.Ff=Pr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,22)},set:function(t){t?this.Ff=zr(this.Ff,22):this.Ff=Pr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,23)},set:function(t){t?this.Ff=zr(this.Ff,23):this.Ff=Pr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,27)},set:function(t){t?this.Ff=zr(this.Ff,27):this.Ff=Pr(this.Ff,27)}}),this.hasAppearanceStream=!1};ks(_h,ao);var wh=function(){_h.call(this),this.fontName="helvetica",this.combo=!1};ks(wh,_h);var Sh=function(){wh.call(this),this.combo=!0};ks(Sh,wh);var D1=function(){Sh.call(this),this.edit=!0};ks(D1,Sh);var yi=function(){ao.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,15)},set:function(t){t?this.Ff=zr(this.Ff,15):this.Ff=Pr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,16)},set:function(t){t?this.Ff=zr(this.Ff,16):this.Ff=Pr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,17)},set:function(t){t?this.Ff=zr(this.Ff,17):this.Ff=Pr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,26)},set:function(t){t?this.Ff=zr(this.Ff,26):this.Ff=Pr(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,a=[];for(i in a.push("<<"),e)a.push("/"+i+" ("+pu(t(e[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Fn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};ks(yi,ao);var j1=function(){yi.call(this),this.pushButton=!0};ks(j1,yi);var Ah=function(){yi.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};ks(Ah,yi);var up=function(){var r,e;ao.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,h=[];for(o in h.push("<<"),i)h.push("/"+o+" ("+pu(a(i[o]))+")");return h.push(">>"),h.join(`
`)},set:function(a){Fn(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ks(up,ao),Ah.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Ah.prototype.createOption=function(r){var e=new up;return e.Parent=this,e.optionName=r,this.Kids.push(e),sM.call(this.scope,e),e};var R1=function(){yi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};ks(R1,yi);var su=function(){ao.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,13)},set:function(e){e?this.Ff=zr(this.Ff,13):this.Ff=Pr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,21)},set:function(e){e?this.Ff=zr(this.Ff,21):this.Ff=Pr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,23)},set:function(e){e?this.Ff=zr(this.Ff,23):this.Ff=Pr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,24)},set:function(e){e?this.Ff=zr(this.Ff,24):this.Ff=Pr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,25)},set:function(e){e?this.Ff=zr(this.Ff,25):this.Ff=Pr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,26)},set:function(e){e?this.Ff=zr(this.Ff,26):this.Ff=Pr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ks(su,ao);var I1=function(){su.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,14)},set:function(r){r?this.Ff=zr(this.Ff,14):this.Ff=Pr(this.Ff,14)}}),this.password=!0};ks(I1,su);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Oo(r);e.scope=r.scope;var t=[],i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),o=tg(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Jt(xt.internal.getWidth(r))+" "+Jt(xt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+Jt(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Oo(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=[],o=xt.internal.getHeight(r),h=xt.internal.getWidth(r),c=tg(r,r.caption);return a.push("1 g"),a.push("0 0 "+Jt(h)+" "+Jt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Jt(h-1)+" "+Jt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Jt(c.fontSize)+" Tf "+i),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Oo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(xt.internal.getWidth(r))+" "+Jt(xt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=xt.RadioButton.Circle.YesNormal,e.D[r]=xt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Oo(r);e.scope=r.scope;var t=[],i=xt.internal.getWidth(r)<=xt.internal.getHeight(r)?xt.internal.getWidth(r)/4:xt.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=xt.internal.Bezier_C,o=Number((i*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+sc(xt.internal.getWidth(r)/2)+" "+sc(xt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Oo(r);e.scope=r.scope;var t=[],i=xt.internal.getWidth(r)<=xt.internal.getHeight(r)?xt.internal.getWidth(r)/4:xt.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*xt.internal.Bezier_C).toFixed(5)),h=Number((i*xt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+sc(xt.internal.getWidth(r)/2)+" "+sc(xt.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+sc(xt.internal.getWidth(r)/2)+" "+sc(xt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+h+" "+h+" "+i+" 0 "+i+" c"),t.push("-"+h+" "+i+" -"+i+" "+h+" -"+i+" 0 c"),t.push("-"+i+" -"+h+" -"+h+" -"+i+" 0 -"+i+" c"),t.push(h+" -"+i+" "+i+" -"+h+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Oo(r);e.scope=r.scope;var t=[],i=xt.internal.getWidth(r)<=xt.internal.getHeight(r)?xt.internal.getWidth(r)/4:xt.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*xt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+sc(xt.internal.getWidth(r)/2)+" "+sc(xt.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=xt.RadioButton.Cross.YesNormal,e.D[r]=xt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Oo(r);e.scope=r.scope;var t=[],i=xt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Jt(xt.internal.getWidth(r)-2)+" "+Jt(xt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Jt(i.x1.x)+" "+Jt(i.x1.y)+" m"),t.push(Jt(i.x2.x)+" "+Jt(i.x2.y)+" l"),t.push(Jt(i.x4.x)+" "+Jt(i.x4.y)+" m"),t.push(Jt(i.x3.x)+" "+Jt(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Oo(r);e.scope=r.scope;var t=xt.internal.calculateCross(r),i=[];return i.push("0.749023 g"),i.push("0 0 "+Jt(xt.internal.getWidth(r))+" "+Jt(xt.internal.getHeight(r))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Jt(xt.internal.getWidth(r)-2)+" "+Jt(xt.internal.getHeight(r)-2)+" re"),i.push("W"),i.push("n"),i.push(Jt(t.x1.x)+" "+Jt(t.x1.y)+" m"),i.push(Jt(t.x2.x)+" "+Jt(t.x2.y)+" l"),i.push(Jt(t.x4.x)+" "+Jt(t.x4.y)+" m"),i.push(Jt(t.x3.x)+" "+Jt(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=Oo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Jt(xt.internal.getWidth(r))+" "+Jt(xt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};xt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=xt.internal.getWidth(r),t=xt.internal.getHeight(r),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},xt.internal.getWidth=function(r){var e=0;return Fn(r)==="object"&&(e=Ny(r.Rect[2])),e},xt.internal.getHeight=function(r){var e=0;return Fn(r)==="object"&&(e=Ny(r.Rect[3])),e};var sM=Dr.addField=function(r){if(iM(this,r),!(r instanceof ao))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};Dr.AcroFormChoiceField=_h,Dr.AcroFormListBox=wh,Dr.AcroFormComboBox=Sh,Dr.AcroFormEditBox=D1,Dr.AcroFormButton=yi,Dr.AcroFormPushButton=j1,Dr.AcroFormRadioButton=Ah,Dr.AcroFormCheckBox=R1,Dr.AcroFormTextField=su,Dr.AcroFormPasswordField=I1,Dr.AcroFormAppearance=xt,Dr.AcroForm={ChoiceField:_h,ListBox:wh,ComboBox:Sh,EditBox:D1,Button:yi,PushButton:j1,RadioButton:Ah,CheckBox:R1,TextField:su,PasswordField:I1,Appearance:xt},Ct.AcroForm={ChoiceField:_h,ListBox:wh,ComboBox:Sh,EditBox:D1,Button:yi,PushButton:j1,RadioButton:Ah,CheckBox:R1,TextField:su,PasswordField:I1,Appearance:xt};Ct.AcroForm;function F_(r){return r.reduce(function(e,t,i){return e[t]=i,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(E,B){var H,Q,ue,J,ie,le=t;if((B=B||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(W(E))for(ie in i)for(ue=i[ie],H=0;H<ue.length;H+=1){for(J=!0,Q=0;Q<ue[H].length;Q+=1)if(ue[H][Q]!==void 0&&ue[H][Q]!==E[Q]){J=!1;break}if(J===!0){le=ie;break}}else for(ie in i)for(ue=i[ie],H=0;H<ue.length;H+=1){for(J=!0,Q=0;Q<ue[H].length;Q+=1)if(ue[H][Q]!==void 0&&ue[H][Q]!==E.charCodeAt(Q)){J=!1;break}if(J===!0){le=ie;break}}return le===t&&B!==t&&(le=B),le},o=function E(B){for(var H=this.internal.write,Q=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:B.width}),J.push({key:"Height",value:B.height}),B.colorSpace===C.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===C.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)&&B.transparency.length>0){for(var ie="",le=0,fe=B.transparency.length;le<fe;le++)ie+=B.transparency[le]+" "+B.transparency[le]+" ";J.push({key:"Mask",value:"["+ie+"]"})}B.sMask!==void 0&&J.push({key:"SMask",value:B.objectId+1+" 0 R"});var xe=B.filter!==void 0?["/"+B.filter]:void 0;if(Q({data:B.data,additionalKeyValues:J,alreadyAppliedFilters:xe,objectId:B.objectId}),H("endobj"),"sMask"in B&&B.sMask!==void 0){var X,k=(X=B.sMaskBitsPerComponent)!==null&&X!==void 0?X:B.bitsPerComponent,U={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:k,data:B.sMask};"filter"in B&&(U.decodeParameters="/Predictor ".concat(B.predictor," /Colors 1 /BitsPerComponent ").concat(k," /Columns ").concat(B.width),U.filter=B.filter),E.call(this,U)}if(B.colorSpace===C.INDEXED){var ee=this.internal.newObject();Q({data:D(new Uint8Array(B.palette)),objectId:ee}),H("endobj")}},h=function(){var E=this.internal.collections[e+"images"];for(var B in E)o.call(this,E[B])},c=function(){var E,B=this.internal.collections[e+"images"],H=this.internal.write;for(var Q in B)H("/I"+(E=B[Q]).index,E.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var E=this.internal.collections[e+"images"];return f.call(this),E},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(E){return typeof r["process"+E.toUpperCase()]=="function"},w=function(E){return Fn(E)==="object"&&E.nodeType===1},v=function(E,B){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var H=""+E.getAttribute("src");if(H.indexOf("data:image/")===0)return L1(unescape(H).split("base64,").pop());var Q=r.loadFile(H,!0);if(Q!==void 0)return Q}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ue;switch(B){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return L1(E.toDataURL(ue,1).split("base64,").pop())}},S=function(E){var B=this.internal.collections[e+"images"];if(B){for(var H in B)if(E===B[H].alias)return B[H]}},N=function(E,B,H){return E||B||(E=-96,B=-96),E<0&&(E=-1*H.width*72/E/this.internal.scaleFactor),B<0&&(B=-1*H.height*72/B/this.internal.scaleFactor),E===0&&(E=B*H.width/H.height),B===0&&(B=E*H.height/H.width),[E,B]},T=function(E,B,H,Q,ue,J){var ie=N.call(this,H,Q,ue),le=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,xe=d.call(this);if(H=ie[0],Q=ie[1],xe[ue.index]=ue,J){J*=Math.PI/180;var X=Math.cos(J),k=Math.sin(J),U=function(re){return re.toFixed(4)},ee=[U(X),U(k),U(-1*k),U(X),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,le(E),fe(B+Q),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([le(H),"0","0",le(Q),"0","0","cm"].join(" "))):this.internal.write([le(H),"0","0",le(Q),le(E),fe(B+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},C=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var V=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=r.__addimage__.sHashCode=function(E){var B,H,Q=0;if(typeof E=="string")for(H=E.length,B=0;B<H;B++)Q=(Q<<5)-Q+E.charCodeAt(B),Q|=0;else if(W(E))for(H=E.byteLength/2,B=0;B<H;B++)Q=(Q<<5)-Q+E[B],Q|=0;return Q},R=r.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var B=!0;return E.length===0&&(B=!1),E.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(B=!1),B},I=r.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var B=E.indexOf(",");return B<0?null:E.substring(0,B).trim().endsWith("base64")?E.substring(B+1):null};r.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var W=r.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},P=r.__addimage__.binaryStringToUint8Array=function(E){for(var B=E.length,H=new Uint8Array(B),Q=0;Q<B;Q++)H[Q]=E.charCodeAt(Q);return H},D=r.__addimage__.arrayBufferToBinaryString=function(E){for(var B="",H=W(E)?E:new Uint8Array(E),Q=0;Q<H.length;Q+=8192)B+=String.fromCharCode.apply(null,H.subarray(Q,Q+8192));return B};r.addImage=function(){var E,B,H,Q,ue,J,ie,le,fe;if(typeof arguments[1]=="number"?(B=t,H=arguments[1],Q=arguments[2],ue=arguments[3],J=arguments[4],ie=arguments[5],le=arguments[6],fe=arguments[7]):(B=arguments[1],H=arguments[2],Q=arguments[3],ue=arguments[4],J=arguments[5],ie=arguments[6],le=arguments[7],fe=arguments[8]),Fn(E=arguments[0])==="object"&&!w(E)&&"imageData"in E){var xe=E;E=xe.imageData,B=xe.format||B||t,H=xe.x||H||0,Q=xe.y||Q||0,ue=xe.w||xe.width||ue,J=xe.h||xe.height||J,ie=xe.alias||ie,le=xe.compression||le,fe=xe.rotation||xe.angle||fe}var X=this.internal.getFilters();if(le===void 0&&X.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(H)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var k=F.call(this,E,B,ie,le);return T.call(this,H,Q,ue,J,k,fe),this};var F=function(E,B,H,Q){var ue,J,ie;if(typeof E=="string"&&a(E)===t){E=unescape(E);var le=$(E,!1);(le!==""||(le=r.loadFile(E,!0))!==void 0)&&(E=le)}if(w(E)&&(E=v(E,B)),B=a(E,B),!y(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((ie=H)==null||ie.length===0)&&(H=(function(fe){return typeof fe=="string"||W(fe)?j(fe):W(fe.data)?j(fe.data):null})(E)),(ue=S.call(this,H))||(E instanceof Uint8Array||B==="RGBA"||(J=E,E=P(E)),ue=this["process"+B.toUpperCase()](E,m.call(this),H,(function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in r.image_compression?fe:V.NONE})(Q),J)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},$=r.__addimage__.convertBase64ToBinaryString=function(E,B){B=typeof B!="boolean"||B;var H,Q="";if(typeof E=="string"){var ue;H=(ue=I(E))!==null&&ue!==void 0?ue:E;try{Q=L1(H)}catch(J){if(B)throw R(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};r.getImageProperties=function(E){var B,H,Q="";if(w(E)&&(E=v(E)),typeof E=="string"&&a(E)===t&&((Q=$(E,!1))===""&&(Q=r.loadFile(E)||""),E=Q),H=a(E),!y(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(E instanceof Uint8Array||(E=P(E)),!(B=this["process"+H.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=H,B}})(Ct.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Ct.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var i,a,o,h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,m=!1,y=0;y<d.length&&!m;y++)switch((i=d[y]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){i=d[w];var v=this.internal.pdfEscape,S=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(N.objId),V=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+h(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+h(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+v(C(i.contents))+")",o+=" /Popup "+T.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+v(C(V))+") >>",N.content=o;var j=N.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+h(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+h(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+j,i.open&&(o+=" /Open true"),o+=" >>",T.content=o,this.internal.write(N.objId,"0 R",T.objId,"0 R");break;case"freetext":a="/Rect ["+h(i.bounds.x)+" "+c(i.bounds.y)+" "+h(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var R=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+v(S(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var I=this.annotations._nameMap[i.options.name];i.options.pageNumber=I.page,i.options.top=I.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+v(S(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var W=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+W+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},r.link=function(t,i,a,o,h){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(i),w:f(t+a),h:d(i+o)},options:h,type:"link"})},r.textWithLink=function(t,i,a,o){var h,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var m=this.splitTextToSize(t,c).length;h=Math.ceil(d*m)}else c=f,h=d;return this.text(t,i,a,o),a+=.2*d,o.align==="center"&&(i-=f/2),o.align==="right"&&(i-=f),this.link(i,a-d,c,h,o),f},r.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(Ct.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},h=r.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=r.__arabicParser__.isArabicEndLetter=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(N){return h(N)&&a.indexOf(N.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=3};var m=r.__arabicParser__.arabicLetterHasMedialForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length==4},y=r.__arabicParser__.resolveLigatures=function(N){var T=0,C=t,V="",j=0;for(T=0;T<N.length;T+=1)C[N.charCodeAt(T)]!==void 0?(j++,typeof(C=C[N.charCodeAt(T)])=="number"&&(V+=String.fromCharCode(C),C=t,j=0),T===N.length-1&&(C=t,V+=N.charAt(T-(j-1)),T-=j-1,j=0)):(C=t,V+=N.charAt(T-j),T-=j,j=0);return V};r.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&i[N.charCodeAt(0)]!==void 0};var w=r.__arabicParser__.getCorrectForm=function(N,T,C){return h(N)?o(N)===!1?-1:!d(N)||!h(T)&&!h(C)||!h(C)&&c(T)||c(N)&&!h(T)||c(N)&&f(T)||c(N)&&c(T)?0:m(N)&&h(T)&&!c(T)&&h(C)&&d(C)?3:c(N)||!h(C)?1:2:-1},v=function(N){var T=0,C=0,V=0,j="",R="",I="",W=(N=N||"").split("\\s+"),P=[];for(T=0;T<W.length;T+=1){for(P.push(""),C=0;C<W[T].length;C+=1)j=W[T][C],R=W[T][C-1],I=W[T][C+1],h(j)?(V=w(j,R,I),P[T]+=V!==-1?String.fromCharCode(e[j.charCodeAt(0)][V]):j):P[T]+=j;P[T]=y(P[T])}return P.join(" ")},S=r.__arabicParser__.processArabic=r.processArabic=function(){var N,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(T)){var V=0;for(C=[],V=0;V<T.length;V+=1)Array.isArray(T[V])?C.push([v(T[V][0]),T[V][1],T[V][2]]):C.push([v(T[V])]);N=C}else N=v(T);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};r.events.push(["preProcessText",S])})(Ct.API),Ct.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(c){h=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var a;if((t=t||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ct.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(N){S=N}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},r.getTextDimensions=function(f,d){i.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,v=0,S=0,N=0,T=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var C=d.maxWidth;C>0?typeof f=="string"?f=this.splitTextToSize(f,C):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(j,R){return j.concat(T.splitTextToSize(R,C))},[])):f=Array.isArray(f)?f:[f];for(var V=0;V<f.length;V++)v<(N=this.getStringUnitWidth(f[V],{font:y})*m)&&(v=N);return v!==0&&(S=f.length),{w:v/=w,h:Math.max((S*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/w,0)}},r.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=r.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=y.top,v&&w&&(this.printHeaderRow(f.lineNumber,!0),f.y+=w[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-m,f.y+m,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+m,{align:"center",baseline:"top",maxWidth:f.width-m-m}):this.text(f.text,f.x+m,f.y+m,{align:"left",baseline:"top",maxWidth:f.width-m-m})),this.internal.__cell__.lastCell=f,this};r.table=function(f,d,m,y,w){if(i.call(this),!m)throw new Error("No data for PDF table.");var v,S,N,T,C=[],V=[],j=[],R={},I={},W=[],P=[],D=(w=w||{}).autoSize||!1,F=w.printHeaders!==!1,$=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,E=w.margins||Object.assign({width:this.getPageWidth()},e),B=typeof w.padding=="number"?w.padding:3,H=w.headerBackgroundColor||"#c8c8c8",Q=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=Q,this.setFontSize($),y==null)V=C=Object.keys(m[0]),j=C.map(function(){return"left"});else if(Array.isArray(y)&&Fn(y[0])==="object")for(C=y.map(function(xe){return xe.name}),V=y.map(function(xe){return xe.prompt||xe.name||""}),j=y.map(function(xe){return xe.align||"left"}),v=0;v<y.length;v+=1)I[y[v].name]=.7499990551181103*y[v].width;else Array.isArray(y)&&typeof y[0]=="string"&&(V=C=y,j=C.map(function(){return"left"}));if(D||Array.isArray(y)&&typeof y[0]=="string")for(v=0;v<C.length;v+=1){for(R[T=C[v]]=m.map(function(xe){return xe[T]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(V[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=R[T],this.setFont(void 0,"normal"),N=0;N<S.length;N+=1)W.push(this.getTextDimensions(S[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[T]=Math.max.apply(null,W)+B+B,W=[]}if(F){var ue={};for(v=0;v<C.length;v+=1)ue[C[v]]={},ue[C[v]].text=V[v],ue[C[v]].align=j[v];var J=c.call(this,ue,I);P=C.map(function(xe){return new o(f,d,I[xe],J,ue[xe].text,void 0,ue[xe].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var ie=y.reduce(function(xe,X){return xe[X.name]=X.align,xe},{});for(v=0;v<m.length;v+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:v,data:m[v]},this);var le=c.call(this,m[v],I);for(N=0;N<C.length;N+=1){var fe=m[v][C[N]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:v,col:N,data:fe},this),h.call(this,new o(f,d,I[C[N]],le,fe,v+2,ie[C[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var m=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(f).map(function(v){var S=f[v];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,d[v]-m-m)},this).map(function(v){return this.getLineHeightFactor()*v.length*y/w+m+m},this).reduce(function(v,S){return Math.max(v,S)},0)};r.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){m=this.internal.__cell__.tableHeaderRow[v].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,w.push(m)),m.lineNumber=f;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,m),this.setTextColor(S)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),t=!1}})(Ct.API);var B_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},q_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ng=F_(q_),z_=[100,200,300,400,500,600,700,800,900],aM=F_(z_);function Cm(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return B_[o=o||"normal"]?o:"normal"})(r.style),i=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),a=(function(o){return typeof ng[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:t,weight:i,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,i].join(" ")}}}function Cy(r,e,t,i){var a;for(a=t;a>=0&&a<e.length;a+=i)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=i)if(r[e[a]])return r[e[a]]}var oM={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ty={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ey(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function ky(r){return r.trimLeft()}function lM(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function cM(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var S1,Oy,My,oh,A1,Ly,Dy,jy,Tm=["times"];function Ry(r,e,t,i,a){var o=4,h=Vy;switch(a){case Ct.API.image_compression.FAST:o=1,h=Iy;break;case Ct.API.image_compression.MEDIUM:o=6,h=Fy;break;case Ct.API.image_compression.SLOW:o=9,h=By}r=(function(f,d,m,y){for(var w,v=f.length/d,S=new Uint8Array(f.length+v),N=[uM,Iy,Vy,Fy,By],T=0;T<v;T+=1){var C=T*d,V=f.subarray(C,C+d);if(y)S.set(y(V,m,w),C+T);else{for(var j=N.length,R=[],I=0;I<j;I+=1)R[I]=N[I](V,m,w);var W=fM(R.concat());S.set(R[W],C+T)}w=V}return S})(r,e,Math.ceil(t*i/8),h);var c=Zm(r,{level:o});return Ct.API.__addimage__.arrayBufferToBinaryString(c)}function uM(r){var e=Array.apply([],r);return e.unshift(0),e}function Iy(r,e){var t=r.length,i=[];i[0]=1;for(var a=0;a<t;a+=1){var o=r[a-e]||0;i[a+1]=r[a]-o+256&255}return i}function Vy(r,e,t){var i=r.length,a=[];a[0]=2;for(var o=0;o<i;o+=1){var h=t&&t[o]||0;a[o+1]=r[o]-h+256&255}return a}function Fy(r,e,t){var i=r.length,a=[];a[0]=3;for(var o=0;o<i;o+=1){var h=r[o-e]||0,c=t&&t[o]||0;a[o+1]=r[o]+256-(h+c>>>1)&255}return a}function By(r,e,t){var i=r.length,a=[];a[0]=4;for(var o=0;o<i;o+=1){var h=hM(r[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=r[o]-h+256&255}return a}function hM(r,e,t){if(r===e&&e===t)return r;var i=Math.abs(e-t),a=Math.abs(r-t),o=Math.abs(r+e-t-t);return i<=a&&i<=o?r:a<=o?e:t}function fM(r){var e=r.map(function(t){return t.reduce(function(i,a){return i+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Em(r,e,t){var i=e*t,a=Math.floor(i/8),o=16-(i-8*a+t),h=(1<<t)-1;return P_(r,a)>>o&h}function qy(r,e,t,i){var a=t*i,o=Math.floor(a/8),h=16-(a-8*o+i),c=(1<<i)-1,f=(e&c)<<h;(function(d,m,y){if(m+1<d.byteLength)d.setUint16(m,y,!1);else{var w=y>>8&255;d.setUint8(m,w)}})(r,o,P_(r,o)&~(c<<h)&65535|f)}function P_(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function dM(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,i=r[e++]|r[e++]<<8,a=r[e++],o=a>>7,h=1<<1+(7&a);r[e++],r[e++];var c=null,f=null;o&&(c=e,f=h,e+=3*h);var d=!0,m=[],y=0,w=null,v=0,S=null;for(this.width=t,this.height=i;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,S=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=r[e++];y=r[e++]|r[e++]<<8,w=r[e++],1&N||(w=null),v=N>>2&7,e++;break;case 254:for(;;){if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var T=r[e++]|r[e++]<<8,C=r[e++]|r[e++]<<8,V=r[e++]|r[e++]<<8,j=r[e++]|r[e++]<<8,R=r[e++],I=R>>6&1,W=1<<1+(7&R),P=c,D=f,F=!1;R>>7&&(F=!0,P=e,D=W,e+=3*W);var $=e;for(e++;;){var E;if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}m.push({x:T,y:C,width:V,height:j,has_local_palette:F,palette_offset:P,palette_size:D,data_offset:$,data_length:e-$,transparent_index:w,interlaced:!!I,delay:y,disposal:v});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return S},this.frameInfo=function(B){if(B<0||B>=m.length)throw new Error("Frame index out of range.");return m[B]},this.decodeAndBlitFrameBGRA=function(B,H){var Q=this.frameInfo(B),ue=Q.width*Q.height,J=new Uint8Array(ue);zy(r,Q.data_offset,J,ue);var ie=Q.palette_offset,le=Q.transparent_index;le===null&&(le=256);var fe=Q.width,xe=t-fe,X=fe,k=4*(Q.y*t+Q.x),U=4*((Q.y+Q.height)*t+Q.x),ee=k,re=4*xe;Q.interlaced===!0&&(re+=4*t*7);for(var se=8,me=0,de=J.length;me<de;++me){var _e=J[me];if(X===0&&(X=fe,(ee+=re)>=U&&(re=4*xe+4*t*(se-1),ee=k+(fe+xe)*(se<<1),se>>=1)),_e===le)ee+=4;else{var Ne=r[ie+3*_e],Ce=r[ie+3*_e+1],qe=r[ie+3*_e+2];H[ee++]=qe,H[ee++]=Ce,H[ee++]=Ne,H[ee++]=255}--X}},this.decodeAndBlitFrameRGBA=function(B,H){var Q=this.frameInfo(B),ue=Q.width*Q.height,J=new Uint8Array(ue);zy(r,Q.data_offset,J,ue);var ie=Q.palette_offset,le=Q.transparent_index;le===null&&(le=256);var fe=Q.width,xe=t-fe,X=fe,k=4*(Q.y*t+Q.x),U=4*((Q.y+Q.height)*t+Q.x),ee=k,re=4*xe;Q.interlaced===!0&&(re+=4*t*7);for(var se=8,me=0,de=J.length;me<de;++me){var _e=J[me];if(X===0&&(X=fe,(ee+=re)>=U&&(re=4*xe+4*t*(se-1),ee=k+(fe+xe)*(se<<1),se>>=1)),_e===le)ee+=4;else{var Ne=r[ie+3*_e],Ce=r[ie+3*_e+1],qe=r[ie+3*_e+2];H[ee++]=Ne,H[ee++]=Ce,H[ee++]=qe,H[ee++]=255}--X}}}function zy(r,e,t,i){for(var a=r[e++],o=1<<a,h=o+1,c=h+1,f=a+1,d=(1<<f)-1,m=0,y=0,w=0,v=r[e++],S=new Int32Array(4096),N=null;;){for(;m<16&&v!==0;)y|=r[e++]<<m,m+=8,v===1?v=r[e++]:--v;if(m<f)break;var T=y&d;if(y>>=f,m-=f,T!==o){if(T===h)break;for(var C=T<c?T:N,V=0,j=C;j>o;)j=S[j]>>8,++V;var R=j;if(w+V+(C!==T?1:0)>i)return void Kn.log("Warning, gif stream longer than expected.");t[w++]=R;var I=w+=V;for(C!==T&&(t[w++]=R),j=C;V--;)j=S[j],t[--I]=255&j,j>>=8;N!==null&&c<4096&&(S[c++]=N<<8|R,c>=d+1&&f<12&&(++f,d=d<<1|1)),N=T}else c=h+1,d=(1<<(f=a+1))-1,N=null}return w!==i&&Kn.log("Warning, gif stream shorter than expected."),t}function km(r){var e,t,i,a,o,h=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),m=new Array(64),y=new Array(65535),w=new Array(65535),v=new Array(64),S=new Array(64),N=[],T=0,C=7,V=new Array(64),j=new Array(64),R=new Array(64),I=new Array(256),W=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(k,U){for(var ee=0,re=0,se=new Array,me=1;me<=16;me++){for(var de=1;de<=k[me];de++)se[U[re]]=[],se[U[re]][0]=ee,se[U[re]][1]=me,re++,ee++;ee*=2}return se}function ie(k){for(var U=k[0],ee=k[1]-1;ee>=0;)U&1<<ee&&(T|=1<<C),ee--,--C<0&&(T==255?(le(255),le(0)):le(T),C=7,T=0)}function le(k){N.push(k)}function fe(k){le(k>>8&255),le(255&k)}function xe(k,U,ee,re,se){for(var me,de=se[0],_e=se[240],Ne=(function(Ee,tt){var nt,ot,ut,Tt,Ye,et,lt,wt,at,dt,st=0;for(at=0;at<8;++at){nt=Ee[st],ot=Ee[st+1],ut=Ee[st+2],Tt=Ee[st+3],Ye=Ee[st+4],et=Ee[st+5],lt=Ee[st+6];var Gt=nt+(wt=Ee[st+7]),Rt=nt-wt,_t=ot+lt,St=ot-lt,Ot=ut+et,gt=ut-et,sn=Tt+Ye,Et=Tt-Ye,Ft=Gt+sn,Nn=Gt-sn,pt=_t+Ot,ct=_t-Ot;Ee[st]=Ft+pt,Ee[st+4]=Ft-pt;var It=.707106781*(ct+Nn);Ee[st+2]=Nn+It,Ee[st+6]=Nn-It;var hr=.382683433*((Ft=Et+gt)-(ct=St+Rt)),Oe=.5411961*Ft+hr,Fe=1.306562965*ct+hr,Ke=.707106781*(pt=gt+St),$e=Rt+Ke,Mt=Rt-Ke;Ee[st+5]=Mt+Oe,Ee[st+3]=Mt-Oe,Ee[st+1]=$e+Fe,Ee[st+7]=$e-Fe,st+=8}for(st=0,at=0;at<8;++at){nt=Ee[st],ot=Ee[st+8],ut=Ee[st+16],Tt=Ee[st+24],Ye=Ee[st+32],et=Ee[st+40],lt=Ee[st+48];var Lt=nt+(wt=Ee[st+56]),Vt=nt-wt,tn=ot+lt,Zt=ot-lt,hn=ut+et,an=ut-et,Ar=Tt+Ye,Bn=Tt-Ye,fn=Lt+Ar,Cn=Lt-Ar,br=tn+hn,Hr=tn-hn;Ee[st]=fn+br,Ee[st+32]=fn-br;var Gr=.707106781*(Hr+Cn);Ee[st+16]=Cn+Gr,Ee[st+48]=Cn-Gr;var Ks=.382683433*((fn=Bn+an)-(Hr=Zt+Vt)),as=.5411961*fn+Ks,Di=1.306562965*Hr+Ks,Os=.707106781*(br=an+Zt),ji=Vt+Os,Gi=Vt-Os;Ee[st+40]=Gi+as,Ee[st+24]=Gi-as,Ee[st+8]=ji+Di,Ee[st+56]=ji-Di,st++}for(at=0;at<64;++at)dt=Ee[at]*tt[at],v[at]=dt>0?dt+.5|0:dt-.5|0;return v})(k,U),Ce=0;Ce<64;++Ce)S[P[Ce]]=Ne[Ce];var qe=S[0]-ee;ee=S[0],qe==0?ie(re[0]):(ie(re[w[me=32767+qe]]),ie(y[me]));for(var We=63;We>0&&S[We]==0;)We--;if(We==0)return ie(de),ee;for(var Qe,G=1;G<=We;){for(var je=G;S[G]==0&&G<=We;)++G;var rt=G-je;if(rt>=16){Qe=rt>>4;for(var Ze=1;Ze<=Qe;++Ze)ie(_e);rt&=15}me=32767+S[G],ie(se[(rt<<4)+w[me]]),ie(y[me]),G++}return We!=63&&ie(de),ee}function X(k){k=Math.min(Math.max(k,1),100),o!=k&&((function(U){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var se=h((ee[re]*U+50)/100);se=Math.min(Math.max(se,1),255),c[P[re]]=se}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var _e=h((me[de]*U+50)/100);_e=Math.min(Math.max(_e,1),255),f[P[de]]=_e}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,qe=0;qe<8;qe++)for(var We=0;We<8;We++)d[Ce]=1/(c[P[Ce]]*Ne[qe]*Ne[We]*8),m[Ce]=1/(f[P[Ce]]*Ne[qe]*Ne[We]*8),Ce++})(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),o=k)}this.encode=function(k,U){U&&X(U),N=new Array,T=0,C=7,fe(65496),fe(65504),fe(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),fe(1),fe(1),le(0),le(0),(function(){fe(65499),fe(132),le(0);for(var ot=0;ot<64;ot++)le(c[ot]);le(1);for(var ut=0;ut<64;ut++)le(f[ut])})(),(function(ot,ut){fe(65472),fe(17),le(8),fe(ut),fe(ot),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)})(k.width,k.height),(function(){fe(65476),fe(418),le(0);for(var ot=0;ot<16;ot++)le(D[ot+1]);for(var ut=0;ut<=11;ut++)le(F[ut]);le(16);for(var Tt=0;Tt<16;Tt++)le($[Tt+1]);for(var Ye=0;Ye<=161;Ye++)le(E[Ye]);le(1);for(var et=0;et<16;et++)le(B[et+1]);for(var lt=0;lt<=11;lt++)le(H[lt]);le(17);for(var wt=0;wt<16;wt++)le(Q[wt+1]);for(var at=0;at<=161;at++)le(ue[at])})(),fe(65498),fe(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var ee=0,re=0,se=0;T=0,C=7,this.encode.displayName="_encode_";for(var me,de,_e,Ne,Ce,qe,We,Qe,G,je=k.data,rt=k.width,Ze=k.height,Ee=4*rt,tt=0;tt<Ze;){for(me=0;me<Ee;){for(Ce=Ee*tt+me,We=-1,Qe=0,G=0;G<64;G++)qe=Ce+(Qe=G>>3)*Ee+(We=4*(7&G)),tt+Qe>=Ze&&(qe-=Ee*(tt+1+Qe-Ze)),me+We>=Ee&&(qe-=me+We-Ee+4),de=je[qe++],_e=je[qe++],Ne=je[qe++],V[G]=(W[de]+W[_e+256|0]+W[Ne+512|0]>>16)-128,j[G]=(W[de+768|0]+W[_e+1024|0]+W[Ne+1280|0]>>16)-128,R[G]=(W[de+1280|0]+W[_e+1536|0]+W[Ne+1792|0]>>16)-128;ee=xe(V,d,ee,e,i),re=xe(j,m,re,t,a),se=xe(R,m,se,t,a),me+=32}tt+=8}if(C>=0){var nt=[];nt[1]=C+1,nt[0]=(1<<C+1)-1,ie(nt)}return fe(65497),new Uint8Array(N)},r=r||50,(function(){for(var k=String.fromCharCode,U=0;U<256;U++)I[U]=k(U)})(),e=J(D,F),t=J(B,H),i=J($,E),a=J(Q,ue),(function(){for(var k=1,U=2,ee=1;ee<=15;ee++){for(var re=k;re<U;re++)w[32767+re]=ee,y[32767+re]=[],y[32767+re][1]=ee,y[32767+re][0]=re;for(var se=-(U-1);se<=-k;se++)w[32767+se]=ee,y[32767+se]=[],y[32767+se][1]=ee,y[32767+se][0]=U-1+se;k<<=1,U<<=1}})(),(function(){for(var k=0;k<256;k++)W[k]=19595*k,W[k+256|0]=38470*k,W[k+512|0]=7471*k+32768,W[k+768|0]=-11059*k,W[k+1024|0]=-21709*k,W[k+1280|0]=32768*k+8421375,W[k+1536|0]=-27439*k,W[k+1792|0]=-5329*k})(),X(r)}function Ga(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Py(r){function e(F){if(!F)throw Error("assert :P")}function t(F,$,E){for(var B=0;4>B;B++)if(F[$+B]!=E.charCodeAt(B))return!0;return!1}function i(F,$,E,B,H){for(var Q=0;Q<H;Q++)F[$+Q]=E[B+Q]}function a(F,$,E,B){for(var H=0;H<B;H++)F[$+H]=E}function o(F){return new Int32Array(F)}function h(F,$){for(var E=[],B=0;B<F;B++)E.push(new $);return E}function c(F,$){var E=[];return(function B(H,Q,ue){for(var J=ue[Q],ie=0;ie<J&&(H.push(ue.length>Q+1?[]:new $),!(ue.length<Q+1));ie++)B(H[ie],Q+1,ue)})(E,0,F),E}var f=function(){var F=this;function $(p,b){for(var A=1<<b-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function E(p,b,A,O,z){e(!(O%A));do p[b+(O-=A)]=z;while(0<O)}function B(p,b,A,O,z){if(e(2328>=z),512>=z)var Y=o(512);else if((Y=o(z))==null)return 0;return(function(Z,te,ne,oe,ve,ke){var ae,ye,Ae=te,Ve=1<<ne,Te=o(16),Ie=o(16);for(e(ve!=0),e(oe!=null),e(Z!=null),e(0<ne),ye=0;ye<ve;++ye){if(15<oe[ye])return 0;++Te[oe[ye]]}if(Te[0]==ve)return 0;for(Ie[1]=0,ae=1;15>ae;++ae){if(Te[ae]>1<<ae)return 0;Ie[ae+1]=Ie[ae]+Te[ae]}for(ye=0;ye<ve;++ye)ae=oe[ye],0<oe[ye]&&(ke[Ie[ae]++]=ye);if(Ie[15]==1)return(oe=new H).g=0,oe.value=ke[0],E(Z,Ae,1,Ve,oe),Ve;var Pe,Je=-1,Ge=Ve-1,yt=0,ht=1,Yt=1,mt=1<<ne;for(ye=0,ae=1,ve=2;ae<=ne;++ae,ve<<=1){if(ht+=Yt<<=1,0>(Yt-=Te[ae]))return 0;for(;0<Te[ae];--Te[ae])(oe=new H).g=ae,oe.value=ke[ye++],E(Z,Ae+yt,ve,mt,oe),yt=$(yt,ae)}for(ae=ne+1,ve=2;15>=ae;++ae,ve<<=1){if(ht+=Yt<<=1,0>(Yt-=Te[ae]))return 0;for(;0<Te[ae];--Te[ae]){if(oe=new H,(yt&Ge)!=Je){for(Ae+=mt,Pe=1<<(Je=ae)-ne;15>Je&&!(0>=(Pe-=Te[Je]));)++Je,Pe<<=1;Ve+=mt=1<<(Pe=Je-ne),Z[te+(Je=yt&Ge)].g=Pe+ne,Z[te+Je].value=Ae-te-Je}oe.g=ae-ne,oe.value=ke[ye++],E(Z,Ae+(yt>>ne),ve,mt,oe),yt=$(yt,ae)}}return ht!=2*Ie[15]-1?0:Ve})(p,b,A,O,z,Y)}function H(){this.value=this.g=0}function Q(){this.value=this.g=0}function ue(){this.G=h(5,H),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(fo,Q)}function J(p,b,A,O){e(p!=null),e(b!=null),e(2147483648>O),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=A,p.Jd=b,p.Yc=A+O,p.Zc=4<=O?A+O-4+1:A,de(p)}function ie(p,b){for(var A=0;0<b--;)A|=Ne(p,128)<<b;return A}function le(p,b){var A=ie(p,b);return _e(p)?-A:A}function fe(p,b,A,O){var z,Y=0;for(e(p!=null),e(b!=null),e(4294967288>O),p.Sb=O,p.Ra=0,p.u=0,p.h=0,4<O&&(O=4),z=0;z<O;++z)Y+=b[A+z]<<8*z;p.Ra=Y,p.bb=O,p.oa=b,p.pa=A}function xe(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ia-8>>>0,++p.bb,p.u-=8;re(p)&&(p.h=1,p.u=0)}function X(p,b){if(e(0<=b),!p.h&&b<=Ni){var A=ee(p)&Ii[b];return p.u+=b,xe(p),A}return p.h=1,p.u=0}function k(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(p){return p.Ra>>>(p.u&ia-1)>>>0}function re(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ia}function se(p,b){p.u=b,p.h=re(p)}function me(p){p.u>=sa&&(e(p.u>=sa),xe(p))}function de(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function _e(p){return ie(p,1)}function Ne(p,b){var A=p.Ca;0>p.b&&de(p);var O=p.b,z=A*b>>>8,Y=(p.I>>>O>z)+0;for(Y?(A-=z,p.I-=z+1<<O>>>0):A=z+1,O=A,z=0;256<=O;)z+=8,O>>=8;return O=7^z+La[O],p.b-=O,p.Ca=(A<<O)-1,Y}function Ce(p,b,A){p[b+0]=A>>24&255,p[b+1]=A>>16&255,p[b+2]=A>>8&255,p[b+3]=255&A}function qe(p,b){return p[b+0]|p[b+1]<<8}function We(p,b){return qe(p,b)|p[b+2]<<16}function Qe(p,b){return qe(p,b)|qe(p,b+2)<<16}function G(p,b){var A=1<<b;return e(p!=null),e(0<b),p.X=o(A),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function je(p,b){e(p!=null),e(b!=null),e(p.Xa==b.Xa),i(b.X,0,p.X,0,1<<b.Xa)}function rt(){this.X=[],this.Xa=this.Mb=0}function Ze(p,b,A,O){e(A!=null),e(O!=null);var z=A[0],Y=O[0];return z==0&&(z=(p*Y+b/2)/b),Y==0&&(Y=(b*z+p/2)/p),0>=z||0>=Y?0:(A[0]=z,O[0]=Y,1)}function Ee(p,b){return p+(1<<b)-1>>>b}function tt(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function nt(p,b){F[b]=function(A,O,z,Y,Z,te,ne){var oe;for(oe=0;oe<Z;++oe){var ve=F[p](te[ne+oe-1],z,Y+oe);te[ne+oe]=tt(A[O+oe],ve)}}}function ot(){this.ud=this.hd=this.jd=0}function ut(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function Tt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ye(p,b){return Tt(p+(p-b+.5>>1))}function et(p,b,A){return Math.abs(b-A)-Math.abs(p-A)}function lt(p,b,A,O,z,Y,Z){for(O=Y[Z-1],A=0;A<z;++A)Y[Z+A]=O=tt(p[b+A],O)}function wt(p,b,A,O,z){var Y;for(Y=0;Y<A;++Y){var Z=p[b+Y],te=Z>>8&255,ne=16711935&(ne=(ne=16711935&Z)+((te<<16)+te));O[z+Y]=(4278255360&Z)+ne>>>0}}function at(p,b){b.jd=255&p,b.hd=p>>8&255,b.ud=p>>16&255}function dt(p,b,A,O,z,Y){var Z;for(Z=0;Z<O;++Z){var te=b[A+Z],ne=te>>>8,oe=te,ve=255&(ve=(ve=te>>>16)+((p.jd<<24>>24)*(ne<<24>>24)>>>5));oe=255&(oe=(oe+=(p.hd<<24>>24)*(ne<<24>>24)>>>5)+((p.ud<<24>>24)*(ve<<24>>24)>>>5)),z[Y+Z]=(4278255360&te)+(ve<<16)+oe}}function st(p,b,A,O,z){F[b]=function(Y,Z,te,ne,oe,ve,ke,ae,ye){for(ne=ke;ne<ae;++ne)for(ke=0;ke<ye;++ke)oe[ve++]=z(te[O(Y[Z++])])},F[p]=function(Y,Z,te,ne,oe,ve,ke){var ae=8>>Y.b,ye=Y.Ea,Ae=Y.K[0],Ve=Y.w;if(8>ae)for(Y=(1<<Y.b)-1,Ve=(1<<ae)-1;Z<te;++Z){var Te,Ie=0;for(Te=0;Te<ye;++Te)Te&Y||(Ie=O(ne[oe++])),ve[ke++]=z(Ae[Ie&Ve]),Ie>>=ae}else F["VP8LMapColor"+A](ne,oe,Ae,Ve,ve,ke,Z,te,ye)}}function Gt(p,b,A,O,z){for(A=b+A;b<A;){var Y=p[b++];O[z++]=Y>>16&255,O[z++]=Y>>8&255,O[z++]=255&Y}}function Rt(p,b,A,O,z){for(A=b+A;b<A;){var Y=p[b++];O[z++]=Y>>16&255,O[z++]=Y>>8&255,O[z++]=255&Y,O[z++]=Y>>24&255}}function _t(p,b,A,O,z){for(A=b+A;b<A;){var Y=(Z=p[b++])>>16&240|Z>>12&15,Z=240&Z|Z>>28&15;O[z++]=Y,O[z++]=Z}}function St(p,b,A,O,z){for(A=b+A;b<A;){var Y=(Z=p[b++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;O[z++]=Y,O[z++]=Z}}function Ot(p,b,A,O,z){for(A=b+A;b<A;){var Y=p[b++];O[z++]=255&Y,O[z++]=Y>>8&255,O[z++]=Y>>16&255}}function gt(p,b,A,O,z,Y){if(Y==0)for(A=b+A;b<A;)Ce(O,((Y=p[b++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),z+=32;else i(O,z,p,b,A)}function sn(p,b){F[b][0]=F[p+"0"],F[b][1]=F[p+"1"],F[b][2]=F[p+"2"],F[b][3]=F[p+"3"],F[b][4]=F[p+"4"],F[b][5]=F[p+"5"],F[b][6]=F[p+"6"],F[b][7]=F[p+"7"],F[b][8]=F[p+"8"],F[b][9]=F[p+"9"],F[b][10]=F[p+"10"],F[b][11]=F[p+"11"],F[b][12]=F[p+"12"],F[b][13]=F[p+"13"],F[b][14]=F[p+"0"],F[b][15]=F[p+"0"]}function Et(p){return p==Pc||p==Ou||p==Rl||p==Mu}function Ft(){this.eb=[],this.size=this.A=this.fb=0}function Nn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ft,this.f.kb=new Nn,this.sd=null}function ct(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function It(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hr(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Oe(p,b){var A=p.T,O=b.ba.f.RGBA,z=O.eb,Y=O.fb+p.ka*O.A,Z=ai[b.ba.S],te=p.y,ne=p.O,oe=p.f,ve=p.N,ke=p.ea,ae=p.W,ye=b.cc,Ae=b.dc,Ve=b.Mc,Te=b.Nc,Ie=p.ka,Pe=p.ka+p.T,Je=p.U,Ge=Je+1>>1;for(Ie==0?Z(te,ne,null,null,oe,ve,ke,ae,oe,ve,ke,ae,z,Y,null,null,Je):(Z(b.ec,b.fc,te,ne,ye,Ae,Ve,Te,oe,ve,ke,ae,z,Y-O.A,z,Y,Je),++A);Ie+2<Pe;Ie+=2)ye=oe,Ae=ve,Ve=ke,Te=ae,ve+=p.Rc,ae+=p.Rc,Y+=2*O.A,Z(te,(ne+=2*p.fa)-p.fa,te,ne,ye,Ae,Ve,Te,oe,ve,ke,ae,z,Y-O.A,z,Y,Je);return ne+=p.fa,p.j+Pe<p.o?(i(b.ec,b.fc,te,ne,Je),i(b.cc,b.dc,oe,ve,Ge),i(b.Mc,b.Nc,ke,ae,Ge),A--):1&Pe||Z(te,ne,null,null,oe,ve,ke,ae,oe,ve,ke,ae,z,Y+O.A,null,null,Je),A}function Fe(p,b,A){var O=p.F,z=[p.J];if(O!=null){var Y=p.U,Z=b.ba.S,te=Z==zc||Z==Rl;b=b.ba.f.RGBA;var ne=[0],oe=p.ka;ne[0]=p.T,p.Kb&&(oe==0?--ne[0]:(--oe,z[0]-=p.width),p.j+p.ka+p.T==p.o&&(ne[0]=p.o-p.j-oe));var ve=b.eb;oe=b.fb+oe*b.A,p=Vc(O,z[0],p.width,Y,ne,ve,oe+(te?0:3),b.A),e(A==ne),p&&Et(Z)&&Xo(ve,oe,te,Y,ne,b.A)}return 0}function Ke(p){var b=p.ma,A=b.ba.S,O=11>A,z=A==pi||A==hs||A==zc||A==jl||A==12||Et(A);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Ma(b.Oa,p,z?11:12))return 0;if(z&&Et(A)&&Dc(),p.da)alert("todo:use_scaling");else{if(O){if(b.Ib=hr,p.Kb){if(A=p.U+1>>1,b.memory=o(p.U+2*A),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+A,b.Ib=Oe,Dc()}}else alert("todo:EmitYUV");z&&(b.Jb=Fe,O&&Rs())}if(O&&!xo){for(p=0;256>p;++p)oi[p]=89858*(p-128)+Fl>>vs,qp[p]=-22014*(p-128)+Fl,wd[p]=-45773*(p-128),Iu[p]=113618*(p-128)+Fl>>vs;for(p=Qo;p<yo;++p)b=76283*(p-16)+Fl>>vs,zp[p-Qo]=Xi(b,255),Pp[p-Qo]=Xi(b+8>>4,15);xo=1}return 1}function $e(p){var b=p.ma,A=p.U,O=p.T;return e(!(1&p.ka)),0>=A||0>=O?0:(A=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,A),b.Dc+=A,1)}function Mt(p){p.ma.memory=null}function Lt(p,b,A,O){return X(p,8)!=47?0:(b[0]=X(p,14)+1,A[0]=X(p,14)+1,O[0]=X(p,1),X(p,3)!=0?0:!p.h)}function Vt(p,b){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+X(b,A)+1}function tn(p,b){return 120<b?b-120:1<=(A=((A=ds[b-1])>>4)*p+(8-(15&A)))?A:1;var A}function Zt(p,b,A){var O=ee(A),z=p[b+=255&O].g-8;return 0<z&&(se(A,A.u+8),O=ee(A),b+=p[b].value,b+=O&(1<<z)-1),se(A,A.u+p[b].g),p[b].value}function hn(p,b,A){return A.g+=p.g,A.value+=p.value<<b>>>0,e(8>=A.g),p.g}function an(p,b,A){var O=p.xc;return e((b=O==0?0:p.vc[p.md*(A>>O)+(b>>O)])<p.Wb),p.Ya[b]}function Ar(p,b,A,O){var z=p.ab,Y=p.c*b,Z=p.C;b=Z+b;var te=A,ne=O;for(O=p.Ta,A=p.Ua;0<z--;){var oe=p.gc[z],ve=Z,ke=b,ae=te,ye=ne,Ae=(ne=O,te=A,oe.Ea);switch(e(ve<ke),e(ke<=oe.nc),oe.hc){case 2:xr(ae,ye,(ke-ve)*Ae,ne,te);break;case 0:var Ve=ve,Te=ke,Ie=ne,Pe=te,Je=(mt=oe).Ea;Ve==0&&(Ol(ae,ye,null,null,1,Ie,Pe),lt(ae,ye+1,0,0,Je-1,Ie,Pe+1),ye+=Je,Pe+=Je,++Ve);for(var Ge=1<<mt.b,yt=Ge-1,ht=Ee(Je,mt.b),Yt=mt.K,mt=mt.w+(Ve>>mt.b)*ht;Ve<Te;){var on=Yt,Zn=mt,Kt=1;for(Ml(ae,ye,Ie,Pe-Je,1,Ie,Pe);Kt<Je;){var ft=(Kt&~yt)+Ge;ft>Je&&(ft=Je),(0,Da[on[Zn++]>>8&15])(ae,ye+ +Kt,Ie,Pe+Kt-Je,ft-Kt,Ie,Pe+Kt),Kt=ft}ye+=Je,Pe+=Je,++Ve&yt||(mt+=ht)}ke!=oe.nc&&i(ne,te-Ae,ne,te+(ke-ve-1)*Ae,Ae);break;case 1:for(Ae=ae,Te=ye,Je=(ae=oe.Ea)-(Pe=ae&~(Ie=(ye=1<<oe.b)-1)),Ve=Ee(ae,oe.b),Ge=oe.K,oe=oe.w+(ve>>oe.b)*Ve;ve<ke;){for(yt=Ge,ht=oe,Yt=new ot,mt=Te+Pe,on=Te+ae;Te<mt;)at(yt[ht++],Yt),Ll(Yt,Ae,Te,ye,ne,te),Te+=ye,te+=ye;Te<on&&(at(yt[ht++],Yt),Ll(Yt,Ae,Te,Je,ne,te),Te+=Je,te+=Je),++ve&Ie||(oe+=Ve)}break;case 3:if(ae==ne&&ye==te&&0<oe.b){for(Te=ne,ae=Ae=te+(ke-ve)*Ae-(Pe=(ke-ve)*Ee(oe.Ea,oe.b)),ye=ne,Ie=te,Ve=[],Pe=(Je=Pe)-1;0<=Pe;--Pe)Ve[Pe]=ye[Ie+Pe];for(Pe=Je-1;0<=Pe;--Pe)Te[ae+Pe]=Ve[Pe];Nu(oe,ve,ke,ne,Ae,ne,te)}else Nu(oe,ve,ke,ae,ye,ne,te)}te=O,ne=A}ne!=A&&i(O,A,te,ne,Y)}function Bn(p,b){var A=p.V,O=p.Ba+p.c*p.C,z=b-p.C;if(e(b<=p.l.o),e(16>=z),0<z){var Y=p.l,Z=p.Ta,te=p.Ua,ne=Y.width;if(Ar(p,z,A,O),z=te=[te],e((A=p.C)<(O=b)),e(Y.v<Y.va),O>Y.o&&(O=Y.o),A<Y.j){var oe=Y.j-A;A=Y.j,z[0]+=oe*ne}if(A>=O?A=0:(z[0]+=4*Y.v,Y.ka=A-Y.j,Y.U=Y.va-Y.v,Y.T=O-A,A=1),A){if(te=te[0],11>(A=p.ca).S){var ve=A.f.RGBA,ke=(O=A.S,z=Y.U,Y=Y.T,oe=ve.eb,ve.A),ae=Y;for(ve=ve.fb+p.Ma*ve.A;0<ae--;){var ye=Z,Ae=te,Ve=z,Te=oe,Ie=ve;switch(O){case Eu:Dl(ye,Ae,Ve,Te,Ie);break;case pi:ja(ye,Ae,Ve,Te,Ie);break;case Pc:ja(ye,Ae,Ve,Te,Ie),Xo(Te,Ie,0,Ve,1,0);break;case ku:Yo(ye,Ae,Ve,Te,Ie);break;case hs:gt(ye,Ae,Ve,Te,Ie,1);break;case Ou:gt(ye,Ae,Ve,Te,Ie,1),Xo(Te,Ie,0,Ve,1,0);break;case zc:gt(ye,Ae,Ve,Te,Ie,0);break;case Rl:gt(ye,Ae,Ve,Te,Ie,0),Xo(Te,Ie,1,Ve,1,0);break;case jl:Ra(ye,Ae,Ve,Te,Ie);break;case Mu:Ra(ye,Ae,Ve,Te,Ie),us(Te,Ie,Ve,1,0);break;case po:la(ye,Ae,Ve,Te,Ie);break;default:e(0)}te+=ne,ve+=ke}p.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=A.height)}}p.C=b,e(p.C<=p.i)}function fn(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var A=p.Ya[b].G,O=p.Ya[b].H;if(0<A[1][O[1]+0].g||0<A[2][O[2]+0].g||0<A[3][O[3]+0].g)return 0}return 1}function Cn(p,b,A,O,z,Y){if(p.Z!=0){var Z=p.qd,te=p.rd;for(e(Fa[p.Z]!=null);b<A;++b)Fa[p.Z](Z,te,O,z,O,z,Y),Z=O,te=z,z+=Y;p.qd=Z,p.rd=te}}function br(p,b){var A=p.l.ma,O=A.Z==0||A.Z==1?p.l.j:p.C;if(O=p.C<O?O:p.C,e(b<=p.l.o),b>O){var z=p.l.width,Y=A.ca,Z=A.tb+z*O,te=p.V,ne=p.Ba+p.c*O,oe=p.gc;e(p.ab==1),e(oe[0].hc==3),oa(oe[0],O,b,te,ne,Y,Z),Cn(A,O,b,Y,Z,z)}p.C=p.Ma=b}function Hr(p,b,A,O,z,Y,Z){var te=p.$/O,ne=p.$%O,oe=p.m,ve=p.s,ke=A+p.$,ae=ke;z=A+O*z;var ye=A+O*Y,Ae=280+ve.ua,Ve=p.Pb?te:16777216,Te=0<ve.ua?ve.Wa:null,Ie=ve.wc,Pe=ke<ye?an(ve,ne,te):null;e(p.C<Y),e(ye<=z);var Je=!1;e:for(;;){for(;Je||ke<ye;){var Ge=0;if(te>=Ve){var yt=ke-A;e((Ve=p).Pb),Ve.wd=Ve.m,Ve.xd=yt,0<Ve.s.ua&&je(Ve.s.Wa,Ve.s.vb),Ve=te+mo}if(ne&Ie||(Pe=an(ve,ne,te)),e(Pe!=null),Pe.Qb&&(b[ke]=Pe.qb,Je=!0),!Je)if(me(oe),Pe.jc){Ge=oe,yt=b;var ht=ke,Yt=Pe.pd[ee(Ge)&fo-1];e(Pe.jc),256>Yt.g?(se(Ge,Ge.u+Yt.g),yt[ht]=Yt.value,Ge=0):(se(Ge,Ge.u+Yt.g-256),e(256<=Yt.value),Ge=Yt.value),Ge==0&&(Je=!0)}else Ge=Zt(Pe.G[0],Pe.H[0],oe);if(oe.h)break;if(Je||256>Ge){if(!Je)if(Pe.nd)b[ke]=(Pe.qb|Ge<<8)>>>0;else{if(me(oe),Je=Zt(Pe.G[1],Pe.H[1],oe),me(oe),yt=Zt(Pe.G[2],Pe.H[2],oe),ht=Zt(Pe.G[3],Pe.H[3],oe),oe.h)break;b[ke]=(ht<<24|Je<<16|Ge<<8|yt)>>>0}if(Je=!1,++ke,++ne>=O&&(ne=0,++te,Z!=null&&te<=Y&&!(te%16)&&Z(p,te),Te!=null))for(;ae<ke;)Ge=b[ae++],Te.X[(506832829*Ge&4294967295)>>>Te.Mb]=Ge}else if(280>Ge){if(Ge=Vt(Ge-256,oe),yt=Zt(Pe.G[4],Pe.H[4],oe),me(oe),yt=tn(O,yt=Vt(yt,oe)),oe.h)break;if(ke-A<yt||z-ke<Ge)break e;for(ht=0;ht<Ge;++ht)b[ke+ht]=b[ke+ht-yt];for(ke+=Ge,ne+=Ge;ne>=O;)ne-=O,++te,Z!=null&&te<=Y&&!(te%16)&&Z(p,te);if(e(ke<=z),ne&Ie&&(Pe=an(ve,ne,te)),Te!=null)for(;ae<ke;)Ge=b[ae++],Te.X[(506832829*Ge&4294967295)>>>Te.Mb]=Ge}else{if(!(Ge<Ae))break e;for(Je=Ge-280,e(Te!=null);ae<ke;)Ge=b[ae++],Te.X[(506832829*Ge&4294967295)>>>Te.Mb]=Ge;Ge=ke,e(!(Je>>>(yt=Te).Xa)),b[Ge]=yt.X[Je],Je=!0}Je||e(oe.h==re(oe))}if(p.Pb&&oe.h&&ke<z)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&je(p.s.vb,p.s.Wa);else{if(oe.h)break e;Z?.(p,te>Y?Y:te),p.a=0,p.$=ke-A}return 1}return p.a=3,0}function Gr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,e(p!=null)}function Ks(){var p=new Ut;return p==null?null:(p.a=0,p.xb=Gh,sn("Predictor","VP8LPredictors"),sn("Predictor","VP8LPredictors_C"),sn("PredictorAdd","VP8LPredictorsAdd"),sn("PredictorAdd","VP8LPredictorsAdd_C"),xr=wt,Ll=dt,Dl=Gt,ja=Rt,Ra=_t,la=St,Yo=Ot,F.VP8LMapColor32b=aa,F.VP8LMapColor8b=ri,p)}function as(p,b,A,O,z){var Y=1,Z=[p],te=[b],ne=O.m,oe=O.s,ve=null,ke=0;e:for(;;){if(A)for(;Y&&X(ne,1);){var ae=Z,ye=te,Ae=O,Ve=1,Te=Ae.m,Ie=Ae.gc[Ae.ab],Pe=X(Te,2);if(Ae.Oc&1<<Pe)Y=0;else{switch(Ae.Oc|=1<<Pe,Ie.hc=Pe,Ie.Ea=ae[0],Ie.nc=ye[0],Ie.K=[null],++Ae.ab,e(4>=Ae.ab),Pe){case 0:case 1:Ie.b=X(Te,3)+2,Ve=as(Ee(Ie.Ea,Ie.b),Ee(Ie.nc,Ie.b),0,Ae,Ie.K),Ie.K=Ie.K[0];break;case 3:var Je,Ge=X(Te,8)+1,yt=16<Ge?0:4<Ge?1:2<Ge?2:3;if(ae[0]=Ee(Ie.Ea,yt),Ie.b=yt,Je=Ve=as(Ge,1,0,Ae,Ie.K)){var ht,Yt=Ge,mt=Ie,on=1<<(8>>mt.b),Zn=o(on);if(Zn==null)Je=0;else{var Kt=mt.K[0],ft=mt.w;for(Zn[0]=mt.K[0][0],ht=1;ht<1*Yt;++ht)Zn[ht]=tt(Kt[ft+ht],Zn[ht-1]);for(;ht<4*on;++ht)Zn[ht]=0;mt.K[0]=null,mt.K[0]=Zn,Je=1}}Ve=Je;break;case 2:break;default:e(0)}Y=Ve}}if(Z=Z[0],te=te[0],Y&&X(ne,1)&&!(Y=1<=(ke=X(ne,4))&&11>=ke)){O.a=3;break e}var it;if(it=Y)t:{var rr,qt,en,Ln=O,Fr=Z,li=te,Pn=ke,Tr=A,mi=Ln.m,Er=Ln.s,rn=[null],_n=1,ir=0,kn=ps[Pn];n:for(;;){if(Tr&&X(mi,1)){var Br=X(mi,3)+2,sr=Ee(Fr,Br),wn=Ee(li,Br),Sr=sr*wn;if(!as(sr,wn,0,Ln,rn))break n;for(rn=rn[0],Er.xc=Br,rr=0;rr<Sr;++rr){var Dn=rn[rr]>>8&65535;rn[rr]=Dn,Dn>=_n&&(_n=Dn+1)}}if(mi.h)break n;for(qt=0;5>qt;++qt){var kr=$o[qt];!qt&&0<Pn&&(kr+=1<<Pn),ir<kr&&(ir=kr)}var Or=h(_n*kn,H),Rn=_n,yn=h(Rn,ue);if(yn==null)var gi=null;else e(65536>=Rn),gi=yn;var dr=o(ir);if(gi==null||dr==null||Or==null){Ln.a=1;break n}var kt=Or;for(rr=en=0;rr<_n;++rr){var Dt=gi[rr],Sn=Dt.G,Vi=Dt.H,bs=0,Ti=1,Mr=0;for(qt=0;5>qt;++qt){kr=$o[qt],Sn[qt]=kt,Vi[qt]=en,!qt&&0<Pn&&(kr+=1<<Pn);i:{var _o,wo=kr,Fu=Ln,Un=dr,Wh=kt,Xh=en,Bu=0,Ba=Fu.m,Up=X(Ba,1);if(a(Un,0,0,wo),Up){var Zh=X(Ba,1)+1,$h=X(Ba,1),qu=X(Ba,$h==0?1:8);Un[qu]=1,Zh==2&&(Un[qu=X(Ba,8)]=1);var Xr=1}else{var pr=o(19),Yc=X(Ba,4)+4;if(19<Yc){Fu.a=3;var So=0;break i}for(_o=0;_o<Yc;++_o)pr[Uc[_o]]=X(Ba,3);var ql=void 0,Jo=void 0,ha=Fu,zu=pr,zl=wo,Pu=Un,Uu=0,qa=ha.m,Kh=8,Qh=h(128,H);r:for(;B(Qh,0,7,zu,19);){if(X(qa,1)){var Sd=2+2*X(qa,3);if((ql=2+X(qa,Sd))>zl)break r}else ql=zl;for(Jo=0;Jo<zl&&ql--;){me(qa);var Jh=Qh[0+(127&ee(qa))];se(qa,qa.u+Jh.g);var Ao=Jh.value;if(16>Ao)Pu[Jo++]=Ao,Ao!=0&&(Kh=Ao);else{var Ad=Ao==16,Nd=Ao-16,Cd=Il[Nd],ef=X(qa,fs[Nd])+Cd;if(Jo+ef>zl)break r;for(var Td=Ad?Kh:0;0<ef--;)Pu[Jo++]=Td}}Uu=1;break r}Uu||(ha.a=3),Xr=Uu}(Xr=Xr&&!Ba.h)&&(Bu=B(Wh,Xh,8,Un,wo)),Xr&&Bu!=0?So=Bu:(Fu.a=3,So=0)}if(So==0)break n;if(Ti&&Lu[qt]==1&&(Ti=kt[en].g==0),bs+=kt[en].g,en+=So,3>=qt){var el,Hu=dr[0];for(el=1;el<kr;++el)dr[el]>Hu&&(Hu=dr[el]);Mr+=Hu}}if(Dt.nd=Ti,Dt.Qb=0,Ti&&(Dt.qb=(Sn[3][Vi[3]+0].value<<24|Sn[1][Vi[1]+0].value<<16|Sn[2][Vi[2]+0].value)>>>0,bs==0&&256>Sn[0][Vi[0]+0].value&&(Dt.Qb=1,Dt.qb+=Sn[0][Vi[0]+0].value<<8)),Dt.jc=!Dt.Qb&&6>Mr,Dt.jc){var Wc,fa=Dt;for(Wc=0;Wc<fo;++Wc){var za=Wc,Pa=fa.pd[za],Gu=fa.G[0][fa.H[0]+za];256<=Gu.value?(Pa.g=Gu.g+256,Pa.value=Gu.value):(Pa.g=0,Pa.value=0,za>>=hn(Gu,8,Pa),za>>=hn(fa.G[1][fa.H[1]+za],16,Pa),za>>=hn(fa.G[2][fa.H[2]+za],0,Pa),hn(fa.G[3][fa.H[3]+za],24,Pa))}}}Er.vc=rn,Er.Wb=_n,Er.Ya=gi,Er.yc=Or,it=1;break t}it=0}if(!(Y=it)){O.a=3;break e}if(0<ke){if(oe.ua=1<<ke,!G(oe.Wa,ke)){O.a=1,Y=0;break e}}else oe.ua=0;var Yu=O,tl=Z,Ed=te,Pl=Yu.s,Ul=Pl.xc;if(Yu.c=tl,Yu.i=Ed,Pl.md=Ee(tl,Ul),Pl.wc=Ul==0?-1:(1<<Ul)-1,A){O.xb=go;break e}if((ve=o(Z*te))==null){O.a=1,Y=0;break e}Y=(Y=Hr(O,ve,0,Z,te,te,null))&&!ne.h;break e}return Y?(z!=null?z[0]=ve:(e(ve==null),e(A)),O.$=0,A||Gr(oe)):Gr(oe),Y}function Di(p,b){var A=p.c*p.i,O=A+b+16*b;return e(p.c<=b),p.V=o(O),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+b,1)}function Os(p,b){var A=p.C,O=b-A,z=p.V,Y=p.Ba+p.c*A;for(e(b<=p.l.o);0<O;){var Z=16<O?16:O,te=p.l.ma,ne=p.l.width,oe=ne*Z,ve=te.ca,ke=te.tb+ne*A,ae=p.Ta,ye=p.Ua;Ar(p,Z,z,Y),Ji(ae,ye,ve,ke,oe),Cn(te,A,A+Z,ve,ke,ne),O-=Z,z+=Z*p.c,A+=Z}e(A==b),p.C=p.Ma=b}function ji(){this.ub=this.yd=this.td=this.Rb=0}function Gi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Qs(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Yi(){this.Yb=(function(){var p=[];return(function b(A,O,z){for(var Y=z[O],Z=0;Z<Y&&(A.push(z.length>O+1?[]:0),!(z.length<O+1));Z++)b(A[Z],O+1,z)})(p,0,[3,11]),p})()}function tr(){this.jb=o(3),this.Wc=c([4,8],Yi),this.Xc=c([4,17],Yi)}function Fo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function _i(){this.ld=this.La=this.dd=this.tc=0}function Wi(){this.Na=this.la=0}function Ms(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function _c(){this.uc=this.M=this.Nb=0,this.wa=Array(new _i),this.Y=0,this.ya=Array(new xc),this.aa=0,this.l=new ya}function wc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function mu(){this.cb=this.a=0,this.sc="",this.m=new k,this.Od=new ji,this.Kc=new Gi,this.ed=new Fo,this.Qa=new Qs,this.Ic=this.$c=this.Aa=0,this.D=new _c,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,k),this.ia=0,this.pb=h(4,Ms),this.Pa=new tr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wc),this.Hd=0,this.rb=Array(new Wi),this.sb=0,this.wa=Array(new _i),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xc),this.L=this.aa=0,this.gd=c([4,2],_i),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xi(p,b){return 0>p?0:p>b?b:p}function ya(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ls(){var p=new mu;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,es||(es=lo)),p}function Tn(p,b,A){return p.a==0&&(p.a=b,p.sc=A,p.cb=0),0}function Sc(p,b,A){return 3<=A&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function Js(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return Tn(p,2,"null VP8Io passed to VP8GetHeaders()");var A=b.data,O=b.w,z=b.ha;if(4>z)return Tn(p,7,"Truncated header.");var Y=A[O+0]|A[O+1]<<8|A[O+2]<<16,Z=p.Od;if(Z.Rb=!(1&Y),Z.td=Y>>1&7,Z.yd=Y>>4&1,Z.ub=Y>>5,3<Z.td)return Tn(p,3,"Incorrect keyframe parameters.");if(!Z.yd)return Tn(p,4,"Frame not displayable.");O+=3,z-=3;var te=p.Kc;if(Z.Rb){if(7>z)return Tn(p,7,"cannot parse picture header");if(!Sc(A,O,z))return Tn(p,3,"Bad code word");te.c=16383&(A[O+4]<<8|A[O+3]),te.Td=A[O+4]>>6,te.i=16383&(A[O+6]<<8|A[O+5]),te.Ud=A[O+6]>>6,O+=7,z-=7,p.za=te.c+15>>4,p.Ub=te.i+15>>4,b.width=te.c,b.height=te.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((Y=p.Pa).jb,0,255,Y.jb.length),e((Y=p.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,a(Y.Zb,0,0,Y.Zb.length),a(Y.Lb,0,0,Y.Lb)}if(Z.ub>z)return Tn(p,7,"bad partition length");J(Y=p.m,A,O,Z.ub),O+=Z.ub,z-=Z.ub,Z.Rb&&(te.Ld=_e(Y),te.Kd=_e(Y)),te=p.Qa;var ne,oe=p.Pa;if(e(Y!=null),e(te!=null),te.Cb=_e(Y),te.Cb){if(te.Bb=_e(Y),_e(Y)){for(te.Fb=_e(Y),ne=0;4>ne;++ne)te.Zb[ne]=_e(Y)?le(Y,7):0;for(ne=0;4>ne;++ne)te.Lb[ne]=_e(Y)?le(Y,6):0}if(te.Bb)for(ne=0;3>ne;++ne)oe.jb[ne]=_e(Y)?ie(Y,8):255}else te.Bb=0;if(Y.Ka)return Tn(p,3,"cannot parse segment header");if((te=p.ed).zd=_e(Y),te.Tb=ie(Y,6),te.wb=ie(Y,3),te.Pc=_e(Y),te.Pc&&_e(Y)){for(oe=0;4>oe;++oe)_e(Y)&&(te.vd[oe]=le(Y,6));for(oe=0;4>oe;++oe)_e(Y)&&(te.od[oe]=le(Y,6))}if(p.L=te.Tb==0?0:te.zd?1:2,Y.Ka)return Tn(p,3,"cannot parse filter header");var ve=z;if(z=ne=O,O=ne+ve,te=ve,p.Xb=(1<<ie(p.m,2))-1,ve<3*(oe=p.Xb))A=7;else{for(ne+=3*oe,te-=3*oe,ve=0;ve<oe;++ve){var ke=A[z+0]|A[z+1]<<8|A[z+2]<<16;ke>te&&(ke=te),J(p.Jc[+ve],A,ne,ke),ne+=ke,te-=ke,z+=3}J(p.Jc[+oe],A,ne,te),A=ne<O?0:5}if(A!=0)return Tn(p,A,"cannot parse partitions");for(A=ie(ne=p.m,7),z=_e(ne)?le(ne,4):0,O=_e(ne)?le(ne,4):0,te=_e(ne)?le(ne,4):0,oe=_e(ne)?le(ne,4):0,ne=_e(ne)?le(ne,4):0,ve=p.Qa,ke=0;4>ke;++ke){if(ve.Cb){var ae=ve.Zb[ke];ve.Fb||(ae+=A)}else{if(0<ke){p.pb[ke]=p.pb[0];continue}ae=A}var ye=p.pb[ke];ye.Sc[0]=ms[Xi(ae+z,127)],ye.Sc[1]=gs[Xi(ae+0,127)],ye.Eb[0]=2*ms[Xi(ae+O,127)],ye.Eb[1]=101581*gs[Xi(ae+te,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=ms[Xi(ae+oe,117)],ye.Qc[1]=gs[Xi(ae+ne,127)],ye.lc=ae+ne}if(!Z.Rb)return Tn(p,4,"Not a key frame.");for(_e(Y),Z=p.Pa,A=0;4>A;++A){for(z=0;8>z;++z)for(O=0;3>O;++O)for(te=0;11>te;++te)oe=Ne(Y,Xn[A][z][O][te])?ie(Y,8):_d[A][z][O][te],Z.Wc[A][z].Yb[O][te]=oe;for(z=0;17>z;++z)Z.Xc[A][z]=Z.Wc[A][ln[z]]}return p.kc=_e(Y),p.kc&&(p.Bd=ie(Y,8)),p.cb=1}function lo(p,b,A,O,z,Y,Z){var te=b[z].Yb[A];for(A=0;16>z;++z){if(!Ne(p,te[A+0]))return z;for(;!Ne(p,te[A+1]);)if(te=b[++z].Yb[0],A=0,z==16)return 16;var ne=b[z+1].Yb;if(Ne(p,te[A+2])){var oe=p,ve=0;if(Ne(oe,(ae=te)[(ke=A)+3]))if(Ne(oe,ae[ke+6])){for(te=0,ke=2*(ve=Ne(oe,ae[ke+8]))+(ae=Ne(oe,ae[ke+9+ve])),ve=0,ae=xd[ke];ae[te];++te)ve+=ve+Ne(oe,ae[te]);ve+=3+(8<<ke)}else Ne(oe,ae[ke+7])?(ve=7+2*Ne(oe,165),ve+=Ne(oe,145)):ve=5+Ne(oe,159);else ve=Ne(oe,ae[ke+4])?3+Ne(oe,ae[ke+5]):2;te=ne[2]}else ve=1,te=ne[1];ne=Z+Hh[z],0>(oe=p).b&&de(oe);var ke,ae=oe.b,ye=(ke=oe.Ca>>1)-(oe.I>>ae)>>31;--oe.b,oe.Ca+=ye,oe.Ca|=1,oe.I-=(ke+1&ye)<<ae,Y[ne]=((ve^ye)-ye)*O[(0<z)+0]}return 16}function Ac(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function wi(p,b,A,O,z){z=p[b+A+32*O]+(z>>3),p[b+A+32*O]=-256&z?0>z?0:255:z}function Ir(p,b,A,O,z,Y){wi(p,b,0,A,O+z),wi(p,b,1,A,O+Y),wi(p,b,2,A,O-Y),wi(p,b,3,A,O-z)}function Nr(p){return(20091*p>>16)+p}function Sl(p,b,A,O){var z,Y=0,Z=o(16);for(z=0;4>z;++z){var te=p[b+0]+p[b+8],ne=p[b+0]-p[b+8],oe=(35468*p[b+4]>>16)-Nr(p[b+12]),ve=Nr(p[b+4])+(35468*p[b+12]>>16);Z[Y+0]=te+ve,Z[Y+1]=ne+oe,Z[Y+2]=ne-oe,Z[Y+3]=te-ve,Y+=4,b++}for(z=Y=0;4>z;++z)te=(p=Z[Y+0]+4)+Z[Y+8],ne=p-Z[Y+8],oe=(35468*Z[Y+4]>>16)-Nr(Z[Y+12]),wi(A,O,0,0,te+(ve=Nr(Z[Y+4])+(35468*Z[Y+12]>>16))),wi(A,O,1,0,ne+oe),wi(A,O,2,0,ne-oe),wi(A,O,3,0,te-ve),Y++,O+=32}function gu(p,b,A,O){var z=p[b+0]+4,Y=35468*p[b+4]>>16,Z=Nr(p[b+4]),te=35468*p[b+1]>>16;Ir(A,O,0,z+Z,p=Nr(p[b+1]),te),Ir(A,O,1,z+Y,p,te),Ir(A,O,2,z-Y,p,te),Ir(A,O,3,z-Z,p,te)}function Nc(p,b,A,O,z){Sl(p,b,A,O),z&&Sl(p,b+16,A,O+4)}function Si(p,b,A,O){Ia(p,b+0,A,O,1),Ia(p,b+32,A,O+128,1)}function Cc(p,b,A,O){var z;for(p=p[b+0]+4,z=0;4>z;++z)for(b=0;4>b;++b)wi(A,O,b,z,p)}function Tc(p,b,A,O){p[b+0]&&En(p,b+0,A,O),p[b+16]&&En(p,b+16,A,O+4),p[b+32]&&En(p,b+32,A,O+128),p[b+48]&&En(p,b+48,A,O+128+4)}function Ds(p,b,A,O){var z,Y=o(16);for(z=0;4>z;++z){var Z=p[b+0+z]+p[b+12+z],te=p[b+4+z]+p[b+8+z],ne=p[b+4+z]-p[b+8+z],oe=p[b+0+z]-p[b+12+z];Y[0+z]=Z+te,Y[8+z]=Z-te,Y[4+z]=oe+ne,Y[12+z]=oe-ne}for(z=0;4>z;++z)Z=(p=Y[0+4*z]+3)+Y[3+4*z],te=Y[1+4*z]+Y[2+4*z],ne=Y[1+4*z]-Y[2+4*z],oe=p-Y[3+4*z],A[O+0]=Z+te>>3,A[O+16]=oe+ne>>3,A[O+32]=Z-te>>3,A[O+48]=oe-ne>>3,O+=64}function Bo(p,b,A){var O,z=b-32,Y=di,Z=255-p[z-1];for(O=0;O<A;++O){var te,ne=Y,oe=Z+p[b-1];for(te=0;te<A;++te)p[b+te]=ne[oe+p[z+te]];b+=32}}function vu(p,b){Bo(p,b,4)}function bu(p,b){Bo(p,b,8)}function Ec(p,b){Bo(p,b,16)}function kc(p,b){var A;for(A=0;16>A;++A)i(p,b+32*A,p,b-32,16)}function yu(p,b){var A;for(A=16;0<A;--A)a(p,b,p[b-1],16),b+=32}function Ri(p,b,A){var O;for(O=0;16>O;++O)a(b,A+32*O,p,16)}function js(p,b){var A,O=16;for(A=0;16>A;++A)O+=p[b-1+32*A]+p[b+A-32];Ri(O>>5,p,b)}function xa(p,b){var A,O=8;for(A=0;16>A;++A)O+=p[b-1+32*A];Ri(O>>4,p,b)}function qo(p,b){var A,O=8;for(A=0;16>A;++A)O+=p[b+A-32];Ri(O>>4,p,b)}function co(p,b){Ri(128,p,b)}function Bt(p,b,A){return p+2*b+A+2>>2}function xu(p,b){var A,O=b-32;for(O=new Uint8Array([Bt(p[O-1],p[O+0],p[O+1]),Bt(p[O+0],p[O+1],p[O+2]),Bt(p[O+1],p[O+2],p[O+3]),Bt(p[O+2],p[O+3],p[O+4])]),A=0;4>A;++A)i(p,b+32*A,O,0,O.length)}function Oc(p,b){var A=p[b-1],O=p[b-1+32],z=p[b-1+64],Y=p[b-1+96];Ce(p,b+0,16843009*Bt(p[b-1-32],A,O)),Ce(p,b+32,16843009*Bt(A,O,z)),Ce(p,b+64,16843009*Bt(O,z,Y)),Ce(p,b+96,16843009*Bt(z,Y,Y))}function _u(p,b){var A,O=4;for(A=0;4>A;++A)O+=p[b+A-32]+p[b-1+32*A];for(O>>=3,A=0;4>A;++A)a(p,b+32*A,O,4)}function Zi(p,b){var A=p[b-1+0],O=p[b-1+32],z=p[b-1+64],Y=p[b-1-32],Z=p[b+0-32],te=p[b+1-32],ne=p[b+2-32],oe=p[b+3-32];p[b+0+96]=Bt(O,z,p[b-1+96]),p[b+1+96]=p[b+0+64]=Bt(A,O,z),p[b+2+96]=p[b+1+64]=p[b+0+32]=Bt(Y,A,O),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=Bt(Z,Y,A),p[b+3+64]=p[b+2+32]=p[b+1+0]=Bt(te,Z,Y),p[b+3+32]=p[b+2+0]=Bt(ne,te,Z),p[b+3+0]=Bt(oe,ne,te)}function ti(p,b){var A=p[b+1-32],O=p[b+2-32],z=p[b+3-32],Y=p[b+4-32],Z=p[b+5-32],te=p[b+6-32],ne=p[b+7-32];p[b+0+0]=Bt(p[b+0-32],A,O),p[b+1+0]=p[b+0+32]=Bt(A,O,z),p[b+2+0]=p[b+1+32]=p[b+0+64]=Bt(O,z,Y),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=Bt(z,Y,Z),p[b+3+32]=p[b+2+64]=p[b+1+96]=Bt(Y,Z,te),p[b+3+64]=p[b+2+96]=Bt(Z,te,ne),p[b+3+96]=Bt(te,ne,ne)}function Mc(p,b){var A=p[b-1+0],O=p[b-1+32],z=p[b-1+64],Y=p[b-1-32],Z=p[b+0-32],te=p[b+1-32],ne=p[b+2-32],oe=p[b+3-32];p[b+0+0]=p[b+1+64]=Y+Z+1>>1,p[b+1+0]=p[b+2+64]=Z+te+1>>1,p[b+2+0]=p[b+3+64]=te+ne+1>>1,p[b+3+0]=ne+oe+1>>1,p[b+0+96]=Bt(z,O,A),p[b+0+64]=Bt(O,A,Y),p[b+0+32]=p[b+1+96]=Bt(A,Y,Z),p[b+1+32]=p[b+2+96]=Bt(Y,Z,te),p[b+2+32]=p[b+3+96]=Bt(Z,te,ne),p[b+3+32]=Bt(te,ne,oe)}function zo(p,b){var A=p[b+0-32],O=p[b+1-32],z=p[b+2-32],Y=p[b+3-32],Z=p[b+4-32],te=p[b+5-32],ne=p[b+6-32],oe=p[b+7-32];p[b+0+0]=A+O+1>>1,p[b+1+0]=p[b+0+64]=O+z+1>>1,p[b+2+0]=p[b+1+64]=z+Y+1>>1,p[b+3+0]=p[b+2+64]=Y+Z+1>>1,p[b+0+32]=Bt(A,O,z),p[b+1+32]=p[b+0+96]=Bt(O,z,Y),p[b+2+32]=p[b+1+96]=Bt(z,Y,Z),p[b+3+32]=p[b+2+96]=Bt(Y,Z,te),p[b+3+64]=Bt(Z,te,ne),p[b+3+96]=Bt(te,ne,oe)}function $i(p,b){var A=p[b-1+0],O=p[b-1+32],z=p[b-1+64],Y=p[b-1+96];p[b+0+0]=A+O+1>>1,p[b+2+0]=p[b+0+32]=O+z+1>>1,p[b+2+32]=p[b+0+64]=z+Y+1>>1,p[b+1+0]=Bt(A,O,z),p[b+3+0]=p[b+1+32]=Bt(O,z,Y),p[b+3+32]=p[b+1+64]=Bt(z,Y,Y),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=Y}function Po(p,b){var A=p[b-1+0],O=p[b-1+32],z=p[b-1+64],Y=p[b-1+96],Z=p[b-1-32],te=p[b+0-32],ne=p[b+1-32],oe=p[b+2-32];p[b+0+0]=p[b+2+32]=A+Z+1>>1,p[b+0+32]=p[b+2+64]=O+A+1>>1,p[b+0+64]=p[b+2+96]=z+O+1>>1,p[b+0+96]=Y+z+1>>1,p[b+3+0]=Bt(te,ne,oe),p[b+2+0]=Bt(Z,te,ne),p[b+1+0]=p[b+3+32]=Bt(A,Z,te),p[b+1+32]=p[b+3+64]=Bt(O,A,Z),p[b+1+64]=p[b+3+96]=Bt(z,O,A),p[b+1+96]=Bt(Y,z,O)}function ea(p,b){var A;for(A=0;8>A;++A)i(p,b+32*A,p,b-32,8)}function wu(p,b){var A;for(A=0;8>A;++A)a(p,b,p[b-1],8),b+=32}function os(p,b,A){var O;for(O=0;8>O;++O)a(b,A+32*O,p,8)}function Al(p,b){var A,O=8;for(A=0;8>A;++A)O+=p[b+A-32]+p[b-1+32*A];os(O>>4,p,b)}function Nl(p,b){var A,O=4;for(A=0;8>A;++A)O+=p[b+A-32];os(O>>3,p,b)}function Yr(p,b){var A,O=4;for(A=0;8>A;++A)O+=p[b-1+32*A];os(O>>3,p,b)}function ta(p,b){os(128,p,b)}function ls(p,b,A){var O=p[b-A],z=p[b+0],Y=3*(z-O)+Va[1020+p[b-2*A]-p[b+A]],Z=qc[112+(Y+4>>3)];p[b-A]=di[255+O+qc[112+(Y+3>>3)]],p[b+0]=di[255+z-Z]}function _a(p,b,A,O){var z=p[b+0],Y=p[b+A];return ii[255+p[b-2*A]-p[b-A]]>O||ii[255+Y-z]>O}function Cl(p,b,A,O){return 4*ii[255+p[b-A]-p[b+0]]+ii[255+p[b-2*A]-p[b+A]]<=O}function Uo(p,b,A,O,z){var Y=p[b-3*A],Z=p[b-2*A],te=p[b-A],ne=p[b+0],oe=p[b+A],ve=p[b+2*A],ke=p[b+3*A];return 4*ii[255+te-ne]+ii[255+Z-oe]>O?0:ii[255+p[b-4*A]-Y]<=z&&ii[255+Y-Z]<=z&&ii[255+Z-te]<=z&&ii[255+ke-ve]<=z&&ii[255+ve-oe]<=z&&ii[255+oe-ne]<=z}function wa(p,b,A,O){var z=2*O+1;for(O=0;16>O;++O)Cl(p,b+O,A,z)&&ls(p,b+O,A)}function Sa(p,b,A,O){var z=2*O+1;for(O=0;16>O;++O)Cl(p,b+O*A,1,z)&&ls(p,b+O*A,1)}function Ho(p,b,A,O){var z;for(z=3;0<z;--z)wa(p,b+=4*A,A,O)}function Lc(p,b,A,O){var z;for(z=3;0<z;--z)Sa(p,b+=4,A,O)}function Aa(p,b,A,O,z,Y,Z,te){for(Y=2*Y+1;0<z--;){if(Uo(p,b,A,Y,Z))if(_a(p,b,A,te))ls(p,b,A);else{var ne=p,oe=b,ve=A,ke=ne[oe-2*ve],ae=ne[oe-ve],ye=ne[oe+0],Ae=ne[oe+ve],Ve=ne[oe+2*ve],Te=27*(Pe=Va[1020+3*(ye-ae)+Va[1020+ke-Ae]])+63>>7,Ie=18*Pe+63>>7,Pe=9*Pe+63>>7;ne[oe-3*ve]=di[255+ne[oe-3*ve]+Pe],ne[oe-2*ve]=di[255+ke+Ie],ne[oe-ve]=di[255+ae+Te],ne[oe+0]=di[255+ye-Te],ne[oe+ve]=di[255+Ae-Ie],ne[oe+2*ve]=di[255+Ve-Pe]}b+=O}}function Na(p,b,A,O,z,Y,Z,te){for(Y=2*Y+1;0<z--;){if(Uo(p,b,A,Y,Z))if(_a(p,b,A,te))ls(p,b,A);else{var ne=p,oe=b,ve=A,ke=ne[oe-ve],ae=ne[oe+0],ye=ne[oe+ve],Ae=qc[112+(4+(Ve=3*(ae-ke))>>3)],Ve=qc[112+(Ve+3>>3)],Te=Ae+1>>1;ne[oe-2*ve]=di[255+ne[oe-2*ve]+Te],ne[oe-ve]=di[255+ke+Ve],ne[oe+0]=di[255+ae-Ae],ne[oe+ve]=di[255+ye-Te]}b+=O}}function Su(p,b,A,O,z,Y){Aa(p,b,A,1,16,O,z,Y)}function Ca(p,b,A,O,z,Y){Aa(p,b,1,A,16,O,z,Y)}function Au(p,b,A,O,z,Y){var Z;for(Z=3;0<Z;--Z)Na(p,b+=4*A,A,1,16,O,z,Y)}function _(p,b,A,O,z,Y){var Z;for(Z=3;0<Z;--Z)Na(p,b+=4,1,A,16,O,z,Y)}function q(p,b,A,O,z,Y,Z,te){Aa(p,b,z,1,8,Y,Z,te),Aa(A,O,z,1,8,Y,Z,te)}function ce(p,b,A,O,z,Y,Z,te){Aa(p,b,1,z,8,Y,Z,te),Aa(A,O,1,z,8,Y,Z,te)}function ge(p,b,A,O,z,Y,Z,te){Na(p,b+4*z,z,1,8,Y,Z,te),Na(A,O+4*z,z,1,8,Y,Z,te)}function we(p,b,A,O,z,Y,Z,te){Na(p,b+4,1,z,8,Y,Z,te),Na(A,O+4,1,z,8,Y,Z,te)}function ze(){this.ba=new pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new It,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function At(){this.ua=0,this.Wa=new rt,this.vb=new rt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new H}function Ut(){this.xb=this.a=0,this.l=new ya,this.ca=new pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new At,this.ab=0,this.gc=h(4,vt),this.Oc=0}function $t(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ya,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vn(p,b,A,O,z,Y,Z){for(p=p==null?0:p[b+0],b=0;b<Z;++b)z[Y+b]=p+A[O+b]&255,p=z[Y+b]}function nr(p,b,A,O,z,Y,Z){var te;if(p==null)vn(null,null,A,O,z,Y,Z);else for(te=0;te<Z;++te)z[Y+te]=p[b+te]+A[O+te]&255}function yr(p,b,A,O,z,Y,Z){if(p==null)vn(null,null,A,O,z,Y,Z);else{var te,ne=p[b+0],oe=ne,ve=ne;for(te=0;te<Z;++te)oe=ve+(ne=p[b+te])-oe,ve=A[O+te]+(-256&oe?0>oe?0:255:oe)&255,oe=ne,z[Y+te]=ve}}function qn(p,b,A,O){var z=b.width,Y=b.o;if(e(p!=null&&b!=null),0>A||0>=O||A+O>Y)return null;if(!p.Cc){if(p.ga==null){var Z;if(p.ga=new $t,(Z=p.ga==null)||(Z=b.width*b.o,e(p.Gb.length==0),p.Gb=o(Z),p.Uc=0,p.Gb==null?Z=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,Z=1),Z=!Z),!Z){Z=p.ga;var te=p.Fa,ne=p.P,oe=p.qc,ve=p.mb,ke=p.nb,ae=ne+1,ye=oe-1,Ae=Z.l;if(e(te!=null&&ve!=null&&b!=null),Fa[0]=null,Fa[1]=vn,Fa[2]=nr,Fa[3]=yr,Z.ca=ve,Z.tb=ke,Z.c=b.width,Z.i=b.height,e(0<Z.c&&0<Z.i),1>=oe)b=0;else if(Z.$a=3&te[ne+0],Z.Z=te[ne+0]>>2&3,Z.Lc=te[ne+0]>>4&3,ne=te[ne+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||ne)b=0;else if(Ae.put=$e,Ae.ac=Ke,Ae.bc=Mt,Ae.ma=Z,Ae.width=b.width,Ae.height=b.height,Ae.Da=b.Da,Ae.v=b.v,Ae.va=b.va,Ae.j=b.j,Ae.o=b.o,Z.$a)e:{e(Z.$a==1),b=Ks();t:for(;;){if(b==null){b=0;break e}if(e(Z!=null),Z.mc=b,b.c=Z.c,b.i=Z.i,b.l=Z.l,b.l.ma=Z,b.l.width=Z.c,b.l.height=Z.i,b.a=0,fe(b.m,te,ae,ye),!as(Z.c,Z.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&fn(b.s)?(Z.ic=1,te=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(te),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(Z.ic=0,b=Di(b,Z.c)),!b))break t;b=1;break e}Z.mc=null,b=0}else b=ye>=Z.c*Z.i;Z=!b}if(Z)return null;p.ga.Lc!=1?p.Ga=0:O=Y-A}e(p.ga!=null),e(A+O<=Y);e:{if(b=(te=p.ga).c,Y=te.l.o,te.$a==0){if(ae=p.rc,ye=p.Vc,Ae=p.Fa,ne=p.P+1+A*b,oe=p.mb,ve=p.nb+A*b,e(ne<=p.P+p.qc),te.Z!=0)for(e(Fa[te.Z]!=null),Z=0;Z<O;++Z)Fa[te.Z](ae,ye,Ae,ne,oe,ve,b),ae=oe,ye=ve,ve+=b,ne+=b;else for(Z=0;Z<O;++Z)i(oe,ve,Ae,ne,b),ae=oe,ye=ve,ve+=b,ne+=b;p.rc=ae,p.Vc=ye}else{if(e(te.mc!=null),b=A+O,e((Z=te.mc)!=null),e(b<=Z.i),Z.C>=b)b=1;else if(te.ic||Rs(),te.ic){te=Z.V,ae=Z.Ba,ye=Z.c;var Ve=Z.i,Te=(Ae=1,ne=Z.$/ye,oe=Z.$%ye,ve=Z.m,ke=Z.s,Z.$),Ie=ye*Ve,Pe=ye*b,Je=ke.wc,Ge=Te<Pe?an(ke,oe,ne):null;e(Te<=Ie),e(b<=Ve),e(fn(ke));t:for(;;){for(;!ve.h&&Te<Pe;){if(oe&Je||(Ge=an(ke,oe,ne)),e(Ge!=null),me(ve),256>(Ve=Zt(Ge.G[0],Ge.H[0],ve)))te[ae+Te]=Ve,++Te,++oe>=ye&&(oe=0,++ne<=b&&!(ne%16)&&br(Z,ne));else{if(!(280>Ve)){Ae=0;break t}Ve=Vt(Ve-256,ve);var yt,ht=Zt(Ge.G[4],Ge.H[4],ve);if(me(ve),!(Te>=(ht=tn(ye,ht=Vt(ht,ve)))&&Ie-Te>=Ve)){Ae=0;break t}for(yt=0;yt<Ve;++yt)te[ae+Te+yt]=te[ae+Te+yt-ht];for(Te+=Ve,oe+=Ve;oe>=ye;)oe-=ye,++ne<=b&&!(ne%16)&&br(Z,ne);Te<Pe&&oe&Je&&(Ge=an(ke,oe,ne))}e(ve.h==re(ve))}br(Z,ne>b?b:ne);break t}!Ae||ve.h&&Te<Ie?(Ae=0,Z.a=ve.h?5:3):Z.$=Te,b=Ae}else b=Hr(Z,Z.V,Z.Ba,Z.c,Z.i,b,Os);if(!b){O=0;break e}}A+O>=Y&&(p.Cc=1),O=1}if(!O)return null;if(p.Cc&&((O=p.ga)!=null&&(O.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*z}function Vr(p,b,A,O,z,Y){for(;0<z--;){var Z,te=p,ne=b+(A?1:0),oe=p,ve=b+(A?0:3);for(Z=0;Z<O;++Z){var ke=oe[ve+4*Z];ke!=255&&(ke*=32897,te[ne+4*Z+0]=te[ne+4*Z+0]*ke>>23,te[ne+4*Z+1]=te[ne+4*Z+1]*ke>>23,te[ne+4*Z+2]=te[ne+4*Z+2]*ke>>23)}b+=Y}}function Cr(p,b,A,O,z){for(;0<O--;){var Y;for(Y=0;Y<A;++Y){var Z=p[b+2*Y+0],te=15&(oe=p[b+2*Y+1]),ne=4369*te,oe=(240&oe|oe>>4)*ne>>16;p[b+2*Y+0]=(240&Z|Z>>4)*ne>>16&240|(15&Z|Z<<4)*ne>>16>>4&15,p[b+2*Y+1]=240&oe|te}b+=z}}function ni(p,b,A,O,z,Y,Z,te){var ne,oe,ve=255;for(oe=0;oe<z;++oe){for(ne=0;ne<O;++ne){var ke=p[b+ne];Y[Z+4*ne]=ke,ve&=ke}b+=A,Z+=te}return ve!=255}function Ta(p,b,A,O,z){var Y;for(Y=0;Y<z;++Y)A[O+Y]=p[b+Y]>>8}function Rs(){Xo=Vr,us=Cr,Vc=ni,Ji=Ta}function Ea(p,b,A){F[p]=function(O,z,Y,Z,te,ne,oe,ve,ke,ae,ye,Ae,Ve,Te,Ie,Pe,Je){var Ge,yt=Je-1>>1,ht=te[ne+0]|oe[ve+0]<<16,Yt=ke[ae+0]|ye[Ae+0]<<16;e(O!=null);var mt=3*ht+Yt+131074>>2;for(b(O[z+0],255&mt,mt>>16,Ve,Te),Y!=null&&(mt=3*Yt+ht+131074>>2,b(Y[Z+0],255&mt,mt>>16,Ie,Pe)),Ge=1;Ge<=yt;++Ge){var on=te[ne+Ge]|oe[ve+Ge]<<16,Zn=ke[ae+Ge]|ye[Ae+Ge]<<16,Kt=ht+on+Yt+Zn+524296,ft=Kt+2*(on+Yt)>>3;mt=ft+ht>>1,ht=(Kt=Kt+2*(ht+Zn)>>3)+on>>1,b(O[z+2*Ge-1],255&mt,mt>>16,Ve,Te+(2*Ge-1)*A),b(O[z+2*Ge-0],255&ht,ht>>16,Ve,Te+(2*Ge-0)*A),Y!=null&&(mt=Kt+Yt>>1,ht=ft+Zn>>1,b(Y[Z+2*Ge-1],255&mt,mt>>16,Ie,Pe+(2*Ge-1)*A),b(Y[Z+2*Ge+0],255&ht,ht>>16,Ie,Pe+(2*Ge+0)*A)),ht=on,Yt=Zn}1&Je||(mt=3*ht+Yt+131074>>2,b(O[z+Je-1],255&mt,mt>>16,Ve,Te+(Je-1)*A),Y!=null&&(mt=3*Yt+ht+131074>>2,b(Y[Z+Je-1],255&mt,mt>>16,Ie,Pe+(Je-1)*A)))}}function Dc(){ai[Eu]=Ko,ai[pi]=Vl,ai[ku]=Yh,ai[hs]=ju,ai[zc]=vo,ai[jl]=ua,ai[po]=bo,ai[Pc]=Vl,ai[Ou]=ju,ai[Rl]=vo,ai[Mu]=ua}function Tl(p){return p&-16384?0>p?0:255:p>>Ru}function na(p,b){return Tl((19077*p>>8)+(26149*b>>8)-14234)}function Is(p,b,A){return Tl((19077*p>>8)-(6419*b>>8)-(13320*A>>8)+8708)}function Go(p,b){return Tl((19077*p>>8)+(33050*b>>8)-17685)}function ka(p,b,A,O,z){O[z+0]=na(p,A),O[z+1]=Is(p,b,A),O[z+2]=Go(p,b)}function Wr(p,b,A,O,z){O[z+0]=Go(p,b),O[z+1]=Is(p,b,A),O[z+2]=na(p,A)}function uo(p,b,A,O,z){var Y=Is(p,b,A);b=Y<<3&224|Go(p,b)>>3,O[z+0]=248&na(p,A)|Y>>5,O[z+1]=b}function ho(p,b,A,O,z){var Y=240&Go(p,b)|15;O[z+0]=240&na(p,A)|Is(p,b,A)>>4,O[z+1]=Y}function El(p,b,A,O,z){O[z+0]=255,ka(p,b,A,O,z+1)}function ra(p,b,A,O,z){Wr(p,b,A,O,z),O[z+3]=255}function Ai(p,b,A,O,z){ka(p,b,A,O,z),O[z+3]=255}function Oa(p,b,A){F[p]=function(O,z,Y,Z,te,ne,oe,ve,ke){for(var ae=ve+(-2&ke)*A;ve!=ae;)b(O[z+0],Y[Z+0],te[ne+0],oe,ve),b(O[z+1],Y[Z+0],te[ne+0],oe,ve+A),z+=2,++Z,++ne,ve+=2*A;1&ke&&b(O[z+0],Y[Z+0],te[ne+0],oe,ve)}}function kl(p,b,A){return A==0?p==0?b==0?6:5:b==0?4:0:A}function jc(p,b,A,O,z){switch(p>>>30){case 3:Ia(b,A,O,z,0);break;case 2:fi(b,A,O,z);break;case 1:En(b,A,O,z)}}function Ki(p,b){var A,O,z=b.M,Y=b.Nb,Z=p.oc,te=p.pc+40,ne=p.oc,oe=p.pc+584,ve=p.oc,ke=p.pc+600;for(A=0;16>A;++A)Z[te+32*A-1]=129;for(A=0;8>A;++A)ne[oe+32*A-1]=129,ve[ke+32*A-1]=129;for(0<z?Z[te-1-32]=ne[oe-1-32]=ve[ke-1-32]=129:(a(Z,te-32-1,127,21),a(ne,oe-32-1,127,9),a(ve,ke-32-1,127,9)),O=0;O<p.za;++O){var ae=b.ya[b.aa+O];if(0<O){for(A=-1;16>A;++A)i(Z,te+32*A-4,Z,te+32*A+12,4);for(A=-1;8>A;++A)i(ne,oe+32*A-4,ne,oe+32*A+4,4),i(ve,ke+32*A-4,ve,ke+32*A+4,4)}var ye=p.Gd,Ae=p.Hd+O,Ve=ae.ad,Te=ae.Hc;if(0<z&&(i(Z,te-32,ye[Ae].y,0,16),i(ne,oe-32,ye[Ae].f,0,8),i(ve,ke-32,ye[Ae].ea,0,8)),ae.Za){var Ie=Z,Pe=te-32+16;for(0<z&&(O>=p.za-1?a(Ie,Pe,ye[Ae].y[15],4):i(Ie,Pe,ye[Ae+1].y,0,4)),A=0;4>A;A++)Ie[Pe+128+A]=Ie[Pe+256+A]=Ie[Pe+384+A]=Ie[Pe+0+A];for(A=0;16>A;++A,Te<<=2)Ie=Z,Pe=te+wr[A],fr[ae.Ob[A]](Ie,Pe),jc(Te,Ve,16*+A,Ie,Pe)}else if(Ie=kl(O,z,ae.Ob[0]),Ci[Ie](Z,te),Te!=0)for(A=0;16>A;++A,Te<<=2)jc(Te,Ve,16*+A,Z,te+wr[A]);for(A=ae.Gc,Ie=kl(O,z,ae.Dd),qs[Ie](ne,oe),qs[Ie](ve,ke),Te=Ve,Ie=ne,Pe=oe,255&(ae=0|A)&&(170&ae?cs(Te,256,Ie,Pe):bn(Te,256,Ie,Pe)),ae=ve,Te=ke,255&(A>>=8)&&(170&A?cs(Ve,320,ae,Te):bn(Ve,320,ae,Te)),z<p.Ub-1&&(i(ye[Ae].y,0,Z,te+480,16),i(ye[Ae].f,0,ne,oe+224,8),i(ye[Ae].ea,0,ve,ke+224,8)),A=8*Y*p.B,ye=p.sa,Ae=p.ta+16*O+16*Y*p.R,Ve=p.qa,ae=p.ra+8*O+A,Te=p.Ha,Ie=p.Ia+8*O+A,A=0;16>A;++A)i(ye,Ae+A*p.R,Z,te+32*A,16);for(A=0;8>A;++A)i(Ve,ae+A*p.B,ne,oe+32*A,8),i(Te,Ie+A*p.B,ve,ke+32*A,8)}}function Vs(p,b,A,O,z,Y,Z,te,ne){var oe=[0],ve=[0],ke=0,ae=ne!=null?ne.kd:0,ye=ne??new Xe;if(p==null||12>A)return 7;ye.data=p,ye.w=b,ye.ha=A,b=[b],A=[A],ye.gb=[ye.gb];e:{var Ae=b,Ve=A,Te=ye.gb;if(e(p!=null),e(Ve!=null),e(Te!=null),Te[0]=0,12<=Ve[0]&&!t(p,Ae[0],"RIFF")){if(t(p,Ae[0]+8,"WEBP")){Te=3;break e}var Ie=Qe(p,Ae[0]+4);if(12>Ie||4294967286<Ie){Te=3;break e}if(ae&&Ie>Ve[0]-8){Te=7;break e}Te[0]=Ie,Ae[0]+=12,Ve[0]-=12}Te=0}if(Te!=0)return Te;for(Ie=0<ye.gb[0],A=A[0];;){e:{var Pe=p;Ve=b,Te=A;var Je=oe,Ge=ve,yt=Ae=[0];if((mt=ke=[ke])[0]=0,8>Te[0])Te=7;else{if(!t(Pe,Ve[0],"VP8X")){if(Qe(Pe,Ve[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var ht=Qe(Pe,Ve[0]+8),Yt=1+We(Pe,Ve[0]+12);if(2147483648<=Yt*(Pe=1+We(Pe,Ve[0]+15))){Te=3;break e}yt!=null&&(yt[0]=ht),Je!=null&&(Je[0]=Yt),Ge!=null&&(Ge[0]=Pe),Ve[0]+=18,Te[0]-=18,mt[0]=1}Te=0}}if(ke=ke[0],Ae=Ae[0],Te!=0)return Te;if(Ve=!!(2&Ae),!Ie&&ke)return 3;if(Y!=null&&(Y[0]=!!(16&Ae)),Z!=null&&(Z[0]=Ve),te!=null&&(te[0]=0),Z=oe[0],Ae=ve[0],ke&&Ve&&ne==null){Te=0;break}if(4>A){Te=7;break}if(Ie&&ke||!Ie&&!ke&&!t(p,b[0],"ALPH")){A=[A],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{ht=p,Te=b,Ie=A;var mt=ye.gb;Je=ye.na,Ge=ye.P,yt=ye.Sa,Yt=22,e(ht!=null),e(Ie!=null),Pe=Te[0];var on=Ie[0];for(e(Je!=null),e(yt!=null),Je[0]=null,Ge[0]=null,yt[0]=0;;){if(Te[0]=Pe,Ie[0]=on,8>on){Te=7;break e}var Zn=Qe(ht,Pe+4);if(4294967286<Zn){Te=3;break e}var Kt=8+Zn+1&-2;if(Yt+=Kt,0<mt&&Yt>mt){Te=3;break e}if(!t(ht,Pe,"VP8 ")||!t(ht,Pe,"VP8L")){Te=0;break e}if(on[0]<Kt){Te=7;break e}t(ht,Pe,"ALPH")||(Je[0]=ht,Ge[0]=Pe+8,yt[0]=Zn),Pe+=Kt,on-=Kt}}if(A=A[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],Te!=0)break}A=[A],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(mt=p,Te=b,Ie=A,Je=ye.gb[0],Ge=ye.Ja,yt=ye.xa,ht=Te[0],Pe=!t(mt,ht,"VP8 "),Yt=!t(mt,ht,"VP8L"),e(mt!=null),e(Ie!=null),e(Ge!=null),e(yt!=null),8>Ie[0])Te=7;else{if(Pe||Yt){if(mt=Qe(mt,ht+4),12<=Je&&mt>Je-12){Te=3;break e}if(ae&&mt>Ie[0]-8){Te=7;break e}Ge[0]=mt,Te[0]+=8,Ie[0]-=8,yt[0]=Yt}else yt[0]=5<=Ie[0]&&mt[ht+0]==47&&!(mt[ht+4]>>5),Ge[0]=Ie[0];Te=0}if(A=A[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],b=b[0],Te!=0)break;if(4294967286<ye.Ja)return 3;if(te==null||Ve||(te[0]=ye.xa?2:1),Z=[Z],Ae=[Ae],ye.xa){if(5>A){Te=7;break}te=Z,ae=Ae,Ve=Y,p==null||5>A?p=0:5<=A&&p[b+0]==47&&!(p[b+4]>>5)?(Ie=[0],mt=[0],Je=[0],fe(Ge=new U,p,b,A),Lt(Ge,Ie,mt,Je)?(te!=null&&(te[0]=Ie[0]),ae!=null&&(ae[0]=mt[0]),Ve!=null&&(Ve[0]=Je[0]),p=1):p=0):p=0}else{if(10>A){Te=7;break}te=Ae,p==null||10>A||!Sc(p,b+3,A-3)?p=0:(ae=p[b+0]|p[b+1]<<8|p[b+2]<<16,Ve=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=ye.Ja||!Ve||!p?p=0:(Z&&(Z[0]=Ve),te&&(te[0]=p),p=1))}if(!p||(Z=Z[0],Ae=Ae[0],ke&&(oe[0]!=Z||ve[0]!=Ae)))return 3;ne!=null&&(ne[0]=ye,ne.offset=b-ne.w,e(4294967286>b-ne.w),e(ne.offset==ne.ha-A));break}return Te==0||Te==7&&ke&&ne==null?(Y!=null&&(Y[0]|=ye.na!=null&&0<ye.na.length),O!=null&&(O[0]=Z),z!=null&&(z[0]=Ae),0):Te}function Ma(p,b,A){var O=b.width,z=b.height,Y=0,Z=0,te=O,ne=z;if(b.Da=p!=null&&0<p.Da,b.Da&&(te=p.cd,ne=p.bd,Y=p.v,Z=p.j,11>A||(Y&=-2,Z&=-2),0>Y||0>Z||0>=te||0>=ne||Y+te>O||Z+ne>z))return 0;if(b.v=Y,b.j=Z,b.va=Y+te,b.o=Z+ne,b.U=te,b.T=ne,b.da=p!=null&&0<p.da,b.da){if(!Ze(te,ne,A=[p.ib],Y=[p.hb]))return 0;b.ib=A[0],b.hb=Y[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*O/4&&b.hb<3*z/4,b.Kb=0),1}function Rc(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function Fs(p,b,A,O){if(O==null||0>=p||0>=b)return 2;if(A!=null){if(A.Da){var z=A.cd,Y=A.bd,Z=-2&A.v,te=-2&A.j;if(0>Z||0>te||0>=z||0>=Y||Z+z>p||te+Y>b)return 2;p=z,b=Y}if(A.da){if(!Ze(p,b,z=[A.ib],Y=[A.hb]))return 2;p=z[0],b=Y[0]}}O.width=p,O.height=b;e:{var ne=O.width,oe=O.height;if(p=O.S,0>=ne||0>=oe||!(p>=Eu&&13>p))p=2;else{if(0>=O.Rd&&O.sd==null){Z=Y=z=b=0;var ve=(te=ne*Vu[p])*oe;if(11>p||(Y=(oe+1)/2*(b=(ne+1)/2),p==12&&(Z=(z=ne)*oe)),(oe=o(ve+2*Y+Z))==null){p=1;break e}O.sd=oe,11>p?((ne=O.f.RGBA).eb=oe,ne.fb=0,ne.A=te,ne.size=ve):((ne=O.f.kb).y=oe,ne.O=0,ne.fa=te,ne.Fd=ve,ne.f=oe,ne.N=0+ve,ne.Ab=b,ne.Cd=Y,ne.ea=oe,ne.W=0+ve+Y,ne.Db=b,ne.Ed=Y,p==12&&(ne.F=oe,ne.J=0+ve+2*Y),ne.Tc=Z,ne.lb=z)}if(b=1,z=O.S,Y=O.width,Z=O.height,z>=Eu&&13>z)if(11>z)p=O.f.RGBA,b&=(te=Math.abs(p.A))*(Z-1)+Y<=p.size,b&=te>=Y*Vu[z],b&=p.eb!=null;else{p=O.f.kb,te=(Y+1)/2,ve=(Z+1)/2,ne=Math.abs(p.fa),oe=Math.abs(p.Ab);var ke=Math.abs(p.Db),ae=Math.abs(p.lb),ye=ae*(Z-1)+Y;b&=ne*(Z-1)+Y<=p.Fd,b&=oe*(ve-1)+te<=p.Cd,b=(b&=ke*(ve-1)+te<=p.Ed)&ne>=Y&oe>=te&ke>=te,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,z==12&&(b&=ae>=Y,b&=ye<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||A!=null&&A.fd&&(p=Rc(O)),p}var fo=64,Ii=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ni=24,ia=32,sa=8,La=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(p){return p},F.Predictor2=function(p,b,A){return b[A+0]},F.Predictor3=function(p,b,A){return b[A+1]},F.Predictor4=function(p,b,A){return b[A-1]},F.Predictor5=function(p,b,A){return ut(ut(p,b[A+1]),b[A+0])},F.Predictor6=function(p,b,A){return ut(p,b[A-1])},F.Predictor7=function(p,b,A){return ut(p,b[A+0])},F.Predictor8=function(p,b,A){return ut(b[A-1],b[A+0])},F.Predictor9=function(p,b,A){return ut(b[A+0],b[A+1])},F.Predictor10=function(p,b,A){return ut(ut(p,b[A-1]),ut(b[A+0],b[A+1]))},F.Predictor11=function(p,b,A){var O=b[A+0];return 0>=et(O>>24&255,p>>24&255,(b=b[A-1])>>24&255)+et(O>>16&255,p>>16&255,b>>16&255)+et(O>>8&255,p>>8&255,b>>8&255)+et(255&O,255&p,255&b)?O:p},F.Predictor12=function(p,b,A){var O=b[A+0];return(Tt((p>>24&255)+(O>>24&255)-((b=b[A-1])>>24&255))<<24|Tt((p>>16&255)+(O>>16&255)-(b>>16&255))<<16|Tt((p>>8&255)+(O>>8&255)-(b>>8&255))<<8|Tt((255&p)+(255&O)-(255&b)))>>>0},F.Predictor13=function(p,b,A){var O=b[A-1];return(Ye((p=ut(p,b[A+0]))>>24&255,O>>24&255)<<24|Ye(p>>16&255,O>>16&255)<<16|Ye(p>>8&255,O>>8&255)<<8|Ye(255&p,255&O))>>>0};var Ol=F.PredictorAdd0;F.PredictorAdd1=lt,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var Ml=F.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var xr,Nu=F.ColorIndexInverseTransform,aa=F.MapARGB,oa=F.VP8LColorIndexInverseTransformAlpha,ri=F.MapAlpha,Da=F.VP8LPredictorsAdd=[];Da.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var Ll,Dl,ja,Ra,la,Yo,Qi,Ia,fi,cs,En,bn,zn,_r,ca,Bs,Wo,Ic,zh,vd,bd,yd,Ph,Uh,Xo,us,Vc,Ji,Zo=o(511),Cu=o(2041),Fc=o(225),Bc=o(767),Tu=0,Va=Cu,qc=Fc,di=Bc,ii=Zo,Eu=0,pi=1,ku=2,hs=3,zc=4,jl=5,po=6,Pc=7,Ou=8,Rl=9,Mu=10,fs=[2,3,7],Il=[3,3,11],$o=[280,256,256,256,40],Lu=[0,1,1,1,0],Uc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ds=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ps=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mo=8,ms=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],es=null,xd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Du=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_d=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],si=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ln=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ci=[],fr=[],qs=[],go=1,Gh=2,Fa=[],ai=[];Ea("UpsampleRgbLinePair",ka,3),Ea("UpsampleBgrLinePair",Wr,3),Ea("UpsampleRgbaLinePair",Ai,4),Ea("UpsampleBgraLinePair",ra,4),Ea("UpsampleArgbLinePair",El,4),Ea("UpsampleRgba4444LinePair",ho,2),Ea("UpsampleRgb565LinePair",uo,2);var Ko=F.UpsampleRgbLinePair,Yh=F.UpsampleBgrLinePair,Vl=F.UpsampleRgbaLinePair,ju=F.UpsampleBgraLinePair,vo=F.UpsampleArgbLinePair,ua=F.UpsampleRgba4444LinePair,bo=F.UpsampleRgb565LinePair,vs=16,Fl=1<<vs-1,Qo=-227,yo=482,Ru=6,xo=0,oi=o(256),Iu=o(256),wd=o(256),qp=o(256),zp=o(yo-Qo),Pp=o(yo-Qo);Oa("YuvToRgbRow",ka,3),Oa("YuvToBgrRow",Wr,3),Oa("YuvToRgbaRow",Ai,4),Oa("YuvToBgraRow",ra,4),Oa("YuvToArgbRow",El,4),Oa("YuvToRgba4444Row",ho,2),Oa("YuvToRgb565Row",uo,2);var wr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bl=[0,2,8],Hc=[8,7,6,4,4,2,2,2,1,1,1,1],Gc=1;this.WebPDecodeRGBA=function(p,b,A,O,z){var Y=pi,Z=new ze,te=new pt;Z.ba=te,te.S=Y,te.width=[te.width],te.height=[te.height];var ne=te.width,oe=te.height,ve=new ct;if(ve==null||p==null)var ke=2;else e(ve!=null),ke=Vs(p,b,A,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(ke!=0?ne=0:(ne!=null&&(ne[0]=ve.width[0]),oe!=null&&(oe[0]=ve.height[0]),ne=1),ne){te.width=te.width[0],te.height=te.height[0],O!=null&&(O[0]=te.width),z!=null&&(z[0]=te.height);e:{if(O=new ya,(z=new Xe).data=p,z.w=b,z.ha=A,z.kd=1,b=[0],e(z!=null),((p=Vs(z.data,z.w,z.ha,null,null,null,b,null,z))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(e(Z!=null),O.data=z.data,O.w=z.w+z.offset,O.ha=z.ha-z.offset,O.put=$e,O.ac=Ke,O.bc=Mt,O.ma=Z,z.xa){if((p=Ks())==null){Z=1;break e}if((function(ae,ye){var Ae=[0],Ve=[0],Te=[0];t:for(;;){if(ae==null)return 0;if(ye==null)return ae.a=2,0;if(ae.l=ye,ae.a=0,fe(ae.m,ye.data,ye.w,ye.ha),!Lt(ae.m,Ae,Ve,Te)){ae.a=3;break t}if(ae.xb=Gh,ye.width=Ae[0],ye.height=Ve[0],!as(Ae[0],Ve[0],1,ae,null))break t;return 1}return e(ae.a!=0),0})(p,O)){if(O=(b=Fs(O.width,O.height,Z.Oa,Z.ba))==0){t:{O=p;n:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((A=O.l)!=null),e((z=A.ma)!=null),O.xb!=0){if(O.ca=z.ba,O.tb=z.tb,e(O.ca!=null),!Ma(z.Oa,A,hs)){O.a=2;break n}if(!Di(O,A.width)||A.da)break n;if((A.da||Et(O.ca.S))&&Rs(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Rs()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!G(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!Hr(O,O.V,O.Ba,O.c,O.i,A.o,Bn))break n;z.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(b=p.a)}else b=p.a}else{if((p=new Ls)==null){Z=1;break e}if(p.Fa=z.na,p.P=z.P,p.qc=z.Sa,Js(p,O)){if((b=Fs(O.width,O.height,Z.Oa,Z.ba))==0){if(p.Aa=0,A=Z.Oa,e((z=p)!=null),A!=null){if(0<(ne=0>(ne=A.Md)?0:100<ne?255:255*ne/100)){for(oe=ve=0;4>oe;++oe)12>(ke=z.pb[oe]).lc&&(ke.ia=ne*Hc[0>ke.lc?0:ke.lc]>>3),ve|=ke.ia;ve&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=A.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(ae,ye){if(ae==null)return 0;if(ye==null)return Tn(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!Js(ae,ye))return 0;if(e(ae.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(ae.L=0);var Ae=Bl[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=ye.v-Ae>>4,ae.zb=ye.j-Ae>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=ye.o+15+Ae>>4,ae.Hb=ye.va+15+Ae>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Ve=ae.ed;for(Ae=0;4>Ae;++Ae){var Te;if(ae.Qa.Cb){var Ie=ae.Qa.Lb[Ae];ae.Qa.Fb||(Ie+=Ve.Tb)}else Ie=Ve.Tb;for(Te=0;1>=Te;++Te){var Pe=ae.gd[Ae][Te],Je=Ie;if(Ve.Pc&&(Je+=Ve.vd[0],Te&&(Je+=Ve.od[0])),0<(Je=0>Je?0:63<Je?63:Je)){var Ge=Je;0<Ve.wb&&(Ge=4<Ve.wb?Ge>>2:Ge>>1)>9-Ve.wb&&(Ge=9-Ve.wb),1>Ge&&(Ge=1),Pe.dd=Ge,Pe.tc=2*Je+Ge,Pe.ld=40<=Je?2:15<=Je?1:0}else Pe.tc=0;Pe.La=Te}}}Ae=0}else Tn(ae,6,"Frame setup failed"),Ae=ae.a;if(Ae=Ae==0){if(Ae){ae.$c=0,0<ae.Aa||(ae.Ic=Gc);t:{Ae=ae.Ic,Ve=4*(Ge=ae.za);var yt=32*Ge,ht=Ge+1,Yt=0<ae.L?Ge*(0<ae.Aa?2:1):0,mt=(ae.Aa==2?2:1)*Ge;if((Pe=Ve+832+(Te=3*(16*Ae+Bl[ae.L])/2*yt)+(Ie=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=Pe)Ae=0;else{if(Pe>ae.Vb){if(ae.Vb=0,ae.Ec=o(Pe),ae.Fc=0,ae.Ec==null){Ae=Tn(ae,1,"no memory during frame initialization.");break t}ae.Vb=Pe}Pe=ae.Ec,Je=ae.Fc,ae.Ac=Pe,ae.Bc=Je,Je+=Ve,ae.Gd=h(yt,wc),ae.Hd=0,ae.rb=h(ht+1,Wi),ae.sb=1,ae.wa=Yt?h(Yt,_i):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=Ge),e(!0),ae.oc=Pe,ae.pc=Je,Je+=832,ae.ya=h(mt,xc),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=Ge),ae.R=16*Ge,ae.B=8*Ge,Ge=(yt=Bl[ae.L])*ae.R,yt=yt/2*ae.B,ae.sa=Pe,ae.ta=Je+Ge,ae.qa=ae.sa,ae.ra=ae.ta+16*Ae*ae.R+yt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Ae*ae.B+yt,ae.$c=0,Je+=Te,ae.mb=Ie?Pe:null,ae.nb=Ie?Je:null,e(Je+Ie<=ae.Fc+ae.Vb),Ac(ae),a(ae.Ac,ae.Bc,0,Ve),Ae=1}}if(Ae){if(ye.ka=0,ye.y=ae.sa,ye.O=ae.ta,ye.f=ae.qa,ye.N=ae.ra,ye.ea=ae.Ha,ye.Vd=ae.Ia,ye.fa=ae.R,ye.Rc=ae.B,ye.F=null,ye.J=0,!Tu){for(Ae=-255;255>=Ae;++Ae)Zo[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)Cu[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)Fc[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)Bc[255+Ae]=0>Ae?0:255<Ae?255:Ae;Tu=1}Qi=Ds,Ia=Nc,cs=Si,En=Cc,bn=Tc,fi=gu,zn=Su,_r=Ca,ca=q,Bs=ce,Wo=Au,Ic=_,zh=ge,vd=we,bd=wa,yd=Sa,Ph=Ho,Uh=Lc,fr[0]=_u,fr[1]=vu,fr[2]=xu,fr[3]=Oc,fr[4]=Zi,fr[5]=Mc,fr[6]=ti,fr[7]=zo,fr[8]=Po,fr[9]=$i,Ci[0]=js,Ci[1]=Ec,Ci[2]=kc,Ci[3]=yu,Ci[4]=xa,Ci[5]=qo,Ci[6]=co,qs[0]=Al,qs[1]=bu,qs[2]=ea,qs[3]=wu,qs[4]=Yr,qs[5]=Nl,qs[6]=ta,Ae=1}else Ae=0}Ae&&(Ae=(function(on,Zn){for(on.M=0;on.M<on.Va;++on.M){var Kt,ft=on.Jc[on.M&on.Xb],it=on.m,rr=on;for(Kt=0;Kt<rr.za;++Kt){var qt=it,en=rr,Ln=en.Ac,Fr=en.Bc+4*Kt,li=en.zc,Pn=en.ya[en.aa+Kt];if(en.Qa.Bb?Pn.$b=Ne(qt,en.Pa.jb[0])?2+Ne(qt,en.Pa.jb[2]):Ne(qt,en.Pa.jb[1]):Pn.$b=0,en.kc&&(Pn.Ad=Ne(qt,en.Bd)),Pn.Za=!Ne(qt,145)+0,Pn.Za){var Tr=Pn.Ob,mi=0;for(en=0;4>en;++en){var Er,rn=li[0+en];for(Er=0;4>Er;++Er){rn=si[Ln[Fr+Er]][rn];for(var _n=Du[Ne(qt,rn[0])];0<_n;)_n=Du[2*_n+Ne(qt,rn[_n])];rn=-_n,Ln[Fr+Er]=rn}i(Tr,mi,Ln,Fr,4),mi+=4,li[0+en]=rn}}else rn=Ne(qt,156)?Ne(qt,128)?1:3:Ne(qt,163)?2:0,Pn.Ob[0]=rn,a(Ln,Fr,rn,4),a(li,0,rn,4);Pn.Dd=Ne(qt,142)?Ne(qt,114)?Ne(qt,183)?1:3:2:0}if(rr.m.Ka)return Tn(on,7,"Premature end-of-partition0 encountered.");for(;on.ja<on.za;++on.ja){if(rr=ft,qt=(it=on).rb[it.sb-1],Ln=it.rb[it.sb+it.ja],Kt=it.ya[it.aa+it.ja],Fr=it.kc?Kt.Ad:0)qt.la=Ln.la=0,Kt.Za||(qt.Na=Ln.Na=0),Kt.Hc=0,Kt.Gc=0,Kt.ia=0;else{var ir,kn;if(qt=Ln,Ln=rr,Fr=it.Pa.Xc,li=it.ya[it.aa+it.ja],Pn=it.pb[li.$b],en=li.ad,Tr=0,mi=it.rb[it.sb-1],rn=Er=0,a(en,Tr,0,384),li.Za)var Br=0,sr=Fr[3];else{_n=o(16);var wn=qt.Na+mi.Na;if(wn=es(Ln,Fr[1],wn,Pn.Eb,0,_n,0),qt.Na=mi.Na=(0<wn)+0,1<wn)Qi(_n,0,en,Tr);else{var Sr=_n[0]+3>>3;for(_n=0;256>_n;_n+=16)en[Tr+_n]=Sr}Br=1,sr=Fr[0]}var Dn=15&qt.la,kr=15&mi.la;for(_n=0;4>_n;++_n){var Or=1&kr;for(Sr=kn=0;4>Sr;++Sr)Dn=Dn>>1|(Or=(wn=es(Ln,sr,wn=Or+(1&Dn),Pn.Sc,Br,en,Tr))>Br)<<7,kn=kn<<2|(3<wn?3:1<wn?2:en[Tr+0]!=0),Tr+=16;Dn>>=4,kr=kr>>1|Or<<7,Er=(Er<<8|kn)>>>0}for(sr=Dn,Br=kr>>4,ir=0;4>ir;ir+=2){for(kn=0,Dn=qt.la>>4+ir,kr=mi.la>>4+ir,_n=0;2>_n;++_n){for(Or=1&kr,Sr=0;2>Sr;++Sr)wn=Or+(1&Dn),Dn=Dn>>1|(Or=0<(wn=es(Ln,Fr[2],wn,Pn.Qc,0,en,Tr)))<<3,kn=kn<<2|(3<wn?3:1<wn?2:en[Tr+0]!=0),Tr+=16;Dn>>=2,kr=kr>>1|Or<<5}rn|=kn<<4*ir,sr|=Dn<<4<<ir,Br|=(240&kr)<<ir}qt.la=sr,mi.la=Br,li.Hc=Er,li.Gc=rn,li.ia=43690&rn?0:Pn.ia,Fr=!(Er|rn)}if(0<it.L&&(it.wa[it.Y+it.ja]=it.gd[Kt.$b][Kt.Za],it.wa[it.Y+it.ja].La|=!Fr),rr.Ka)return Tn(on,7,"Premature end-of-file encountered.")}if(Ac(on),it=Zn,rr=1,Kt=(ft=on).D,qt=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if(Kt.M=ft.M,Kt.uc=qt,Ki(ft,Kt),rr=1,Kt=(kn=ft.D).Nb,qt=(rn=Bl[ft.L])*ft.R,Ln=rn/2*ft.B,_n=16*Kt*ft.R,Sr=8*Kt*ft.B,Fr=ft.sa,li=ft.ta-qt+_n,Pn=ft.qa,en=ft.ra-Ln+Sr,Tr=ft.Ha,mi=ft.Ia-Ln+Sr,kr=(Dn=kn.M)==0,Er=Dn>=ft.Va-1,ft.Aa==2&&Ki(ft,kn),kn.uc)for(Or=(wn=ft).D.M,e(wn.D.uc),kn=wn.yb;kn<wn.Hb;++kn){Br=kn,sr=Or;var Rn=(yn=(Mr=wn).D).Nb;ir=Mr.R;var yn=yn.wa[yn.Y+Br],gi=Mr.sa,dr=Mr.ta+16*Rn*ir+16*Br,kt=yn.dd,Dt=yn.tc;if(Dt!=0)if(e(3<=Dt),Mr.L==1)0<Br&&yd(gi,dr,ir,Dt+4),yn.La&&Uh(gi,dr,ir,Dt),0<sr&&bd(gi,dr,ir,Dt+4),yn.La&&Ph(gi,dr,ir,Dt);else{var Sn=Mr.B,Vi=Mr.qa,bs=Mr.ra+8*Rn*Sn+8*Br,Ti=Mr.Ha,Mr=Mr.Ia+8*Rn*Sn+8*Br;Rn=yn.ld,0<Br&&(_r(gi,dr,ir,Dt+4,kt,Rn),Bs(Vi,bs,Ti,Mr,Sn,Dt+4,kt,Rn)),yn.La&&(Ic(gi,dr,ir,Dt,kt,Rn),vd(Vi,bs,Ti,Mr,Sn,Dt,kt,Rn)),0<sr&&(zn(gi,dr,ir,Dt+4,kt,Rn),ca(Vi,bs,Ti,Mr,Sn,Dt+4,kt,Rn)),yn.La&&(Wo(gi,dr,ir,Dt,kt,Rn),zh(Vi,bs,Ti,Mr,Sn,Dt,kt,Rn))}}if(ft.ia&&alert("todo:DitherRow"),it.put!=null){if(kn=16*Dn,Dn=16*(Dn+1),kr?(it.y=ft.sa,it.O=ft.ta+_n,it.f=ft.qa,it.N=ft.ra+Sr,it.ea=ft.Ha,it.W=ft.Ia+Sr):(kn-=rn,it.y=Fr,it.O=li,it.f=Pn,it.N=en,it.ea=Tr,it.W=mi),Er||(Dn-=rn),Dn>it.o&&(Dn=it.o),it.F=null,it.J=null,ft.Fa!=null&&0<ft.Fa.length&&kn<Dn&&(it.J=qn(ft,it,kn,Dn-kn),it.F=ft.mb,it.F==null&&it.F.length==0)){rr=Tn(ft,3,"Could not decode alpha data.");break t}kn<it.j&&(rn=it.j-kn,kn=it.j,e(!(1&rn)),it.O+=ft.R*rn,it.N+=ft.B*(rn>>1),it.W+=ft.B*(rn>>1),it.F!=null&&(it.J+=it.width*rn)),kn<Dn&&(it.O+=it.v,it.N+=it.v>>1,it.W+=it.v>>1,it.F!=null&&(it.J+=it.v),it.ka=kn-it.j,it.U=it.va-it.v,it.T=Dn-kn,rr=it.put(it))}Kt+1!=ft.Ic||Er||(i(ft.sa,ft.ta-qt,Fr,li+16*ft.R,qt),i(ft.qa,ft.ra-Ln,Pn,en+8*ft.B,Ln),i(ft.Ha,ft.Ia-Ln,Tr,mi+8*ft.B,Ln))}if(!rr)return Tn(on,6,"Output aborted.")}return 1})(ae,ye)),ye.bc!=null&&ye.bc(ye),Ae&=1}return Ae?(ae.cb=0,Ae):0})(p,O)||(b=p.a)}}else b=p.a}b==0&&Z.Oa!=null&&Z.Oa.fd&&(b=Rc(Z.ba))}Z=b}Y=Z!=0?null:11>Y?te.f.RGBA.eb:te.f.kb.y}else Y=null;return Y};var Vu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(F,$){for(var E="",B=0;B<4;B++)E+=String.fromCharCode(F[$++]);return E}function m(F,$){return F[$+0]|F[$+1]<<8}function y(F,$){return(F[$+0]|F[$+1]<<8|F[$+2]<<16)>>>0}function w(F,$){return(F[$+0]|F[$+1]<<8|F[$+2]<<16|F[$+3]<<24)>>>0}new f;var v=[0],S=[0],N=[],T=new f,C=r,V=(function(F,$){var E={},B=0,H=!1,Q=0,ue=0;if(E.frames=[],!(function(k,U){for(var ee=0;ee<4;ee++)if(k[U+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(F,$)){for(w(F,$+=4),$+=8;$<F.length;){var J=d(F,$),ie=w(F,$+=4);$+=4;var le=ie+(1&ie);switch(J){case"VP8 ":case"VP8L":E.frames[B]===void 0&&(E.frames[B]={}),(X=E.frames[B]).src_off=H?ue:$-8,X.src_size=Q+ie+8,B++,H&&(H=!1,Q=0,ue=0);break;case"VP8X":(X=E.header={}).feature_flags=F[$];var fe=$+4;X.canvas_width=1+y(F,fe),fe+=3,X.canvas_height=1+y(F,fe),fe+=3;break;case"ALPH":H=!0,Q=le+8,ue=$-8;break;case"ANIM":(X=E.header).bgcolor=w(F,$),fe=$+4,X.loop_count=m(F,fe),fe+=2;break;case"ANMF":var xe,X;(X=E.frames[B]={}).offset_x=2*y(F,$),$+=3,X.offset_y=2*y(F,$),$+=3,X.width=1+y(F,$),$+=3,X.height=1+y(F,$),$+=3,X.duration=y(F,$),$+=3,xe=F[$++],X.dispose=1&xe,X.blend=xe>>1&1}J!="ANMF"&&($+=le)}return E}})(C,0);V.response=C,V.rgbaoutput=!0,V.dataurl=!1;var j=V.header?V.header:null,R=V.frames?V.frames:null;if(j){j.loop_counter=j.loop_count,v=[j.canvas_height],S=[j.canvas_width];for(var I=0;I<R.length&&R[I].blend!=0;I++);}var W=R[0],P=T.WebPDecodeRGBA(C,W.src_off,W.src_size,S,v);W.rgba=P,W.imgwidth=S[0],W.imgheight=v[0];for(var D=0;D<S[0]*v[0]*4;D++)N[D]=P[D];return this.width=S,this.height=v,this.data=N,this}(function(r){var e,t,i,a,o,h,c,f,d,m=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new f,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new h,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new h,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,h=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new m}]);var y=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=k;Object.defineProperty(this,"pdf",{get:function(){return U}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(G){ee=!!G}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(G){re=!!G}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(G){isNaN(G)||(se=G)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(G){isNaN(G)||(me=G)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(G){var je;typeof G=="number"?je=[G,G,G,G]:((je=new Array(4))[0]=G[0],je[1]=G.length>=2?G[1]:je[0],je[2]=G.length>=3?G[2]:je[0],je[3]=G.length>=4?G[3]:je[1]),d.margin=je}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(G){de=G}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(G){_e=G}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(G){Ne=G}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(G){G instanceof m&&(d=G)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(G){d.path=G}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(G){Ce=G}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(G){var je;je=w(G),this.ctx.fillStyle=je.style,this.ctx.isFillTransparent=je.a===0,this.ctx.fillOpacity=je.a,this.pdf.setFillColor(je.r,je.g,je.b,{a:je.a}),this.pdf.setTextColor(je.r,je.g,je.b,{a:je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(G){var je=w(G);this.ctx.strokeStyle=je.style,this.ctx.isStrokeTransparent=je.a===0,this.ctx.strokeOpacity=je.a,je.a===0?this.pdf.setDrawColor(255,255,255):(je.a,this.pdf.setDrawColor(je.r,je.g,je.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(G){["butt","round","square"].indexOf(G)!==-1&&(this.ctx.lineCap=G,this.pdf.setLineCap(G))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(G){isNaN(G)||(this.ctx.lineWidth=G,this.pdf.setLineWidth(G))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(G){["bevel","round","miter"].indexOf(G)!==-1&&(this.ctx.lineJoin=G,this.pdf.setLineJoin(G))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(G){isNaN(G)||(this.ctx.miterLimit=G,this.pdf.setMiterLimit(G))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(G){this.ctx.textBaseline=G}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(G){["right","end","center","left","start"].indexOf(G)!==-1&&(this.ctx.textAlign=G)}});var qe=null,We=null,Qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Qe},set:function(G){qe=null,We=null,Qe=G}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(G){var je;if(this.ctx.font=G,(je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(G))!==null){var rt=je[1];je[2];var Ze=je[3],Ee=je[4];je[5];var tt=je[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(nt==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var ot=(function(st){var Gt,Rt,_t=[],St=st.trim();if(St==="")return Tm;if(St in Ty)return[Ty[St]];for(;St!=="";){switch(Rt=null,Gt=(St=ky(St)).charAt(0)){case'"':case"'":Rt=lM(St.substring(1),Gt);break;default:Rt=cM(St)}if(Rt===null||(_t.push(Rt[0]),(St=ky(Rt[1]))!==""&&St.charAt(0)!==","))return Tm;St=St.replace(/^,/,"")}return _t})(tt);if(this.fontFaces){var ut=(function(st,Gt){var Rt=st.getFontList(),_t=JSON.stringify(Rt);if(qe===null||We!==_t){var St=(function(Ot){var gt=[];return Object.keys(Ot).forEach(function(sn){Ot[sn].forEach(function(Et){var Ft=null;switch(Et){case"bold":Ft={family:sn,weight:"bold"};break;case"italic":Ft={family:sn,style:"italic"};break;case"bolditalic":Ft={family:sn,weight:"bold",style:"italic"};break;case"":case"normal":Ft={family:sn}}Ft!==null&&(Ft.ref={name:sn,style:Et},gt.push(Ft))})}),gt})(Rt);qe=(function(Ot){for(var gt={},sn=0;sn<Ot.length;++sn){var Et=Cm(Ot[sn]),Ft=Et.family,Nn=Et.stretch,pt=Et.style,ct=Et.weight;gt[Ft]=gt[Ft]||{},gt[Ft][Nn]=gt[Ft][Nn]||{},gt[Ft][Nn][pt]=gt[Ft][Nn][pt]||{},gt[Ft][Nn][pt][ct]=Et}return gt})(St.concat(Gt)),We=_t}return qe})(this.pdf,this.fontFaces),Tt=ot.map(function(st){return{family:st,stretch:"normal",weight:Ze,style:rt}}),Ye=(function(st,Gt,Rt){for(var _t=(Rt=Rt||{}).defaultFontFamily||"times",St=Object.assign({},oM,Rt.genericFontFamilies||{}),Ot=null,gt=null,sn=0;sn<Gt.length;++sn)if(St[(Ot=Cm(Gt[sn])).family]&&(Ot.family=St[Ot.family]),st.hasOwnProperty(Ot.family)){gt=st[Ot.family];break}if(!(gt=gt||st[_t]))throw new Error("Could not find a font-family for the rule '"+Ey(Ot)+"' and default family '"+_t+"'.");if(gt=(function(Et,Ft){if(Ft[Et])return Ft[Et];var Nn=ng[Et],pt=Nn<=ng.normal?-1:1,ct=Cy(Ft,q_,Nn,pt);if(!ct)throw new Error("Could not find a matching font-stretch value for "+Et);return ct})(Ot.stretch,gt),gt=(function(Et,Ft){if(Ft[Et])return Ft[Et];for(var Nn=B_[Et],pt=0;pt<Nn.length;++pt)if(Ft[Nn[pt]])return Ft[Nn[pt]];throw new Error("Could not find a matching font-style for "+Et)})(Ot.style,gt),!(gt=(function(Et,Ft){if(Ft[Et])return Ft[Et];if(Et===400&&Ft[500])return Ft[500];if(Et===500&&Ft[400])return Ft[400];var Nn=aM[Et],pt=Cy(Ft,z_,Nn,Et<400?-1:1);if(!pt)throw new Error("Could not find a matching font-weight for value "+Et);return pt})(Ot.weight,gt)))throw new Error("Failed to resolve a font for the rule '"+Ey(Ot)+"'.");return gt})(ut,Tt);this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var et="";(Ze==="bold"||parseInt(Ze,10)>=700||rt==="bold")&&(et="bold"),rt==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var lt="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<ot.length;at++){if(this.pdf.internal.getFont(ot[at],et,{noFallback:!0,disableWarning:!0})!==void 0){lt=ot[at];break}if(et==="bolditalic"&&this.pdf.internal.getFont(ot[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)lt=ot[at],et="bold";else if(this.pdf.internal.getFont(ot[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){lt=ot[at],et="normal";break}}if(lt===""){for(var dt=0;dt<ot.length;dt++)if(wt[ot[dt]]){lt=wt[ot[dt]];break}}lt=lt===""?"Times":lt,this.pdf.setFont(lt,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(G){this.ctx.globalCompositeOperation=G}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(G){this.ctx.globalAlpha=G}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(G){this.ctx.lineDashOffset=G,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(G){this.ctx.lineDash=G,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(G){this.ctx.ignoreClearRect=!!G}})};y.prototype.setLineDash=function(k){this.lineDash=k},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){R.call(this,"fill",!1)},y.prototype.stroke=function(){R.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(k,U){if(isNaN(k)||isNaN(U))throw Kn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new h(k,U));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new h(k,U)},y.prototype.closePath=function(){var k=new h(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Fn(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){k=new h(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(k.x,k.y)},y.prototype.lineTo=function(k,U){if(isNaN(k)||isNaN(U))throw Kn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new h(k,U));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new h(ee.x,ee.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},y.prototype.quadraticCurveTo=function(k,U,ee,re){if(isNaN(ee)||isNaN(re)||isNaN(k)||isNaN(U))throw Kn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new h(ee,re)),me=this.ctx.transform.applyToPoint(new h(k,U));this.path.push({type:"qct",x1:me.x,y1:me.y,x:se.x,y:se.y}),this.ctx.lastPoint=new h(se.x,se.y)},y.prototype.bezierCurveTo=function(k,U,ee,re,se,me){if(isNaN(se)||isNaN(me)||isNaN(k)||isNaN(U)||isNaN(ee)||isNaN(re))throw Kn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new h(se,me)),_e=this.ctx.transform.applyToPoint(new h(k,U)),Ne=this.ctx.transform.applyToPoint(new h(ee,re));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Ne.x,y2:Ne.y,x:de.x,y:de.y}),this.ctx.lastPoint=new h(de.x,de.y)},y.prototype.arc=function(k,U,ee,re,se,me){if(isNaN(k)||isNaN(U)||isNaN(ee)||isNaN(re)||isNaN(se))throw Kn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new h(k,U));k=de.x,U=de.y;var _e=this.ctx.transform.applyToPoint(new h(0,ee)),Ne=this.ctx.transform.applyToPoint(new h(0,0));ee=Math.sqrt(Math.pow(_e.x-Ne.x,2)+Math.pow(_e.y-Ne.y,2))}Math.abs(se-re)>=2*Math.PI&&(re=0,se=2*Math.PI),this.path.push({type:"arc",x:k,y:U,radius:ee,startAngle:re,endAngle:se,counterclockwise:me})},y.prototype.arcTo=function(k,U,ee,re,se){throw new Error("arcTo not implemented.")},y.prototype.rect=function(k,U,ee,re){if(isNaN(k)||isNaN(U)||isNaN(ee)||isNaN(re))throw Kn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,U),this.lineTo(k+ee,U),this.lineTo(k+ee,U+re),this.lineTo(k,U+re),this.lineTo(k,U),this.lineTo(k+ee,U),this.lineTo(k,U)},y.prototype.fillRect=function(k,U,ee,re){if(isNaN(k)||isNaN(U)||isNaN(ee)||isNaN(re))throw Kn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,U,ee,re),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},y.prototype.strokeRect=function(k,U,ee,re){if(isNaN(k)||isNaN(U)||isNaN(ee)||isNaN(re))throw Kn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(k,U,ee,re),this.stroke())},y.prototype.clearRect=function(k,U,ee,re){if(isNaN(k)||isNaN(U)||isNaN(ee)||isNaN(re))throw Kn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,U,ee,re))},y.prototype.save=function(k){k=typeof k!="boolean"||k;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},y.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(U),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(k){var U,ee,re,se;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))U=0,ee=0,re=0,se=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(me!==null)U=parseInt(me[1]),ee=parseInt(me[2]),re=parseInt(me[3]),se=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)U=parseInt(me[1]),ee=parseInt(me[2]),re=parseInt(me[3]),se=parseFloat(me[4]);else{if(se=1,typeof k=="string"&&k.charAt(0)!=="#"){var de=new L_(k);k=de.ok?de.toHex():"#000000"}k.length===4?(U=k.substring(1,2),U+=U,ee=k.substring(2,3),ee+=ee,re=k.substring(3,4),re+=re):(U=k.substring(1,3),ee=k.substring(3,5),re=k.substring(5,7)),U=parseInt(U,16),ee=parseInt(ee,16),re=parseInt(re,16)}}return{r:U,g:ee,b:re,a:se,style:k}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(k,U,ee,re){if(isNaN(U)||isNaN(ee)||typeof k!="string")throw Kn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!v.call(this)){var se=le(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;B.call(this,{text:k,x:U,y:ee,scale:me,angle:se,align:this.textAlign,maxWidth:re})}},y.prototype.strokeText=function(k,U,ee,re){if(isNaN(U)||isNaN(ee)||typeof k!="string")throw Kn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){re=isNaN(re)?void 0:re;var se=le(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;B.call(this,{text:k,x:U,y:ee,scale:me,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:re})}},y.prototype.measureText=function(k){if(typeof k!="string")throw Kn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,ee=this.pdf.internal.scaleFactor,re=U.internal.getFontSize(),se=U.getStringUnitWidth(k)*re/U.internal.scaleFactor;return new function(me){var de=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:se*=Math.round(96*ee/72*1e4)/1e4})},y.prototype.scale=function(k,U){if(isNaN(k)||isNaN(U))throw Kn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new f(k,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},y.prototype.rotate=function(k){if(isNaN(k))throw Kn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new f(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},y.prototype.translate=function(k,U){if(isNaN(k)||isNaN(U))throw Kn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new f(1,0,0,1,k,U);this.ctx.transform=this.ctx.transform.multiply(ee)},y.prototype.transform=function(k,U,ee,re,se,me){if(isNaN(k)||isNaN(U)||isNaN(ee)||isNaN(re)||isNaN(se)||isNaN(me))throw Kn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new f(k,U,ee,re,se,me);this.ctx.transform=this.ctx.transform.multiply(de)},y.prototype.setTransform=function(k,U,ee,re,se,me){k=isNaN(k)?1:k,U=isNaN(U)?0:U,ee=isNaN(ee)?0:ee,re=isNaN(re)?1:re,se=isNaN(se)?0:se,me=isNaN(me)?0:me,this.ctx.transform=new f(k,U,ee,re,se,me)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(k,U,ee,re,se,me,de,_e,Ne){var Ce=this.pdf.getImageProperties(k),qe=1,We=1,Qe=1,G=1;re!==void 0&&_e!==void 0&&(Qe=_e/re,G=Ne/se,qe=Ce.width/re*_e/re,We=Ce.height/se*Ne/se),me===void 0&&(me=U,de=ee,U=0,ee=0),re!==void 0&&_e===void 0&&(_e=re,Ne=se),re===void 0&&_e===void 0&&(_e=Ce.width,Ne=Ce.height);var je=this.ctx.transform.decompose(),rt=le(je.rotate.shx),Ze=new f,Ee=(Ze=(Ze=(Ze=Ze.multiply(je.translate)).multiply(je.skew)).multiply(je.scale)).applyToRectangle(new c(me-U*Qe,de-ee*G,re*qe,se*We));if(this.autoPaging){for(var tt,nt=T.call(this,Ee),ot=[],ut=0;ut<nt.length;ut+=1)ot.indexOf(nt[ut])===-1&&ot.push(nt[ut]);j(ot);for(var Tt=ot[0],Ye=ot[ot.length-1],et=Tt;et<Ye+1;et++){this.pdf.setPage(et);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=et===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=et===1?0:at+(et-2)*dt;if(this.ctx.clip_path.length!==0){var Gt=this.path;tt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(tt,this.posX+this.margin[3],-st+wt+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=Gt}var Rt=JSON.parse(JSON.stringify(Ee));Rt=V([Rt],this.posX+this.margin[3],-st+wt+this.ctx.prevPageLastElemOffset)[0];var _t=(et>Tt||et<Ye)&&N.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,dt,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Rt.x,Rt.y,Rt.w,Rt.h,null,null,rt),_t&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(k,"JPEG",Ee.x,Ee.y,Ee.w,Ee.h,null,null,rt)};var T=function(k,U,ee){var re=[];U=U||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":re.push(Math.floor((k.y+se)/ee)+1);break;case"arc":re.push(Math.floor((k.y+se-k.radius)/ee)+1),re.push(Math.floor((k.y+se+k.radius)/ee)+1);break;case"qct":var me=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);re.push(Math.floor((me.y+se)/ee)+1),re.push(Math.floor((me.y+me.h+se)/ee)+1);break;case"bct":var de=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);re.push(Math.floor((de.y+se)/ee)+1),re.push(Math.floor((de.y+de.h+se)/ee)+1);break;case"rect":re.push(Math.floor((k.y+se)/ee)+1),re.push(Math.floor((k.y+k.h+se)/ee)+1)}for(var _e=0;_e<re.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<re[_e];)C.call(this);return re},C=function(){var k=this.fillStyle,U=this.strokeStyle,ee=this.font,re=this.lineCap,se=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=U,this.font=ee,this.lineCap=re,this.lineWidth=se,this.lineJoin=me},V=function(k,U,ee){for(var re=0;re<k.length;re++)switch(k[re].type){case"bct":k[re].x2+=U,k[re].y2+=ee;case"qct":k[re].x1+=U,k[re].y1+=ee;default:k[re].x+=U,k[re].y+=ee}return k},j=function(k){return k.sort(function(U,ee){return U-ee})},R=function(k,U){var ee=this.fillStyle,re=this.strokeStyle,se=this.lineCap,me=this.lineWidth,de=Math.abs(me*this.ctx.transform.scaleX),_e=this.lineJoin;if(this.autoPaging){for(var Ne,Ce,qe=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),Qe=[],G=0;G<We.length;G++)if(We[G].x!==void 0)for(var je=T.call(this,We[G]),rt=0;rt<je.length;rt+=1)Qe.indexOf(je[rt])===-1&&Qe.push(je[rt]);for(var Ze=0;Ze<Qe.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<Qe[Ze];)C.call(this);j(Qe);for(var Ee=Qe[0],tt=Qe[Qe.length-1],nt=Ee;nt<tt+1;nt++){this.pdf.setPage(nt),this.fillStyle=ee,this.strokeStyle=re,this.lineCap=se,this.lineWidth=de,this.lineJoin=_e;var ot=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=nt===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=nt===1?0:Tt+(nt-2)*Ye;if(this.ctx.clip_path.length!==0){var lt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(Ne,this.posX+this.margin[3],-et+ut+this.ctx.prevPageLastElemOffset),I.call(this,k,!0),this.path=lt}if(Ce=JSON.parse(JSON.stringify(qe)),this.path=V(Ce,this.posX+this.margin[3],-et+ut+this.ctx.prevPageLastElemOffset),U===!1||nt===0){var wt=(nt>Ee||nt<tt)&&N.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Ye,null).clip().discardPath()),I.call(this,k,U),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}this.path=qe}else this.lineWidth=de,I.call(this,k,U),this.lineWidth=me},I=function(k,U){if((k!=="stroke"||U||!S.call(this))&&(k==="stroke"||U||!v.call(this))){for(var ee,re,se=[],me=this.path,de=0;de<me.length;de++){var _e=me[de];switch(_e.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:_e,deltas:[],abs:[]});break;case"lt":var Ne=se.length;if(me[de-1]&&!isNaN(me[de-1].x)&&(ee=[_e.x-me[de-1].x,_e.y-me[de-1].y],Ne>0)){for(;Ne>=0;Ne--)if(se[Ne-1].close!==!0&&se[Ne-1].begin!==!0){se[Ne-1].deltas.push(ee),se[Ne-1].abs.push(_e);break}}break;case"bct":ee=[_e.x1-me[de-1].x,_e.y1-me[de-1].y,_e.x2-me[de-1].x,_e.y2-me[de-1].y,_e.x-me[de-1].x,_e.y-me[de-1].y],se[se.length-1].deltas.push(ee);break;case"qct":var Ce=me[de-1].x+2/3*(_e.x1-me[de-1].x),qe=me[de-1].y+2/3*(_e.y1-me[de-1].y),We=_e.x+2/3*(_e.x1-_e.x),Qe=_e.y+2/3*(_e.y1-_e.y),G=_e.x,je=_e.y;ee=[Ce-me[de-1].x,qe-me[de-1].y,We-me[de-1].x,Qe-me[de-1].y,G-me[de-1].x,je-me[de-1].y],se[se.length-1].deltas.push(ee);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(_e)}}re=U?null:k==="stroke"?"stroke":"fill";for(var rt=!1,Ze=0;Ze<se.length;Ze++)if(se[Ze].arc)for(var Ee=se[Ze].abs,tt=0;tt<Ee.length;tt++){var nt=Ee[tt];nt.type==="arc"?D.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,U,!rt):H.call(this,nt.x,nt.y),rt=!0}else if(se[Ze].close===!0)this.pdf.internal.out("h"),rt=!1;else if(se[Ze].begin!==!0){var ot=se[Ze].start.x,ut=se[Ze].start.y;Q.call(this,se[Ze].deltas,ot,ut),rt=!0}re&&F.call(this,re),U&&$.call(this)}},W=function(k){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-ee;case"top":return k+U-ee;case"hanging":return k+U-2*ee;case"middle":return k+U/2-ee;default:return k}},P=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function(U,ee){this.colorStops.push([U,ee])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(k,U,ee,re,se,me,de,_e,Ne){for(var Ce=J.call(this,ee,re,se,me),qe=0;qe<Ce.length;qe++){var We=Ce[qe];qe===0&&(Ne?E.call(this,We.x1+k,We.y1+U):H.call(this,We.x1+k,We.y1+U)),ue.call(this,k,U,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}_e?$.call(this):F.call(this,de)},F=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(k,U){this.pdf.internal.out(t(k)+" "+i(U)+" m")},B=function(k){var U;switch(k.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var ee,re,se,me=this.pdf.getTextDimensions(k.text),de=W.call(this,k.y),_e=P.call(this,de)-me.h,Ne=this.ctx.transform.applyToPoint(new h(k.x,de));if(this.autoPaging){var Ce=this.ctx.transform.decompose(),qe=new f;qe=(qe=(qe=qe.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var We=this.ctx.transform.applyToRectangle(new c(k.x,de,me.w,me.h)),Qe=qe.applyToRectangle(new c(k.x,_e,me.w,me.h)),G=T.call(this,Qe),je=[],rt=0;rt<G.length;rt+=1)je.indexOf(G[rt])===-1&&je.push(G[rt]);j(je);for(var Ze=je[0],Ee=je[je.length-1],tt=Ze;tt<Ee+1;tt++){this.pdf.setPage(tt);var nt=tt===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ut=this.pdf.internal.pageSize.height-this.margin[2],Tt=ut-this.margin[0],Ye=this.pdf.internal.pageSize.width-this.margin[1],et=Ye-this.margin[3],lt=tt===1?0:ot+(tt-2)*Tt;if(this.ctx.clip_path.length!==0){var wt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(ee,this.posX+this.margin[3],-1*lt+nt),I.call(this,"fill",!0),this.path=wt}var at=V([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-lt+nt+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*k.scale),se=this.lineWidth,this.lineWidth=se*k.scale);var dt=this.autoPaging!=="text";if(dt||at.y+at.h<=ut){if(dt||at.y>=nt&&at.x<=Ye){var st=dt?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||Ye-at.x)[0],Gt=V([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-lt+nt+this.ctx.prevPageLastElemOffset)[0],Rt=dt&&(tt>Ze||tt<Ee)&&N.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,Tt,null).clip().discardPath()),this.pdf.text(st,Gt.x,Gt.y,{angle:k.angle,align:U,renderingMode:k.renderingMode}),Rt&&this.pdf.restoreGraphicsState()}}else at.y<ut&&(this.ctx.prevPageLastElemOffset+=ut-at.y);k.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=se)}}else k.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*k.scale),se=this.lineWidth,this.lineWidth=se*k.scale),this.pdf.text(k.text,Ne.x+this.posX,Ne.y+this.posY,{angle:k.angle,align:U,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=se)},H=function(k,U,ee,re){ee=ee||0,re=re||0,this.pdf.internal.out(t(k+ee)+" "+i(U+re)+" l")},Q=function(k,U,ee){return this.pdf.lines(k,U,ee,null,null)},ue=function(k,U,ee,re,se,me,de,_e){this.pdf.internal.out([e(a(ee+k)),e(o(re+U)),e(a(se+k)),e(o(me+U)),e(a(de+k)),e(o(_e+U)),"c"].join(" "))},J=function(k,U,ee,re){for(var se=2*Math.PI,me=Math.PI/2;U>ee;)U-=se;var de=Math.abs(ee-U);de<se&&re&&(de=se-de);for(var _e=[],Ne=re?-1:1,Ce=U;de>1e-5;){var qe=Ce+Ne*Math.min(de,me);_e.push(ie.call(this,k,Ce,qe)),de-=Math.abs(qe-Ce),Ce=qe}return _e},ie=function(k,U,ee){var re=(ee-U)/2,se=k*Math.cos(re),me=k*Math.sin(re),de=se,_e=-me,Ne=de*de+_e*_e,Ce=Ne+de*se+_e*me,qe=4/3*(Math.sqrt(2*Ne*Ce)-Ce)/(de*me-_e*se),We=de-qe*_e,Qe=_e+qe*de,G=We,je=-Qe,rt=re+U,Ze=Math.cos(rt),Ee=Math.sin(rt);return{x1:k*Math.cos(U),y1:k*Math.sin(U),x2:We*Ze-Qe*Ee,y2:We*Ee+Qe*Ze,x3:G*Ze-je*Ee,y3:G*Ee+je*Ze,x4:k*Math.cos(ee),y4:k*Math.sin(ee)}},le=function(k){return 180*k/Math.PI},fe=function(k,U,ee,re,se,me){var de=k+.5*(ee-k),_e=U+.5*(re-U),Ne=se+.5*(ee-se),Ce=me+.5*(re-me),qe=Math.min(k,se,de,Ne),We=Math.max(k,se,de,Ne),Qe=Math.min(U,me,_e,Ce),G=Math.max(U,me,_e,Ce);return new c(qe,Qe,We-qe,G-Qe)},xe=function(k,U,ee,re,se,me,de,_e){var Ne,Ce,qe,We,Qe,G,je,rt,Ze,Ee,tt,nt,ot,ut,Tt=ee-k,Ye=re-U,et=se-ee,lt=me-re,wt=de-se,at=_e-me;for(Ce=0;Ce<41;Ce++)Ze=(je=(qe=k+(Ne=Ce/40)*Tt)+Ne*((Qe=ee+Ne*et)-qe))+Ne*(Qe+Ne*(se+Ne*wt-Qe)-je),Ee=(rt=(We=U+Ne*Ye)+Ne*((G=re+Ne*lt)-We))+Ne*(G+Ne*(me+Ne*at-G)-rt),Ce==0?(tt=Ze,nt=Ee,ot=Ze,ut=Ee):(tt=Math.min(tt,Ze),nt=Math.min(nt,Ee),ot=Math.max(ot,Ze),ut=Math.max(ut,Ee));return new c(Math.round(tt),Math.round(nt),Math.round(ot-tt),Math.round(ut-nt))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,U,ee=(k=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:U}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Ct.API),(function(r){var e=function(h){var c,f,d,m,y,w,v,S,N,T;for(f=[],d=0,m=(h+=c="\0\0\0\0".slice(h.length%4||4)).length;m>d;d+=4)(y=(h.charCodeAt(d)<<24)+(h.charCodeAt(d+1)<<16)+(h.charCodeAt(d+2)<<8)+h.charCodeAt(d+3))!==0?(w=(y=((y=((y=((y=(y-(T=y%85))/85)-(N=y%85))/85)-(S=y%85))/85)-(v=y%85))/85)%85,f.push(w+33,v+33,S+33,N+33,T+33)):f.push(122);return(function(C,V){for(var j=V;j>0;j--)C.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(h){var c,f,d,m,y,w=String,v="length",S=255,N="charCodeAt",T="slice",C="replace";for(h[T](-2),h=h[T](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),d=[],m=0,y=(h+=c="uuuuu"[T](h[v]%5||5))[v];y>m;m+=5)f=52200625*(h[N](m)-33)+614125*(h[N](m+1)-33)+7225*(h[N](m+2)-33)+85*(h[N](m+3)-33)+(h[N](m+4)-33),d.push(S&f>>24,S&f>>16,S&f>>8,S&f);return(function(V,j){for(var R=j;R>0;R--)V.pop()})(d,c[v]),w.fromCharCode.apply(w,d)},i=function(h){return h.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(h){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),c.test(h)===!1)return"";for(var f="",d=0;d<h.length;d+=2)f+=String.fromCharCode("0x"+(h[d]+h[d+1]));return f},o=function(h){for(var c=new Uint8Array(h.length),f=h.length;f--;)c[f]=h.charCodeAt(f);return(c=Zm(c)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};r.processDataByFilters=function(h,c){var f=0,d=h||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=i(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(Ct.API),(function(r){r.loadFile=function(e,t,i){return(function(a,o,h){o=o!==!1,h=typeof h=="function"?h:function(){};var c=void 0;try{c=(function(f,d,m){var y=new XMLHttpRequest,w=0,v=function(S){var N=S.length,T=[],C=String.fromCharCode;for(w=0;w<N;w+=1)T.push(C(255&S.charCodeAt(w)));return T.join("")};if(y.open("GET",f,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?m(v(this.responseText)):m(void 0)}),y.send(null),d&&y.status===200)return v(y.responseText)})(a,o,h)}catch{}return c})(e,t,i)},r.loadImageFile=r.loadFile})(Ct.API),(function(r){function e(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):O1(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):O1(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var i=function(c){var f=Fn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var m in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[m]=f.style[m];return d},o=function c(f,d){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(c(y,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m},h=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),d);return(m=m.setProgress(1,c,1,[c])).set(f)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(c,f){return c.__proto__=f||h.prototype,c},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},h.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,m=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var v=0;v<m.length;++v){var S=m[v],N=S.src.find(function(T){return T.format==="truetype"});N&&d.addFont(N.url,S.ref.name,S.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),f(this.prop.container,w)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},h.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},h.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},h.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(c){if(i(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in h.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},h.prototype.get=function(c,f){return this.then(function(){var d=c in h.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},h.prototype.setMargin=function(c){return this.then(function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},h.prototype.setPageSize=function(c){function f(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(c=c||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},h.prototype.setProgress=function(c,f,d,m){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(c,f,d,m){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},h.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(m,y){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,m),w}).then(m,y).then(function(w){return d.updateProgress(1),w})})},h.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),f&&(f=f.bind(m));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:h.convert(Object.assign({},m),Promise.prototype),w=d.call(y,c,f);return h.convert(w,m.__proto__)},h.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},h.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},h.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return h.convert(f,this)},h.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},h.prototype.error=function(c){return this.then(function(){throw new Error(c)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,Ct.getPageSize=function(c,f,d){if(Fn(c)==="object"){var m=c;c=m.orientation,f=m.unit||f,d=m.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var y,w=(""+d).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+f}var S,N=0,T=0;if(v.hasOwnProperty(w))N=v[w][1]/y,T=v[w][0]/y;else try{N=d[1],T=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",T>N&&(S=T,T=N,N=S);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",N>T&&(S=T,T=N,N=S)}return{width:T,height:N,unit:f,k:y,orientation:c}},r.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Cm):null;var d=new h(f);return f.worker?d:d.from(c).doCallback()}})(Ct.API),Ct.API.addJS=function(r){return My=r,this.internal.events.subscribe("postPutResources",function(){S1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(S1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Oy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+My+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){S1!==void 0&&Oy!==void 0&&this.internal.out("/Names <</JavaScript "+S1+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var h=a[o],c=i.exec(h);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(h)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(o=0;o<d;o++){var y=t.internal.newObject();m.push(y);var w=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<m.length;o++)t.internal.write("(page_"+(o+1)+")"+m[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,a,o){var h={title:a,options:o,children:[]};return i==null&&(i=this.root),i.children.push(h),h},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var h=i.children[o];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var c=this.count=this.count_r({count:0},h);if(c>0&&this.line("/Count "+c),h.options&&h.options.pageNumber){var f=t.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,a){for(var o=0;o<a.children.length;o++)i.count++,this.count_r(i,a.children[o]);return i.count}}])})(Ct.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,i,a,o,h,c){var f,d=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=h||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(y){for(var w,v=256*y.charCodeAt(4)+y.charCodeAt(5),S=y.length,N={width:0,height:0,numcomponents:1},T=4;T<S;T+=2){if(T+=v,e.indexOf(y.charCodeAt(T+1))!==-1){w=256*y.charCodeAt(T+5)+y.charCodeAt(T+6),N={width:256*y.charCodeAt(T+7)+y.charCodeAt(T+8),height:w,numcomponents:y.charCodeAt(T+9)};break}v=256*y.charCodeAt(T+2)+y.charCodeAt(T+3)}return N})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:i,alias:a}}return m}})(Ct.API),Ct.API.processPNG=function(r,e,t,i){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,o=YO(r,{checkCrc:!0}),h=o.width,c=o.height,f=o.channels,d=o.palette,m=o.depth;a=d&&f===1?(function(D){for(var F=D.width,$=D.height,E=D.data,B=D.palette,H=D.depth,Q=!1,ue=[],J=[],ie=void 0,le=!1,fe=0,xe=0;xe<B.length;xe++){var X=Rb(B[xe],4),k=X[0],U=X[1],ee=X[2],re=X[3];ue.push(k,U,ee),re!=null&&(re===0?(fe++,J.length<1&&J.push(xe)):re<255&&(le=!0))}if(le||fe>1){Q=!0,J=void 0;var se=F*$;ie=new Uint8Array(se);for(var me=new DataView(E.buffer),de=0;de<se;de++){var _e=Em(me,de,H),Ne=Rb(B[_e],4)[3];ie[de]=Ne}}else fe===0&&(J=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Q?8:void 0,colorBytes:E,alphaBytes:ie,needSMask:Q,palette:ue,mask:J}})(o):f===2||f===4?(function(D){for(var F=D.data,$=D.width,E=D.height,B=D.channels,H=D.depth,Q=B===2?"DeviceGray":"DeviceRGB",ue=B-1,J=$*E,ie=ue,le=J*ie,fe=1*J,xe=Math.ceil(le*H/8),X=Math.ceil(fe*H/8),k=new Uint8Array(xe),U=new Uint8Array(X),ee=new DataView(F.buffer),re=new DataView(k.buffer),se=new DataView(U.buffer),me=!1,de=0;de<J;de++){for(var _e=de*B,Ne=0;Ne<ie;Ne++)qy(re,Em(ee,_e+Ne,H),de*ie+Ne,H);var Ce=Em(ee,_e+ie,H);Ce<(1<<H)-1&&(me=!0),qy(se,Ce,1*de,H)}return{colorSpace:Q,colorsPerPixel:ue,sMaskBitsPerComponent:me?H:void 0,colorBytes:k,alphaBytes:U,needSMask:me}})(o):(function(D){var F=D.data,$=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?(function(E){for(var B=E.length,H=new Uint8Array(2*B),Q=new DataView(H.buffer,H.byteOffset,H.byteLength),ue=0;ue<B;ue++)Q.setUint16(2*ue,E[ue],!1);return H})(F):F,needSMask:!1}})(o);var y,w,v,S=a,N=S.colorSpace,T=S.colorsPerPixel,C=S.sMaskBitsPerComponent,V=S.colorBytes,j=S.alphaBytes,R=S.needSMask,I=S.palette,W=S.mask,P=null;return i!==Ct.API.image_compression.NONE&&typeof Zm=="function"?(P=(function(D){var F;switch(D){case Ct.API.image_compression.FAST:F=11;break;case Ct.API.image_compression.MEDIUM:F=13;break;case Ct.API.image_compression.SLOW:F=14;break;default:F=12}return F})(i),y=this.decode.FLATE_DECODE,w="/Predictor ".concat(P," /Colors ").concat(T," /BitsPerComponent ").concat(m," /Columns ").concat(h),r=Ry(V,Math.ceil(h*T*m/8),T,m,i),R&&(v=Ry(j,Math.ceil(h*C/8),1,C,i))):(y=void 0,w=void 0,r=V,R&&(v=j)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:t,data:r,index:e,filter:y,decodeParameters:w,transparency:W,palette:I,sMask:v,predictor:P,width:h,height:c,bitsPerComponent:m,sMaskBitsPerComponent:C,colorSpace:N}}},(function(r){r.processGIF89A=function(e,t,i,a){var o=new dM(e),h=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:h,height:c},m=new km(100).encode(d,100);return r.processJPEG.call(this,m,t,i,a)},r.processGIF87A=r.processGIF89A})(Ct.API),Ga.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:i,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ga.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Kn.log("bit decode error:"+t)}},Ga.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),h=i*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[h+4*c]=f.blue,this.data[h+4*c+1]=f.green,this.data[h+4*c+2]=f.red,this.data[h+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Ga.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var o=this.datav.getUint8(this.pos++,!0),h=i*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[h]=d.blue,this.data[h+1]=d.green,this.data[h+2]=d.red,this.data[h+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[h+4]=d.blue,this.data[h+4+1]=d.green,this.data[h+4+2]=d.red,this.data[h+4+3]=255}e!==0&&(this.pos+=4-e)}},Ga.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*i;if(a<this.palette.length){var h=this.palette[a];this.data[o]=h.red,this.data[o+1]=h.green,this.data[o+2]=h.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},Ga.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,m=i*this.width*4+4*a;this.data[m]=f,this.data[m+1]=c,this.data[m+2]=h,this.data[m+3]=d}this.pos+=r}},Ga.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(h&e)/e*255|0,f=(h>>5&t)/t*255|0,d=(h>>11)/e*255|0,m=a*this.width*4+4*o;this.data[m]=d,this.data[m+1]=f,this.data[m+2]=c,this.data[m+3]=255}this.pos+=r}},Ga.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=i,this.data[h+3]=255}this.pos+=this.width%4}},Ga.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=i,this.data[c+3]=h}},Ga.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,i,a){var o=new Ga(e,!1),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new km(100).encode(f,100);return r.processJPEG.call(this,d,t,i,a)}})(Ct.API),Py.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,i,a){var o=new Py(e),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new km(100).encode(f,100);return r.processJPEG.call(this,d,t,i,a)}})(Ct.API),Ct.API.processRGBA=function(r,e,t){for(var i=r.data,a=i.length,o=new Uint8Array(a/4*3),h=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var m=i[d],y=i[d+1],w=i[d+2],v=i[d+3];o[c++]=m,o[c++]=y,o[c++]=w,h[f++]=v}var S=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:S,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Ct.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},oh=Ct.API,A1=oh.getCharWidthsArray=function(r,e){var t,i,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),h=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,y=e.doKerning!==!1,w=0,v=r.length,S=0,N=c[0]||f,T=[];for(t=0;t<v;t++)i=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?T.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+h*(1e3/o)||0)/1e3):(w=y&&Fn(d[i])==="object"&&!isNaN(parseInt(d[i][S],10))?d[i][S]/m:0,T.push((c[i]||N)/f+w)),S=i;return T},Ly=oh.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return oh.processArabic&&(r=oh.processArabic(r)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(r,t,a)/t:A1.apply(this,arguments).reduce(function(o,h){return o+h},0)},Dy=function(r,e,t,i){for(var a=[],o=0,h=r.length,c=0;o!==h&&c+e[o]<t;)c+=e[o],o++;a.push(r.slice(0,o));var f=o;for(c=0;o!==h;)c+e[o]>i&&(a.push(r.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(r.slice(f,o)),a},jy=function(r,e,t){t||(t={});var i,a,o,h,c,f,d,m=[],y=[m],w=t.textIndent||0,v=0,S=0,N=r.split(" "),T=A1.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var C=Array(f).join(" "),V=[];N.map(function(R){(R=R.split(/\s*\n/)).length>1?V=V.concat(R.map(function(I,W){return(W&&I.length?`
`:"")+I})):V.push(R[0])}),N=V,f=Ly.apply(this,[C,t])}for(o=0,h=N.length;o<h;o++){var j=0;if(i=N[o],f&&i[0]==`
`&&(i=i.substr(1),j=1),w+v+(S=(a=A1.apply(this,[i,t])).reduce(function(R,I){return R+I},0))>e||j){if(S>e){for(c=Dy.apply(this,[i,a,e-(w+v),e]),m.push(c.shift()),m=[c.pop()];c.length;)y.push([c.shift()]);S=a.slice(i.length-(m[0]?m[0].length:0)).reduce(function(R,I){return R+I},0)}else m=[i];y.push(m),w=S+f,v=T}else m.push(i),w+=v+S,v=T}return d=f?function(R,I){return(I?C:"")+R.join(" ")}:function(R){return R.join(" ")},y.map(d)},oh.splitTextToSize=function(r,e,t){var i,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var y=this.internal.getFont(m.fontName,m.fontStyle),w="Unicode";return y.metadata[w]?{widths:y.metadata[w].widths||{0:1},kerning:y.metadata[w].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(r)?r:String(r).split(/\r?\n/);var h=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=i.length;c<f;c++)d=d.concat(jy.apply(this,[i[c],h,o]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},a={},o=0;o<16;o++)i[t[o]]=e[o],a[e[o]]=t[o];var h=function(w){return"0x"+parseInt(w,10).toString(16)},c=r.__fontmetrics__.compress=function(w){var v,S,N,T,C=["{"];for(var V in w){if(v=w[V],isNaN(parseInt(V,10))?S="'"+V+"'":(V=parseInt(V,10),S=(S=h(V).slice(2)).slice(0,-1)+a[S.slice(-1)]),typeof v=="number")v<0?(N=h(v).slice(3),T="-"):(N=h(v).slice(2),T=""),N=T+N.slice(0,-1)+a[N.slice(-1)];else{if(Fn(v)!=="object")throw new Error("Don't know what to do with value type "+Fn(v)+".");N=c(v)}C.push(S+N)}return C.push("}"),C.join("")},f=r.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,S,N,T,C={},V=1,j=C,R=[],I="",W="",P=w.length-1,D=1;D<P;D+=1)(T=w[D])=="'"?v?(N=v.join(""),v=void 0):v=[]:v?v.push(T):T=="{"?(R.push([j,N]),j={},N=void 0):T=="}"?((S=R.pop())[0][S[1]]=j,N=void 0,j=S[0]):T=="-"?V=-1:N===void 0?i.hasOwnProperty(T)?(I+=i[T],N=parseInt(I,16)*V,V=1,I=""):I+=T:i.hasOwnProperty(T)?(W+=i[T],j[N]=parseInt(W,16)*V,V=1,N=void 0,W=""):W+=T;return C},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(w){var v=w.font,S=y.Unicode[v.postScriptName];S&&(v.metadata.Unicode={},v.metadata.Unicode.widths=S.widths,v.metadata.Unicode.kerning=S.kerning);var N=m.Unicode[v.postScriptName];N&&(v.metadata.Unicode.encoding=N,v.encoding=N.codePages[0])}])})(Ct.API),(function(r){var e=function(t){for(var i=t.length,a=new Uint8Array(i),o=0;o<i;o++)a[o]=t.charCodeAt(o);return a};r.API.events.push(["addFont",function(t){var i=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(h,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(L1(c)),h.metadata=r.API.TTFFont.open(c),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(a,i)}}])})(Ct),Ct.API.addSvgAsImage=function(r,e,t,i,a,o,h,c){if(isNaN(e)||isNaN(t))throw Kn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Kn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(Wt.canvg?Promise.resolve(Wt.canvg):O1(()=>import("./index.es-BiKkdou9.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(d,r,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){y.addImage(f.toDataURL("image/jpeg",1),e,t,i,a,h,c)})},Ct.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(e,t);return this},Ct.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var i,a,o,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(h),f=[],d=0,m=0,y=0;function w(S,N){var T,C=!1;for(T=0;T<S.length;T+=1)S[T]===N&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var v=c.length;for(y=0;y<v;y+=1)t[c[y]].value=t[c[y]].defaultValue,t[c[y]].explicitSet=!1}if(Fn(r)==="object"){for(a in r)if(o=r[a],w(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&w(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(i=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(m=0;m<o[d].length;m+=1)typeof o[d][m]!="number"&&(i=!1);i===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,N=[];for(S in t)t[S].explicitSet===!0&&(t[S].type==="name"?N.push("/"+S+" /"+t[S].value):N.push("/"+S+" "+t[S].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+h.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+h+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Ct.API),(function(r){var e=r.API,t=e.pdfEscape16=function(o,h){for(var c,f=h.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],y=0,w=o.length;y<w;++y){if(c=h.metadata.characterToGlyph(o.charCodeAt(y)),h.metadata.glyIdsUsed.push(c),h.metadata.toUnicode[c]=o.charCodeAt(y),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(h.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(d[4-c.length],c)}return m.join("")},i=function(o){var h,c,f,d,m,y,w;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],y=0,w=(c=Object.keys(o).sort(function(v,S){return v-S})).length;y<w;y++)h=c[y],f.length>=100&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[h]!==void 0&&o[h]!==null&&typeof o[h].toString=="function"&&(d=("0000"+o[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),f.push("<"+h+"><"+d+">"));return f.length&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),v="",S=0;S<w.length;S++)v+=String.fromCharCode(w[S]);var N=d();m({data:v,addLength1:!0,objectId:N}),f("endobj");var T=d();m({data:i(c.metadata.toUnicode),addLength1:!0,objectId:T}),f("endobj");var C=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+hh(c.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var V=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+hh(c.fontName)),f("/FontDescriptor "+C+" 0 R"),f("/W "+r.API.PDFObject.convert(y)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+T+" 0 R"),f("/BaseFont /"+hh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+V+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,w="",v=0;v<y.length;v++)w+=String.fromCharCode(y[v]);var S=d();m({data:w,addLength1:!0,objectId:S}),f("endobj");var N=d();m({data:i(c.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var T=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+S+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+hh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var C=0;C<c.metadata.hmtx.widths.length;C++)c.metadata.hmtx.widths[C]=parseInt(c.metadata.hmtx.widths[C]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+hh(c.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var h,c=o.text||"",f=o.x,d=o.y,m=o.options||{},y=o.mutex||{},w=y.pdfEscape,v=y.activeFontKey,S=y.fonts,N=v,T="",C=0,V="",j=S[N].encoding;if(S[N].encoding!=="Identity-H")return{text:c,x:f,y:d,options:m,mutex:y};for(V=c,N=v,Array.isArray(c)&&(V=c[0]),C=0;C<V.length;C+=1)S[N].metadata.hasOwnProperty("cmap")&&(h=S[N].metadata.cmap.unicode.codeMap[V[C].charCodeAt(0)]),h||V[C].charCodeAt(0)<256&&S[N].metadata.hasOwnProperty("Unicode")?T+=V[C]:T+="";var R="";return parseInt(N.slice(1))<14||j==="WinAnsiEncoding"?R=w(T,N).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(R=t(T,S[N])),y.isHex=!0,{text:R,x:f,y:d,options:m,mutex:y}};e.events.push(["postProcessText",function(o){var h=o.text||"",c=[],f={text:h,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(h)){var d=0;for(d=0;d<h.length;d+=1)Array.isArray(h[d])&&h[d].length===3?c.push([a(Object.assign({},f,{text:h[d][0]})).text,h[d][1],h[d][2]]):c.push(a(Object.assign({},f,{text:h[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:h})).text}])})(Ct),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ct.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(i){var a,o,h,c,f,d,m,y=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),V=!1,j=0;this.__bidiEngine__={};var R=function(E){var B=E.charCodeAt(),H=B>>8,Q=N[H];return Q!==void 0?y[256*Q+(255&B)]:H===252||H===253?"AL":C.test(H)?"L":H===8?"R":"N"},I=function(E){for(var B,H=0;H<E.length;H++){if((B=R(E.charAt(H)))==="L")return!1;if(B==="R")return!0}return!1},W=function(E,B,H,Q){var ue,J,ie,le,fe=B[Q];switch(fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":V=!1;break;case"N":case"AN":break;case"EN":V&&(fe="AN");break;case"AL":V=!0,fe="R";break;case"WS":case"BN":fe="N";break;case"CS":Q<1||Q+1>=B.length||(ue=H[Q-1])!=="EN"&&ue!=="AN"||(J=B[Q+1])!=="EN"&&J!=="AN"?fe="N":V&&(J="AN"),fe=J===ue?J:"N";break;case"ES":fe=(ue=Q>0?H[Q-1]:"B")==="EN"&&Q+1<B.length&&B[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&H[Q-1]==="EN"){fe="EN";break}if(V){fe="N";break}for(ie=Q+1,le=B.length;ie<le&&B[ie]==="ET";)ie++;fe=ie<le&&B[ie]==="EN"?"EN":"N";break;case"NSM":if(h&&!c){for(le=B.length,ie=Q+1;ie<le&&B[ie]==="NSM";)ie++;if(ie<le){var xe=E[Q],X=xe>=1425&&xe<=2303||xe===64286;if(ue=B[ie],X&&(ue==="R"||ue==="AL")){fe="R";break}}}fe=Q<1||(ue=B[Q-1])==="B"?"N":H[Q-1];break;case"B":V=!1,a=!0,fe=j;break;case"S":o=!0,fe="N"}return fe},P=function(E,B,H){var Q=E.split("");return H&&D(Q,H,{hiLevel:j}),Q.reverse(),B&&B.reverse(),Q.join("")},D=function(E,B,H){var Q,ue,J,ie,le,fe=-1,xe=E.length,X=0,k=[],U=j?v:w,ee=[];for(V=!1,a=!1,o=!1,ue=0;ue<xe;ue++)ee[ue]=R(E[ue]);for(J=0;J<xe;J++){if(le=X,k[J]=W(E,ee,k,J),Q=240&(X=U[le][S[k[J]]]),X&=15,B[J]=ie=U[X][5],Q>0)if(Q===16){for(ue=fe;ue<J;ue++)B[ue]=1;fe=-1}else fe=-1;if(U[X][6])fe===-1&&(fe=J);else if(fe>-1){for(ue=fe;ue<J;ue++)B[ue]=ie;fe=-1}ee[J]==="B"&&(B[J]=0),H.hiLevel|=ie}o&&(function(re,se,me){for(var de=0;de<me;de++)if(re[de]==="S"){se[de]=j;for(var _e=de-1;_e>=0&&re[_e]==="WS";_e--)se[_e]=j}})(ee,B,xe)},F=function(E,B,H,Q,ue){if(!(ue.hiLevel<E)){if(E===1&&j===1&&!a)return B.reverse(),void(H&&H.reverse());for(var J,ie,le,fe,xe=B.length,X=0;X<xe;){if(Q[X]>=E){for(le=X+1;le<xe&&Q[le]>=E;)le++;for(fe=X,ie=le-1;fe<ie;fe++,ie--)J=B[fe],B[fe]=B[ie],B[ie]=J,H&&(J=H[fe],H[fe]=H[ie],H[ie]=J);X=le}X++}}},$=function(E,B,H){var Q=E.split(""),ue={hiLevel:j};return H||(H=[]),D(Q,H,ue),(function(J,ie,le){if(le.hiLevel!==0&&m)for(var fe,xe=0;xe<J.length;xe++)ie[xe]===1&&(fe=T.indexOf(J[xe]))>=0&&(J[xe]=T[fe+1])})(Q,H,ue),F(2,Q,B,H,ue),F(1,Q,B,H,ue),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(E,B,H){if((function(ue,J){if(J)for(var ie=0;ie<ue.length;ie++)J[ie]=ie;c===void 0&&(c=I(ue)),d===void 0&&(d=I(ue))})(E,B),h||!f||d)if(h&&f&&c^d)j=c?1:0,E=P(E,B,H);else if(!h&&f&&d)j=c?1:0,E=$(E,B,H),E=P(E,B);else if(!h||c||f||d){if(h&&!f&&c^d)E=P(E,B),c?(j=0,E=$(E,B,H)):(j=1,E=$(E,B,H),E=P(E,B));else if(h&&c&&!f&&d)j=1,E=$(E,B,H),E=P(E,B);else if(!h&&!f&&c^d){var Q=m;c?(j=1,E=$(E,B,H),j=0,m=!1,E=$(E,B,H),m=Q):(j=0,E=$(E,B,H),E=P(E,B),j=1,m=!1,E=$(E,B,H),m=Q,E=P(E,B))}}else j=0,E=$(E,B,H);else j=c?1:0,E=$(E,B,H);return E},this.__bidiEngine__.setOptions=function(E){E&&(h=E.isInputVisual,f=E.isOutputVisual,c=E.isInputRtl,d=E.isOutputRtl,m=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var h=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(h=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?h.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):h.push([t.doBidiReorder(a[c])]);i.text=h}else i.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Ct),Ct.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new vc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new EM(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new pM(this.contents),this.head=new gM(this),this.name=new _M(this),this.cmap=new U_(this),this.toUnicode={},this.hhea=new vM(this),this.maxp=new wM(this),this.hmtx=new SM(this),this.post=new yM(this),this.os2=new bM(this),this.loca=new TM(this),this.glyf=new AM(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,i,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,c,f,d;for(d=[],h=0,c=(f=this.bbox).length;h<c;h++)e=f[h],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,i){var a,o,h,c;for(h=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),h+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/t)||0;return h*(t/1e3)},r.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},r})();var oo,vc=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},r.prototype.writeString=function(e){var t,i,a;for(a=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,i,a,o,h,c,f;return e=this.readByte(),t=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),h=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^o)+65536*(255^h)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*a+16777216*o+65536*h+256*c+f},r.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},r.prototype.write=function(e){var t,i,a,o;for(o=[],i=0,a=e.length;i<a;i++)t=e[i],o.push(this.writeByte(t));return o},r})(),pM=(function(){var r;function e(t){var i,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,a,o,h,c,f,d,m,y,w,v,S,N;for(N in v=Object.keys(t).length,f=Math.log(2),y=16*Math.floor(Math.log(v)/f),h=Math.floor(y/f),m=16*v-y,(a=new vc).writeInt(this.scalarType),a.writeShort(v),a.writeShort(y),a.writeShort(h),a.writeShort(m),o=16*v,d=a.pos+o,c=null,S=[],t)for(w=t[N],a.writeString(N),a.writeInt(r(w)),a.writeInt(d),a.writeInt(w.length),S=S.concat(w),N==="head"&&(c=d),d+=w.length;d%4;)S.push(0),d++;return a.write(S),i=2981146554-r(a.data),a.pos=c+8,a.writeUInt32(i),a.data},r=function(t){var i,a,o,h;for(t=H_.call(t);t.length%4;)t.push(0);for(o=new vc(t),a=0,i=0,h=t.length;i<h;i=i+=4)a+=o.readUInt32();return 4294967295&a},e})(),mM={}.hasOwnProperty,Vo=function(r,e){for(var t in e)mM.call(e,t)&&(r[t]=e[t]);function i(){this.constructor=r}return i.prototype=e.prototype,r.prototype=new i,r.__super__=e.prototype,r};oo=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var gM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new vc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),Uy=(function(){function r(e,t){var i,a,o,h,c,f,d,m,y,w,v,S,N,T,C,V,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(v=e.readUInt16(),w=v/2,e.pos+=6,o=(function(){var R,I;for(I=[],f=R=0;0<=w?R<w:R>w;f=0<=w?++R:--R)I.push(e.readUInt16());return I})(),e.pos+=2,N=(function(){var R,I;for(I=[],f=R=0;0<=w?R<w:R>w;f=0<=w?++R:--R)I.push(e.readUInt16());return I})(),d=(function(){var R,I;for(I=[],f=R=0;0<=w?R<w:R>w;f=0<=w?++R:--R)I.push(e.readUInt16());return I})(),m=(function(){var R,I;for(I=[],f=R=0;0<=w?R<w:R>w;f=0<=w?++R:--R)I.push(e.readUInt16());return I})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var R,I;for(I=[],f=R=0;0<=a?R<a:R>a;f=0<=a?++R:--R)I.push(e.readUInt16());return I})(),f=C=0,j=o.length;C<j;f=++C)for(T=o[f],i=V=S=N[f];S<=T?V<=T:V>=T;i=S<=T?++V:--V)m[f]===0?h=i+d[f]:(h=c[m[f]/2+(i-S)-(w-f)]||0)!==0&&(h+=d[f]),this.codeMap[i]=65535&h}e.pos=y}return r.encode=function(e,t){var i,a,o,h,c,f,d,m,y,w,v,S,N,T,C,V,j,R,I,W,P,D,F,$,E,B,H,Q,ue,J,ie,le,fe,xe,X,k,U,ee,re,se,me,de,_e,Ne,Ce,qe;switch(Q=new vc,h=Object.keys(e).sort(function(We,Qe){return We-Qe}),t){case"macroman":for(N=0,T=(function(){var We=[];for(S=0;S<256;++S)We.push(0);return We})(),V={0:0},o={},ue=0,fe=h.length;ue<fe;ue++)V[_e=e[a=h[ue]]]==null&&(V[_e]=++N),o[a]={old:e[a],new:V[e[a]]},T[a]=V[e[a]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(T),{charMap:o,subtable:Q.data,maxGlyphID:N+1};case"unicode":for(B=[],y=[],j=0,V={},i={},C=d=null,J=0,xe=h.length;J<xe;J++)V[I=e[a=h[J]]]==null&&(V[I]=++j),i[a]={old:I,new:V[I]},c=V[I]-a,C!=null&&c===d||(C&&y.push(C),B.push(a),d=c),C=a;for(C&&y.push(C),y.push(65535),B.push(65535),$=2*(F=B.length),D=2*Math.pow(Math.log(F)/Math.LN2,2),w=Math.log(D/2)/Math.LN2,P=2*F-D,f=[],W=[],v=[],S=ie=0,X=B.length;ie<X;S=++ie){if(E=B[S],m=y[S],E===65535){f.push(0),W.push(0);break}if(E-(H=i[E].new)>=32768)for(f.push(0),W.push(2*(v.length+F-S)),a=le=E;E<=m?le<=m:le>=m;a=E<=m?++le:--le)v.push(i[a].new);else f.push(H-E),W.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*F+2*v.length),Q.writeUInt16(0),Q.writeUInt16($),Q.writeUInt16(D),Q.writeUInt16(w),Q.writeUInt16(P),me=0,k=y.length;me<k;me++)a=y[me],Q.writeUInt16(a);for(Q.writeUInt16(0),de=0,U=B.length;de<U;de++)a=B[de],Q.writeUInt16(a);for(Ne=0,ee=f.length;Ne<ee;Ne++)c=f[Ne],Q.writeUInt16(c);for(Ce=0,re=W.length;Ce<re;Ce++)R=W[Ce],Q.writeUInt16(R);for(qe=0,se=v.length;qe<se;qe++)N=v[qe],Q.writeUInt16(N);return{charMap:i,subtable:Q.data,maxGlyphID:j+1}}},r})(),U_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,i,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)t=new Uy(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var i,a;return t==null&&(t="macroman"),i=Uy.encode(e,t),(a=new vc).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},r})(),vM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),bM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),yM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="post",r.prototype.parse=function(e){var t,i,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var h,c,f;for(f=[],o=h=0,c=this.file.maxp.numGlyphs;0<=c?h<c:h>c;o=0<=c?++h:--h)f.push(e.readUInt32());return f}).call(this)}},r})(),xM=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_M=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="name",r.prototype.parse=function(e){var t,i,a,o,h,c,f,d,m,y,w;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),i=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=m=0,y=i.length;m<y;o=++m)a=i[o],e.pos=a.offset,d=e.readString(a.length),h=new xM(d,a),f[w=a.nameID]==null&&(f[w]=[]),f[a.nameID].push(h);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r})(),wM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),SM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,i,a,o,h,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)m.push(e.readInt16());return m})(),this.widths=(function(){var d,m,y,w;for(w=[],d=0,m=(y=this.metrics).length;d<m;d++)o=y[d],w.push(o.advance);return w}).call(this),i=this.widths[this.widths.length-1],f=[],t=h=0;0<=a?h<a:h>a;t=0<=a?++h:--h)f.push(this.widths.push(i));return f},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),H_=[].slice,AM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,i,a,o,h,c,f,d,m,y;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,i=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,h=(c=new vc(t.read(a))).readShort(),d=c.readShort(),y=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[e]=h===-1?new CM(c,d,y,f,m):new NM(c,h,d,y,f,m),this.cache[e]))},r.prototype.encode=function(e,t,i){var a,o,h,c,f;for(h=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(h.length),a&&(h=h.concat(a.encode(i)));return o.push(h.length),{table:h,offsets:o}},r})(),NM=(function(){function r(e,t,i,a,o,h){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=a,this.xMax=o,this.yMax=h,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),CM=(function(){function r(e,t,i,a,o){var h,c;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;c=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&c;)h.pos+=1&c?4:2,128&c?h.pos+=8:64&c?h.pos+=4:8&c&&(h.pos+=2)}return r.prototype.encode=function(){var e,t,i;for(t=new vc(H_.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),TM=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="loca",r.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(e.readUInt32());return o}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,h=0;h<i.length;++h)if(i[h]=a,o<t.length&&t[o]==h){++o,i[h]=a;var c=this.offsets[h],f=this.offsets[h+1]-c;f>0&&(a+=f)}for(var d=new Array(4*i.length),m=0;m<i.length;++m)d[4*m+3]=255&i[m],d[4*m+2]=(65280&i[m])>>8,d[4*m+1]=(16711680&i[m])>>16,d[4*m]=(4278190080&i[m])>>24;return d},r})(),EM=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,i,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[t],e[t]=a[i];return e},r.prototype.glyphsFor=function(e){var t,i,a,o,h,c,f;for(a={},h=0,c=e.length;h<c;h++)a[o=e[h]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(i=a[o])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))i=f[o],a[o]=i;return a},r.prototype.encode=function(e,t){var i,a,o,h,c,f,d,m,y,w,v,S,N,T,C;for(a in i=U_.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(e),v={0:0},C=i.charMap)v[(f=C[a]).old]=f.new;for(S in w=i.maxGlyphID,h)S in v||(v[S]=w++);return m=(function(V){var j,R;for(j in R={},V)R[V[j]]=j;return R})(v),y=Object.keys(m).sort(function(V,j){return V-j}),N=(function(){var V,j,R;for(R=[],V=0,j=y.length;V<j;V++)c=y[V],R.push(m[c]);return R})(),o=this.font.glyf.encode(h,N,v),d=this.font.loca.encode(o.offsets,N),T={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},r})();Ct.API.PDFObject=(function(){var r;function e(){}return r=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,a,o,h;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)i=t[c],d.push(e.convert(i));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)h=t[a],o.push("/"+a+" "+e.convert(h));return o.push(">>"),o.join(`
`)}return""+t},e})();const c2="chordWheelSongs",rg="chordWheelCurrentSongId",Bf=()=>{try{const r=localStorage.getItem(c2);return r?JSON.parse(r).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(r){return console.error("Error loading saved songs:",r),[]}},Hy=r=>{try{const e=Bf(),t=e.findIndex(a=>a.id===r.id),i={...r,updatedAt:new Date().toISOString(),createdAt:r.createdAt instanceof Date?r.createdAt.toISOString():r.createdAt};t>=0?e[t]=i:e.push({...i,createdAt:new Date().toISOString()}),localStorage.setItem(c2,JSON.stringify(e)),localStorage.setItem(rg,r.id)}catch(e){console.error("Error saving song:",e)}},kM=r=>{try{const t=Bf().filter(i=>i.id!==r);localStorage.setItem(c2,JSON.stringify(t)),localStorage.getItem(rg)===r&&localStorage.removeItem(rg)}catch(e){console.error("Error deleting song:",e)}};var Om,Gy;function OM(){if(Gy)return Om;Gy=1,Om=e;const r=["auxclick","click","contextmenu","dblclick","keydown","keyup","mousedown","mouseup","touchend"];function e(){const t=window.webkitAudioContext;if(!(navigator.maxTouchPoints>0&&t!=null))return;let a="blocked",o="blocked",h,c,f;const d=new t().sampleRate,m=y(d);r.forEach(T=>{window.addEventListener(T,w,{capture:!0,passive:!0})});function y(T){const C=new ArrayBuffer(10),V=new DataView(C);return V.setUint32(0,T,!0),V.setUint32(4,T,!0),V.setUint16(8,1,!0),`data:audio/wav;base64,UklGRisAAABXQVZFZm10IBAAAAABAAEA${window.btoa(String.fromCharCode(...new Uint8Array(C))).slice(0,13)}AgAZGF0YQcAAACAgICAgICAAAA=`}function w(T){a==="blocked"&&(a="pending",v()),o==="blocked"&&(o="pending",S())}function v(){h=document.createElement("audio"),h.setAttribute("x-webkit-airplay","deny"),h.preload="auto",h.loop=!0,h.src=m,h.load(),h.play().then(()=>{a="allowed",N()},()=>{a="blocked",h.pause(),h.removeAttribute("src"),h.load(),h=null})}function S(){c=new t,f=c.createBufferSource(),f.buffer=c.createBuffer(1,1,22050),f.connect(c.destination),f.start(),c.state==="running"?(o="allowed",N()):(o="blocked",f.disconnect(c.destination),f=null,c.close(),c=null)}function N(){a!=="allowed"||o!=="allowed"||r.forEach(T=>{window.removeEventListener(T,w,{capture:!0,passive:!0})})}}return Om}var MM=OM();const LM=Yy(MM);LM();function DM(){const{currentSong:r,selectedKey:e,timelineVisible:t,toggleTimeline:i,selectedSectionId:a,selectedSlotId:o,clearSlot:h,setTitle:c,loadSong:f,newSong:d,instrument:m,volume:y,isMuted:w,undo:v,redo:S,canUndo:N,canRedo:T}=Rr();he.useEffect(()=>{Xg(m)},[m]),he.useEffect(()=>{mx(y)},[y]),he.useEffect(()=>{gx(w)},[w]);const[C,V]=he.useState(180),[j,R]=he.useState(!1),[I,W]=he.useState(.6),[P,D]=he.useState(1),[F,$]=he.useState(50),[E,B]=he.useState(720),[H,Q]=he.useState(()=>typeof window<"u"?window.innerWidth<768:!1),[ue,J]=he.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerWidth<1024:!1),ie=he.useRef(!1),le=he.useRef(!1),fe=he.useRef(!1);he.useEffect(()=>{const Ye=()=>{const et=window.innerWidth,lt=window.innerHeight,wt=et<768,at=lt<et&&et<1024&&wt;if(Q(wt),J(at),wt){if(at){const Gt=et*.5,Rt=16,_t=Math.min(560,Math.max(280,Gt-Rt,lt-120)),St=Math.min(_t*1.2,Gt-Rt+12,lt-120+12,560);B(St)}else{const gt=(lt-56-64-80)*.8,sn=Math.min(Math.min(et-12,gt),560),Et=Math.min(sn*1.2,et-12+12,gt+24,560);B(Math.max(260,Et))}if(!fe.current&&P===1){const Gt=Math.min(1.2,2.5);D(Gt),$(Gt>1.3?45:50),fe.current=!0}}else{const St=Math.max(360,lt-48-56-140),Ot=Math.min(720,Math.max(320,Math.min(et-120,St)));B(Ot)}const dt=Rr.getState();wt&&!le.current&&(dt.timelineVisible&&dt.toggleTimeline(),dt.chordPanelVisible&&dt.toggleChordPanel(),le.current=!0),!wt&&ie.current&&!dt.chordPanelVisible&&(dt.toggleChordPanel(),ie.current=!1)};return Ye(),window.addEventListener("resize",Ye),window.addEventListener("orientationchange",Ye),()=>{window.removeEventListener("resize",Ye),window.removeEventListener("orientationchange",Ye)}},[]);const xe=he.useCallback((Ye,et)=>{D(Ye),$(et)},[]),X=he.useCallback(()=>{const Ye=Math.min(2.5,P+.3);D(Ye),$(Ye>1.3?38:50)},[P]),k=he.useCallback(()=>{const Ye=Math.max(1,P-.3);D(Ye),$(Ye>1.3?38:50)},[P]),[U,ee]=he.useState(!1),[re,se]=he.useState(r.title),me=he.useMemo(()=>{const Ye=r.sections.reduce((dt,st)=>{const Gt=st.measures.reduce((Rt,_t)=>Rt+_t.beats.reduce((St,Ot)=>St+Ot.duration,0),0);return dt+Gt},0),et=r.tempo/60,lt=Ye/et,wt=Math.floor(lt/60),at=Math.floor(lt%60);return`${wt}:${at.toString().padStart(2,"0")}`},[r.sections,r.tempo]),[de,_e]=he.useState(!1);he.useEffect(()=>{const Ye=async()=>{try{await od(),await Ih(),_e(!0)}catch(lt){console.error("Audio initialization failed:",lt)}},et=()=>{de||Ye()};return document.addEventListener("touchstart",et,{once:!0}),document.addEventListener("click",et,{once:!0}),()=>{document.removeEventListener("touchstart",et),document.removeEventListener("click",et)}},[de]),he.useEffect(()=>{const Ye=et=>{if((et.key==="Delete"||et.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;et.preventDefault(),h(a,o)}};return window.addEventListener("keydown",Ye),()=>window.removeEventListener("keydown",Ye)},[a,o,h]),he.useEffect(()=>{const Ye=et=>{const lt=et.target;lt?.tagName==="INPUT"||lt?.tagName==="TEXTAREA"||lt?.isContentEditable||et.metaKey&&et.key.toLowerCase()==="z"&&(et.preventDefault(),et.shiftKey?T&&S():N&&v())};return window.addEventListener("keydown",Ye),()=>window.removeEventListener("keydown",Ye)},[v,S,N,T]);const Ne=()=>{se(r.title),ee(!0)},Ce=()=>{c(re.trim()||"Untitled Song"),ee(!1)},[qe,We]=he.useState(!1),[Qe,G]=he.useState([]),je=he.useRef(null);he.useEffect(()=>{G(Bf())},[]),he.useEffect(()=>{const Ye=et=>{je.current&&!je.current.contains(et.target)&&We(!1)};return document.addEventListener("mousedown",Ye),()=>document.removeEventListener("mousedown",Ye)},[]);const rt=()=>{if(r.title==="Untitled Song"||!r.title.trim()){const Ye=prompt("Please name your song:",r.title);if(Ye===null)return;const et=Ye.trim()||"Untitled Song";c(et);const lt={...r,title:et};Hy(lt)}else Hy(r);G(Bf()),We(!1)},Ze=Ye=>{f(Ye),We(!1)},Ee=()=>{confirm("Start a new song? Unsaved changes will be lost.")&&(d(),We(!1))},tt=(Ye,et,lt)=>{lt.stopPropagation(),confirm(`Delete "${et}"?`)&&(kM(Ye),G(Bf()))},nt=Ye=>{Ye.key==="Enter"?Ce():Ye.key==="Escape"&&(se(r.title),ee(!1))},ot=he.useCallback(Ye=>{Ye.preventDefault(),R(!0)},[]);he.useEffect(()=>{if(!j)return;const Ye=lt=>{const at=window.innerHeight-lt.clientY-56;V(Math.max(100,Math.min(350,at)))},et=()=>{R(!1)};return document.addEventListener("mousemove",Ye),document.addEventListener("mouseup",et),()=>{document.removeEventListener("mousemove",Ye),document.removeEventListener("mouseup",et)}},[j]);const ut=()=>{const Ye=new Ct;Ye.setFontSize(24),Ye.setFont("helvetica","bold"),Ye.text(r.title,20,20),Ye.setFontSize(12),Ye.setFont("helvetica","normal"),Ye.text(`Key: ${e} | Tempo: ${r.tempo} BPM`,20,30);let et=50;r.sections.forEach(lt=>{et>270&&(Ye.addPage(),et=20),Ye.setFontSize(14),Ye.setFont("helvetica","bold"),Ye.text(`[${lt.name}]`,20,et),et+=10;const at=lt.measures.map(dt=>{const st=dt.beats.length;return st===1?`${dt.beats[0]?.chord?.symbol||""}   `:st===2?dt.beats.map(Gt=>`${Gt.chord?.symbol||""} `).join(" "):dt.beats.map(Gt=>Gt.chord?.symbol||"").join(" ")}).join("  |  ");Ye.setFontSize(12),Ye.setFont("helvetica","normal"),Ye.text(at||"(No chords)",20,et),et+=15}),Ye.save(`${r.title.replace(/\s+/g,"-").toLowerCase()}.pdf`)},Tt=Math.max(80,C-42);return M.jsxs("div",{className:"h-full w-full flex flex-col bg-bg-primary text-text-primary overflow-hidden",children:[M.jsxs("header",{className:`${H?"h-14":"h-12"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center ${H?"px-4":"px-3"} bg-bg-secondary shrink-0 z-20 sticky top-0`,children:[M.jsx("div",{className:"flex items-center gap-2 shrink-0",children:M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("div",{className:`${H?"w-8 h-8":"w-6 h-6"} rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center shadow-lg relative`,children:[M.jsx(J1,{size:H?16:12,className:"text-white"}),de&&M.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-500 rounded-full",title:"Audio Ready"})]}),M.jsx("span",{className:`font-bold ${H?"text-xs":"text-sm"} tracking-tight hidden sm:block text-text-muted`,children:"Songwriter's Wheel"})]})}),M.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:U?M.jsx("input",{type:"text",value:re,onChange:Ye=>se(Ye.target.value),onBlur:Ce,onKeyDown:nt,autoFocus:!0,className:`bg-bg-tertiary border border-border-medium rounded px-3 py-1 ${H?"text-xs":"text-sm"} font-medium text-text-primary focus:outline-none focus:border-accent-primary text-center ${H?"w-40":"w-56"} max-w-[70vw]`,maxLength:50}):M.jsx("span",{onDoubleClick:Ne,className:`${H?"text-xs":"text-sm"} font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-2 py-1 rounded text-center truncate max-w-[70vw]`,title:"Double-click to edit title",children:r.title})}),M.jsxs("div",{className:`flex items-center ${H?"gap-3":"gap-4"} shrink-0 justify-self-end`,children:[!H&&M.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[M.jsx(FC,{size:11,className:"shrink-0"}),M.jsx("span",{className:"leading-none",children:me})]}),M.jsxs("div",{className:`flex items-center gap-2 p-[10px] ${H?"text-xs":"text-[10px]"} text-text-muted`,children:[M.jsx("span",{className:"uppercase font-bold",children:"Key"}),M.jsx("span",{className:`font-bold text-accent-primary ${H?"text-base":"text-sm"}`,children:e})]}),M.jsxs("div",{className:"relative",ref:je,children:[M.jsxs("button",{onClick:()=>We(!qe),className:`flex items-center gap-1.5 ${H?"text-xs px-2 py-1.5 min-w-[44px]":"text-[11px] px-2 py-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback`,children:[M.jsx(ab,{size:H?16:12}),M.jsx("span",{className:"hidden sm:inline",children:"Save"}),M.jsx(yh,{size:H?12:10,className:`transition-transform ${qe?"rotate-180":""}`})]}),qe&&M.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[M.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[M.jsxs("button",{onClick:rt,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[M.jsx(ab,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),M.jsxs("button",{onClick:Ee,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[M.jsx(HC,{size:14,className:"text-green-400"}),"New Song"]})]}),M.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:Qe.length===0?M.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):M.jsxs("div",{className:"p-1.5",children:[M.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),Qe.map(Ye=>M.jsxs("div",{onClick:()=>Ze(Ye),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${Ye.id===r.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[M.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[M.jsx(YC,{size:12,className:"shrink-0"}),M.jsx("span",{className:"truncate",children:Ye.title})]}),M.jsx("button",{onClick:et=>tt(Ye.id,Ye.title,et),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:M.jsx(dx,{size:10})})]},Ye.id))]})})]})]}),M.jsxs("button",{onClick:ut,className:`flex items-center gap-1.5 ${H?"text-xs px-3 py-1.5 min-w-[44px]":"text-[11px] px-2.5 py-1"} bg-text-primary text-bg-primary rounded font-medium hover:bg-white transition-colors touch-feedback`,children:[M.jsx(PC,{size:H?16:12}),M.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),M.jsxs("div",{className:`flex-1 flex ${H?ue?"flex-row":"flex-col":"flex-row"} overflow-hidden min-h-0`,children:[M.jsxs("div",{className:`flex flex-col min-w-0 min-h-0 ${H&&ue?"w-1/2":"flex-1"} overflow-hidden bg-gradient-to-b from-bg-primary to-bg-secondary/30`,children:[M.jsxs("div",{className:`flex-1 flex flex-col ${H&&!ue?"justify-center":""} overflow-hidden`,children:[!H||ue?M.jsx("div",{className:`flex justify-end ${H?"px-4 py-2":"px-3 py-2 md:py-1.5"} shrink-0 w-full`,children:M.jsxs("div",{className:`flex items-center ${H?"gap-2":"gap-1"} bg-bg-secondary/80 backdrop-blur-sm rounded-full ${H?"px-3 py-2":"px-2 py-1"} border border-border-subtle shadow-lg`,children:[M.jsx("button",{onClick:k,disabled:P<=1,className:`${H?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom out",children:M.jsx(ux,{size:H?18:12})}),M.jsxs("span",{className:`${H?"text-xs w-12":"text-[9px] w-8"} text-text-muted text-center font-medium`,children:[Math.round(P*100),"%"]}),M.jsx("button",{onClick:X,disabled:P>=2.5,className:`${H?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom in",children:M.jsx(Yg,{size:H?18:12})})]})}):null,M.jsx("div",{className:`flex-1 flex items-center justify-center ${H&&!ue?"overflow-hidden":"overflow-auto"} ${H&&!ue?"px-2 py-0":"px-3 pb-3"}`,children:M.jsx("div",{className:"relative flex items-center justify-center",style:{width:`${E}px`,height:`${E}px`,maxWidth:"100%",maxHeight:H&&!ue?"100%":void 0},children:M.jsx(OT,{zoomScale:P,zoomOriginY:F,onZoomChange:xe})})})]}),H?null:t?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:`h-7 bg-bg-secondary border-t border-border-subtle flex items-center justify-center group transition-colors ${j?"bg-accent-primary/20":""}`,children:M.jsx("div",{className:"flex-1 h-full cursor-ns-resize flex items-center justify-center hover:bg-bg-tertiary transition-colors",onMouseDown:ot,children:M.jsx(XC,{size:14,className:"text-text-muted group-hover:text-text-secondary"})})}),M.jsxs("div",{className:"shrink-0 bg-bg-secondary overflow-hidden",style:{height:C},children:[M.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-bg-secondary/90 backdrop-blur-sm",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[M.jsx("span",{className:"uppercase font-bold tracking-wider text-[9px]",children:"Scale"}),M.jsx("input",{type:"range",min:.01,max:1.6,step:.01,value:I,onChange:Ye=>W(parseFloat(Ye.target.value)),className:"w-32",style:{accentColor:"#8b5cf6"},"aria-label":"Timeline scale"}),M.jsxs("span",{className:"text-[10px] text-text-secondary w-12 text-right",children:[Math.round(I*100),"%"]})]}),M.jsxs("div",{className:"flex items-center gap-1",children:[M.jsxs("button",{onClick:v,disabled:!N,className:`flex items-center gap-1 ${H?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Undo (Z)",children:[M.jsx(hx,{size:H?14:12}),M.jsx("span",{className:"uppercase font-bold tracking-wider",children:H?"":"Undo"})]}),M.jsxs("button",{onClick:S,disabled:!T,className:`flex items-center gap-1 ${H?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Redo (Z)",children:[M.jsx(fx,{size:H?14:12}),M.jsx("span",{className:"uppercase font-bold tracking-wider",children:H?"":"Redo"})]})]})]}),M.jsxs("button",{onClick:i,className:`${H?"text-xs min-h-[44px] px-3":"text-[10px] px-2 py-1"} text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors flex items-center gap-1 touch-feedback`,title:"Hide timeline",children:[M.jsx(yh,{size:H?14:12}),M.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]}),M.jsx(Cb,{height:Tt,scale:I})]})]}):M.jsx("div",{className:`${H?"h-12":"h-7"} bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0`,children:M.jsxs("button",{onClick:i,className:`${H?"px-4 min-h-[48px]":"px-3 h-full"} flex items-center gap-1 ${H?"text-xs":"text-[9px]"} text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors touch-feedback`,title:"Show timeline",children:[M.jsx(Gg,{size:H?14:12}),M.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})})]}),H&&ue?M.jsx("div",{className:"w-1/2 flex flex-col overflow-hidden border-l border-border-subtle bg-bg-secondary",children:M.jsx(Cb,{height:300,scale:.8})}):H?null:M.jsx(Eb,{variant:"sidebar"})]}),H&&!ue&&M.jsx("div",{className:"shrink-0 px-4 pb-3 bg-bg-primary border-t border-border-subtle",children:M.jsx(Eb,{variant:"drawer"})}),M.jsx("div",{className:"shrink-0 z-30 relative",style:{paddingBottom:H?"env(safe-area-inset-bottom)":void 0},children:M.jsx(qE,{})})]})}a4.createRoot(document.getElementById("root")).render(M.jsx(he.StrictMode,{children:M.jsx(DM,{})}));export{Fn as _,jM as c,Yy as g};
