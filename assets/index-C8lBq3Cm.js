(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var S1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hm={exports:{}},Ff={};var ev;function L_(){if(ev)return Ff;ev=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:n,type:s,key:u,ref:a!==void 0?a:null,props:o}}return Ff.Fragment=e,Ff.jsx=t,Ff.jsxs=t,Ff}var tv;function O_(){return tv||(tv=1,hm.exports=L_()),hm.exports}var b=O_(),fm={exports:{}},gn={};var nv;function D_(){if(nv)return gn;nv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=_&&G[_]||G["@@iterator"],typeof G=="function"?G:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function C(G,L,X){this.props=G,this.context=L,this.refs=k,this.updater=X||A}C.prototype.isReactComponent={},C.prototype.setState=function(G,L){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,L,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function R(){}R.prototype=C.prototype;function D(G,L,X){this.props=G,this.context=L,this.refs=k,this.updater=X||A}var V=D.prototype=new R;V.constructor=D,N(V,C.prototype),V.isPureReactComponent=!0;var F=Array.isArray;function Y(){}var H={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function B(G,L,X){var W=X.ref;return{$$typeof:n,type:G,key:L,ref:W!==void 0?W:null,props:X}}function te(G,L){return B(G.type,L,G.props)}function j(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function I(G){var L={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(X){return L[X]})}var ee=/\/+/g;function U(G,L){return typeof G=="object"&&G!==null&&G.key!=null?I(""+G.key):L.toString(36)}function oe(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(Y,Y):(G.status="pending",G.then(function(L){G.status==="pending"&&(G.status="fulfilled",G.value=L)},function(L){G.status==="pending"&&(G.status="rejected",G.reason=L)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function $(G,L,X,W,Q){var se=typeof G;(se==="undefined"||se==="boolean")&&(G=null);var pe=!1;if(G===null)pe=!0;else switch(se){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(G.$$typeof){case n:case e:pe=!0;break;case p:return pe=G._init,$(pe(G._payload),L,X,W,Q)}}if(pe)return Q=Q(G),pe=W===""?"."+U(G,0):W,F(Q)?(X="",pe!=null&&(X=pe.replace(ee,"$&/")+"/"),$(Q,L,X,"",function(we){return we})):Q!=null&&(j(Q)&&(Q=te(Q,X+(Q.key==null||G&&G.key===Q.key?"":(""+Q.key).replace(ee,"$&/")+"/")+pe)),L.push(Q)),1;pe=0;var de=W===""?".":W+":";if(F(G))for(var xe=0;xe<G.length;xe++)W=G[xe],se=de+U(W,xe),pe+=$(W,L,X,se,Q);else if(xe=v(G),typeof xe=="function")for(G=xe.call(G),xe=0;!(W=G.next()).done;)W=W.value,se=de+U(W,xe++),pe+=$(W,L,X,se,Q);else if(se==="object"){if(typeof G.then=="function")return $(oe(G),L,X,W,Q);throw L=String(G),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return pe}function ne(G,L,X){if(G==null)return G;var W=[],Q=0;return $(G,W,"","",function(se){return L.call(X,se,Q++)}),W}function le(G){if(G._status===-1){var L=G._result;L=L(),L.then(function(X){(G._status===0||G._status===-1)&&(G._status=1,G._result=X)},function(X){(G._status===0||G._status===-1)&&(G._status=2,G._result=X)}),G._status===-1&&(G._status=0,G._result=L)}if(G._status===1)return G._result.default;throw G._result}var fe=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},be={map:ne,forEach:function(G,L,X){ne(G,function(){L.apply(this,arguments)},X)},count:function(G){var L=0;return ne(G,function(){L++}),L},toArray:function(G){return ne(G,function(L){return L})||[]},only:function(G){if(!j(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return gn.Activity=y,gn.Children=be,gn.Component=C,gn.Fragment=t,gn.Profiler=a,gn.PureComponent=D,gn.StrictMode=s,gn.Suspense=f,gn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,gn.__COMPILER_RUNTIME={__proto__:null,c:function(G){return H.H.useMemoCache(G)}},gn.cache=function(G){return function(){return G.apply(null,arguments)}},gn.cacheSignal=function(){return null},gn.cloneElement=function(G,L,X){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var W=N({},G.props),Q=G.key;if(L!=null)for(se in L.key!==void 0&&(Q=""+L.key),L)!E.call(L,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&L.ref===void 0||(W[se]=L[se]);var se=arguments.length-2;if(se===1)W.children=X;else if(1<se){for(var pe=Array(se),de=0;de<se;de++)pe[de]=arguments[de+2];W.children=pe}return B(G.type,Q,W)},gn.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:o,_context:G},G},gn.createElement=function(G,L,X){var W,Q={},se=null;if(L!=null)for(W in L.key!==void 0&&(se=""+L.key),L)E.call(L,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Q[W]=L[W]);var pe=arguments.length-2;if(pe===1)Q.children=X;else if(1<pe){for(var de=Array(pe),xe=0;xe<pe;xe++)de[xe]=arguments[xe+2];Q.children=de}if(G&&G.defaultProps)for(W in pe=G.defaultProps,pe)Q[W]===void 0&&(Q[W]=pe[W]);return B(G,se,Q)},gn.createRef=function(){return{current:null}},gn.forwardRef=function(G){return{$$typeof:c,render:G}},gn.isValidElement=j,gn.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:le}},gn.memo=function(G,L){return{$$typeof:d,type:G,compare:L===void 0?null:L}},gn.startTransition=function(G){var L=H.T,X={};H.T=X;try{var W=G(),Q=H.S;Q!==null&&Q(X,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Y,fe)}catch(se){fe(se)}finally{L!==null&&X.types!==null&&(L.types=X.types),H.T=L}},gn.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},gn.use=function(G){return H.H.use(G)},gn.useActionState=function(G,L,X){return H.H.useActionState(G,L,X)},gn.useCallback=function(G,L){return H.H.useCallback(G,L)},gn.useContext=function(G){return H.H.useContext(G)},gn.useDebugValue=function(){},gn.useDeferredValue=function(G,L){return H.H.useDeferredValue(G,L)},gn.useEffect=function(G,L){return H.H.useEffect(G,L)},gn.useEffectEvent=function(G){return H.H.useEffectEvent(G)},gn.useId=function(){return H.H.useId()},gn.useImperativeHandle=function(G,L,X){return H.H.useImperativeHandle(G,L,X)},gn.useInsertionEffect=function(G,L){return H.H.useInsertionEffect(G,L)},gn.useLayoutEffect=function(G,L){return H.H.useLayoutEffect(G,L)},gn.useMemo=function(G,L){return H.H.useMemo(G,L)},gn.useOptimistic=function(G,L){return H.H.useOptimistic(G,L)},gn.useReducer=function(G,L,X){return H.H.useReducer(G,L,X)},gn.useRef=function(G){return H.H.useRef(G)},gn.useState=function(G){return H.H.useState(G)},gn.useSyncExternalStore=function(G,L,X){return H.H.useSyncExternalStore(G,L,X)},gn.useTransition=function(){return H.H.useTransition()},gn.version="19.2.0",gn}var rv;function jg(){return rv||(rv=1,fm.exports=D_()),fm.exports}var re=jg();const Kn=M_(re);var dm={exports:{}},Bf={},pm={exports:{}},mm={};var sv;function R_(){return sv||(sv=1,(function(n){function e($,ne){var le=$.length;$.push(ne);e:for(;0<le;){var fe=le-1>>>1,be=$[fe];if(0<a(be,ne))$[fe]=ne,$[le]=be,le=fe;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ne=$[0],le=$.pop();if(le!==ne){$[0]=le;e:for(var fe=0,be=$.length,G=be>>>1;fe<G;){var L=2*(fe+1)-1,X=$[L],W=L+1,Q=$[W];if(0>a(X,le))W<be&&0>a(Q,X)?($[fe]=Q,$[W]=le,fe=W):($[fe]=X,$[L]=le,fe=L);else if(W<be&&0>a(Q,le))$[fe]=Q,$[W]=le,fe=W;else break e}}return ne}function a($,ne){var le=$.sortIndex-ne.sortIndex;return le!==0?le:$.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],p=1,y=null,_=3,v=!1,A=!1,N=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V($){for(var ne=t(d);ne!==null;){if(ne.callback===null)s(d);else if(ne.startTime<=$)s(d),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=t(d)}}function F($){if(N=!1,V($),!A)if(t(f)!==null)A=!0,Y||(Y=!0,I());else{var ne=t(d);ne!==null&&oe(F,ne.startTime-$)}}var Y=!1,H=-1,E=5,B=-1;function te(){return k?!0:!(n.unstable_now()-B<E)}function j(){if(k=!1,Y){var $=n.unstable_now();B=$;var ne=!0;try{e:{A=!1,N&&(N=!1,R(H),H=-1),v=!0;var le=_;try{t:{for(V($),y=t(f);y!==null&&!(y.expirationTime>$&&te());){var fe=y.callback;if(typeof fe=="function"){y.callback=null,_=y.priorityLevel;var be=fe(y.expirationTime<=$);if($=n.unstable_now(),typeof be=="function"){y.callback=be,V($),ne=!0;break t}y===t(f)&&s(f),V($)}else s(f);y=t(f)}if(y!==null)ne=!0;else{var G=t(d);G!==null&&oe(F,G.startTime-$),ne=!1}}break e}finally{y=null,_=le,v=!1}ne=void 0}}finally{ne?I():Y=!1}}}var I;if(typeof D=="function")I=function(){D(j)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,U=ee.port2;ee.port1.onmessage=j,I=function(){U.postMessage(null)}}else I=function(){C(j,0)};function oe($,ne){H=C(function(){$(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function($){switch(_){case 1:case 2:case 3:var ne=3;break;default:ne=_}var le=_;_=ne;try{return $()}finally{_=le}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function($,ne){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=_;_=$;try{return ne()}finally{_=le}},n.unstable_scheduleCallback=function($,ne,le){var fe=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,$){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=le+be,$={id:p++,callback:ne,priorityLevel:$,startTime:le,expirationTime:be,sortIndex:-1},le>fe?($.sortIndex=le,e(d,$),t(f)===null&&$===t(d)&&(N?(R(H),H=-1):N=!0,oe(F,le-fe))):($.sortIndex=be,e(f,$),A||v||(A=!0,Y||(Y=!0,I()))),$},n.unstable_shouldYield=te,n.unstable_wrapCallback=function($){var ne=_;return function(){var le=_;_=ne;try{return $.apply(this,arguments)}finally{_=le}}}})(mm)),mm}var iv;function I_(){return iv||(iv=1,pm.exports=R_()),pm.exports}var gm={exports:{}},ai={};var av;function V_(){if(av)return ai;av=1;var n=jg();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:d,implementation:p}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ai.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ai.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},ai.flushSync=function(f){var d=u.T,p=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=d,s.p=p,s.d.f()}},ai.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(f,d))},ai.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},ai.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?s.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:v}):p==="script"&&s.d.X(f,{crossOrigin:y,integrity:_,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ai.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(f)},ai.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);s.d.L(f,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ai.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);s.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(f)},ai.requestFormReset=function(f){s.d.r(f)},ai.unstable_batchedUpdates=function(f,d){return f(d)},ai.useFormState=function(f,d,p){return u.H.useFormState(f,d,p)},ai.useFormStatus=function(){return u.H.useHostTransitionStatus()},ai.version="19.2.0",ai}var ov;function Tx(){if(ov)return gm.exports;ov=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gm.exports=V_(),gm.exports}var lv;function F_(){if(lv)return Bf;lv=1;var n=I_(),e=jg(),t=Tx();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function c(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(o(r)!==r)throw Error(s(188))}function d(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var l=r,h=i;;){var g=l.return;if(g===null)break;var w=g.alternate;if(w===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===l)return f(g),r;if(w===h)return f(g),i;w=w.sibling}throw Error(s(188))}if(l.return!==h.return)l=g,h=w;else{for(var O=!1,J=g.child;J;){if(J===l){O=!0,l=g,h=w;break}if(J===h){O=!0,h=g,l=w;break}J=J.sibling}if(!O){for(J=w.child;J;){if(J===l){O=!0,l=w,h=g;break}if(J===h){O=!0,h=w,l=g;break}J=J.sibling}if(!O)throw Error(s(189))}}if(l.alternate!==h)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:i}function p(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=p(r),i!==null)return i;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function I(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var ee=Symbol.for("react.client.reference");function U(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ee?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case F:return"Suspense";case Y:return"SuspenseList";case B:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case D:return r.displayName||"Context";case R:return(r._context.displayName||"Context")+".Consumer";case V:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return i=r.displayName||null,i!==null?i:U(r.type)||"Memo";case E:i=r._payload,r=r._init;try{return U(r(i))}catch{}}return null}var oe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},fe=[],be=-1;function G(r){return{current:r}}function L(r){0>be||(r.current=fe[be],fe[be]=null,be--)}function X(r,i){be++,fe[be]=r.current,r.current=i}var W=G(null),Q=G(null),se=G(null),pe=G(null);function de(r,i){switch(X(se,i),X(Q,r),X(W,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?S5(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=S5(i),r=N5(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}L(W),X(W,r)}function xe(){L(W),L(Q),L(se)}function we(r){r.memoizedState!==null&&X(pe,r);var i=W.current,l=N5(i,r.type);i!==l&&(X(Q,r),X(W,l))}function Fe(r){Q.current===r&&(L(W),L(Q)),pe.current===r&&(L(pe),Df._currentValue=le)}var Ye,Ze;function lt(r){if(Ye===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Ye=i&&i[1]||"",Ze=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ye+r+Ze}var z=!1;function Ne(r,i){if(!r||z)return"";z=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var Qe=function(){throw Error()};if(Object.defineProperty(Qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qe,[])}catch(Ve){var Re=Ve}Reflect.construct(r,[],Qe)}else{try{Qe.call()}catch(Ve){Re=Ve}r.call(Qe.prototype)}}else{try{throw Error()}catch(Ve){Re=Ve}(Qe=r())&&typeof Qe.catch=="function"&&Qe.catch(function(){})}}catch(Ve){if(Ve&&Re&&typeof Ve.stack=="string")return[Ve.stack,Re.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),O=w[0],J=w[1];if(O&&J){var me=O.split(`
`),De=J.split(`
`);for(g=h=0;h<me.length&&!me[h].includes("DetermineComponentFrameRoot");)h++;for(;g<De.length&&!De[g].includes("DetermineComponentFrameRoot");)g++;if(h===me.length||g===De.length)for(h=me.length-1,g=De.length-1;1<=h&&0<=g&&me[h]!==De[g];)g--;for(;1<=h&&0<=g;h--,g--)if(me[h]!==De[g]){if(h!==1||g!==1)do if(h--,g--,0>g||me[h]!==De[g]){var He=`
`+me[h].replace(" at new "," at ");return r.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",r.displayName)),He}while(1<=h&&0<=g);break}}}finally{z=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?lt(l):""}function nt(r,i){switch(r.tag){case 26:case 27:case 5:return lt(r.type);case 16:return lt("Lazy");case 13:return r.child!==i&&i!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return Ne(r.type,!1);case 11:return Ne(r.type.render,!1);case 1:return Ne(r.type,!0);case 31:return lt("Activity");default:return""}}function Be(r){try{var i="",l=null;do i+=nt(r,l),l=r,r=r.return;while(r);return i}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var je=Object.prototype.hasOwnProperty,et=n.unstable_scheduleCallback,Ue=n.unstable_cancelCallback,ct=n.unstable_shouldYield,at=n.unstable_requestPaint,ze=n.unstable_now,it=n.unstable_getCurrentPriorityLevel,rt=n.unstable_ImmediatePriority,ut=n.unstable_UserBlockingPriority,vt=n.unstable_NormalPriority,dt=n.unstable_LowPriority,yt=n.unstable_IdlePriority,ht=n.log,wn=n.unstable_setDisableYieldValue,Zt=null,Nt=null;function wt(r){if(typeof ht=="function"&&wn(r),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Zt,r)}catch{}}var Tt=Math.clz32?Math.clz32:It,gt=Math.log,rn=Math.LN2;function It(r){return r>>>=0,r===0?32:31-(gt(r)/rn|0)|0}var Vt=256,ln=262144,bt=4194304;function _e(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function st(r,i,l){var h=r.pendingLanes;if(h===0)return 0;var g=0,w=r.suspendedLanes,O=r.pingedLanes;r=r.warmLanes;var J=h&134217727;return J!==0?(h=J&~w,h!==0?g=_e(h):(O&=J,O!==0?g=_e(O):l||(l=J&~r,l!==0&&(g=_e(l))))):(J=h&~w,J!==0?g=_e(J):O!==0?g=_e(O):l||(l=h&~r,l!==0&&(g=_e(l)))),g===0?0:i!==0&&i!==g&&(i&w)===0&&(w=g&-g,l=i&-i,w>=l||w===32&&(l&4194048)!==0)?i:g}function Ft(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function zt(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var r=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),r}function Oe(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function $e(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ft(r,i,l,h,g,w){var O=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var J=r.entanglements,me=r.expirationTimes,De=r.hiddenUpdates;for(l=O&~l;0<l;){var He=31-Tt(l),Qe=1<<He;J[He]=0,me[He]=-1;var Re=De[He];if(Re!==null)for(De[He]=null,He=0;He<Re.length;He++){var Ve=Re[He];Ve!==null&&(Ve.lane&=-536870913)}l&=~Qe}h!==0&&Et(r,h,0),w!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=w&~(O&~i))}function Et(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var h=31-Tt(i);r.entangledLanes|=i,r.entanglements[h]=r.entanglements[h]|1073741824|l&261930}function Rt(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var h=31-Tt(l),g=1<<h;g&i|r[h]&i&&(r[h]|=i),l&=~g}}function cn(r,i){var l=i&-i;return l=(l&42)!==0?1:Wt(l),(l&(r.suspendedLanes|i))!==0?0:l}function Wt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function un(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function hn(){var r=ne.p;return r!==0?r:(r=window.event,r===void 0?32:Y5(r.type))}function Qn(r,i){var l=ne.p;try{return ne.p=r,i()}finally{ne.p=l}}var Hn=Math.random().toString(36).slice(2),_n="__reactFiber$"+Hn,Jt="__reactProps$"+Hn,Wn="__reactContainer$"+Hn,Er="__reactEvents$"+Hn,us="__reactListeners$"+Hn,Ee="__reactHandles$"+Hn,Ie="__reactResources$"+Hn,Xe="__reactMarker$"+Hn;function xt(r){delete r[_n],delete r[Jt],delete r[Er],delete r[us],delete r[Ee]}function mt(r){var i=r[_n];if(i)return i;for(var l=r.parentNode;l;){if(i=l[Wn]||l[_n]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=M5(r);r!==null;){if(l=r[_n])return l;r=M5(r)}return i}r=l,l=r.parentNode}return null}function At(r){if(r=r[_n]||r[Wn]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function fn(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function sn(r){var i=r[Ie];return i||(i=r[Ie]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function en(r){r[Xe]=!0}var yn=new Set,Fn={};function Tn(r,i){sr(r,i),sr(r+"Capture",i)}function sr(r,i){for(Fn[r]=i,r=0;r<i.length;r++)yn.add(i[r])}var Yr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mr={},_s={};function $i(r){return je.call(_s,r)?!0:je.call(Mr,r)?!1:Yr.test(r)?_s[r]=!0:(Mr[r]=!0,!1)}function zr(r,i,l){if($i(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function ni(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function Gs(r,i,l,h){if(h===null)r.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+h)}}function Sn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Xi(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ds(r,i,l){var h=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,w=h.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(O){l=""+O,w.call(this,O)}}),Object.defineProperty(r,i,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(O){l=""+O},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function _i(r){if(!r._valueTracker){var i=Xi(r)?"checked":"value";r._valueTracker=Ds(r,i,""+r[i])}}function xo(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),h="";return r&&(h=Xi(r)?r.checked?"true":"false":r.value),r=h,r!==l?(i.setValue(r),!0):!1}function hs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Pr=/[\n"\\]/g;function Lr(r){return r.replace(Pr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wo(r,i,l,h,g,w,O,J){r.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.type=O:r.removeAttribute("type"),i!=null?O==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Sn(i)):r.value!==""+Sn(i)&&(r.value=""+Sn(i)):O!=="submit"&&O!=="reset"||r.removeAttribute("value"),i!=null?Zo(r,O,Sn(i)):l!=null?Zo(r,O,Sn(l)):h!=null&&r.removeAttribute("value"),g==null&&w!=null&&(r.defaultChecked=!!w),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?r.name=""+Sn(J):r.removeAttribute("name")}function Vl(r,i,l,h,g,w,O,J){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),i!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||i!=null)){_i(r);return}l=l!=null?""+Sn(l):"",i=i!=null?""+Sn(i):l,J||i===r.value||(r.value=i),r.defaultValue=i}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=J?r.checked:!!h,r.defaultChecked=!!h,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.name=O),_i(r)}function Zo(r,i,l){i==="number"&&hs(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Ys(r,i,l,h){if(r=r.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<r.length;l++)g=i.hasOwnProperty("$"+r[l].value),r[l].selected!==g&&(r[l].selected=g),g&&h&&(r[l].defaultSelected=!0)}else{for(l=""+Sn(l),i=null,g=0;g<r.length;g++){if(r[g].value===l){r[g].selected=!0,h&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Dc(r,i,l){if(i!=null&&(i=""+Sn(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+Sn(l):""}function Rc(r,i,l,h){if(i==null){if(h!=null){if(l!=null)throw Error(s(92));if(oe(h)){if(1<h.length)throw Error(s(93));h=h[0]}l=h}l==null&&(l=""),i=l}l=Sn(i),r.defaultValue=l,h=r.textContent,h===l&&h!==""&&h!==null&&(r.value=h),_i(r)}function Zi(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Ko=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(r,i,l){var h=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":h?r.setProperty(i,l):typeof l!="number"||l===0||Ko.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function ku(r,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var g in i)h=i[g],i.hasOwnProperty(g)&&l[g]!==h&&Cu(r,g,h)}else for(var w in i)i.hasOwnProperty(w)&&Cu(r,w,i[w])}function Ic(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ju=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(r){return ju.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ki(){}var Da=null;function Qo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _o=null,Gt=null;function Eu(r){var i=At(r);if(i&&(r=i.stateNode)){var l=r[Jt]||null;e:switch(r=i.stateNode,i.type){case"input":if(wo(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lr(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var h=l[i];if(h!==r&&h.form===r.form){var g=h[Jt]||null;if(!g)throw Error(s(90));wo(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<l.length;i++)h=l[i],h.form===r.form&&xo(h)}break e;case"textarea":Dc(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Ys(r,!!l.multiple,i,!1)}}}var Fc=!1;function Mu(r,i,l){if(Fc)return r(i,l);Fc=!0;try{var h=r(i);return h}finally{if(Fc=!1,(_o!==null||Gt!==null)&&(t1(),_o&&(i=_o,r=Gt,Gt=_o=null,Eu(i),r)))for(i=0;i<r.length;i++)Eu(r[i])}}function di(r,i){var l=r.stateNode;if(l===null)return null;var h=l[Jt]||null;if(h===null)return null;l=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bc=!1;if(Ss)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Bc=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Bc=!1}var pi=null,el=null,pa=null;function Lu(){if(pa)return pa;var r,i=el,l=i.length,h,g="value"in pi?pi.value:pi.textContent,w=g.length;for(r=0;r<l&&i[r]===g[r];r++);var O=l-r;for(h=1;h<=O&&i[l-h]===g[w-h];h++);return pa=g.slice(r,1<h?1-h:void 0)}function Si(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Fl(){return!0}function Bl(){return!1}function fs(r){function i(l,h,g,w,O){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var J in r)r.hasOwnProperty(J)&&(l=r[J],this[J]=l?l(w):w[J]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Fl:Bl,this.isPropagationStopped=Bl,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Fl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Fl)},persist:function(){},isPersistent:Fl}),i}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=fs(ma),Ra=y({},ma,{view:0,detail:0}),zl=fs(Ra),tl,Ia,Va,nl=y({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kt,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Va&&(Va&&r.type==="mousemove"?(tl=r.screenX-Va.screenX,Ia=r.screenY-Va.screenY):Ia=tl=0,Va=r),tl)},movementY:function(r){return"movementY"in r?r.movementY:Ia}}),zc=fs(nl),Fa=y({},nl,{dataTransfer:0}),Ba=fs(Fa),Ou=y({},Ra,{relatedTarget:0}),za=fs(Ou),Du=y({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),S=fs(Du),P=y({},ma,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),he=fs(P),ge=y({},ma,{data:0}),Ae=fs(ge),We={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ot(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=kt[r])?!!i[r]:!1}function Kt(){return Ot}var pn=y({},Ra,{key:function(r){if(r.key){var i=We[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Si(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kt,charCode:function(r){return r.type==="keypress"?Si(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Si(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Dn=fs(pn),xr=y({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qr=fs(xr),ir=y({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kt}),rs=fs(ir),$r=y({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ns=fs($r),Pa=y({},nl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Qi=fs(Pa),qa=y({},ma,{newState:0,oldState:0}),Pc=fs(qa),Pl=[9,13,27,32],ga=Ss&&"CompositionEvent"in window,Ji=null;Ss&&"documentMode"in document&&(Ji=document.documentMode);var rl=Ss&&"TextEvent"in window&&!Ji,Ua=Ss&&(!ga||Ji&&8<Ji&&11>=Ji),ds=" ",So=!1;function No(r,i){switch(r){case"keyup":return Pl.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ql(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ba=!1;function $s(r,i){switch(r){case"compositionend":return ql(i);case"keypress":return i.which!==32?null:(So=!0,ds);case"textInput":return r=i.data,r===ds&&So?null:r;default:return null}}function Ha(r,i){if(ba)return r==="compositionend"||!ga&&No(r,i)?(r=Lu(),pa=el=pi=null,ba=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ua&&i.locale!=="ko"?null:i.data;default:return null}}var Ul={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Ul[r.type]:i==="textarea"}function mi(r,i,l,h){_o?Gt?Gt.push(h):Gt=[h]:_o=h,i=l1(i,"onChange"),0<i.length&&(l=new Ni("onChange","change",null,l,h),r.push({event:l,listeners:i}))}var ea=null,Wa=null;function Uc(r){b5(r,0)}function ta(r){var i=fn(r);if(xo(i))return r}function Ao(r,i){if(r==="change")return i}var si=!1;if(Ss){var Xs;if(Ss){var va="oninput"in document;if(!va){var ya=document.createElement("div");ya.setAttribute("oninput","return;"),va=typeof ya.oninput=="function"}Xs=va}else Xs=!1;si=Xs&&(!document.documentMode||9<document.documentMode)}function Ga(){ea&&(ea.detachEvent("onpropertychange",Hl),Wa=ea=null)}function Hl(r){if(r.propertyName==="value"&&ta(Wa)){var i=[];mi(i,Wa,r,Qo(r)),Mu(Uc,i)}}function Wl(r,i,l){r==="focusin"?(Ga(),ea=i,Wa=l,ea.attachEvent("onpropertychange",Hl)):r==="focusout"&&Ga()}function Ur(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ta(Wa)}function Ru(r,i){if(r==="click")return ta(i)}function xa(r,i){if(r==="input"||r==="change")return ta(i)}function wa(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var As=typeof Object.is=="function"?Object.is:wa;function Ya(r,i){if(As(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),h=Object.keys(i);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!je.call(i,g)||!As(r[g],i[g]))return!1}return!0}function Gl(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Yl(r,i){var l=Gl(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=i&&h>=i)return{node:l,offset:i-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Gl(l)}}function $a(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?$a(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Xa(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=hs(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=hs(r.document)}return i}function _a(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var sl=Ss&&"documentMode"in document&&11>=document.documentMode,gi=null,Za=null,Rs=null,Ai=!1;function qn(r,i,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ai||gi==null||gi!==hs(h)||(h=gi,"selectionStart"in h&&_a(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Rs&&Ya(Rs,h)||(Rs=h,h=l1(Za,"onSelect"),0<h.length&&(i=new Ni("onSelect","select",null,i,l),r.push({event:i,listeners:h}),i.target=gi)))}function Rn(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var ar={animationend:Rn("Animation","AnimationEnd"),animationiteration:Rn("Animation","AnimationIteration"),animationstart:Rn("Animation","AnimationStart"),transitionrun:Rn("Transition","TransitionRun"),transitionstart:Rn("Transition","TransitionStart"),transitioncancel:Rn("Transition","TransitionCancel"),transitionend:Rn("Transition","TransitionEnd")},Hr={},Sa={};Ss&&(Sa=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function na(r){if(Hr[r])return Hr[r];if(!ar[r])return r;var i=ar[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in Sa)return Hr[r]=i[l];return r}var il=na("animationend"),Hc=na("animationiteration"),nf=na("animationstart"),Md=na("transitionrun"),Ld=na("transitionstart"),Od=na("transitioncancel"),rf=na("transitionend"),sf=new Map,al="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");al.push("scrollEnd");function Ti(r,i){sf.set(r,i),Tn(i,[r])}var Wc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},bi=[],ol=0,Iu=0;function Gc(){for(var r=ol,i=Iu=ol=0;i<r;){var l=bi[i];bi[i++]=null;var h=bi[i];bi[i++]=null;var g=bi[i];bi[i++]=null;var w=bi[i];if(bi[i++]=null,h!==null&&g!==null){var O=h.pending;O===null?g.next=g:(g.next=O.next,O.next=g),h.pending=g}w!==0&&$c(l,g,w)}}function Yc(r,i,l,h){bi[ol++]=r,bi[ol++]=i,bi[ol++]=l,bi[ol++]=h,Iu|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Vu(r,i,l,h){return Yc(r,i,l,h),Is(r)}function Ka(r,i){return Yc(r,null,null,i),Is(r)}function $c(r,i,l){r.lanes|=l;var h=r.alternate;h!==null&&(h.lanes|=l);for(var g=!1,w=r.return;w!==null;)w.childLanes|=l,h=w.alternate,h!==null&&(h.childLanes|=l),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(g=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,g&&i!==null&&(g=31-Tt(l),r=w.hiddenUpdates,h=r[g],h===null?r[g]=[i]:h.push(i),i.lane=l|536870912),w):null}function Is(r){if(50<Cf)throw Cf=0,R0=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Ts={};function Fu(r,i,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vs(r,i,l,h){return new Fu(r,i,l,h)}function Bu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ci(r,i){var l=r.alternate;return l===null?(l=Vs(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Xc(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function $l(r,i,l,h,g,w){var O=0;if(h=r,typeof r=="function")Bu(r)&&(O=1);else if(typeof r=="string")O=y_(r,l,W.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case B:return r=Vs(31,l,i,g),r.elementType=B,r.lanes=w,r;case N:return To(l.children,g,w,i);case k:O=8,g|=24;break;case C:return r=Vs(12,l,i,g|2),r.elementType=C,r.lanes=w,r;case F:return r=Vs(13,l,i,g),r.elementType=F,r.lanes=w,r;case Y:return r=Vs(19,l,i,g),r.elementType=Y,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case D:O=10;break e;case R:O=9;break e;case V:O=11;break e;case H:O=14;break e;case E:O=16,h=null;break e}O=29,l=Error(s(130,r===null?"null":typeof r,"")),h=null}return i=Vs(O,l,i,g),i.elementType=r,i.type=h,i.lanes=w,i}function To(r,i,l,h){return r=Vs(7,r,h,i),r.lanes=l,r}function Zc(r,i,l){return r=Vs(6,r,null,i),r.lanes=l,r}function zu(r){var i=Vs(18,null,null,0);return i.stateNode=r,i}function Xl(r,i,l){return i=Vs(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Pu=new WeakMap;function ki(r,i){if(typeof r=="object"&&r!==null){var l=Pu.get(r);return l!==void 0?l:(i={value:r,source:i,stack:Be(i)},Pu.set(r,i),i)}return{value:r,source:i,stack:Be(i)}}var Zl=[],ll=0,qu=null,Kc=0,ji=[],Ei=0,Co=null,Mi=1,Li="";function vi(r,i){Zl[ll++]=Kc,Zl[ll++]=qu,qu=r,Kc=i}function Dd(r,i,l){ji[Ei++]=Mi,ji[Ei++]=Li,ji[Ei++]=Co,Co=r;var h=Mi;r=Li;var g=32-Tt(h)-1;h&=~(1<<g),l+=1;var w=32-Tt(i)+g;if(30<w){var O=g-g%5;w=(h&(1<<O)-1).toString(32),h>>=O,g-=O,Mi=1<<32-Tt(i)+g|l<<g|h,Li=w+r}else Mi=1<<w|l<<g|h,Li=r}function af(r){r.return!==null&&(vi(r,1),Dd(r,1,0))}function Uu(r){for(;r===qu;)qu=Zl[--ll],Zl[ll]=null,Kc=Zl[--ll],Zl[ll]=null;for(;r===Co;)Co=ji[--Ei],ji[Ei]=null,Li=ji[--Ei],ji[Ei]=null,Mi=ji[--Ei],ji[Ei]=null}function Rd(r,i){ji[Ei++]=Mi,ji[Ei++]=Li,ji[Ei++]=Co,Mi=i.id,Li=i.overflow,Co=r}var Cs=null,dr=null,kn=!1,Zs=null,Or=!1,ra=Error(s(519));function ko(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(ki(i,r)),ra}function of(r){var i=r.stateNode,l=r.type,h=r.memoizedProps;switch(i[_n]=r,i[Jt]=h,l){case"dialog":En("cancel",i),En("close",i);break;case"iframe":case"object":case"embed":En("load",i);break;case"video":case"audio":for(l=0;l<jf.length;l++)En(jf[l],i);break;case"source":En("error",i);break;case"img":case"image":case"link":En("error",i),En("load",i);break;case"details":En("toggle",i);break;case"input":En("invalid",i),Vl(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":En("invalid",i);break;case"textarea":En("invalid",i),Rc(i,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||h.suppressHydrationWarning===!0||w5(i.textContent,l)?(h.popover!=null&&(En("beforetoggle",i),En("toggle",i)),h.onScroll!=null&&En("scroll",i),h.onScrollEnd!=null&&En("scrollend",i),h.onClick!=null&&(i.onclick=Ki),i=!0):i=!1,i||ko(r,!0)}function Qa(r){for(Cs=r.return;Cs;)switch(Cs.tag){case 5:case 31:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:Cs=Cs.return}}function ks(r){if(r!==Cs)return!1;if(!kn)return Qa(r),kn=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Z0(r.type,r.memoizedProps)),l=!l),l&&dr&&ko(r),Qa(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));dr=E5(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));dr=E5(r)}else i===27?(i=dr,hc(r.type)?(r=tm,tm=null,dr=r):dr=i):dr=Cs?Ca(r.stateNode.nextSibling):null;return!0}function cl(){dr=Cs=null,kn=!1}function lf(){var r=Zs;return r!==null&&(Fi===null?Fi=r:Fi.push.apply(Fi,r),Zs=null),r}function Kl(r){Zs===null?Zs=[r]:Zs.push(r)}var Hu=G(null),jo=null,Na=null;function Eo(r,i,l){X(Hu,i._currentValue),i._currentValue=l}function Oi(r){r._currentValue=Hu.current,L(Hu)}function Ql(r,i,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===l)break;r=r.return}}function ul(r,i,l,h){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var w=g.dependencies;if(w!==null){var O=g.child;w=w.firstContext;e:for(;w!==null;){var J=w;w=g;for(var me=0;me<i.length;me++)if(J.context===i[me]){w.lanes|=l,J=w.alternate,J!==null&&(J.lanes|=l),Ql(w.return,l,r),h||(O=null);break e}w=J.next}}else if(g.tag===18){if(O=g.return,O===null)throw Error(s(341));O.lanes|=l,w=O.alternate,w!==null&&(w.lanes|=l),Ql(O,l,r),O=null}else O=g.child;if(O!==null)O.return=g;else for(O=g;O!==null;){if(O===r){O=null;break}if(g=O.sibling,g!==null){g.return=O.return,O=g;break}O=O.return}g=O}}function Mo(r,i,l,h){r=null;for(var g=i,w=!1;g!==null;){if(!w){if((g.flags&524288)!==0)w=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var O=g.alternate;if(O===null)throw Error(s(387));if(O=O.memoizedProps,O!==null){var J=g.type;As(g.pendingProps.value,O.value)||(r!==null?r.push(J):r=[J])}}else if(g===pe.current){if(O=g.alternate,O===null)throw Error(s(387));O.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(Df):r=[Df])}g=g.return}r!==null&&ul(i,r,l,h),i.flags|=262144}function Wu(r){for(r=r.firstContext;r!==null;){if(!As(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Lo(r){jo=r,Na=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function js(r){return Id(jo,r)}function Gu(r,i){return jo===null&&Lo(r),Id(r,i)}function Id(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},Na===null){if(r===null)throw Error(s(308));Na=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Na=Na.next=i;return l}var e0=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,h){r.push(h)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},t0=n.unstable_scheduleCallback,n0=n.unstable_NormalPriority,Wr={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jl(){return{controller:new e0,data:new Map,refCount:0}}function Qc(r){r.refCount--,r.refCount===0&&t0(n0,function(){r.controller.abort()})}var Jc=null,Yu=0,m=0,x=null;function T(r,i){if(Jc===null){var l=Jc=[];Yu=0,m=P0(),x={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Yu++,i.then(M,M),i}function M(){if(--Yu===0&&Jc!==null){x!==null&&(x.status="fulfilled");var r=Jc;Jc=null,m=0,x=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function q(r,i){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return r.then(function(){h.status="fulfilled",h.value=i;for(var g=0;g<l.length;g++)(0,l[g])(i)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var Z=$.S;$.S=function(r,i){Wb=ze(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&T(r,i),Z!==null&&Z(r,i)};var K=G(null);function ie(){var r=K.current;return r!==null?r:mr.pooledCache}function ae(r,i){i===null?X(K,K.current):X(K,i.pool)}function ue(){var r=ie();return r===null?null:{parent:Wr._currentValue,pool:r}}var ve=Error(s(460)),Me=Error(s(474)),ce=Error(s(542)),Se={then:function(){}};function Ce(r){return r=r.status,r==="fulfilled"||r==="rejected"}function qe(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(Ki,Ki),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,ot(r),r;default:if(typeof i.status=="string")i.then(Ki,Ki);else{if(r=mr,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(h){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=h}},function(h){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,ot(r),r}throw Pe=i,ve}}function ke(r){try{var i=r._init;return i(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Pe=l,ve):l}}var Pe=null;function Ge(){if(Pe===null)throw Error(s(459));var r=Pe;return Pe=null,r}function ot(r){if(r===ve||r===ce)throw Error(s(483))}var Je=null,Mt=0;function _t(r){var i=Mt;return Mt+=1,Je===null&&(Je=[]),qe(Je,r,i)}function tn(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Ct(r,i){throw i.$$typeof===_?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Cn(r){function i(Te,ye){if(r){var Le=Te.deletions;Le===null?(Te.deletions=[ye],Te.flags|=16):Le.push(ye)}}function l(Te,ye){if(!r)return null;for(;ye!==null;)i(Te,ye),ye=ye.sibling;return null}function h(Te){for(var ye=new Map;Te!==null;)Te.key!==null?ye.set(Te.key,Te):ye.set(Te.index,Te),Te=Te.sibling;return ye}function g(Te,ye){return Te=Ci(Te,ye),Te.index=0,Te.sibling=null,Te}function w(Te,ye,Le){return Te.index=Le,r?(Le=Te.alternate,Le!==null?(Le=Le.index,Le<ye?(Te.flags|=67108866,ye):Le):(Te.flags|=67108866,ye)):(Te.flags|=1048576,ye)}function O(Te){return r&&Te.alternate===null&&(Te.flags|=67108866),Te}function J(Te,ye,Le,Ke){return ye===null||ye.tag!==6?(ye=Zc(Le,Te.mode,Ke),ye.return=Te,ye):(ye=g(ye,Le),ye.return=Te,ye)}function me(Te,ye,Le,Ke){var Ut=Le.type;return Ut===N?He(Te,ye,Le.props.children,Ke,Le.key):ye!==null&&(ye.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===E&&ke(Ut)===ye.type)?(ye=g(ye,Le.props),tn(ye,Le),ye.return=Te,ye):(ye=$l(Le.type,Le.key,Le.props,null,Te.mode,Ke),tn(ye,Le),ye.return=Te,ye)}function De(Te,ye,Le,Ke){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Le.containerInfo||ye.stateNode.implementation!==Le.implementation?(ye=Xl(Le,Te.mode,Ke),ye.return=Te,ye):(ye=g(ye,Le.children||[]),ye.return=Te,ye)}function He(Te,ye,Le,Ke,Ut){return ye===null||ye.tag!==7?(ye=To(Le,Te.mode,Ke,Ut),ye.return=Te,ye):(ye=g(ye,Le),ye.return=Te,ye)}function Qe(Te,ye,Le){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Zc(""+ye,Te.mode,Le),ye.return=Te,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return Le=$l(ye.type,ye.key,ye.props,null,Te.mode,Le),tn(Le,ye),Le.return=Te,Le;case A:return ye=Xl(ye,Te.mode,Le),ye.return=Te,ye;case E:return ye=ke(ye),Qe(Te,ye,Le)}if(oe(ye)||I(ye))return ye=To(ye,Te.mode,Le,null),ye.return=Te,ye;if(typeof ye.then=="function")return Qe(Te,_t(ye),Le);if(ye.$$typeof===D)return Qe(Te,Gu(Te,ye),Le);Ct(Te,ye)}return null}function Re(Te,ye,Le,Ke){var Ut=ye!==null?ye.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Ut!==null?null:J(Te,ye,""+Le,Ke);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case v:return Le.key===Ut?me(Te,ye,Le,Ke):null;case A:return Le.key===Ut?De(Te,ye,Le,Ke):null;case E:return Le=ke(Le),Re(Te,ye,Le,Ke)}if(oe(Le)||I(Le))return Ut!==null?null:He(Te,ye,Le,Ke,null);if(typeof Le.then=="function")return Re(Te,ye,_t(Le),Ke);if(Le.$$typeof===D)return Re(Te,ye,Gu(Te,Le),Ke);Ct(Te,Le)}return null}function Ve(Te,ye,Le,Ke,Ut){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Te=Te.get(Le)||null,J(ye,Te,""+Ke,Ut);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case v:return Te=Te.get(Ke.key===null?Le:Ke.key)||null,me(ye,Te,Ke,Ut);case A:return Te=Te.get(Ke.key===null?Le:Ke.key)||null,De(ye,Te,Ke,Ut);case E:return Ke=ke(Ke),Ve(Te,ye,Le,Ke,Ut)}if(oe(Ke)||I(Ke))return Te=Te.get(Le)||null,He(ye,Te,Ke,Ut,null);if(typeof Ke.then=="function")return Ve(Te,ye,Le,_t(Ke),Ut);if(Ke.$$typeof===D)return Ve(Te,ye,Le,Gu(ye,Ke),Ut);Ct(ye,Ke)}return null}function jt(Te,ye,Le,Ke){for(var Ut=null,Gn=null,Dt=ye,xn=ye=0,Ln=null;Dt!==null&&xn<Le.length;xn++){Dt.index>xn?(Ln=Dt,Dt=null):Ln=Dt.sibling;var Yn=Re(Te,Dt,Le[xn],Ke);if(Yn===null){Dt===null&&(Dt=Ln);break}r&&Dt&&Yn.alternate===null&&i(Te,Dt),ye=w(Yn,ye,xn),Gn===null?Ut=Yn:Gn.sibling=Yn,Gn=Yn,Dt=Ln}if(xn===Le.length)return l(Te,Dt),kn&&vi(Te,xn),Ut;if(Dt===null){for(;xn<Le.length;xn++)Dt=Qe(Te,Le[xn],Ke),Dt!==null&&(ye=w(Dt,ye,xn),Gn===null?Ut=Dt:Gn.sibling=Dt,Gn=Dt);return kn&&vi(Te,xn),Ut}for(Dt=h(Dt);xn<Le.length;xn++)Ln=Ve(Dt,Te,xn,Le[xn],Ke),Ln!==null&&(r&&Ln.alternate!==null&&Dt.delete(Ln.key===null?xn:Ln.key),ye=w(Ln,ye,xn),Gn===null?Ut=Ln:Gn.sibling=Ln,Gn=Ln);return r&&Dt.forEach(function(gc){return i(Te,gc)}),kn&&vi(Te,xn),Ut}function $t(Te,ye,Le,Ke){if(Le==null)throw Error(s(151));for(var Ut=null,Gn=null,Dt=ye,xn=ye=0,Ln=null,Yn=Le.next();Dt!==null&&!Yn.done;xn++,Yn=Le.next()){Dt.index>xn?(Ln=Dt,Dt=null):Ln=Dt.sibling;var gc=Re(Te,Dt,Yn.value,Ke);if(gc===null){Dt===null&&(Dt=Ln);break}r&&Dt&&gc.alternate===null&&i(Te,Dt),ye=w(gc,ye,xn),Gn===null?Ut=gc:Gn.sibling=gc,Gn=gc,Dt=Ln}if(Yn.done)return l(Te,Dt),kn&&vi(Te,xn),Ut;if(Dt===null){for(;!Yn.done;xn++,Yn=Le.next())Yn=Qe(Te,Yn.value,Ke),Yn!==null&&(ye=w(Yn,ye,xn),Gn===null?Ut=Yn:Gn.sibling=Yn,Gn=Yn);return kn&&vi(Te,xn),Ut}for(Dt=h(Dt);!Yn.done;xn++,Yn=Le.next())Yn=Ve(Dt,Te,xn,Yn.value,Ke),Yn!==null&&(r&&Yn.alternate!==null&&Dt.delete(Yn.key===null?xn:Yn.key),ye=w(Yn,ye,xn),Gn===null?Ut=Yn:Gn.sibling=Yn,Gn=Yn);return r&&Dt.forEach(function(E_){return i(Te,E_)}),kn&&vi(Te,xn),Ut}function ur(Te,ye,Le,Ke){if(typeof Le=="object"&&Le!==null&&Le.type===N&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case v:e:{for(var Ut=Le.key;ye!==null;){if(ye.key===Ut){if(Ut=Le.type,Ut===N){if(ye.tag===7){l(Te,ye.sibling),Ke=g(ye,Le.props.children),Ke.return=Te,Te=Ke;break e}}else if(ye.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===E&&ke(Ut)===ye.type){l(Te,ye.sibling),Ke=g(ye,Le.props),tn(Ke,Le),Ke.return=Te,Te=Ke;break e}l(Te,ye);break}else i(Te,ye);ye=ye.sibling}Le.type===N?(Ke=To(Le.props.children,Te.mode,Ke,Le.key),Ke.return=Te,Te=Ke):(Ke=$l(Le.type,Le.key,Le.props,null,Te.mode,Ke),tn(Ke,Le),Ke.return=Te,Te=Ke)}return O(Te);case A:e:{for(Ut=Le.key;ye!==null;){if(ye.key===Ut)if(ye.tag===4&&ye.stateNode.containerInfo===Le.containerInfo&&ye.stateNode.implementation===Le.implementation){l(Te,ye.sibling),Ke=g(ye,Le.children||[]),Ke.return=Te,Te=Ke;break e}else{l(Te,ye);break}else i(Te,ye);ye=ye.sibling}Ke=Xl(Le,Te.mode,Ke),Ke.return=Te,Te=Ke}return O(Te);case E:return Le=ke(Le),ur(Te,ye,Le,Ke)}if(oe(Le))return jt(Te,ye,Le,Ke);if(I(Le)){if(Ut=I(Le),typeof Ut!="function")throw Error(s(150));return Le=Ut.call(Le),$t(Te,ye,Le,Ke)}if(typeof Le.then=="function")return ur(Te,ye,_t(Le),Ke);if(Le.$$typeof===D)return ur(Te,ye,Gu(Te,Le),Ke);Ct(Te,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,ye!==null&&ye.tag===6?(l(Te,ye.sibling),Ke=g(ye,Le),Ke.return=Te,Te=Ke):(l(Te,ye),Ke=Zc(Le,Te.mode,Ke),Ke.return=Te,Te=Ke),O(Te)):l(Te,ye)}return function(Te,ye,Le,Ke){try{Mt=0;var Ut=ur(Te,ye,Le,Ke);return Je=null,Ut}catch(Dt){if(Dt===ve||Dt===ce)throw Dt;var Gn=Vs(29,Dt,null,Te.mode);return Gn.lanes=Ke,Gn.return=Te,Gn}finally{}}}var pr=Cn(!0),mn=Cn(!1),St=!1;function pt(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wr(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Yt(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function vn(r,i,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Zn&2)!==0){var g=h.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i,i=Is(r),$c(r,null,l),i}return Yc(r,h,i,l),Is(r)}function $n(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,Rt(r,l)}}function ss(r,i){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var O={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?g=w=O:w=w.next=O,l=l.next}while(l!==null);w===null?g=w=i:w=w.next=i}else g=w=i;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var Es=!1;function or(){if(Es){var r=x;if(r!==null)throw r}}function Xr(r,i,l,h){Es=!1;var g=r.updateQueue;St=!1;var w=g.firstBaseUpdate,O=g.lastBaseUpdate,J=g.shared.pending;if(J!==null){g.shared.pending=null;var me=J,De=me.next;me.next=null,O===null?w=De:O.next=De,O=me;var He=r.alternate;He!==null&&(He=He.updateQueue,J=He.lastBaseUpdate,J!==O&&(J===null?He.firstBaseUpdate=De:J.next=De,He.lastBaseUpdate=me))}if(w!==null){var Qe=g.baseState;O=0,He=De=me=null,J=w;do{var Re=J.lane&-536870913,Ve=Re!==J.lane;if(Ve?(Mn&Re)===Re:(h&Re)===Re){Re!==0&&Re===m&&(Es=!0),He!==null&&(He=He.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var jt=r,$t=J;Re=i;var ur=l;switch($t.tag){case 1:if(jt=$t.payload,typeof jt=="function"){Qe=jt.call(ur,Qe,Re);break e}Qe=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=$t.payload,Re=typeof jt=="function"?jt.call(ur,Qe,Re):jt,Re==null)break e;Qe=y({},Qe,Re);break e;case 2:St=!0}}Re=J.callback,Re!==null&&(r.flags|=64,Ve&&(r.flags|=8192),Ve=g.callbacks,Ve===null?g.callbacks=[Re]:Ve.push(Re))}else Ve={lane:Re,tag:J.tag,payload:J.payload,callback:J.callback,next:null},He===null?(De=He=Ve,me=Qe):He=He.next=Ve,O|=Re;if(J=J.next,J===null){if(J=g.shared.pending,J===null)break;Ve=J,J=Ve.next,Ve.next=null,g.lastBaseUpdate=Ve,g.shared.pending=null}}while(!0);He===null&&(me=Qe),g.baseState=me,g.firstBaseUpdate=De,g.lastBaseUpdate=He,w===null&&(g.shared.lanes=0),ac|=O,r.lanes=O,r.memoizedState=Qe}}function Fs(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function Zr(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)Fs(l[r],i)}var Nn=G(null),Bn=G(0);function _r(r,i){r=xl,X(Bn,r),X(Nn,i),xl=r|i.baseLanes}function Un(){X(Bn,xl),X(Nn,Nn.current)}function is(){xl=Bn.current,L(Nn),L(Bn)}var Sr=G(null),zn=null;function Gr(r){var i=r.alternate;X(In,In.current&1),X(Sr,r),zn===null&&(i===null||Nn.current!==null||i.memoizedState!==null)&&(zn=r)}function Xn(r){X(In,In.current),X(Sr,r),zn===null&&(zn=r)}function Kr(r){r.tag===22?(X(In,In.current),X(Sr,r),zn===null&&(zn=r)):Qr()}function Qr(){X(In,In.current),X(Sr,Sr.current)}function er(r){L(Sr),zn===r&&(zn=null),L(In)}var In=G(0);function Bs(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||J0(l)||em(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dr=0,Pt=null,qt=null,Pn=null,ii=!1,Di=!1,Ks=!1,Jr=0,Oo=0,Do=null,$u=0;function lr(){throw Error(s(321))}function cf(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!As(r[l],i[l]))return!1;return!0}function uf(r,i,l,h,g,w){return Dr=w,Pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=r===null||r.memoizedState===null?nb:u0,Ks=!1,w=l(h,g),Ks=!1,Di&&(w=Ja(i,l,h,g)),Xu(r),w}function Xu(r){$.H=vf;var i=qt!==null&&qt.next!==null;if(Dr=0,Pn=qt=Pt=null,ii=!1,Oo=0,Do=null,i)throw Error(s(300));r===null||ms||(r=r.dependencies,r!==null&&Wu(r)&&(ms=!0))}function Ja(r,i,l,h){Pt=r;var g=0;do{if(Di&&(Do=null),Oo=0,Di=!1,25<=g)throw Error(s(301));if(g+=1,Pn=qt=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}$.H=rb,w=i(l,h)}while(Di);return w}function r0(){var r=$.H,i=r.useState()[0];return i=typeof i.then=="function"?Ro(i):i,r=r.useState()[0],(qt!==null?qt.memoizedState:null)!==r&&(Pt.flags|=1024),i}function hf(){var r=Jr!==0;return Jr=0,r}function ff(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function Zu(r){if(ii){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ii=!1}Dr=0,Pn=qt=Pt=null,Di=!1,Oo=Jr=0,Do=null}function ps(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Pt.memoizedState=Pn=r:Pn=Pn.next=r,Pn}function Rr(){if(qt===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=qt.next;var i=Pn===null?Pt.memoizedState:Pn.next;if(i!==null)Pn=i,qt=r;else{if(r===null)throw Pt.alternate===null?Error(s(467)):Error(s(310));qt=r,r={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Pn===null?Pt.memoizedState=Pn=r:Pn=Pn.next=r}return Pn}function eu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ro(r){var i=Oo;return Oo+=1,Do===null&&(Do=[]),r=qe(Do,r,i),i=Pt,(Pn===null?i.memoizedState:Pn.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?nb:u0),r}function ec(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ro(r);if(r.$$typeof===D)return js(r)}throw Error(s(438,String(r)))}function hl(r){var i=null,l=Pt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var h=Pt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=eu(),Pt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),h=0;h<r;h++)l[h]=te;return i.index++,l}function Aa(r,i){return typeof i=="function"?i(r):i}function Ku(r){var i=Rr();return tc(i,qt,r)}function tc(r,i,l){var h=r.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var g=r.baseQueue,w=h.pending;if(w!==null){if(g!==null){var O=g.next;g.next=w.next,w.next=O}i.baseQueue=g=w,h.pending=null}if(w=r.baseState,g===null)r.memoizedState=w;else{i=g.next;var J=O=null,me=null,De=i,He=!1;do{var Qe=De.lane&-536870913;if(Qe!==De.lane?(Mn&Qe)===Qe:(Dr&Qe)===Qe){var Re=De.revertLane;if(Re===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Qe===m&&(He=!0);else if((Dr&Re)===Re){De=De.next,Re===m&&(He=!0);continue}else Qe={lane:0,revertLane:De.revertLane,gesture:null,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},me===null?(J=me=Qe,O=w):me=me.next=Qe,Pt.lanes|=Re,ac|=Re;Qe=De.action,Ks&&l(w,Qe),w=De.hasEagerState?De.eagerState:l(w,Qe)}else Re={lane:Qe,revertLane:De.revertLane,gesture:De.gesture,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},me===null?(J=me=Re,O=w):me=me.next=Re,Pt.lanes|=Qe,ac|=Qe;De=De.next}while(De!==null&&De!==i);if(me===null?O=w:me.next=J,!As(w,r.memoizedState)&&(ms=!0,He&&(l=x,l!==null)))throw l;r.memoizedState=w,r.baseState=O,r.baseQueue=me,h.lastRenderedState=w}return g===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Qu(r){var i=Rr(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=l.dispatch,g=l.pending,w=i.memoizedState;if(g!==null){l.pending=null;var O=g=g.next;do w=r(w,O.action),O=O.next;while(O!==g);As(w,i.memoizedState)||(ms=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),l.lastRenderedState=w}return[w,h]}function Ju(r,i,l){var h=Pt,g=Rr(),w=kn;if(w){if(l===void 0)throw Error(s(407));l=l()}else l=i();var O=!As((qt||g).memoizedState,l);if(O&&(g.memoizedState=l,ms=!0),g=g.queue,s0(pf.bind(null,h,g,r),[r]),g.getSnapshot!==i||O||Pn!==null&&Pn.memoizedState.tag&1){if(h.flags|=2048,dl(9,{destroy:void 0},df.bind(null,h,g,l,i),null),mr===null)throw Error(s(349));w||(Dr&127)!==0||eo(h,i,l)}return l}function eo(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=Pt.updateQueue,i===null?(i=eu(),Pt.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function df(r,i,l,h){i.value=l,i.getSnapshot=h,Vd(i)&&mf(r)}function pf(r,i,l){return l(function(){Vd(i)&&mf(r)})}function Vd(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!As(r,l)}catch{return!0}}function mf(r){var i=Ka(r,2);i!==null&&Bi(i,r,2)}function Io(r){var i=ps();if(typeof r=="function"){var l=r;if(r=l(),Ks){wt(!0);try{l()}finally{wt(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:r},i}function Fd(r,i,l,h){return r.baseState=l,tc(r,qt,typeof h=="function"?h:Aa)}function Bd(r,i,l,h,g){if(Ud(r))throw Error(s(485));if(r=i.action,r!==null){var w={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};$.T!==null?l(!0):w.isTransition=!1,h(w),l=i.pending,l===null?(w.next=i.pending=w,zd(i,w)):(w.next=l.next,i.pending=l.next=w)}}function zd(r,i){var l=i.action,h=i.payload,g=r.state;if(i.isTransition){var w=$.T,O={};$.T=O;try{var J=l(g,h),me=$.S;me!==null&&me(O,J),gf(r,i,J)}catch(De){fl(r,i,De)}finally{w!==null&&O.types!==null&&(w.types=O.types),$.T=w}}else try{w=l(g,h),gf(r,i,w)}catch(De){fl(r,i,De)}}function gf(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){Pd(r,i,h)},function(h){return fl(r,i,h)}):Pd(r,i,l)}function Pd(r,i,l){i.status="fulfilled",i.value=l,eh(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,zd(r,l)))}function fl(r,i,l){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=l,eh(i),i=i.next;while(i!==h)}r.action=null}function eh(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function tu(r,i){return i}function Ta(r,i){if(kn){var l=mr.formState;if(l!==null){e:{var h=Pt;if(kn){if(dr){t:{for(var g=dr,w=Or;g.nodeType!==8;){if(!w){g=null;break t}if(g=Ca(g.nextSibling),g===null){g=null;break t}}w=g.data,g=w==="F!"||w==="F"?g:null}if(g){dr=Ca(g.nextSibling),h=g.data==="F!";break e}}ko(h)}h=!1}h&&(i=l[0])}}return l=ps(),l.memoizedState=l.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:i},l.queue=h,l=J2.bind(null,Pt,h),h.dispatch=l,h=Io(!1),w=c0.bind(null,Pt,!1,h.queue),h=ps(),g={state:i,dispatch:null,action:r,pending:null},h.queue=g,l=Bd.bind(null,Pt,g,w,l),g.dispatch=l,h.memoizedState=r,[i,l,!1]}function to(r){var i=Rr();return no(i,qt,r)}function no(r,i,l){if(i=tc(r,i,tu)[0],r=Ku(Aa)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=Ro(i)}catch(O){throw O===ve?ce:O}else h=i;i=Rr();var g=i.queue,w=g.dispatch;return l!==i.memoizedState&&(Pt.flags|=2048,dl(9,{destroy:void 0},th.bind(null,g,l),null)),[h,w,r]}function th(r,i){r.action=i}function nh(r){var i=Rr(),l=qt;if(l!==null)return no(i,l,r);Rr(),i=i.memoizedState,l=Rr();var h=l.queue.dispatch;return l.memoizedState=r,[i,h,!1]}function dl(r,i,l,h){return r={tag:r,create:l,deps:h,inst:i,next:null},i=Pt.updateQueue,i===null&&(i=eu(),Pt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,i.lastEffect=r),r}function qd(){return Rr().memoizedState}function nc(r,i,l,h){var g=ps();Pt.flags|=r,g.memoizedState=dl(1|i,{destroy:void 0},l,h===void 0?null:h)}function rc(r,i,l,h){var g=Rr();h=h===void 0?null:h;var w=g.memoizedState.inst;qt!==null&&h!==null&&cf(h,qt.memoizedState.deps)?g.memoizedState=dl(i,w,l,h):(Pt.flags|=r,g.memoizedState=dl(1|i,w,l,h))}function B2(r,i){nc(8390656,8,r,i)}function s0(r,i){rc(2048,8,r,i)}function N4(r){Pt.flags|=4;var i=Pt.updateQueue;if(i===null)i=eu(),Pt.updateQueue=i,i.events=[r];else{var l=i.events;l===null?i.events=[r]:l.push(r)}}function z2(r){var i=Rr().memoizedState;return N4({ref:i,nextImpl:r}),function(){if((Zn&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function P2(r,i){return rc(4,2,r,i)}function q2(r,i){return rc(4,4,r,i)}function U2(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function H2(r,i,l){l=l!=null?l.concat([r]):null,rc(4,4,U2.bind(null,i,r),l)}function i0(){}function W2(r,i){var l=Rr();i=i===void 0?null:i;var h=l.memoizedState;return i!==null&&cf(i,h[1])?h[0]:(l.memoizedState=[r,i],r)}function G2(r,i){var l=Rr();i=i===void 0?null:i;var h=l.memoizedState;if(i!==null&&cf(i,h[1]))return h[0];if(h=r(),Ks){wt(!0);try{r()}finally{wt(!1)}}return l.memoizedState=[h,i],h}function a0(r,i,l){return l===void 0||(Dr&1073741824)!==0&&(Mn&261930)===0?r.memoizedState=i:(r.memoizedState=l,r=Yb(),Pt.lanes|=r,ac|=r,l)}function Y2(r,i,l,h){return As(l,i)?l:Nn.current!==null?(r=a0(r,l,h),As(r,i)||(ms=!0),r):(Dr&42)===0||(Dr&1073741824)!==0&&(Mn&261930)===0?(ms=!0,r.memoizedState=l):(r=Yb(),Pt.lanes|=r,ac|=r,i)}function $2(r,i,l,h,g){var w=ne.p;ne.p=w!==0&&8>w?w:8;var O=$.T,J={};$.T=J,c0(r,!1,i,l);try{var me=g(),De=$.S;if(De!==null&&De(J,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var He=q(me,h);bf(r,i,He,aa(r))}else bf(r,i,h,aa(r))}catch(Qe){bf(r,i,{then:function(){},status:"rejected",reason:Qe},aa())}finally{ne.p=w,O!==null&&J.types!==null&&(O.types=J.types),$.T=O}}function A4(){}function o0(r,i,l,h){if(r.tag!==5)throw Error(s(476));var g=X2(r).queue;$2(r,g,i,le,l===null?A4:function(){return Z2(r),l(h)})}function X2(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:le},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Z2(r){var i=X2(r);i.next===null&&(i=r.alternate.memoizedState),bf(r,i.next.queue,{},aa())}function l0(){return js(Df)}function K2(){return Rr().memoizedState}function Q2(){return Rr().memoizedState}function T4(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=aa();r=Yt(l);var h=vn(i,r,l);h!==null&&(Bi(h,i,l),$n(h,i,l)),i={cache:Jl()},r.payload=i;return}i=i.return}}function C4(r,i,l){var h=aa();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ud(r)?eb(i,l):(l=Vu(r,i,l,h),l!==null&&(Bi(l,r,h),tb(l,i,h)))}function J2(r,i,l){var h=aa();bf(r,i,l,h)}function bf(r,i,l,h){var g={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ud(r))eb(i,g);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var O=i.lastRenderedState,J=w(O,l);if(g.hasEagerState=!0,g.eagerState=J,As(J,O))return Yc(r,i,g,0),mr===null&&Gc(),!1}catch{}finally{}if(l=Vu(r,i,g,h),l!==null)return Bi(l,r,h),tb(l,i,h),!0}return!1}function c0(r,i,l,h){if(h={lane:2,revertLane:P0(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ud(r)){if(i)throw Error(s(479))}else i=Vu(r,l,h,2),i!==null&&Bi(i,r,2)}function Ud(r){var i=r.alternate;return r===Pt||i!==null&&i===Pt}function eb(r,i){Di=ii=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function tb(r,i,l){if((l&4194048)!==0){var h=i.lanes;h&=r.pendingLanes,l|=h,i.lanes=l,Rt(r,l)}}var vf={readContext:js,use:ec,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useLayoutEffect:lr,useInsertionEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useSyncExternalStore:lr,useId:lr,useHostTransitionStatus:lr,useFormState:lr,useActionState:lr,useOptimistic:lr,useMemoCache:lr,useCacheRefresh:lr};vf.useEffectEvent=lr;var nb={readContext:js,use:ec,useCallback:function(r,i){return ps().memoizedState=[r,i===void 0?null:i],r},useContext:js,useEffect:B2,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,nc(4194308,4,U2.bind(null,i,r),l)},useLayoutEffect:function(r,i){return nc(4194308,4,r,i)},useInsertionEffect:function(r,i){nc(4,2,r,i)},useMemo:function(r,i){var l=ps();i=i===void 0?null:i;var h=r();if(Ks){wt(!0);try{r()}finally{wt(!1)}}return l.memoizedState=[h,i],h},useReducer:function(r,i,l){var h=ps();if(l!==void 0){var g=l(i);if(Ks){wt(!0);try{l(i)}finally{wt(!1)}}}else g=i;return h.memoizedState=h.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},h.queue=r,r=r.dispatch=C4.bind(null,Pt,r),[h.memoizedState,r]},useRef:function(r){var i=ps();return r={current:r},i.memoizedState=r},useState:function(r){r=Io(r);var i=r.queue,l=J2.bind(null,Pt,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:i0,useDeferredValue:function(r,i){var l=ps();return a0(l,r,i)},useTransition:function(){var r=Io(!1);return r=$2.bind(null,Pt,r.queue,!0,!1),ps().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var h=Pt,g=ps();if(kn){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),mr===null)throw Error(s(349));(Mn&127)!==0||eo(h,i,l)}g.memoizedState=l;var w={value:l,getSnapshot:i};return g.queue=w,B2(pf.bind(null,h,w,r),[r]),h.flags|=2048,dl(9,{destroy:void 0},df.bind(null,h,w,l,i),null),l},useId:function(){var r=ps(),i=mr.identifierPrefix;if(kn){var l=Li,h=Mi;l=(h&~(1<<32-Tt(h)-1)).toString(32)+l,i="_"+i+"R_"+l,l=Jr++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=$u++,i="_"+i+"r_"+l.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:l0,useFormState:Ta,useActionState:Ta,useOptimistic:function(r){var i=ps();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=c0.bind(null,Pt,!0,l),l.dispatch=i,[r,i]},useMemoCache:hl,useCacheRefresh:function(){return ps().memoizedState=T4.bind(null,Pt)},useEffectEvent:function(r){var i=ps(),l={impl:r};return i.memoizedState=l,function(){if((Zn&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},u0={readContext:js,use:ec,useCallback:W2,useContext:js,useEffect:s0,useImperativeHandle:H2,useInsertionEffect:P2,useLayoutEffect:q2,useMemo:G2,useReducer:Ku,useRef:qd,useState:function(){return Ku(Aa)},useDebugValue:i0,useDeferredValue:function(r,i){var l=Rr();return Y2(l,qt.memoizedState,r,i)},useTransition:function(){var r=Ku(Aa)[0],i=Rr().memoizedState;return[typeof r=="boolean"?r:Ro(r),i]},useSyncExternalStore:Ju,useId:K2,useHostTransitionStatus:l0,useFormState:to,useActionState:to,useOptimistic:function(r,i){var l=Rr();return Fd(l,qt,r,i)},useMemoCache:hl,useCacheRefresh:Q2};u0.useEffectEvent=z2;var rb={readContext:js,use:ec,useCallback:W2,useContext:js,useEffect:s0,useImperativeHandle:H2,useInsertionEffect:P2,useLayoutEffect:q2,useMemo:G2,useReducer:Qu,useRef:qd,useState:function(){return Qu(Aa)},useDebugValue:i0,useDeferredValue:function(r,i){var l=Rr();return qt===null?a0(l,r,i):Y2(l,qt.memoizedState,r,i)},useTransition:function(){var r=Qu(Aa)[0],i=Rr().memoizedState;return[typeof r=="boolean"?r:Ro(r),i]},useSyncExternalStore:Ju,useId:K2,useHostTransitionStatus:l0,useFormState:nh,useActionState:nh,useOptimistic:function(r,i){var l=Rr();return qt!==null?Fd(l,qt,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:hl,useCacheRefresh:Q2};rb.useEffectEvent=z2;function h0(r,i,l,h){i=r.memoizedState,l=l(h,i),l=l==null?i:y({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var f0={enqueueSetState:function(r,i,l){r=r._reactInternals;var h=aa(),g=Yt(h);g.payload=i,l!=null&&(g.callback=l),i=vn(r,g,h),i!==null&&(Bi(i,r,h),$n(i,r,h))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var h=aa(),g=Yt(h);g.tag=1,g.payload=i,l!=null&&(g.callback=l),i=vn(r,g,h),i!==null&&(Bi(i,r,h),$n(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=aa(),h=Yt(l);h.tag=2,i!=null&&(h.callback=i),i=vn(r,h,l),i!==null&&(Bi(i,r,l),$n(i,r,l))}};function sb(r,i,l,h,g,w,O){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,w,O):i.prototype&&i.prototype.isPureReactComponent?!Ya(l,h)||!Ya(g,w):!0}function ib(r,i,l,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,h),i.state!==r&&f0.enqueueReplaceState(i,i.state,null)}function nu(r,i){var l=i;if("ref"in i){l={};for(var h in i)h!=="ref"&&(l[h]=i[h])}if(r=r.defaultProps){l===i&&(l=y({},l));for(var g in r)l[g]===void 0&&(l[g]=r[g])}return l}function ab(r){Wc(r)}function ob(r){console.error(r)}function lb(r){Wc(r)}function Hd(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function cb(r,i,l){try{var h=r.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function d0(r,i,l){return l=Yt(l),l.tag=3,l.payload={element:null},l.callback=function(){Hd(r,i)},l}function ub(r){return r=Yt(r),r.tag=3,r}function hb(r,i,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var w=h.value;r.payload=function(){return g(w)},r.callback=function(){cb(i,l,h)}}var O=l.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(r.callback=function(){cb(i,l,h),typeof g!="function"&&(oc===null?oc=new Set([this]):oc.add(this));var J=h.stack;this.componentDidCatch(h.value,{componentStack:J!==null?J:""})})}function k4(r,i,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=l.alternate,i!==null&&Mo(i,l,g,!0),l=Sr.current,l!==null){switch(l.tag){case 31:case 13:return zn===null?n1():l.alternate===null&&es===0&&(es=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===Se?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([h]):i.add(h),F0(r,h,g)),!1;case 22:return l.flags|=65536,h===Se?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([h]):l.add(h)),F0(r,h,g)),!1}throw Error(s(435,l.tag))}return F0(r,h,g),n1(),!1}if(kn)return i=Sr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,h!==ra&&(r=Error(s(422),{cause:h}),Kl(ki(r,l)))):(h!==ra&&(i=Error(s(423),{cause:h}),Kl(ki(i,l))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,h=ki(h,l),g=d0(r.stateNode,h,g),ss(r,g),es!==4&&(es=2)),!1;var w=Error(s(520),{cause:h});if(w=ki(w,l),Tf===null?Tf=[w]:Tf.push(w),es!==4&&(es=2),i===null)return!0;h=ki(h,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=g&-g,l.lanes|=r,r=d0(l.stateNode,h,r),ss(l,r),!1;case 1:if(i=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(oc===null||!oc.has(w))))return l.flags|=65536,g&=-g,l.lanes|=g,g=ub(g),hb(g,r,l,h),ss(l,g),!1}l=l.return}while(l!==null);return!1}var p0=Error(s(461)),ms=!1;function Qs(r,i,l,h){i.child=r===null?mn(i,null,l,h):pr(i,r.child,l,h)}function fb(r,i,l,h,g){l=l.render;var w=i.ref;if("ref"in h){var O={};for(var J in h)J!=="ref"&&(O[J]=h[J])}else O=h;return Lo(i),h=uf(r,i,l,O,w,g),J=hf(),r!==null&&!ms?(ff(r,i,g),pl(r,i,g)):(kn&&J&&af(i),i.flags|=1,Qs(r,i,h,g),i.child)}function db(r,i,l,h,g){if(r===null){var w=l.type;return typeof w=="function"&&!Bu(w)&&w.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=w,pb(r,i,w,h,g)):(r=$l(l.type,null,h,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(w=r.child,!_0(r,g)){var O=w.memoizedProps;if(l=l.compare,l=l!==null?l:Ya,l(O,h)&&r.ref===i.ref)return pl(r,i,g)}return i.flags|=1,r=Ci(w,h),r.ref=i.ref,r.return=i,i.child=r}function pb(r,i,l,h,g){if(r!==null){var w=r.memoizedProps;if(Ya(w,h)&&r.ref===i.ref)if(ms=!1,i.pendingProps=h=w,_0(r,g))(r.flags&131072)!==0&&(ms=!0);else return i.lanes=r.lanes,pl(r,i,g)}return m0(r,i,l,h,g)}function mb(r,i,l,h){var g=h.children,w=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((i.flags&128)!==0){if(w=w!==null?w.baseLanes|l:l,r!==null){for(h=i.child=r.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~w}else h=0,i.child=null;return gb(r,i,w,l,h)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&ae(i,w!==null?w.cachePool:null),w!==null?_r(i,w):Un(),Kr(i);else return h=i.lanes=536870912,gb(r,i,w!==null?w.baseLanes|l:l,l,h)}else w!==null?(ae(i,w.cachePool),_r(i,w),Qr(),i.memoizedState=null):(r!==null&&ae(i,null),Un(),Qr());return Qs(r,i,g,l),i.child}function yf(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function gb(r,i,l,h,g){var w=ie();return w=w===null?null:{parent:Wr._currentValue,pool:w},i.memoizedState={baseLanes:l,cachePool:w},r!==null&&ae(i,null),Un(),Kr(i),r!==null&&Mo(r,i,h,!0),i.childLanes=g,null}function Wd(r,i){return i=Yd({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function bb(r,i,l){return pr(i,r.child,null,l),r=Wd(i,i.pendingProps),r.flags|=2,er(i),i.memoizedState=null,r}function j4(r,i,l){var h=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(kn){if(h.mode==="hidden")return r=Wd(i,h),i.lanes=536870912,yf(null,r);if(Xn(i),(r=dr)?(r=j5(r,Or),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Co!==null?{id:Mi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},l=zu(r),l.return=i,i.child=l,Cs=i,dr=null)):r=null,r===null)throw ko(i);return i.lanes=536870912,null}return Wd(i,h)}var w=r.memoizedState;if(w!==null){var O=w.dehydrated;if(Xn(i),g)if(i.flags&256)i.flags&=-257,i=bb(r,i,l);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(ms||Mo(r,i,l,!1),g=(l&r.childLanes)!==0,ms||g){if(h=mr,h!==null&&(O=cn(h,l),O!==0&&O!==w.retryLane))throw w.retryLane=O,Ka(r,O),Bi(h,r,O),p0;n1(),i=bb(r,i,l)}else r=w.treeContext,dr=Ca(O.nextSibling),Cs=i,kn=!0,Zs=null,Or=!1,r!==null&&Rd(i,r),i=Wd(i,h),i.flags|=4096;return i}return r=Ci(r.child,{mode:h.mode,children:h.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Gd(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function m0(r,i,l,h,g){return Lo(i),l=uf(r,i,l,h,void 0,g),h=hf(),r!==null&&!ms?(ff(r,i,g),pl(r,i,g)):(kn&&h&&af(i),i.flags|=1,Qs(r,i,l,g),i.child)}function vb(r,i,l,h,g,w){return Lo(i),i.updateQueue=null,l=Ja(i,h,l,g),Xu(r),h=hf(),r!==null&&!ms?(ff(r,i,w),pl(r,i,w)):(kn&&h&&af(i),i.flags|=1,Qs(r,i,l,w),i.child)}function yb(r,i,l,h,g){if(Lo(i),i.stateNode===null){var w=Ts,O=l.contextType;typeof O=="object"&&O!==null&&(w=js(O)),w=new l(h,w),i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=f0,i.stateNode=w,w._reactInternals=i,w=i.stateNode,w.props=h,w.state=i.memoizedState,w.refs={},pt(i),O=l.contextType,w.context=typeof O=="object"&&O!==null?js(O):Ts,w.state=i.memoizedState,O=l.getDerivedStateFromProps,typeof O=="function"&&(h0(i,l,O,h),w.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&f0.enqueueReplaceState(w,w.state,null),Xr(i,h,w,g),or(),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(r===null){w=i.stateNode;var J=i.memoizedProps,me=nu(l,J);w.props=me;var De=w.context,He=l.contextType;O=Ts,typeof He=="object"&&He!==null&&(O=js(He));var Qe=l.getDerivedStateFromProps;He=typeof Qe=="function"||typeof w.getSnapshotBeforeUpdate=="function",J=i.pendingProps!==J,He||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(J||De!==O)&&ib(i,w,h,O),St=!1;var Re=i.memoizedState;w.state=Re,Xr(i,h,w,g),or(),De=i.memoizedState,J||Re!==De||St?(typeof Qe=="function"&&(h0(i,l,Qe,h),De=i.memoizedState),(me=St||sb(i,l,me,h,Re,De,O))?(He||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=De),w.props=h,w.state=De,w.context=O,h=me):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{w=i.stateNode,wr(r,i),O=i.memoizedProps,He=nu(l,O),w.props=He,Qe=i.pendingProps,Re=w.context,De=l.contextType,me=Ts,typeof De=="object"&&De!==null&&(me=js(De)),J=l.getDerivedStateFromProps,(De=typeof J=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==Qe||Re!==me)&&ib(i,w,h,me),St=!1,Re=i.memoizedState,w.state=Re,Xr(i,h,w,g),or();var Ve=i.memoizedState;O!==Qe||Re!==Ve||St||r!==null&&r.dependencies!==null&&Wu(r.dependencies)?(typeof J=="function"&&(h0(i,l,J,h),Ve=i.memoizedState),(He=St||sb(i,l,He,h,Re,Ve,me)||r!==null&&r.dependencies!==null&&Wu(r.dependencies))?(De||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Ve,me),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Ve,me)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&Re===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&Re===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=Ve),w.props=h,w.state=Ve,w.context=me,h=He):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&Re===r.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&Re===r.memoizedState||(i.flags|=1024),h=!1)}return w=h,Gd(r,i),h=(i.flags&128)!==0,w||h?(w=i.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:w.render(),i.flags|=1,r!==null&&h?(i.child=pr(i,r.child,null,g),i.child=pr(i,null,l,g)):Qs(r,i,l,g),i.memoizedState=w.state,r=i.child):r=pl(r,i,g),r}function xb(r,i,l,h){return cl(),i.flags|=256,Qs(r,i,l,h),i.child}var g0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function b0(r){return{baseLanes:r,cachePool:ue()}}function v0(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=ia),r}function wb(r,i,l){var h=i.pendingProps,g=!1,w=(i.flags&128)!==0,O;if((O=w)||(O=r!==null&&r.memoizedState===null?!1:(In.current&2)!==0),O&&(g=!0,i.flags&=-129),O=(i.flags&32)!==0,i.flags&=-33,r===null){if(kn){if(g?Gr(i):Qr(),(r=dr)?(r=j5(r,Or),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Co!==null?{id:Mi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},l=zu(r),l.return=i,i.child=l,Cs=i,dr=null)):r=null,r===null)throw ko(i);return em(r)?i.lanes=32:i.lanes=536870912,null}var J=h.children;return h=h.fallback,g?(Qr(),g=i.mode,J=Yd({mode:"hidden",children:J},g),h=To(h,g,l,null),J.return=i,h.return=i,J.sibling=h,i.child=J,h=i.child,h.memoizedState=b0(l),h.childLanes=v0(r,O,l),i.memoizedState=g0,yf(null,h)):(Gr(i),y0(i,J))}var me=r.memoizedState;if(me!==null&&(J=me.dehydrated,J!==null)){if(w)i.flags&256?(Gr(i),i.flags&=-257,i=x0(r,i,l)):i.memoizedState!==null?(Qr(),i.child=r.child,i.flags|=128,i=null):(Qr(),J=h.fallback,g=i.mode,h=Yd({mode:"visible",children:h.children},g),J=To(J,g,l,null),J.flags|=2,h.return=i,J.return=i,h.sibling=J,i.child=h,pr(i,r.child,null,l),h=i.child,h.memoizedState=b0(l),h.childLanes=v0(r,O,l),i.memoizedState=g0,i=yf(null,h));else if(Gr(i),em(J)){if(O=J.nextSibling&&J.nextSibling.dataset,O)var De=O.dgst;O=De,h=Error(s(419)),h.stack="",h.digest=O,Kl({value:h,source:null,stack:null}),i=x0(r,i,l)}else if(ms||Mo(r,i,l,!1),O=(l&r.childLanes)!==0,ms||O){if(O=mr,O!==null&&(h=cn(O,l),h!==0&&h!==me.retryLane))throw me.retryLane=h,Ka(r,h),Bi(O,r,h),p0;J0(J)||n1(),i=x0(r,i,l)}else J0(J)?(i.flags|=192,i.child=r.child,i=null):(r=me.treeContext,dr=Ca(J.nextSibling),Cs=i,kn=!0,Zs=null,Or=!1,r!==null&&Rd(i,r),i=y0(i,h.children),i.flags|=4096);return i}return g?(Qr(),J=h.fallback,g=i.mode,me=r.child,De=me.sibling,h=Ci(me,{mode:"hidden",children:h.children}),h.subtreeFlags=me.subtreeFlags&65011712,De!==null?J=Ci(De,J):(J=To(J,g,l,null),J.flags|=2),J.return=i,h.return=i,h.sibling=J,i.child=h,yf(null,h),h=i.child,J=r.child.memoizedState,J===null?J=b0(l):(g=J.cachePool,g!==null?(me=Wr._currentValue,g=g.parent!==me?{parent:me,pool:me}:g):g=ue(),J={baseLanes:J.baseLanes|l,cachePool:g}),h.memoizedState=J,h.childLanes=v0(r,O,l),i.memoizedState=g0,yf(r.child,h)):(Gr(i),l=r.child,r=l.sibling,l=Ci(l,{mode:"visible",children:h.children}),l.return=i,l.sibling=null,r!==null&&(O=i.deletions,O===null?(i.deletions=[r],i.flags|=16):O.push(r)),i.child=l,i.memoizedState=null,l)}function y0(r,i){return i=Yd({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Yd(r,i){return r=Vs(22,r,null,i),r.lanes=0,r}function x0(r,i,l){return pr(i,r.child,null,l),r=y0(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function _b(r,i,l){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Ql(r.return,i,l)}function w0(r,i,l,h,g,w){var O=r.memoizedState;O===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g,treeForkCount:w}:(O.isBackwards=i,O.rendering=null,O.renderingStartTime=0,O.last=h,O.tail=l,O.tailMode=g,O.treeForkCount=w)}function Sb(r,i,l){var h=i.pendingProps,g=h.revealOrder,w=h.tail;h=h.children;var O=In.current,J=(O&2)!==0;if(J?(O=O&1|2,i.flags|=128):O&=1,X(In,O),Qs(r,i,h,l),h=kn?Kc:0,!J&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_b(r,l,i);else if(r.tag===19)_b(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(g){case"forwards":for(l=i.child,g=null;l!==null;)r=l.alternate,r!==null&&Bs(r)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),w0(i,!1,g,l,w,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Bs(r)===null){i.child=g;break}r=g.sibling,g.sibling=l,l=g,g=r}w0(i,!0,l,null,w,h);break;case"together":w0(i,!1,null,null,void 0,h);break;default:i.memoizedState=null}return i.child}function pl(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),ac|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(Mo(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,l=Ci(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Ci(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function _0(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Wu(r)))}function E4(r,i,l){switch(i.tag){case 3:de(i,i.stateNode.containerInfo),Eo(i,Wr,r.memoizedState.cache),cl();break;case 27:case 5:we(i);break;case 4:de(i,i.stateNode.containerInfo);break;case 10:Eo(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Xn(i),null;break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(Gr(i),i.flags|=128,null):(l&i.child.childLanes)!==0?wb(r,i,l):(Gr(i),r=pl(r,i,l),r!==null?r.sibling:null);Gr(i);break;case 19:var g=(r.flags&128)!==0;if(h=(l&i.childLanes)!==0,h||(Mo(r,i,l,!1),h=(l&i.childLanes)!==0),g){if(h)return Sb(r,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),X(In,In.current),h)break;return null;case 22:return i.lanes=0,mb(r,i,l,i.pendingProps);case 24:Eo(i,Wr,r.memoizedState.cache)}return pl(r,i,l)}function Nb(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)ms=!0;else{if(!_0(r,l)&&(i.flags&128)===0)return ms=!1,E4(r,i,l);ms=(r.flags&131072)!==0}else ms=!1,kn&&(i.flags&1048576)!==0&&Dd(i,Kc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var h=i.pendingProps;if(r=ke(i.elementType),i.type=r,typeof r=="function")Bu(r)?(h=nu(r,h),i.tag=1,i=yb(null,i,r,h,l)):(i.tag=0,i=m0(null,i,r,h,l));else{if(r!=null){var g=r.$$typeof;if(g===V){i.tag=11,i=fb(null,i,r,h,l);break e}else if(g===H){i.tag=14,i=db(null,i,r,h,l);break e}}throw i=U(r)||r,Error(s(306,i,""))}}return i;case 0:return m0(r,i,i.type,i.pendingProps,l);case 1:return h=i.type,g=nu(h,i.pendingProps),yb(r,i,h,g,l);case 3:e:{if(de(i,i.stateNode.containerInfo),r===null)throw Error(s(387));h=i.pendingProps;var w=i.memoizedState;g=w.element,wr(r,i),Xr(i,h,null,l);var O=i.memoizedState;if(h=O.cache,Eo(i,Wr,h),h!==w.cache&&ul(i,[Wr],l,!0),or(),h=O.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:O.cache},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){i=xb(r,i,h,l);break e}else if(h!==g){g=ki(Error(s(424)),i),Kl(g),i=xb(r,i,h,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(dr=Ca(r.firstChild),Cs=i,kn=!0,Zs=null,Or=!0,l=mn(i,null,h,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(cl(),h===g){i=pl(r,i,l);break e}Qs(r,i,h,l)}i=i.child}return i;case 26:return Gd(r,i),r===null?(l=R5(i.type,null,i.pendingProps,null))?i.memoizedState=l:kn||(l=i.type,r=i.pendingProps,h=c1(se.current).createElement(l),h[_n]=i,h[Jt]=r,Js(h,l,r),en(h),i.stateNode=h):i.memoizedState=R5(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return we(i),r===null&&kn&&(h=i.stateNode=L5(i.type,i.pendingProps,se.current),Cs=i,Or=!0,g=dr,hc(i.type)?(tm=g,dr=Ca(h.firstChild)):dr=g),Qs(r,i,i.pendingProps.children,l),Gd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&kn&&((g=h=dr)&&(h=a_(h,i.type,i.pendingProps,Or),h!==null?(i.stateNode=h,Cs=i,dr=Ca(h.firstChild),Or=!1,g=!0):g=!1),g||ko(i)),we(i),g=i.type,w=i.pendingProps,O=r!==null?r.memoizedProps:null,h=w.children,Z0(g,w)?h=null:O!==null&&Z0(g,O)&&(i.flags|=32),i.memoizedState!==null&&(g=uf(r,i,r0,null,null,l),Df._currentValue=g),Gd(r,i),Qs(r,i,h,l),i.child;case 6:return r===null&&kn&&((r=l=dr)&&(l=o_(l,i.pendingProps,Or),l!==null?(i.stateNode=l,Cs=i,dr=null,r=!0):r=!1),r||ko(i)),null;case 13:return wb(r,i,l);case 4:return de(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=pr(i,null,h,l):Qs(r,i,h,l),i.child;case 11:return fb(r,i,i.type,i.pendingProps,l);case 7:return Qs(r,i,i.pendingProps,l),i.child;case 8:return Qs(r,i,i.pendingProps.children,l),i.child;case 12:return Qs(r,i,i.pendingProps.children,l),i.child;case 10:return h=i.pendingProps,Eo(i,i.type,h.value),Qs(r,i,h.children,l),i.child;case 9:return g=i.type._context,h=i.pendingProps.children,Lo(i),g=js(g),h=h(g),i.flags|=1,Qs(r,i,h,l),i.child;case 14:return db(r,i,i.type,i.pendingProps,l);case 15:return pb(r,i,i.type,i.pendingProps,l);case 19:return Sb(r,i,l);case 31:return j4(r,i,l);case 22:return mb(r,i,l,i.pendingProps);case 24:return Lo(i),h=js(Wr),r===null?(g=ie(),g===null&&(g=mr,w=Jl(),g.pooledCache=w,w.refCount++,w!==null&&(g.pooledCacheLanes|=l),g=w),i.memoizedState={parent:h,cache:g},pt(i),Eo(i,Wr,g)):((r.lanes&l)!==0&&(wr(r,i),Xr(i,null,null,l),or()),g=r.memoizedState,w=i.memoizedState,g.parent!==h?(g={parent:h,cache:h},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Eo(i,Wr,h)):(h=w.cache,Eo(i,Wr,h),h!==g.cache&&ul(i,[Wr],l,!0))),Qs(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ml(r){r.flags|=4}function S0(r,i,l,h,g){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(g&335544128)===g)if(r.stateNode.complete)r.flags|=8192;else if(Kb())r.flags|=8192;else throw Pe=Se,Me}else r.flags&=-16777217}function Ab(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!z5(i))if(Kb())r.flags|=8192;else throw Pe=Se,Me}function $d(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?An():536870912,r.lanes|=i,ah|=i)}function xf(r,i){if(!kn)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Nr(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(i)for(var g=r.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=h,r.childLanes=l,i}function M4(r,i,l){var h=i.pendingProps;switch(Uu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(i),null;case 1:return Nr(i),null;case 3:return l=i.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),Oi(Wr),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(ks(i)?ml(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lf())),Nr(i),null;case 26:var g=i.type,w=i.memoizedState;return r===null?(ml(i),w!==null?(Nr(i),Ab(i,w)):(Nr(i),S0(i,g,null,h,l))):w?w!==r.memoizedState?(ml(i),Nr(i),Ab(i,w)):(Nr(i),i.flags&=-16777217):(r=r.memoizedProps,r!==h&&ml(i),Nr(i),S0(i,g,r,h,l)),null;case 27:if(Fe(i),l=se.current,g=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==h&&ml(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return Nr(i),null}r=W.current,ks(i)?of(i):(r=L5(g,h,l),i.stateNode=r,ml(i))}return Nr(i),null;case 5:if(Fe(i),g=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==h&&ml(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return Nr(i),null}if(w=W.current,ks(i))of(i);else{var O=c1(se.current);switch(w){case 1:w=O.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:w=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":w=O.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":w=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":w=O.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?O.createElement("select",{is:h.is}):O.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?O.createElement(g,{is:h.is}):O.createElement(g)}}w[_n]=i,w[Jt]=h;e:for(O=i.child;O!==null;){if(O.tag===5||O.tag===6)w.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===i)break e;for(;O.sibling===null;){if(O.return===null||O.return===i)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}i.stateNode=w;e:switch(Js(w,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ml(i)}}return Nr(i),S0(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,l),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==h&&ml(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(s(166));if(r=se.current,ks(i)){if(r=i.stateNode,l=i.memoizedProps,h=null,g=Cs,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}r[_n]=i,r=!!(r.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||w5(r.nodeValue,l)),r||ko(i,!0)}else r=c1(r).createTextNode(h),r[_n]=i,i.stateNode=r}return Nr(i),null;case 31:if(l=i.memoizedState,r===null||r.memoizedState!==null){if(h=ks(i),l!==null){if(r===null){if(!h)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[_n]=i}else cl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nr(i),r=!1}else l=lf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return i.flags&256?(er(i),i):(er(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Nr(i),null;case 13:if(h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=ks(i),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[_n]=i}else cl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nr(i),g=!1}else g=lf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(er(i),i):(er(i),null)}return er(i),(i.flags&128)!==0?(i.lanes=l,i):(l=h!==null,r=r!==null&&r.memoizedState!==null,l&&(h=i.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==g&&(h.flags|=2048)),l!==r&&l&&(i.child.flags|=8192),$d(i,i.updateQueue),Nr(i),null);case 4:return xe(),r===null&&W0(i.stateNode.containerInfo),Nr(i),null;case 10:return Oi(i.type),Nr(i),null;case 19:if(L(In),h=i.memoizedState,h===null)return Nr(i),null;if(g=(i.flags&128)!==0,w=h.rendering,w===null)if(g)xf(h,!1);else{if(es!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(w=Bs(r),w!==null){for(i.flags|=128,xf(h,!1),r=w.updateQueue,i.updateQueue=r,$d(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)Xc(l,r),l=l.sibling;return X(In,In.current&1|2),kn&&vi(i,h.treeForkCount),i.child}r=r.sibling}h.tail!==null&&ze()>Jd&&(i.flags|=128,g=!0,xf(h,!1),i.lanes=4194304)}else{if(!g)if(r=Bs(w),r!==null){if(i.flags|=128,g=!0,r=r.updateQueue,i.updateQueue=r,$d(i,r),xf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!kn)return Nr(i),null}else 2*ze()-h.renderingStartTime>Jd&&l!==536870912&&(i.flags|=128,g=!0,xf(h,!1),i.lanes=4194304);h.isBackwards?(w.sibling=i.child,i.child=w):(r=h.last,r!==null?r.sibling=w:i.child=w,h.last=w)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=ze(),r.sibling=null,l=In.current,X(In,g?l&1|2:l&1),kn&&vi(i,h.treeForkCount),r):(Nr(i),null);case 22:case 23:return er(i),is(),h=i.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(l&536870912)!==0&&(i.flags&128)===0&&(Nr(i),i.subtreeFlags&6&&(i.flags|=8192)):Nr(i),l=i.updateQueue,l!==null&&$d(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==l&&(i.flags|=2048),r!==null&&L(K),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Oi(Wr),Nr(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function L4(r,i){switch(Uu(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Oi(Wr),xe(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Fe(i),null;case 31:if(i.memoizedState!==null){if(er(i),i.alternate===null)throw Error(s(340));cl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(er(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));cl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return L(In),null;case 4:return xe(),null;case 10:return Oi(i.type),null;case 22:case 23:return er(i),is(),r!==null&&L(K),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Oi(Wr),null;case 25:return null;default:return null}}function Tb(r,i){switch(Uu(i),i.tag){case 3:Oi(Wr),xe();break;case 26:case 27:case 5:Fe(i);break;case 4:xe();break;case 31:i.memoizedState!==null&&er(i);break;case 13:er(i);break;case 19:L(In);break;case 10:Oi(i.type);break;case 22:case 23:er(i),is(),r!==null&&L(K);break;case 24:Oi(Wr)}}function wf(r,i){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&r)===r){h=void 0;var w=l.create,O=l.inst;h=w(),O.destroy=h}l=l.next}while(l!==g)}}catch(J){nr(i,i.return,J)}}function sc(r,i,l){try{var h=i.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var w=g.next;h=w;do{if((h.tag&r)===r){var O=h.inst,J=O.destroy;if(J!==void 0){O.destroy=void 0,g=i;var me=l,De=J;try{De()}catch(He){nr(g,me,He)}}}h=h.next}while(h!==w)}}catch(He){nr(i,i.return,He)}}function Cb(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{Zr(i,l)}catch(h){nr(r,r.return,h)}}}function kb(r,i,l){l.props=nu(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(h){nr(r,i,h)}}function _f(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof l=="function"?r.refCleanup=l(h):l.current=h}}catch(g){nr(r,i,g)}}function Vo(r,i){var l=r.ref,h=r.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){nr(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){nr(r,i,g)}else l.current=null}function jb(r){var i=r.type,l=r.memoizedProps,h=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){nr(r,r.return,g)}}function N0(r,i,l){try{var h=r.stateNode;e_(h,r.type,l,i),h[Jt]=i}catch(g){nr(r,r.return,g)}}function Eb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&hc(r.type)||r.tag===4}function A0(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Eb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&hc(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function T0(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ki));else if(h!==4&&(h===27&&hc(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(T0(r,i,l),r=r.sibling;r!==null;)T0(r,i,l),r=r.sibling}function Xd(r,i,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(h!==4&&(h===27&&hc(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Xd(r,i,l),r=r.sibling;r!==null;)Xd(r,i,l),r=r.sibling}function Mb(r){var i=r.stateNode,l=r.memoizedProps;try{for(var h=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Js(i,h,l),i[_n]=r,i[Jt]=l}catch(w){nr(r,r.return,w)}}var gl=!1,gs=!1,C0=!1,Lb=typeof WeakSet=="function"?WeakSet:Set,zs=null;function O4(r,i){if(r=r.containerInfo,$0=g1,r=Xa(r),_a(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var O=0,J=-1,me=-1,De=0,He=0,Qe=r,Re=null;t:for(;;){for(var Ve;Qe!==l||g!==0&&Qe.nodeType!==3||(J=O+g),Qe!==w||h!==0&&Qe.nodeType!==3||(me=O+h),Qe.nodeType===3&&(O+=Qe.nodeValue.length),(Ve=Qe.firstChild)!==null;)Re=Qe,Qe=Ve;for(;;){if(Qe===r)break t;if(Re===l&&++De===g&&(J=O),Re===w&&++He===h&&(me=O),(Ve=Qe.nextSibling)!==null)break;Qe=Re,Re=Qe.parentNode}Qe=Ve}l=J===-1||me===-1?null:{start:J,end:me}}else l=null}l=l||{start:0,end:0}}else l=null;for(X0={focusedElem:r,selectionRange:l},g1=!1,zs=i;zs!==null;)if(i=zs,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,zs=r;else for(;zs!==null;){switch(i=zs,w=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)g=r[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,l=i,g=w.memoizedProps,w=w.memoizedState,h=l.stateNode;try{var jt=nu(l.type,g);r=h.getSnapshotBeforeUpdate(jt,w),h.__reactInternalSnapshotBeforeUpdate=r}catch($t){nr(l,l.return,$t)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)Q0(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Q0(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,zs=r;break}zs=i.return}}function Ob(r,i,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:vl(r,l),h&4&&wf(5,l);break;case 1:if(vl(r,l),h&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(O){nr(l,l.return,O)}else{var g=nu(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(O){nr(l,l.return,O)}}h&64&&Cb(l),h&512&&_f(l,l.return);break;case 3:if(vl(r,l),h&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Zr(r,i)}catch(O){nr(l,l.return,O)}}break;case 27:i===null&&h&4&&Mb(l);case 26:case 5:vl(r,l),i===null&&h&4&&jb(l),h&512&&_f(l,l.return);break;case 12:vl(r,l);break;case 31:vl(r,l),h&4&&Ib(r,l);break;case 13:vl(r,l),h&4&&Vb(r,l),h&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=q4.bind(null,l),l_(r,l))));break;case 22:if(h=l.memoizedState!==null||gl,!h){i=i!==null&&i.memoizedState!==null||gs,g=gl;var w=gs;gl=h,(gs=i)&&!w?yl(r,l,(l.subtreeFlags&8772)!==0):vl(r,l),gl=g,gs=w}break;case 30:break;default:vl(r,l)}}function Db(r){var i=r.alternate;i!==null&&(r.alternate=null,Db(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&xt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Ir=null,Ri=!1;function bl(r,i,l){for(l=l.child;l!==null;)Rb(r,i,l),l=l.sibling}function Rb(r,i,l){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Zt,l)}catch{}switch(l.tag){case 26:gs||Vo(l,i),bl(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:gs||Vo(l,i);var h=Ir,g=Ri;hc(l.type)&&(Ir=l.stateNode,Ri=!1),bl(r,i,l),Mf(l.stateNode),Ir=h,Ri=g;break;case 5:gs||Vo(l,i);case 6:if(h=Ir,g=Ri,Ir=null,bl(r,i,l),Ir=h,Ri=g,Ir!==null)if(Ri)try{(Ir.nodeType===9?Ir.body:Ir.nodeName==="HTML"?Ir.ownerDocument.body:Ir).removeChild(l.stateNode)}catch(w){nr(l,i,w)}else try{Ir.removeChild(l.stateNode)}catch(w){nr(l,i,w)}break;case 18:Ir!==null&&(Ri?(r=Ir,C5(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),ph(r)):C5(Ir,l.stateNode));break;case 4:h=Ir,g=Ri,Ir=l.stateNode.containerInfo,Ri=!0,bl(r,i,l),Ir=h,Ri=g;break;case 0:case 11:case 14:case 15:sc(2,l,i),gs||sc(4,l,i),bl(r,i,l);break;case 1:gs||(Vo(l,i),h=l.stateNode,typeof h.componentWillUnmount=="function"&&kb(l,i,h)),bl(r,i,l);break;case 21:bl(r,i,l);break;case 22:gs=(h=gs)||l.memoizedState!==null,bl(r,i,l),gs=h;break;default:bl(r,i,l)}}function Ib(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{ph(r)}catch(l){nr(i,i.return,l)}}}function Vb(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ph(r)}catch(l){nr(i,i.return,l)}}function D4(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Lb),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Lb),i;default:throw Error(s(435,r.tag))}}function Zd(r,i){var l=D4(r);i.forEach(function(h){if(!l.has(h)){l.add(h);var g=U4.bind(null,r,h);h.then(g,g)}})}function Ii(r,i){var l=i.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],w=r,O=i,J=O;e:for(;J!==null;){switch(J.tag){case 27:if(hc(J.type)){Ir=J.stateNode,Ri=!1;break e}break;case 5:Ir=J.stateNode,Ri=!1;break e;case 3:case 4:Ir=J.stateNode.containerInfo,Ri=!0;break e}J=J.return}if(Ir===null)throw Error(s(160));Rb(w,O,g),Ir=null,Ri=!1,w=g.alternate,w!==null&&(w.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Fb(i,r),i=i.sibling}var ro=null;function Fb(r,i){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ii(i,r),Vi(r),h&4&&(sc(3,r,r.return),wf(3,r),sc(5,r,r.return));break;case 1:Ii(i,r),Vi(r),h&512&&(gs||l===null||Vo(l,l.return)),h&64&&gl&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=ro;if(Ii(i,r),Vi(r),h&512&&(gs||l===null||Vo(l,l.return)),h&4){var w=l!==null?l.memoizedState:null;if(h=r.memoizedState,l===null)if(h===null)if(r.stateNode===null){e:{h=r.type,l=r.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":w=g.getElementsByTagName("title")[0],(!w||w[Xe]||w[_n]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=g.createElement(h),g.head.insertBefore(w,g.querySelector("head > title"))),Js(w,h,l),w[_n]=r,en(w),h=w;break e;case"link":var O=F5("link","href",g).get(h+(l.href||""));if(O){for(var J=0;J<O.length;J++)if(w=O[J],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){O.splice(J,1);break t}}w=g.createElement(h),Js(w,h,l),g.head.appendChild(w);break;case"meta":if(O=F5("meta","content",g).get(h+(l.content||""))){for(J=0;J<O.length;J++)if(w=O[J],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){O.splice(J,1);break t}}w=g.createElement(h),Js(w,h,l),g.head.appendChild(w);break;default:throw Error(s(468,h))}w[_n]=r,en(w),h=w}r.stateNode=h}else B5(g,r.type,r.stateNode);else r.stateNode=V5(g,h,r.memoizedProps);else w!==h?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,h===null?B5(g,r.type,r.stateNode):V5(g,h,r.memoizedProps)):h===null&&r.stateNode!==null&&N0(r,r.memoizedProps,l.memoizedProps)}break;case 27:Ii(i,r),Vi(r),h&512&&(gs||l===null||Vo(l,l.return)),l!==null&&h&4&&N0(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Ii(i,r),Vi(r),h&512&&(gs||l===null||Vo(l,l.return)),r.flags&32){g=r.stateNode;try{Zi(g,"")}catch(jt){nr(r,r.return,jt)}}h&4&&r.stateNode!=null&&(g=r.memoizedProps,N0(r,g,l!==null?l.memoizedProps:g)),h&1024&&(C0=!0);break;case 6:if(Ii(i,r),Vi(r),h&4){if(r.stateNode===null)throw Error(s(162));h=r.memoizedProps,l=r.stateNode;try{l.nodeValue=h}catch(jt){nr(r,r.return,jt)}}break;case 3:if(f1=null,g=ro,ro=u1(i.containerInfo),Ii(i,r),ro=g,Vi(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{ph(i.containerInfo)}catch(jt){nr(r,r.return,jt)}C0&&(C0=!1,Bb(r));break;case 4:h=ro,ro=u1(r.stateNode.containerInfo),Ii(i,r),Vi(r),ro=h;break;case 12:Ii(i,r),Vi(r);break;case 31:Ii(i,r),Vi(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Zd(r,h)));break;case 13:Ii(i,r),Vi(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Qd=ze()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Zd(r,h)));break;case 22:g=r.memoizedState!==null;var me=l!==null&&l.memoizedState!==null,De=gl,He=gs;if(gl=De||g,gs=He||me,Ii(i,r),gs=He,gl=De,Vi(r),h&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(l===null||me||gl||gs||ru(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){me=l=i;try{if(w=me.stateNode,g)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{J=me.stateNode;var Qe=me.memoizedProps.style,Re=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null;J.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(jt){nr(me,me.return,jt)}}}else if(i.tag===6){if(l===null){me=i;try{me.stateNode.nodeValue=g?"":me.memoizedProps}catch(jt){nr(me,me.return,jt)}}}else if(i.tag===18){if(l===null){me=i;try{var Ve=me.stateNode;g?k5(Ve,!0):k5(me.stateNode,!1)}catch(jt){nr(me,me.return,jt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=r.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,Zd(r,l))));break;case 19:Ii(i,r),Vi(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Zd(r,h)));break;case 30:break;case 21:break;default:Ii(i,r),Vi(r)}}function Vi(r){var i=r.flags;if(i&2){try{for(var l,h=r.return;h!==null;){if(Eb(h)){l=h;break}h=h.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,w=A0(r);Xd(r,w,g);break;case 5:var O=l.stateNode;l.flags&32&&(Zi(O,""),l.flags&=-33);var J=A0(r);Xd(r,J,O);break;case 3:case 4:var me=l.stateNode.containerInfo,De=A0(r);T0(r,De,me);break;default:throw Error(s(161))}}catch(He){nr(r,r.return,He)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Bb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Bb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function vl(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ob(r,i.alternate,i),i=i.sibling}function ru(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:sc(4,i,i.return),ru(i);break;case 1:Vo(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&kb(i,i.return,l),ru(i);break;case 27:Mf(i.stateNode);case 26:case 5:Vo(i,i.return),ru(i);break;case 22:i.memoizedState===null&&ru(i);break;case 30:ru(i);break;default:ru(i)}r=r.sibling}}function yl(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,g=r,w=i,O=w.flags;switch(w.tag){case 0:case 11:case 15:yl(g,w,l),wf(4,w);break;case 1:if(yl(g,w,l),h=w,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(De){nr(h,h.return,De)}if(h=w,g=h.updateQueue,g!==null){var J=h.stateNode;try{var me=g.shared.hiddenCallbacks;if(me!==null)for(g.shared.hiddenCallbacks=null,g=0;g<me.length;g++)Fs(me[g],J)}catch(De){nr(h,h.return,De)}}l&&O&64&&Cb(w),_f(w,w.return);break;case 27:Mb(w);case 26:case 5:yl(g,w,l),l&&h===null&&O&4&&jb(w),_f(w,w.return);break;case 12:yl(g,w,l);break;case 31:yl(g,w,l),l&&O&4&&Ib(g,w);break;case 13:yl(g,w,l),l&&O&4&&Vb(g,w);break;case 22:w.memoizedState===null&&yl(g,w,l),_f(w,w.return);break;case 30:break;default:yl(g,w,l)}i=i.sibling}}function k0(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Qc(l))}function j0(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Qc(r))}function so(r,i,l,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zb(r,i,l,h),i=i.sibling}function zb(r,i,l,h){var g=i.flags;switch(i.tag){case 0:case 11:case 15:so(r,i,l,h),g&2048&&wf(9,i);break;case 1:so(r,i,l,h);break;case 3:so(r,i,l,h),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Qc(r)));break;case 12:if(g&2048){so(r,i,l,h),r=i.stateNode;try{var w=i.memoizedProps,O=w.id,J=w.onPostCommit;typeof J=="function"&&J(O,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(me){nr(i,i.return,me)}}else so(r,i,l,h);break;case 31:so(r,i,l,h);break;case 13:so(r,i,l,h);break;case 23:break;case 22:w=i.stateNode,O=i.alternate,i.memoizedState!==null?w._visibility&2?so(r,i,l,h):Sf(r,i):w._visibility&2?so(r,i,l,h):(w._visibility|=2,rh(r,i,l,h,(i.subtreeFlags&10256)!==0||!1)),g&2048&&k0(O,i);break;case 24:so(r,i,l,h),g&2048&&j0(i.alternate,i);break;default:so(r,i,l,h)}}function rh(r,i,l,h,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var w=r,O=i,J=l,me=h,De=O.flags;switch(O.tag){case 0:case 11:case 15:rh(w,O,J,me,g),wf(8,O);break;case 23:break;case 22:var He=O.stateNode;O.memoizedState!==null?He._visibility&2?rh(w,O,J,me,g):Sf(w,O):(He._visibility|=2,rh(w,O,J,me,g)),g&&De&2048&&k0(O.alternate,O);break;case 24:rh(w,O,J,me,g),g&&De&2048&&j0(O.alternate,O);break;default:rh(w,O,J,me,g)}i=i.sibling}}function Sf(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,h=i,g=h.flags;switch(h.tag){case 22:Sf(l,h),g&2048&&k0(h.alternate,h);break;case 24:Sf(l,h),g&2048&&j0(h.alternate,h);break;default:Sf(l,h)}i=i.sibling}}var Nf=8192;function sh(r,i,l){if(r.subtreeFlags&Nf)for(r=r.child;r!==null;)Pb(r,i,l),r=r.sibling}function Pb(r,i,l){switch(r.tag){case 26:sh(r,i,l),r.flags&Nf&&r.memoizedState!==null&&x_(l,ro,r.memoizedState,r.memoizedProps);break;case 5:sh(r,i,l);break;case 3:case 4:var h=ro;ro=u1(r.stateNode.containerInfo),sh(r,i,l),ro=h;break;case 22:r.memoizedState===null&&(h=r.alternate,h!==null&&h.memoizedState!==null?(h=Nf,Nf=16777216,sh(r,i,l),Nf=h):sh(r,i,l));break;default:sh(r,i,l)}}function qb(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Af(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];zs=h,Hb(h,r)}qb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ub(r),r=r.sibling}function Ub(r){switch(r.tag){case 0:case 11:case 15:Af(r),r.flags&2048&&sc(9,r,r.return);break;case 3:Af(r);break;case 12:Af(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Kd(r)):Af(r);break;default:Af(r)}}function Kd(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];zs=h,Hb(h,r)}qb(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:sc(8,i,i.return),Kd(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Kd(i));break;default:Kd(i)}r=r.sibling}}function Hb(r,i){for(;zs!==null;){var l=zs;switch(l.tag){case 0:case 11:case 15:sc(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Qc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,zs=h;else e:for(l=r;zs!==null;){h=zs;var g=h.sibling,w=h.return;if(Db(h),h===l){zs=null;break e}if(g!==null){g.return=w,zs=g;break e}zs=w}}}var R4={getCacheForType:function(r){var i=js(Wr),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l},cacheSignal:function(){return js(Wr).controller.signal}},I4=typeof WeakMap=="function"?WeakMap:Map,Zn=0,mr=null,jn=null,Mn=0,tr=0,sa=null,ic=!1,ih=!1,E0=!1,xl=0,es=0,ac=0,su=0,M0=0,ia=0,ah=0,Tf=null,Fi=null,L0=!1,Qd=0,Wb=0,Jd=1/0,e1=null,oc=null,Ms=0,lc=null,oh=null,wl=0,O0=0,D0=null,Gb=null,Cf=0,R0=null;function aa(){return(Zn&2)!==0&&Mn!==0?Mn&-Mn:$.T!==null?P0():hn()}function Yb(){if(ia===0)if((Mn&536870912)===0||kn){var r=ln;ln<<=1,(ln&3932160)===0&&(ln=262144),ia=r}else ia=536870912;return r=Sr.current,r!==null&&(r.flags|=32),ia}function Bi(r,i,l){(r===mr&&(tr===2||tr===9)||r.cancelPendingCommit!==null)&&(lh(r,0),cc(r,Mn,ia,!1)),$e(r,l),((Zn&2)===0||r!==mr)&&(r===mr&&((Zn&2)===0&&(su|=l),es===4&&cc(r,Mn,ia,!1)),Fo(r))}function $b(r,i,l){if((Zn&6)!==0)throw Error(s(327));var h=!l&&(i&127)===0&&(i&r.expiredLanes)===0||Ft(r,i),g=h?B4(r,i):V0(r,i,!0),w=h;do{if(g===0){ih&&!h&&cc(r,i,0,!1);break}else{if(l=r.current.alternate,w&&!V4(l)){g=V0(r,i,!1),w=!1;continue}if(g===2){if(w=i,r.errorRecoveryDisabledLanes&w)var O=0;else O=r.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){i=O;e:{var J=r;g=Tf;var me=J.current.memoizedState.isDehydrated;if(me&&(lh(J,O).flags|=256),O=V0(J,O,!1),O!==2){if(E0&&!me){J.errorRecoveryDisabledLanes|=w,su|=w,g=4;break e}w=Fi,Fi=g,w!==null&&(Fi===null?Fi=w:Fi.push.apply(Fi,w))}g=O}if(w=!1,g!==2)continue}}if(g===1){lh(r,0),cc(r,i,0,!0);break}e:{switch(h=r,w=g,w){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:cc(h,i,ia,!ic);break e;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=Qd+300-ze(),10<g)){if(cc(h,i,ia,!ic),st(h,0,!0)!==0)break e;wl=i,h.timeoutHandle=A5(Xb.bind(null,h,l,Fi,e1,L0,i,ia,su,ah,ic,w,"Throttled",-0,0),g);break e}Xb(h,l,Fi,e1,L0,i,ia,su,ah,ic,w,null,-0,0)}}break}while(!0);Fo(r)}function Xb(r,i,l,h,g,w,O,J,me,De,He,Qe,Re,Ve){if(r.timeoutHandle=-1,Qe=i.subtreeFlags,Qe&8192||(Qe&16785408)===16785408){Qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ki},Pb(i,w,Qe);var jt=(w&62914560)===w?Qd-ze():(w&4194048)===w?Wb-ze():0;if(jt=w_(Qe,jt),jt!==null){wl=w,r.cancelPendingCommit=jt(r5.bind(null,r,i,w,l,h,g,O,J,me,He,Qe,null,Re,Ve)),cc(r,w,O,!De);return}}r5(r,i,w,l,h,g,O,J,me)}function V4(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],w=g.getSnapshot;g=g.value;try{if(!As(w(),g))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function cc(r,i,l,h){i&=~M0,i&=~su,r.suspendedLanes|=i,r.pingedLanes&=~i,h&&(r.warmLanes|=i),h=r.expirationTimes;for(var g=i;0<g;){var w=31-Tt(g),O=1<<w;h[w]=-1,g&=~O}l!==0&&Et(r,l,i)}function t1(){return(Zn&6)===0?(kf(0),!1):!0}function I0(){if(jn!==null){if(tr===0)var r=jn.return;else r=jn,Na=jo=null,Zu(r),Je=null,Mt=0,r=jn;for(;r!==null;)Tb(r.alternate,r),r=r.return;jn=null}}function lh(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,r_(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),wl=0,I0(),mr=r,jn=l=Ci(r.current,null),Mn=i,tr=0,sa=null,ic=!1,ih=Ft(r,i),E0=!1,ah=ia=M0=su=ac=es=0,Fi=Tf=null,L0=!1,(i&8)!==0&&(i|=i&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=i;0<h;){var g=31-Tt(h),w=1<<g;i|=r[g],h&=~w}return xl=i,Gc(),l}function Zb(r,i){Pt=null,$.H=vf,i===ve||i===ce?(i=Ge(),tr=3):i===Me?(i=Ge(),tr=4):tr=i===p0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,sa=i,jn===null&&(es=1,Hd(r,ki(i,r.current)))}function Kb(){var r=Sr.current;return r===null?!0:(Mn&4194048)===Mn?zn===null:(Mn&62914560)===Mn||(Mn&536870912)!==0?r===zn:!1}function Qb(){var r=$.H;return $.H=vf,r===null?vf:r}function Jb(){var r=$.A;return $.A=R4,r}function n1(){es=4,ic||(Mn&4194048)!==Mn&&Sr.current!==null||(ih=!0),(ac&134217727)===0&&(su&134217727)===0||mr===null||cc(mr,Mn,ia,!1)}function V0(r,i,l){var h=Zn;Zn|=2;var g=Qb(),w=Jb();(mr!==r||Mn!==i)&&(e1=null,lh(r,i)),i=!1;var O=es;e:do try{if(tr!==0&&jn!==null){var J=jn,me=sa;switch(tr){case 8:I0(),O=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(i=!0);var De=tr;if(tr=0,sa=null,ch(r,J,me,De),l&&ih){O=0;break e}break;default:De=tr,tr=0,sa=null,ch(r,J,me,De)}}F4(),O=es;break}catch(He){Zb(r,He)}while(!0);return i&&r.shellSuspendCounter++,Na=jo=null,Zn=h,$.H=g,$.A=w,jn===null&&(mr=null,Mn=0,Gc()),O}function F4(){for(;jn!==null;)e5(jn)}function B4(r,i){var l=Zn;Zn|=2;var h=Qb(),g=Jb();mr!==r||Mn!==i?(e1=null,Jd=ze()+500,lh(r,i)):ih=Ft(r,i);e:do try{if(tr!==0&&jn!==null){i=jn;var w=sa;t:switch(tr){case 1:tr=0,sa=null,ch(r,i,w,1);break;case 2:case 9:if(Ce(w)){tr=0,sa=null,t5(i);break}i=function(){tr!==2&&tr!==9||mr!==r||(tr=7),Fo(r)},w.then(i,i);break e;case 3:tr=7;break e;case 4:tr=5;break e;case 7:Ce(w)?(tr=0,sa=null,t5(i)):(tr=0,sa=null,ch(r,i,w,7));break;case 5:var O=null;switch(jn.tag){case 26:O=jn.memoizedState;case 5:case 27:var J=jn;if(O?z5(O):J.stateNode.complete){tr=0,sa=null;var me=J.sibling;if(me!==null)jn=me;else{var De=J.return;De!==null?(jn=De,r1(De)):jn=null}break t}}tr=0,sa=null,ch(r,i,w,5);break;case 6:tr=0,sa=null,ch(r,i,w,6);break;case 8:I0(),es=6;break e;default:throw Error(s(462))}}z4();break}catch(He){Zb(r,He)}while(!0);return Na=jo=null,$.H=h,$.A=g,Zn=l,jn!==null?0:(mr=null,Mn=0,Gc(),es)}function z4(){for(;jn!==null&&!ct();)e5(jn)}function e5(r){var i=Nb(r.alternate,r,xl);r.memoizedProps=r.pendingProps,i===null?r1(r):jn=i}function t5(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=vb(l,i,i.pendingProps,i.type,void 0,Mn);break;case 11:i=vb(l,i,i.pendingProps,i.type.render,i.ref,Mn);break;case 5:Zu(i);default:Tb(l,i),i=jn=Xc(i,xl),i=Nb(l,i,xl)}r.memoizedProps=r.pendingProps,i===null?r1(r):jn=i}function ch(r,i,l,h){Na=jo=null,Zu(i),Je=null,Mt=0;var g=i.return;try{if(k4(r,g,i,l,Mn)){es=1,Hd(r,ki(l,r.current)),jn=null;return}}catch(w){if(g!==null)throw jn=g,w;es=1,Hd(r,ki(l,r.current)),jn=null;return}i.flags&32768?(kn||h===1?r=!0:ih||(Mn&536870912)!==0?r=!1:(ic=r=!0,(h===2||h===9||h===3||h===6)&&(h=Sr.current,h!==null&&h.tag===13&&(h.flags|=16384))),n5(i,r)):r1(i)}function r1(r){var i=r;do{if((i.flags&32768)!==0){n5(i,ic);return}r=i.return;var l=M4(i.alternate,i,xl);if(l!==null){jn=l;return}if(i=i.sibling,i!==null){jn=i;return}jn=i=r}while(i!==null);es===0&&(es=5)}function n5(r,i){do{var l=L4(r.alternate,r);if(l!==null){l.flags&=32767,jn=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){jn=r;return}jn=r=l}while(r!==null);es=6,jn=null}function r5(r,i,l,h,g,w,O,J,me){r.cancelPendingCommit=null;do s1();while(Ms!==0);if((Zn&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(w=i.lanes|i.childLanes,w|=Iu,ft(r,l,w,O,J,me),r===mr&&(jn=mr=null,Mn=0),oh=i,lc=r,wl=l,O0=w,D0=g,Gb=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,H4(vt,function(){return l5(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=$.T,$.T=null,g=ne.p,ne.p=2,O=Zn,Zn|=4;try{O4(r,i,l)}finally{Zn=O,ne.p=g,$.T=h}}Ms=1,s5(),i5(),a5()}}function s5(){if(Ms===1){Ms=0;var r=lc,i=oh,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var h=ne.p;ne.p=2;var g=Zn;Zn|=4;try{Fb(i,r);var w=X0,O=Xa(r.containerInfo),J=w.focusedElem,me=w.selectionRange;if(O!==J&&J&&J.ownerDocument&&$a(J.ownerDocument.documentElement,J)){if(me!==null&&_a(J)){var De=me.start,He=me.end;if(He===void 0&&(He=De),"selectionStart"in J)J.selectionStart=De,J.selectionEnd=Math.min(He,J.value.length);else{var Qe=J.ownerDocument||document,Re=Qe&&Qe.defaultView||window;if(Re.getSelection){var Ve=Re.getSelection(),jt=J.textContent.length,$t=Math.min(me.start,jt),ur=me.end===void 0?$t:Math.min(me.end,jt);!Ve.extend&&$t>ur&&(O=ur,ur=$t,$t=O);var Te=Yl(J,$t),ye=Yl(J,ur);if(Te&&ye&&(Ve.rangeCount!==1||Ve.anchorNode!==Te.node||Ve.anchorOffset!==Te.offset||Ve.focusNode!==ye.node||Ve.focusOffset!==ye.offset)){var Le=Qe.createRange();Le.setStart(Te.node,Te.offset),Ve.removeAllRanges(),$t>ur?(Ve.addRange(Le),Ve.extend(ye.node,ye.offset)):(Le.setEnd(ye.node,ye.offset),Ve.addRange(Le))}}}}for(Qe=[],Ve=J;Ve=Ve.parentNode;)Ve.nodeType===1&&Qe.push({element:Ve,left:Ve.scrollLeft,top:Ve.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<Qe.length;J++){var Ke=Qe[J];Ke.element.scrollLeft=Ke.left,Ke.element.scrollTop=Ke.top}}g1=!!$0,X0=$0=null}finally{Zn=g,ne.p=h,$.T=l}}r.current=i,Ms=2}}function i5(){if(Ms===2){Ms=0;var r=lc,i=oh,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var h=ne.p;ne.p=2;var g=Zn;Zn|=4;try{Ob(r,i.alternate,i)}finally{Zn=g,ne.p=h,$.T=l}}Ms=3}}function a5(){if(Ms===4||Ms===3){Ms=0,at();var r=lc,i=oh,l=wl,h=Gb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ms=5:(Ms=0,oh=lc=null,o5(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(oc=null),un(l),i=i.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Zt,i,void 0,(i.current.flags&128)===128)}catch{}if(h!==null){i=$.T,g=ne.p,ne.p=2,$.T=null;try{for(var w=r.onRecoverableError,O=0;O<h.length;O++){var J=h[O];w(J.value,{componentStack:J.stack})}}finally{$.T=i,ne.p=g}}(wl&3)!==0&&s1(),Fo(r),g=r.pendingLanes,(l&261930)!==0&&(g&42)!==0?r===R0?Cf++:(Cf=0,R0=r):Cf=0,kf(0)}}function o5(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Qc(i)))}function s1(){return s5(),i5(),a5(),l5()}function l5(){if(Ms!==5)return!1;var r=lc,i=O0;O0=0;var l=un(wl),h=$.T,g=ne.p;try{ne.p=32>l?32:l,$.T=null,l=D0,D0=null;var w=lc,O=wl;if(Ms=0,oh=lc=null,wl=0,(Zn&6)!==0)throw Error(s(331));var J=Zn;if(Zn|=4,Ub(w.current),zb(w,w.current,O,l),Zn=J,kf(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Zt,w)}catch{}return!0}finally{ne.p=g,$.T=h,o5(r,i)}}function c5(r,i,l){i=ki(l,i),i=d0(r.stateNode,i,2),r=vn(r,i,2),r!==null&&($e(r,2),Fo(r))}function nr(r,i,l){if(r.tag===3)c5(r,r,l);else for(;i!==null;){if(i.tag===3){c5(i,r,l);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(oc===null||!oc.has(h))){r=ki(l,r),l=ub(2),h=vn(i,l,2),h!==null&&(hb(l,h,i,r),$e(h,2),Fo(h));break}}i=i.return}}function F0(r,i,l){var h=r.pingCache;if(h===null){h=r.pingCache=new I4;var g=new Set;h.set(i,g)}else g=h.get(i),g===void 0&&(g=new Set,h.set(i,g));g.has(l)||(E0=!0,g.add(l),r=P4.bind(null,r,i,l),i.then(r,r))}function P4(r,i,l){var h=r.pingCache;h!==null&&h.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,mr===r&&(Mn&l)===l&&(es===4||es===3&&(Mn&62914560)===Mn&&300>ze()-Qd?(Zn&2)===0&&lh(r,0):M0|=l,ah===Mn&&(ah=0)),Fo(r)}function u5(r,i){i===0&&(i=An()),r=Ka(r,i),r!==null&&($e(r,i),Fo(r))}function q4(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),u5(r,l)}function U4(r,i){var l=0;switch(r.tag){case 31:case 13:var h=r.stateNode,g=r.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(i),u5(r,l)}function H4(r,i){return et(r,i)}var i1=null,uh=null,B0=!1,a1=!1,z0=!1,uc=0;function Fo(r){r!==uh&&r.next===null&&(uh===null?i1=uh=r:uh=uh.next=r),a1=!0,B0||(B0=!0,G4())}function kf(r,i){if(!z0&&a1){z0=!0;do for(var l=!1,h=i1;h!==null;){if(r!==0){var g=h.pendingLanes;if(g===0)var w=0;else{var O=h.suspendedLanes,J=h.pingedLanes;w=(1<<31-Tt(42|r)+1)-1,w&=g&~(O&~J),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,p5(h,w))}else w=Mn,w=st(h,h===mr?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||Ft(h,w)||(l=!0,p5(h,w));h=h.next}while(l);z0=!1}}function W4(){h5()}function h5(){a1=B0=!1;var r=0;uc!==0&&n_()&&(r=uc);for(var i=ze(),l=null,h=i1;h!==null;){var g=h.next,w=f5(h,i);w===0?(h.next=null,l===null?i1=g:l.next=g,g===null&&(uh=l)):(l=h,(r!==0||(w&3)!==0)&&(a1=!0)),h=g}Ms!==0&&Ms!==5||kf(r),uc!==0&&(uc=0)}function f5(r,i){for(var l=r.suspendedLanes,h=r.pingedLanes,g=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var O=31-Tt(w),J=1<<O,me=g[O];me===-1?((J&l)===0||(J&h)!==0)&&(g[O]=zt(J,i)):me<=i&&(r.expiredLanes|=J),w&=~J}if(i=mr,l=Mn,l=st(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,l===0||r===i&&(tr===2||tr===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&Ue(h),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Ft(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(h!==null&&Ue(h),un(l)){case 2:case 8:l=ut;break;case 32:l=vt;break;case 268435456:l=yt;break;default:l=vt}return h=d5.bind(null,r),l=et(l,h),r.callbackPriority=i,r.callbackNode=l,i}return h!==null&&h!==null&&Ue(h),r.callbackPriority=2,r.callbackNode=null,2}function d5(r,i){if(Ms!==0&&Ms!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(s1()&&r.callbackNode!==l)return null;var h=Mn;return h=st(r,r===mr?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:($b(r,h,i),f5(r,ze()),r.callbackNode!=null&&r.callbackNode===l?d5.bind(null,r):null)}function p5(r,i){if(s1())return null;$b(r,i,!0)}function G4(){s_(function(){(Zn&6)!==0?et(rt,W4):h5()})}function P0(){if(uc===0){var r=m;r===0&&(r=Vt,Vt<<=1,(Vt&261888)===0&&(Vt=256)),uc=r}return uc}function m5(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ri(""+r)}function g5(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function Y4(r,i,l,h,g){if(i==="submit"&&l&&l.stateNode===g){var w=m5((g[Jt]||null).action),O=h.submitter;O&&(i=(i=O[Jt]||null)?m5(i.formAction):O.getAttribute("formAction"),i!==null&&(w=i,O=null));var J=new Ni("action","action",null,h,g);r.push({event:J,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(uc!==0){var me=O?g5(g,O):new FormData(g);o0(l,{pending:!0,data:me,method:g.method,action:w},null,me)}}else typeof w=="function"&&(J.preventDefault(),me=O?g5(g,O):new FormData(g),o0(l,{pending:!0,data:me,method:g.method,action:w},w,me))},currentTarget:g}]})}}for(var q0=0;q0<al.length;q0++){var U0=al[q0],$4=U0.toLowerCase(),X4=U0[0].toUpperCase()+U0.slice(1);Ti($4,"on"+X4)}Ti(il,"onAnimationEnd"),Ti(Hc,"onAnimationIteration"),Ti(nf,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(Md,"onTransitionRun"),Ti(Ld,"onTransitionStart"),Ti(Od,"onTransitionCancel"),Ti(rf,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jf));function b5(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],g=h.event;h=h.listeners;e:{var w=void 0;if(i)for(var O=h.length-1;0<=O;O--){var J=h[O],me=J.instance,De=J.currentTarget;if(J=J.listener,me!==w&&g.isPropagationStopped())break e;w=J,g.currentTarget=De;try{w(g)}catch(He){Wc(He)}g.currentTarget=null,w=me}else for(O=0;O<h.length;O++){if(J=h[O],me=J.instance,De=J.currentTarget,J=J.listener,me!==w&&g.isPropagationStopped())break e;w=J,g.currentTarget=De;try{w(g)}catch(He){Wc(He)}g.currentTarget=null,w=me}}}}function En(r,i){var l=i[Er];l===void 0&&(l=i[Er]=new Set);var h=r+"__bubble";l.has(h)||(v5(i,r,2,!1),l.add(h))}function H0(r,i,l){var h=0;i&&(h|=4),v5(l,r,h,i)}var o1="_reactListening"+Math.random().toString(36).slice(2);function W0(r){if(!r[o1]){r[o1]=!0,yn.forEach(function(l){l!=="selectionchange"&&(Z4.has(l)||H0(l,!1,r),H0(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[o1]||(i[o1]=!0,H0("selectionchange",!1,i))}}function v5(r,i,l,h){switch(Y5(i)){case 2:var g=N_;break;case 8:g=A_;break;default:g=am}l=g.bind(null,i,l,r),g=void 0,!Bc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),h?g!==void 0?r.addEventListener(i,l,{capture:!0,passive:g}):r.addEventListener(i,l,!0):g!==void 0?r.addEventListener(i,l,{passive:g}):r.addEventListener(i,l,!1)}function G0(r,i,l,h,g){var w=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var O=h.tag;if(O===3||O===4){var J=h.stateNode.containerInfo;if(J===g)break;if(O===4)for(O=h.return;O!==null;){var me=O.tag;if((me===3||me===4)&&O.stateNode.containerInfo===g)return;O=O.return}for(;J!==null;){if(O=mt(J),O===null)return;if(me=O.tag,me===5||me===6||me===26||me===27){h=w=O;continue e}J=J.parentNode}}h=h.return}Mu(function(){var De=w,He=Qo(l),Qe=[];e:{var Re=sf.get(r);if(Re!==void 0){var Ve=Ni,jt=r;switch(r){case"keypress":if(Si(l)===0)break e;case"keydown":case"keyup":Ve=Dn;break;case"focusin":jt="focus",Ve=za;break;case"focusout":jt="blur",Ve=za;break;case"beforeblur":case"afterblur":Ve=za;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=Ba;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=rs;break;case il:case Hc:case nf:Ve=S;break;case rf:Ve=Ns;break;case"scroll":case"scrollend":Ve=zl;break;case"wheel":Ve=Qi;break;case"copy":case"cut":case"paste":Ve=he;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=qr;break;case"toggle":case"beforetoggle":Ve=Pc}var $t=(i&4)!==0,ur=!$t&&(r==="scroll"||r==="scrollend"),Te=$t?Re!==null?Re+"Capture":null:Re;$t=[];for(var ye=De,Le;ye!==null;){var Ke=ye;if(Le=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Le===null||Te===null||(Ke=di(ye,Te),Ke!=null&&$t.push(Ef(ye,Ke,Le))),ur)break;ye=ye.return}0<$t.length&&(Re=new Ve(Re,jt,null,l,He),Qe.push({event:Re,listeners:$t}))}}if((i&7)===0){e:{if(Re=r==="mouseover"||r==="pointerover",Ve=r==="mouseout"||r==="pointerout",Re&&l!==Da&&(jt=l.relatedTarget||l.fromElement)&&(mt(jt)||jt[Wn]))break e;if((Ve||Re)&&(Re=He.window===He?He:(Re=He.ownerDocument)?Re.defaultView||Re.parentWindow:window,Ve?(jt=l.relatedTarget||l.toElement,Ve=De,jt=jt?mt(jt):null,jt!==null&&(ur=o(jt),$t=jt.tag,jt!==ur||$t!==5&&$t!==27&&$t!==6)&&(jt=null)):(Ve=null,jt=De),Ve!==jt)){if($t=zc,Ke="onMouseLeave",Te="onMouseEnter",ye="mouse",(r==="pointerout"||r==="pointerover")&&($t=qr,Ke="onPointerLeave",Te="onPointerEnter",ye="pointer"),ur=Ve==null?Re:fn(Ve),Le=jt==null?Re:fn(jt),Re=new $t(Ke,ye+"leave",Ve,l,He),Re.target=ur,Re.relatedTarget=Le,Ke=null,mt(He)===De&&($t=new $t(Te,ye+"enter",jt,l,He),$t.target=Le,$t.relatedTarget=ur,Ke=$t),ur=Ke,Ve&&jt)t:{for($t=K4,Te=Ve,ye=jt,Le=0,Ke=Te;Ke;Ke=$t(Ke))Le++;Ke=0;for(var Ut=ye;Ut;Ut=$t(Ut))Ke++;for(;0<Le-Ke;)Te=$t(Te),Le--;for(;0<Ke-Le;)ye=$t(ye),Ke--;for(;Le--;){if(Te===ye||ye!==null&&Te===ye.alternate){$t=Te;break t}Te=$t(Te),ye=$t(ye)}$t=null}else $t=null;Ve!==null&&y5(Qe,Re,Ve,$t,!1),jt!==null&&ur!==null&&y5(Qe,ur,jt,$t,!0)}}e:{if(Re=De?fn(De):window,Ve=Re.nodeName&&Re.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Re.type==="file")var Gn=Ao;else if(qc(Re))if(si)Gn=xa;else{Gn=Ur;var Dt=Wl}else Ve=Re.nodeName,!Ve||Ve.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?De&&Ic(De.elementType)&&(Gn=Ao):Gn=Ru;if(Gn&&(Gn=Gn(r,De))){mi(Qe,Gn,l,He);break e}Dt&&Dt(r,Re,De),r==="focusout"&&De&&Re.type==="number"&&De.memoizedProps.value!=null&&Zo(Re,"number",Re.value)}switch(Dt=De?fn(De):window,r){case"focusin":(qc(Dt)||Dt.contentEditable==="true")&&(gi=Dt,Za=De,Rs=null);break;case"focusout":Rs=Za=gi=null;break;case"mousedown":Ai=!0;break;case"contextmenu":case"mouseup":case"dragend":Ai=!1,qn(Qe,l,He);break;case"selectionchange":if(sl)break;case"keydown":case"keyup":qn(Qe,l,He)}var xn;if(ga)e:{switch(r){case"compositionstart":var Ln="onCompositionStart";break e;case"compositionend":Ln="onCompositionEnd";break e;case"compositionupdate":Ln="onCompositionUpdate";break e}Ln=void 0}else ba?No(r,l)&&(Ln="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ln="onCompositionStart");Ln&&(Ua&&l.locale!=="ko"&&(ba||Ln!=="onCompositionStart"?Ln==="onCompositionEnd"&&ba&&(xn=Lu()):(pi=He,el="value"in pi?pi.value:pi.textContent,ba=!0)),Dt=l1(De,Ln),0<Dt.length&&(Ln=new Ae(Ln,r,null,l,He),Qe.push({event:Ln,listeners:Dt}),xn?Ln.data=xn:(xn=ql(l),xn!==null&&(Ln.data=xn)))),(xn=rl?$s(r,l):Ha(r,l))&&(Ln=l1(De,"onBeforeInput"),0<Ln.length&&(Dt=new Ae("onBeforeInput","beforeinput",null,l,He),Qe.push({event:Dt,listeners:Ln}),Dt.data=xn)),Y4(Qe,r,De,l,He)}b5(Qe,i)})}function Ef(r,i,l){return{instance:r,listener:i,currentTarget:l}}function l1(r,i){for(var l=i+"Capture",h=[];r!==null;){var g=r,w=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||w===null||(g=di(r,l),g!=null&&h.unshift(Ef(r,g,w)),g=di(r,i),g!=null&&h.push(Ef(r,g,w))),r.tag===3)return h;r=r.return}return[]}function K4(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function y5(r,i,l,h,g){for(var w=i._reactName,O=[];l!==null&&l!==h;){var J=l,me=J.alternate,De=J.stateNode;if(J=J.tag,me!==null&&me===h)break;J!==5&&J!==26&&J!==27||De===null||(me=De,g?(De=di(l,w),De!=null&&O.unshift(Ef(l,De,me))):g||(De=di(l,w),De!=null&&O.push(Ef(l,De,me)))),l=l.return}O.length!==0&&r.push({event:i,listeners:O})}var Q4=/\r\n?/g,J4=/\u0000|\uFFFD/g;function x5(r){return(typeof r=="string"?r:""+r).replace(Q4,`
`).replace(J4,"")}function w5(r,i){return i=x5(i),x5(r)===i}function cr(r,i,l,h,g,w){switch(l){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||Zi(r,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&Zi(r,""+h);break;case"className":ni(r,"class",h);break;case"tabIndex":ni(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(r,l,h);break;case"style":ku(r,h,w);break;case"data":if(i!=="object"){ni(r,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(l);break}h=ri(""+h),r.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(i!=="input"&&cr(r,i,"name",g.name,g,null),cr(r,i,"formEncType",g.formEncType,g,null),cr(r,i,"formMethod",g.formMethod,g,null),cr(r,i,"formTarget",g.formTarget,g,null)):(cr(r,i,"encType",g.encType,g,null),cr(r,i,"method",g.method,g,null),cr(r,i,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(l);break}h=ri(""+h),r.setAttribute(l,h);break;case"onClick":h!=null&&(r.onclick=Ki);break;case"onScroll":h!=null&&En("scroll",r);break;case"onScrollEnd":h!=null&&En("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}l=ri(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(l,""+h):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":h===!0?r.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(l,h):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(l,h):r.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(l):r.setAttribute(l,h);break;case"popover":En("beforetoggle",r),En("toggle",r),zr(r,"popover",h);break;case"xlinkActuate":Gs(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Gs(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Gs(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Gs(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Gs(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Gs(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Gs(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Gs(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Gs(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":zr(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Vc.get(l)||l,zr(r,l,h))}}function Y0(r,i,l,h,g,w){switch(l){case"style":ku(r,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof h=="string"?Zi(r,h):(typeof h=="number"||typeof h=="bigint")&&Zi(r,""+h);break;case"onScroll":h!=null&&En("scroll",r);break;case"onScrollEnd":h!=null&&En("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Ki);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fn.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),i=l.slice(2,g?l.length-7:void 0),w=r[Jt]||null,w=w!=null?w[l]:null,typeof w=="function"&&r.removeEventListener(i,w,g),typeof h=="function")){typeof w!="function"&&w!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,h,g);break e}l in r?r[l]=h:h===!0?r.setAttribute(l,""):zr(r,l,h)}}}function Js(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":En("error",r),En("load",r);var h=!1,g=!1,w;for(w in l)if(l.hasOwnProperty(w)){var O=l[w];if(O!=null)switch(w){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:cr(r,i,w,O,l,null)}}g&&cr(r,i,"srcSet",l.srcSet,l,null),h&&cr(r,i,"src",l.src,l,null);return;case"input":En("invalid",r);var J=w=O=g=null,me=null,De=null;for(h in l)if(l.hasOwnProperty(h)){var He=l[h];if(He!=null)switch(h){case"name":g=He;break;case"type":O=He;break;case"checked":me=He;break;case"defaultChecked":De=He;break;case"value":w=He;break;case"defaultValue":J=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(s(137,i));break;default:cr(r,i,h,He,l,null)}}Vl(r,w,J,me,De,O,g,!1);return;case"select":En("invalid",r),h=O=w=null;for(g in l)if(l.hasOwnProperty(g)&&(J=l[g],J!=null))switch(g){case"value":w=J;break;case"defaultValue":O=J;break;case"multiple":h=J;default:cr(r,i,g,J,l,null)}i=w,l=O,r.multiple=!!h,i!=null?Ys(r,!!h,i,!1):l!=null&&Ys(r,!!h,l,!0);return;case"textarea":En("invalid",r),w=g=h=null;for(O in l)if(l.hasOwnProperty(O)&&(J=l[O],J!=null))switch(O){case"value":h=J;break;case"defaultValue":g=J;break;case"children":w=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(91));break;default:cr(r,i,O,J,l,null)}Rc(r,h,g,w);return;case"option":for(me in l)if(l.hasOwnProperty(me)&&(h=l[me],h!=null))switch(me){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:cr(r,i,me,h,l,null)}return;case"dialog":En("beforetoggle",r),En("toggle",r),En("cancel",r),En("close",r);break;case"iframe":case"object":En("load",r);break;case"video":case"audio":for(h=0;h<jf.length;h++)En(jf[h],r);break;case"image":En("error",r),En("load",r);break;case"details":En("toggle",r);break;case"embed":case"source":case"link":En("error",r),En("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in l)if(l.hasOwnProperty(De)&&(h=l[De],h!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:cr(r,i,De,h,l,null)}return;default:if(Ic(i)){for(He in l)l.hasOwnProperty(He)&&(h=l[He],h!==void 0&&Y0(r,i,He,h,l,void 0));return}}for(J in l)l.hasOwnProperty(J)&&(h=l[J],h!=null&&cr(r,i,J,h,l,null))}function e_(r,i,l,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,w=null,O=null,J=null,me=null,De=null,He=null;for(Ve in l){var Qe=l[Ve];if(l.hasOwnProperty(Ve)&&Qe!=null)switch(Ve){case"checked":break;case"value":break;case"defaultValue":me=Qe;default:h.hasOwnProperty(Ve)||cr(r,i,Ve,null,h,Qe)}}for(var Re in h){var Ve=h[Re];if(Qe=l[Re],h.hasOwnProperty(Re)&&(Ve!=null||Qe!=null))switch(Re){case"type":w=Ve;break;case"name":g=Ve;break;case"checked":De=Ve;break;case"defaultChecked":He=Ve;break;case"value":O=Ve;break;case"defaultValue":J=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(s(137,i));break;default:Ve!==Qe&&cr(r,i,Re,Ve,h,Qe)}}wo(r,O,J,me,De,He,w,g);return;case"select":Ve=O=J=Re=null;for(w in l)if(me=l[w],l.hasOwnProperty(w)&&me!=null)switch(w){case"value":break;case"multiple":Ve=me;default:h.hasOwnProperty(w)||cr(r,i,w,null,h,me)}for(g in h)if(w=h[g],me=l[g],h.hasOwnProperty(g)&&(w!=null||me!=null))switch(g){case"value":Re=w;break;case"defaultValue":J=w;break;case"multiple":O=w;default:w!==me&&cr(r,i,g,w,h,me)}i=J,l=O,h=Ve,Re!=null?Ys(r,!!l,Re,!1):!!h!=!!l&&(i!=null?Ys(r,!!l,i,!0):Ys(r,!!l,l?[]:"",!1));return;case"textarea":Ve=Re=null;for(J in l)if(g=l[J],l.hasOwnProperty(J)&&g!=null&&!h.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:cr(r,i,J,null,h,g)}for(O in h)if(g=h[O],w=l[O],h.hasOwnProperty(O)&&(g!=null||w!=null))switch(O){case"value":Re=g;break;case"defaultValue":Ve=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==w&&cr(r,i,O,g,h,w)}Dc(r,Re,Ve);return;case"option":for(var jt in l)if(Re=l[jt],l.hasOwnProperty(jt)&&Re!=null&&!h.hasOwnProperty(jt))switch(jt){case"selected":r.selected=!1;break;default:cr(r,i,jt,null,h,Re)}for(me in h)if(Re=h[me],Ve=l[me],h.hasOwnProperty(me)&&Re!==Ve&&(Re!=null||Ve!=null))switch(me){case"selected":r.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:cr(r,i,me,Re,h,Ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in l)Re=l[$t],l.hasOwnProperty($t)&&Re!=null&&!h.hasOwnProperty($t)&&cr(r,i,$t,null,h,Re);for(De in h)if(Re=h[De],Ve=l[De],h.hasOwnProperty(De)&&Re!==Ve&&(Re!=null||Ve!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(s(137,i));break;default:cr(r,i,De,Re,h,Ve)}return;default:if(Ic(i)){for(var ur in l)Re=l[ur],l.hasOwnProperty(ur)&&Re!==void 0&&!h.hasOwnProperty(ur)&&Y0(r,i,ur,void 0,h,Re);for(He in h)Re=h[He],Ve=l[He],!h.hasOwnProperty(He)||Re===Ve||Re===void 0&&Ve===void 0||Y0(r,i,He,Re,h,Ve);return}}for(var Te in l)Re=l[Te],l.hasOwnProperty(Te)&&Re!=null&&!h.hasOwnProperty(Te)&&cr(r,i,Te,null,h,Re);for(Qe in h)Re=h[Qe],Ve=l[Qe],!h.hasOwnProperty(Qe)||Re===Ve||Re==null&&Ve==null||cr(r,i,Qe,Re,h,Ve)}function _5(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function t_(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var g=l[h],w=g.transferSize,O=g.initiatorType,J=g.duration;if(w&&J&&_5(O)){for(O=0,J=g.responseEnd,h+=1;h<l.length;h++){var me=l[h],De=me.startTime;if(De>J)break;var He=me.transferSize,Qe=me.initiatorType;He&&_5(Qe)&&(me=me.responseEnd,O+=He*(me<J?1:(J-De)/(me-De)))}if(--h,i+=8*(w+O)/(g.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var $0=null,X0=null;function c1(r){return r.nodeType===9?r:r.ownerDocument}function S5(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N5(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Z0(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var K0=null;function n_(){var r=window.event;return r&&r.type==="popstate"?r===K0?!1:(K0=r,!0):(K0=null,!1)}var A5=typeof setTimeout=="function"?setTimeout:void 0,r_=typeof clearTimeout=="function"?clearTimeout:void 0,T5=typeof Promise=="function"?Promise:void 0,s_=typeof queueMicrotask=="function"?queueMicrotask:typeof T5<"u"?function(r){return T5.resolve(null).then(r).catch(i_)}:A5;function i_(r){setTimeout(function(){throw r})}function hc(r){return r==="head"}function C5(r,i){var l=i,h=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(h===0){r.removeChild(g),ph(i);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")Mf(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Mf(l);for(var w=l.firstChild;w;){var O=w.nextSibling,J=w.nodeName;w[Xe]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=O}}else l==="body"&&Mf(r.ownerDocument.body);l=g}while(l);ph(i)}function k5(r,i){var l=r;r=0;do{var h=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=h}while(l)}function Q0(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Q0(l),xt(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function a_(r,i,l,h){for(;r.nodeType===1;){var g=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Xe])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var w=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=Ca(r.nextSibling),r===null)break}return null}function o_(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Ca(r.nextSibling),r===null))return null;return r}function j5(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Ca(r.nextSibling),r===null))return null;return r}function J0(r){return r.data==="$?"||r.data==="$~"}function em(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function l_(r,i){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||l.readyState!=="loading")i();else{var h=function(){i(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function Ca(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var tm=null;function E5(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(i===0)return Ca(r.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}r=r.nextSibling}return null}function M5(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return r;i--}else l!=="/$"&&l!=="/&"||i++}r=r.previousSibling}return null}function L5(r,i,l){switch(i=c1(l),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Mf(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);xt(r)}var ka=new Map,O5=new Set;function u1(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var _l=ne.d;ne.d={f:c_,r:u_,D:h_,C:f_,L:d_,m:p_,X:g_,S:m_,M:b_};function c_(){var r=_l.f(),i=t1();return r||i}function u_(r){var i=At(r);i!==null&&i.tag===5&&i.type==="form"?Z2(i):_l.r(r)}var hh=typeof document>"u"?null:document;function D5(r,i,l){var h=hh;if(h&&typeof i=="string"&&i){var g=Lr(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),O5.has(g)||(O5.add(g),r={rel:r,crossOrigin:l,href:i},h.querySelector(g)===null&&(i=h.createElement("link"),Js(i,"link",r),en(i),h.head.appendChild(i)))}}function h_(r){_l.D(r),D5("dns-prefetch",r,null)}function f_(r,i){_l.C(r,i),D5("preconnect",r,i)}function d_(r,i,l){_l.L(r,i,l);var h=hh;if(h&&r&&i){var g='link[rel="preload"][as="'+Lr(i)+'"]';i==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Lr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Lr(l.imageSizes)+'"]')):g+='[href="'+Lr(r)+'"]';var w=g;switch(i){case"style":w=fh(r);break;case"script":w=dh(r)}ka.has(w)||(r=y({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),ka.set(w,r),h.querySelector(g)!==null||i==="style"&&h.querySelector(Lf(w))||i==="script"&&h.querySelector(Of(w))||(i=h.createElement("link"),Js(i,"link",r),en(i),h.head.appendChild(i)))}}function p_(r,i){_l.m(r,i);var l=hh;if(l&&r){var h=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Lr(h)+'"][href="'+Lr(r)+'"]',w=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=dh(r)}if(!ka.has(w)&&(r=y({rel:"modulepreload",href:r},i),ka.set(w,r),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Of(w)))return}h=l.createElement("link"),Js(h,"link",r),en(h),l.head.appendChild(h)}}}function m_(r,i,l){_l.S(r,i,l);var h=hh;if(h&&r){var g=sn(h).hoistableStyles,w=fh(r);i=i||"default";var O=g.get(w);if(!O){var J={loading:0,preload:null};if(O=h.querySelector(Lf(w)))J.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":i},l),(l=ka.get(w))&&nm(r,l);var me=O=h.createElement("link");en(me),Js(me,"link",r),me._p=new Promise(function(De,He){me.onload=De,me.onerror=He}),me.addEventListener("load",function(){J.loading|=1}),me.addEventListener("error",function(){J.loading|=2}),J.loading|=4,h1(O,i,h)}O={type:"stylesheet",instance:O,count:1,state:J},g.set(w,O)}}}function g_(r,i){_l.X(r,i);var l=hh;if(l&&r){var h=sn(l).hoistableScripts,g=dh(r),w=h.get(g);w||(w=l.querySelector(Of(g)),w||(r=y({src:r,async:!0},i),(i=ka.get(g))&&rm(r,i),w=l.createElement("script"),en(w),Js(w,"link",r),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(g,w))}}function b_(r,i){_l.M(r,i);var l=hh;if(l&&r){var h=sn(l).hoistableScripts,g=dh(r),w=h.get(g);w||(w=l.querySelector(Of(g)),w||(r=y({src:r,async:!0,type:"module"},i),(i=ka.get(g))&&rm(r,i),w=l.createElement("script"),en(w),Js(w,"link",r),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(g,w))}}function R5(r,i,l,h){var g=(g=se.current)?u1(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=fh(l.href),l=sn(g).hoistableStyles,h=l.get(i),h||(h={type:"style",instance:null,count:0,state:null},l.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=fh(l.href);var w=sn(g).hoistableStyles,O=w.get(r);if(O||(g=g.ownerDocument||g,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,O),(w=g.querySelector(Lf(r)))&&!w._p&&(O.instance=w,O.state.loading=5),ka.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ka.set(r,l),w||v_(g,r,l,O.state))),i&&h===null)throw Error(s(528,""));return O}if(i&&h!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=dh(l),l=sn(g).hoistableScripts,h=l.get(i),h||(h={type:"script",instance:null,count:0,state:null},l.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function fh(r){return'href="'+Lr(r)+'"'}function Lf(r){return'link[rel="stylesheet"]['+r+"]"}function I5(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function v_(r,i,l,h){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=r.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),Js(i,"link",l),en(i),r.head.appendChild(i))}function dh(r){return'[src="'+Lr(r)+'"]'}function Of(r){return"script[async]"+r}function V5(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var h=r.querySelector('style[data-href~="'+Lr(l.href)+'"]');if(h)return i.instance=h,en(h),h;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),en(h),Js(h,"style",g),h1(h,l.precedence,r),i.instance=h;case"stylesheet":g=fh(l.href);var w=r.querySelector(Lf(g));if(w)return i.state.loading|=4,i.instance=w,en(w),w;h=I5(l),(g=ka.get(g))&&nm(h,g),w=(r.ownerDocument||r).createElement("link"),en(w);var O=w;return O._p=new Promise(function(J,me){O.onload=J,O.onerror=me}),Js(w,"link",h),i.state.loading|=4,h1(w,l.precedence,r),i.instance=w;case"script":return w=dh(l.src),(g=r.querySelector(Of(w)))?(i.instance=g,en(g),g):(h=l,(g=ka.get(w))&&(h=y({},l),rm(h,g)),r=r.ownerDocument||r,g=r.createElement("script"),en(g),Js(g,"link",h),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,h1(h,l.precedence,r));return i.instance}function h1(r,i,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,w=g,O=0;O<h.length;O++){var J=h[O];if(J.dataset.precedence===i)w=J;else if(w!==g)break}w?w.parentNode.insertBefore(r,w.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function nm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function rm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var f1=null;function F5(r,i,l){if(f1===null){var h=new Map,g=f1=new Map;g.set(l,h)}else g=f1,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(r))return h;for(h.set(r,null),l=l.getElementsByTagName(r),g=0;g<l.length;g++){var w=l[g];if(!(w[Xe]||w[_n]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(i)||"";O=r+O;var J=h.get(O);J?J.push(w):h.set(O,[w])}}return h}function B5(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function y_(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function z5(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function x_(r,i,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=fh(h.href),w=i.querySelector(Lf(g));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=d1.bind(r),i.then(r,r)),l.state.loading|=4,l.instance=w,en(w);return}w=i.ownerDocument||i,h=I5(h),(g=ka.get(g))&&nm(h,g),w=w.createElement("link"),en(w);var O=w;O._p=new Promise(function(J,me){O.onload=J,O.onerror=me}),Js(w,"link",h),l.instance=w}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=d1.bind(r),i.addEventListener("load",l),i.addEventListener("error",l))}}var sm=0;function w_(r,i){return r.stylesheets&&r.count===0&&m1(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var h=setTimeout(function(){if(r.stylesheets&&m1(r,r.stylesheets),r.unsuspend){var w=r.unsuspend;r.unsuspend=null,w()}},6e4+i);0<r.imgBytes&&sm===0&&(sm=62500*t_());var g=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&m1(r,r.stylesheets),r.unsuspend)){var w=r.unsuspend;r.unsuspend=null,w()}},(r.imgBytes>sm?50:800)+i);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function d1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)m1(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var p1=null;function m1(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,p1=new Map,i.forEach(__,r),p1=null,d1.call(r))}function __(r,i){if(!(i.state.loading&4)){var l=p1.get(r);if(l)var h=l.get(null);else{l=new Map,p1.set(r,l);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<g.length;w++){var O=g[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(l.set(O.dataset.precedence,O),h=O)}h&&l.set(null,h)}g=i.instance,O=g.getAttribute("data-precedence"),w=l.get(O)||h,w===h&&l.set(null,g),l.set(O,g),this.count++,h=d1.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),w?w.parentNode.insertBefore(g,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var Df={$$typeof:D,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function S_(r,i,l,h,g,w,O,J,me){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oe(0),this.hiddenUpdates=Oe(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function P5(r,i,l,h,g,w,O,J,me,De,He,Qe){return r=new S_(r,i,l,O,me,De,He,Qe,J),i=1,w===!0&&(i|=24),w=Vs(3,null,null,i),r.current=w,w.stateNode=r,i=Jl(),i.refCount++,r.pooledCache=i,i.refCount++,w.memoizedState={element:h,isDehydrated:l,cache:i},pt(w),r}function q5(r){return r?(r=Ts,r):Ts}function U5(r,i,l,h,g,w){g=q5(g),h.context===null?h.context=g:h.pendingContext=g,h=Yt(i),h.payload={element:l},w=w===void 0?null:w,w!==null&&(h.callback=w),l=vn(r,h,i),l!==null&&(Bi(l,r,i),$n(l,r,i))}function H5(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function im(r,i){H5(r,i),(r=r.alternate)&&H5(r,i)}function W5(r){if(r.tag===13||r.tag===31){var i=Ka(r,67108864);i!==null&&Bi(i,r,67108864),im(r,67108864)}}function G5(r){if(r.tag===13||r.tag===31){var i=aa();i=Wt(i);var l=Ka(r,i);l!==null&&Bi(l,r,i),im(r,i)}}var g1=!0;function N_(r,i,l,h){var g=$.T;$.T=null;var w=ne.p;try{ne.p=2,am(r,i,l,h)}finally{ne.p=w,$.T=g}}function A_(r,i,l,h){var g=$.T;$.T=null;var w=ne.p;try{ne.p=8,am(r,i,l,h)}finally{ne.p=w,$.T=g}}function am(r,i,l,h){if(g1){var g=om(h);if(g===null)G0(r,i,h,b1,l),$5(r,h);else if(C_(g,r,i,l,h))h.stopPropagation();else if($5(r,h),i&4&&-1<T_.indexOf(r)){for(;g!==null;){var w=At(g);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=_e(w.pendingLanes);if(O!==0){var J=w;for(J.pendingLanes|=2,J.entangledLanes|=2;O;){var me=1<<31-Tt(O);J.entanglements[1]|=me,O&=~me}Fo(w),(Zn&6)===0&&(Jd=ze()+500,kf(0))}}break;case 31:case 13:J=Ka(w,2),J!==null&&Bi(J,w,2),t1(),im(w,2)}if(w=om(h),w===null&&G0(r,i,h,b1,l),w===g)break;g=w}g!==null&&h.stopPropagation()}else G0(r,i,h,null,l)}}function om(r){return r=Qo(r),lm(r)}var b1=null;function lm(r){if(b1=null,r=mt(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=u(i),r!==null)return r;r=null}else if(l===31){if(r=c(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return b1=r,null}function Y5(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case rt:return 2;case ut:return 8;case vt:case dt:return 32;case yt:return 268435456;default:return 32}default:return 32}}var cm=!1,fc=null,dc=null,pc=null,Rf=new Map,If=new Map,mc=[],T_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $5(r,i){switch(r){case"focusin":case"focusout":fc=null;break;case"dragenter":case"dragleave":dc=null;break;case"mouseover":case"mouseout":pc=null;break;case"pointerover":case"pointerout":Rf.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":If.delete(i.pointerId)}}function Vf(r,i,l,h,g,w){return r===null||r.nativeEvent!==w?(r={blockedOn:i,domEventName:l,eventSystemFlags:h,nativeEvent:w,targetContainers:[g]},i!==null&&(i=At(i),i!==null&&W5(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function C_(r,i,l,h,g){switch(i){case"focusin":return fc=Vf(fc,r,i,l,h,g),!0;case"dragenter":return dc=Vf(dc,r,i,l,h,g),!0;case"mouseover":return pc=Vf(pc,r,i,l,h,g),!0;case"pointerover":var w=g.pointerId;return Rf.set(w,Vf(Rf.get(w)||null,r,i,l,h,g)),!0;case"gotpointercapture":return w=g.pointerId,If.set(w,Vf(If.get(w)||null,r,i,l,h,g)),!0}return!1}function X5(r){var i=mt(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){r.blockedOn=i,Qn(r.priority,function(){G5(l)});return}}else if(i===31){if(i=c(l),i!==null){r.blockedOn=i,Qn(r.priority,function(){G5(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function v1(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=om(r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);Da=h,l.target.dispatchEvent(h),Da=null}else return i=At(l),i!==null&&W5(i),r.blockedOn=l,!1;i.shift()}return!0}function Z5(r,i,l){v1(r)&&l.delete(i)}function k_(){cm=!1,fc!==null&&v1(fc)&&(fc=null),dc!==null&&v1(dc)&&(dc=null),pc!==null&&v1(pc)&&(pc=null),Rf.forEach(Z5),If.forEach(Z5)}function y1(r,i){r.blockedOn===i&&(r.blockedOn=null,cm||(cm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,k_)))}var x1=null;function K5(r){x1!==r&&(x1=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){x1===r&&(x1=null);for(var i=0;i<r.length;i+=3){var l=r[i],h=r[i+1],g=r[i+2];if(typeof h!="function"){if(lm(h||l)===null)continue;break}var w=At(l);w!==null&&(r.splice(i,3),i-=3,o0(w,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function ph(r){function i(me){return y1(me,r)}fc!==null&&y1(fc,r),dc!==null&&y1(dc,r),pc!==null&&y1(pc,r),Rf.forEach(i),If.forEach(i);for(var l=0;l<mc.length;l++){var h=mc[l];h.blockedOn===r&&(h.blockedOn=null)}for(;0<mc.length&&(l=mc[0],l.blockedOn===null);)X5(l),l.blockedOn===null&&mc.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],w=l[h+1],O=g[Jt]||null;if(typeof w=="function")O||K5(l);else if(O){var J=null;if(w&&w.hasAttribute("formAction")){if(g=w,O=w[Jt]||null)J=O.formAction;else if(lm(g)!==null)continue}else J=O.action;typeof J=="function"?l[h+1]=J:(l.splice(h,3),h-=3),K5(l)}}}function Q5(){function r(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(O){return g=O})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function um(r){this._internalRoot=r}w1.prototype.render=um.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,h=aa();U5(l,h,r,i,null,null)},w1.prototype.unmount=um.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;U5(r.current,2,null,r,null,null),t1(),i[Wn]=null}};function w1(r){this._internalRoot=r}w1.prototype.unstable_scheduleHydration=function(r){if(r){var i=hn();r={blockedOn:null,target:r,priority:i};for(var l=0;l<mc.length&&i!==0&&i<mc[l].priority;l++);mc.splice(l,0,r),l===0&&X5(r)}};var J5=e.version;if(J5!=="19.2.0")throw Error(s(527,J5,"19.2.0"));ne.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=d(i),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var j_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_1.isDisabled&&_1.supportsFiber)try{Zt=_1.inject(j_),Nt=_1}catch{}}return Bf.createRoot=function(r,i){if(!a(r))throw Error(s(299));var l=!1,h="",g=ab,w=ob,O=lb;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(O=i.onRecoverableError)),i=P5(r,1,!1,null,null,l,h,null,g,w,O,Q5),r[Wn]=i.current,W0(r),new um(i)},Bf.hydrateRoot=function(r,i,l){if(!a(r))throw Error(s(299));var h=!1,g="",w=ab,O=ob,J=lb,me=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(J=l.onRecoverableError),l.formState!==void 0&&(me=l.formState)),i=P5(r,1,!0,i,l??null,h,g,me,w,O,J,Q5),i.context=q5(null),l=i.current,h=aa(),h=Wt(h),g=Yt(h),g.callback=null,vn(l,g,h),l=h,i.current.lanes=l,$e(i,l),Fo(i),r[Wn]=i.current,W0(r),new w1(i)},Bf.version="19.2.0",Bf}var cv;function B_(){if(cv)return dm.exports;cv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dm.exports=F_(),dm.exports}var z_=B_();const uv=n=>{let e;const t=new Set,s=(d,p)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const _=e;e=p??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(v=>v(e,_))}},a=()=>e,c={setState:s,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=n(s,a,c);return c},P_=(n=>n?uv(n):uv),q_=n=>n;function U_(n,e=q_){const t=Kn.useSyncExternalStore(n.subscribe,Kn.useCallback(()=>e(n.getState()),[n,e]),Kn.useCallback(()=>e(n.getInitialState()),[n,e]));return Kn.useDebugValue(t),t}const H_=n=>{const e=P_(n),t=s=>U_(e,s);return Object.assign(t,e),t},W_=(n=>H_);function G_(n,e){let t;try{t=n()}catch{return}return{getItem:a=>{var o;const u=f=>f===null?null:JSON.parse(f,void 0),c=(o=t.getItem(a))!=null?o:null;return c instanceof Promise?c.then(u):u(c)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const Wm=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(s){return Wm(s)(t)},catch(s){return this}}}catch(t){return{then(s){return this},catch(s){return Wm(s)(t)}}}},Y_=(n,e)=>(t,s,a)=>{let o={storage:G_(()=>localStorage),partialize:N=>N,version:0,merge:(N,k)=>({...k,...N}),...e},u=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return n((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...N)},s,a);const p=()=>{const N=o.partialize({...s()});return d.setItem(o.name,{state:N,version:o.version})},y=a.setState;a.setState=(N,k)=>(y(N,k),p());const _=n((...N)=>(t(...N),p()),s,a);a.getInitialState=()=>_;let v;const A=()=>{var N,k;if(!d)return;u=!1,c.forEach(R=>{var D;return R((D=s())!=null?D:_)});const C=((k=o.onRehydrateStorage)==null?void 0:k.call(o,(N=s())!=null?N:_))||void 0;return Wm(d.getItem.bind(d))(o.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==o.version){if(o.migrate){const D=o.migrate(R.state,R.version);return D instanceof Promise?D.then(V=>[!0,V]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var D;const[V,F]=R;if(v=o.merge(F,(D=s())!=null?D:_),t(v,!0),V)return p()}).then(()=>{C?.(v,void 0),v=s(),u=!0,f.forEach(R=>R(v))}).catch(R=>{C?.(void 0,R)})};return a.persist={setOptions:N=>{o={...o,...N},N.storage&&(d=N.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>A(),hasHydrated:()=>u,onHydrate:N=>(c.add(N),()=>{c.delete(N)}),onFinishHydration:N=>(f.add(N),()=>{f.delete(N)})},o.skipHydration||A(),v||_},$_=Y_,Cl=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],du=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],X_=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}],Z_={major:"",maj:"",minor:"m",diminished:"",dim:"",augmented:"+",major7:"maj7",minor7:"m7",dominant7:"7",halfDiminished7:"m75",sus2:"sus2",sus4:"sus4",dominant9:"9",dominant11:"11",dominant13:"13",major9:"maj9",minor9:"m9",add9:"add9",6:"6",m6:"m6","7sus4":"7sus4",dominant7sus4:"7sus4"};function Ah(n){return Z_[n]??n}function Oh(n){return n.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[n]||n}const K_={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},Q_={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function la(n,e){const t=Oh(n),s=Cl.indexOf(t);if(s===-1)return[];const a=K_[e]||e,o=Q_[a];return o?o.map(u=>Cl[(s+u)%12]):(console.warn(`Unknown chord quality: ${e} (resolved to ${a})`),Cl.slice(s,s+1).concat([Cl[(s+4)%12],Cl[(s+7)%12]]))}function iu(n,e){if(!n||n.length===0)return n;const t=n.length-1,s=Math.max(0,Math.min(e,t));return s===0?n:[...n.slice(s),...n.slice(0,s)]}function J_(n){return Math.max(0,(n?.length||1)-1)}function eS(n){return["Root","1st","2nd","3rd","4th","5th","6th"][n]||`${n}th`}function hv(n,e,t,s){const o=`${n}${e==="major"||e==="maj"?"":e}`;if(!s||s===0||!t||t.length===0)return o;const u=t[s%t.length];return`${o}/${u}`}function Cx(n){const e=["G","D","A","E","B","F#","C#"],t=["F","Bb","Eb","Ab","Db","Gb","Cb"],s=e.indexOf(n),a=t.indexOf(n);return s>=0?{sharps:s+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function Ph(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function tS(n,e){const t=Oh(n),s=Oh(e),a=Cl.indexOf(t),o=Cl.indexOf(s);if(a===-1||o===-1)return"?";let u=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[u]||"?"}function Jn(n){return n&&n.replace(/([A-G])b/g,"$1")}const ei=[];for(let n=0;n<256;++n)ei.push((n+256).toString(16).slice(1));function nS(n,e=0){return(ei[n[e+0]]+ei[n[e+1]]+ei[n[e+2]]+ei[n[e+3]]+"-"+ei[n[e+4]]+ei[n[e+5]]+"-"+ei[n[e+6]]+ei[n[e+7]]+"-"+ei[n[e+8]]+ei[n[e+9]]+"-"+ei[n[e+10]]+ei[n[e+11]]+ei[n[e+12]]+ei[n[e+13]]+ei[n[e+14]]+ei[n[e+15]]).toLowerCase()}let bm;const rS=new Uint8Array(16);function sS(){if(!bm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bm=crypto.getRandomValues.bind(crypto)}return bm(rS)}const iS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),fv={randomUUID:iS};function aS(n,e,t){n=n||{};const s=n.random??n.rng?.()??sS();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,nS(s)}function Ps(n,e,t){return fv.randomUUID&&!n?fv.randomUUID():aS(n)}function dv(n){if(n.length===0)return"intro";const e=n.map(o=>o.type),t=e[e.length-1],s=e.slice(-4),a=e.reduce((o,u)=>(o[u]=(o[u]||0)+1,o),{});if(t==="intro")return"verse";if(s.length>=4){const[o,u,c,f]=s;if(o==="verse"&&u==="chorus"&&c==="verse"&&f==="chorus"||o==="chorus"&&u==="verse"&&c==="chorus"&&f==="verse")return"bridge"}if(t==="bridge"||t==="verse")return"chorus";if(t==="chorus"){const o=e.includes("bridge"),u=a.chorus||0;return o&&u>=3?"outro":"verse"}return t==="outro"?"verse":t==="pre-chorus"||t==="interlude"||t==="solo"||t==="breakdown"?"chorus":"verse"}const qs=[4,4],Hf=(n=qs)=>{const[e,t]=n;return!e||!t?4:e*(4/t)},cu=n=>{const e=Hf(n);return{id:Ps(),beats:[{id:Ps(),chord:null,duration:e}]}},Bo=n=>n?`${n.sectionId}:${n.slotId}`:"",Eg=n=>{const e=[];return n.forEach(t=>{t.measures.forEach(s=>{s.beats.forEach(a=>{e.push({sectionId:t.id,slotId:a.id,chord:a.chord??null})})})}),e},au=(n,e)=>{if(!e)return null;for(const t of n)if(t.id===e.sectionId){for(const s of t.measures)for(const a of s.beats)if(a.id===e.slotId)return a.chord??null}return null},pv=(n,e)=>e?Eg(n).findIndex(s=>s.sectionId===e.sectionId&&s.slotId===e.slotId):-1,oS=(n,e,t)=>{const s=Eg(n),a=s.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId),o=s.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId);if(a===-1||o===-1)return[];const[u,c]=a<=o?[a,o]:[o,a];return s.slice(u,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},z1=(n,e)=>e?n.some(t=>t.id===e.sectionId&&t.measures.some(s=>s.beats.some(a=>a.id===e.slotId))):!1,ou=(n,e,t,s,a)=>{const o=e&&t?{sectionId:e,slotId:t}:null,u=s.filter(p=>z1(n,p)),c=z1(n,o),f=u[u.length-1]||(c?o:null),d=a&&z1(n,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:u,selectionAnchor:d?a:u[0]??f??null}},Gm=100,Wf=n=>typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n)),Ar=n=>{const e=Wf(n.currentSong),t=[...n.historyPast,e].slice(-Gm);return{historyPast:t,historyFuture:[],canUndo:t.length>0,canRedo:!1}},mv=(n,e,t,s,a)=>{const o=ou(n.sections,e,t,s,a),u=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=u?au(n.sections,u):null;return{...o,selectedChord:c}},lS=(n,e,t)=>{let s=!1;for(const a of n)for(const o of a.measures)for(const u of o.beats){if(s)return{sectionId:a.id,slotId:u.id};a.id===e&&u.id===t&&(s=!0)}return null},zf={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:qs,measures:Array(4).fill(null).map(()=>cu(qs))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:qs,measures:Array(4).fill(null).map(()=>cu(qs))}],notes:"",createdAt:new Date,updatedAt:new Date},vm={root:"C",quality:"major",numeral:"I",notes:["C","E","G"],symbol:"C"},an=W_()($_(n=>({currentSong:zf,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,songMapVisible:!1,songInfoModalVisible:!1,collapsedSections:{},chordPanelGuitarExpanded:!1,chordPanelVoicingsExpanded:!1,chordPanelAttention:!1,selectedChord:vm,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,playingSectionId:null,playingSlotId:null,isLooping:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:e=>n(t=>{if(t.wheelMode==="rotating"){const s=du.indexOf(e);if(s!==-1)return{selectedKey:e,wheelRotation:-(s*30)}}return{selectedKey:e}}),rotateWheel:e=>n(t=>({wheelRotation:t.wheelMode==="rotating"?t.wheelRotation+(e==="cw"?-30:30):0})),toggleWheelMode:()=>n(e=>{const t=e.wheelMode==="rotating"?"fixed":"rotating";let s=0;if(t==="rotating"){const a=du.indexOf(e.selectedKey);a!==-1&&(s=-(a*30))}return{wheelMode:t,wheelRotation:s}}),toggleChordPanel:()=>n(e=>({chordPanelVisible:!e.chordPanelVisible})),toggleTimeline:()=>n(e=>({timelineVisible:!e.timelineVisible})),openTimeline:()=>n(e=>{if(typeof window<"u"&&window.dispatchEvent(new CustomEvent("openMobileTimeline")),!e.selectedSectionId||!e.selectedSlotId){const t=e.currentSong.sections;if(t.length>0){const s=e.selectedSectionId&&t.find(a=>a.id===e.selectedSectionId)||t[0];if(s.measures.length>0&&s.measures[0].beats.length>0){const a=s.measures[0].beats[0],o={sectionId:s.id,slotId:a.id},u=a.chord??null;return{timelineVisible:!0,selectedSectionId:s.id,selectedSlotId:a.id,selectedSlots:[o],selectionAnchor:o,selectedChord:u}}}}return{timelineVisible:!0}}),toggleSongMap:e=>n(t=>({songMapVisible:e!==void 0?e:!t.songMapVisible})),toggleSongInfoModal:e=>n(t=>({songInfoModalVisible:e!==void 0?e:!t.songInfoModalVisible})),toggleSectionCollapsed:e=>n(t=>{const s={...t.collapsedSections,[e]:!t.collapsedSections?.[e]};return s[e]||delete s[e],{collapsedSections:s}}),setChordPanelGuitarExpanded:e=>n({chordPanelGuitarExpanded:e}),setChordPanelVoicingsExpanded:e=>n({chordPanelVoicingsExpanded:e}),pulseChordPanel:()=>{n({chordPanelAttention:!0}),setTimeout(()=>n({chordPanelAttention:!1}),600)},setSelectedChord:e=>n({selectedChord:e}),setSelectedSlot:(e,t)=>n(s=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:e,slotId:t},o=au(s.currentSong.sections,a);return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),selectSlotOnly:(e,t)=>n(()=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null};const s={sectionId:e,slotId:t};return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[s],selectionAnchor:s}}),setSelectedSlots:e=>n(t=>{const s=e.filter(Boolean),a=s[s.length-1]??null,o=au(t.currentSong.sections,a);return{selectedSlots:s,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:s[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(e,t)=>n(s=>{const a=s.selectedSlots.some(d=>d.sectionId===e&&d.slotId===t),o=a?s.selectedSlots.filter(d=>!(d.sectionId===e&&d.slotId===t)):[...s.selectedSlots,{sectionId:e,slotId:t}],u=o[o.length-1]??null,c=au(s.currentSong.sections,u),f=a&&s.selectionAnchor&&Bo(s.selectionAnchor)===Bo({sectionId:e,slotId:t});return{selectedSlots:o,selectedSectionId:u?.sectionId??null,selectedSlotId:u?.slotId??null,selectionAnchor:f?o[0]??u??null:s.selectionAnchor??u??null,selectedChord:c??null}}),selectRangeTo:(e,t)=>n(s=>{const a={sectionId:e,slotId:t},o=s.selectionAnchor||s.selectedSlots[s.selectedSlots.length-1]||(s.selectedSectionId&&s.selectedSlotId?{sectionId:s.selectedSectionId,slotId:s.selectedSlotId}:a),c=z1(s.currentSong.sections,o)?o:a,f=oS(s.currentSong.sections,c,a),d=f.length?f:[a],p=au(s.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:p??null}}),moveSelection:(e,t,s="move")=>{let a=!1;return n(o=>{const u=Eg(o.currentSong.sections),c=pv(o.currentSong.sections,e),f=pv(o.currentSong.sections,t);if(c===-1||f===-1)return{};const p=(o.selectedSlots.length?o.selectedSlots:[e]).map(E=>{const B=u.findIndex(te=>te.sectionId===E.sectionId&&te.slotId===E.slotId);return B>=0?{idx:B,slot:u[B]}:null}).filter(E=>!!E).sort((E,B)=>E.idx-B.idx);if(!p.length)return{};const y=f-c,_=p.map(({idx:E})=>E+y);if(_.some(E=>E<0||E>=u.length))return{};const v=_.map(E=>u[E]);if(p.length===1&&s==="move"){const E=p[0].slot,B=v[0],te=Ar(o),j=o.currentSong.sections.map($=>({...$,measures:$.measures.map(ne=>({...ne,beats:ne.beats.map(le=>le.id===E.slotId&&$.id===E.sectionId?{...le,chord:B.chord}:le.id===B.slotId&&$.id===B.sectionId?{...le,chord:E.chord}:le)}))}));a=!0;const I=o.selectionAnchor&&Bo(o.selectionAnchor)===Bo(e),ee=ou(j,t.sectionId,t.slotId,[{sectionId:B.sectionId,slotId:B.slotId}],I?{sectionId:B.sectionId,slotId:B.slotId}:o.selectionAnchor),U=ee.selectedSectionId&&ee.selectedSlotId?{sectionId:ee.selectedSectionId,slotId:ee.selectedSlotId}:null,oe=au(j,U);return{...te,currentSong:{...o.currentSong,sections:j},selectedSectionId:ee.selectedSectionId,selectedSlotId:ee.selectedSlotId,selectedSlots:ee.selectedSlots,selectionAnchor:ee.selectionAnchor,selectedChord:oe??null}}const A=new Map;p.forEach((E,B)=>{A.set(Bo(v[B]),E.slot.chord??null)});const N=new Set;s==="move"&&p.forEach((E,B)=>{const te=Bo(E.slot),j=Bo(v[B]);te!==j&&N.add(te)});const k=Ar(o),C=o.currentSong.sections.map(E=>({...E,measures:E.measures.map(B=>({...B,beats:B.beats.map(te=>{const j=Bo({sectionId:E.id,slotId:te.id});return A.has(j)?{...te,chord:A.get(j)??null}:N.has(j)?{...te,chord:null}:te})}))}));a=!0;const R=Bo(o.selectionAnchor),D=p.find(E=>Bo(E.slot)===R),V=D?{sectionId:v[p.indexOf(D)].sectionId,slotId:v[p.indexOf(D)].slotId}:o.selectionAnchor,F=ou(C,t.sectionId,t.slotId,v.map(E=>({sectionId:E.sectionId,slotId:E.slotId})),V??null),Y=F.selectedSectionId&&F.selectedSlotId?{sectionId:F.selectedSectionId,slotId:F.selectedSlotId}:null,H=au(C,Y);return{...k,currentSong:{...o.currentSong,sections:C},selectedSectionId:F.selectedSectionId,selectedSlotId:F.selectedSlotId,selectedSlots:F.selectedSlots,selectionAnchor:F.selectionAnchor,selectedChord:H??null}}),a},selectNextSlotAfter:(e,t)=>{let s=!1;return n(a=>{const o=lS(a.currentSong.sections,e,t);if(!o)return{};const u=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return s=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:u,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),s},setTempo:e=>n(t=>({...Ar(t),tempo:e,currentSong:{...t.currentSong,tempo:e}})),setVolume:e=>n({volume:e}),setInstrument:e=>n({instrument:e}),setIsPlaying:e=>n({isPlaying:e}),setPlayingSlot:(e,t)=>n({playingSectionId:e,playingSlotId:t}),toggleLoop:()=>n(e=>({isLooping:!e.isLooping})),toggleMute:()=>n(e=>({isMuted:!e.isMuted})),setTitle:e=>n(t=>({...Ar(t),currentSong:{...t.currentSong,title:e}})),setArtist:e=>n(t=>({...Ar(t),currentSong:{...t.currentSong,artist:e}})),setTags:e=>n(t=>({...Ar(t),currentSong:{...t.currentSong,tags:e}})),setSongTimeSignature:e=>n(t=>({...Ar(t),currentSong:{...t.currentSong,timeSignature:e}})),loadSong:e=>n(t=>{const s=e.key||"C",a=e.tempo??zf.tempo;let o=0;if(t.wheelMode==="rotating"){const c=du.indexOf(s);c!==-1&&(o=-(c*30))}return{...Ar(t),currentSong:{...e,tempo:a},selectedKey:s,wheelRotation:o,selectedChord:vm,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>n(e=>({...Ar(e),currentSong:{...zf,id:Ps(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:zf.tempo,sections:[{id:Ps(),name:"Verse 1",type:"verse",timeSignature:qs,measures:Array(4).fill(null).map(()=>cu(qs))},{id:Ps(),name:"Chorus",type:"chorus",timeSignature:qs,measures:Array(4).fill(null).map(()=>cu(qs))}]},selectedKey:"C",wheelRotation:0,selectedChord:vm,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:zf.tempo})),addSection:e=>n(t=>{const s={id:Ps(),name:e.charAt(0).toUpperCase()+e.slice(1),type:e,timeSignature:t.currentSong.timeSignature||qs,measures:Array(4).fill(null).map(()=>cu(t.currentSong.timeSignature||qs))};return{...Ar(t),currentSong:{...t.currentSong,sections:[...t.currentSong.sections,s]}}}),addSuggestedSection:()=>n(e=>{const t=dv(e.currentSong.sections),s={id:Ps(),name:t.charAt(0).toUpperCase()+t.slice(1),type:t,timeSignature:e.currentSong.timeSignature||qs,measures:Array(4).fill(null).map(()=>cu(e.currentSong.timeSignature||qs))};return{...Ar(e),currentSong:{...e.currentSong,sections:[...e.currentSong.sections,s]}}}),addCustomSection:(e,t,s,a)=>n(o=>{const u=o.currentSong.timeSignature||qs,c=Hf(u),f=a?.beatsPerChord??4,d=c/f;let p;a?.totalBars?p=a.totalBars:d>=1?p=Math.ceil(s.length/d):p=s.length*Math.ceil(1/d);const y=[];if(d>=1)for(let k=0;k<p;k++){const C=[];for(let R=0;R<d;R++){const D=Math.floor(k*d+R);C.push({id:Ps(),chord:s[D]||null,duration:f})}y.push({id:Ps(),beats:C})}else for(let k=0;k<p;k++)y.push({id:Ps(),beats:[{id:Ps(),chord:s[k]||null,duration:c}]});const _={id:Ps(),name:e,type:t,timeSignature:u,measures:y},v=Ar(o),A=y[0]?.beats[0]?.id,N=y[0]?.beats[0]?.chord??null;return{...v,currentSong:{...o.currentSong,sections:[...o.currentSong.sections,_]},selectedSectionId:_.id,selectedSlotId:A??null,selectedSlots:A?[{sectionId:_.id,slotId:A}]:[],selectionAnchor:A?{sectionId:_.id,slotId:A}:null,selectedChord:N}}),getSuggestedSectionType:()=>{const e=an.getState();return dv(e.currentSong.sections)},updateSection:(e,t)=>n(s=>({...Ar(s),currentSong:{...s.currentSong,sections:s.currentSong.sections.map(o=>o.id===e?{...o,...t}:o)}})),removeSection:e=>n(t=>{const s=Ar(t),{[e]:a,...o}=t.collapsedSections||{};return{...s,currentSong:{...t.currentSong,sections:t.currentSong.sections.filter(u=>u.id!==e)},collapsedSections:o}}),clearSection:e=>n(t=>{const s=t.currentSong.sections.find(c=>c.id===e);if(!s)return{};if(!s.measures.some(c=>c.beats.some(f=>f.chord!==null)))return{};const o=Ar(t),u=t.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>({...d,chord:null}))}))});return{...o,currentSong:{...t.currentSong,sections:u}}}),duplicateSection:e=>n(t=>{const s=t.currentSong.sections.find(f=>f.id===e);if(!s)return{};const a=Ar(t),o={...s,id:Ps(),name:`${s.name} (Copy)`,timeSignature:s.timeSignature||t.currentSong.timeSignature||qs,measures:s.measures.map(f=>({...f,id:Ps(),beats:f.beats.map(d=>({...d,id:Ps()}))}))},u=t.currentSong.sections.findIndex(f=>f.id===e),c=[...t.currentSong.sections];return c.splice(u+1,0,o),{...a,currentSong:{...t.currentSong,sections:c}}}),reorderSections:e=>n(t=>({...Ar(t),currentSong:{...t.currentSong,sections:e}})),setSectionMeasures:(e,t)=>n(s=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=s.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||s.currentSong.timeSignature||qs;let p=[...f.measures];if(p.length<a)for(;p.length<a;)p.push(cu(d));else p.length>a&&(p=p.slice(0,a));return{...f,measures:p}}),u=ou(o,s.selectedSectionId,s.selectedSlotId,s.selectedSlots,s.selectionAnchor);return{...Ar(s),currentSong:{...s.currentSong,sections:o},...u}}),setSectionTimeSignature:(e,t)=>n(s=>{const a=s.currentSong.sections.map(c=>{if(c.id!==e)return c;const f=Hf(t);return{...c,timeSignature:t,measures:c.measures.map(d=>({...d,beats:[{id:Ps(),chord:null,duration:f}]}))}}),o=ou(a,s.selectedSectionId,s.selectedSlotId,s.selectedSlots,s.selectionAnchor);return{...Ar(s),currentSong:{...s.currentSong,sections:a},...o}}),setMeasureSubdivision:(e,t,s)=>n(a=>{const o=Math.max(1,Math.min(32,Math.round(s))),u=a.currentSong.sections.map(d=>{if(d.id!==e)return d;const p=d.timeSignature||a.currentSong.timeSignature||qs,y=Hf(p);return{...d,measures:d.measures.map(_=>{if(_.id!==t)return _;const v=y/o,A=Array.from({length:o}).map((N,k)=>{const C=_.beats[k];return{id:C?.id??Ps(),chord:C?.chord??null,duration:v}});return{..._,beats:A}})}}),c=ou(u,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...Ar(a),currentSong:{...a.currentSong,sections:u},...c}}),setSectionSubdivision:(e,t)=>n(s=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=s.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||s.currentSong.timeSignature||qs,y=Hf(d)/a;return{...f,measures:f.measures.map(_=>{const v=Array.from({length:a}).map((A,N)=>{const k=_.beats[N];return{id:k?.id??Ps(),chord:k?.chord??null,duration:y}});return{..._,beats:v}})}}),u=ou(o,s.selectedSectionId,s.selectedSlotId,s.selectedSlots,s.selectionAnchor);return{...Ar(s),currentSong:{...s.currentSong,sections:o},...u}}),addChordToSlot:(e,t,s)=>n(a=>{const o=Ar(a),u=a.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==s?d:{...d,chord:e})}))});return{...o,currentSong:{...a.currentSong,sections:u}}}),clearSlot:(e,t)=>n(s=>{if(!s.currentSong.sections.some(c=>c.id===e&&c.measures.some(f=>f.beats.some(d=>d.id===t&&d.chord))))return{};const o=Ar(s),u=s.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==t?d:{...d,chord:null})}))});return{...o,currentSong:{...s.currentSong,sections:u}}}),clearTimeline:()=>n(e=>{if(!e.currentSong.sections.some(o=>o.measures.some(u=>u.beats.some(c=>c.chord!==null))))return{};const s=Ar(e),a=e.currentSong.sections.map(o=>({...o,measures:o.measures.map(u=>({...u,beats:u.beats.map(c=>({...c,chord:null}))}))}));return{...s,currentSong:{...e.currentSong,sections:a},selectedChord:null}}),moveChord:(e,t,s,a)=>n(o=>{let u=null,c=null;if(o.currentSong.sections.forEach(p=>{p.measures.forEach(y=>{y.beats.forEach(_=>{_.id===t&&(u=_.chord),_.id===a&&(c=_.chord)})})}),!u&&!c)return{};const f=Ar(o),d=o.currentSong.sections.map(p=>({...p,measures:p.measures.map(y=>({...y,beats:y.beats.map(_=>_.id===t?{..._,chord:c}:_.id===a?{..._,chord:u}:_)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>n(e=>{if(!e.historyPast.length)return{};const t=e.historyPast[e.historyPast.length-1],s=e.historyPast.slice(0,-1),a=[Wf(e.currentSong),...e.historyFuture].slice(0,Gm),o=mv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Wf(t),historyPast:s,historyFuture:a,canUndo:s.length>0,canRedo:a.length>0,tempo:t.tempo??e.tempo,...o}}),redo:()=>n(e=>{if(!e.historyFuture.length)return{};const t=e.historyFuture[0],s=e.historyFuture.slice(1),a=[...e.historyPast,Wf(e.currentSong)].slice(-Gm),o=mv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Wf(t),historyPast:a,historyFuture:s,canUndo:a.length>0,canRedo:s.length>0,tempo:t.tempo??e.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:n=>({currentSong:n.currentSong,tempo:n.tempo,volume:n.volume,instrument:n.instrument,isMuted:n.isMuted})}));function _c(n,e,t,s){const a=(s-90)*Math.PI/180;return{x:n+t*Math.cos(a),y:e+t*Math.sin(a)}}function cS(n,e,t,s,a){const o=_c(n,e,t,s),u=_c(n,e,t,a),c=a-s<=180?"0":"1";return["M",o.x,o.y,"A",t,t,0,c,1,u.x,u.y].join(" ")}function uS(n,e,t,s,a,o){const u=_c(n,e,s,o),c=_c(n,e,s,a),f=_c(n,e,t,o),d=_c(n,e,t,a),p=o-a<=180?"0":"1";return["M",u.x,u.y,"A",s,s,0,p,0,c.x,c.y,"L",d.x,d.y,"A",t,t,0,p,1,f.x,f.y,"Z"].join(" ")}function kx(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=kx(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function Ht(){for(var n,e,t=0,s="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=kx(n))&&(s&&(s+=" "),s+=e);return s}const jx="15.1.22",gv=(n,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:n}),bv=(n,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:n}),Ym=(n,e)=>({startTime:e,type:"setValue",value:n}),Ex=(n,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:n}),Mx=(n,e,{startTime:t,target:s,timeConstant:a})=>s+(e-s)*Math.exp((t-n)/a),wh=n=>n.type==="exponentialRampToValue",J1=n=>n.type==="linearRampToValue",xc=n=>wh(n)||J1(n),Mg=n=>n.type==="setValue",Al=n=>n.type==="setValueCurve",ep=(n,e,t,s)=>{const a=n[e];return a===void 0?s:xc(a)||Mg(a)?a.value:Al(a)?a.values[a.values.length-1]:Mx(t,ep(n,e-1,a.startTime,s),a)},vv=(n,e,t,s,a)=>t===void 0?[s.insertTime,a]:xc(t)?[t.endTime,t.value]:Mg(t)?[t.startTime,t.value]:Al(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,ep(n,e-1,t.startTime,a)],$m=n=>n.type==="cancelAndHold",Xm=n=>n.type==="cancelScheduledValues",bc=n=>$m(n)||Xm(n)?n.cancelTime:wh(n)||J1(n)?n.endTime:n.startTime,yv=(n,e,t,{endTime:s,value:a})=>t===a?a:0<t&&0<a||t<0&&a<0?t*(a/t)**((n-e)/(s-e)):0,xv=(n,e,t,{endTime:s,value:a})=>t+(n-e)/(s-e)*(a-t),hS=(n,e)=>{const t=Math.floor(e),s=Math.ceil(e);return t===s?n[t]:(1-(e-t))*n[t]+(1-(s-e))*n[s]},fS=(n,{duration:e,startTime:t,values:s})=>{const a=(n-t)/e*(s.length-1);return hS(s,a)},N1=n=>n.type==="setTarget";class dS{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=bc(e);if($m(e)||Xm(e)){const s=this._automationEvents.findIndex(o=>Xm(e)&&Al(o)?o.startTime+o.duration>=t:bc(o)>=t),a=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),$m(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&xc(a)){if(o!==void 0&&N1(o))throw new Error("The internal list is malformed.");const u=o===void 0?a.insertTime:Al(o)?o.startTime+o.duration:bc(o),c=o===void 0?this._defaultValue:Al(o)?o.values[o.values.length-1]:o.value,f=wh(a)?yv(t,u,c,a):xv(t,u,c,a),d=wh(a)?gv(f,t,this._currenTime):bv(f,t,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&N1(o)&&this._automationEvents.push(Ym(this.getValue(t),t)),o!==void 0&&Al(o)&&o.startTime+o.duration>t){const u=t-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(u*c)),d=u/(f-1)*c,p=o.values.slice(0,f);if(d<1)for(let y=1;y<f;y+=1){const _=d*y%1;p[y]=o.values[y-1]*(1-_)+o.values[y]*_}this._automationEvents[this._automationEvents.length-1]=Ex(p,o.startTime,u)}}}else{const s=this._automationEvents.findIndex(u=>bc(u)>t),a=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(a!==void 0&&Al(a)&&bc(a)+a.duration>t)return!1;const o=wh(e)?gv(e.value,e.endTime,this._currenTime):J1(e)?bv(e.value,t,this._currenTime):e;if(s===-1)this._automationEvents.push(o);else{if(Al(e)&&t+e.duration>bc(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,o)}}return!0}flush(e){const t=this._automationEvents.findIndex(s=>bc(s)>e);if(t>1){const s=this._automationEvents.slice(t-1),a=s[0];N1(a)&&s.unshift(Ym(ep(this._automationEvents,t-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(u=>bc(u)>e),s=this._automationEvents[t],a=(t===-1?this._automationEvents.length:t)-1,o=this._automationEvents[a];if(o!==void 0&&N1(o)&&(s===void 0||!xc(s)||s.insertTime>e))return Mx(e,ep(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&Mg(o)&&(s===void 0||!xc(s)))return o.value;if(o!==void 0&&Al(o)&&(s===void 0||!xc(s)||o.startTime+o.duration>e))return e<o.startTime+o.duration?fS(e,o):o.values[o.values.length-1];if(o!==void 0&&xc(o)&&(s===void 0||!xc(s)))return o.value;if(s!==void 0&&wh(s)){const[u,c]=vv(this._automationEvents,a,o,s,this._defaultValue);return yv(e,u,c,s)}if(s!==void 0&&J1(s)){const[u,c]=vv(this._automationEvents,a,o,s,this._defaultValue);return xv(e,u,c,s)}return this._defaultValue}}const pS=n=>({cancelTime:n,type:"cancelAndHold"}),mS=n=>({cancelTime:n,type:"cancelScheduledValues"}),gS=(n,e)=>({endTime:e,type:"exponentialRampToValue",value:n}),bS=(n,e)=>({endTime:e,type:"linearRampToValue",value:n}),vS=(n,e,t)=>({startTime:e,target:n,timeConstant:t,type:"setTarget"}),yS=()=>new DOMException("","AbortError"),xS=n=>(e,t,[s,a,o],u)=>{n(e[a],[t,s,o],c=>c[0]===t&&c[1]===s,u)},wS=n=>(e,t,s)=>{const a=[];for(let o=0;o<s.numberOfInputs;o+=1)a.push(new Set);n.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},_S=n=>(e,t)=>{n.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Dh=new WeakSet,Lx=new WeakMap,Lg=new WeakMap,Ox=new WeakMap,Og=new WeakMap,kp=new WeakMap,Dx=new WeakMap,Zm=new WeakMap,Km=new WeakMap,Qm=new WeakMap,Rx={construct(){return Rx}},SS=n=>{try{const e=new Proxy(n,Rx);new e}catch{return!1}return!0},wv=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,_v=(n,e)=>{const t=[];let s=n.replace(/^[\s]+/,""),a=s.match(wv);for(;a!==null;){const o=a[1].slice(1,-1),u=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());t.push(u),s=s.slice(a[0].length).replace(/^[\s]+/,""),a=s.match(wv)}return[t.join(";"),s]},Sv=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Nv=n=>{if(!SS(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},NS=(n,e,t,s,a,o,u,c,f,d,p,y,_)=>{let v=0;return(A,N,k={credentials:"omit"})=>{const C=p.get(A);if(C!==void 0&&C.has(N))return Promise.resolve();const R=d.get(A);if(R!==void 0){const F=R.get(N);if(F!==void 0)return F}const D=o(A),V=D.audioWorklet===void 0?a(N).then(([F,Y])=>{const[H,E]=_v(F,Y),B=`${H};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${E}
})})(window,'_AWGS')`;return t(B)}).then(()=>{const F=_._AWGS.pop();if(F===void 0)throw new SyntaxError;s(D.currentTime,D.sampleRate,()=>F(class{},void 0,(Y,H)=>{if(Y.trim()==="")throw e();const E=Km.get(D);if(E!==void 0){if(E.has(Y))throw e();Nv(H),Sv(H.parameterDescriptors),E.set(Y,H)}else Nv(H),Sv(H.parameterDescriptors),Km.set(D,new Map([[Y,H]]))},D.sampleRate,void 0,void 0))}):Promise.all([a(N),Promise.resolve(n(y,y))]).then(([[F,Y],H])=>{const E=v+1;v=E;const[B,te]=_v(F,Y),U=`${B};((AudioWorkletProcessor,registerProcessor)=>{${te}
})(${H?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${H?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${H?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${E}',class extends AudioWorkletProcessor{process(){return !1}})`,oe=new Blob([U],{type:"application/javascript; charset=utf-8"}),$=URL.createObjectURL(oe);return D.audioWorklet.addModule($,k).then(()=>{if(c(D))return D;const ne=u(D);return ne.audioWorklet.addModule($,k).then(()=>ne)}).then(ne=>{if(f===null)throw new SyntaxError;try{new f(ne,`__sac${E}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL($))});return R===void 0?d.set(A,new Map([[N,V]])):R.set(N,V),V.then(()=>{const F=p.get(A);F===void 0?p.set(A,new Set([N])):F.add(N)}).finally(()=>{const F=d.get(A);F!==void 0&&F.delete(N)}),V}},uo=(n,e)=>{const t=n.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},jp=(n,e)=>{const t=Array.from(n).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[s]=t;return n.delete(s),s},Ix=(n,e,t,s)=>{const a=uo(n,e),o=jp(a,u=>u[0]===t&&u[1]===s);return a.size===0&&n.delete(e),o},md=n=>uo(Dx,n),Rh=n=>{if(Dh.has(n))throw new Error("The AudioNode is already stored.");Dh.add(n),md(n).forEach(e=>e(!0))},Vx=n=>"port"in n,gd=n=>{if(!Dh.has(n))throw new Error("The AudioNode is not stored.");Dh.delete(n),md(n).forEach(e=>e(!1))},Jm=(n,e)=>{!Vx(n)&&e.every(t=>t.size===0)&&gd(n)},AS=(n,e,t,s,a,o,u,c,f,d,p,y,_)=>{const v=new WeakMap;return(A,N,k,C,R)=>{const{activeInputs:D,passiveInputs:V}=o(N),{outputs:F}=o(A),Y=c(A),H=E=>{const B=f(N),te=f(A);if(E){const j=Ix(V,A,k,C);n(D,A,j,!1),!R&&!y(A)&&t(te,B,k,C),_(N)&&Rh(N)}else{const j=s(D,A,k,C);e(V,C,j,!1),!R&&!y(A)&&a(te,B,k,C);const I=u(N);if(I===0)p(N)&&Jm(N,D);else{const ee=v.get(N);ee!==void 0&&clearTimeout(ee),v.set(N,setTimeout(()=>{p(N)&&Jm(N,D)},I*1e3))}}};return d(F,[N,k,C],E=>E[0]===N&&E[1]===k&&E[2]===C,!0)?(Y.add(H),p(A)?n(D,A,[k,C,H],!0):e(V,C,[A,k,H],!0),!0):!1}},TS=n=>(e,t,[s,a,o],u)=>{const c=e.get(s);c===void 0?e.set(s,new Set([[a,t,o]])):n(c,[a,t,o],f=>f[0]===a&&f[1]===t,u)},CS=n=>(e,t)=>{const s=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(s).connect(e.destination);const a=()=>{t.removeEventListener("ended",a),t.disconnect(s),s.disconnect()};t.addEventListener("ended",a)},kS=n=>(e,t)=>{n(e).add(t)},jS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},ES=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=a(c),p={...jS,...f},y=s(d,p),_=o(d)?e():null;super(c,!1,y,_),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},fi=(n,e)=>n.context===e,MS=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!fi(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=n(u,d)}return s.set(u,c),await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},tp=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Go=()=>new DOMException("","IndexSizeError"),Dg=n=>{n.getChannelData=(e=>t=>{try{return e.call(n,t)}catch(s){throw s.code===12?Go():s}})(n.getChannelData)},LS={numberOfChannels:1},OS=(n,e,t,s,a,o,u,c)=>{let f=null;return class Fx{constructor(p){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:_,sampleRate:v}={...LS,...p};f===null&&(f=new a(1,1,44100));const A=s!==null&&e(o,o)?new s({length:y,numberOfChannels:_,sampleRate:v}):f.createBuffer(_,y,v);if(A.numberOfChannels===0)throw t();return typeof A.copyFromChannel!="function"?(u(A),Dg(A)):e(tp,()=>tp(A))||c(A),n.add(A),A}static[Symbol.hasInstance](p){return p!==null&&typeof p=="object"&&Object.getPrototypeOf(p)===Fx.prototype||n.has(p)}}},qi=-34028234663852886e22,yi=-qi,kl=n=>Dh.has(n),DS={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},RS=(n,e,t,s,a,o,u,c)=>class extends n{constructor(d,p){const y=o(d),_={...DS,...p},v=a(y,_),A=u(y),N=A?e():null;super(d,!1,v,N),this._audioBufferSourceNodeRenderer=N,this._isBufferNullified=!1,this._isBufferSet=_.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=t(this,A,v.playbackRate,yi,qi)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const p=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=p;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===p?d:y}get playbackRate(){return this._playbackRate}start(d=0,p=0,y){if(this._nativeAudioBufferSourceNode.start(d,p,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[d,p]:[d,p,y]),this.context.state!=="closed"){Rh(this);const _=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",_),kl(this)&&gd(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",_)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},IS=(n,e,t,s,a)=>()=>{const o=new WeakMap;let u=null,c=null;const f=async(d,p)=>{let y=t(d);const _=fi(y,p);if(!_){const v={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=e(p,v),u!==null&&y.start(...u),c!==null&&y.stop(c)}return o.set(p,y),_?await n(p,d.playbackRate,y.playbackRate):await s(p,d.playbackRate,y.playbackRate),await a(d,p,y),y};return{set start(d){u=d},set stop(d){c=d},render(d,p){const y=o.get(p);return y!==void 0?Promise.resolve(y):f(d,p)}}},VS=n=>"playbackRate"in n,FS=n=>"frequency"in n&&"gain"in n,BS=n=>"offset"in n,zS=n=>!("frequency"in n)&&"gain"in n,PS=n=>"detune"in n&&"frequency"in n&&!("gain"in n),qS=n=>"pan"in n,xi=n=>uo(Lx,n),bd=n=>uo(Ox,n),eg=(n,e)=>{const{activeInputs:t}=xi(n);t.forEach(a=>a.forEach(([o])=>{e.includes(n)||eg(o,[...e,n])}));const s=VS(n)?[n.playbackRate]:Vx(n)?Array.from(n.parameters.values()):FS(n)?[n.Q,n.detune,n.frequency,n.gain]:BS(n)?[n.offset]:zS(n)?[n.gain]:PS(n)?[n.detune,n.frequency]:qS(n)?[n.pan]:[];for(const a of s){const o=bd(a);o!==void 0&&o.activeInputs.forEach(([u])=>eg(u,e))}kl(n)&&gd(n)},Bx=n=>{eg(n.destination,[])},US=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),HS=(n,e,t,s,a,o,u,c,f)=>class extends n{constructor(p={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new f(p)}catch(A){throw A.code===12&&A.message==="sampleRate is not in range"?t():A}if(y===null)throw s();if(!US(p.latencyHint))throw new TypeError(`The provided value '${p.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(p.sampleRate!==void 0&&y.sampleRate!==p.sampleRate)throw t();super(y,2);const{latencyHint:_}=p,{sampleRate:v}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:_==="balanced"?512/v:_==="interactive"||_===void 0?256/v:_==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(_*v/128)))*128/v,this._nativeAudioContext=y,f.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const A=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",A)};y.addEventListener("statechange",A)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Bx(this)}))}createMediaElementSource(p){return new a(this,{mediaElement:p})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(p){return new u(this,{mediaStream:p})}createMediaStreamTrackSource(p){return new c(this,{mediaStreamTrack:p})}resume(){return this._state==="suspended"?new Promise((p,y)=>{const _=()=>{this._nativeAudioContext.removeEventListener("statechange",_),this._nativeAudioContext.state==="running"?p():this.resume().then(p,y)};this._nativeAudioContext.addEventListener("statechange",_)}):this._nativeAudioContext.resume().catch(p=>{throw p===void 0||p.code===15?e():p})}suspend(){return this._nativeAudioContext.suspend().catch(p=>{throw p===void 0?e():p})}},WS=(n,e,t,s,a,o,u,c)=>class extends n{constructor(d,p){const y=o(d),_=u(y),v=a(y,p,_),A=_?e(c):null;super(d,!1,v,A),this._isNodeOfNativeOfflineAudioContext=_,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},GS=n=>{const e=new WeakMap,t=async(s,a)=>{const o=a.destination;return e.set(a,o),await n(s,a,o),o};return{render(s,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):t(s,a)}}},YS=(n,e,t,s,a,o,u,c)=>(f,d)=>{const p=d.listener,y=()=>{const F=new Float32Array(1),Y=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),H=u(d);let E=!1,B=[0,0,-1,0,1,0],te=[0,0,0];const j=()=>{if(E)return;E=!0;const oe=s(d,256,9,0);oe.onaudioprocess=({inputBuffer:$})=>{const ne=[o($,F,0),o($,F,1),o($,F,2),o($,F,3),o($,F,4),o($,F,5)];ne.some((fe,be)=>fe!==B[be])&&(p.setOrientation(...ne),B=ne);const le=[o($,F,6),o($,F,7),o($,F,8)];le.some((fe,be)=>fe!==te[be])&&(p.setPosition(...le),te=le)},Y.connect(oe)},I=oe=>$=>{$!==B[oe]&&(B[oe]=$,p.setOrientation(...B))},ee=oe=>$=>{$!==te[oe]&&(te[oe]=$,p.setPosition(...te))},U=(oe,$,ne)=>{const le=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:$});le.connect(Y,0,oe),le.start(),Object.defineProperty(le.offset,"defaultValue",{get(){return $}});const fe=n({context:f},H,le.offset,yi,qi);return c(fe,"value",be=>()=>be.call(fe),be=>G=>{try{be.call(fe,G)}catch(L){if(L.code!==9)throw L}j(),H&&ne(G)}),fe.cancelAndHoldAtTime=(be=>H?()=>{throw a()}:(...G)=>{const L=be.apply(fe,G);return j(),L})(fe.cancelAndHoldAtTime),fe.cancelScheduledValues=(be=>H?()=>{throw a()}:(...G)=>{const L=be.apply(fe,G);return j(),L})(fe.cancelScheduledValues),fe.exponentialRampToValueAtTime=(be=>H?()=>{throw a()}:(...G)=>{const L=be.apply(fe,G);return j(),L})(fe.exponentialRampToValueAtTime),fe.linearRampToValueAtTime=(be=>H?()=>{throw a()}:(...G)=>{const L=be.apply(fe,G);return j(),L})(fe.linearRampToValueAtTime),fe.setTargetAtTime=(be=>H?()=>{throw a()}:(...G)=>{const L=be.apply(fe,G);return j(),L})(fe.setTargetAtTime),fe.setValueAtTime=(be=>H?()=>{throw a()}:(...G)=>{const L=be.apply(fe,G);return j(),L})(fe.setValueAtTime),fe.setValueCurveAtTime=(be=>H?()=>{throw a()}:(...G)=>{const L=be.apply(fe,G);return j(),L})(fe.setValueCurveAtTime),fe};return{forwardX:U(0,0,I(0)),forwardY:U(1,0,I(1)),forwardZ:U(2,-1,I(2)),positionX:U(6,0,ee(0)),positionY:U(7,0,ee(1)),positionZ:U(8,0,ee(2)),upX:U(3,0,I(3)),upY:U(4,1,I(4)),upZ:U(5,0,I(5))}},{forwardX:_,forwardY:v,forwardZ:A,positionX:N,positionY:k,positionZ:C,upX:R,upY:D,upZ:V}=p.forwardX===void 0?y():p;return{get forwardX(){return _},get forwardY(){return v},get forwardZ(){return A},get positionX(){return N},get positionY(){return k},get positionZ(){return C},get upX(){return R},get upY(){return D},get upZ(){return V}}},np=n=>"context"in n,vd=n=>np(n[0]),wu=(n,e,t,s)=>{for(const a of n)if(t(a)){if(s)return!1;throw Error("The set contains at least one similar element.")}return n.add(e),!0},Av=(n,e,[t,s],a)=>{wu(n,[e,t,s],o=>o[0]===e&&o[1]===t,a)},Tv=(n,[e,t,s],a)=>{const o=n.get(e);o===void 0?n.set(e,new Set([[t,s]])):wu(o,[t,s],u=>u[0]===t,a)},qh=n=>"inputs"in n,rp=(n,e,t,s)=>{if(qh(e)){const a=e.inputs[s];return n.connect(a,t,0),[a,t,0]}return n.connect(e,t,s),[e,t,s]},zx=(n,e,t)=>{for(const s of n)if(s[0]===e&&s[1]===t)return n.delete(s),s;return null},$S=(n,e,t)=>jp(n,s=>s[0]===e&&s[1]===t),Px=(n,e)=>{if(!md(n).delete(e))throw new Error("Missing the expected event listener.")},qx=(n,e,t)=>{const s=uo(n,e),a=jp(s,o=>o[0]===t);return s.size===0&&n.delete(e),a},sp=(n,e,t,s)=>{qh(e)?n.disconnect(e.inputs[s],t,0):n.disconnect(e,t,s)},kr=n=>uo(Lg,n),nd=n=>uo(Og,n),bu=n=>Zm.has(n),P1=n=>!Dh.has(n),Cv=(n,e)=>new Promise(t=>{if(e!==null)t(!0);else{const s=n.createScriptProcessor(256,1,1),a=n.createGain(),o=n.createBuffer(1,2,44100),u=o.getChannelData(0);u[0]=1,u[1]=1;const c=n.createBufferSource();c.buffer=o,c.loop=!0,c.connect(s).connect(n.destination),c.connect(a),c.disconnect(a),s.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,p=>p===1)?t(!0):t(!1),c.stop(),s.onaudioprocess=null,c.disconnect(s),s.disconnect(n.destination)},c.start()}}),ym=(n,e)=>{const t=new Map;for(const s of n)for(const a of s){const o=t.get(a);t.set(a,o===void 0?1:o+1)}t.forEach((s,a)=>e(a,s))},ip=n=>"context"in n,XS=n=>{const e=new Map;n.connect=(t=>(s,a=0,o=0)=>{const u=ip(s)?t(s,a,o):t(s,a),c=e.get(s);return c===void 0?e.set(s,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),u})(n.connect.bind(n)),n.disconnect=(t=>(s,a,o)=>{if(t.apply(n),s===void 0)e.clear();else if(typeof s=="number")for(const[u,c]of e){const f=c.filter(d=>d.output!==s);f.length===0?e.delete(u):e.set(u,f)}else if(e.has(s))if(a===void 0)e.delete(s);else{const u=e.get(s);if(u!==void 0){const c=u.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?e.delete(s):e.set(s,c)}}for(const[u,c]of e)c.forEach(f=>{ip(u)?n.connect(u,f.output,f.input):n.connect(u,f.output)})})(n.disconnect)},ZS=(n,e,t,s)=>{const{activeInputs:a,passiveInputs:o}=bd(e),{outputs:u}=xi(n),c=md(n),f=d=>{const p=kr(n),y=nd(e);if(d){const _=qx(o,n,t);Av(a,n,_,!1),!s&&!bu(n)&&p.connect(y,t)}else{const _=$S(a,n,t);Tv(o,_,!1),!s&&!bu(n)&&p.disconnect(y,t)}};return wu(u,[e,t],d=>d[0]===e&&d[1]===t,!0)?(c.add(f),kl(n)?Av(a,n,[t,f],!0):Tv(o,[n,t,f],!0),!0):!1},KS=(n,e,t,s)=>{const{activeInputs:a,passiveInputs:o}=xi(e),u=zx(a[s],n,t);return u===null?[Ix(o,n,t,s)[2],!1]:[u[2],!0]},QS=(n,e,t)=>{const{activeInputs:s,passiveInputs:a}=bd(e),o=zx(s,n,t);return o===null?[qx(a,n,t)[1],!1]:[o[2],!0]},Rg=(n,e,t,s,a)=>{const[o,u]=KS(n,t,s,a);if(o!==null&&(Px(n,o),u&&!e&&!bu(n)&&sp(kr(n),kr(t),s,a)),kl(t)){const{activeInputs:c}=xi(t);Jm(t,c)}},Ig=(n,e,t,s)=>{const[a,o]=QS(n,t,s);a!==null&&(Px(n,a),o&&!e&&!bu(n)&&kr(n).disconnect(nd(t),s))},JS=(n,e)=>{const t=xi(n),s=[];for(const a of t.outputs)vd(a)?Rg(n,e,...a):Ig(n,e,...a),s.push(a[0]);return t.outputs.clear(),s},e6=(n,e,t)=>{const s=xi(n),a=[];for(const o of s.outputs)o[1]===t&&(vd(o)?Rg(n,e,...o):Ig(n,e,...o),a.push(o[0]),s.outputs.delete(o));return a},t6=(n,e,t,s,a)=>{const o=xi(n);return Array.from(o.outputs).filter(u=>u[0]===t&&(s===void 0||u[1]===s)&&(a===void 0||u[2]===a)).map(u=>(vd(u)?Rg(n,e,...u):Ig(n,e,...u),o.outputs.delete(u),u[0]))},n6=(n,e,t,s,a,o,u,c,f,d,p,y,_,v,A,N)=>class extends d{constructor(C,R,D,V){super(D),this._context=C,this._nativeAudioNode=D;const F=p(C);y(F)&&t(Cv,()=>Cv(F,N))!==!0&&XS(D),Lg.set(this,D),Dx.set(this,new Set),C.state!=="closed"&&R&&Rh(this),n(this,V,D)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(C){this._nativeAudioNode.channelCount=C}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(C){this._nativeAudioNode.channelCountMode=C}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(C){this._nativeAudioNode.channelInterpretation=C}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(C,R=0,D=0){if(R<0||R>=this._nativeAudioNode.numberOfOutputs)throw a();const V=p(this._context),F=A(V);if(_(C)||v(C))throw o();if(np(C)){const E=kr(C);try{const te=rp(this._nativeAudioNode,E,R,D),j=P1(this);(F||j)&&this._nativeAudioNode.disconnect(...te),this.context.state!=="closed"&&!j&&P1(C)&&Rh(C)}catch(te){throw te.code===12?o():te}if(e(this,C,R,D,F)){const te=f([this],C);ym(te,s(F))}return C}const Y=nd(C);if(Y.name==="playbackRate"&&Y.maxValue===1024)throw u();try{this._nativeAudioNode.connect(Y,R),(F||P1(this))&&this._nativeAudioNode.disconnect(Y,R)}catch(E){throw E.code===12?o():E}if(ZS(this,C,R,F)){const E=f([this],C);ym(E,s(F))}}disconnect(C,R,D){let V;const F=p(this._context),Y=A(F);if(C===void 0)V=JS(this,Y);else if(typeof C=="number"){if(C<0||C>=this.numberOfOutputs)throw a();V=e6(this,Y,C)}else{if(R!==void 0&&(R<0||R>=this.numberOfOutputs)||np(C)&&D!==void 0&&(D<0||D>=C.numberOfInputs))throw a();if(V=t6(this,Y,C,R,D),V.length===0)throw o()}for(const H of V){const E=f([this],H);ym(E,c)}}},r6=(n,e,t,s,a,o,u,c,f,d,p,y,_)=>(v,A,N,k=null,C=null)=>{const R=N.value,D=new dS(R),V=A?s(D):null,F={get defaultValue(){return R},get maxValue(){return k===null?N.maxValue:k},get minValue(){return C===null?N.minValue:C},get value(){return N.value},set value(Y){N.value=Y,F.setValueAtTime(Y,v.context.currentTime)},cancelAndHoldAtTime(Y){if(typeof N.cancelAndHoldAtTime=="function")V===null&&D.flush(v.context.currentTime),D.add(a(Y)),N.cancelAndHoldAtTime(Y);else{const H=Array.from(D).pop();V===null&&D.flush(v.context.currentTime),D.add(a(Y));const E=Array.from(D).pop();N.cancelScheduledValues(Y),H!==E&&E!==void 0&&(E.type==="exponentialRampToValue"?N.exponentialRampToValueAtTime(E.value,E.endTime):E.type==="linearRampToValue"?N.linearRampToValueAtTime(E.value,E.endTime):E.type==="setValue"?N.setValueAtTime(E.value,E.startTime):E.type==="setValueCurve"&&N.setValueCurveAtTime(E.values,E.startTime,E.duration))}return F},cancelScheduledValues(Y){return V===null&&D.flush(v.context.currentTime),D.add(o(Y)),N.cancelScheduledValues(Y),F},exponentialRampToValueAtTime(Y,H){if(Y===0)throw new RangeError;if(!Number.isFinite(H)||H<0)throw new RangeError;const E=v.context.currentTime;return V===null&&D.flush(E),Array.from(D).length===0&&(D.add(d(R,E)),N.setValueAtTime(R,E)),D.add(u(Y,H)),N.exponentialRampToValueAtTime(Y,H),F},linearRampToValueAtTime(Y,H){const E=v.context.currentTime;return V===null&&D.flush(E),Array.from(D).length===0&&(D.add(d(R,E)),N.setValueAtTime(R,E)),D.add(c(Y,H)),N.linearRampToValueAtTime(Y,H),F},setTargetAtTime(Y,H,E){return V===null&&D.flush(v.context.currentTime),D.add(f(Y,H,E)),N.setTargetAtTime(Y,H,E),F},setValueAtTime(Y,H){return V===null&&D.flush(v.context.currentTime),D.add(d(Y,H)),N.setValueAtTime(Y,H),F},setValueCurveAtTime(Y,H,E){const B=Y instanceof Float32Array?Y:new Float32Array(Y);if(y!==null&&y.name==="webkitAudioContext"){const te=H+E,j=v.context.sampleRate,I=Math.ceil(H*j),ee=Math.floor(te*j),U=ee-I,oe=new Float32Array(U);for(let ne=0;ne<U;ne+=1){const le=(B.length-1)/E*((I+ne)/j-H),fe=Math.floor(le),be=Math.ceil(le);oe[ne]=fe===be?B[fe]:(1-(le-fe))*B[fe]+(1-(be-le))*B[be]}V===null&&D.flush(v.context.currentTime),D.add(p(oe,H,E)),N.setValueCurveAtTime(oe,H,E);const $=ee/j;$<te&&_(F,oe[oe.length-1],$),_(F,B[B.length-1],te)}else V===null&&D.flush(v.context.currentTime),D.add(p(B,H,E)),N.setValueCurveAtTime(B,H,E);return F}};return t.set(F,N),e.set(F,v),n(F,V),F},s6=n=>({replay(e){for(const t of n)if(t.type==="exponentialRampToValue"){const{endTime:s,value:a}=t;e.exponentialRampToValueAtTime(a,s)}else if(t.type==="linearRampToValue"){const{endTime:s,value:a}=t;e.linearRampToValueAtTime(a,s)}else if(t.type==="setTarget"){const{startTime:s,target:a,timeConstant:o}=t;e.setTargetAtTime(a,s,o)}else if(t.type==="setValue"){const{startTime:s,value:a}=t;e.setValueAtTime(a,s)}else if(t.type==="setValueCurve"){const{duration:s,startTime:a,values:o}=t;e.setValueCurveAtTime(o,a,s)}else throw new Error("Can't apply an unknown automation.")}});class Ux{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((s,a)=>e.call(t,s,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const i6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},a6=(n,e,t,s,a,o,u,c,f,d,p,y,_,v)=>class extends e{constructor(N,k,C){var R;const D=c(N),V=f(D),F=p({...i6,...C});_(F);const Y=Km.get(D),H=Y?.get(k),E=V||D.state!=="closed"?D:(R=u(D))!==null&&R!==void 0?R:D,B=a(E,V?null:N.baseLatency,d,k,H,F),te=V?s(k,F,H):null;super(N,!0,B,te);const j=[];B.parameters.forEach((ee,U)=>{const oe=t(this,V,ee);j.push([U,oe])}),this._nativeAudioWorkletNode=B,this._onprocessorerror=null,this._parameters=new Ux(j),V&&n(D,this);const{activeInputs:I}=o(this);y(B,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(N){const k=typeof N=="function"?v(this,N):null;this._nativeAudioWorkletNode.onprocessorerror=k;const C=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=C!==null&&C===k?N:C}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function ap(n,e,t,s,a){if(typeof n.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),n.copyFromChannel(e[t],s,a);else{const o=n.getChannelData(s);if(e[t].byteLength===0)e[t]=o.slice(a,a+128);else{const u=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(u)}}}const Hx=(n,e,t,s,a)=>{typeof n.copyToChannel=="function"?e[t].byteLength!==0&&n.copyToChannel(e[t],s,a):e[t].byteLength!==0&&n.getChannelData(s).set(e[t],a)},op=(n,e)=>{const t=[];for(let s=0;s<n;s+=1){const a=[],o=typeof e=="number"?e:e[s];for(let u=0;u<o;u+=1)a.push(new Float32Array(128));t.push(a)}return t},o6=(n,e)=>{const t=uo(Qm,n),s=kr(e);return uo(t,s)},l6=async(n,e,t,s,a,o,u)=>{const c=e===null?Math.ceil(n.context.length/128)*128:e.length,f=s.channelCount*s.numberOfInputs,d=a.reduce((k,C)=>k+C,0),p=d===0?null:t.createBuffer(d,c,t.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const y=xi(n),_=await o6(t,n),v=op(s.numberOfInputs,s.channelCount),A=op(s.numberOfOutputs,a),N=Array.from(n.parameters.keys()).reduce((k,C)=>({...k,[C]:new Float32Array(128)}),{});for(let k=0;k<c;k+=128){if(s.numberOfInputs>0&&e!==null)for(let C=0;C<s.numberOfInputs;C+=1)for(let R=0;R<s.channelCount;R+=1)ap(e,v[C],R,R,k);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:C},R)=>{ap(e,N,C,f+R,k)});for(let C=0;C<s.numberOfInputs;C+=1)for(let R=0;R<a[C];R+=1)A[C][R].byteLength===0&&(A[C][R]=new Float32Array(128));try{const C=v.map((D,V)=>y.activeInputs[V].size===0?[]:D),R=u(k/t.sampleRate,t.sampleRate,()=>_.process(C,A,N));if(p!==null)for(let D=0,V=0;D<s.numberOfOutputs;D+=1){for(let F=0;F<a[D];F+=1)Hx(p,A[D],F,V+F,k);V+=a[D]}if(!R)break}catch(C){n.dispatchEvent(new ErrorEvent("processorerror",{colno:C.colno,filename:C.filename,lineno:C.lineno,message:C.message}));break}}return p},c6=(n,e,t,s,a,o,u,c,f,d,p,y,_,v,A,N)=>(k,C,R)=>{const D=new WeakMap;let V=null;const F=async(Y,H)=>{let E=p(Y),B=null;const te=fi(E,H),j=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(y===null){const I=j.reduce(($,ne)=>$+ne,0),ee=a(H,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),U=[];for(let $=0;$<Y.numberOfOutputs;$+=1)U.push(s(H,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:j[$]}));const oe=u(H,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1});oe.connect=e.bind(null,U),oe.disconnect=f.bind(null,U),B=[ee,U,oe]}else te||(E=new y(H,k));if(D.set(H,B===null?E:B[2]),B!==null){if(V===null){if(R===void 0)throw new Error("Missing the processor constructor.");if(_===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ne=Y.channelCount*Y.numberOfInputs,le=R.parameterDescriptors===void 0?0:R.parameterDescriptors.length,fe=ne+le;V=l6(Y,fe===0?null:await(async()=>{const G=new _(fe,Math.ceil(Y.context.length/128)*128,H.sampleRate),L=[],X=[];for(let se=0;se<C.numberOfInputs;se+=1)L.push(u(G,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),X.push(a(G,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const W=await Promise.all(Array.from(Y.parameters.values()).map(async se=>{const pe=o(G,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:se.value});return await v(G,se,pe.offset),pe})),Q=s(G,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ne+le)});for(let se=0;se<C.numberOfInputs;se+=1){L[se].connect(X[se]);for(let pe=0;pe<C.channelCount;pe+=1)X[se].connect(Q,pe,se*C.channelCount+pe)}for(const[se,pe]of W.entries())pe.connect(Q,0,ne+se),pe.start(0);return Q.connect(G.destination),await Promise.all(L.map(se=>A(Y,G,se))),N(G)})(),H,C,j,R,d)}const I=await V,ee=t(H,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[U,oe,$]=B;I!==null&&(ee.buffer=I,ee.start(0)),ee.connect(U);for(let ne=0,le=0;ne<Y.numberOfOutputs;ne+=1){const fe=oe[ne];for(let be=0;be<j[ne];be+=1)U.connect(fe,le+be,be);le+=j[ne]}return $}if(te)for(const[I,ee]of Y.parameters.entries())await n(H,ee,E.parameters.get(I));else for(const[I,ee]of Y.parameters.entries())await v(H,ee,E.parameters.get(I));return await A(Y,H,E),E};return{render(Y,H){c(H,Y);const E=D.get(H);return E!==void 0?Promise.resolve(E):F(Y,H)}}},u6=(n,e,t,s,a,o,u,c,f,d,p,y,_,v,A,N,k,C,R,D)=>class extends A{constructor(F,Y){super(F,Y),this._nativeContext=F,this._audioWorklet=n===void 0?void 0:{addModule:(H,E)=>n(this,H,E)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(F,Y,H){return new t({length:Y,numberOfChannels:F,sampleRate:H})}createBufferSource(){return new s(this)}createChannelMerger(F=6){return new o(this,{numberOfInputs:F})}createChannelSplitter(F=6){return new u(this,{numberOfOutputs:F})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(F=1){return new p(this,{maxDelayTime:F})}createDynamicsCompressor(){return new y(this)}createGain(){return new _(this)}createIIRFilter(F,Y){return new v(this,{feedback:Y,feedforward:F})}createOscillator(){return new N(this)}createPanner(){return new k(this)}createPeriodicWave(F,Y,H={disableNormalization:!1}){return new C(this,{...H,imag:Y,real:F})}createStereoPanner(){return new R(this)}createWaveShaper(){return new D(this)}decodeAudioData(F,Y,H){return d(this._nativeContext,F).then(E=>(typeof Y=="function"&&Y(E),E),E=>{throw typeof H=="function"&&H(E),E})}},h6={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},f6=(n,e,t,s,a,o,u,c)=>class extends n{constructor(d,p){const y=o(d),_={...h6,...p},v=a(y,_),A=u(y),N=A?t():null;super(d,!1,v,N),this._Q=e(this,A,v.Q,yi,qi),this._detune=e(this,A,v.detune,1200*Math.log2(yi),-1200*Math.log2(yi)),this._frequency=e(this,A,v.frequency,d.sampleRate/2,0),this._gain=e(this,A,v.gain,40*Math.log10(yi),qi),this._nativeBiquadFilterNode=v,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,p,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,p,y)}catch(_){throw _.code===11?s():_}if(d.length!==p.length||p.length!==y.length)throw s()}},d6=(n,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const p=fi(d,f);if(!p){const y={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=e(f,y)}return o.set(f,d),p?(await n(f,c.Q,d.Q),await n(f,c.detune,d.detune),await n(f,c.frequency,d.frequency),await n(f,c.gain,d.gain)):(await s(f,c.Q,d.Q),await s(f,c.detune,d.detune),await s(f,c.frequency,d.frequency),await s(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},p6=(n,e)=>(t,s)=>{const a=e.get(t);if(a!==void 0)return a;const o=n.get(t);if(o!==void 0)return o;try{const u=s();return u instanceof Promise?(n.set(t,u),u.catch(()=>!1).then(c=>(n.delete(t),e.set(t,c),c))):(e.set(t,u),u)}catch{return e.set(t,!1),!1}},m6={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},g6=(n,e,t,s,a)=>class extends n{constructor(u,c){const f=s(u),d={...m6,...c},p=t(f,d),y=a(f)?e():null;super(u,!1,p,y)}},b6=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!fi(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=n(u,d)}return s.set(u,c),await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},v6={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},y6=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=s(c),p=o({...v6,...f}),y=t(d,p),_=a(d)?e():null;super(c,!1,y,_)}},x6=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!fi(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=n(u,d)}return s.set(u,c),await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},w6=n=>(e,t,s)=>n(t,e,s),_6=n=>(e,t,s=0,a=0)=>{const o=e[s];if(o===void 0)throw n();return ip(t)?o.connect(t,0,a):o.connect(t,0)},S6=n=>(e,t)=>{const s=n(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return s.buffer=a,s.loop=!0,s.connect(t),s.start(),()=>{s.stop(),s.disconnect(t)}},N6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},A6=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...N6,...d},_=s(p,y),v=o(p),A=v?t():null;super(f,!1,_,A),this._constantSourceNodeRenderer=A,this._nativeConstantSourceNode=_,this._offset=e(this,v,_.offset,yi,qi),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?u(this,f):null;this._nativeConstantSourceNode.onended=d;const p=this._nativeConstantSourceNode.onended;this._onended=p!==null&&p===d?f:p}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Rh(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),kl(this)&&gd(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},T6=(n,e,t,s,a)=>()=>{const o=new WeakMap;let u=null,c=null;const f=async(d,p)=>{let y=t(d);const _=fi(y,p);if(!_){const v={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=e(p,v),u!==null&&y.start(u),c!==null&&y.stop(c)}return o.set(p,y),_?await n(p,d.offset,y.offset):await s(p,d.offset,y.offset),await a(d,p,y),y};return{set start(d){u=d},set stop(d){c=d},render(d,p){const y=o.get(p);return y!==void 0?Promise.resolve(y):f(d,p)}}},C6=n=>e=>(n[0]=e,n[0]),k6={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},j6=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=s(c),p={...k6,...f},y=t(d,p),v=a(d)?e():null;super(c,!1,y,v),this._isBufferNullified=!1,this._nativeConvolverNode=y,p.buffer!==null&&o(this,p.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},E6=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!fi(c,u)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=n(u,d)}return s.set(u,c),qh(c)?await t(o,u,c.inputs[0]):await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},M6=(n,e)=>(t,s,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,s,a)}catch(o){throw o.name==="SyntaxError"?n():o}},L6=()=>new DOMException("","DataCloneError"),kv=n=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(s=>{const a=()=>{t.onmessage=null,e.close(),t.close(),s()};t.onmessage=()=>a();try{e.postMessage(n,[n])}catch{}finally{a()}})},O6=(n,e,t,s,a,o,u,c,f,d,p)=>(y,_)=>{const v=u(y)?y:o(y);if(a.has(_)){const A=t();return Promise.reject(A)}try{a.add(_)}catch{}return e(f,()=>f(v))?v.decodeAudioData(_).then(A=>(kv(_).catch(()=>{}),e(c,()=>c(A))||p(A),n.add(A),A)):new Promise((A,N)=>{const k=async()=>{try{await kv(_)}catch{}},C=R=>{N(R),k()};try{v.decodeAudioData(_,R=>{typeof R.copyFromChannel!="function"&&(d(R),Dg(R)),n.add(R),k().then(()=>A(R))},R=>{C(R===null?s():R)})}catch(R){C(R)}})},D6=(n,e,t,s,a,o,u,c)=>(f,d)=>{const p=e.get(f);if(p===void 0)throw new Error("Missing the expected cycle count.");const y=o(f.context),_=c(y);if(p===d){if(e.delete(f),!_&&u(f)){const v=s(f),{outputs:A}=t(f);for(const N of A)if(vd(N)){const k=s(N[0]);n(v,k,N[1],N[2])}else{const k=a(N[0]);v.connect(k,N[1])}}}else e.set(f,p-d)},R6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},I6=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...R6,...d},_=s(p,y),v=o(p),A=v?t(y.maxDelayTime):null;super(f,!1,_,A),this._delayTime=e(this,v,_.delayTime),u(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},V6=(n,e,t,s,a)=>o=>{const u=new WeakMap,c=async(f,d)=>{let p=t(f);const y=fi(p,d);if(!y){const _={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,delayTime:p.delayTime.value,maxDelayTime:o};p=e(d,_)}return u.set(d,p),y?await n(d,f.delayTime,p.delayTime):await s(d,f.delayTime,p.delayTime),await a(f,d,p),p};return{render(f,d){const p=u.get(d);return p!==void 0?Promise.resolve(p):c(f,d)}}},F6=n=>(e,t,s,a)=>n(e[a],o=>o[0]===t&&o[1]===s),B6=n=>(e,t)=>{n(e).delete(t)},z6=n=>"delayTime"in n,P6=(n,e,t)=>function s(a,o){const u=np(o)?o:t(n,o);if(z6(u))return[];if(a[0]===u)return[a];if(a.includes(u))return[];const{outputs:c}=e(u);return Array.from(c).map(f=>s([...a,u],f[0])).reduce((f,d)=>f.concat(d),[])},A1=(n,e,t)=>{const s=e[t];if(s===void 0)throw n();return s},q6=n=>(e,t=void 0,s=void 0,a=0)=>t===void 0?e.forEach(o=>o.disconnect()):typeof t=="number"?A1(n,e,t).disconnect():ip(t)?s===void 0?e.forEach(o=>o.disconnect(t)):a===void 0?A1(n,e,s).disconnect(t,0):A1(n,e,s).disconnect(t,0,a):s===void 0?e.forEach(o=>o.disconnect(t)):A1(n,e,s).disconnect(t,0),U6={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},H6=(n,e,t,s,a,o,u,c)=>class extends n{constructor(d,p){const y=o(d),_={...U6,...p},v=s(y,_),A=u(y),N=A?t():null;super(d,!1,v,N),this._attack=e(this,A,v.attack),this._knee=e(this,A,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=e(this,A,v.ratio),this._release=e(this,A,v.release),this._threshold=e(this,A,v.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const p=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=p,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const p=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=p,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},W6=(n,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const p=fi(d,f);if(!p){const y={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=e(f,y)}return o.set(f,d),p?(await n(f,c.attack,d.attack),await n(f,c.knee,d.knee),await n(f,c.ratio,d.ratio),await n(f,c.release,d.release),await n(f,c.threshold,d.threshold)):(await s(f,c.attack,d.attack),await s(f,c.knee,d.knee),await s(f,c.ratio,d.ratio),await s(f,c.release,d.release),await s(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},G6=()=>new DOMException("","EncodingError"),Y6=n=>e=>new Promise((t,s)=>{if(n===null){s(new SyntaxError);return}const a=n.document.head;if(a===null)s(new SyntaxError);else{const o=n.document.createElement("script"),u=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(u),f=n.onerror,d=()=>{n.onerror=f,URL.revokeObjectURL(c)};n.onerror=(p,y,_,v,A)=>{if(y===c||y===n.location.href&&_===1&&v===1)return d(),s(A),!1;if(f!==null)return f(p,y,_,v,A)},o.onerror=()=>{d(),s(new SyntaxError)},o.onload=()=>{d(),t()},o.src=c,o.type="module",a.appendChild(o)}}),$6=n=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,s,a){if(s!==null){let o=this._listeners.get(s);o===void 0&&(o=n(this,s),typeof s=="function"&&this._listeners.set(s,o)),this._nativeEventTarget.addEventListener(t,o,a)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,s,a){const o=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,a)}},X6=n=>(e,t,s)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},Z6=n=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw n()},K6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Q6=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=a(c),p={...K6,...f},y=s(d,p),_=o(d),v=_?t():null;super(c,!1,y,v),this._gain=e(this,_,y.gain,yi,qi)}get gain(){return this._gain}},J6=(n,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const p=fi(d,f);if(!p){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=e(f,y)}return o.set(f,d),p?await n(f,c.gain,d.gain):await s(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},eN=(n,e)=>t=>e(n,t),tN=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},nN=n=>e=>{var t;return(t=n.get(e))!==null&&t!==void 0?t:0},rN=n=>e=>{const t=n(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},sN=n=>e=>n.get(e),Ws=()=>new DOMException("","InvalidStateError"),iN=n=>e=>{const t=n.get(e);if(t===void 0)throw Ws();return t},aN=(n,e)=>t=>{let s=n.get(t);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),n.set(t,s),s},oN=n=>e=>{const t=n.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},Ep=()=>new DOMException("","InvalidAccessError"),lN=n=>{n.getFrequencyResponse=(e=>(t,s,a)=>{if(t.length!==s.length||s.length!==a.length)throw Ep();return e.call(n,t,s,a)})(n.getFrequencyResponse)},cN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},uN=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=s(c),p=a(d),y={...cN,...f},_=e(d,p?null:c.baseLatency,y),v=p?t(y.feedback,y.feedforward):null;super(c,!1,_,v),lN(_),this._nativeIIRFilterNode=_,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},Wx=(n,e,t,s,a,o,u,c,f,d,p)=>{const y=d.length;let _=c;for(let v=0;v<y;v+=1){let A=t[0]*d[v];for(let N=1;N<a;N+=1){const k=_-N&f-1;A+=t[N]*o[k],A-=n[N]*u[k]}for(let N=a;N<s;N+=1)A+=t[N]*o[_-N&f-1];for(let N=a;N<e;N+=1)A-=n[N]*u[_-N&f-1];o[_]=d[v],u[_]=A,_=_+1&f-1,p[v]=A}return _},hN=(n,e,t,s)=>{const a=t instanceof Float64Array?t:new Float64Array(t),o=s instanceof Float64Array?s:new Float64Array(s),u=a.length,c=o.length,f=Math.min(u,c);if(a[0]!==1){for(let A=0;A<u;A+=1)o[A]/=a[0];for(let A=1;A<c;A+=1)a[A]/=a[0]}const d=32,p=new Float32Array(d),y=new Float32Array(d),_=e.createBuffer(n.numberOfChannels,n.length,n.sampleRate),v=n.numberOfChannels;for(let A=0;A<v;A+=1){const N=n.getChannelData(A),k=_.getChannelData(A);p.fill(0),y.fill(0),Wx(a,u,o,c,f,p,y,0,d,N,k)}return _},fN=(n,e,t,s,a)=>(o,u)=>{const c=new WeakMap;let f=null;const d=async(p,y)=>{let _=null,v=e(p);const A=fi(v,y);if(y.createIIRFilter===void 0?_=n(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):A||(v=y.createIIRFilter(u,o)),c.set(y,_===null?v:_),_!==null){if(f===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const k=new t(p.context.destination.channelCount,p.context.length,y.sampleRate);f=(async()=>{await s(p,k,k.destination);const C=await a(k);return hN(C,y,o,u)})()}const N=await f;return _.buffer=N,_.start(0),_}return await s(p,y,v),v};return{render(p,y){const _=c.get(y);return _!==void 0?Promise.resolve(_):d(p,y)}}},dN=(n,e,t,s,a,o)=>u=>(c,f)=>{const d=n.get(c);if(d===void 0){if(!u&&o(c)){const p=s(c),{outputs:y}=t(c);for(const _ of y)if(vd(_)){const v=s(_[0]);e(p,v,_[1],_[2])}else{const v=a(_[0]);p.disconnect(v,_[1])}}n.set(c,f)}else n.set(c,d+f)},pN=(n,e)=>t=>{const s=n.get(t);return e(s)||e(t)},mN=(n,e)=>t=>n.has(t)||e(t),gN=(n,e)=>t=>n.has(t)||e(t),bN=(n,e)=>t=>{const s=n.get(t);return e(s)||e(t)},vN=n=>e=>n!==null&&e instanceof n,yN=n=>e=>n!==null&&typeof n.AudioNode=="function"&&e instanceof n.AudioNode,xN=n=>e=>n!==null&&typeof n.AudioParam=="function"&&e instanceof n.AudioParam,wN=(n,e)=>t=>n(t)||e(t),_N=n=>e=>n!==null&&e instanceof n,SN=n=>n!==null&&n.isSecureContext,NN=(n,e,t,s)=>class extends n{constructor(o,u){const c=t(o),f=e(c,u);if(s(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},AN={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},TN=(n,e,t,s)=>class extends n{constructor(o,u){const c=t(o);if(s(c))throw new TypeError;const f={...AN,...u},d=e(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},CN=(n,e,t,s)=>class extends n{constructor(o,u){const c=t(o),f=e(c,u);if(s(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},kN=(n,e,t)=>class extends n{constructor(a,o){const u=t(a),c=e(u,o);super(a,!0,c,null)}},jN=(n,e,t,s,a,o)=>class extends t{constructor(c,f){super(c),this._nativeContext=c,kp.set(this,c),s(c)&&a.set(c,new Set),this._destination=new n(this,f),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},rd=n=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=n.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},EN=(n,e)=>(t,s,a)=>{const o=new Set;return t.connect=(u=>(c,f=0,d=0)=>{const p=o.size===0;if(e(c))return u.call(t,c,f,d),n(o,[c,f,d],y=>y[0]===c&&y[1]===f&&y[2]===d,!0),p&&s(),c;u.call(t,c,f),n(o,[c,f],y=>y[0]===c&&y[1]===f,!0),p&&s()})(t.connect),t.disconnect=(u=>(c,f,d)=>{const p=o.size>0;if(c===void 0)u.apply(t),o.clear();else if(typeof c=="number"){u.call(t,c);for(const _ of o)_[1]===c&&o.delete(_)}else{e(c)?u.call(t,c,f,d):u.call(t,c,f);for(const _ of o)_[0]===c&&(f===void 0||_[1]===f)&&(d===void 0||_[2]===d)&&o.delete(_)}const y=o.size===0;p&&y&&a()})(t.disconnect),t},Fr=(n,e,t)=>{const s=e[t];s!==void 0&&s!==n[t]&&(n[t]=s)},Os=(n,e)=>{Fr(n,e,"channelCount"),Fr(n,e,"channelCountMode"),Fr(n,e,"channelInterpretation")},jv=n=>typeof n.getFloatTimeDomainData=="function",MN=n=>{n.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);n.getByteTimeDomainData(t);const s=Math.max(t.length,n.fftSize);for(let a=0;a<s;a+=1)e[a]=(t[a]-128)*.0078125;return e}},LN=(n,e)=>(t,s)=>{const a=t.createAnalyser();if(Os(a,s),!(s.maxDecibels>s.minDecibels))throw e();return Fr(a,s,"fftSize"),Fr(a,s,"maxDecibels"),Fr(a,s,"minDecibels"),Fr(a,s,"smoothingTimeConstant"),n(jv,()=>jv(a))||MN(a),a},ON=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,ns=(n,e,t)=>{const s=e[t];s!==void 0&&s!==n[t].value&&(n[t].value=s)},DN=n=>{n.start=(e=>{let t=!1;return(s=0,a=0,o)=>{if(t)throw Ws();e.call(n,s,a,o),t=!0}})(n.start)},Vg=n=>{n.start=(e=>(t=0,s=0,a)=>{if(typeof a=="number"&&a<0||s<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(n,t,s,a)})(n.start)},Fg=n=>{n.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(n,t)})(n.stop)},RN=(n,e,t,s,a,o,u,c,f,d,p)=>(y,_)=>{const v=y.createBufferSource();return Os(v,_),ns(v,_,"playbackRate"),Fr(v,_,"buffer"),Fr(v,_,"loop"),Fr(v,_,"loopEnd"),Fr(v,_,"loopStart"),e(t,()=>t(y))||DN(v),e(s,()=>s(y))||f(v),e(a,()=>a(y))||d(v,y),e(o,()=>o(y))||Vg(v),e(u,()=>u(y))||p(v,y),e(c,()=>c(y))||Fg(v),n(y,v),v},IN=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,VN=(n,e)=>(t,s,a)=>{const o=t.destination;if(o.channelCount!==s)try{o.channelCount=s}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:s});const u=n(t,{channelCount:s,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(u,"channelCount",c=>()=>c.call(u),c=>f=>{c.call(u,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),e(u,"channelCountMode",c=>()=>c.call(u),c=>f=>{c.call(u,f),o.channelCountMode=f}),e(u,"channelInterpretation",c=>()=>c.call(u),c=>f=>{c.call(u,f),o.channelInterpretation=f}),Object.defineProperty(u,"maxChannelCount",{get:()=>o.maxChannelCount}),u.connect(o),u},FN=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,BN=n=>{const{port1:e}=new MessageChannel;try{e.postMessage(n)}finally{e.close()}},zN=(n,e,t,s,a)=>(o,u,c,f,d,p)=>{if(c!==null)try{const y=new c(o,f,p),_=new Map;let v=null;if(Object.defineProperties(y,{channelCount:{get:()=>p.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>v,set:A=>{typeof v=="function"&&y.removeEventListener("processorerror",v),v=typeof A=="function"?A:null,typeof v=="function"&&y.addEventListener("processorerror",v)}}}),y.addEventListener=(A=>(...N)=>{if(N[0]==="processorerror"){const k=typeof N[1]=="function"?N[1]:typeof N[1]=="object"&&N[1]!==null&&typeof N[1].handleEvent=="function"?N[1].handleEvent:null;if(k!==null){const C=_.get(N[1]);C!==void 0?N[1]=C:(N[1]=R=>{R.type==="error"?(Object.defineProperties(R,{type:{value:"processorerror"}}),k(R)):k(new ErrorEvent(N[0],{...R}))},_.set(k,N[1]))}}return A.call(y,"error",N[1],N[2]),A.call(y,...N)})(y.addEventListener),y.removeEventListener=(A=>(...N)=>{if(N[0]==="processorerror"){const k=_.get(N[1]);k!==void 0&&(_.delete(N[1]),N[1]=k)}return A.call(y,"error",N[1],N[2]),A.call(y,N[0],N[1],N[2])})(y.removeEventListener),p.numberOfOutputs!==0){const A=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(A).connect(o.destination),a(y,()=>A.disconnect(),()=>A.connect(o.destination))}return y}catch(y){throw y.code===11?s():y}if(d===void 0)throw s();return BN(p),e(o,u,d,p)},Gx=(n,e)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*e))))),PN=n=>new Promise((e,t)=>{const{port1:s,port2:a}=new MessageChannel;s.onmessage=({data:o})=>{s.close(),a.close(),e(o)},s.onmessageerror=({data:o})=>{s.close(),a.close(),t(o)},a.postMessage(n)}),qN=async(n,e)=>{const t=await PN(e);return new n(t)},UN=(n,e,t,s)=>{let a=Qm.get(n);a===void 0&&(a=new WeakMap,Qm.set(n,a));const o=qN(t,s);return a.set(e,o),o},HN=(n,e,t,s,a,o,u,c,f,d,p,y,_)=>(v,A,N,k)=>{if(k.numberOfInputs===0&&k.numberOfOutputs===0)throw f();const C=Array.isArray(k.outputChannelCount)?k.outputChannelCount:Array.from(k.outputChannelCount);if(C.some(z=>z<1))throw f();if(C.length!==k.numberOfOutputs)throw e();if(k.channelCountMode!=="explicit")throw f();const R=k.channelCount*k.numberOfInputs,D=C.reduce((z,Ne)=>z+Ne,0),V=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length;if(R+V>6||D>6)throw f();const F=new MessageChannel,Y=[],H=[];for(let z=0;z<k.numberOfInputs;z+=1)Y.push(u(v,{channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation,gain:1})),H.push(a(v,{channelCount:k.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:k.channelCount}));const E=[];if(N.parameterDescriptors!==void 0)for(const{defaultValue:z,maxValue:Ne,minValue:nt,name:Be}of N.parameterDescriptors){const je=o(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:k.parameterData[Be]!==void 0?k.parameterData[Be]:z===void 0?0:z});Object.defineProperties(je.offset,{defaultValue:{get:()=>z===void 0?0:z},maxValue:{get:()=>Ne===void 0?yi:Ne},minValue:{get:()=>nt===void 0?qi:nt}}),E.push(je)}const B=s(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,R+V)}),te=Gx(A,v.sampleRate),j=c(v,te,R+V,Math.max(1,D)),I=a(v,{channelCount:Math.max(1,D),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,D)}),ee=[];for(let z=0;z<k.numberOfOutputs;z+=1)ee.push(s(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[z]}));for(let z=0;z<k.numberOfInputs;z+=1){Y[z].connect(H[z]);for(let Ne=0;Ne<k.channelCount;Ne+=1)H[z].connect(B,Ne,z*k.channelCount+Ne)}const U=new Ux(N.parameterDescriptors===void 0?[]:N.parameterDescriptors.map(({name:z},Ne)=>{const nt=E[Ne];return nt.connect(B,0,R+Ne),nt.start(0),[z,nt.offset]}));B.connect(j);let oe=k.channelInterpretation,$=null;const ne=k.numberOfOutputs===0?[j]:ee,le={get bufferSize(){return te},get channelCount(){return k.channelCount},set channelCount(z){throw t()},get channelCountMode(){return k.channelCountMode},set channelCountMode(z){throw t()},get channelInterpretation(){return oe},set channelInterpretation(z){for(const Ne of Y)Ne.channelInterpretation=z;oe=z},get context(){return j.context},get inputs(){return Y},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get onprocessorerror(){return $},set onprocessorerror(z){typeof $=="function"&&le.removeEventListener("processorerror",$),$=typeof z=="function"?z:null,typeof $=="function"&&le.addEventListener("processorerror",$)},get parameters(){return U},get port(){return F.port2},addEventListener(...z){return j.addEventListener(z[0],z[1],z[2])},connect:n.bind(null,ne),disconnect:d.bind(null,ne),dispatchEvent(...z){return j.dispatchEvent(z[0])},removeEventListener(...z){return j.removeEventListener(z[0],z[1],z[2])}},fe=new Map;F.port1.addEventListener=(z=>(...Ne)=>{if(Ne[0]==="message"){const nt=typeof Ne[1]=="function"?Ne[1]:typeof Ne[1]=="object"&&Ne[1]!==null&&typeof Ne[1].handleEvent=="function"?Ne[1].handleEvent:null;if(nt!==null){const Be=fe.get(Ne[1]);Be!==void 0?Ne[1]=Be:(Ne[1]=je=>{p(v.currentTime,v.sampleRate,()=>nt(je))},fe.set(nt,Ne[1]))}}return z.call(F.port1,Ne[0],Ne[1],Ne[2])})(F.port1.addEventListener),F.port1.removeEventListener=(z=>(...Ne)=>{if(Ne[0]==="message"){const nt=fe.get(Ne[1]);nt!==void 0&&(fe.delete(Ne[1]),Ne[1]=nt)}return z.call(F.port1,Ne[0],Ne[1],Ne[2])})(F.port1.removeEventListener);let be=null;Object.defineProperty(F.port1,"onmessage",{get:()=>be,set:z=>{typeof be=="function"&&F.port1.removeEventListener("message",be),be=typeof z=="function"?z:null,typeof be=="function"&&(F.port1.addEventListener("message",be),F.port1.start())}}),N.prototype.port=F.port1;let G=null;UN(v,le,N,k).then(z=>G=z);const X=op(k.numberOfInputs,k.channelCount),W=op(k.numberOfOutputs,C),Q=N.parameterDescriptors===void 0?[]:N.parameterDescriptors.reduce((z,{name:Ne})=>({...z,[Ne]:new Float32Array(128)}),{});let se=!0;const pe=()=>{k.numberOfOutputs>0&&j.disconnect(I);for(let z=0,Ne=0;z<k.numberOfOutputs;z+=1){const nt=ee[z];for(let Be=0;Be<C[z];Be+=1)I.disconnect(nt,Ne+Be,Be);Ne+=C[z]}},de=new Map;j.onaudioprocess=({inputBuffer:z,outputBuffer:Ne})=>{if(G!==null){const nt=y(le);for(let Be=0;Be<te;Be+=128){for(let je=0;je<k.numberOfInputs;je+=1)for(let et=0;et<k.channelCount;et+=1)ap(z,X[je],et,et,Be);N.parameterDescriptors!==void 0&&N.parameterDescriptors.forEach(({name:je},et)=>{ap(z,Q,je,R+et,Be)});for(let je=0;je<k.numberOfInputs;je+=1)for(let et=0;et<C[je];et+=1)W[je][et].byteLength===0&&(W[je][et]=new Float32Array(128));try{const je=X.map((Ue,ct)=>{if(nt[ct].size>0)return de.set(ct,te/128),Ue;const ze=de.get(ct);return ze===void 0?[]:(Ue.every(it=>it.every(rt=>rt===0))&&(ze===1?de.delete(ct):de.set(ct,ze-1)),Ue)});se=p(v.currentTime+Be/v.sampleRate,v.sampleRate,()=>G.process(je,W,Q));for(let Ue=0,ct=0;Ue<k.numberOfOutputs;Ue+=1){for(let at=0;at<C[Ue];at+=1)Hx(Ne,W[Ue],at,ct+at,Be);ct+=C[Ue]}}catch(je){se=!1,le.dispatchEvent(new ErrorEvent("processorerror",{colno:je.colno,filename:je.filename,lineno:je.lineno,message:je.message}))}if(!se){for(let je=0;je<k.numberOfInputs;je+=1){Y[je].disconnect(H[je]);for(let et=0;et<k.channelCount;et+=1)H[Be].disconnect(B,et,je*k.channelCount+et)}if(N.parameterDescriptors!==void 0){const je=N.parameterDescriptors.length;for(let et=0;et<je;et+=1){const Ue=E[et];Ue.disconnect(B,0,R+et),Ue.stop()}}B.disconnect(j),j.onaudioprocess=null,xe?pe():Ye();break}}}};let xe=!1;const we=u(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Fe=()=>j.connect(we).connect(v.destination),Ye=()=>{j.disconnect(we),we.disconnect()},Ze=()=>{if(se){Ye(),k.numberOfOutputs>0&&j.connect(I);for(let z=0,Ne=0;z<k.numberOfOutputs;z+=1){const nt=ee[z];for(let Be=0;Be<C[z];Be+=1)I.connect(nt,Ne+Be,Be);Ne+=C[z]}}xe=!0},lt=()=>{se&&(Fe(),pe()),xe=!1};return Fe(),_(le,Ze,lt)},Yx=(n,e)=>{const t=n.createBiquadFilter();return Os(t,e),ns(t,e,"Q"),ns(t,e,"detune"),ns(t,e,"frequency"),ns(t,e,"gain"),Fr(t,e,"type"),t},WN=(n,e)=>(t,s)=>{const a=t.createChannelMerger(s.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&e(t,a),Os(a,s),a},GN=n=>{const e=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Ws()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw Ws()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw Ws()}})},yd=(n,e)=>{const t=n.createChannelSplitter(e.numberOfOutputs);return Os(t,e),GN(t),t},YN=(n,e,t,s,a)=>(o,u)=>{if(o.createConstantSource===void 0)return t(o,u);const c=o.createConstantSource();return Os(c,u),ns(c,u,"offset"),e(s,()=>s(o))||Vg(c),e(a,()=>a(o))||Fg(c),n(o,c),c},Uh=(n,e)=>(n.connect=e.connect.bind(e),n.disconnect=e.disconnect.bind(e),n),$N=(n,e,t,s)=>(a,{offset:o,...u})=>{const c=a.createBuffer(1,2,44100),f=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t(a,{...u,gain:o}),p=c.getChannelData(0);p[0]=1,p[1]=1,f.buffer=c,f.loop=!0;const y={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(A){d.channelCount=A},get channelCountMode(){return d.channelCountMode},set channelCountMode(A){d.channelCountMode=A},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(A){d.channelInterpretation=A},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(A){f.onended=A},addEventListener(...A){return f.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return f.dispatchEvent(A[0])},removeEventListener(...A){return f.removeEventListener(A[0],A[1],A[2])},start(A=0){f.start.call(f,A)},stop(A=0){f.stop.call(f,A)}},_=()=>f.connect(d),v=()=>f.disconnect(d);return n(a,f),s(Uh(y,d),_,v)},XN=(n,e)=>(t,s)=>{const a=t.createConvolver();if(Os(a,s),s.disableNormalization===a.normalize&&(a.normalize=!s.disableNormalization),Fr(a,s,"buffer"),s.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>u=>{if(u>2)throw n();return o.call(a,u)}),s.channelCountMode==="max"))throw n();return e(a,"channelCountMode",o=>()=>o.call(a),o=>u=>{if(u==="max")throw n();return o.call(a,u)}),a},$x=(n,e)=>{const t=n.createDelay(e.maxDelayTime);return Os(t,e),ns(t,e,"delayTime"),t},ZN=n=>(e,t)=>{const s=e.createDynamicsCompressor();if(Os(s,t),t.channelCount>2||t.channelCountMode==="max")throw n();return ns(s,t,"attack"),ns(s,t,"knee"),ns(s,t,"ratio"),ns(s,t,"release"),ns(s,t,"threshold"),s},Wi=(n,e)=>{const t=n.createGain();return Os(t,e),ns(t,e,"gain"),t},KN=n=>(e,t,s)=>{if(e.createIIRFilter===void 0)return n(e,t,s);const a=e.createIIRFilter(s.feedforward,s.feedback);return Os(a,s),a};function QN(n,e){const t=e[0]*e[0]+e[1]*e[1];return[(n[0]*e[0]+n[1]*e[1])/t,(n[1]*e[0]-n[0]*e[1])/t]}function JN(n,e){return[n[0]*e[0]-n[1]*e[1],n[0]*e[1]+n[1]*e[0]]}function Ev(n,e){let t=[0,0];for(let s=n.length-1;s>=0;s-=1)t=JN(t,e),t[0]+=n[s];return t}const eA=(n,e,t,s)=>(a,o,{channelCount:u,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:p})=>{const y=Gx(o,a.sampleRate),_=d instanceof Float64Array?d:new Float64Array(d),v=p instanceof Float64Array?p:new Float64Array(p),A=_.length,N=v.length,k=Math.min(A,N);if(A===0||A>20)throw s();if(_[0]===0)throw e();if(N===0||N>20)throw s();if(v[0]===0)throw e();if(_[0]!==1){for(let E=0;E<N;E+=1)v[E]/=_[0];for(let E=1;E<A;E+=1)_[E]/=_[0]}const C=t(a,y,u,u);C.channelCount=u,C.channelCountMode=c,C.channelInterpretation=f;const R=32,D=[],V=[],F=[];for(let E=0;E<u;E+=1){D.push(0);const B=new Float32Array(R),te=new Float32Array(R);B.fill(0),te.fill(0),V.push(B),F.push(te)}C.onaudioprocess=E=>{const B=E.inputBuffer,te=E.outputBuffer,j=B.numberOfChannels;for(let I=0;I<j;I+=1){const ee=B.getChannelData(I),U=te.getChannelData(I);D[I]=Wx(_,A,v,N,k,V[I],F[I],D[I],R,ee,U)}};const Y=a.sampleRate/2;return Uh({get bufferSize(){return y},get channelCount(){return C.channelCount},set channelCount(E){C.channelCount=E},get channelCountMode(){return C.channelCountMode},set channelCountMode(E){C.channelCountMode=E},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(E){C.channelInterpretation=E},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},addEventListener(...E){return C.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return C.dispatchEvent(E[0])},getFrequencyResponse(E,B,te){if(E.length!==B.length||B.length!==te.length)throw n();const j=E.length;for(let I=0;I<j;I+=1){const ee=-Math.PI*(E[I]/Y),U=[Math.cos(ee),Math.sin(ee)],oe=Ev(v,U),$=Ev(_,U),ne=QN(oe,$);B[I]=Math.sqrt(ne[0]*ne[0]+ne[1]*ne[1]),te[I]=Math.atan2(ne[1],ne[0])}},removeEventListener(...E){return C.removeEventListener(E[0],E[1],E[2])}},C)},tA=(n,e)=>n.createMediaElementSource(e.mediaElement),nA=(n,e)=>{const t=n.createMediaStreamDestination();return Os(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},rA=(n,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((o,u)=>o.id<u.id?-1:o.id>u.id?1:0);const s=t.slice(0,1),a=n.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(a,"mediaStream",{value:e}),a},sA=(n,e)=>(t,{mediaStreamTrack:s})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(s);const a=new MediaStream([s]),o=t.createMediaStreamSource(a);if(s.kind!=="audio")throw n();if(e(t))throw new TypeError;return o},iA=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,aA=(n,e,t,s,a,o)=>(u,c)=>{const f=u.createOscillator();return Os(f,c),ns(f,c,"detune"),ns(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):Fr(f,c,"type"),e(t,()=>t(u))||Vg(f),e(s,()=>s(u))||o(f,u),e(a,()=>a(u))||Fg(f),n(u,f),f},oA=n=>(e,t)=>{const s=e.createPanner();return s.orientationX===void 0?n(e,t):(Os(s,t),ns(s,t,"orientationX"),ns(s,t,"orientationY"),ns(s,t,"orientationZ"),ns(s,t,"positionX"),ns(s,t,"positionY"),ns(s,t,"positionZ"),Fr(s,t,"coneInnerAngle"),Fr(s,t,"coneOuterAngle"),Fr(s,t,"coneOuterGain"),Fr(s,t,"distanceModel"),Fr(s,t,"maxDistance"),Fr(s,t,"panningModel"),Fr(s,t,"refDistance"),Fr(s,t,"rolloffFactor"),s)},lA=(n,e,t,s,a,o,u,c,f,d)=>(p,{coneInnerAngle:y,coneOuterAngle:_,coneOuterGain:v,distanceModel:A,maxDistance:N,orientationX:k,orientationY:C,orientationZ:R,panningModel:D,positionX:V,positionY:F,positionZ:Y,refDistance:H,rolloffFactor:E,...B})=>{const te=p.createPanner();if(B.channelCount>2||B.channelCountMode==="max")throw u();Os(te,B);const j={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=t(p,{...j,channelInterpretation:"speakers",numberOfInputs:6}),ee=s(p,{...B,gain:1}),U=s(p,{...j,gain:1}),oe=s(p,{...j,gain:0}),$=s(p,{...j,gain:0}),ne=s(p,{...j,gain:0}),le=s(p,{...j,gain:0}),fe=s(p,{...j,gain:0}),be=a(p,256,6,1),G=o(p,{...j,curve:new Float32Array([1,1]),oversample:"none"});let L=[k,C,R],X=[V,F,Y];const W=new Float32Array(1);be.onaudioprocess=({inputBuffer:de})=>{const xe=[f(de,W,0),f(de,W,1),f(de,W,2)];xe.some((Fe,Ye)=>Fe!==L[Ye])&&(te.setOrientation(...xe),L=xe);const we=[f(de,W,3),f(de,W,4),f(de,W,5)];we.some((Fe,Ye)=>Fe!==X[Ye])&&(te.setPosition(...we),X=we)},Object.defineProperty(oe.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ne.gain,"defaultValue",{get:()=>0}),Object.defineProperty(le.gain,"defaultValue",{get:()=>0}),Object.defineProperty(fe.gain,"defaultValue",{get:()=>0});const Q={get bufferSize(){},get channelCount(){return te.channelCount},set channelCount(de){if(de>2)throw u();ee.channelCount=de,te.channelCount=de},get channelCountMode(){return te.channelCountMode},set channelCountMode(de){if(de==="max")throw u();ee.channelCountMode=de,te.channelCountMode=de},get channelInterpretation(){return te.channelInterpretation},set channelInterpretation(de){ee.channelInterpretation=de,te.channelInterpretation=de},get coneInnerAngle(){return te.coneInnerAngle},set coneInnerAngle(de){te.coneInnerAngle=de},get coneOuterAngle(){return te.coneOuterAngle},set coneOuterAngle(de){te.coneOuterAngle=de},get coneOuterGain(){return te.coneOuterGain},set coneOuterGain(de){if(de<0||de>1)throw e();te.coneOuterGain=de},get context(){return te.context},get distanceModel(){return te.distanceModel},set distanceModel(de){te.distanceModel=de},get inputs(){return[ee]},get maxDistance(){return te.maxDistance},set maxDistance(de){if(de<0)throw new RangeError;te.maxDistance=de},get numberOfInputs(){return te.numberOfInputs},get numberOfOutputs(){return te.numberOfOutputs},get orientationX(){return U.gain},get orientationY(){return oe.gain},get orientationZ(){return $.gain},get panningModel(){return te.panningModel},set panningModel(de){te.panningModel=de},get positionX(){return ne.gain},get positionY(){return le.gain},get positionZ(){return fe.gain},get refDistance(){return te.refDistance},set refDistance(de){if(de<0)throw new RangeError;te.refDistance=de},get rolloffFactor(){return te.rolloffFactor},set rolloffFactor(de){if(de<0)throw new RangeError;te.rolloffFactor=de},addEventListener(...de){return ee.addEventListener(de[0],de[1],de[2])},dispatchEvent(...de){return ee.dispatchEvent(de[0])},removeEventListener(...de){return ee.removeEventListener(de[0],de[1],de[2])}};y!==Q.coneInnerAngle&&(Q.coneInnerAngle=y),_!==Q.coneOuterAngle&&(Q.coneOuterAngle=_),v!==Q.coneOuterGain&&(Q.coneOuterGain=v),A!==Q.distanceModel&&(Q.distanceModel=A),N!==Q.maxDistance&&(Q.maxDistance=N),k!==Q.orientationX.value&&(Q.orientationX.value=k),C!==Q.orientationY.value&&(Q.orientationY.value=C),R!==Q.orientationZ.value&&(Q.orientationZ.value=R),D!==Q.panningModel&&(Q.panningModel=D),V!==Q.positionX.value&&(Q.positionX.value=V),F!==Q.positionY.value&&(Q.positionY.value=F),Y!==Q.positionZ.value&&(Q.positionZ.value=Y),H!==Q.refDistance&&(Q.refDistance=H),E!==Q.rolloffFactor&&(Q.rolloffFactor=E),(L[0]!==1||L[1]!==0||L[2]!==0)&&te.setOrientation(...L),(X[0]!==0||X[1]!==0||X[2]!==0)&&te.setPosition(...X);const se=()=>{ee.connect(te),n(ee,G,0,0),G.connect(U).connect(I,0,0),G.connect(oe).connect(I,0,1),G.connect($).connect(I,0,2),G.connect(ne).connect(I,0,3),G.connect(le).connect(I,0,4),G.connect(fe).connect(I,0,5),I.connect(be).connect(p.destination)},pe=()=>{ee.disconnect(te),c(ee,G,0,0),G.disconnect(U),U.disconnect(I),G.disconnect(oe),oe.disconnect(I),G.disconnect($),$.disconnect(I),G.disconnect(ne),ne.disconnect(I),G.disconnect(le),le.disconnect(I),G.disconnect(fe),fe.disconnect(I),I.disconnect(be),be.disconnect(p.destination)};return d(Uh(Q,te),se,pe)},cA=n=>(e,{disableNormalization:t,imag:s,real:a})=>{const o=s instanceof Float32Array?s:new Float32Array(s),u=a instanceof Float32Array?a:new Float32Array(a),c=e.createPeriodicWave(u,o,{disableNormalization:t});if(Array.from(s).length<2)throw n();return c},xd=(n,e,t,s)=>n.createScriptProcessor(e,t,s),uA=(n,e)=>(t,s)=>{const a=s.channelCountMode;if(a==="clamped-max")throw e();if(t.createStereoPanner===void 0)return n(t,s);const o=t.createStereoPanner();return Os(o,s),ns(o,s,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:u=>{if(u!==a)throw e()}}),o},hA=(n,e,t,s,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},p={...d,oversample:"none"},y=(A,N,k,C)=>{const R=new Float32Array(16385),D=new Float32Array(16385);for(let B=0;B<16385;B+=1){const te=B/16384*f;R[B]=Math.cos(te),D[B]=Math.sin(te)}const V=t(A,{...d,gain:0}),F=s(A,{...p,curve:R}),Y=s(A,{...p,curve:c}),H=t(A,{...d,gain:0}),E=s(A,{...p,curve:D});return{connectGraph(){N.connect(V),N.connect(Y.inputs===void 0?Y:Y.inputs[0]),N.connect(H),Y.connect(k),k.connect(F.inputs===void 0?F:F.inputs[0]),k.connect(E.inputs===void 0?E:E.inputs[0]),F.connect(V.gain),E.connect(H.gain),V.connect(C,0,0),H.connect(C,0,1)},disconnectGraph(){N.disconnect(V),N.disconnect(Y.inputs===void 0?Y:Y.inputs[0]),N.disconnect(H),Y.disconnect(k),k.disconnect(F.inputs===void 0?F:F.inputs[0]),k.disconnect(E.inputs===void 0?E:E.inputs[0]),F.disconnect(V.gain),E.disconnect(H.gain),V.disconnect(C,0,0),H.disconnect(C,0,1)}}},_=(A,N,k,C)=>{const R=new Float32Array(16385),D=new Float32Array(16385),V=new Float32Array(16385),F=new Float32Array(16385),Y=Math.floor(16385/2);for(let ne=0;ne<16385;ne+=1)if(ne>Y){const le=(ne-Y)/(16384-Y)*f;R[ne]=Math.cos(le),D[ne]=Math.sin(le),V[ne]=0,F[ne]=1}else{const le=ne/(16384-Y)*f;R[ne]=1,D[ne]=0,V[ne]=Math.cos(le),F[ne]=Math.sin(le)}const H=e(A,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),E=t(A,{...d,gain:0}),B=s(A,{...p,curve:R}),te=t(A,{...d,gain:0}),j=s(A,{...p,curve:D}),I=s(A,{...p,curve:c}),ee=t(A,{...d,gain:0}),U=s(A,{...p,curve:V}),oe=t(A,{...d,gain:0}),$=s(A,{...p,curve:F});return{connectGraph(){N.connect(H),N.connect(I.inputs===void 0?I:I.inputs[0]),H.connect(E,0),H.connect(te,0),H.connect(ee,1),H.connect(oe,1),I.connect(k),k.connect(B.inputs===void 0?B:B.inputs[0]),k.connect(j.inputs===void 0?j:j.inputs[0]),k.connect(U.inputs===void 0?U:U.inputs[0]),k.connect($.inputs===void 0?$:$.inputs[0]),B.connect(E.gain),j.connect(te.gain),U.connect(ee.gain),$.connect(oe.gain),E.connect(C,0,0),ee.connect(C,0,0),te.connect(C,0,1),oe.connect(C,0,1)},disconnectGraph(){N.disconnect(H),N.disconnect(I.inputs===void 0?I:I.inputs[0]),H.disconnect(E,0),H.disconnect(te,0),H.disconnect(ee,1),H.disconnect(oe,1),I.disconnect(k),k.disconnect(B.inputs===void 0?B:B.inputs[0]),k.disconnect(j.inputs===void 0?j:j.inputs[0]),k.disconnect(U.inputs===void 0?U:U.inputs[0]),k.disconnect($.inputs===void 0?$:$.inputs[0]),B.disconnect(E.gain),j.disconnect(te.gain),U.disconnect(ee.gain),$.disconnect(oe.gain),E.disconnect(C,0,0),ee.disconnect(C,0,0),te.disconnect(C,0,1),oe.disconnect(C,0,1)}}},v=(A,N,k,C,R)=>{if(N===1)return y(A,k,C,R);if(N===2)return _(A,k,C,R);throw a()};return(A,{channelCount:N,channelCountMode:k,pan:C,...R})=>{if(k==="max")throw a();const D=n(A,{...R,channelCount:1,channelCountMode:k,numberOfInputs:2}),V=t(A,{...R,channelCount:N,channelCountMode:k,gain:1}),F=t(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:C});let{connectGraph:Y,disconnectGraph:H}=v(A,N,V,F,D);Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"maxValue",{get:()=>1}),Object.defineProperty(F.gain,"minValue",{get:()=>-1});const E={get bufferSize(){},get channelCount(){return V.channelCount},set channelCount(I){V.channelCount!==I&&(B&&H(),{connectGraph:Y,disconnectGraph:H}=v(A,I,V,F,D),B&&Y()),V.channelCount=I},get channelCountMode(){return V.channelCountMode},set channelCountMode(I){if(I==="clamped-max"||I==="max")throw a();V.channelCountMode=I},get channelInterpretation(){return V.channelInterpretation},set channelInterpretation(I){V.channelInterpretation=I},get context(){return V.context},get inputs(){return[V]},get numberOfInputs(){return V.numberOfInputs},get numberOfOutputs(){return V.numberOfOutputs},get pan(){return F.gain},addEventListener(...I){return V.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return V.dispatchEvent(I[0])},removeEventListener(...I){return V.removeEventListener(I[0],I[1],I[2])}};let B=!1;const te=()=>{Y(),B=!0},j=()=>{H(),B=!1};return o(Uh(E,D),te,j)}},fA=(n,e,t,s,a,o,u)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,f);Os(d,f);const p=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(p!==null&&p.length<2)throw e();Fr(d,{curve:p},"curve"),Fr(d,f,"oversample");let y=null,_=!1;return u(d,"curve",N=>()=>N.call(d),N=>k=>(N.call(d,k),_&&(s(k)&&y===null?y=n(c,d):!s(k)&&y!==null&&(y(),y=null)),k)),a(d,()=>{_=!0,s(d.curve)&&(y=n(c,d))},()=>{_=!1,y!==null&&(y(),y=null)})},dA=(n,e,t,s,a)=>(o,{curve:u,oversample:c,...f})=>{const d=o.createWaveShaper(),p=o.createWaveShaper();Os(d,f),Os(p,f);const y=t(o,{...f,gain:1}),_=t(o,{...f,gain:-1}),v=t(o,{...f,gain:1}),A=t(o,{...f,gain:-1});let N=null,k=!1,C=null;const R={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(F){y.channelCount=F,_.channelCount=F,d.channelCount=F,v.channelCount=F,p.channelCount=F,A.channelCount=F},get channelCountMode(){return d.channelCountMode},set channelCountMode(F){y.channelCountMode=F,_.channelCountMode=F,d.channelCountMode=F,v.channelCountMode=F,p.channelCountMode=F,A.channelCountMode=F},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(F){y.channelInterpretation=F,_.channelInterpretation=F,d.channelInterpretation=F,v.channelInterpretation=F,p.channelInterpretation=F,A.channelInterpretation=F},get context(){return d.context},get curve(){return C},set curve(F){if(F!==null&&F.length<2)throw e();if(F===null)d.curve=F,p.curve=F;else{const Y=F.length,H=new Float32Array(Y+2-Y%2),E=new Float32Array(Y+2-Y%2);H[0]=F[0],E[0]=-F[Y-1];const B=Math.ceil((Y+1)/2),te=(Y+1)/2-1;for(let j=1;j<B;j+=1){const I=j/B*te,ee=Math.floor(I),U=Math.ceil(I);H[j]=ee===U?F[ee]:(1-(I-ee))*F[ee]+(1-(U-I))*F[U],E[j]=ee===U?-F[Y-1-ee]:-((1-(I-ee))*F[Y-1-ee])-(1-(U-I))*F[Y-1-U]}H[B]=Y%2===1?F[B-1]:(F[B-2]+F[B-1])/2,d.curve=H,p.curve=E}C=F,k&&(s(C)&&N===null?N=n(o,y):N!==null&&(N(),N=null))},get inputs(){return[y]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(F){d.oversample=F,p.oversample=F},addEventListener(...F){return y.addEventListener(F[0],F[1],F[2])},dispatchEvent(...F){return y.dispatchEvent(F[0])},removeEventListener(...F){return y.removeEventListener(F[0],F[1],F[2])}};u!==null&&(R.curve=u instanceof Float32Array?u:new Float32Array(u)),c!==R.oversample&&(R.oversample=c);const D=()=>{y.connect(d).connect(v),y.connect(_).connect(p).connect(A).connect(v),k=!0,s(C)&&(N=n(o,y))},V=()=>{y.disconnect(d),d.disconnect(v),y.disconnect(_),_.disconnect(p),p.disconnect(A),A.disconnect(v),k=!1,N!==null&&(N(),N=null)};return a(Uh(R,v),D,V)},wi=()=>new DOMException("","NotSupportedError"),pA={numberOfChannels:1},mA=(n,e,t,s,a)=>class extends n{constructor(u,c,f){let d;if(typeof u=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:u,sampleRate:f};else if(typeof u=="object")d=u;else throw new Error("The given parameters are not valid.");const{length:p,numberOfChannels:y,sampleRate:_}={...pA,...d},v=s(y,p,_);e(rd,()=>rd(v))||v.addEventListener("statechange",(()=>{let A=0;const N=k=>{this._state==="running"&&(A>0?(v.removeEventListener("statechange",N),k.stopImmediatePropagation(),this._waitForThePromiseToSettle(k)):A+=1)};return N})()),super(v,y),this._length=p,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Bx(this)}))}_waitForThePromiseToSettle(u){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(u):setTimeout(()=>this._waitForThePromiseToSettle(u))}},gA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},bA=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...gA,...d},_=t(p,y),v=o(p),A=v?s():null,N=f.sampleRate/2;super(f,!1,_,A),this._detune=e(this,v,_.detune,153600,-153600),this._frequency=e(this,v,_.frequency,N,-N),this._nativeOscillatorNode=_,this._onended=null,this._oscillatorNodeRenderer=A,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?u(this,f):null;this._nativeOscillatorNode.onended=d;const p=this._nativeOscillatorNode.onended;this._onended=p!==null&&p===d?f:p}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Rh(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),kl(this)&&gd(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},vA=(n,e,t,s,a)=>()=>{const o=new WeakMap;let u=null,c=null,f=null;const d=async(p,y)=>{let _=t(p);const v=fi(_,y);if(!v){const A={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,detune:_.detune.value,frequency:_.frequency.value,periodicWave:u===null?void 0:u,type:_.type};_=e(y,A),c!==null&&_.start(c),f!==null&&_.stop(f)}return o.set(y,_),v?(await n(y,p.detune,_.detune),await n(y,p.frequency,_.frequency)):(await s(y,p.detune,_.detune),await s(y,p.frequency,_.frequency)),await a(p,y,_),_};return{set periodicWave(p){u=p},set start(p){c=p},set stop(p){f=p},render(p,y){const _=o.get(y);return _!==void 0?Promise.resolve(_):d(p,y)}}},yA={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},xA=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...yA,...d},_=t(p,y),v=o(p),A=v?s():null;super(f,!1,_,A),this._nativePannerNode=_,this._orientationX=e(this,v,_.orientationX,yi,qi),this._orientationY=e(this,v,_.orientationY,yi,qi),this._orientationZ=e(this,v,_.orientationZ,yi,qi),this._positionX=e(this,v,_.positionX,yi,qi),this._positionY=e(this,v,_.positionY,yi,qi),this._positionZ=e(this,v,_.positionZ,yi,qi),u(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},wA=(n,e,t,s,a,o,u,c,f,d)=>()=>{const p=new WeakMap;let y=null;const _=async(v,A)=>{let N=null,k=o(v);const C={channelCount:k.channelCount,channelCountMode:k.channelCountMode,channelInterpretation:k.channelInterpretation},R={...C,coneInnerAngle:k.coneInnerAngle,coneOuterAngle:k.coneOuterAngle,coneOuterGain:k.coneOuterGain,distanceModel:k.distanceModel,maxDistance:k.maxDistance,panningModel:k.panningModel,refDistance:k.refDistance,rolloffFactor:k.rolloffFactor},D=fi(k,A);if("bufferSize"in k)N=s(A,{...C,gain:1});else if(!D){const V={...R,orientationX:k.orientationX.value,orientationY:k.orientationY.value,orientationZ:k.orientationZ.value,positionX:k.positionX.value,positionY:k.positionY.value,positionZ:k.positionZ.value};k=a(A,V)}if(p.set(A,N===null?k:N),N!==null){if(y===null){if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=new u(6,v.context.length,A.sampleRate),I=e(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});I.connect(j.destination),y=(async()=>{const ee=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async(U,oe)=>{const $=t(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:oe===0?1:0});return await c(j,U,$.offset),$}));for(let U=0;U<6;U+=1)ee[U].connect(I,0,U),ee[U].start(0);return d(j)})()}const V=await y,F=s(A,{...C,gain:1});await f(v,A,F);const Y=[];for(let j=0;j<V.numberOfChannels;j+=1)Y.push(V.getChannelData(j));let H=[Y[0][0],Y[1][0],Y[2][0]],E=[Y[3][0],Y[4][0],Y[5][0]],B=s(A,{...C,gain:1}),te=a(A,{...R,orientationX:H[0],orientationY:H[1],orientationZ:H[2],positionX:E[0],positionY:E[1],positionZ:E[2]});F.connect(B).connect(te.inputs[0]),te.connect(N);for(let j=128;j<V.length;j+=128){const I=[Y[0][j],Y[1][j],Y[2][j]],ee=[Y[3][j],Y[4][j],Y[5][j]];if(I.some((U,oe)=>U!==H[oe])||ee.some((U,oe)=>U!==E[oe])){H=I,E=ee;const U=j/A.sampleRate;B.gain.setValueAtTime(0,U),B=s(A,{...C,gain:0}),te=a(A,{...R,orientationX:H[0],orientationY:H[1],orientationZ:H[2],positionX:E[0],positionY:E[1],positionZ:E[2]}),B.gain.setValueAtTime(1,U),F.connect(B).connect(te.inputs[0]),te.connect(N)}}return N}return D?(await n(A,v.orientationX,k.orientationX),await n(A,v.orientationY,k.orientationY),await n(A,v.orientationZ,k.orientationZ),await n(A,v.positionX,k.positionX),await n(A,v.positionY,k.positionY),await n(A,v.positionZ,k.positionZ)):(await c(A,v.orientationX,k.orientationX),await c(A,v.orientationY,k.orientationY),await c(A,v.orientationZ,k.orientationZ),await c(A,v.positionX,k.positionX),await c(A,v.positionY,k.positionY),await c(A,v.positionZ,k.positionZ)),qh(k)?await f(v,A,k.inputs[0]):await f(v,A,k),k};return{render(v,A){const N=p.get(A);return N!==void 0?Promise.resolve(N):_(v,A)}}},_A={disableNormalization:!1},SA=(n,e,t,s)=>class Xx{constructor(o,u){const c=e(o),f=s({..._A,...u}),d=n(c,f);return t.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===Xx.prototype||t.has(o)}},NA=(n,e)=>(t,s,a)=>(n(s).replay(a),e(s,t,a)),AA=(n,e,t)=>async(s,a,o)=>{const u=n(s);await Promise.all(u.activeInputs.map((c,f)=>Array.from(c).map(async([d,p])=>{const _=await e(d).render(d,a),v=s.context.destination;!t(d)&&(s!==v||!t(s))&&_.connect(o,p,f)})).reduce((c,f)=>[...c,...f],[]))},TA=(n,e,t)=>async(s,a,o)=>{const u=e(s);await Promise.all(Array.from(u.activeInputs).map(async([c,f])=>{const p=await n(c).render(c,a);t(c)||p.connect(o,f)}))},CA=(n,e,t,s)=>a=>n(rd,()=>rd(a))?Promise.resolve(n(s,s)).then(o=>{if(!o){const u=t(a,512,0,1);a.oncomplete=()=>{u.onaudioprocess=null,u.disconnect()},u.onaudioprocess=()=>a.currentTime,u.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const u=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{u.disconnect(),o(c.renderedBuffer)},u.connect(a.destination),a.startRendering()}),kA=n=>(e,t)=>{n.set(e,t)},jA=n=>(e,t)=>n.set(e,t),EA=(n,e,t,s,a,o,u,c)=>(f,d)=>t(f).render(f,d).then(()=>Promise.all(Array.from(s(d)).map(p=>t(p).render(p,d)))).then(()=>a(d)).then(p=>(typeof p.copyFromChannel!="function"?(u(p),Dg(p)):e(o,()=>o(p))||c(p),n.add(p),p)),MA={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},LA=(n,e,t,s,a,o)=>class extends n{constructor(c,f){const d=a(c),p={...MA,...f},y=t(d,p),_=o(d),v=_?s():null;super(c,!1,y,v),this._pan=e(this,_,y.pan)}get pan(){return this._pan}},OA=(n,e,t,s,a)=>()=>{const o=new WeakMap,u=async(c,f)=>{let d=t(c);const p=fi(d,f);if(!p){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=e(f,y)}return o.set(f,d),p?await n(f,c.pan,d.pan):await s(f,c.pan,d.pan),qh(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):u(c,f)}}},DA=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},RA=(n,e)=>async()=>{if(n===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),a=URL.createObjectURL(t);let o=!1,u=!1;try{await s.audioWorklet.addModule(a);const c=new n(s,"a",{numberOfOutputs:0}),f=s.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>u=!0,f.connect(c),f.start(0),await s.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!u},IA=(n,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),s=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{t.oncomplete=()=>{s.disconnect(),a(t.currentTime!==0)},t.startRendering()})},VA=()=>new DOMException("","UnknownError"),FA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},BA=(n,e,t,s,a,o,u)=>class extends n{constructor(f,d){const p=a(f),y={...FA,...d},_=t(p,y),A=o(p)?s():null;super(f,!0,_,A),this._isCurveNullified=!1,this._nativeWaveShaperNode=_,u(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},zA=(n,e,t)=>()=>{const s=new WeakMap,a=async(o,u)=>{let c=e(o);if(!fi(c,u)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=n(u,d)}return s.set(u,c),qh(c)?await t(o,u,c.inputs[0]):await t(o,u,c),c};return{render(o,u){const c=s.get(u);return c!==void 0?Promise.resolve(c):a(o,u)}}},PA=()=>typeof window>"u"?null:window,qA=(n,e)=>t=>{t.copyFromChannel=(s,a,o=0)=>{const u=n(o),c=n(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),p=s.length;for(let y=u<0?-u:0;y+u<f&&y<p;y+=1)s[y]=d[y+u]},t.copyToChannel=(s,a,o=0)=>{const u=n(o),c=n(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),p=s.length;for(let y=u<0?-u:0;y+u<f&&y<p;y+=1)d[y+u]=s[y]}},UA=n=>e=>{e.copyFromChannel=(t=>(s,a,o=0)=>{const u=n(o),c=n(a);if(u<e.length)return t.call(e,s,c,u)})(e.copyFromChannel),e.copyToChannel=(t=>(s,a,o=0)=>{const u=n(o),c=n(a);if(u<e.length)return t.call(e,s,c,u)})(e.copyToChannel)},HA=n=>(e,t)=>{const s=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),n(e,"buffer",a=>()=>{const o=a.call(e);return o===s?null:o},a=>o=>a.call(e,o===null?s:o))},WA=(n,e)=>(t,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const a=t.createBufferSource();e(s,()=>{const c=s.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(s,0,f)},()=>a.disconnect(s))},Zx=(n,e,t)=>n.copyFromChannel===void 0?n.getChannelData(t)[0]:(n.copyFromChannel(e,t),e[0]),Kx=n=>{if(n===null)return!1;const e=n.length;return e%2!==0?n[Math.floor(e/2)]!==0:n[e/2-1]+n[e/2]!==0},wd=(n,e,t,s)=>{let a=n;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:u}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(n,e,{get:t(o),set:s(u)})},GA=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),YA=n=>({...n,channelCount:n.numberOfOutputs}),$A=n=>{const{imag:e,real:t}=n;return e===void 0?t===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(t,()=>0),real:t}:t===void 0?{...n,imag:e,real:Array.from(e,()=>0)}:{...n,imag:e,real:t}},Qx=(n,e,t)=>{try{n.setValueAtTime(e,t)}catch(s){if(s.code!==9)throw s;Qx(n,e,t+1e-7)}},XA=n=>{const e=n.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},ZA=n=>{const e=n.createBufferSource(),t=n.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},KA=n=>{const e=n.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Bg=n=>{const e=n.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},Jx=n=>{const e=n.createBuffer(1,1,44100),t=n.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},zg=n=>{const e=n.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},QA=n=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(n)}finally{e.close(),t.close()}},JA=n=>{n.start=(e=>(t=0,s=0,a)=>{const o=n.buffer,u=o===null?s:Math.min(o.duration,s);o!==null&&u>o.duration-.5/n.context.sampleRate?e.call(n,t,0,0):e.call(n,t,u,a)})(n.start)},e3=(n,e)=>{const t=e.createGain();n.connect(t);const s=(a=>()=>{a.call(n,t),n.removeEventListener("ended",s)})(n.disconnect);n.addEventListener("ended",s),Uh(n,t),n.stop=(a=>{let o=!1;return(u=0)=>{if(o)try{a.call(n,u)}catch{t.gain.setValueAtTime(0,u)}else a.call(n,u),o=!0}})(n.stop)},Hh=(n,e)=>t=>{const s={value:n};return Object.defineProperties(t,{currentTarget:s,target:s}),typeof e=="function"?e.call(n,t):e.handleEvent.call(n,t)},e8=xS(wu),t8=TS(wu),n8=F6(jp),t3=new WeakMap,r8=nN(t3),mo=p6(new Map,new WeakMap),Ho=PA(),n3=LN(mo,Go),Pg=tN(xi),ti=AA(xi,Pg,bu),s8=MS(n3,kr,ti),yr=iN(kp),Ol=iA(Ho),fr=_N(Ol),r3=new WeakMap,s3=$6(Hh),_d=IN(Ho),qg=vN(_d),Ug=yN(Ho),i3=xN(Ho),sd=FN(Ho),cs=n6(wS(Lx),AS(e8,t8,rp,n8,sp,xi,r8,md,kr,wu,kl,bu,P1),mo,dN(Zm,sp,xi,kr,nd,kl),Go,Ep,wi,D6(rp,Zm,xi,kr,nd,yr,kl,fr),P6(r3,xi,uo),s3,yr,qg,Ug,i3,fr,sd),i8=ES(cs,s8,Go,n3,yr,fr),Hg=new WeakSet,Mv=ON(Ho),a3=C6(new Uint32Array(1)),Wg=qA(a3,Go),Gg=UA(a3),o3=OS(Hg,mo,wi,Mv,Ol,DA(Mv),Wg,Gg),Mp=CS(Wi),l3=TA(Pg,bd,bu),Yo=w6(l3),Wh=RN(Mp,mo,XA,ZA,KA,Bg,Jx,zg,JA,HA(wd),e3),$o=NA(rN(bd),l3),a8=IS(Yo,Wh,kr,$o,ti),go=r6(_S(Ox),r3,Og,s6,pS,mS,gS,bS,vS,Ym,Ex,_d,Qx),o8=RS(cs,a8,go,Ws,Wh,yr,fr,Hh),l8=WS(cs,GS,Go,Ws,VN(Wi,wd),yr,fr,ti),c8=d6(Yo,Yx,kr,$o,ti),_u=jA(t3),u8=f6(cs,go,c8,Ep,Yx,yr,fr,_u),Lc=EN(wu,Ug),h8=WA(Ws,Lc),Oc=WN(_d,h8),f8=b6(Oc,kr,ti),d8=g6(cs,f8,Oc,yr,fr),p8=x6(yd,kr,ti),m8=y6(cs,p8,yd,yr,fr,YA),g8=$N(Mp,Wh,Wi,Lc),Gh=YN(Mp,mo,g8,Bg,zg),b8=T6(Yo,Gh,kr,$o,ti),v8=A6(cs,go,b8,Gh,yr,fr,Hh),c3=XN(wi,wd),y8=E6(c3,kr,ti),x8=j6(cs,y8,c3,yr,fr,_u),w8=V6(Yo,$x,kr,$o,ti),_8=I6(cs,go,w8,$x,yr,fr,_u),u3=ZN(wi),S8=W6(Yo,u3,kr,$o,ti),N8=H6(cs,go,S8,u3,wi,yr,fr,_u),A8=J6(Yo,Wi,kr,$o,ti),T8=Q6(cs,go,A8,Wi,yr,fr),C8=eA(Ep,Ws,xd,wi),Lp=CA(mo,Wi,xd,IA(Wi,Ol)),k8=fN(Wh,kr,Ol,ti,Lp),j8=KN(C8),E8=uN(cs,j8,k8,yr,fr,_u),M8=YS(go,Oc,Gh,xd,wi,Zx,fr,wd),h3=new WeakMap,L8=jN(l8,M8,s3,fr,h3,Hh),f3=aA(Mp,mo,Bg,Jx,zg,e3),O8=vA(Yo,f3,kr,$o,ti),D8=bA(cs,go,f3,O8,yr,fr,Hh),d3=S6(Wh),R8=dA(d3,Ws,Wi,Kx,Lc),Op=fA(d3,Ws,R8,Kx,Lc,_d,wd),I8=lA(rp,Ws,Oc,Wi,xd,Op,wi,sp,Zx,Lc),p3=oA(I8),V8=wA(Yo,Oc,Gh,Wi,p3,kr,Ol,$o,ti,Lp),F8=xA(cs,go,p3,V8,yr,fr,_u),B8=cA(Go),z8=SA(B8,yr,new WeakSet,$A),P8=hA(Oc,yd,Wi,Op,wi,Lc),m3=uA(P8,wi),q8=OA(Yo,m3,kr,$o,ti),U8=LA(cs,go,m3,q8,yr,fr),H8=zA(Op,kr,ti),W8=BA(cs,Ws,Op,H8,yr,fr,_u),g3=SN(Ho),Yg=X6(Ho),b3=new WeakMap,G8=aN(b3,Ol),Y8=g3?NS(mo,wi,Y6(Ho),Yg,Z6(yS),yr,G8,fr,sd,new WeakMap,new WeakMap,RA(sd,Ol),Ho):void 0,$8=wN(qg,fr),X8=O6(Hg,mo,L6,G6,new WeakSet,yr,$8,tp,rd,Wg,Gg),v3=u6(Y8,i8,o3,o8,u8,d8,m8,v8,x8,X8,_8,N8,T8,E8,L8,D8,F8,z8,U8,W8),Z8=NN(cs,tA,yr,fr),K8=TN(cs,nA,yr,fr),Q8=CN(cs,rA,yr,fr),J8=sA(Ws,fr),eT=kN(cs,J8,yr),tT=HS(v3,Ws,wi,VA,Z8,K8,Q8,eT,_d),$g=oN(h3),nT=kS($g),y3=_6(Go),rT=B6($g),x3=q6(Go),w3=new WeakMap,sT=eN(w3,uo),iT=HN(y3,Go,Ws,Oc,yd,Gh,Wi,xd,wi,x3,Yg,sT,Lc),aT=zN(Ws,iT,Wi,wi,Lc),oT=c6(Yo,y3,Wh,Oc,yd,Gh,Wi,rT,x3,Yg,kr,sd,Ol,$o,ti,Lp),lT=sN(b3),cT=kA(w3),Lv=g3?a6(nT,cs,go,oT,aT,xi,lT,yr,fr,sd,GA,cT,QA,Hh):void 0,uT=M6(wi,Ol),hT=EA(Hg,mo,Pg,$g,Lp,tp,Wg,Gg),fT=mA(v3,mo,Ws,uT,hT),dT=pN(kp,qg),pT=mN(Lg,Ug),mT=gN(Og,i3),gT=bN(kp,fr);function Ma(n){return n===void 0}function On(n){return n!==void 0}function bT(n){return typeof n=="function"}function jl(n){return typeof n=="number"}function pu(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function vT(n){return typeof n=="boolean"}function fa(n){return Array.isArray(n)}function El(n){return typeof n=="string"}function T1(n){return El(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function Qt(n,e){if(!n)throw new Error(e)}function Ml(n,e,t=1/0){if(!(e<=n&&n<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${n}`)}function _3(n){!n.isOffline&&n.state!=="running"&&Dp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let S3=!1,Ov=!1;function Dv(n){S3=n}function yT(n){Ma(n)&&S3&&!Ov&&(Ov=!0,Dp("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let N3=console;function xT(...n){N3.log(...n)}function Dp(...n){N3.warn(...n)}function wT(n){return new tT(n)}function _T(n,e,t){return new fT(n,e,t)}const ca=typeof self=="object"?self:null,ST=ca&&(ca.hasOwnProperty("AudioContext")||ca.hasOwnProperty("webkitAudioContext"));function NT(n,e,t){return Qt(On(Lv),"AudioWorkletNode only works in a secure context (https or localhost)"),new(n instanceof ca?.BaseAudioContext?ca?.AudioWorkletNode:Lv)(n,e,t)}function bo(n,e,t,s){var a=arguments.length,o=a<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,s);else for(var c=n.length-1;c>=0;c--)(u=n[c])&&(o=(a<3?u(o):a>3?u(e,t,o):u(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function ys(n,e,t,s){function a(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function c(p){try{d(s.next(p))}catch(y){u(y)}}function f(p){try{d(s.throw(p))}catch(y){u(y)}}function d(p){p.done?o(p.value):a(p.value).then(c,f)}d((s=s.apply(n,e||[])).next())})}class AT{constructor(e,t,s,a){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),s=new Worker(t);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function vu(n){return mT(n)}function Nc(n){return pT(n)}function q1(n){return gT(n)}function vh(n){return dT(n)}function TT(n){return n instanceof o3}function CT(n,e){return n==="value"||vu(e)||Nc(e)||TT(e)}function mu(n,...e){if(!e.length)return n;const t=e.shift();if(pu(n)&&pu(t))for(const s in t)CT(s,t[s])?n[s]=t[s]:pu(t[s])?(n[s]||Object.assign(n,{[s]:{}}),mu(n[s],t[s])):Object.assign(n,{[s]:t[s]});return mu(n,...e)}function kT(n,e){return n.length===e.length&&n.every((t,s)=>e[s]===t)}function Xt(n,e,t=[],s){const a={},o=Array.from(e);if(pu(o[0])&&s&&!Reflect.has(o[0],s)&&(Object.keys(o[0]).some(c=>Reflect.has(n,c))||(mu(a,{[s]:o[0]}),t.splice(t.indexOf(s),1),o.shift())),o.length===1&&pu(o[0]))mu(a,o[0]);else for(let u=0;u<t.length;u++)On(o[u])&&(a[t[u]]=o[u]);return mu(n,a)}function jT(n){return n.constructor.getDefaults()}function Th(n,e){return Ma(n)?e:n}function oo(n,e){return e.forEach(t=>{Reflect.has(n,t)&&delete n[t]}),n}class Dl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||ca&&this.toString()===ca.TONE_DEBUG_CLASS)&&xT(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Dl.version=jx;const Xg=1e-6;function Ih(n,e){return n>e+Xg}function tg(n,e){return Ih(n,e)||ao(n,e)}function lp(n,e){return n+Xg<e}function ao(n,e){return Math.abs(n-e)<Xg}function ET(n,e,t){return Math.max(Math.min(n,t),e)}class La extends Dl{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Xt(La.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Qt(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];Qt(tg(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const s=this._search(e,t);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const s=this._search(e,t);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(ao(this._timeline[t].time,e)){for(let s=t;s>=0&&ao(this._timeline[s].time,e);s--)t=s;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&tg(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let s=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][t]<=e)return a-1;for(;s<o;){let u=Math.floor(s+(o-s)/2);const c=this._timeline[u],f=this._timeline[u+1];if(ao(c[t],e)){for(let d=u;d<this._timeline.length;d++){const p=this._timeline[d];if(ao(p[t],e))u=d;else break}return u}else{if(lp(c[t],e)&&Ih(f[t],e))return u;Ih(c[t],e)?o=u:s=u+1}}return-1}_iterate(e,t=0,s=this._timeline.length-1){this._timeline.slice(t,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const s=this._search(e);return s!==-1&&this._iterate(t,0,s),this}forEachAfter(e,t){const s=this._search(e);return this._iterate(t,s+1),this}forEachBetween(e,t,s){let a=this._search(e),o=this._search(t);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===t&&(o-=1),this._iterate(s,a,o)):a===-1&&this._iterate(s,0,o),this}forEachFrom(e,t){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(t,s+1),this}forEachAtTime(e,t){const s=this._search(e);if(s!==-1&&ao(this._timeline[s].time,e)){let a=s;for(let o=s;o>=0&&ao(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{t(o)},a,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const A3=[];function Rp(n){A3.push(n)}function MT(n){A3.forEach(e=>e(n))}const T3=[];function Ip(n){T3.push(n)}function LT(n){T3.forEach(e=>e(n))}class Sd extends Dl{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(a=>{Ma(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(t)}),this}once(e,t){const s=(...a)=>{t(...a),this.off(e,s)};return this.on(e,s),this}off(e,t){return e.split(/\W+/).forEach(a=>{if(Ma(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(Ma(t))this._events[a]=[];else{const o=this._events[a];for(let u=o.length-1;u>=0;u--)o[u]===t&&o.splice(u,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let a=0,o=s.length;a<o;a++)s[a].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const s=Object.getOwnPropertyDescriptor(Sd.prototype,t);Object.defineProperty(e.prototype,t,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class C3 extends Sd{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let Zg=class k3 extends C3{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new La,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=Xt(k3.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=wT({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new AT(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(MT(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,s){return this._context.createBuffer(e,t,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,s){return this._context.createPeriodicWave(e,t,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Qt(vh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Qt(vh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Qt(vh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Qt(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Qt(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Qt(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Qt(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return NT(this.rawContext,e,t)}addAudioWorkletModule(e){return ys(this,void 0,void 0,function*(){Qt(On(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return ys(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return vh(this._context)?this._context.resume():Promise.resolve()}close(){return ys(this,void 0,void 0,function*(){vh(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&LT(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),s=t.getChannelData(0);for(let o=0;o<s.length;o++)s[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=t,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const s=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:s,time:o+t})};return a(),s}};class OT extends C3{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return ys(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function jr(n,e){fa(e)?e.forEach(t=>jr(n,t)):Object.defineProperty(n,e,{enumerable:!0,writable:!1})}function Kg(n,e){fa(e)?e.forEach(t=>Kg(n,t)):Object.defineProperty(n,e,{writable:!0})}const hr=()=>{};class Tr extends Dl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=hr;const e=Xt(Tr.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,El(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:hr,onload:hr,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:lo().sampleRate}set(e){return e instanceof Tr?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return ys(this,void 0,void 0,function*(){const t=Tr.load(e).then(s=>{this.set(s),this.onload(this)});Tr.downloads.push(t);try{yield t}finally{const s=Tr.downloads.indexOf(t);Tr.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=fa(e)&&e[0].length>0,s=t?e.length:1,a=t?e[0].length:e.length,o=lo(),u=o.createBuffer(s,a,o.sampleRate),c=!t&&s===1?[e]:e;for(let f=0;f<s;f++)u.copyToChannel(c[f],f);return this._buffer=u,this}toMono(e){if(jl(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const s=this.numberOfChannels;for(let a=0;a<s;a++){const o=this.toArray(a);for(let u=0;u<o.length;u++)t[u]+=o[u]}t=t.map(a=>a/s),this.fromArray(t)}return this}toArray(e){if(jl(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let s=0;s<this.numberOfChannels;s++)t[s]=this.getChannelData(s);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){Qt(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),a=Math.floor(t*this.sampleRate);Qt(s<a,"The start time must be less than the end time");const o=a-s,u=lo().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)u.copyToChannel(this.getChannelData(c).subarray(s,a),c);return new Tr(u)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Tr().fromArray(e)}static fromUrl(e){return ys(this,void 0,void 0,function*(){return yield new Tr().load(e)})}static load(e){return ys(this,void 0,void 0,function*(){const t=Tr.baseUrl===""||Tr.baseUrl.endsWith("/")?Tr.baseUrl:Tr.baseUrl+"/",s=yield fetch(t+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const a=yield s.arrayBuffer();return yield lo().decodeAudioData(a)})}static supportsType(e){const t=e.split("."),s=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return ys(this,void 0,void 0,function*(){for(yield Promise.resolve();Tr.downloads.length;)yield Tr.downloads[0]})}}Tr.baseUrl="";Tr.downloads=[];class Qg extends Zg{constructor(){super({clockSource:"offline",context:q1(arguments[0])?arguments[0]:_T(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:q1(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=q1(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return ys(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const s=Math.floor(this.sampleRate/128);e&&t%s===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return ys(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new Tr(t)})}close(){return Promise.resolve()}}const j3=new OT;let hu=j3;function lo(){return hu===j3&&ST&&DT(new Zg),hu}function DT(n,e=!1){e&&hu.dispose(),vh(n)?hu=new Zg(n):q1(n)?hu=new Qg(n):hu=n}function Su(){return hu.resume()}if(ca&&!ca.TONE_SILENCE_LOGGING){const e=` * Tone.js v${jx} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function RT(n){return Math.pow(10,n/20)}function IT(n){return 20*(Math.log(n)/Math.LN10)}function E3(n){return Math.pow(2,n/12)}let Vp=440;function VT(){return Vp}function FT(n){Vp=n}function fu(n){return Math.round(M3(n))}function M3(n){return 69+12*Math.log2(n/Vp)}function L3(n){return Vp*Math.pow(2,(n-69)/12)}class Jg extends Dl{constructor(e,t,s){super(),this.defaultUnits="s",this._val=t,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const s=parseInt(e,10),a=t==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/s)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,s)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a+=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(a+=this._beatsToUnits(parseFloat(s)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Jg&&this.fromType(this._val),Ma(this._val))return this._noArg();if(El(this._val)&&Ma(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(pu(this._val)){let e=0;for(const t in this._val)if(On(this._val[t])){const s=this._val[t],a=new this.constructor(this.context,t).valueOf()*s;e+=a}return e}if(On(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return El(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class co extends Jg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new co(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const s=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),c=Math.round(a/s)*s-a;return a+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let o=1;o<9;o++){const u=Math.pow(2,o);t.push(u+"n."),t.push(u+"n"),t.push(u+"t")}t.push("0");let s=t[0],a=new co(this.context,t[0]).toSeconds();return t.forEach(o=>{const u=new co(this.context,o).toSeconds();Math.abs(u-e)<Math.abs(a-e)&&(s=o,a=u)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const s=Math.floor(t/this._getTimeSignature());let a=t%1*4;t=Math.floor(t)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[s,t,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return fu(this.toFrequency())}_now(){return this.context.now()}}class ua extends co{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return VT()}static set A4(e){FT(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:ua.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const a=BT[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?a:ua.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,s){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a*=this._beatsToUnits(parseFloat(t))),s&&s!=="0"&&(a*=this._beatsToUnits(parseFloat(s)/4)),a}}})}transpose(e){return new ua(this.context,this.valueOf()*E3(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return fu(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/ua.A4);let s=Math.round(12*t)+57;const a=Math.floor(s/12);return a<0&&(s+=-12*a),zT[s%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return L3(e)}static ftom(e){return fu(e)}}const BT={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},zT=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Gf extends co{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Hi extends Dl{constructor(){super();const e=Xt(Hi.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:lo()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return yT(e),new co(this.context,e).toSeconds()}toFrequency(e){return new ua(this.context,e).toFrequency()}toTicks(e){return new Gf(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(s=>{Ma(e[s])&&delete t[s]}),t}get(){const e=jT(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const s=this[t];On(s)&&On(s.value)&&On(s.setValueAtTime)?e[t]=s.value:s instanceof Hi?e[t]=s._getPartialProperties(e[t]):fa(s)||jl(s)||El(s)||vT(s)?e[t]=s:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&On(this[t])&&(this[t]&&On(this[t].value)&&On(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Hi?this[t].set(e[t]):this[t]=e[t])}),this}}class e2 extends La{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,s){return Ml(t,0),this.add(Object.assign({},s,{state:e,time:t})),this}getLastState(e,t){const s=this._search(t);for(let a=s;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,t){const s=this._search(t);if(s!==-1)for(let a=s;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class br extends Hi{constructor(){const e=Xt(br.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Qt(On(e.param)&&(vu(e.param)||e.param instanceof br),"param must be an AudioParam");!vu(e.param);)e.param=e.param._param;this._swappable=On(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new La(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,On(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Hi.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return On(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return On(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return On(this.maxValue)&&On(this.minValue)&&Ml(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?RT(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?IT(e):e}setValueAtTime(e,t){const s=this.toSeconds(t),a=this._fromType(e);return Qt(isFinite(a)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,s),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),s=this._events.getAfter(t),a=this._events.get(t);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const u=this._events.getBefore(a.time);let c;u===null?c=this._initialValue:c=u.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,t))}else if(s===null)o=a.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let u=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?u=this._initialValue:u=c.value}s.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,u,s.time,s.value,t):o=this._exponentialInterpolate(a.time,u,s.time,s.value,t)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const s=this._fromType(e),a=this.toSeconds(t);return Qt(isFinite(s)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this._events.add({time:a,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(s,a),this}exponentialRampToValueAtTime(e,t){let s=this._fromType(e);s=ao(s,0)?this._minOutput:s,this._assertRange(s);const a=this.toSeconds(t);return Qt(isFinite(s)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(s,a),this}exponentialRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(t)),this}linearRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(t)),this}targetRampTo(e,t,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,t),this}exponentialApproachValueAtTime(e,t,s){t=this.toSeconds(t),s=this.toSeconds(s);const a=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,t,a),this.cancelAndHoldAtTime(t+s*.9),this.linearRampToValueAtTime(e,t+s),this}setTargetAtTime(e,t,s){const a=this._fromType(e);Qt(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(t);return this._assertRange(a),Qt(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:s,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,s),this._param.setTargetAtTime(a,o,s),this}setValueCurveAtTime(e,t,s,a=1){s=this.toSeconds(s),t=this.toSeconds(t);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),t);const u=s/(e.length-1);for(let c=1;c<e.length;c++){const f=this._fromType(e[c])*a;this.linearRampToValueAtTime(this._toType(f),t+c*u)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return Qt(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),s=this._fromType(this.getValueAtTime(t));Qt(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+s);const a=this._events.get(t),o=this._events.getAfter(t);return a&&ao(a.time,t)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),t):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),t)),this._events.add({time:t,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,t),this}rampTo(e,t=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,s):this.linearRampTo(e,t,s),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const s=this._events.get(t);if(s&&s.type==="setTargetAtTime"){const a=this._events.getAfter(s.time),o=a?a.time:t+2,u=(o-t)/10;for(let c=t;c<o;c+=u)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){Qt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,s,a,o){return s+(t-s)*Math.exp(-(o-e)/a)}_linearInterpolate(e,t,s,a,o){return t+(a-t)*((o-e)/(s-e))}_exponentialInterpolate(e,t,s,a,o){return t*Math.pow(a/t,(o-e)/(s-e))}}class on extends Hi{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return On(this.input)?vu(this.input)||this.input instanceof br?1:this.input.numberOfInputs:0}get numberOfOutputs(){return On(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return On(e)&&(e instanceof on||Nc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Qt(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,s=0){return Yh(this,e,t,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Dp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,s=0){return PT(this,e,t,s),this}chain(...e){return id(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),On(this.input)&&(this.input instanceof on?this.input.dispose():Nc(this.input)&&this.input.disconnect()),On(this.output)&&(this.output instanceof on?this.output.dispose():Nc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function id(...n){const e=n.shift();n.reduce((t,s)=>(t instanceof on?t.connect(s):Nc(t)&&Yh(t,s),s),e)}function Yh(n,e,t=0,s=0){for(Qt(On(n),"Cannot connect from undefined node"),Qt(On(e),"Cannot connect to undefined node"),(e instanceof on||Nc(e))&&Qt(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Qt(n.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof on||e instanceof br;)On(e.input)&&(e=e.input);for(;n instanceof on;)On(n.output)&&(n=n.output);vu(e)?n.connect(e,t):n.connect(e,t,s)}function PT(n,e,t=0,s=0){if(On(e))for(;e instanceof on;)e=e.input;for(;!Nc(n);)On(n.output)&&(n=n.output);vu(e)?n.disconnect(e,t):Nc(e)?n.disconnect(e,t,s):n.disconnect()}class ws extends on{constructor(){const e=Xt(ws.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new br({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),jr(this,"gain")}static getDefaults(){return Object.assign(on.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Vh extends on{constructor(e){super(e),this.onended=hr,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ws({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const s=this.toSeconds(t);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(on.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:hr})}_startGain(e,t=1){Qt(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+s):this._gainNode.gain.exponentialApproachValueAtTime(t,e,s)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Qt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==hr&&(this.onended(this),this.onended=hr,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Qt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=hr,this}}class t2 extends Vh{constructor(){const e=Xt(t2.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Yh(this._source,this._gainNode),this.offset=new br({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Vh.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class vr extends on{constructor(){const e=Xt(vr.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new t2({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(on.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,s=0){return n2(this,e,t,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,s){return this._param.exponentialRampTo(e,t,s),this}linearRampTo(e,t,s){return this._param.linearRampTo(e,t,s),this}targetRampTo(e,t,s){return this._param.targetRampTo(e,t,s),this}exponentialApproachValueAtTime(e,t,s){return this._param.exponentialApproachValueAtTime(e,t,s),this}setTargetAtTime(e,t,s){return this._param.setTargetAtTime(e,t,s),this}setValueCurveAtTime(e,t,s,a){return this._param.setValueCurveAtTime(e,t,s,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,s){return this._param.rampTo(e,t,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function n2(n,e,t,s){(e instanceof br||vu(e)||e instanceof vr&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof vr&&(e.overridden=!0)),Yh(n,e,t,s)}class r2 extends br{constructor(){const e=Xt(r2.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new La(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(br.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,s){t=this.toSeconds(t),this.setRampPoint(t);const a=this._fromType(e),o=this._events.get(t),u=Math.round(Math.max(1/s,1));for(let c=0;c<=u;c++){const f=s*c+t,d=this._exponentialApproach(o.time,o.value,a,s,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(e,t){const s=this.toSeconds(t);super.setValueAtTime(e,t);const a=this._events.get(s),o=this._events.previousEvent(a),u=this._getTicksUntilEvent(o,s);return a.ticks=Math.max(u,0),this}linearRampToValueAtTime(e,t){const s=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const a=this._events.get(s),o=this._events.previousEvent(a),u=this._getTicksUntilEvent(o,s);return a.ticks=Math.max(u,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const s=this._fromType(e),a=this._events.get(t),o=Math.round(Math.max((t-a.time)*10,1)),u=(t-a.time)/o;for(let c=0;c<=o;c++){const f=u*c+a.time,d=this._exponentialInterpolate(a.time,a.value,t,s,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ma(e.ticks)){const u=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(u,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(t));const o=this._events.get(t);return o&&o.time===t&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(s+a)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),s=this._events.get(t);return Math.max(this._getTicksUntilEvent(s,t),0)}getDurationOfTicks(e,t){const s=this.toSeconds(t),a=this.getTicksAtTime(t);return this.getTimeOfTick(a+e)-s}getTimeOfTick(e){const t=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&s&&s.type==="linearRampToValueAtTime"&&t.value!==s.value){const a=this._fromType(this.getValueAtTime(t.time)),u=(this._fromType(this.getValueAtTime(s.time))-a)/(s.time-t.time),c=Math.sqrt(Math.pow(a,2)-2*u*(t.ticks-e)),f=(-a+c)/u,d=(-a-c)/u;return(f>0?f:d)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const s=this.toSeconds(t),a=this.toSeconds(e),o=this.getTicksAtTime(s);return this.getTicksAtTime(s+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class s2 extends vr{constructor(){const e=Xt(s2.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new r2({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(vr.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class i2 extends Hi{constructor(){const e=Xt(i2.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new e2,this._tickOffset=new La,this._ticksAtTime=new La,this._secondsAtTime=new La,this.frequency=new s2({context:this.context,units:e.units,value:e.frequency}),jr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Hi.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),On(t)&&this.setTicksAtTime(t,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const s=this._state.get(t);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),s=this._state.getLastState("stopped",t),a=this._ticksAtTime.get(t),o={state:"paused",time:t};this._state.add(o);let u=a||s,c=a?a.ticks:0,f=null;return this._state.forEachBetween(u.time,t+this.sampleTime,d=>{let p=u.time;const y=this._tickOffset.get(d.time);y&&y.time>=u.time&&(c=y.ticks,p=y.time),u.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(p),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),u=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),s=this.frequency.timeToTicks(e,t);this.setTicksAtTime(s,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const a=this._secondsAtTime.get(e);let o=a||t,u=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,e+this.sampleTime,f=>{let d=o.time;const p=this._tickOffset.get(f.time);p&&p.time>=o.time&&(u=p.seconds,d=p.time),o.state==="started"&&f.state!=="started"&&(u+=f.time-d,f.time!==s.time&&(c={state:f.state,time:f.time,seconds:u})),o=f}),this._state.remove(s),c&&this._secondsAtTime.add(c),u}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const s=this._tickOffset.get(t),a=this._state.get(t),o=Math.max(s.time,a.time),u=this.frequency.getTicksAtTime(o)+e-s.ticks;return this.frequency.getTimeOfTick(u)}forEachTickBetween(e,t,s){let a=this._state.get(e);this._state.forEachBetween(e,t,u=>{a&&a.state==="started"&&u.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),u.time-this.sampleTime,s),a=u});let o=null;if(a&&a.state==="started"){const u=Math.max(a.time,e),c=this.frequency.getTicksAtTime(u),f=this.frequency.getTicksAtTime(a.time),d=c-f;let p=Math.ceil(d)-d;p=ao(p,1)?0:p;let y=this.frequency.getTimeOfTick(c+p);for(;y<t;){try{s(y,Math.round(this.getTicksAtTime(y)))}catch(_){o=_;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}let O3=class D3 extends Hi{constructor(){const e=Xt(D3.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=hr,this._lastUpdate=0,this._state=new e2("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new i2({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,jr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Hi.getDefaults(),{callback:hr,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){_3(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,t),s<this._lastUpdate&&this.emit("start",s,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const s=this.toSeconds(t),a=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(a+e,s)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,s=>{switch(s.state){case"started":const a=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,a);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,t,(s,a)=>{this.callback(s,a)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};Sd.mixin(O3);class $h extends on{constructor(){const e=Xt($h.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new ws({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,jr(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(on.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class a2 extends on{constructor(){const e=Xt(a2.getDefaults(),arguments);super(e),this.name="Destination",this.input=new $h({context:this.context}),this.output=new ws({context:this.context}),this.volume=this.input.volume,id(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(on.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),id(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Rp(n=>{n.destination=new a2({context:n})});Ip(n=>{n.destination.dispose()});class qT extends on{constructor(){super(...arguments),this.name="Listener",this.positionX=new br({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new br({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new br({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new br({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new br({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new br({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new br({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new br({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new br({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(on.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Rp(n=>{n.listener=new qT({context:n})});Ip(n=>{n.listener.dispose()});class o2 extends Dl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Xt(o2.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const s=e.urls[t];this.add(t,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:hr,onload:hr,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Qt(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,s=hr,a=hr){return El(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Tr(this.baseUrl+t,s,a))):this._buffers.set(e.toString(),new Tr(t,s,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class cp extends ua{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return fu(super._frequencyToUnits(e))}_ticksToUnits(e){return fu(super._ticksToUnits(e))}_beatsToUnits(e){return fu(super._beatsToUnits(e))}_secondsToUnits(e){return fu(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return L3(this.toMidi())}transpose(e){return new cp(this.context,this.toMidi()+e)}}class _h extends Gf{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class UT extends Hi{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new La,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Rp(n=>{n.draw=new UT({context:n})});Ip(n=>{n.draw.dispose()});class HT extends Dl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Qt(On(e.time),"Events must have a time property"),Qt(On(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new WT(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const s of t)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let s,a=null;if(t>0)if(e.left.right===null)s=e.left,s.right=e.right,a=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,a=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,a=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,a=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const t=e.parent,s=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),t!==null?s?t.left=a:t.right=a:this._setRoot(a)}_rotateRight(e){const t=e.parent,s=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),t!==null?s?t.left=a:t.right=a:this._setRoot(a)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let s=t[0];for(let a=1;a<t.length;a++)t[a].low>s.low&&(s=t[a]);return s.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(s=>t.push(s)),t.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(a=>{a.event&&t(a.event)})}return this}forEachFrom(e,t){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(a=>{a.event&&t(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class WT{constructor(e,t,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class GT extends Dl{constructor(e){super(),this.name="TimelineValue",this._timeline=new La({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class Ac extends on{constructor(){super(Xt(Ac.getDefaults(),arguments,["context"]))}connect(e,t=0,s=0){return n2(this,e,t,s),this}}class Nd extends Ac{constructor(){const e=Xt(Nd.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,fa(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):bT(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(vr.getDefaults(),{length:1024})}setMap(e,t=1024){const s=new Float32Array(t);for(let a=0,o=t;a<o;a++){const u=a/(o-1)*2-1;s[a]=e(u,a)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(s=>s.includes(e));Qt(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Fp extends Ac{constructor(){const e=Xt(Fp.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Nd({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Ac.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Tc{constructor(e,t){this.id=Tc._eventId++,this._remainderTime=0;const s=Object.assign(Tc.getDefaults(),t);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:hr,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Tc._eventId=0;class l2 extends Tc{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(l2.getDefaults(),t);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Tc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return lp(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new _h(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){lp(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new _h(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Ih(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Bp extends Hi{constructor(){const e=Xt(Bp.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new GT(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new La,this._repeatedEvents=new HT,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new O3({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),jr(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Hi.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const s=t%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(s*Math.PI)*this._swingAmount;e+=new _h(this.context,this._swingTicks*2/3).toSeconds()*a}Dv(!0),this._timeline.forEachAtTime(t,s=>s.invoke(e)),Dv(!1)}schedule(e,t){const s=new Tc(this,{callback:e,time:new Gf(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,t,s,a=1/0){const o=new l2(this,{callback:e,duration:new co(this.context,a).toTicks(),interval:new co(this.context,t).toTicks(),time:new Gf(this.context,s).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,t){const s=new Tc(this,{callback:e,once:!0,time:new Gf(this.context,t).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(t,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new _h(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let s;return On(t)&&(s=this.toTicks(t)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){fa(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new co(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new co(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new _h(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new _h(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),s=this._clock.frequency.timeToTicks(e,t);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(t),a=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,t),o=t+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),s=this.getTicksAtTime(t),a=e-s%e;return this._clock.nextTickTime(a,t)}}syncSignal(e,t){const s=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(s)/this.PPQ),u=[];if(e.units==="time"){const f=.015625/o,d=new ws(f),p=new Fp(-1),y=new ws(f);a.chain(d,p,y),a=y,o=1/o,u=[d,p,y]}t||(e.getValueAtTime(s)!==0?t=e.getValueAtTime(s)/o:t=0);const c=new ws(t);return a.connect(c),c.connect(e._param),u.push(c),this._syncedSignals.push({initial:e.value,nodes:u,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const s=this._syncedSignals[t];s.signal===e&&(s.nodes.forEach(a=>a.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Kg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Sd.mixin(Bp);Rp(n=>{n.transport=new Bp({context:n})});Ip(n=>{n.transport.dispose()});class hi extends on{constructor(e){super(e),this.input=void 0,this._state=new e2("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=hr,this._syncedStop=hr,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new $h({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,jr(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(on.getDefaults(),{mute:!1,onstop:hr,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,s){let a=Ma(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")Qt(Ih(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,t,s);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(Th(t,0)),o.duration=s?this.toSeconds(s):void 0);const u=this.context.transport.schedule(c=>{this._start(c,t,s)},a);this._scheduled.push(u),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else _3(this.context),this._start(a,t,s);return this}stop(e){let t=Ma(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||On(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const s=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(s)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Ih(t,0)){const s=this._state.get(t);if(s&&s.state==="started"&&s.time!==t){const a=t-this.toSeconds(s.time);let o;s.duration&&(o=this.toSeconds(s.duration)-a),this._start(e,this.toSeconds(s.offset)+a,o)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=hr,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class zp extends Vh{constructor(){const e=Xt(zp.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Yh(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new br({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Tr(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Vh.getDefaults(),{url:new Tr,loop:!1,loopEnd:0,loopStart:0,onload:hr,onerror:hr,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,s,a=1){Qt(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?t=Th(t,this.loopStart):t=Th(t,0);let u=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;tg(u,c)&&(u=(u-f)%d+f),ao(u,this.buffer.duration)&&(u=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,lp(u,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,u)),On(s)){let c=this.toSeconds(s);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Nu(n,e){return ys(this,void 0,void 0,function*(){const t=e/n.context.sampleRate,s=new Qg(1,t,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/t,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class c2 extends Vh{constructor(){const e=Xt(c2.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Yh(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new br({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new br({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),jr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Vh.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class vs extends hi{constructor(){const e=Xt(vs.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new vr({context:this.context,units:"frequency",value:e.frequency}),jr(this,"frequency"),this.detune=new vr({context:this.context,units:"cents",value:e.detune}),jr(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(hi.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),s=new c2({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return vs._periodicWaveCache.find(t=>t.phase===this._phase&&kT(t.partials,this._partials));{const e=vs._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(On(s)){const{partials:a,wave:o}=s;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),u=this.context.createPeriodicWave(a,o);this._wave=u,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),vs._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),vs._periodicWaveCache.length>100&&vs._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Ml(e,0);let t=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(t=s[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,u)=>a[u]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,t){let a=2048;const o=new Float32Array(a),u=new Float32Array(a);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,u]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let p;switch(e){case"sine":p=f<=c?1:0,this._partials[f-1]=p;break;case"square":p=f&1?2*d:0,this._partials[f-1]=p;break;case"sawtooth":p=d*(f&1?1:-1),this._partials[f-1]=p;break;case"triangle":f&1?p=2*(d*d)*(f-1>>1&1?-1:1):p=0,this._partials[f-1]=p;break;case"custom":p=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}p!==0?(o[f]=-p*Math.sin(t*f),u[f]=p*Math.cos(t*f)):(o[f]=0,u[f]=0)}return[o,u]}_inverseFFT(e,t,s){let a=0;const o=e.length;for(let u=0;u<o;u++)a+=e[u]*Math.cos(u*s)+t[u]*Math.sin(u*s);return a}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let s=0;const a=Math.PI*2,o=32;for(let u=0;u<o;u++)s=Math.max(this._inverseFFT(e,t,u/o*a),s);return ET(-this._inverseFFT(e,t,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return ys(this,arguments,void 0,function*(e=1024){return Nu(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}vs._periodicWaveCache=[];class R3 extends Ac{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Nd({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ll extends vr{constructor(){const e=Xt(Ll.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new ws({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(vr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Pp extends hi{constructor(){const e=Xt(Pp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new R3({context:this.context}),this._modulationNode=new ws({context:this.context}),this._carrier=new vs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new vs({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ll({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),jr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(vs.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return ys(this,arguments,void 0,function*(e=1024){return Nu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class qp extends hi{constructor(){const e=Xt(qp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new ws({context:this.context,gain:0}),this._carrier=new vs({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new vr({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new vs({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Ll({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Ll({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),jr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(vs.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return ys(this,arguments,void 0,function*(e=1024){return Nu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Ad extends hi{constructor(){const e=Xt(Ad.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new ws({context:this.context,gain:0}),this._thresh=new Nd({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new vr({context:this.context,units:"audioRange",value:e.width}),this._triangle=new vs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),jr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(hi.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return ys(this,arguments,void 0,function*(e=1024){return Nu(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Up extends hi{constructor(){const e=Xt(Up.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new vr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new vr({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,jr(this,["frequency","detune"])}static getDefaults(){return Object.assign(vs.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,s=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=t+s*o)}}get count(){return this._oscillators.length}set count(e){if(Ml(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const s=new vs({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):hr});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[t]=s}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,s)=>t.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return ys(this,arguments,void 0,function*(e=1024){return Nu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Hp extends hi{constructor(){const e=Xt(Hp.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Ll({context:this.context,value:2}),this._pulse=new Ad({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new vs({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),jr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(hi.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return ys(this,arguments,void 0,function*(e=1024){return Nu(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Rv={am:Pp,fat:Up,fm:qp,oscillator:vs,pulse:Ad,pwm:Hp};class Cc extends hi{constructor(){const e=Xt(Cc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new vr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new vr({context:this.context,units:"cents",value:e.detune}),jr(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(vs.getDefaults(),qp.getDefaults(),Pp.getDefaults(),Up.getDefaults(),Ad.getDefaults(),Hp.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=Rv[e],s=this.now();if(this._oscillator){const a=this._oscillator;a.stop(s),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof Rv[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&jl(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&jl(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&El(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return ys(this,arguments,void 0,function*(e=1024){return Nu(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class u2 extends vr{constructor(){super(Xt(u2.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new ws({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,id(this._constantSource,this._sum)}static getDefaults(){return Object.assign(vr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class h2 extends Ac{constructor(){const e=Xt(h2.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new Ll({context:this.context,value:e.max-e.min}),this._add=this.output=new u2({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Ac.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function I3(n,e=1/0){const t=new WeakMap;return function(s,a){Reflect.defineProperty(s,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){Ml(o,n,e),t.set(this,o)}})}}function Rl(n,e=1/0){const t=new WeakMap;return function(s,a){Reflect.defineProperty(s,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){Ml(this.toSeconds(o),n,e),t.set(this,o)}})}}class Wp extends hi{constructor(){const e=Xt(Wp.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Tr({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(hi.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:hr,onerror:hr,playbackRate:1,reverse:!1})}load(e){return ys(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=hr){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,s){return super.start(e,t,s),this}_start(e,t,s){this._loop?t=Th(t,this._loopStart):t=Th(t,0);const a=this.toSeconds(t),o=s;s=Th(s,Math.max(this._buffer.duration-a,0));let u=this.toSeconds(s);u=u/this._playbackRate,e=this.toSeconds(e);const c=new zp({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+u),this._state.setStateAtTime("stopped",e+u,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&Ma(o)?c.start(e,a):c.start(e,a,u-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(t))}restart(e,t,s){return super.restart(e,t,s),this}_restart(e,t,s){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,t,s)}seek(e,t){const s=this.toSeconds(t);if(this._state.getValueAtTime(s)==="started"){const a=this.toSeconds(e);this._stop(s),this._start(s,a)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Ml(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Ml(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),s=this._state.getNextState("stopped",t);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}bo([Rl(0)],Wp.prototype,"fadeIn",void 0);bo([Rl(0)],Wp.prototype,"fadeOut",void 0);class da extends on{constructor(){const e=Xt(da.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new vr({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(on.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(El(e))return e;{let s;for(s in C1)if(C1[s][t]===e)return s;return e}}_setCurve(e,t,s){if(El(s)&&Reflect.has(C1,s)){const a=C1[s];pu(a)?e!=="_decayCurve"&&(this[e]=a[t]):this[e]=a}else if(fa(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),u=this.getValueAtTime(e);if(u>0){const c=1/a;a=(1-u)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,a,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=u&&u<=c[f]){c=this._attackCurve.slice(f),c[0]=u;break}this._sig.setValueCurveAtTime(c,e,a,t)}if(o&&this.sustain<1){const c=t*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(Qt(fa(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,s=1){return t=this.toSeconds(t),this.triggerAttack(t,s),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,s=0){return n2(this,e,t,s),this}asArray(){return ys(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,s=new Qg(1,t,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),u=o*.1,c=o+u,f=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:s}));return f._sig.toDestination(),f.triggerAttackRelease(t*(a+u)/c,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}bo([Rl(0)],da.prototype,"attack",void 0);bo([Rl(0)],da.prototype,"decay",void 0);bo([I3(0,1)],da.prototype,"sustain",void 0);bo([Rl(0)],da.prototype,"release",void 0);const C1=(()=>{let e,t;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){t=e/127;const _=Math.sin(t*(Math.PI*2)*o-Math.PI/2)+1;a[e]=_/10+t*.83}a[127]=1;const u=[],c=5;for(e=0;e<128;e++)u[e]=Math.ceil(e/127*c)/c;const f=[];for(e=0;e<128;e++)t=e/127,f[e]=.5*(1-Math.cos(Math.PI*t));const d=[];for(e=0;e<128;e++){t=e/127;const _=Math.pow(t,3)*4+.2,v=Math.cos(_*Math.PI*2*t);d[e]=Math.abs(v*(1-t))}function p(_){const v=new Array(_.length);for(let A=0;A<_.length;A++)v[A]=1-_[A];return v}function y(_){return _.slice(0).reverse()}return{bounce:{In:p(d),Out:d},cosine:{In:s,Out:y(s)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:p(a)},sine:{In:f,Out:p(f)},step:{In:u,Out:p(u)}}})();class kc extends on{constructor(){const e=Xt(kc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new $h({context:this.context,volume:e.volume}),this.volume=this._volume.volume,jr(this,"volume")}static getDefaults(){return Object.assign(on.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const s=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[t],u=this.context.transport.schedule(c=>{a[t]=c,s.apply(this,a)},o);this._scheduledEvents.push(u)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,s,a){const o=this.toSeconds(s),u=this.toSeconds(t);return this.triggerAttack(e,o,a),this.triggerRelease(o+u),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class ho extends kc{constructor(){const e=Xt(ho.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(kc.getDefaults(),{detune:0,onsilence:hr,portamento:0})}triggerAttack(e,t,s=1){this.log("triggerAttack",e,t,s);const a=this.toSeconds(t);return this._triggerEnvelopeAttack(a,s),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const s=this.toSeconds(t),a=e instanceof ua?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,s)}else this.frequency.setValueAtTime(a,s);return this}}bo([Rl(0)],ho.prototype,"portamento",void 0);class Gp extends da{constructor(){super(Xt(Gp.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ws({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ea extends ho{constructor(){const e=Xt(Ea.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Cc(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Gp(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),jr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(ho.getDefaults(),{envelope:Object.assign(oo(da.getDefaults(),Object.keys(on.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(oo(Cc.getDefaults(),[...Object.keys(hi.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class ad extends ho{constructor(){const e=Xt(ad.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new Ea({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new Ea({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new vr({context:this.context,units:"frequency"}),this.detune=new vr({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new Ll({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new ws({context:this.context,gain:0}),jr(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(ho.getDefaults(),{harmonicity:3,oscillator:Object.assign(oo(Cc.getDefaults(),[...Object.keys(hi.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(oo(da.getDefaults(),Object.keys(on.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(oo(Cc.getDefaults(),[...Object.keys(hi.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(oo(da.getDefaults(),Object.keys(on.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class up extends ad{constructor(){super(Xt(up.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new R3({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class hp extends on{constructor(){const e=Xt(hp.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new br({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new br({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new br({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new br({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(on.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Qt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let u=0;u<e;u++){const f=Math.pow(u/e,2)*19980+20;t[u]=f}const s=new Float32Array(e),a=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(t,s,a),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class fp extends on{constructor(){const e=Xt(fp.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new ws({context:this.context}),this.output=new ws({context:this.context}),this._filters=[],this._filters=[],this.Q=new vr({context:this.context,units:"positive",value:e.Q}),this.frequency=new vr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new vr({context:this.context,units:"cents",value:e.detune}),this.gain=new vr({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,jr(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(on.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Qt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=jl(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let a=s.indexOf(t);Qt(a!==-1,`rolloff can only be ${s.join(", ")}`),a+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const u=new hp({context:this.context});u.type=this._type,this.frequency.connect(u.frequency),this.detune.connect(u.detune),this.Q.connect(u.Q),this.gain.connect(u.gain),this._filters[o]=u}this._internalChannels=this._filters,id(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new hp({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((o,u)=>s[u]*=o)}),t.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Kg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class dp extends da{constructor(){const e=Xt(dp.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Fp({context:this.context,value:e.exponent}),this._scale=this.output=new h2({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(da.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);Ml(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class pp extends ho{constructor(){const e=Xt(pp.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new Cc(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new fp(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new dp(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new Gp(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),jr(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(ho.getDefaults(),{envelope:Object.assign(oo(da.getDefaults(),Object.keys(on.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(oo(fp.getDefaults(),Object.keys(on.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(oo(dp.getDefaults(),Object.keys(on.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(oo(Cc.getDefaults(),Object.keys(hi.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Yf extends ad{constructor(){const e=Xt(Yf.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new Ll({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(ad.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class Yp extends Ea{constructor(){const e=Xt(Yp.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,jr(this,["oscillator","envelope"])}static getDefaults(){return mu(ho.getDefaults(),Ea.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const s=this.toSeconds(t),a=this.toFrequency(e instanceof ua?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,s),this.oscillator.frequency.exponentialRampToValueAtTime(a,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}bo([I3(0)],Yp.prototype,"octaves",void 0);bo([Rl(0)],Yp.prototype,"pitchDecay",void 0);const V3=new Set;function f2(n){V3.add(n)}function F3(n,e){const t=`registerProcessor("${n}", ${e})`;V3.add(t)}const YT=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;f2(YT);const $T=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;f2($T);const XT=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;f2(XT);const ZT="feedback-comb-filter",KT=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;F3(ZT,KT);class zi extends kc{constructor(){const e=Xt(zi.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),Qt(!jl(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const s=this._voices.indexOf(this._dummyVoice);this._voices.splice(s,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(kc.getDefaults(),{maxPolyphony:32,options:{},voice:Ea})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(s=>s.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Qt(e instanceof ho,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Dp("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,s){e.forEach(a=>{const o=new cp(this.context,a).toMidi(),u=this._getNextAvailableVoice();u&&(u.triggerAttack(a,t,s),this._activeVoices.push({midi:o,voice:u,released:!1}),this.log("triggerAttack",a,t))})}_triggerRelease(e,t){e.forEach(s=>{const a=new cp(this.context,s).toMidi(),o=this._activeVoices.find(({midi:u,released:c})=>u===a&&!c);o&&(o.voice.triggerRelease(t),o.released=!0,this.log("triggerRelease",s,t))})}_scheduleEvent(e,t,s,a){Qt(!this.disposed,"Synth was already disposed"),s<=this.now()?e==="attack"?this._triggerAttack(t,s,a):this._triggerRelease(t,s):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,s,a)},s-this.now())}triggerAttack(e,t,s){Array.isArray(e)||(e=[e]);const a=this.toSeconds(t);return this._scheduleEvent("attack",e,a,s),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const s=this.toSeconds(t);return this._scheduleEvent("release",e,s),this}triggerAttackRelease(e,t,s,a){const o=this.toSeconds(s);if(this.triggerAttack(e,o,a),fa(t)){Qt(fa(e),"If the duration is an array, the notes must also be an array"),e=e;for(let u=0;u<e.length;u++){const c=t[Math.min(u,t.length-1)],f=this.toSeconds(c);Qt(f>0,"The duration must be greater than 0"),this.triggerRelease(e[u],o+f)}}else{const u=this.toSeconds(t);Qt(u>0,"The duration must be greater than 0"),this.triggerRelease(e,o+u)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=oo(e,["onsilence","context"]);return this.options=mu(this.options,t),this._voices.forEach(s=>s.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:s})=>{s.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Td extends kc{constructor(){const e=Xt(Td.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(s=>{const a=parseInt(s,10);if(Qt(T1(s)||jl(a)&&isFinite(a),`url key is neither a note or midi pitch: ${s}`),T1(s)){const o=new ua(this.context,s).toMidi();t[o]=e.urls[s]}else jl(a)&&isFinite(a)&&(t[a]=e.urls[a])}),this._buffers=new o2({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(kc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:hr,onerror:hr,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,s=1){return this.log("triggerAttack",e,t,s),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=M3(new ua(this.context,a).toFrequency()),u=Math.round(o),c=o-u,f=this._findClosest(u),d=u-f,p=this._buffers.get(d),y=E3(f+c),_=new zp({url:p,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);_.start(t,0,p.duration/y,s),fa(this._activeSources.get(u))||this._activeSources.set(u,[]),this._activeSources.get(u).push(_),_.onended=()=>{if(this._activeSources&&this._activeSources.has(u)){const v=this._activeSources.get(u),A=v.indexOf(_);A!==-1&&v.splice(A,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(s=>{const a=new ua(this.context,s).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);t=this.toSeconds(t),o.forEach(u=>{u.stop(t)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,s,a=1){const o=this.toSeconds(s);return this.triggerAttack(e,o,a),fa(t)?(Qt(fa(e),"notes must be an array when duration is array"),e.forEach((u,c)=>{const f=t[Math.min(c,t.length-1)];this.triggerRelease(u,o+this.toSeconds(f))})):this.triggerRelease(e,o+this.toSeconds(t)),this}add(e,t,s){if(Qt(T1(e)||isFinite(e),`note must be a pitch or midi: ${e}`),T1(e)){const a=new ua(this.context,e).toMidi();this._buffers.add(a,t,s)}else this._buffers.add(e,t,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}bo([Rl(0)],Td.prototype,"attack",void 0);bo([Rl(0)],Td.prototype,"release",void 0);class d2 extends on{constructor(){const e=Xt(d2.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new br({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",jr(this,"pan")}static getDefaults(){return Object.assign(on.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const QT="bit-crusher",JT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;F3(QT,JT);class bs extends on{constructor(){const e=Xt(bs.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new ws({context:this.context}),bs._allSolos.has(this.context)||bs._allSolos.set(this.context,new Set),bs._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(on.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),bs._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){bs._soloed.has(this.context)||bs._soloed.set(this.context,new Set),bs._soloed.get(this.context).add(this)}_removeSolo(){bs._soloed.has(this.context)&&bs._soloed.get(this.context).delete(this)}_isSoloed(){return bs._soloed.has(this.context)&&bs._soloed.get(this.context).has(this)}_noSolos(){return!bs._soloed.has(this.context)||bs._soloed.has(this.context)&&bs._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),bs._allSolos.get(this.context).delete(this),this._removeSolo(),this}}bs._allSolos=new Map;bs._soloed=new Map;class p2 extends on{constructor(){const e=Xt(p2.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new d2({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new $h({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,jr(this,["pan","volume"])}static getDefaults(){return Object.assign(on.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Sh extends on{constructor(){const e=Xt(Sh.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new bs({solo:e.solo,context:this.context}),this._panVol=this.output=new p2({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),jr(this,["pan","volume"])}static getDefaults(){return Object.assign(on.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Sh.buses.has(e)||Sh.buses.set(e,new ws({context:this.context})),Sh.buses.get(e)}send(e,t=0){const s=this._getBus(e),a=new ws({context:this.context,units:"decibels",gain:t});return this.connect(a),a.connect(s),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Sh.buses=new Map;const Ui=lo().transport,B3=lo().destination;lo().destination;lo().listener;lo().draw;const xs=lo();function eC(){return Tr.loaded()}const k1=({cx:n,cy:e,innerRadius:t,outerRadius:s,startAngle:a,endAngle:o,color:u,label:c,chord:f,isSelected:d,isDiatonic:p,isSecondary:y=!1,onClick:_,onDoubleClick:v,ringType:A="major",wheelRotation:N=0,romanNumeral:k,voicingSuggestion:C,segmentId:R="seg",onHover:D})=>{const V=uS(n,e,t,s,a,o),F=(a+o)/2,Y=Kn.useRef(0),H=Kn.useRef(null),[E,B]=Kn.useState(!1),te=Kn.useRef(null),j=Kn.useRef(!1),I=Kn.useRef(!1),ee=-N,U=s-t,oe=t+U*.5,$=t+U*.18,ne=_c(n,e,oe,F),le=_c(n,e,$,F),fe=s-6,be=cS(n,e,fe,a+1,o-1),G=`voicing-arc-${R}`,L=`clip-${R}`,W=(()=>{let Ue=.35,ct=.5;p?(Ue=1,ct=1):y&&(Ue=.7,ct=.65);const at=u.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(at){const ze=parseInt(at[1]),it=Math.round(parseInt(at[2])*ct),rt=parseInt(at[3]);let ut=rt;return A==="minor"?ut=Math.max(rt-8,30):A==="diminished"&&(ut=Math.max(rt-15,25)),{fill:`hsl(${ze}, ${it}%, ${ut}%)`,opacity:Ue}}return{fill:u,opacity:Ue}})(),Q=()=>A==="diminished"?"10px":A==="minor"?"12px":"14px",se=p||y,pe=se?"#000000":"rgba(255,255,255,0.7)",de=p?"bold":y?"600":"normal",xe=A==="diminished"||A==="minor"?"6px":"8px",we=A==="major"?se?6:5:A==="minor"?se?4:3.25:se?3.5:3,Fe=se?1:.95,Ye=Ue=>{if(B(!0),Ue.touches.length>=2){I.current=!0,te.current=null;return}Ue.touches.length===1&&!I.current&&(te.current={x:Ue.touches[0].clientX,y:Ue.touches[0].clientY},j.current=!1)},Ze=Ue=>{if(Ue.touches.length>=2){I.current=!0,j.current=!0;return}if(te.current&&Ue.touches.length===1&&!I.current){const ct=Ue.touches[0],at=ct.clientX-te.current.x,ze=ct.clientY-te.current.y;Math.sqrt(at*at+ze*ze)>15&&(j.current=!0)}},lt=async Ue=>{Ue.preventDefault(),Ue.stopPropagation(),B(!1);const ct=I.current,at=j.current;if(te.current=null,j.current=!1,Ue.touches.length===0&&(I.current=!1),ct||at)return;xs.state!=="running"&&await Su();const ze=Date.now(),it=ze-Y.current;H.current&&(clearTimeout(H.current),H.current=null),it<300&&it>0?(Y.current=0,v&&v(f)):(Y.current=ze,H.current=setTimeout(()=>{_(f),H.current=null},300))},z=()=>{B(!1),te.current=null,j.current=!1,I.current=!1,H.current&&(clearTimeout(H.current),H.current=null)},Ne=Ue=>{Ue.stopPropagation(),Be.current&&(clearTimeout(Be.current),Be.current=null),D&&D(null,0,0),_(f)},nt=Ue=>{Ue.stopPropagation(),Be.current&&(clearTimeout(Be.current),Be.current=null),D&&D(null,0,0),v&&v(f)},Be=Kn.useRef(null),je=Ue=>{if(!D)return;const ct=Ue.clientX,at=Ue.clientY;Be.current=setTimeout(()=>{D("Select a chord slot in the timeline, then double-click a chord or chord voicing to add to the timeline.",ct,at)},3e3)},et=()=>{Be.current&&(clearTimeout(Be.current),Be.current=null),D&&D(null,0,0)};return b.jsxs("g",{className:Ht("cursor-pointer transition-all duration-200",!se&&"hover:opacity-70",E&&"opacity-80"),onClick:Ne,onDoubleClick:nt,onTouchStart:Ye,onTouchMove:Ze,onTouchEnd:lt,onTouchCancel:z,onMouseEnter:je,onMouseLeave:et,style:{pointerEvents:"all",WebkitTapHighlightColor:"transparent"},children:[(p||y)&&C&&b.jsx("defs",{children:b.jsx("path",{id:G,d:be,fill:"none"})}),b.jsx("defs",{children:b.jsx("clipPath",{id:L,children:b.jsx("path",{d:V})})}),b.jsx("path",{d:V,fill:W.fill,opacity:W.opacity,stroke:k==="I"?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",strokeWidth:k==="I"?2.5:1,className:Ht("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",se&&"hover:brightness-105"),style:{pointerEvents:"all"}}),d&&b.jsx("path",{d:V,fill:"none",stroke:"white",strokeWidth:we,opacity:Fe,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${L})`}),(p||y)&&C&&A==="major"&&b.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:b.jsx("textPath",{href:`#${G}`,startOffset:"50%",textAnchor:"middle",children:C})}),p&&C&&A==="minor"&&b.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:b.jsx("textPath",{href:`#${G}`,startOffset:"50%",textAnchor:"middle",children:C})}),p&&C&&A==="diminished"&&b.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:b.jsx("textPath",{href:`#${G}`,startOffset:"50%",textAnchor:"middle",children:C})}),b.jsx("text",{x:ne.x,y:ne.y,textAnchor:"middle",dominantBaseline:"middle",fill:pe,fontWeight:de,fontSize:Q(),className:"pointer-events-none select-none",transform:`rotate(${ee}, ${ne.x}, ${ne.y})`,children:Jn(c)}),(p||y)&&k&&b.jsx("text",{x:le.x,y:le.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:xe,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${ee}, ${le.x}, ${le.y})`,children:k})]})};const tC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Iv=n=>{const e=nC(n);return e.charAt(0).toUpperCase()+e.slice(1)},z3=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),rC=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var sC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iC=re.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:u,...c},f)=>re.createElement("svg",{ref:f,...sC,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:z3("lucide",a),...!o&&!rC(c)&&{"aria-hidden":"true"},...c},[...u.map(([d,p])=>re.createElement(d,p)),...Array.isArray(o)?o:[o]]));const dn=(n,e)=>{const t=re.forwardRef(({className:s,...a},o)=>re.createElement(iC,{ref:o,iconNode:e,className:z3(`lucide-${tC(Iv(n))}`,`lucide-${n}`,s),...a}));return t.displayName=Iv(n),t};const aC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$f=dn("chevron-down",aC);const oC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fh=dn("chevron-right",oC);const lC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Bh=dn("chevron-left",lC);const cC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],P3=dn("chevron-up",cC);const uC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],od=dn("circle-question-mark",uC);const hC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fC=dn("circle",hC);const dC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pC=dn("clock",dC);const mC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gC=dn("copy",mC);const bC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],m2=dn("download",bC);const vC=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],yC=dn("eraser",vC);const xC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],wC=dn("file-plus",xC);const _C=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],SC=dn("folder-open",_C);const NC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],q3=dn("grip-vertical",NC);const AC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],U3=dn("hand",AC);const TC=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],CC=dn("hash",TC);const kC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jC=dn("info",kC);const EC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],MC=dn("layers",EC);const LC=[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],H3=dn("list-music",LC);const OC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],DC=dn("loader-circle",OC);const RC=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],mp=dn("map",RC);const IC=[["path",{d:"M5 12h14",key:"1ays0h"}]],VC=dn("minus",IC);const FC=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],BC=dn("mouse-pointer-2",FC);const zC=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],W3=dn("music",zC);const PC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],G3=dn("panel-right-close",PC);const qC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],UC=dn("panel-right",qC);const HC=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Y3=dn("pause",HC);const WC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Xh=dn("play",WC);const GC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zh=dn("plus",GC);const YC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$C=dn("refresh-cw",YC);const XC=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Vv=dn("repeat",XC);const ZC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gp=dn("rotate-ccw",ZC);const KC=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],zh=dn("rotate-cw",KC);const QC=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fv=dn("save",QC);const JC=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Bv=dn("settings-2",JC);const ek=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],$3=dn("skip-back",ek);const tk=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],X3=dn("skip-forward",tk);const nk=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rk=dn("sparkles",nk);const sk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Z3=dn("square",sk);const ik=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ak=dn("tag",ik);const ok=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ng=dn("trash-2",ok);const lk=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],rg=dn("volume-2",lk);const ck=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],uk=dn("volume-x",ck);const hk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jc=dn("x",hk);const fk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],dk=dn("zoom-in",fk);const pk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],mk=dn("zoom-out",pk);let Ec={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},g2="piano",Pf=null,U1=[],bp={},zv=!1,Pi=null;const b2=()=>{if(Pi)return;if("audioSession"in navigator)try{navigator.audioSession.type="playback",console.log("[iOS Audio] Set audioSession.type to playback")}catch(t){console.warn("[iOS Audio] Could not set audioSession type:",t)}const n=["/+NIxAAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/","40jEAA8AAAANIAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV","VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU"].join("");Pi=document.createElement("audio"),Pi.src="data:audio/mpeg;base64,"+n,Pi.loop=!0,Pi.volume=.001,Pi.muted=!1,Pi.setAttribute("playsinline","true"),Pi.setAttribute("x-webkit-airplay","deny"),Pi.preload="auto",document.body.appendChild(Pi);const e=Pi.play();e!==void 0&&e.then(()=>{console.log("[iOS Audio] Silent media started - ringer switch workaround active")}).catch(t=>{console.log("[iOS Audio] Silent audio deferred until user gesture:",t.message)})},v2=async()=>{if(!zv){if(console.log("[iOS Audio] Starting unlock sequence..."),b2(),Pi&&Pi.paused)try{await Pi.play(),console.log("[iOS Audio] Silent audio now playing")}catch(n){console.warn("[iOS Audio] Silent audio play failed:",n)}try{await Su(),console.log("[iOS Audio] Tone.start() completed, state:",xs.state)}catch(n){console.warn("[iOS Audio] Tone.start() failed:",n)}if(xs.state!=="running")try{await xs.resume(),console.log("[iOS Audio] Context resumed, state:",xs.state)}catch(n){console.warn("[iOS Audio] Context resume failed:",n)}zv=!0,console.log("[iOS Audio] Unlock sequence complete")}},y2=n=>{n in Ec&&(g2=n)},K3=n=>{const e=n<=0?-1/0:20*Math.log10(n);try{B3.volume.rampTo(e,.1)}catch(t){console.error("Error setting volume:",t)}},Q3=n=>{B3.mute=n},Il=async()=>{if(Pf)return Pf;Pf=(async()=>{const n="https://tonejs.github.io/audio/salamander/",e=(t,s)=>{if(!Ec[t])try{const a=s();a&&(Ec[t]=a)}catch(a){console.error(`Failed to init instrument "${t}"`,a)}};e("piano",()=>new Td({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:n}).toDestination()),e("guitar",()=>new zi(Ea,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),e("organ",()=>new zi(up,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("synth",()=>new zi(Yf,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("epiano",()=>new zi(up,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),e("strings",()=>new zi(Ea,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),e("pad",()=>new zi(Yf,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),e("brass",()=>new zi(pp,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),e("marimba",()=>new zi(Ea,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),e("bell",()=>new zi(Yf,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),e("lead",()=>new zi(Ea,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),e("bass",()=>new zi(pp,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),e("choir",()=>new zi(Ea,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await eC()})();try{await Pf}catch(n){Pf=null,console.error("Failed to initialize audio",n)}},Pv=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Br=async(n,e="1n",t)=>{if(xs.state!=="running"&&await Su(),xs.state==="suspended"&&await xs.resume(),await Il(),!n||n.length===0)return;const s=n[0],a=Pv.indexOf(s.replace(/\d/,"")),o=n.map((c,f)=>{if(c.match(/\d/))return c;const d=c,p=Pv.indexOf(d);if(f===0)return`${d}3`;let y=3;return(p<a||p-a>6)&&(y=4),f>=4&&(y=4),f>=5&&(y=5),`${d}${y}`});let u=Ec[g2];if(u||(u=Ec.piano),!u){console.error("No instrument available to play!");return}try{u.triggerAttackRelease(o,e,t)}catch(c){console.error("Failed to play chord",c)}},J3=async(n,e=4,t="8n")=>{xs.state!=="running"&&await Su(),xs.state==="suspended"&&await xs.resume(),await Il();let s=Ec[g2];if(s||(s=Ec.piano),!s){console.error("No instrument available to play!");return}const a=`${n}${e}`;try{s.triggerAttackRelease(a,t)}catch(o){console.error(`Failed to play note ${a}`,o)}},ew=()=>{Object.values(Ec).forEach(t=>t?.releaseAll()),Ui.stop();const{setPlayingSlot:n,setIsPlaying:e}=an.getState();n(null,null),e(!1)},ld=n=>{const e=Math.floor(n/4),t=Math.floor(n%4),s=Math.floor(n%1*4);return`${e}:${t}:${s}`},x2=n=>{Ui.cancel(0),U1=[],bp={},Ui.timeSignature=4;let e=0;n.sections.forEach(s=>{bp[s.id]=e,s.measures.forEach(a=>{a.beats.forEach(o=>{const u=ld(e),c=o.duration,f=c*4,d=`${Math.floor(f/16)}:${Math.floor(f%16/4)}:${f%4}`,p=Ui.schedule(y=>{const v=Math.max(0,y-xs.currentTime)*1e3;setTimeout(()=>{an.getState().setPlayingSlot(s.id,o.id)},v),o.chord&&Br(o.chord.notes,d,y)},u);U1.push(p),e+=c})})});const t=Ui.schedule(()=>{an.getState().isLooping||ew()},ld(e));U1.push(t)},gk=async()=>{await Il()},tw=async()=>{await Il(),xs.state!=="running"&&await xs.resume();const{tempo:n,currentSong:e}=an.getState();Ui.bpm.value=n,U1.length===0&&x2(e),Ui.start()},nw=()=>{Ui.pause()},rw=n=>{Ui.bpm.value=n},sw=n=>{const{currentSong:e,playingSectionId:t}=an.getState(),s=e.sections.map(p=>p.id);let a=t?s.indexOf(t):-1;a===-1&&(a=0);let o=n==="next"?a+1:a-1;o>=s.length&&(o=0),o<0&&(o=0);const u=s[o],c=bp[u]||0,f=ld(c);Ui.position=f;const d=e.sections[o].measures[0]?.beats[0];d&&an.getState().setPlayingSlot(u,d.id)},iw=()=>{const{isLooping:n,playingSectionId:e,selectedSectionId:t,currentSong:s}=an.getState();if(n){const a=e||t,o=s.sections.find(u=>u.id===a);if(o){const u=bp[o.id]??0;let c=0;o.measures.forEach(d=>d.beats.forEach(p=>c+=p.duration));const f=u+c;Ui.loopStart=ld(u),Ui.loopEnd=ld(f),Ui.loop=!0;return}}Ui.loop=!1},sg=Object.freeze(Object.defineProperty({__proto__:null,initAudio:Il,pauseSong:nw,playChord:Br,playNote:J3,playSong:tw,preloadAudio:gk,scheduleSong:x2,setInstrument:y2,setMute:Q3,setTempo:rw,setVolume:K3,skipToSection:sw,startSilentAudioForIOS:b2,stopAudio:ew,toggleLoopMode:iw,unlockAudioForIOS:v2},Symbol.toStringTag,{value:"Module"})),vp=768;function w2(){const[n,e]=re.useState(()=>typeof window<"u"?window.innerWidth<vp:!1);return re.useEffect(()=>{const t=()=>e(window.innerWidth<vp);return window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),n}function Kh(){const[n,e]=re.useState(()=>typeof window<"u"?window.innerWidth<vp||window.innerHeight<500&&window.innerHeight<window.innerWidth:!1),[t,s]=re.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerHeight<500:!1);return re.useEffect(()=>{const a=()=>{const o=window.innerWidth,u=window.innerHeight,c=o<vp||u<500&&u<o,f=u<o&&u<500;e(c),s(f)};return window.addEventListener("resize",a),window.addEventListener("orientationchange",a),()=>{window.removeEventListener("resize",a),window.removeEventListener("orientationchange",a)}},[]),{isMobile:n,isLandscape:t}}var qo=Tx();const bk=7e3,vk=({isOpen:n,onClose:e,onSelect:t,onAddToTimeline:s,onOpenDetails:a,chordRoot:o,voicings:u,selectedQuality:c,portraitWithPanel:f=!1})=>{const d=re.useRef(null),{isMobile:p,isLandscape:y}=Kh(),_=p&&y,[v,A]=re.useState(c),N=re.useRef(null),k=re.useRef(null);re.useEffect(()=>{n&&A(c)},[n,c]);const C=re.useCallback(()=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{e()},bk)},[e]);if(re.useEffect(()=>(n&&C(),()=>{k.current&&clearTimeout(k.current)}),[n,C]),re.useEffect(()=>{if(!n)return;const D=F=>{d.current&&!d.current.contains(F.target)&&e()},V=setTimeout(()=>{document.addEventListener("mousedown",D),document.addEventListener("touchstart",D)},100);return()=>{clearTimeout(V),document.removeEventListener("mousedown",D),document.removeEventListener("touchstart",D)}},[n,e]),re.useEffect(()=>{if(!n)return;const D=V=>{V.key==="Escape"&&e()};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[n,e]),!n)return null;const R=D=>{const V=Date.now();if(C(),N.current&&N.current.quality===D&&V-N.current.time<400){s&&s(D),e(),N.current=null;return}const F=la(o,D);Br(F),A(D),t(D),N.current={quality:D,time:V}};return qo.createPortal(b.jsxs("div",{ref:d,className:Ht("fixed bg-bg-elevated border border-border-medium rounded-xl shadow-xl","flex flex-row flex-nowrap items-center justify-center","animate-in fade-in zoom-in-95 duration-150",u.length>5||_?"p-1 gap-1":"p-2 gap-2"),style:{bottom:_?"56px":f?"6%":p?"13%":"220px",top:"auto",..._?{left:"24%",transform:"translateX(-50%)",maxWidth:"min(55vw, fit-content)"}:p?{left:"50%",transform:"translateX(-50%)",maxWidth:"calc(100vw - 32px)"}:{right:"340px",left:"auto",transform:"none",maxWidth:"calc(100vw - 400px)"},zIndex:99999},children:[u.map(D=>{const V=D.quality===v,F=u.length>4||_,Y=u.length>=6;return b.jsx("button",{onClick:H=>{H.stopPropagation(),R(D.quality)},onTouchEnd:H=>{H.stopPropagation()},className:Ht("flex items-center justify-center rounded-lg transition-all shrink-0",Y?"min-w-[32px] h-9 px-0.5":F?"min-w-[40px] h-10 px-1.5":"min-w-[48px] h-12 px-2",V?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-text-primary hover:bg-bg-tertiary"),title:`Tap to preview, double-tap to add ${o}${D.label}`,children:b.jsx("span",{className:Ht("font-semibold",Y?"text-[10px]":F?"text-xs":V?"text-sm":"text-xs"),children:D.label||"maj"})},D.quality)}),u.length>0&&b.jsx("div",{className:"w-px bg-border-subtle self-stretch my-1 shrink-0"}),a&&b.jsx("button",{onClick:D=>{D.stopPropagation(),a(),e()},onTouchEnd:D=>{D.preventDefault(),D.stopPropagation(),a(),e()},className:Ht("flex items-center justify-center rounded-lg transition-all shrink-0","text-text-tertiary hover:text-text-secondary hover:bg-bg-tertiary",u.length>=6?"w-7 h-9":u.length>4||_?"w-8 h-10":"w-10 h-12"),title:"Open chord details",children:b.jsx(jC,{size:u.length>=6?12:u.length>4||_?14:16})}),s&&b.jsx("button",{onClick:D=>{D.stopPropagation();const V=v||c||u[0]?.quality;V&&(s(V),e())},onTouchEnd:D=>{D.preventDefault(),D.stopPropagation();const V=v||c||u[0]?.quality;V&&(s(V),e())},className:Ht("flex items-center justify-center rounded-lg transition-all shrink-0","text-accent-primary hover:text-white hover:bg-accent-primary/20",u.length>=6?"w-7 h-9":u.length>4||_?"w-8 h-10":"w-10 h-12"),title:"Add to timeline",children:b.jsx(Zh,{size:u.length>=6?14:u.length>4||_?16:18})})]}),document.body)};function yk(n,e){if(!n)return[];const t=n.split(/,\s*|\s+or\s+/).map(a=>a.trim()).filter(Boolean),s=[];e==="major"?s.push({quality:"major",label:""}):e==="minor"?s.push({quality:"minor",label:"m"}):e==="diminished"&&s.push({quality:"diminished",label:""});for(const a of t){let o=a,u=a;a==="6"?(o="major6",u="6"):a==="m6"?(o="minor6",u="m6"):a==="m75 (7)"?(o="halfDiminished7",u="7"):a==="m7"?(o="minor7",u="m7"):a==="m9"?(o="minor9",u="m9"):a==="m11"?(o="minor11",u="m11"):a==="sus4"?(o="sus4",u="sus4"):a==="7"?(o="dominant7",u="7"):a==="9"?(o="dominant9",u="9"):a==="11"?(o="dominant11",u="11"):a==="13"?(o="dominant13",u="13"):a==="maj7"?(o="major7",u="maj7"):a==="maj9"?(o="major9",u="maj9"):a==="maj13"&&(o="major13",u="maj13"),s.push({quality:o,label:u})}return s}const xk=({zoomScale:n,zoomOriginY:e,onZoomChange:t,panOffset:s,onPanChange:a,rotationOffset:o=0,disableModeToggle:u=!1,footerVisible:c=!0})=>{const{selectedKey:f,setKey:d,wheelRotation:p,wheelMode:y,rotateWheel:_,toggleWheelMode:v,addChordToSlot:A,selectedSectionId:N,selectedSlotId:k,setSelectedChord:C,selectedChord:R,selectNextSlotAfter:D,setSelectedSlot:V,timelineVisible:F,openTimeline:Y,chordPanelVisible:H,toggleChordPanel:E,pulseChordPanel:B,chordPanelGuitarExpanded:te,chordPanelVoicingsExpanded:j}=an(),I=du.indexOf(f),ee=-(I*30);let U;o!==0?U=ee+o:y==="rotating"?U=p:U=0;const oe=re.useRef(null),$=re.useRef(null),[ne,le]=re.useState(null),[fe,be]=re.useState({x:0,y:0}),[G,L]=re.useState({isOpen:!1,chord:null,voicingSuggestion:"",baseQuality:""}),X=s??fe,W=re.useCallback(Ee=>{a?a(Ee):be(Ee)},[a]),Q=w2(),{isLandscape:se}=Kh();re.useEffect(()=>{const Ee=R?.segmentId??null;le(Ee)},[R]);const pe=re.useRef(null),de=re.useRef(null),[xe,we]=re.useState(!1),Fe=re.useRef(0),Ye=re.useRef(0),[Ze,lt]=re.useState(!1),z=re.useRef(null),Ne=re.useCallback((Ee,Ie)=>{if(!de.current)return 0;const Xe=de.current.getBoundingClientRect(),xt=Xe.left+Xe.width/2,mt=Xe.top+Xe.height/2,At=Ee-xt,fn=Ie-mt;return Math.atan2(fn,At)*(180/Math.PI)},[]),nt=re.useCallback(Ee=>{for(;Ee>180;)Ee-=360;for(;Ee<-180;)Ee+=360;return Ee},[]),Be=re.useCallback(Ee=>{const Ie=du.indexOf(f),Xe=Ee==="cw"?(Ie+1)%12:(Ie-1+12)%12;d(du[Xe]),_(Ee)},[f,d,_]),je=re.useRef(null),et=re.useRef(!1),Ue=re.useCallback(Ee=>{if(Q||!de.current||!pe.current)return;const Ie=de.current.getBoundingClientRect(),Xe=Ie.width/2,xt=Ie.height/2,mt=Ee.clientX-Ie.left-Xe,At=Ee.clientY-Ie.top-xt,fn=Math.sqrt(mt*mt+At*At),sn=Ie.width/600*70,en=Ie.width/600*250;fn>sn&&fn<=en?(we(!0),Fe.current=Ne(Ee.clientX,Ee.clientY),Ye.current=p,Ee.preventDefault()):fn>en&&n>1&&(lt(!0),z.current={x:Ee.clientX,y:Ee.clientY},Ee.preventDefault())},[Ne,p,Q,n]),ct=re.useCallback(Ee=>{if(Ee.touches.length!==1)return;const Ie=Ee.touches[0];if(je.current={x:Ie.clientX,y:Ie.clientY},et.current=!1,!de.current)return;const Xe=de.current.getBoundingClientRect(),xt=Xe.width/2,mt=Xe.height/2,At=Ie.clientX-Xe.left-xt,fn=Ie.clientY-Xe.top-mt,sn=Math.sqrt(At*At+fn*fn),en=Xe.width/600*70;sn>en&&(Fe.current=Ne(Ie.clientX,Ie.clientY),Ye.current=p)},[Ne,p]),at=re.useCallback(Ee=>{if(Ee.touches.length!==1||!je.current)return;const Ie=Ee.touches[0],Xe=Ie.clientX-je.current.x,xt=Ie.clientY-je.current.y;if(Math.sqrt(Xe*Xe+xt*xt)>10){if(et.current=!0,Ee.preventDefault(),!de.current)return;const At=de.current.getBoundingClientRect(),fn=At.width/2,sn=At.height/2,en=Ie.clientX-At.left,yn=Ie.clientY-At.top,Fn=Math.sqrt(Math.pow(en-fn,2)+Math.pow(yn-sn,2)),Tn=At.width/600*70;if(Fn>Tn&&Fe.current!==0){const sr=Ne(Ie.clientX,Ie.clientY),Yr=nt(sr-Fe.current);if(Math.abs(Yr)>=15){const Mr=Math.round(Yr/30);if(Mr!==0){const _s=y==="fixed"?Mr>0?"cw":"ccw":Mr>0?"ccw":"cw",$i=Math.abs(Mr);for(let zr=0;zr<$i;zr++)Be(_s);Fe.current=sr}}}}},[Ne,Be,y,nt]),ze=re.useCallback(Ee=>{if(!xe)return;const Ie=Ne(Ee.clientX,Ee.clientY),Xe=nt(Ie-Fe.current);if(Math.abs(Xe)>=15){const xt=Math.round(Xe/30);if(xt!==0){let mt;y==="fixed"?mt=xt>0?"cw":"ccw":mt=xt>0?"ccw":"cw";const At=Math.abs(xt);for(let fn=0;fn<At;fn++)Be(mt);Fe.current=Ie}}},[xe,Ne,Be,y,nt]),it=re.useCallback(()=>{we(!1)},[]);re.useEffect(()=>{if(xe)return document.addEventListener("mousemove",ze),document.addEventListener("mouseup",it),()=>{document.removeEventListener("mousemove",ze),document.removeEventListener("mouseup",it)}},[xe,ze,it]);const rt=re.useCallback((Ee,Ie,Xe)=>{if(!pe.current||Xe<=1)return{x:0,y:0};const{clientWidth:xt,clientHeight:mt}=pe.current,At=12,fn=xt*(Xe-1)/2+At,sn=mt*(Xe-1)/2+At;return{x:Math.max(-fn,Math.min(fn,Ee)),y:Math.max(-sn,Math.min(sn,Ie))}},[]);re.useEffect(()=>{W(rt(X.x,X.y,n))},[n,rt,X.x,X.y,W]);const ut=re.useCallback(Ee=>{if(!Ze||!z.current)return;const Ie=Ee.clientX-z.current.x,Xe=Ee.clientY-z.current.y;W(rt(X.x+Ie,X.y+Xe,n)),z.current={x:Ee.clientX,y:Ee.clientY}},[Ze,n,rt,X,W]),vt=re.useCallback(()=>{lt(!1),z.current=null},[]);re.useEffect(()=>{if(Ze)return document.addEventListener("mousemove",ut),document.addEventListener("mouseup",vt),()=>{document.removeEventListener("mousemove",ut),document.removeEventListener("mouseup",vt)}},[Ze,ut,vt]);const dt=Ee=>({x:(Ee[0].clientX+Ee[1].clientX)/2,y:(Ee[0].clientY+Ee[1].clientY)/2}),yt=re.useCallback(Ee=>{if(Ee.touches.length===2){Ee.preventDefault();const Ie=Ee.touches[0].clientX-Ee.touches[1].clientX,Xe=Ee.touches[0].clientY-Ee.touches[1].clientY;oe.current=Math.sqrt(Ie*Ie+Xe*Xe),$.current=dt(Ee.touches)}},[]),ht=re.useCallback(Ee=>{if(Ee.touches.length===2&&oe.current!==null){Ee.preventDefault(),Ee.stopPropagation();const Ie=Ee.touches[0].clientX-Ee.touches[1].clientX,Xe=Ee.touches[0].clientY-Ee.touches[1].clientY,xt=Math.sqrt(Ie*Ie+Xe*Xe),mt=xt/oe.current,At=Math.max(1,Math.min(2.5,n*mt)),fn=At>1.3?38:50,sn=dt(Ee.touches);if($.current){const en=sn.x-$.current.x,yn=sn.y-$.current.y;W(rt(X.x+en,X.y+yn,At))}oe.current=xt,$.current=sn,t(At,fn)}},[n,t,rt,X,W]),wn=re.useCallback(Ee=>{oe.current=null,$.current=null,Ee.touches.length===0&&Ee.preventDefault()},[]),Zt=re.useCallback(Ee=>{if(Ee.ctrlKey||Ee.metaKey){Ee.preventDefault();const Ie=Ee.deltaY>0?.9:1.1,Xe=Math.max(1,Math.min(2.5,n*Ie)),xt=Xe>1.3?38:50;t(Xe,xt)}},[n,t]),Nt=Ph(),wt=600,Tt=wt/2,gt=wt/2,rn=60,It=rn+8,Vt=145,ln=Vt,bt=210,_e=bt,st=250,Ft=re.useMemo(()=>Cx(f),[f]),zt=re.useMemo(()=>Ft.sharps>0?`${Ft.sharps}`:Ft.flats>0?`${Ft.flats}`:"",[Ft]),An=re.useRef(0),Oe=Ee=>{const Ie=Ee,Xe=Date.now();if(Xe-An.current<300)return;An.current=Xe,Br(Ee.notes),le(Ie.segmentId??null),C(Ee);let xt="";Ie.positionIndex!==void 0&&Ie.ringType&&(xt=un(Ie.positionIndex,Ie.ringType==="major"?"major":Ie.ringType==="minor"?Ie.numeral==="ii"||Ie.numeral==="vi"?"ii":"iii":"dim")),(!(Q&&!se)||!H||!te&&!j)&&L({isOpen:!0,chord:Ie,voicingSuggestion:xt,baseQuality:Ie.quality})},$e=Ee=>{const Ie=Ee;let Xe=N,xt=k;if(!Xe||!xt){Y();const At=an.getState();if(Xe=At.selectedSectionId,xt=At.selectedSlotId,!Xe||!xt)return}A(Ee,Xe,xt),D(Xe,xt)||(V(Xe,xt),le(Ie.segmentId??null),C(Ee)),F||Y()},ft=Ee=>(Ee-I+12)%12,Et=(Ee,Ie)=>{const Xe=ft(Ee);return Ie==="major"?Xe===0||Xe===1||Xe===11:Ie==="ii"||Ie==="iii"||Ie==="dim"?Xe===0:!1},Rt=Ee=>ft(Ee)===1,cn=Ee=>{const Ie=ft(Ee);return Ie===2||Ie===4},Wt=(Ee,Ie)=>{const Xe=ft(Ee);if(Ie==="major"){if(Xe===0)return"I";if(Xe===1)return"V";if(Xe===11)return"IV";if(Xe===2)return"II";if(Xe===4)return"III"}if(Ie==="ii"){if(Xe===0)return"ii";if(Xe===1)return"vi"}return Ie==="iii"&&Xe===0?"iii":Ie==="dim"&&Xe===0?"vii":""},un=(Ee,Ie)=>{const Xe=ft(Ee);if(Ie==="major"){if(Xe===0)return"maj7, maj9, maj13 or 6";if(Xe===1)return"7, 9, 11, sus4, 13";if(Xe===11)return"maj7, maj9, maj13 or 6";if(Xe===2||Xe===4)return"7, sus4"}if(Ie==="ii"){if(Xe===0)return"m7, m9, m11, m6";if(Xe===1)return"m7, m9, m11"}return Ie==="iii"&&Xe===0?"m7":Ie==="dim"&&Xe===0?"m75 (7)":""},hn=Ee=>{if(ne)return ne===Ee.segmentId;const Ie=R?.segmentId;return Ie?Ie===Ee.segmentId:R&&!Ie?R.root===Ee.root&&R.quality===Ee.quality:!1},Qn=re.useCallback(Ee=>{Ee.touches.length===2?yt(Ee):Ee.touches.length===1&&ct(Ee)},[yt,ct]),Hn=re.useCallback(Ee=>{Ee.touches.length===2?ht(Ee):Ee.touches.length===1&&at(Ee)},[ht,at]),_n=re.useCallback(Ee=>{je.current=null,et.current=!1,wn(Ee)},[wn]),[Jt,Wn]=re.useState(null),Er=re.useCallback((Ee,Ie,Xe)=>{Wn(Ee?{text:Ee,x:Ie,y:Xe}:null)},[]),us=Jt?{position:"fixed",left:Jt.x,top:Jt.y,transform:"translate(-50%, -100%) translateY(-12px)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"11px",pointerEvents:"none",zIndex:9999,whiteSpace:"normal",textAlign:"center",maxWidth:"220px",lineHeight:"1.4",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"}:{};return b.jsxs("div",{ref:pe,"data-chord-wheel":!0,className:`relative flex flex-col items-center justify-center w-full h-full p-1 sm:p-2 select-none ${Ze?"cursor-grabbing":n>1&&!Q?"cursor-grab":""}`,onTouchStart:Qn,onTouchMove:Hn,onTouchEnd:_n,onWheel:Zt,onMouseDown:Ue,style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"none"},children:[Jt&&b.jsx("div",{style:us,children:Jt.text}),b.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`translate(${X.x}px, ${X.y}px) scale(${n})`,transformOrigin:`center ${e}%`},children:b.jsxs("svg",{ref:de,width:"100%",height:"100%",viewBox:`0 0 ${wt} ${wt}`,className:`w-full h-full select-none ${xe?"cursor-grabbing":"cursor-grab"}`,onMouseDown:Ue,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[b.jsxs("defs",{children:[b.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[b.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),b.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),b.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:b.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),b.jsx("g",{style:{transform:`rotate(${U}deg)`,transformOrigin:`${Tt}px ${gt}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:X_.map((Ee,Ie)=>{const xt=Ie*30-15,mt=xt+30,At=Nt[Ee.major]||Nt.C,fn=Ee.ii.replace("m",""),sn=Ee.iii.replace("m",""),en=Ee.diminished.replace("",""),yn=Et(Ie,"major"),Fn=cn(Ie),Tn=Et(Ie,"ii")||Rt(Ie),sr=Et(Ie,"iii"),Yr=Et(Ie,"dim"),Mr={root:Ee.major,quality:"major",numeral:Wt(Ie,"major"),notes:la(Ee.major,"major"),symbol:Ee.major,segmentId:`major-${Ie}`,ringType:"major",positionIndex:Ie},_s={root:fn,quality:"minor",numeral:Wt(Ie,"ii"),notes:la(fn,"minor"),symbol:Ee.ii,segmentId:`ii-${Ie}`,ringType:"minor",positionIndex:Ie},$i={root:sn,quality:"minor",numeral:Wt(Ie,"iii"),notes:la(sn,"minor"),symbol:Ee.iii,segmentId:`iii-${Ie}`,ringType:"minor",positionIndex:Ie},zr={root:en,quality:"diminished",numeral:Wt(Ie,"dim"),notes:la(en,"diminished"),symbol:Ee.diminished,segmentId:`dim-${Ie}`,ringType:"diminished",positionIndex:Ie},ni=15,Sn=xt+-7.5,Xi=Sn+ni,Ds=Xi,_i=Ds+ni,xo=15,hs=xt+(30-xo)/2,Pr=hs+xo,Lr=Ee.major,wo=Ee.ii,Vl=Ee.iii,Zo=Ee.diminished;return b.jsxs("g",{children:[b.jsx(k1,{cx:Tt,cy:gt,innerRadius:It,outerRadius:Vt,startAngle:xt,endAngle:mt,color:At,label:Lr,chord:Mr,isSelected:hn(Mr),isDiatonic:yn,isSecondary:Fn,onClick:Oe,onDoubleClick:$e,ringType:"major",wheelRotation:U,romanNumeral:yn||Fn?Wt(Ie,"major"):void 0,voicingSuggestion:yn||Fn?un(Ie,"major"):void 0,segmentId:`major-${Ie}`,onHover:Er}),b.jsx(k1,{cx:Tt,cy:gt,innerRadius:ln,outerRadius:bt,startAngle:Sn,endAngle:Xi,color:At,label:wo,chord:_s,isSelected:hn(_s),isDiatonic:Tn,onClick:Oe,onDoubleClick:$e,ringType:"minor",wheelRotation:U,romanNumeral:Tn?Wt(Ie,"ii"):void 0,voicingSuggestion:Tn?un(Ie,"ii"):void 0,segmentId:`ii-${Ie}`,onHover:Er}),b.jsx(k1,{cx:Tt,cy:gt,innerRadius:ln,outerRadius:bt,startAngle:Ds,endAngle:_i,color:At,label:Vl,chord:$i,isSelected:hn($i),isDiatonic:sr,onClick:Oe,onDoubleClick:$e,ringType:"minor",wheelRotation:U,romanNumeral:sr?Wt(Ie,"iii"):void 0,voicingSuggestion:sr?un(Ie,"iii"):void 0,segmentId:`iii-${Ie}`,onHover:Er}),b.jsx(k1,{cx:Tt,cy:gt,innerRadius:_e,outerRadius:st,startAngle:hs,endAngle:Pr,color:At,label:Zo,chord:zr,isSelected:hn(zr),isDiatonic:Yr,onClick:Oe,onDoubleClick:$e,ringType:"diminished",wheelRotation:U,romanNumeral:Yr?Wt(Ie,"dim"):void 0,voicingSuggestion:Yr?un(Ie,"dim"):void 0,segmentId:`dim-${Ie}`,onHover:Er})]},Ee.major)})}),b.jsx("circle",{cx:Tt,cy:gt,r:rn,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2",style:{pointerEvents:"none"}}),b.jsx("text",{x:Tt,y:gt-25,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),b.jsx("text",{x:Tt,y:gt+3,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:Jn(f)}),b.jsx("text",{x:Tt,y:gt+21,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:zt||"No /"}),b.jsxs("g",{transform:`translate(${Tt-22}, ${gt+40})`,onClick:()=>Be("ccw"),onTouchEnd:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),Be("ccw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[b.jsx("circle",{r:Q?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),b.jsx("g",{transform:Q?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:b.jsx(gp,{size:Q?12:9,color:"#9898a6"})})]}),b.jsxs("g",{transform:`translate(${Tt+22}, ${gt+40})`,onClick:()=>Be("cw"),onTouchEnd:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),Be("cw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[b.jsx("circle",{r:Q?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),b.jsx("g",{transform:Q?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:b.jsx(zh,{size:Q?12:9,color:"#9898a6"})})]}),b.jsxs("g",{transform:`translate(${Tt}, ${gt+40})`,onClick:u?void 0:v,onTouchEnd:u?void 0:Ee=>{Ee.preventDefault(),Ee.stopPropagation(),v()},className:u?"":"cursor-pointer",style:{pointerEvents:u?"none":"all",cursor:u?"default":"pointer",opacity:u?.5:1},children:[b.jsx("circle",{r:Q?16:11,fill:u||y==="rotating"?"#252535":"#3f2e2e",className:"transition-colors",style:{pointerEvents:u?"none":"all",transition:"fill 0.3s ease"},children:b.jsx("title",{children:u?"Mode locked in this view":y==="rotating"?"Lock wheel (C at top)":"Pin current key to top"})}),b.jsxs("g",{style:{pointerEvents:"none",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",transform:o!==0?`rotate(${o}deg)`:y==="rotating"?"rotate(0deg)":`rotate(${I*30}deg)`,transformOrigin:"0px 0px"},children:[b.jsx("polygon",{points:Q?"0,-10 4,0 0,1.5 -4,0":"0,-7 2.5,0 0,1 -2.5,0",fill:"#ef4444",stroke:"#b91c1c",strokeWidth:"0.5"}),b.jsx("polygon",{points:Q?"0,10 4,0 0,-1.5 -4,0":"0,7 2.5,0 0,-1 -2.5,0",fill:"#f1f5f9",stroke:"#94a3b8",strokeWidth:"0.5"}),b.jsx("circle",{cx:0,cy:0,r:Q?2:1.5,fill:y==="rotating"?"#fef2f2":"#6b7280"})]})]})]})}),b.jsx(vk,{isOpen:G.isOpen,onClose:()=>L({...G,isOpen:!1}),onSelect:Ee=>{if(G.chord){const Ie=la(G.chord.root,Ee),Xe={...G.chord,quality:Ee,notes:Ie,symbol:`${G.chord.root}${Ah(Ee)}`};C(Xe)}},onAddToTimeline:Ee=>{if(G.chord){const Ie=la(G.chord.root,Ee),Xe={...G.chord,quality:Ee,notes:Ie,symbol:`${G.chord.root}${Ah(Ee)}`};let xt=N,mt=k;if(!xt||!mt){Y();const At=an.getState();if(xt=At.selectedSectionId,mt=At.selectedSlotId,!xt||!mt)return}A(Xe,xt,mt),V(xt,mt),C(Xe),F||Y()}},onOpenDetails:()=>{H?B():E()},chordRoot:G.chord?.root||"C",voicings:yk(G.voicingSuggestion,G.baseQuality),selectedQuality:G.chord?.quality,portraitWithPanel:Q&&!se&&H&&!te&&!j}),Q&&!se&&!H&&R&&(()=>{const Ee=Nt[R.root]||"#6366f1",Ie=R.quality;let Xe;return Ie==="major"||Ie==="maj"?Xe=Jn(R.root):Ie==="minor"||Ie==="m"?Xe=Jn(`${R.root}m`):Ie==="diminished"||Ie==="dim"?Xe=Jn(`${R.root}`):Xe=Jn(`${R.root}${Ah(Ie)}`),b.jsxs("div",{className:"fixed flex items-center gap-1 z-10 cursor-pointer touch-feedback active:scale-95",style:{bottom:F?c?"260px":"204px":c?"175px":"119px",right:"12px",backgroundColor:"transparent",color:Ee,padding:"4px 10px",borderRadius:"8px",border:`2px solid ${Ee}`,backdropFilter:"blur(8px)",background:"rgba(0, 0, 0, 0.4)",transition:"bottom 0.25s ease-out"},onClick:xt=>{xt.stopPropagation(),xt.preventDefault(),Br(R.notes)},onTouchStart:xt=>{xt.stopPropagation()},onTouchEnd:xt=>{xt.stopPropagation(),xt.preventDefault(),Br(R.notes)},children:[b.jsx("span",{className:"text-sm font-bold leading-none",children:Xe}),R.numeral&&b.jsx("span",{className:"text-xs font-serif italic opacity-70",children:Jn(R.numeral)})]})})()]})},ig=({type:n,size:e=20,className:t})=>{const s=e>16?1.5:1;switch(n){case"whole":return b.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:b.jsx("ellipse",{cx:"12",cy:"12",rx:"6",ry:"4",fill:"none",stroke:"currentColor",strokeWidth:s*1.5})});case"half":return b.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[b.jsx("ellipse",{cx:"10",cy:"16",rx:"5",ry:"3.5",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,transform:"rotate(-20, 10, 16)"}),b.jsx("line",{x1:"14.5",y1:"14",x2:"14.5",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]});case"dotted-half":return b.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[b.jsx("ellipse",{cx:"8",cy:"16",rx:"4.5",ry:"3",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,transform:"rotate(-20, 8, 16)"}),b.jsx("line",{x1:"12",y1:"14",x2:"12",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),b.jsx("circle",{cx:"17",cy:"16",r:"1.5",fill:"currentColor"})]});case"quarter":return b.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[b.jsx("ellipse",{cx:"10",cy:"16",rx:"5",ry:"3.5",fill:"currentColor",transform:"rotate(-20, 10, 16)"}),b.jsx("line",{x1:"14.5",y1:"14",x2:"14.5",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]});case"dotted-quarter":return b.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[b.jsx("ellipse",{cx:"8",cy:"16",rx:"4.5",ry:"3",fill:"currentColor",transform:"rotate(-20, 8, 16)"}),b.jsx("line",{x1:"12",y1:"14",x2:"12",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),b.jsx("circle",{cx:"17",cy:"16",r:"1.5",fill:"currentColor"})]});case"eighth":return b.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[b.jsx("ellipse",{cx:"9",cy:"17",rx:"4.5",ry:"3",fill:"currentColor",transform:"rotate(-20, 9, 17)"}),b.jsx("line",{x1:"13",y1:"15",x2:"13",y2:"4",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),b.jsx("path",{d:"M13 4 Q18 6 16 11",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]});case"sixteenth":return b.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",className:t,children:[b.jsx("ellipse",{cx:"9",cy:"17",rx:"4.5",ry:"3",fill:"currentColor",transform:"rotate(-20, 9, 17)"}),b.jsx("line",{x1:"13",y1:"15",x2:"13",y2:"3",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),b.jsx("path",{d:"M13 3 Q18 5 16 9",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"}),b.jsx("path",{d:"M13 7 Q18 9 16 13",fill:"none",stroke:"currentColor",strokeWidth:s*1.2,strokeLinecap:"round"})]})}};function ag(n,e){const[t]=e;if(t%3===0&&t>3){if(n===1)return"dotted-half";if(n===2)return"dotted-quarter";if(n===3)return"quarter";if(n===6)return"eighth";if(n===12)return"sixteenth"}if(t===3){if(n===1)return"dotted-half";if(n===3)return"quarter";if(n===6)return"eighth";if(n===12)return"sixteenth"}return n===1?"whole":n===2?"half":n===4?"quarter":n===8?"eighth":n===16?"sixteenth":n<=1?"whole":n<=2?"half":n<=4?"quarter":n<=8?"eighth":"sixteenth"}function aw(n){const[e]=n;return e%3===0?[1,3,6].filter(t=>t<=8):[1,2,4,8]}const wk=({value:n,onChange:e,timeSignature:t,isCompact:s=!1})=>{const[a,o]=re.useState(!1),u=re.useRef(null),c=re.useRef(null),f=aw(t);re.useEffect(()=>{const y=_=>{u.current&&!u.current.contains(_.target)&&c.current&&!c.current.contains(_.target)&&o(!1)};if(a)return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[a]),re.useEffect(()=>{if(a){const y=()=>o(!1);return window.addEventListener("scroll",y,!0),()=>window.removeEventListener("scroll",y,!0)}},[a]);const d=ag(n,t),p=s?12:16;return b.jsxs("div",{className:"relative",children:[b.jsx("button",{ref:u,onClick:()=>o(!a),className:Ht("flex items-center justify-center rounded transition-all","hover:bg-accent-primary/20 active:scale-95","text-text-muted hover:text-accent-primary",s?"w-4 h-5":"w-5 h-6",a&&"bg-accent-primary/20 text-accent-primary"),title:`${n} step${n>1?"s":""} per measure`,children:b.jsx(ig,{type:d,size:p})}),a&&qo.createPortal(b.jsx("div",{ref:c,className:Ht("fixed bg-bg-elevated border border-border-medium rounded-xl shadow-xl","flex flex-row gap-2 p-2","animate-in fade-in zoom-in-95 duration-150"),style:{top:"60%",left:"50%",transform:"translate(-50%, -50%)",zIndex:99999},children:f.map(y=>{const _=ag(y,t),v=y===n;return b.jsx("button",{onClick:()=>{e(y),o(!1)},className:Ht("flex items-center justify-center rounded-lg transition-all","w-12 h-12",v?"bg-accent-primary text-white shadow-lg":"text-text-secondary hover:text-text-primary hover:bg-bg-tertiary"),title:`${y} step${y>1?"s":""}`,children:b.jsx(ig,{type:_,size:26})},y)})}),document.body)]})},qv={intro:{bg:"bg-purple-500/15",border:"border-purple-500/40",accent:"bg-purple-500"},verse:{bg:"bg-blue-500/15",border:"border-blue-500/40",accent:"bg-blue-500"},"pre-chorus":{bg:"bg-cyan-500/15",border:"border-cyan-500/40",accent:"bg-cyan-500"},chorus:{bg:"bg-amber-500/15",border:"border-amber-500/40",accent:"bg-amber-500"},bridge:{bg:"bg-emerald-500/15",border:"border-emerald-500/40",accent:"bg-emerald-500"},outro:{bg:"bg-rose-500/15",border:"border-rose-500/40",accent:"bg-rose-500"},custom:{bg:"bg-slate-500/15",border:"border-slate-500/40",accent:"bg-slate-500"}},_k=({section:n,songTimeSignature:e,className:t,onSlotClick:s})=>{const{tempo:a}=an(),o=Ph(),u=qv[n.type]||qv.custom,c=n.timeSignature||e,f=c[0],d=n.measures.length,[p,y]=re.useState(!1),[_,v]=re.useState(null),A=re.useRef([]),N=252,k=15,C=52,R=Math.floor(N/d),D=Math.max(k,Math.min(C,R)),V=d>8,F=d>12,Y=()=>{A.current.forEach(E=>clearTimeout(E)),A.current=[],y(!1),v(null)};re.useEffect(()=>(Y(),()=>{A.current.forEach(E=>clearTimeout(E)),A.current=[]}),[n.id]);const H=async()=>{if(p){Y();return}xs.state!=="running"&&await Su(),xs.state==="suspended"&&await xs.resume(),await Il(),y(!0);const E=60/a*1e3,B=n.measures[0]?.beats.length||f,te=f/B,j=te*E;let I=0;n.measures.forEach(oe=>{oe.beats.forEach($=>{const ne=I*j,le=window.setTimeout(()=>{v($.id)},ne);if(A.current.push(le),$.chord&&$.chord.notes&&$.chord.notes.length>0){const fe=window.setTimeout(()=>{const L=`${4/Math.min(te,f)}n`;Br($.chord.notes,L)},ne);A.current.push(fe)}I++})});const ee=n.measures.reduce((oe,$)=>oe+$.beats.length,0),U=window.setTimeout(()=>{y(!1),v(null),A.current=[]},ee*j);A.current.push(U)};return b.jsx("div",{className:Ht("w-full",t),children:b.jsxs("div",{className:Ht("rounded-lg border overflow-hidden transition-all",u.bg,u.border),children:[b.jsx("div",{className:Ht("h-1 w-full",u.accent)}),b.jsx("div",{className:"pl-2 pr-3 py-2 overflow-hidden",style:{maxHeight:F?"80px":V?"100px":"120px"},children:b.jsx("div",{className:"flex gap-0.5",style:{minWidth:"min-content",width:"100%"},children:n.measures.map((E,B)=>{const te=E.beats.length;return b.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-0.5",style:{minWidth:`${D}px`,maxWidth:`${D}px`},children:[!F&&b.jsxs("div",{className:"h-3 flex items-center justify-between px-0.5",children:[b.jsx("span",{className:Ht("font-mono text-white/30",V?"text-[6px]":"text-[8px]"),children:B+1}),!V&&b.jsx("div",{className:"flex gap-px",children:Array.from({length:Math.min(te,f)}).map((j,I)=>b.jsx("div",{className:"w-0.5 h-1 bg-white/15 rounded-full"},I))})]}),b.jsx("div",{className:"flex-1 rounded overflow-hidden flex gap-px",style:{minHeight:F?"28px":V?"36px":"48px"},children:E.beats.map(j=>{const I=j.chord&&j.chord.notes&&j.chord.notes.length>0,ee=j.chord,U=I&&o[ee.root]||"#666",oe=_===j.id,$=E.beats.length;let ne="9px";return F?ne=$>2?"5px":"6px":V?ne=$>2?"6px":"7px":ne=$>2?"7px":$>1?"8px":"9px",I?b.jsx("div",{onClick:()=>s?.(j.id),className:Ht("flex-1 min-w-0 rounded-sm flex items-center justify-center font-bold truncate transition-all duration-150",oe&&"scale-105 z-10",s&&"cursor-pointer hover:scale-105 hover:brightness-110 active:scale-95"),style:{backgroundColor:oe?U:"rgba(0, 0, 0, 0.35)",border:`1.5px solid ${U}`,color:oe?"#fff":U,fontSize:ne,padding:"0 2px",textShadow:oe?"0 1px 3px rgba(0,0,0,0.7)":"0 1px 2px rgba(0,0,0,0.5)",boxShadow:oe?`0 0 12px ${U}, 0 0 4px ${U}`:"none"},title:ee.symbol,children:Jn(ee.symbol)},j.id):b.jsx("div",{onClick:()=>s?.(j.id),className:Ht("flex-1 min-w-0 rounded-sm flex items-center justify-center transition-all duration-150",oe&&"scale-105 z-10",s&&"cursor-pointer hover:scale-105 hover:bg-white/10 active:scale-95"),style:{backgroundColor:oe?"rgba(99, 102, 241, 0.5)":"rgba(255, 255, 255, 0.03)",border:oe?"1.5px solid rgba(99, 102, 241, 0.8)":"1px dashed rgba(255, 255, 255, 0.1)",boxShadow:oe?"0 0 8px rgba(99, 102, 241, 0.5)":"none"},children:b.jsx("span",{className:Ht("transition-colors duration-150",oe?"text-white/60":"text-white/10",V?"text-[6px]":"text-[8px]"),children:""})},j.id)})})]},E.id)})})}),b.jsxs("div",{className:"px-2 py-1.5 bg-black/20 border-t border-white/5 flex items-center gap-2",children:[b.jsx("button",{onClick:H,className:Ht("w-5 h-5 rounded-full flex items-center justify-center transition-all","hover:scale-110 active:scale-95",p?"bg-red-500/80 text-white":"bg-accent-primary/20 text-accent-primary hover:bg-accent-primary/30"),title:p?"Stop":"Play section once",children:p?b.jsx(Z3,{size:8}):b.jsx(Xh,{size:10,className:"ml-0.5"})}),b.jsxs("div",{className:"flex-1 flex items-center justify-center gap-3",children:[b.jsxs("span",{className:"text-[9px] font-mono text-white/40",children:[c[0],"/",c[1]]}),b.jsx("span",{className:"w-0.5 h-0.5 rounded-full bg-white/20"}),b.jsxs("span",{className:"text-[9px] font-mono text-white/40",children:[d," bar",d!==1?"s":""]})]})]})]})})},Sk=[[4,4],[3,4],[5,4],[2,4],[6,8]],Uv=[{name:"Intro",type:"intro"},{name:"Verse",type:"verse"},{name:"Pre-Chorus",type:"pre-chorus"},{name:"Chorus",type:"chorus"},{name:"Bridge",type:"bridge"},{name:"Interlude",type:"interlude"},{name:"Solo",type:"solo"},{name:"Breakdown",type:"breakdown"},{name:"Tag",type:"tag"},{name:"Hook",type:"hook"},{name:"Outro",type:"outro"}],Nk=({section:n,isOpen:e,onClose:t,onTimeSignatureChange:s,onBarsChange:a,onStepCountChange:o,onNameChange:u,onCopy:c,onClear:f,onDelete:d,songTimeSignature:p,onNavigatePrev:y,onNavigateNext:_,hasPrev:v=!1,hasNext:A=!1,sectionIndex:N,totalSections:k,onSlotClick:C})=>{const R=re.useRef(null),D=n.timeSignature||p,V=`${D[0]}/${D[1]}`,F=n.measures.length,Y=n.measures[0]?.beats.length??1,H=aw(D);return re.useEffect(()=>{if(!e)return;const E=B=>{B.key==="Escape"&&t()};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[e,t]),e?qo.createPortal(b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[99998] bg-black/40 backdrop-blur-[2px] animate-in fade-in duration-200",onClick:t}),y&&b.jsx("button",{onClick:y,disabled:!v,className:Ht("fixed top-1/2 -translate-y-1/2 z-[100000]","w-10 h-10 rounded-full flex items-center justify-center","transition-all duration-200",v?"bg-accent-primary/20 text-accent-primary hover:bg-accent-primary/30 hover:scale-110 active:scale-95":"bg-white/5 text-white/20 cursor-not-allowed"),style:{left:"calc(50% - min(150px, 45vw) - 52px)"},title:"Previous Section",children:b.jsx(Bh,{size:24})}),_&&b.jsx("button",{onClick:_,disabled:!A,className:Ht("fixed top-1/2 -translate-y-1/2 z-[100000]","w-10 h-10 rounded-full flex items-center justify-center","transition-all duration-200",A?"bg-accent-primary/20 text-accent-primary hover:bg-accent-primary/30 hover:scale-110 active:scale-95":"bg-white/5 text-white/20 cursor-not-allowed"),style:{right:"calc(50% - min(150px, 45vw) - 52px)"},title:"Next Section",children:b.jsx(Fh,{size:24})}),b.jsxs("div",{ref:R,className:`fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[99999]
                           bg-bg-elevated border border-border-medium rounded-xl 
                           shadow-2xl shadow-black/50
                           animate-in fade-in zoom-in-95 duration-200`,style:{minWidth:"260px",maxWidth:"300px",width:"90vw"},children:[b.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-bg-secondary/50 rounded-t-xl",children:[b.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[N!==void 0&&k!==void 0&&b.jsxs("div",{className:"h-5 px-2 rounded-full flex items-center justify-center gap-0.5 font-bold text-white shrink-0",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)",boxShadow:"0 0 8px rgba(99,102,241,0.4)"},title:`Section ${N+1} of ${k}`,children:[b.jsx("span",{className:"text-[10px]",children:N+1}),b.jsx("span",{className:"text-[6px] opacity-60 font-medium",children:"of"}),b.jsx("span",{className:"text-[10px]",children:k})]}),(N===void 0||k===void 0)&&b.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(99,102,241,0.5)] shrink-0",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)"}}),u?b.jsx("select",{value:n.type,onChange:E=>{const B=Uv.find(te=>te.type===E.target.value);B&&u(B.name,B.type)},className:`bg-transparent text-sm font-bold text-text-primary 
                                           focus:outline-none focus:ring-1 focus:ring-accent-primary/50
                                           appearance-none cursor-pointer pr-5`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 0 center"},children:Uv.map(E=>b.jsx("option",{value:E.type,className:"bg-bg-secondary",children:E.name},E.type))}):b.jsx("span",{className:"text-sm font-bold text-text-primary",children:n.name})]}),b.jsx("button",{onClick:t,className:"p-1.5 rounded-full hover:bg-bg-tertiary text-text-muted hover:text-text-primary transition-colors shrink-0",children:b.jsx(jc,{size:14})})]}),b.jsxs("div",{className:"p-4 space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Time Sig"}),b.jsx("div",{className:"relative",children:b.jsx("select",{value:V,onChange:E=>s(E.target.value),className:`w-full h-8 bg-bg-tertiary text-text-primary text-xs font-bold rounded-lg 
                                               px-3 border border-border-subtle 
                                               focus:outline-none focus:ring-1 focus:ring-accent-primary/50
                                               appearance-none cursor-pointer`,style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",paddingRight:"24px"},children:Sk.map(([E,B])=>b.jsxs("option",{value:`${E}/${B}`,className:"bg-bg-secondary",children:[E,"/",B]},`${E}/${B}`))})})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Length"}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("button",{onClick:()=>a(Math.max(1,F-1)),disabled:F<=1,className:`h-8 w-8 flex items-center justify-center rounded-lg
                                               bg-bg-tertiary border border-border-subtle
                                               text-text-muted hover:text-text-primary hover:bg-bg-secondary
                                               disabled:opacity-30 disabled:cursor-not-allowed
                                               transition-all text-base font-bold active:scale-95`,children:""}),b.jsx("span",{className:"flex-1 text-center text-sm font-bold text-text-primary tabular-nums",children:F}),b.jsx("button",{onClick:()=>a(Math.min(32,F+1)),disabled:F>=32,className:`h-8 w-8 flex items-center justify-center rounded-lg
                                               bg-bg-tertiary border border-border-subtle
                                               text-text-muted hover:text-text-primary hover:bg-bg-secondary
                                               disabled:opacity-30 disabled:cursor-not-allowed
                                               transition-all text-base font-bold active:scale-95`,children:"+"})]})]})]}),o&&b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:"block text-center text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Steps Per Bar"}),b.jsx("div",{className:"flex items-center gap-1.5 justify-center",children:H.map(E=>{const B=ag(E,D),te=E===Y;return b.jsx("button",{onClick:()=>o(E),className:Ht("flex items-center justify-center rounded-lg transition-all","w-11 h-11 active:scale-95",te?"bg-accent-primary text-white shadow-lg border-2 border-accent-primary":"bg-bg-tertiary border border-border-subtle text-text-muted hover:text-text-primary hover:bg-bg-secondary"),title:`${E} step${E>1?"s":""} per measure`,children:b.jsx(ig,{type:B,size:24})},E)})})]}),b.jsx(_k,{section:n,songTimeSignature:p,className:"pt-1",onSlotClick:C}),b.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-2",children:[b.jsxs("button",{onClick:()=>{c(),t()},className:`flex items-center justify-center gap-1.5
                                       px-2 py-2.5 rounded-lg
                                       bg-accent-primary/10 border border-accent-primary/30
                                       text-accent-primary hover:bg-accent-primary/20
                                       transition-all text-xs font-bold active:scale-95`,children:[b.jsx(gC,{size:14}),"Duplicate"]}),b.jsxs("button",{onClick:()=>{f(),t()},className:`flex items-center justify-center gap-1.5
                                       px-2 py-2.5 rounded-lg
                                       bg-yellow-500/10 border border-yellow-500/30
                                       text-yellow-400 hover:bg-yellow-500/20
                                       transition-all text-xs font-bold active:scale-95`,children:[b.jsx(yC,{size:14}),"Clear"]}),b.jsxs("button",{onClick:()=>{d(),t()},className:`flex items-center justify-center gap-1.5
                                       px-2 py-2.5 rounded-lg
                                       bg-red-500/10 border border-red-500/30
                                       text-red-400 hover:bg-red-500/20
                                       transition-all text-xs font-bold active:scale-95`,children:[b.jsx(ng,{size:14}),"Remove"]})]})]})]})]}),document.body):null},Ak={intro:"Intro",verse:"Verse","pre-chorus":"Pre-Chorus",chorus:"Chorus",bridge:"Bridge",interlude:"Interlude",solo:"Solo",breakdown:"Breakdown",tag:"Tag",hook:"Hook",outro:"Outro"};function Xf(n,e){const t=Ak[n.type],s=e.filter(o=>o.type===n.type);if(s.length<=1)return t;const a=s.findIndex(o=>o.id===n.id);return`${t} ${a+1}`}const og=({isOpen:n,onToggle:e,hideCloseButton:t=!1,isCompact:s=!1,isLandscape:a=!1})=>{const{currentSong:o,selectedSectionId:u,selectedSlotId:c,setSelectedSlot:f,selectSlotOnly:d,setSelectedChord:p,playingSectionId:y,playingSlotId:_,isPlaying:v,addSuggestedSection:A,setSectionTimeSignature:N,setSectionMeasures:k,setSectionSubdivision:C,removeSection:R,duplicateSection:D,clearSection:V,setMeasureSubdivision:F,selectedChord:Y,addChordToSlot:H,toggleSongMap:E,updateSection:B,undo:te,redo:j,canUndo:I,canRedo:ee,clearSlot:U}=an(),oe=o.timeSignature,$=Ph(),ne=re.useRef(null),le=re.useRef(null),{isMobile:fe}=Kh(),be=!fe,[G,L]=Kn.useState(0),X=re.useRef(0),[W,Q]=Kn.useState(0),se=re.useRef(0),[pe,de]=Kn.useState(0),xe=re.useRef(!1),[we,Fe]=Kn.useState(null),Ye=re.useRef(null);re.useEffect(()=>{if(!v&&u&&le.current){const ze=o.sections.findIndex(it=>it.id===u);ze!==-1&&(L(ze),setTimeout(()=>{if(le.current){const it=le.current.querySelector(`[data-section-id="${u}"]`);it&&it.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},100))}},[u,o.sections,v]),re.useEffect(()=>{if(v&&y){const ze=o.sections.findIndex(it=>it.id===y);ze!==-1&&ze!==G&&L(ze)}},[v,y,o.sections,G]),re.useEffect(()=>{if(_&&ne.current){const ze=ne.current.querySelector(`[data-slot-id="${_}"]`);ze&&ze.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[_]),re.useEffect(()=>{if(!n||!c||v)return;const ze=setTimeout(()=>{if(ne.current){const it=ne.current.querySelector(`[data-slot-id="${c}"]`);it&&it.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},250);return()=>clearTimeout(ze)},[c,v,n]);const Ze=ze=>{X.current=ze.touches[0].clientY},lt=ze=>{const it=ze.touches[0].clientY-X.current;it>0&&Q(Math.min(it,100))},z=()=>{W>50&&e(),Q(0)},Ne=ze=>{se.current=ze.touches[0].clientY},nt=ze=>{const it=se.current-ze.touches[0].clientY;it>0&&de(Math.min(it,60))},Be=()=>{pe>30&&e(),de(0)},je=ze=>{xe.current=!0,se.current=ze.clientY,ze.preventDefault()};re.useEffect(()=>{const ze=rt=>{if(!xe.current)return;const ut=se.current-rt.clientY;ut>0&&de(Math.min(ut,60))},it=()=>{xe.current&&(pe>30&&e(),de(0),xe.current=!1)};return document.addEventListener("mousemove",ze),document.addEventListener("mouseup",it),()=>{document.removeEventListener("mousemove",ze),document.removeEventListener("mouseup",it)}},[pe,e]);const et=ze=>{if($[ze])return $[ze];const it=Oh(ze);for(const rt of Object.keys($))if(Oh(rt)===it)return $[rt];return"hsl(230, 60%, 50%)"},Ue=(ze,it,rt)=>{const ut=u===ze&&c===it,vt=Date.now();if(rt&&Ye.current&&Ye.current.slotId===it&&vt-Ye.current.time<400){Y&&(H(Y,ze,it),d(ze,it)),Ye.current=null;return}rt?(rt.notes&&rt.notes.length>0&&Br(rt.notes),ut?p(rt):d(ze,it),Ye.current={slotId:it,time:vt}):(ut&&Y?H(Y,ze,it):d(ze,it),Ye.current=null)},ct=ze=>{const it=ze==="prev"?Math.max(0,G-1):Math.min(o.sections.length-1,G+1);L(it);const rt=o.sections[it];rt&&rt.measures[0]?.beats[0]&&f(rt.id,rt.measures[0].beats[0].id)},at=o.sections[G];return n?b.jsxs("div",{"data-mobile-timeline":!0,className:Ht("relative w-full bg-bg-secondary border-t-2 border-border-subtle overflow-hidden flex flex-col mobile-timeline-drawer",a&&"h-full",t&&"h-full border-t-0"),style:{maxHeight:a||t?void 0:"140px",transform:W>0?`translateY(${W}px)`:void 0,opacity:W>0?Math.max(.5,1-W/150):1,transition:W===0?"all 0.2s ease-out":"none"},children:[!t&&b.jsx("div",{className:"flex flex-col items-center pt-2 pb-2.5 cursor-grab active:cursor-grabbing shrink-0",onTouchStart:Ze,onTouchMove:lt,onTouchEnd:z,children:b.jsx("div",{className:"w-12 h-1.5 rounded-full bg-text-muted/40"})}),s?b.jsxs("div",{className:"relative flex items-center justify-center shrink-0 px-1 py-1",children:[b.jsx("button",{onClick:()=>E(!0),className:"absolute left-1 rounded text-text-muted hover:text-accent-primary touch-feedback flex items-center justify-center w-5 h-5",title:"Song Overview",children:b.jsx(mp,{size:12})}),b.jsxs("div",{className:"flex items-center justify-center gap-1",children:[b.jsx("button",{onClick:()=>ct("prev"),disabled:G===0,className:"rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback p-1",children:b.jsx(Bh,{size:14})}),b.jsxs("button",{onClick:()=>at&&Fe(at.id),className:"flex items-center justify-center gap-0.5 px-2 py-1 rounded-full text-white font-semibold text-[10px]",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #6366f1 100%)",boxShadow:"0 0 8px rgba(99, 102, 241, 0.4)",border:"1px solid rgba(255,255,255,0.2)"},title:at?Xf(at,o.sections):"Section",children:[b.jsxs("span",{className:"flex items-baseline",children:[b.jsx("span",{children:at?Xf(at,o.sections).charAt(0).toUpperCase():"S"}),b.jsx("span",{className:"text-[7px] opacity-60 ml-0.5",children:G+1})]}),b.jsx(Bv,{size:10,className:"opacity-70 shrink-0"})]}),b.jsx("button",{onClick:()=>ct("next"),disabled:G===o.sections.length-1,className:"rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback p-1",children:b.jsx(Fh,{size:14})})]}),b.jsxs("div",{className:"absolute right-1 flex items-center gap-0.5",children:[b.jsx("button",{onClick:te,disabled:!I,className:"no-touch-enlarge w-6 h-6 flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Undo",children:b.jsx(gp,{size:10})}),b.jsx("button",{onClick:j,disabled:!ee,className:"no-touch-enlarge w-6 h-6 flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Redo",children:b.jsx(zh,{size:10})})]})]}):b.jsxs("div",{className:Ht("flex items-center justify-between shrink-0",be?"px-3 py-1":"px-2 pb-1.5"),children:[b.jsxs("div",{className:"flex items-center shrink-0",children:[b.jsx("button",{onClick:()=>E(!0),className:Ht("no-touch-enlarge rounded text-text-muted hover:text-accent-primary touch-feedback shrink-0 mr-0.5",be?"p-2":"p-1.5"),title:"Song Overview",children:b.jsx(mp,{size:be?18:16})}),b.jsxs("div",{className:"flex items-center gap-0.5 ml-1",children:[b.jsx("button",{onClick:te,disabled:!I,className:Ht("no-touch-enlarge flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",be?"w-8 h-8":"w-7 h-7"),title:"Undo",children:b.jsx(gp,{size:be?14:12})}),b.jsx("button",{onClick:j,disabled:!ee,className:Ht("no-touch-enlarge flex items-center justify-center rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",be?"w-8 h-8":"w-7 h-7"),title:"Redo",children:b.jsx(zh,{size:be?14:12})})]})]}),b.jsx("button",{onClick:()=>ct("prev"),disabled:G===0,className:Ht("no-touch-enlarge rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback",be?"p-2":"p-1.5"),children:b.jsx(Bh,{size:be?18:16})}),b.jsxs("div",{ref:le,className:Ht("flex-1 flex items-center overflow-x-auto scrollbar-hide px-1 mx-1",be?"gap-2":"gap-1.5"),children:[o.sections.map((ze,it)=>{const rt=it===G,ut=Xf(ze,o.sections),vt=ut.charAt(0).toUpperCase();return b.jsx("button",{"data-section-id":ze.id,onClick:()=>{if(rt){Fe(ze.id);return}L(it),ze.measures[0]?.beats[0]&&f(ze.id,ze.measures[0].beats[0].id)},className:Ht("no-touch-enlarge relative font-semibold transition-all touch-feedback shrink-0","flex items-center justify-center",rt?Ht("rounded-full text-white shadow-lg whitespace-nowrap overflow-hidden",be?"w-32 h-9 text-xs":"w-24 h-8 text-[11px]"):Ht("rounded-full text-text-secondary hover:text-text-primary border border-border-medium hover:border-border-subtle hover:bg-bg-tertiary",be?"w-9 h-9 text-sm":"w-8 h-8 text-xs")),style:rt?{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #6366f1 100%)",boxShadow:"0 0 16px rgba(99, 102, 241, 0.5), inset 0 1px 0 rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.2)"}:void 0,title:ut,children:rt?b.jsxs("span",{className:"flex items-center gap-1 px-2 truncate",children:[b.jsx("span",{className:"truncate",children:ut}),b.jsx(Bv,{size:be?14:12,className:"opacity-70 shrink-0"})]}):vt},ze.id)}),b.jsx("button",{onClick:()=>A(),className:Ht("no-touch-enlarge rounded-full text-text-muted hover:text-accent-primary touch-feedback shrink-0 border border-dashed border-border-medium hover:border-accent-primary/50 transition-all hover:bg-accent-primary/10 flex items-center justify-center",be?"w-9 h-9":"w-8 h-8"),title:"Add section",children:b.jsx(Zh,{size:be?14:12})})]}),b.jsx("button",{onClick:()=>ct("next"),disabled:G===o.sections.length-1,className:Ht("no-touch-enlarge rounded text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed touch-feedback",be?"p-2":"p-1.5"),children:b.jsx(Fh,{size:be?18:16})}),!t&&b.jsx("button",{onClick:e,className:"p-2 min-w-[40px] min-h-[40px] hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center ml-1",title:"Close timeline",children:b.jsx(G3,{size:18,className:"text-text-muted rotate-90"})})]}),b.jsx("div",{ref:ne,className:Ht("flex-1",be?"px-3 pb-2 pt-3":"px-1 pb-1 pt-3",a?"overflow-y-auto overflow-x-hidden":"overflow-x-auto overflow-y-hidden"),children:at&&b.jsx("div",{className:Ht(a?s?"flex flex-col gap-0":"grid grid-cols-4 gap-0.5":Ht("flex flex-row items-center",be?"gap-1.5":"gap-0.5")),children:at.measures.map((ze,it)=>b.jsxs(Kn.Fragment,{children:[b.jsxs("div",{className:Ht("flex items-center",a?s?"gap-0.5 w-full min-w-0":"gap-0.5":be?"gap-1 shrink-0":"gap-0.5 shrink-0"),children:[b.jsxs("div",{className:Ht("flex flex-col items-center justify-center shrink-0",a?"gap-0 w-4":be?"gap-0 w-6":"gap-0 w-5"),children:[b.jsx("span",{className:Ht("font-mono text-text-muted text-center leading-none",be?"text-[9px]":a?"text-[7px]":"text-[8px]"),children:it+1}),b.jsx(wk,{value:ze.beats.length,onChange:rt=>F(at.id,ze.id,rt),timeSignature:at.timeSignature||[4,4],isCompact:a})]}),b.jsx("div",{className:Ht("flex items-center",a?s?`flex-1 gap-0.5 min-w-0 ${ze.beats.length>4?"overflow-x-auto scrollbar-hide":"overflow-hidden"}`:`flex-1 gap-0.5 min-w-0 ${ze.beats.length>4?"overflow-x-auto scrollbar-hide":"overflow-hidden"}`:"gap-0.5"),children:ze.beats.map(rt=>{const ut=u===at.id&&c===rt.id,vt=v&&y===at.id&&_===rt.id,dt=rt.chord?et(rt.chord.root):void 0,yt=ze.beats.length;let ht,wn;a&&yt>4&&(ht=Math.max(22,Math.floor(160/yt)),wn=Math.max(18,Math.floor(120/yt)));const Zt=be?48:36,Nt=4/yt,wt=Math.round(Zt*Nt),Tt=Math.max(be?36:28,Math.min(be?192:144,wt)),gt=be?40:a&&s?yt<=4?26:24:32;return b.jsxs("button",{"data-slot-id":rt.id,onClick:()=>Ue(at.id,rt.id,rt.chord),className:Ht("no-touch-enlarge relative flex items-center justify-center rounded-md transition-all touch-feedback group",a&&yt<=4?"flex-1 min-w-0":"shrink-0",vt&&"ring-2 ring-green-500 ring-offset-1 ring-offset-bg-primary shadow-[0_0_12px_rgba(34,197,94,0.5)] scale-105 z-10",ut&&!vt&&"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary",!rt.chord&&"border-2 border-dashed border-border-medium bg-bg-elevated hover:border-text-muted"),style:{height:`${gt}px`,...a&&ht?{width:`${ht}px`,minWidth:`${wn}px`}:{},...a?{}:{width:`${Tt}px`,minWidth:`${Tt}px`},...rt.chord?{backgroundColor:"rgba(0, 0, 0, 0.3)",border:`2px solid ${dt}`}:{}},children:[rt.chord?b.jsx("span",{className:Ht("font-bold px-0.5 truncate",be?"text-xs":a?yt>=8?"text-[7px]":yt>=4?"text-[8px]":"text-[9px]":"text-[10px]"),style:{color:dt},children:Jn(rt.chord.symbol)}):b.jsx("span",{className:Ht("text-text-muted font-light",a?yt>=8?"text-xs":"text-sm":"text-base"),children:"+"}),vt&&b.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full bg-green-500 flex items-center justify-center",children:b.jsx(Xh,{size:6,fill:"white",className:"text-white"})}),rt.chord&&!vt&&(ut||be)&&b.jsx("div",{onClick:rn=>{rn.stopPropagation(),U(at.id,rt.id)},className:Ht("absolute rounded-full bg-black/70 backdrop-blur-sm flex items-center justify-center cursor-pointer border border-white/30 active:bg-white/30",be?"w-4 h-4 -top-2 -right-2 opacity-0 group-hover:opacity-100 hover:bg-white/20 hover:border-white/50 transition-all z-30":"w-5 h-5 -top-2.5 -right-2.5 opacity-100 z-30"),title:"Remove chord",children:b.jsx("span",{className:Ht("text-white/90 font-bold leading-none",be?"text-[10px]":"text-xs"),children:""})})]},rt.id)})})]}),!s&&!a&&it<at.measures.length-1&&b.jsx("div",{className:"w-px h-5 bg-border-medium shrink-0"})]},ze.id))})}),we&&(()=>{const ze=o.sections.findIndex(ut=>ut.id===we),it=ze>0,rt=ze<o.sections.length-1;return b.jsx(Nk,{section:o.sections.find(ut=>ut.id===we),isOpen:!0,onClose:()=>Fe(null),onTimeSignatureChange:ut=>{const[vt,dt]=ut.split("/").map(yt=>parseInt(yt,10));vt&&dt&&we&&N(we,[vt,dt])},onBarsChange:ut=>{we&&k(we,ut)},onStepCountChange:ut=>{we&&C(we,ut)},onNameChange:(ut,vt)=>{we&&B(we,{name:ut,type:vt})},onCopy:()=>{we&&D(we)},onClear:()=>{we&&V(we)},onDelete:()=>{we&&R(we)},songTimeSignature:oe||[4,4],onNavigatePrev:()=>{if(it){const ut=o.sections[ze-1];Fe(ut.id),L(ze-1)}},onNavigateNext:()=>{if(rt){const ut=o.sections[ze+1];Fe(ut.id),L(ze+1)}},hasPrev:it,hasNext:rt,sectionIndex:ze,totalSections:o.sections.length,onSlotClick:ut=>{Fe(null),L(ze),d(we,ut)}})})()]}):b.jsxs("div",{"data-mobile-timeline":!0,className:"w-full h-12 flex flex-col items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-grab active:cursor-grabbing touch-feedback select-none",onClick:()=>{!xe.current&&pe===0&&e()},onTouchStart:Ne,onTouchMove:nt,onTouchEnd:Be,onMouseDown:je,style:{transform:pe>0?`translateY(-${pe}px)`:void 0,opacity:pe>0?Math.min(1,.7+pe/100):1,transition:pe===0?"all 0.2s ease-out":"none"},children:[b.jsx("div",{className:"w-12 h-1.5 rounded-full bg-text-muted/40 mb-1.5"}),b.jsx("span",{className:"text-[10px] font-medium text-text-muted uppercase tracking-wider",children:"Timeline"})]})},lg=({highlightedNotes:n,rootNote:e,bassNote:t,color:s="#6366f1",octave:a=4,onNotePlay:o})=>{const u=["C","D","E","F","G","A","B"],c=C=>{const R={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},D=C.replace(/\d+/g,"");return R[D]??-1},f=n.map(C=>c(C)),d=e?c(e):-1,p=t?c(t):-1,y=C=>{const R=c(C);return R!==-1&&f.includes(R)},_=C=>d===-1?!1:c(C)===d,v=C=>p===-1?!1:c(C)===p,A=(C,R)=>{o&&o(C,R)},N=()=>{const C=[];for(let D=0;D<2;D++){const V=a+D;u.forEach(F=>{const Y=y(F),H=_(F),E=v(F);C.push(b.jsx("div",{className:"h-full rounded-b-md relative border-x border-b border-gray-400 cursor-pointer hover:brightness-95 active:brightness-90 transition-all",style:{width:`${100/14}%`,background:"linear-gradient(180deg, #fafafa 0%, #e8e8e8 70%, #d0d0d0 100%)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.9), inset 0 -2px 4px rgba(0,0,0,0.08)"},onClick:()=>A(F,V),children:Y&&b.jsxs(b.Fragment,{children:[H&&b.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none animate-pulse",style:{bottom:"3px",transform:"translateX(-50%)",width:"18px",height:"18px",background:"transparent",border:`2px solid ${s}`,boxShadow:`0 0 8px ${s}, 0 0 12px ${s}60`,opacity:.9}}),b.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"6px",transform:"translateX(-50%)",width:E?"14px":H?"12px":"9px",height:E?"14px":H?"12px":"9px",background:s,border:E?"3px solid #000":"2px solid #000",boxShadow:E?`0 0 10px ${s}, 0 0 4px ${s}`:`0 0 6px ${s}80`}})]})},`white-${D}-${F}`))})}return C},k=()=>{const C=[],R=[{note:"C#",offset:7.14},{note:"D#",offset:14.28},{note:"F#",offset:28.57},{note:"G#",offset:35.71},{note:"A#",offset:42.85}];for(let D=0;D<2;D++){const V=D*50,F=a+D;R.forEach(({note:Y,offset:H})=>{const E=y(Y),B=_(Y),te=v(Y),j=V+H;C.push(b.jsx("div",{className:"absolute top-0 rounded-b-md cursor-pointer hover:brightness-125 active:brightness-150 transition-all",style:{left:`${j}%`,width:"5.5%",height:"58%",transform:"translateX(-50%)",background:"linear-gradient(180deg, #333 0%, #1a1a1a 70%, #0a0a0a 100%)",boxShadow:"0 3px 6px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.08)",pointerEvents:"auto"},onClick:()=>A(Y,F),children:E&&b.jsxs(b.Fragment,{children:[B&&b.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none animate-pulse",style:{bottom:"1px",transform:"translateX(-50%)",width:"16px",height:"16px",background:"transparent",border:`2px solid ${s}`,boxShadow:`0 0 8px ${s}, 0 0 12px ${s}60`,opacity:.9}}),b.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"4px",transform:"translateX(-50%)",width:te?"12px":B?"10px":"8px",height:te?"12px":B?"10px":"8px",background:s,border:te?"3px solid #fff":"2px solid #fff",boxShadow:te?`0 0 10px ${s}, 0 0 4px ${s}`:`0 0 6px ${s}80`}})]})},`black-${D}-${Y}`))})}return C};return b.jsx("div",{className:"relative w-full rounded-lg select-none overflow-hidden",style:{height:"80px",minHeight:"80px",background:"#1a1a22",boxShadow:"inset 0 2px 8px rgba(0,0,0,0.6)",padding:"3px 2px 2px 2px"},children:b.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[b.jsx("div",{className:"flex w-full h-full gap-[1px]",style:{position:"relative",zIndex:0},children:N()}),b.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,pointerEvents:"none"},children:k()})]})})},Tk={C:{maj:[{frets:[-1,3,2,0,1,0],fingers:[0,3,2,0,1,0],barres:[],baseFret:1}],m:[{frets:[-1,3,1,0,1,3],fingers:[0,3,1,0,2,4],barres:[],baseFret:1}],7:[{frets:[-1,3,2,3,1,0],fingers:[0,3,2,4,1,0],barres:[],baseFret:1}],maj7:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj9:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,3,2,2,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],m7:[{frets:[-1,3,1,3,1,3],fingers:[0,2,1,3,1,4],barres:[1],baseFret:3}],m9:[{frets:[-1,3,1,3,3,3],fingers:[0,2,1,3,4,4],barres:[],baseFret:3}],m11:[{frets:[-1,3,1,3,3,1],fingers:[0,2,1,3,4,1],barres:[1],baseFret:3}],m6:[{frets:[-1,3,1,2,1,3],fingers:[0,3,1,2,1,4],barres:[1],baseFret:1}],sus2:[{frets:[-1,3,0,0,1,3],fingers:[0,2,0,0,1,3],barres:[],baseFret:1}],sus4:[{frets:[-1,3,3,0,1,1],fingers:[0,3,4,0,1,1],barres:[1],baseFret:1}],dim:[{frets:[-1,3,1,-1,1,2],fingers:[0,4,1,0,2,3],barres:[],baseFret:1}],6:[{frets:[-1,3,2,2,1,0],fingers:[0,4,2,3,1,0],barres:[],baseFret:1}],add9:[{frets:[-1,3,2,0,3,0],fingers:[0,2,1,0,3,0],barres:[],baseFret:1}],9:[{frets:[-1,3,2,3,3,0],fingers:[0,2,1,3,4,0],barres:[],baseFret:1}],11:[{frets:[-1,3,2,3,3,3],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],13:[{frets:[-1,3,2,3,3,5],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,3,4,3,4,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},"C#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},Db:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},D:{maj:[{frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2],barres:[],baseFret:1}],m:[{frets:[-1,-1,0,2,3,1],fingers:[0,0,0,2,3,1],barres:[],baseFret:1}],7:[{frets:[-1,-1,0,2,1,2],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],maj7:[{frets:[-1,-1,0,2,2,2],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],maj9:[{frets:[-1,-1,0,2,2,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],maj13:[{frets:[-1,-1,0,2,2,4],fingers:[0,0,0,1,1,3],barres:[2],baseFret:1}],m7:[{frets:[-1,-1,0,2,1,1],fingers:[0,0,0,2,1,1],barres:[1],baseFret:1}],m9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],m11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m6:[{frets:[-1,-1,0,2,0,1],fingers:[0,0,0,2,0,1],barres:[],baseFret:1}],sus2:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],sus4:[{frets:[-1,-1,0,2,3,3],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,1,3,1],fingers:[0,0,0,1,4,2],barres:[],baseFret:1}],6:[{frets:[-1,-1,0,2,0,2],fingers:[0,0,0,1,0,2],barres:[],baseFret:1}],add9:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],13:[{frets:[-1,-1,0,2,1,4],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,1,1,1],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}]},"D#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},Eb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},E:{maj:[{frets:[0,2,2,1,0,0],fingers:[0,2,3,1,0,0],barres:[],baseFret:1}],m:[{frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0],barres:[],baseFret:1}],7:[{frets:[0,2,0,1,0,0],fingers:[0,2,0,1,0,0],barres:[],baseFret:1}],maj7:[{frets:[0,2,1,1,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],maj9:[{frets:[0,2,1,1,0,2],fingers:[0,2,1,1,0,3],barres:[1],baseFret:1}],maj13:[{frets:[0,2,1,1,2,2],fingers:[0,2,1,1,3,3],barres:[],baseFret:1}],m7:[{frets:[0,2,0,0,0,0],fingers:[0,1,0,0,0,0],barres:[],baseFret:1}],m9:[{frets:[0,2,0,0,0,2],fingers:[0,2,0,0,0,3],barres:[],baseFret:1}],m11:[{frets:[0,2,0,0,3,0],fingers:[0,2,0,0,4,0],barres:[],baseFret:1}],m6:[{frets:[0,2,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],sus2:[{frets:[0,2,4,4,0,0],fingers:[0,1,3,4,0,0],barres:[],baseFret:1}],sus4:[{frets:[0,2,2,2,0,0],fingers:[0,2,3,4,0,0],barres:[],baseFret:1}],dim:[{frets:[0,1,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],6:[{frets:[0,2,2,1,2,0],fingers:[0,2,3,1,4,0],barres:[],baseFret:1}],add9:[{frets:[0,2,2,1,0,2],fingers:[0,2,3,1,0,4],barres:[],baseFret:1}],9:[{frets:[0,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],11:[{frets:[0,2,0,1,3,0],fingers:[0,2,0,1,4,0],barres:[],baseFret:1}],13:[{frets:[0,2,0,1,2,2],fingers:[0,2,0,1,3,4],barres:[],baseFret:1}],m7b5:[{frets:[0,1,0,0,2,0],fingers:[0,1,0,0,2,0],barres:[],baseFret:1}]},F:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:1}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:1}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,-1,3,2,1,0],fingers:[0,0,3,2,1,0],barres:[],baseFret:1}],maj9:[{frets:[1,0,3,0,1,0],fingers:[1,0,3,0,2,0],barres:[],baseFret:1}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:1}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:1}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:1}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,-1,3,0,1,1],fingers:[0,0,3,0,1,1],barres:[1],baseFret:1}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:1}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:1}],6:[{frets:[1,-1,0,2,1,1],fingers:[1,0,0,3,1,1],barres:[1],baseFret:1}],add9:[{frets:[-1,-1,3,2,1,3],fingers:[0,0,3,2,1,4],barres:[],baseFret:1}],9:[{frets:[1,3,1,2,1,3],fingers:[1,3,1,2,1,4],barres:[1],baseFret:1}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:1}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:1}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}]},"F#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},Gb:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},G:{maj:[{frets:[3,2,0,0,0,3],fingers:[2,1,0,0,0,3],barres:[],baseFret:1}],m:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],7:[{frets:[3,2,0,0,0,1],fingers:[3,2,0,0,0,1],barres:[],baseFret:1}],maj7:[{frets:[3,2,0,0,0,2],fingers:[3,1,0,0,0,2],barres:[],baseFret:1}],maj9:[{frets:[3,0,0,0,0,2],fingers:[2,0,0,0,0,1],barres:[],baseFret:1}],maj13:[{frets:[3,2,0,0,2,2],fingers:[3,1,0,0,2,2],barres:[2],baseFret:1}],m7:[{frets:[3,1,0,0,3,0],fingers:[2,1,0,0,3,0],barres:[],baseFret:1}],m9:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],m11:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],m6:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],sus2:[{frets:[3,0,0,0,3,3],fingers:[1,0,0,0,2,3],barres:[],baseFret:1}],sus4:[{frets:[3,3,0,0,1,3],fingers:[2,3,0,0,1,4],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],6:[{frets:[3,2,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],add9:[{frets:[3,0,0,0,0,3],fingers:[2,0,0,0,0,3],barres:[],baseFret:1}],9:[{frets:[3,2,0,1,0,1],fingers:[3,2,0,1,0,1],barres:[1],baseFret:1}],11:[{frets:[3,2,0,1,3,1],fingers:[3,2,0,1,4,1],barres:[1],baseFret:1}],13:[{frets:[3,2,0,1,0,5],fingers:[2,1,0,1,0,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}]},"G#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},Ab:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},A:{maj:[{frets:[-1,0,2,2,2,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],m:[{frets:[-1,0,2,2,1,0],fingers:[0,0,2,3,1,0],barres:[],baseFret:1}],7:[{frets:[-1,0,2,0,2,0],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}],maj7:[{frets:[-1,0,2,1,2,0],fingers:[0,0,2,1,3,0],barres:[],baseFret:1}],maj9:[{frets:[-1,0,2,1,0,0],fingers:[0,0,2,1,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,0,2,1,2,4],fingers:[0,0,2,1,3,4],barres:[],baseFret:1}],m7:[{frets:[-1,0,2,0,1,0],fingers:[0,0,2,0,1,0],barres:[],baseFret:1}],m9:[{frets:[-1,0,2,0,1,3],fingers:[0,0,2,0,1,4],barres:[],baseFret:1}],m11:[{frets:[-1,0,0,0,1,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],m6:[{frets:[-1,0,2,2,1,2],fingers:[0,0,2,3,1,4],barres:[],baseFret:1}],sus2:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],sus4:[{frets:[-1,0,2,2,3,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],dim:[{frets:[-1,0,1,2,1,-1],fingers:[0,0,1,3,2,0],barres:[],baseFret:1}],6:[{frets:[-1,0,2,2,2,2],fingers:[0,0,1,1,1,1],barres:[2],baseFret:1}],add9:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],9:[{frets:[-1,0,2,4,2,3],fingers:[0,0,1,3,1,2],barres:[2],baseFret:1}],11:[{frets:[-1,0,0,0,2,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],13:[{frets:[-1,0,2,0,2,4],fingers:[0,0,1,0,2,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,0,1,0,1,-1],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}]},"A#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},Bb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},B:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:2}],7:[{frets:[-1,2,1,2,0,2],fingers:[0,2,1,3,0,4],barres:[],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:2}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:2}],m7:[{frets:[-1,2,0,2,0,2],fingers:[0,1,0,2,0,3],barres:[],baseFret:1}],m9:[{frets:[-1,2,0,2,2,2],fingers:[0,1,0,2,3,4],barres:[],baseFret:1}],m11:[{frets:[-1,2,0,2,0,0],fingers:[0,1,0,2,0,0],barres:[],baseFret:1}],m6:[{frets:[-1,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:2}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:2}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,2,1,2,2,2],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],11:[{frets:[-1,2,1,2,0,0],fingers:[0,2,1,3,0,0],barres:[],baseFret:1}],13:[{frets:[-1,2,1,2,2,4],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:2}]}};function Ck(n){return{"C":"C#","D":"Db","D":"D#","E":"Eb","F":"F#","G":"Gb","G":"G#","A":"Ab","A":"A#","B":"Bb"}[n]||n.replace("","#").replace("","b")}function kk(n){return{major:"maj",major7:"maj7",major9:"maj9",major11:"maj11",major13:"maj13",major6:"6",minor:"m",min:"m",minor7:"m7",min7:"m7",minor9:"m9",min9:"m9",minor11:"m11",min11:"m11",minor13:"m13",min13:"m13",minor6:"m6",min6:"m6",dom7:"7",dominant7:"7",dom9:"9",dominant9:"9",dom11:"11",dominant11:"11",dom13:"13",dominant13:"13",suspended2:"sus2",suspended4:"sus4",diminished:"dim","half-diminished":"m7b5",halfDiminished7:"m7b5","m75":"m7b5",sixth:"6",ninth:"9",added9:"add9"}[n]||n}function ow(n,e){const t=Ck(n),s=kk(e),a=Tk[t];if(!a)return null;const o=a[s];return!o||o.length===0?null:o[0]}const cg=({root:n,quality:e,color:t="#6366f1",onClick:s,onDoubleClick:a})=>{const o=w2(),u=ow(n,e),c=re.useRef(0),f=re.useRef(null),d=Jn(`${n}${Ah(e)}`),p=()=>{const N=Date.now(),k=N-c.current;f.current&&(clearTimeout(f.current),f.current=null),k<300&&k>0?(c.current=0,a&&a()):(c.current=N,f.current=setTimeout(()=>{s&&s(),f.current=null},300))},y=re.useRef(0),_=re.useRef(null),v=N=>{N.preventDefault(),N.stopPropagation();const k=Date.now(),C=k-y.current;_.current&&(clearTimeout(_.current),_.current=null),C<300&&C>0?(y.current=0,a&&a()):(y.current=k,_.current=setTimeout(()=>{s&&s(),_.current=null},300))};if(!u)return b.jsxs("div",{className:"flex items-center justify-center text-text-muted text-xs py-4",children:["No guitar diagram available for ",n,e]});const A=s||a;return b.jsxs("div",{className:`flex flex-col items-center ${A?"cursor-pointer touch-feedback hover:opacity-80 active:scale-95 transition-all":""}`,onClick:A?p:void 0,onTouchEnd:A?v:void 0,onTouchStart:A?N=>N.stopPropagation():void 0,children:[b.jsx("span",{className:`${o?"text-xs":"text-[11px]"} font-bold mb-1 text-center`,style:{backgroundColor:"transparent",color:t,padding:"4px 12px",borderRadius:"10px",border:`2px solid ${t}`},children:d}),b.jsx("svg",{viewBox:"0 0 100 120",className:`w-full ${o?"max-w-[110px]":"max-w-[120px]"}`,style:{minHeight:o?110:120,pointerEvents:"none"},children:b.jsx(jk,{chord:u,color:t})})]})},jk=({chord:n,color:e})=>{const{frets:t,fingers:s,barres:a,baseFret:o}=n,u=20,c=25,f=12,d=18,p=4,y=6,_=4.5,v=Array.from({length:y},(R,D)=>u+D*f),A=Array.from({length:p+1},(R,D)=>c+D*d),N=o===1,k=f*(y-1)+16,C=d*p+8;return b.jsxs(b.Fragment,{children:[b.jsx("rect",{x:u-8,y:c-4,width:k,height:C,fill:"#3d2817",rx:3}),N?b.jsx("rect",{x:u-2,y:c-3,width:f*(y-1)+4,height:4,fill:"#f5f5f5",rx:1}):b.jsx("text",{x:u-14,y:c+d/2+4,fontSize:"12",fill:"#e0e0e0",textAnchor:"middle",fontWeight:"700",children:o}),A.map((R,D)=>b.jsx("line",{x1:u,y1:R,x2:u+f*(y-1),y2:R,stroke:"#b8b8b8",strokeWidth:D===0&&!N?2:1},`fret-${D}`)),v.map((R,D)=>b.jsx("line",{x1:R,y1:c,x2:R,y2:c+d*p,stroke:"#d4d4d4",strokeWidth:1.2+(5-D)*.25},`string-${D}`)),a.map((R,D)=>{const V=t.map((E,B)=>({fret:E,idx:B})).filter(({fret:E})=>E===R);if(V.length<2)return null;const F=Math.min(...V.map(E=>E.idx)),Y=Math.max(...V.map(E=>E.idx)),H=c+(R-.5)*d;return b.jsx("rect",{x:v[F]-_,y:H-_,width:v[Y]-v[F]+_*2,height:_*2,fill:"white",stroke:e,strokeWidth:2,rx:_},`barre-${D}`)}),t.map((R,D)=>{const V=v[D];if(R===-1)return b.jsx("text",{x:V,y:c-10,fontSize:"14",fill:"#ff6b6b",textAnchor:"middle",fontWeight:"bold",children:""},`mute-${D}`);if(R===0)return b.jsx("circle",{cx:V,cy:c-8,r:4,fill:"none",stroke:"var(--color-text-secondary)",strokeWidth:1.5},`open-${D}`);const F=a.includes(R),Y=s[D];if(F){const E=t.findIndex(B=>B===R);if(D!==E)return null}const H=c+(R-.5)*d;return b.jsxs("g",{children:[b.jsx("circle",{cx:V,cy:H,r:_,fill:"white",stroke:e,strokeWidth:2}),Y>0&&!F&&b.jsx("text",{x:V,y:H+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:Y})]},`finger-${D}`)}),a.map((R,D)=>{const V=t.map((E,B)=>({fret:E,idx:B})).filter(({fret:E})=>E===R);if(V.length<2)return null;const F=Math.min(...V.map(E=>E.idx)),Y=c+(R-.5)*d,H=s[F];return H>0?b.jsx("text",{x:v[F],y:Y+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:H},`barre-finger-${D}`):null})]})},Hv=({notes:n,rootNote:e,color:t="#6366f1",width:s,numerals:a,onNotePlay:o,compact:u=!1})=>{const c=w2(),f=Y=>{const H=Y.replace(/[0-9]/g,"");let E=H[0],B="";H.includes("")||H.includes("#")?B="":(H.includes("")||H.includes("b"))&&(B="");let j={C:-6,D:-5,E:-4,F:-3,G:-2,A:-1,B:0}[E]??0;const I="CDEFGAB".indexOf(E),ee="CDEFGAB".indexOf(e[0]);return I<ee&&ee-I>3&&(j+=7),{line:j,accidental:B}},d=Y=>{o&&o(Y,4)},y=s||(u?180:c?280:340),_=u?70:c?110:115,v=u?6:12,A=v,N=_*(u?.28:.22),k=u?7:10,C=Math.max(80,y-v*2),R=N+(u?32:50),D=N+(u?42:62),V=n.map((Y,H)=>{const{line:E,accidental:B}=f(Y),te=u?40:60,j=C-te-15,I=u?18:25,ee=j/Math.max(n.length-1,1),U=Math.max(ee,I),oe=U*Math.max(n.length-1,0),$=(j-oe)/2,ne=A+te+$+H*U,le=N-E*k/2;return{note:Y,x:ne,y:le,line:E,accidental:B,needsLedgerLines:E<-4||E>4}}),F=Y=>{const H=[];if(Y.line<-4)for(let B=-6;B>=Y.line;B-=2)B<-4&&H.push(b.jsx("line",{x1:Y.x-28/2,y1:N-B*k/2,x2:Y.x+28/2,y2:N-B*k/2,stroke:"#888",strokeWidth:"1.5"},`ledger-below-${B}`));else if(Y.line>4)for(let B=6;B<=Y.line;B+=2)B>4&&H.push(b.jsx("line",{x1:Y.x-28/2,y1:N-B*k/2,x2:Y.x+28/2,y2:N-B*k/2,stroke:"#888",strokeWidth:"1.5"},`ledger-above-${B}`));return H};return b.jsx("div",{className:`flex justify-center items-center ${u?"":"w-full"}`,children:b.jsxs("svg",{viewBox:`0 0 ${y} ${_}`,className:u?"":"w-full",style:{minHeight:u?60:c?95:100,width:u?y:void 0},children:[[-2,-1,0,1,2].map(Y=>b.jsx("line",{x1:A,y1:N-Y*k,x2:A+C,y2:N-Y*k,stroke:"#777",strokeWidth:u?1.5:2},`staff-${Y}`)),b.jsx("text",{x:A-(u?2:3),y:N+(u?14:20),fontSize:u?"38":c?"56":"62",fill:t,fontFamily:"serif",fontWeight:"bold",children:""}),V.map(Y=>F(Y)),V.map((Y,H)=>b.jsxs("g",{children:[Y.accidental&&b.jsx("text",{x:Y.x-(u?12:20),y:Y.y+(u?3:5),fontSize:u?"12":c?"18":"20",fill:"#ccc",fontFamily:"serif",fontWeight:"bold",children:Y.accidental}),o&&b.jsx("circle",{cx:Y.x,cy:Y.y,r:16,fill:"transparent",style:{cursor:"pointer"},onClick:()=>d(Y.note),onTouchEnd:E=>{E.preventDefault(),d(Y.note)}}),b.jsx("ellipse",{cx:Y.x,cy:Y.y,rx:u?5:7,ry:u?4:5.5,fill:H===0?t:"#ddd",stroke:H===0?t:"#ddd",strokeWidth:1,style:o?{cursor:"pointer"}:void 0,className:o?"hover:opacity-80 active:scale-110 transition-transform":""}),b.jsx("text",{x:Y.x,y:R,fontSize:u?"7":c?"10":"11",fill:"#999",textAnchor:"middle",fontWeight:"600",children:Y.note}),a&&a[H]&&b.jsx("text",{x:Y.x,y:D,fontSize:u?"7":c?"9":"10",fill:H===0?t:"#777",textAnchor:"middle",fontWeight:"700",children:a[H]})]},`note-${H}`))]})})},ug=({variant:n="sidebar",onScrollChange:e,forceVisible:t=!1})=>{const{selectedChord:s,selectedKey:a,chordPanelVisible:o,toggleChordPanel:u,selectedSectionId:c,selectedSlotId:f,addChordToSlot:d,setSelectedChord:p,setSelectedSlot:y,timelineVisible:_,openTimeline:v,setChordPanelGuitarExpanded:A,setChordPanelVoicingsExpanded:N,chordPanelAttention:k}=an(),C=Ph(),[R,D]=re.useState(null),[V,F]=re.useState([]),[Y,H]=re.useState(320),[E,B]=re.useState(!1),te=re.useRef(0),j=n==="drawer",[I,ee]=re.useState(s),U=s??I,{isMobile:oe}=Kh(),$=n==="landscape-panel"||n==="landscape-expanded",ne=n==="landscape-panel",le=!j&&!$&&Y<360,fe=!j&&!$&&Y<290,[be,G]=re.useState(!1),[L,X]=re.useState(!1),[W,Q]=re.useState(!oe||$),[se,pe]=re.useState(0),de=4,xe=_e=>{G(_e),N(_e)},we=_e=>{Q(_e),A(_e)};re.useEffect(()=>{A(W),N(be)},[]);const Fe=re.useRef(0),Ye=re.useRef(0),[Ze,lt]=re.useState(0),z=re.useRef(null),Ne=re.useRef(null),nt=re.useRef(null),Be=re.useRef(null),je=_e=>{if(_e.current&&Be.current){const st=Be.current,zt=_e.current.offsetTop-st.offsetTop;st.scrollTo({top:zt,behavior:"smooth"})}},et=re.useCallback(_e=>{!j||!oe||(Fe.current=_e.touches[0].clientY,Ye.current=_e.touches[0].clientY)},[j,oe]),Ue=re.useCallback(_e=>{if(!j||!oe)return;Ye.current=_e.touches[0].clientY;const st=Ye.current-Fe.current;st>0&&lt(Math.min(st,150))},[j,oe]),ct=re.useCallback(()=>{!j||!oe||(Ze>80?(lt(300),setTimeout(()=>{u(),lt(0)},200)):lt(0))},[j,oe,Ze,u]),at=()=>{if(!U)return"Chord Details";const _e=R||U.quality;return Jn(_e==="major"||_e==="maj"?U.root:_e==="minor"||_e==="m"?`${U.root}m`:_e==="diminished"||_e==="dim"?`${U.root}dim`:`${U.root}${Ah(_e)}`)},ze=re.useCallback((_e,st)=>{J3(_e,st)},[]),it={maj:'The classic major triad: bright, stable, and universally resolved. The foundation of Western harmony and the sound of "home."',major:'The classic major triad: bright, stable, and universally resolved. The foundation of Western harmony and the sound of "home."',maj7:"Smooth and sophisticated, the major 7th adds a dreamy, floating quality. Think Burt Bacharach, neo-soul, and late-night jazz.",maj9:"Builds on maj7 with a crystalline 9th. Modern, airy, and introspective  perfect for R&B ballads and ambient textures.",maj13:"The full major palette: lush, orchestral, and complex. Great for endings or when you want maximum harmonic richness.",6:"Warm and vintage  the major 6th has an old-Hollywood or country sweetness. Softer resolution than maj7.",add9:"A major triad with added sparkle from the 9th, but no 7th. Clean, modern, and ubiquitous in pop and worship music.",7:"The dominant 7th creates bluesy tension begging for resolution. The engine behind the ii-V-I and the soul of rock & blues.",9:"Dominant 7 with a colorful 9th. Funky, jazzy, and sophisticated  think Stevie Wonder, Earth Wind & Fire, and neo-soul.",11:"Suspended, modal quality over dominant function. Creates an open, unresolved tension that floats before landing.",13:"The dominant chord at its richest: soulful 13th on top of bluesy 7th. Perfect for jazz turnarounds and R&B grooves.",m7:"The workhorse minor chord: soulful, laid-back, and endlessly versatile. The default for jazz ii chords and R&B grooves.",minor:"The basic minor triad: melancholic, introspective, and emotionally direct. Minor keys are built on this sound.",m9:"Lush and cinematic  adds depth and width to the minor sound. Evokes late-night cityscapes and emotional introspection.",m11:"Spacious and modal, with an open 11th suspension. Great for grooves, vamps, and creating atmospheric tension.",m6:"Bittersweet with a film-noir quality. The 6th adds sophistication to minor  a nice alternative to m7 for tonic chords.",sus2:"Neither major nor minor  the open 2nd creates an ambient, neutral quality. Ubiquitous in pop, rock, and modern worship.",sus4:"Suspended tension from the 4th wants to fall to the 3rd. Creates expectation and movement  classic resolution technique.",dim:"Highly unstable and tense  every note pushes somewhere else. Perfect as a passing chord or chromatic approach.",diminished:"Highly unstable and tense  every note pushes somewhere else. Perfect as a passing chord or chromatic approach.",m7b5:"Half-diminished: dark and sophisticated. The natural ii chord in minor keys, essential for minor ii-V-i progressions."},rt=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],ut=_e=>{if(!U?.root)return"-";const st=ft=>ft.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),Ft={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},zt=Ft[st(U.root)],An=Ft[st(_e)];if(zt===void 0||An===void 0)return"-";const Oe=(An-zt+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[Oe]??"-"},vt=re.useCallback(_e=>{j||(_e.preventDefault(),B(!0))},[j]);re.useEffect(()=>{if(!E||j)return;const _e=zt=>{const An=window.innerWidth-zt.clientX;H(Math.max(280,Math.min(500,An)))},st=zt=>{if(zt.touches.length===1){const An=window.innerWidth-zt.touches[0].clientX;H(Math.max(280,Math.min(500,An)))}},Ft=()=>{B(!1)};return document.addEventListener("mousemove",_e),document.addEventListener("mouseup",Ft),document.addEventListener("touchmove",st),document.addEventListener("touchend",Ft),()=>{document.removeEventListener("mousemove",_e),document.removeEventListener("mouseup",Ft),document.removeEventListener("touchmove",st),document.removeEventListener("touchend",Ft)}},[E,j]),re.useEffect(()=>{s&&ee(s)},[s]),re.useEffect(()=>{D(null),F([]),pe(0)},[U?.root,U?.quality]),re.useEffect(()=>{$&&W&&z.current&&Be.current&&setTimeout(()=>{if(z.current&&Be.current){const _e=z.current,st=Be.current,Ft=_e.offsetTop-st.offsetTop;st.scrollTo({top:Ft+35,behavior:"smooth"})}},100)},[$,W]),re.useEffect(()=>{if(!j||!e)return;const _e=Be.current;if(!_e)return;const st=()=>{const Ft=_e.scrollHeight-_e.scrollTop-_e.clientHeight<20;e(Ft)};return _e.addEventListener("scroll",st),st(),()=>_e.removeEventListener("scroll",st)},[j,e]);const dt=U&&C[U.root]||"#6366f1",yt=V.length>0?V:U?.notes||[],ht=iu(yt,se),wn=J_(yt),Zt=_e=>{const st=Date.now();if(st-te.current<300||(te.current=st,!U))return;const Ft=la(U.root,_e),zt=iu(Ft,se);Br(zt),D(_e),F(Ft)},Nt=_e=>{if(te.current=0,!_){v();return}if(!U||!c||!f)return;const st=la(U.root,_e),Ft=hv(U.root,_e,st,se),zt={...U,quality:_e,symbol:Ft,notes:st,inversion:se};d(zt,c,f),y(c,f),p(zt)},wt=re.useCallback(()=>{if(!U)return;const _e=R||U.quality,st=la(U.root,_e),Ft=iu(st,se);Br(Ft)},[U,R,se]),Tt=re.useCallback(()=>{if(!_){v();return}if(!U||!c||!f)return;const _e=R||U.quality,st=la(U.root,_e),Ft=hv(U.root,_e,st,se),zt={...U,quality:_e,symbol:Ft,notes:st,inversion:se};d(zt,c,f),y(c,f),p(zt)},[U,R,se,c,f,d,y,p,_,v]),gt=re.useRef(0),rn=re.useRef(null),It=re.useCallback(_e=>{if(!U)return;_e.preventDefault(),_e.stopPropagation();const st=Date.now(),Ft=st-gt.current;rn.current&&(clearTimeout(rn.current),rn.current=null),Ft<300&&Ft>0?(gt.current=0,Tt()):(gt.current=st,rn.current=setTimeout(()=>{wt(),rn.current=null},300))},[U,wt,Tt]),Vt=()=>{if(!U)return{extensions:[],description:""};let _e=U.numeral;if(_e&&_e.includes("(")){const Ft=_e.match(/^(.+?)\s*\(/);Ft&&(_e=Ft[1].trim())}return{I:{extensions:["maj","maj7","maj9","maj13","6"],description:"The tonic  your home base and resting point. This is where phrases resolve and songs often begin and end. Its stability makes it perfect for choruses and moments of arrival."},IV:{extensions:["maj","maj7","maj9","maj13","6"],description:'The subdominant  warm, hopeful, and slightly floating. It gently pulls away from home without creating urgency. Great for pre-choruses and that "lifting" feeling before a chorus.'},V:{extensions:["maj","7","9","11","sus4","13"],description:`The dominant  maximum tension wanting to resolve back to I. This chord creates expectation and forward motion. It's the "question" that begs for an "answer."`},ii:{extensions:["m","m7","m9","m11","m6"],description:"The supertonic  a natural setup chord that leads smoothly to V or IV. It's the workhorse of the ii-V-I progression and adds sophistication to any verse."},iii:{extensions:["m","m7"],description:"The mediant  mysterious and chameleon-like. It can substitute for I (they share two notes) or lead to vi. Use it for unexpected color and emotional complexity."},vi:{extensions:["m","m7","m9","m11"],description:'The relative minor  emotional depth and melancholy without leaving the key. This is the "sad" chord in major keys and the foundation of countless pop progressions (vi-IV-I-V).'},"vii":{extensions:["dim","m75"],description:"The leading tone chord  highly unstable and restless. Every note wants to move somewhere, making it a powerful passing chord that pulls strongly toward I."},II:{extensions:["maj","7","sus4"],description:"A secondary dominant (V of V)  borrowed tension that points toward V. Use it to create a dramatic runway before landing on V."},III:{extensions:["maj","7","sus4"],description:"A secondary dominant (V of vi)  creates an unexpected dramatic pull toward vi. Perfect for adding tension before a minor chord moment."}}[_e||""]||{extensions:[],description:`This chord doesn't fit in the key of ${a}, but it may add color and interest to your progression.`}};if(!o&&!t)return j?b.jsxs("div",{className:"w-full h-12 flex flex-col items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-pointer touch-feedback active:bg-bg-tertiary",onClick:u,onTouchStart:_e=>{Fe.current=_e.touches[0].clientY,Ye.current=_e.touches[0].clientY},onTouchMove:_e=>{Ye.current=_e.touches[0].clientY},onTouchEnd:()=>{Fe.current-Ye.current>30&&u()},title:"Swipe up or tap to open",children:[b.jsx("div",{className:"w-12 h-1.5 rounded-full bg-text-muted/40 mb-1.5"}),b.jsx("span",{className:"text-[10px] font-medium text-text-muted uppercase tracking-wider",children:"Chord Details"})]}):b.jsx("button",{onClick:u,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:b.jsx(UC,{size:18,className:"text-text-muted"})});const ln=n==="landscape-panel",bt=n==="landscape-expanded";return b.jsxs("div",{className:`${bt||ln?"h-full w-full flex flex-col bg-bg-secondary overflow-hidden":j?`${oe?"relative w-full":"fixed inset-x-3 bottom-[88px]"} ${oe?"max-h-[60vh]":"max-h-[70vh]"} bg-bg-secondary ${oe?"border-t-2 border-border-subtle":"border-2 border-border-subtle rounded-2xl"} shadow-2xl overflow-hidden ${oe?"":"z-40"} flex`:"h-full flex bg-bg-secondary border-l border-border-subtle overflow-x-hidden"}${k?" chord-panel-attention":""}`,style:{...!j&&!ln&&!bt?{width:Y,minWidth:0,maxWidth:"100%"}:{},...j?{transform:Ze>0?`translateY(${Ze}px)`:void 0,opacity:Ze>0?Math.max(0,1-Ze/300):1,transition:Ze===0||Ze>=150?"all 0.2s ease-out":"none"}:{},...k?{boxShadow:"0 0 20px 4px rgba(99, 102, 241, 0.4), inset 0 0 10px rgba(99, 102, 241, 0.1)",borderColor:"rgba(99, 102, 241, 0.6)",transition:"box-shadow 0.3s ease-out, border-color 0.3s ease-out"}:{}},children:[!j&&!ln&&b.jsx("div",{className:`w-3 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary active:bg-accent-primary/20 transition-colors ${E?"bg-accent-primary/20":""} relative z-[60] touch-none`,onMouseDown:vt,onTouchStart:vt,children:b.jsx(q3,{size:12,className:"text-text-muted"})}),b.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[j&&oe&&b.jsx("div",{className:"flex flex-col items-center shrink-0 cursor-grab active:cursor-grabbing",onTouchStart:et,onTouchMove:Ue,onTouchEnd:ct,children:b.jsx("div",{className:"pt-2.5 pb-1 flex flex-col items-center",children:b.jsx("div",{className:"w-12 h-1.5 rounded-full bg-text-muted/40"})})}),b.jsxs("div",{className:`${$?"px-3 py-2":oe&&j?"px-2 py-2":"px-4 py-3"} border-b border-border-subtle ${fe?"flex flex-col gap-2":"grid grid-cols-[1fr_auto_1fr] items-center gap-2"} shrink-0 ${j?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[b.jsx("div",{className:`flex items-center min-w-0 ${fe?"justify-center":""}`,style:{gap:"8px"},children:ne&&U?b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-xs font-bold cursor-pointer touch-feedback hover:opacity-80 active:scale-95 transition-all",style:{backgroundColor:"transparent",color:dt,padding:"4px 10px",borderRadius:"8px",border:`2px solid ${dt}`},onClick:wt,onDoubleClick:Tt,children:at()}),U.numeral&&b.jsx("span",{className:"text-sm font-serif italic text-text-muted shrink-0",children:Jn(U.numeral)}),b.jsxs("div",{className:"flex items-center shrink-0",title:"Chord inversion",children:[b.jsx("button",{onClick:()=>{const _e=Math.max(0,se-1);pe(_e);const st=iu(yt,_e);Br(st)},disabled:se<=0,className:"w-3 h-3 flex items-center justify-center text-text-muted hover:text-accent-primary transition-colors disabled:opacity-20",children:b.jsx(Bh,{size:10})}),b.jsx("span",{className:"text-[9px] font-bold text-text-secondary w-3 text-center",children:se}),b.jsx("button",{onClick:()=>{const _e=Math.min(wn,se+1);pe(_e);const st=iu(yt,_e);Br(st)},disabled:se>=wn,className:"w-3 h-3 flex items-center justify-center text-text-muted hover:text-accent-primary transition-colors disabled:opacity-20",children:b.jsx(Fh,{size:10})})]})]})}):b.jsx(b.Fragment,{children:b.jsxs("span",{className:`flex items-center shrink-0 min-w-0 ${U?"cursor-pointer touch-feedback hover:opacity-80 active:scale-95 transition-all":""}`,style:U?{gap:"4px",backgroundColor:"transparent",color:dt,padding:"3px 8px",borderRadius:"6px",border:`1.5px solid ${dt}`}:{gap:"4px"},onClick:U?wt:void 0,onDoubleClick:U?Tt:void 0,onTouchEnd:U?It:void 0,onTouchStart:U?_e=>_e.stopPropagation():void 0,children:[b.jsx("span",{className:`${$?"text-lg":oe?"text-sm":"text-xs sm:text-sm"} font-bold leading-none truncate`,children:oe&&j?at():U?Jn(`${U.root}${Ah(R||U.quality)}`):"Chord Details"}),U?.numeral&&b.jsx("span",{className:`${$?"text-sm":"text-[10px]"} font-serif italic opacity-70 shrink-0`,children:Jn(U.numeral)})]})})}),!fe&&b.jsx("div",{className:"flex items-center justify-center",children:U&&!ne&&b.jsxs("div",{className:"flex items-center bg-bg-tertiary/40 rounded-full px-0.5 ml-3",title:"Chord inversion - which note is in the bass",children:[b.jsx("button",{onClick:()=>{const _e=Math.max(0,se-1);pe(_e);const st=iu(yt,_e);Br(st)},disabled:se<=0,className:"w-4 h-4 flex items-center justify-center hover:bg-accent-primary/20 rounded-full text-text-muted hover:text-accent-primary transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Previous inversion",children:b.jsx(Bh,{size:8})}),b.jsx("span",{className:"text-[11px] font-semibold text-text-secondary min-w-[20px] text-center",children:eS(se)}),b.jsx("button",{onClick:()=>{const _e=Math.min(wn,se+1);pe(_e);const st=iu(yt,_e);Br(st)},disabled:se>=wn,className:"w-4 h-4 flex items-center justify-center hover:bg-accent-primary/20 rounded-full text-text-muted hover:text-accent-primary transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"Next inversion",children:b.jsx(Fh,{size:8})})]})}),b.jsxs("div",{className:`flex items-center gap-2 shrink-0 ${fe?"justify-center w-full":"justify-end"}`,children:[U&&b.jsxs("button",{onClick:Tt,className:`${fe?"flex-1 py-2":oe?"px-3 py-1.5":"px-2.5 py-1"} bg-gradient-to-r from-accent-primary to-purple-600 hover:opacity-90 rounded-lg transition-all touch-feedback flex items-center justify-center gap-1.5 shadow-md shadow-accent-primary/20 active:scale-95`,title:"Add chord to timeline",children:[b.jsx(Zh,{size:fe?16:oe?14:12,className:"text-white"}),b.jsx("span",{className:`${fe?"text-sm":oe?"text-xs":"text-[11px]"} font-semibold text-white`,children:"Add"})]}),!$&&b.jsx("button",{onClick:u,className:`${fe?"p-2 bg-bg-tertiary/60 rounded-lg":oe?"p-2 min-w-[40px] min-h-[40px]":"p-1"} hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center`,title:"Hide panel",children:b.jsx(G3,{size:fe||oe?18:16,className:`text-text-muted ${oe&&j?"rotate-90":""}`})})]})]}),U?b.jsxs("div",{ref:Be,className:`flex-1 ${bt?"flex flex-row overflow-hidden":"overflow-y-auto overflow-x-hidden"} min-h-0 overscroll-contain`,children:[!bt&&b.jsxs("div",{className:`${oe?"px-5 pt-4 pb-4":"px-5 py-4"} border-b border-border-subtle`,children:[b.jsx(lg,{highlightedNotes:ht,rootNote:U.root,bassNote:ht[0],color:dt,octave:de,onNotePlay:ze}),b.jsx("div",{className:`${oe?"mt-4":"mt-5"} w-full`,children:b.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:`${oe?"56px":"72px"} repeat(${ht.length}, minmax(0, 1fr))`},children:[b.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Notes"}),ht.map((_e,st)=>b.jsx("div",{className:`text-center ${oe?"text-xs":"text-sm"} font-bold text-text-primary flex items-center justify-center`,style:{height:"16px"},children:_e},`note-${st}`)),b.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Absolute"}),ht.map((_e,st)=>b.jsx("div",{className:`text-center ${oe?"text-[11px]":"text-xs"} text-text-primary font-semibold flex items-center justify-center`,style:{height:"16px"},children:ut(_e)},`abs-${st}`)),b.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Relative"}),ht.map((_e,st)=>b.jsx("div",{className:`text-center ${oe?"text-[11px]":"text-xs"} text-text-secondary flex items-center justify-center`,style:{height:"16px"},children:tS(a,_e).replace(/^1/,"R")},`rel-${st}`))]})})]}),b.jsxs("div",{className:`flex flex-col ${bt?"flex-1 overflow-y-auto":""}`,children:[b.jsxs("div",{ref:z,className:`${$?"px-2 py-1":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[b.jsxs("button",{onClick:()=>{const _e=!W;we(_e),_e&&setTimeout(()=>je(z),50)},className:`w-full flex items-center justify-between ${W?"mb-2":"mb-0"} cursor-pointer rounded-none`,style:{backgroundColor:"transparent"},children:[b.jsx("h3",{className:`${ne?"text-[9px]":oe?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide whitespace-nowrap`,children:ne?"Guitar & Suggested":`Guitar & Suggested Voicings for ${Jn(U.numeral||U.symbol)}`}),b.jsx($f,{size:ne?8:oe?14:12,className:`text-text-secondary transition-transform ${W?"rotate-180":""}`})]}),W&&b.jsx(b.Fragment,{children:b.jsxs("div",{className:`flex items-start ${ne?"gap-1":"gap-2"} px-3`,style:{marginTop:ne?"4px":"8px"},children:[b.jsxs("div",{className:"flex flex-col items-center shrink-0",style:{minWidth:ne?"70px":"100px"},children:[b.jsx(cg,{root:U.root,quality:R||U.quality,color:dt,onClick:wt,onDoubleClick:Tt}),!ne&&b.jsx("p",{className:`${oe?"text-[10px]":"text-[9px]"} text-text-muted leading-relaxed text-center ${oe?"mb-1 px-1":"mb-1 px-0.5"}`,style:{maxWidth:ne?"70px":"100px"},children:it[R||U.quality]||"Select a voicing to see its description."})]}),b.jsx("div",{className:"w-px bg-border-subtle self-stretch"}),b.jsx("div",{className:"flex-1 flex flex-col justify-start pl-1",children:Vt().extensions.length>0?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:`grid ${ne||le?"grid-cols-1":"grid-cols-2"}`,style:{gap:ne?"3px":le?"4px":oe?"6px":"5px",marginBottom:ne?"2px":"4px",marginRight:le?"12px":void 0},children:Vt().extensions.map(_e=>b.jsxs("button",{className:`relative group ${ne?"px-1 py-0.5 text-[8px] min-h-[20px]":le?"px-2 py-1.5 text-[9px] min-h-[26px]":oe?"px-2 py-2 text-xs min-h-[36px]":"px-1.5 py-1 text-[10px]"} rounded font-semibold transition-colors touch-feedback text-center`,style:{width:ne?"60px":le?"70px":oe?"80px":"70px",...R===_e?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#f0f0f5",border:"1px solid rgba(255,255,255,0.08)"}},onClick:()=>Zt(_e),onDoubleClick:()=>Nt(_e),children:[Jn(`${U.root}${_e}`),!oe&&it[_e]&&b.jsxs("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[it[_e]?b.jsxs(b.Fragment,{children:[it[_e],b.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},_e))}),!le&&b.jsx("div",{style:{marginTop:ne?"2px":"6px"},children:b.jsx(Hv,{notes:ht,rootNote:U.root,color:dt,numerals:ht.map(_e=>ut(_e)),onNotePlay:ze,compact:!0})})]}):b.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[b.jsx(Hv,{notes:ht,rootNote:U.root,color:dt,numerals:ht.map(_e=>ut(_e)),onNotePlay:ze,compact:!1}),b.jsxs("p",{className:`${ne?"text-[8px]":oe?"text-[10px]":"text-[9px]"} text-text-muted italic text-center mt-1`,children:["Out of key  see ",b.jsx("span",{className:"font-semibold text-text-secondary",children:"Voicings"})," below"]})]})})]})})]}),b.jsxs("div",{ref:Ne,className:`${bt?"px-3 py-1":oe?"px-5 py-1 mt-2":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[b.jsxs("button",{onClick:()=>{const _e=!be;xe(_e),_e&&setTimeout(()=>je(Ne),50)},className:`w-full flex items-center justify-between ${be?"mb-2":"mb-0"} cursor-pointer rounded-none`,style:{backgroundColor:"transparent"},children:[b.jsx("h3",{className:`${ne?"text-[9px]":oe?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Voicings"}),b.jsx($f,{size:ne?8:oe?14:12,className:`text-text-secondary transition-transform ${be?"rotate-180":""}`})]}),be&&b.jsx("div",{className:`grid ${ne?"grid-cols-4":oe?"grid-cols-3":"grid-cols-2 sm:grid-cols-3"} ${ne?"gap-2":oe?"gap-3":"gap-2.5"}`,children:rt.map((_e,st)=>{const zt=st%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return b.jsxs("button",{className:`relative group ${ne?"px-1.5 py-1 min-h-[22px] text-[8px]":oe?"px-3 py-3 min-h-[48px] text-xs":"px-2 py-1.5 text-[10px]"} rounded font-medium transition-colors touch-feedback`,style:R===_e?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#9898a6",border:"1px solid rgba(255,255,255,0.08)"},onClick:()=>Zt(_e),onDoubleClick:()=>Nt(_e),children:[_e,!oe&&it[_e]&&b.jsxs("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{...zt,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[it[_e]?b.jsxs(b.Fragment,{children:[it[_e],b.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},_e)})})]}),b.jsxs("div",{ref:nt,className:`${bt?"px-3 py-1":oe?"px-5 py-1 mt-2":"px-5 py-1"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a",scrollMarginTop:"60px"},children:[b.jsxs("button",{onClick:()=>{const _e=!L;X(_e),_e&&setTimeout(()=>je(nt),50)},className:`w-full flex items-center justify-between cursor-pointer ${L?"mb-3":"mb-0"} rounded-none`,style:{backgroundColor:"transparent"},children:[b.jsx("h3",{className:`${ne?"text-[9px]":oe?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Theory"}),b.jsx($f,{size:ne?8:oe?14:12,className:`text-text-secondary transition-transform ${L?"rotate-180":""}`})]}),L&&b.jsx("div",{className:`${oe?"p-3":"p-4"} bg-bg-elevated rounded-none`,children:b.jsx("p",{className:`${oe?"text-sm":"text-xs"} text-text-secondary leading-relaxed`,children:Vt().description})})]})]}),oe&&b.jsx("div",{className:"h-12 shrink-0"})]}):b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 gap-4",children:[b.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-accent-primary/20 to-purple-600/20 flex items-center justify-center border border-accent-primary/30",children:b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-accent-primary",children:[b.jsx("circle",{cx:"8",cy:"18",r:"4"}),b.jsx("path",{d:"M12 18V2l7 4"})]})}),b.jsxs("div",{className:"text-center space-y-2",children:[b.jsx("p",{className:`${oe?"text-base":"text-sm"} font-semibold text-text-primary`,children:"No chord selected"}),b.jsx("p",{className:`${oe?"text-sm":"text-xs"} text-text-muted max-w-[200px]`,children:"Tap a chord on the wheel or select one from the timeline"})]})]})]})]})},Ek="modulepreload",Mk=function(n){return"/chord-wheel-writer/"+n},Wv={},Ch=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=f(t.map(d=>{if(d=Mk(d),d in Wv)return;Wv[d]=!0;const p=d.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":Ek,p||(_.as="script"),_.crossOrigin="",_.href=d,c&&_.setAttribute("nonce",c),document.head.appendChild(_),p)return new Promise((v,A)=>{_.addEventListener("load",v),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},Lk=()=>{const{currentSong:n,isPlaying:e,tempo:t,volume:s,setTempo:a,setVolume:o,instrument:u,setInstrument:c,isMuted:f,toggleMute:d,toggleLoop:p,isLooping:y,playingSectionId:_,selectedSectionId:v,setSelectedSlot:A}=an(),{isMobile:N,isLandscape:k}=Kh(),[C,R]=re.useState(!1),[D,V]=re.useState(!1),[F,Y]=re.useState(t.toString()),H=re.useRef(null),[E,B]=re.useState(!1),te=re.useRef(null),j=re.useRef(t),I=re.useRef(null);re.useEffect(()=>{x2(n)},[n]),re.useEffect(()=>{rw(t)},[t]),re.useEffect(()=>{y2(u)},[u]),re.useEffect(()=>{iw()},[y,n,_,v]),re.useEffect(()=>{Ch(()=>Promise.resolve().then(()=>sg),void 0).then(Q=>{R(!0),Q.preloadAudio().finally(()=>R(!1))})},[]);const ee=async()=>{try{await v2(),e?(nw(),an.getState().setIsPlaying(!1)):(R(!0),await tw(),an.getState().setIsPlaying(!0))}catch(Q){console.error("Playback error:",Q)}finally{R(!1)}},U=Q=>{sw(Q)},oe=()=>{p()},$=()=>{const Q=n.sections;if(Q.length===0)return;const se=v?Q.findIndex(xe=>xe.id===v):-1,pe=se>=0?(se+1)%Q.length:0,de=Q[pe];de&&de.measures[0]?.beats[0]&&A(de.id,de.measures[0].beats[0].id)},ne=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"}];ne.find(Q=>Q.value===u)||c("piano");const le=Q=>{const se=ne.findIndex(de=>de.value===u);if(se===-1){c("piano");return}const pe=Q==="next"?(se+1)%ne.length:(se-1+ne.length)%ne.length;c(ne[pe].value)},fe=()=>{Y(t.toString()),V(!0),setTimeout(()=>H.current?.focus(),0)},be=()=>{const Q=parseInt(F,10);!isNaN(Q)&&Q>=40&&Q<=240?a(Q):Y(t.toString()),V(!1)},G=Q=>{Q.key==="Enter"?be():Q.key==="Escape"&&(Y(t.toString()),V(!1))},L=Q=>{te.current=Q.touches[0].clientX,j.current=t,B(!1),I.current=setTimeout(()=>{I.current=null},150)},X=Q=>{if(te.current===null)return;const pe=Q.touches[0].clientX-te.current;if(Math.abs(pe)>10){B(!0),I.current&&(clearTimeout(I.current),I.current=null);const de=Math.round(pe/3),xe=Math.min(240,Math.max(40,j.current+de));a(xe)}},W=()=>{!E&&I.current&&(clearTimeout(I.current),fe()),te.current=null,B(!1),I.current=null};return b.jsxs("div",{"data-playback-controls":!0,className:`${N&&k?"h-8":N?"h-11":"h-12"} bg-bg-elevated border-t border-border-subtle flex items-center justify-between ${N?"px-2 gap-1":"px-6"}`,children:[b.jsxs("div",{className:"flex items-center gap-0.5",children:[b.jsx("button",{onClick:()=>U("prev"),className:`${N&&k?"p-1":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:b.jsx($3,{size:N&&k?12:16})}),b.jsx("button",{onClick:ee,disabled:C,className:`${N&&k?"w-6 h-6":N?"w-8 h-8":"w-9 h-9"} rounded-full bg-accent-primary hover:bg-indigo-500 disabled:bg-accent-primary/50 flex items-center justify-center text-white shadow-md transition-all hover:scale-105 active:scale-95 touch-feedback`,children:C?b.jsx(DC,{size:N&&k?12:N?16:18,className:"animate-spin"}):e?b.jsx(Y3,{size:N&&k?12:N?16:18,fill:"currentColor"}):b.jsx(Xh,{size:N&&k?12:N?16:18,fill:"currentColor",className:"ml-0.5"})}),b.jsx("button",{onClick:()=>U("next"),className:`${N&&k?"p-1":"p-1.5"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center`,children:b.jsx(X3,{size:N&&k?12:16})}),N?b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:$,className:`${k?"p-1":"p-1.5"} transition-colors text-text-secondary hover:text-text-primary touch-feedback`,title:"Cycle to Next Section",children:b.jsx($C,{size:k?12:14})}),b.jsx("button",{onClick:oe,className:`${k?"p-1":"p-1.5"} transition-colors touch-feedback ${y?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:b.jsx(Vv,{size:k?12:14})})]}):b.jsx("button",{onClick:oe,className:`p-1.5 transition-colors ml-1 ${y?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:b.jsx(Vv,{size:14})})]}),b.jsx("div",{className:"flex items-center",children:N?D?b.jsx("input",{ref:H,type:"number",inputMode:"numeric",value:F,onChange:Q=>Y(Q.target.value),onBlur:be,onKeyDown:G,className:`${k?"w-10 text-[9px] h-4":"w-12 text-[11px] h-5"} bg-bg-tertiary border border-accent-primary rounded-sm px-1 text-center text-text-primary font-medium focus:outline-none`,min:40,max:240}):b.jsxs("div",{onTouchStart:L,onTouchMove:X,onTouchEnd:W,onClick:fe,className:`${k?"text-[9px] px-1.5 h-4":"text-[11px] px-2 h-5"} font-medium ${E?"text-accent-primary":"text-text-secondary"} hover:text-text-primary transition-colors touch-feedback whitespace-nowrap flex items-center cursor-ew-resize select-none`,children:[t," ",b.jsx("span",{className:`${E?"text-accent-primary/70":"text-text-muted"} ml-0.5`,children:"BPM"})]}):b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"text-text-secondary font-medium",children:"Tempo"}),b.jsx("input",{type:"number",value:t,onChange:Q=>a(Number(Q.target.value)),className:"w-14 bg-bg-tertiary border border-border-subtle rounded px-2 py-1 text-center text-text-primary text-[11px] font-medium",min:40,max:240}),b.jsx("span",{className:"text-text-muted",children:"BPM"})]})}),b.jsxs("div",{className:`flex items-center ${N?"gap-1.5":"gap-4"}`,children:[b.jsxs("div",{className:"flex items-center gap-1",children:[!N&&b.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-7",children:[b.jsx("button",{onClick:()=>le("prev"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:b.jsx(Bh,{size:12})}),b.jsx("button",{onClick:()=>le("next"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:b.jsx(Fh,{size:12})})]}),N&&!k&&b.jsx(W3,{size:14,className:"text-text-muted"}),b.jsx("select",{value:u,onChange:Q=>c(Q.target.value),className:`bg-bg-tertiary border border-border-subtle rounded ${N&&k?"px-3 py-1 h-6 text-[7px] min-w-[60px]":N?"px-1.5 h-7 text-[11px] min-w-[70px]":"px-2 h-7 text-[10px] min-w-[130px]"} text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer`,children:ne.map(Q=>b.jsx("option",{value:Q.value,children:Q.label},Q.value))})]}),b.jsxs("div",{className:`flex items-center ${N?"":"gap-2 w-28"}`,children:[b.jsx("button",{onClick:d,className:`${N?"p-1.5":"p-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center rounded`,title:f?"Unmute":"Mute",children:f||s===0?b.jsx(uk,{size:N?16:14}):b.jsx(rg,{size:N?16:14})}),!N&&b.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:s,onChange:Q=>{f&&d(),o(Number(Q.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})};function Ok(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return re.useMemo(()=>s=>{e.forEach(a=>a(s))},e)}const $p=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Qh(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function _2(n){return"nodeType"in n}function Gi(n){var e,t;return n?Qh(n)?n:_2(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function S2(n){const{Document:e}=Gi(n);return n instanceof e}function Cd(n){return Qh(n)?!1:n instanceof Gi(n).HTMLElement}function lw(n){return n instanceof Gi(n).SVGElement}function Jh(n){return n?Qh(n)?n.document:_2(n)?S2(n)?n:Cd(n)||lw(n)?n.ownerDocument:document:document:document}const Wo=$p?re.useLayoutEffect:re.useEffect;function N2(n){const e=re.useRef(n);return Wo(()=>{e.current=n}),re.useCallback(function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return e.current==null?void 0:e.current(...s)},[])}function Dk(){const n=re.useRef(null),e=re.useCallback((s,a)=>{n.current=setInterval(s,a)},[]),t=re.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function cd(n,e){e===void 0&&(e=[n]);const t=re.useRef(n);return Wo(()=>{t.current!==n&&(t.current=n)},e),t}function kd(n,e){const t=re.useRef();return re.useMemo(()=>{const s=n(t.current);return t.current=s,s},[...e])}function yp(n){const e=N2(n),t=re.useRef(null),s=re.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,s]}function hg(n){const e=re.useRef();return re.useEffect(()=>{e.current=n},[n]),e.current}let xm={};function jd(n,e){return re.useMemo(()=>{if(e)return e;const t=xm[n]==null?0:xm[n]+1;return xm[n]=t,n+"-"+t},[n,e])}function cw(n){return function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];return s.reduce((o,u)=>{const c=Object.entries(u);for(const[f,d]of c){const p=o[f];p!=null&&(o[f]=p+n*d)}return o},{...e})}}const kh=cw(1),ud=cw(-1);function Rk(n){return"clientX"in n&&"clientY"in n}function A2(n){if(!n)return!1;const{KeyboardEvent:e}=Gi(n.target);return e&&n instanceof e}function Ik(n){if(!n)return!1;const{TouchEvent:e}=Gi(n.target);return e&&n instanceof e}function fg(n){if(Ik(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return Rk(n)?{x:n.clientX,y:n.clientY}:null}const hd=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[hd.Translate.toString(n),hd.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:s}=n;return e+" "+t+"ms "+s}}}),Gv="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Vk(n){return n.matches(Gv)?n:n.querySelector(Gv)}const Fk={display:"none"};function Bk(n){let{id:e,value:t}=n;return Kn.createElement("div",{id:e,style:Fk},t)}function zk(n){let{id:e,announcement:t,ariaLiveType:s="assertive"}=n;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Kn.createElement("div",{id:e,style:a,role:"status","aria-live":s,"aria-atomic":!0},t)}function Pk(){const[n,e]=re.useState("");return{announce:re.useCallback(s=>{s!=null&&e(s)},[]),announcement:n}}const uw=re.createContext(null);function qk(n){const e=re.useContext(uw);re.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function Uk(){const[n]=re.useState(()=>new Set),e=re.useCallback(s=>(n.add(s),()=>n.delete(s)),[n]);return[re.useCallback(s=>{let{type:a,event:o}=s;n.forEach(u=>{var c;return(c=u[a])==null?void 0:c.call(u,o)})},[n]),e]}const Hk={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Wk={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Gk(n){let{announcements:e=Wk,container:t,hiddenTextDescribedById:s,screenReaderInstructions:a=Hk}=n;const{announce:o,announcement:u}=Pk(),c=jd("DndLiveRegion"),[f,d]=re.useState(!1);if(re.useEffect(()=>{d(!0)},[]),qk(re.useMemo(()=>({onDragStart(y){let{active:_}=y;o(e.onDragStart({active:_}))},onDragMove(y){let{active:_,over:v}=y;e.onDragMove&&o(e.onDragMove({active:_,over:v}))},onDragOver(y){let{active:_,over:v}=y;o(e.onDragOver({active:_,over:v}))},onDragEnd(y){let{active:_,over:v}=y;o(e.onDragEnd({active:_,over:v}))},onDragCancel(y){let{active:_,over:v}=y;o(e.onDragCancel({active:_,over:v}))}}),[o,e])),!f)return null;const p=Kn.createElement(Kn.Fragment,null,Kn.createElement(Bk,{id:s,value:a.draggable}),Kn.createElement(zk,{id:c,announcement:u}));return t?qo.createPortal(p,t):p}var Ls;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(Ls||(Ls={}));function xp(){}function Yv(n,e){return re.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function Yk(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return re.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const fo=Object.freeze({x:0,y:0});function hw(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function fw(n,e){let{data:{value:t}}=n,{data:{value:s}}=e;return t-s}function $k(n,e){let{data:{value:t}}=n,{data:{value:s}}=e;return s-t}function $v(n){let{left:e,top:t,height:s,width:a}=n;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+s},{x:e+a,y:t+s}]}function dw(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}function Xv(n,e,t){return e===void 0&&(e=n.left),t===void 0&&(t=n.top),{x:e+n.width*.5,y:t+n.height*.5}}const Xk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const a=Xv(e,e.left,e.top),o=[];for(const u of s){const{id:c}=u,f=t.get(c);if(f){const d=hw(Xv(f),a);o.push({id:c,data:{droppableContainer:u,value:d}})}}return o.sort(fw)},Zk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const a=$v(e),o=[];for(const u of s){const{id:c}=u,f=t.get(c);if(f){const d=$v(f),p=a.reduce((_,v,A)=>_+hw(d[A],v),0),y=Number((p/4).toFixed(4));o.push({id:c,data:{droppableContainer:u,value:y}})}}return o.sort(fw)};function Kk(n,e){const t=Math.max(e.top,n.top),s=Math.max(e.left,n.left),a=Math.min(e.left+e.width,n.left+n.width),o=Math.min(e.top+e.height,n.top+n.height),u=a-s,c=o-t;if(s<a&&t<o){const f=e.width*e.height,d=n.width*n.height,p=u*c,y=p/(f+d-p);return Number(y.toFixed(4))}return 0}const Qk=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:s}=n;const a=[];for(const o of s){const{id:u}=o,c=t.get(u);if(c){const f=Kk(c,e);f>0&&a.push({id:u,data:{droppableContainer:o,value:f}})}}return a.sort($k)};function Jk(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function pw(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:fo}function e7(n){return function(t){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return a.reduce((u,c)=>({...u,top:u.top+n*c.y,bottom:u.bottom+n*c.y,left:u.left+n*c.x,right:u.right+n*c.x}),{...t})}}const t7=e7(1);function n7(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function r7(n,e,t){const s=n7(e);if(!s)return n;const{scaleX:a,scaleY:o,x:u,y:c}=s,f=n.left-u-(1-a)*parseFloat(t),d=n.top-c-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),p=a?n.width/a:n.width,y=o?n.height/o:n.height;return{width:p,height:y,top:d,right:f+p,bottom:d+y,left:f}}const s7={ignoreTransform:!1};function ef(n,e){e===void 0&&(e=s7);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:p}=Gi(n).getComputedStyle(n);d&&(t=r7(t,d,p))}const{top:s,left:a,width:o,height:u,bottom:c,right:f}=t;return{top:s,left:a,width:o,height:u,bottom:c,right:f}}function Zv(n){return ef(n,{ignoreTransform:!0})}function i7(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function a7(n,e){return e===void 0&&(e=Gi(n).getComputedStyle(n)),e.position==="fixed"}function o7(n,e){e===void 0&&(e=Gi(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function Xp(n,e){const t=[];function s(a){if(e!=null&&t.length>=e||!a)return t;if(S2(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!Cd(a)||lw(a)||t.includes(a))return t;const o=Gi(n).getComputedStyle(a);return a!==n&&o7(a,o)&&t.push(a),a7(a,o)?t:s(a.parentNode)}return n?s(n):t}function mw(n){const[e]=Xp(n,1);return e??null}function wm(n){return!$p||!n?null:Qh(n)?n:_2(n)?S2(n)||n===Jh(n).scrollingElement?window:Cd(n)?n:null:null}function gw(n){return Qh(n)?n.scrollX:n.scrollLeft}function bw(n){return Qh(n)?n.scrollY:n.scrollTop}function dg(n){return{x:gw(n),y:bw(n)}}var Us;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Us||(Us={}));function vw(n){return!$p||!n?!1:n===document.scrollingElement}function yw(n){const e={x:0,y:0},t=vw(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},s={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},a=n.scrollTop<=e.y,o=n.scrollLeft<=e.x,u=n.scrollTop>=s.y,c=n.scrollLeft>=s.x;return{isTop:a,isLeft:o,isBottom:u,isRight:c,maxScroll:s,minScroll:e}}const l7={x:.2,y:.2};function c7(n,e,t,s,a){let{top:o,left:u,right:c,bottom:f}=t;s===void 0&&(s=10),a===void 0&&(a=l7);const{isTop:d,isBottom:p,isLeft:y,isRight:_}=yw(n),v={x:0,y:0},A={x:0,y:0},N={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+N.height?(v.y=Us.Backward,A.y=s*Math.abs((e.top+N.height-o)/N.height)):!p&&f>=e.bottom-N.height&&(v.y=Us.Forward,A.y=s*Math.abs((e.bottom-N.height-f)/N.height)),!_&&c>=e.right-N.width?(v.x=Us.Forward,A.x=s*Math.abs((e.right-N.width-c)/N.width)):!y&&u<=e.left+N.width&&(v.x=Us.Backward,A.x=s*Math.abs((e.left+N.width-u)/N.width)),{direction:v,speed:A}}function u7(n){if(n===document.scrollingElement){const{innerWidth:o,innerHeight:u}=window;return{top:0,left:0,right:o,bottom:u,width:o,height:u}}const{top:e,left:t,right:s,bottom:a}=n.getBoundingClientRect();return{top:e,left:t,right:s,bottom:a,width:n.clientWidth,height:n.clientHeight}}function xw(n){return n.reduce((e,t)=>kh(e,dg(t)),fo)}function h7(n){return n.reduce((e,t)=>e+gw(t),0)}function f7(n){return n.reduce((e,t)=>e+bw(t),0)}function d7(n,e){if(e===void 0&&(e=ef),!n)return;const{top:t,left:s,bottom:a,right:o}=e(n);mw(n)&&(a<=0||o<=0||t>=window.innerHeight||s>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const p7=[["x",["left","right"],h7],["y",["top","bottom"],f7]];class T2{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Xp(t),a=xw(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,u,c]of p7)for(const f of u)Object.defineProperty(this,f,{get:()=>{const d=c(s),p=a[o]-d;return this.rect[f]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Zf{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...t)})},this.target=e}add(e,t,s){var a;(a=this.target)==null||a.addEventListener(e,t,s),this.listeners.push([e,t,s])}}function m7(n){const{EventTarget:e}=Gi(n);return n instanceof e?n:Jh(n)}function _m(n,e){const t=Math.abs(n.x),s=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+s**2)>e:"x"in e&&"y"in e?t>e.x&&s>e.y:"x"in e?t>e.x:"y"in e?s>e.y:!1}var ja;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(ja||(ja={}));function Kv(n){n.preventDefault()}function g7(n){n.stopPropagation()}var Vn;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(Vn||(Vn={}));const ww={start:[Vn.Space,Vn.Enter],cancel:[Vn.Esc],end:[Vn.Space,Vn.Enter,Vn.Tab]},b7=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case Vn.Right:return{...t,x:t.x+25};case Vn.Left:return{...t,x:t.x-25};case Vn.Down:return{...t,y:t.y+25};case Vn.Up:return{...t,y:t.y-25}}};class C2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Zf(Jh(t)),this.windowListeners=new Zf(Gi(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ja.Resize,this.handleCancel),this.windowListeners.add(ja.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ja.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,s=e.node.current;s&&d7(s),t(fo)}handleKeyDown(e){if(A2(e)){const{active:t,context:s,options:a}=this.props,{keyboardCodes:o=ww,coordinateGetter:u=b7,scrollBehavior:c="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:d}=s.current,p=d?{x:d.left,y:d.top}:fo;this.referenceCoordinates||(this.referenceCoordinates=p);const y=u(e,{active:t,context:s.current,currentCoordinates:p});if(y){const _=ud(y,p),v={x:0,y:0},{scrollableAncestors:A}=s.current;for(const N of A){const k=e.code,{isTop:C,isRight:R,isLeft:D,isBottom:V,maxScroll:F,minScroll:Y}=yw(N),H=u7(N),E={x:Math.min(k===Vn.Right?H.right-H.width/2:H.right,Math.max(k===Vn.Right?H.left:H.left+H.width/2,y.x)),y:Math.min(k===Vn.Down?H.bottom-H.height/2:H.bottom,Math.max(k===Vn.Down?H.top:H.top+H.height/2,y.y))},B=k===Vn.Right&&!R||k===Vn.Left&&!D,te=k===Vn.Down&&!V||k===Vn.Up&&!C;if(B&&E.x!==y.x){const j=N.scrollLeft+_.x,I=k===Vn.Right&&j<=F.x||k===Vn.Left&&j>=Y.x;if(I&&!_.y){N.scrollTo({left:j,behavior:c});return}I?v.x=N.scrollLeft-j:v.x=k===Vn.Right?N.scrollLeft-F.x:N.scrollLeft-Y.x,v.x&&N.scrollBy({left:-v.x,behavior:c});break}else if(te&&E.y!==y.y){const j=N.scrollTop+_.y,I=k===Vn.Down&&j<=F.y||k===Vn.Up&&j>=Y.y;if(I&&!_.x){N.scrollTo({top:j,behavior:c});return}I?v.y=N.scrollTop-j:v.y=k===Vn.Down?N.scrollTop-F.y:N.scrollTop-Y.y,v.y&&N.scrollBy({top:-v.y,behavior:c});break}}this.handleMove(e,kh(ud(y,this.referenceCoordinates),v))}}}handleMove(e,t){const{onMove:s}=this.props;e.preventDefault(),s(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}C2.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:s=ww,onActivation:a}=e,{active:o}=t;const{code:u}=n.nativeEvent;if(s.start.includes(u)){const c=o.activatorNode.current;return c&&n.target!==c?!1:(n.preventDefault(),a?.({event:n.nativeEvent}),!0)}return!1}}];function Qv(n){return!!(n&&"distance"in n)}function Jv(n){return!!(n&&"delay"in n)}class k2{constructor(e,t,s){var a;s===void 0&&(s=m7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:u}=o;this.props=e,this.events=t,this.document=Jh(u),this.documentListeners=new Zf(this.document),this.listeners=new Zf(s),this.windowListeners=new Zf(Gi(u)),this.initialCoordinates=(a=fg(o))!=null?a:fo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ja.Resize,this.handleCancel),this.windowListeners.add(ja.DragStart,Kv),this.windowListeners.add(ja.VisibilityChange,this.handleCancel),this.windowListeners.add(ja.ContextMenu,Kv),this.documentListeners.add(ja.Keydown,this.handleKeydown),t){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Jv(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(Qv(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:s,onPending:a}=this.props;a(s,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ja.Click,g7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ja.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:s,initialCoordinates:a,props:o}=this,{onMove:u,options:{activationConstraint:c}}=o;if(!a)return;const f=(t=fg(e))!=null?t:fo,d=ud(a,f);if(!s&&c){if(Qv(c)){if(c.tolerance!=null&&_m(d,c.tolerance))return this.handleCancel();if(_m(d,c.distance))return this.handleStart()}if(Jv(c)&&_m(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),u(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Vn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const v7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class j2 extends k2{constructor(e){const{event:t}=e,s=Jh(t.target);super(e,v7,s)}}j2.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;return!t.isPrimary||t.button!==0?!1:(s?.({event:t}),!0)}}];const y7={move:{name:"mousemove"},end:{name:"mouseup"}};var pg;(function(n){n[n.RightClick=2]="RightClick"})(pg||(pg={}));class x7 extends k2{constructor(e){super(e,y7,Jh(e.event.target))}}x7.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;return t.button===pg.RightClick?!1:(s?.({event:t}),!0)}}];const Sm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class w7 extends k2{constructor(e){super(e,Sm)}static setup(){return window.addEventListener(Sm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Sm.move.name,e)};function e(){}}}w7.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:s}=e;const{touches:a}=t;return a.length>1?!1:(s?.({event:t}),!0)}}];var Kf;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Kf||(Kf={}));var wp;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(wp||(wp={}));function _7(n){let{acceleration:e,activator:t=Kf.Pointer,canScroll:s,draggingRect:a,enabled:o,interval:u=5,order:c=wp.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:p,delta:y,threshold:_}=n;const v=N7({delta:y,disabled:!o}),[A,N]=Dk(),k=re.useRef({x:0,y:0}),C=re.useRef({x:0,y:0}),R=re.useMemo(()=>{switch(t){case Kf.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Kf.DraggableRect:return a}},[t,a,f]),D=re.useRef(null),V=re.useCallback(()=>{const Y=D.current;if(!Y)return;const H=k.current.x*C.current.x,E=k.current.y*C.current.y;Y.scrollBy(H,E)},[]),F=re.useMemo(()=>c===wp.TreeOrder?[...d].reverse():d,[c,d]);re.useEffect(()=>{if(!o||!d.length||!R){N();return}for(const Y of F){if(s?.(Y)===!1)continue;const H=d.indexOf(Y),E=p[H];if(!E)continue;const{direction:B,speed:te}=c7(Y,E,R,e,_);for(const j of["x","y"])v[j][B[j]]||(te[j]=0,B[j]=0);if(te.x>0||te.y>0){N(),D.current=Y,A(V,u),k.current=te,C.current=B;return}}k.current={x:0,y:0},C.current={x:0,y:0},N()},[e,V,s,N,o,u,JSON.stringify(R),JSON.stringify(v),A,d,F,p,JSON.stringify(_)])}const S7={x:{[Us.Backward]:!1,[Us.Forward]:!1},y:{[Us.Backward]:!1,[Us.Forward]:!1}};function N7(n){let{delta:e,disabled:t}=n;const s=hg(e);return kd(a=>{if(t||!s||!a)return S7;const o={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Us.Backward]:a.x[Us.Backward]||o.x===-1,[Us.Forward]:a.x[Us.Forward]||o.x===1},y:{[Us.Backward]:a.y[Us.Backward]||o.y===-1,[Us.Forward]:a.y[Us.Forward]||o.y===1}}},[t,e,s])}function A7(n,e){const t=e!=null?n.get(e):void 0,s=t?t.node.current:null;return kd(a=>{var o;return e==null?null:(o=s??a)!=null?o:null},[s,e])}function T7(n,e){return re.useMemo(()=>n.reduce((t,s)=>{const{sensor:a}=s,o=a.activators.map(u=>({eventName:u.eventName,handler:e(u.handler,s)}));return[...t,...o]},[]),[n,e])}var fd;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(fd||(fd={}));var mg;(function(n){n.Optimized="optimized"})(mg||(mg={}));const ey=new Map;function C7(n,e){let{dragging:t,dependencies:s,config:a}=e;const[o,u]=re.useState(null),{frequency:c,measure:f,strategy:d}=a,p=re.useRef(n),y=k(),_=cd(y),v=re.useCallback(function(C){C===void 0&&(C=[]),!_.current&&u(R=>R===null?C:R.concat(C.filter(D=>!R.includes(D))))},[_]),A=re.useRef(null),N=kd(C=>{if(y&&!t)return ey;if(!C||C===ey||p.current!==n||o!=null){const R=new Map;for(let D of n){if(!D)continue;if(o&&o.length>0&&!o.includes(D.id)&&D.rect.current){R.set(D.id,D.rect.current);continue}const V=D.node.current,F=V?new T2(f(V),V):null;D.rect.current=F,F&&R.set(D.id,F)}return R}return C},[n,o,t,y,f]);return re.useEffect(()=>{p.current=n},[n]),re.useEffect(()=>{y||v()},[t,y]),re.useEffect(()=>{o&&o.length>0&&u(null)},[JSON.stringify(o)]),re.useEffect(()=>{y||typeof c!="number"||A.current!==null||(A.current=setTimeout(()=>{v(),A.current=null},c))},[c,y,v,...s]),{droppableRects:N,measureDroppableContainers:v,measuringScheduled:o!=null};function k(){switch(d){case fd.Always:return!1;case fd.BeforeDragging:return t;default:return!t}}}function _w(n,e){return kd(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function k7(n,e){return _w(n,e)}function j7(n){let{callback:e,disabled:t}=n;const s=N2(e),a=re.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(s)},[s,t]);return re.useEffect(()=>()=>a?.disconnect(),[a]),a}function Zp(n){let{callback:e,disabled:t}=n;const s=N2(e),a=re.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(s)},[t]);return re.useEffect(()=>()=>a?.disconnect(),[a]),a}function E7(n){return new T2(ef(n),n)}function ty(n,e,t){e===void 0&&(e=E7);const[s,a]=re.useState(null);function o(){a(f=>{if(!n)return null;if(n.isConnected===!1){var d;return(d=f??t)!=null?d:null}const p=e(n);return JSON.stringify(f)===JSON.stringify(p)?f:p})}const u=j7({callback(f){if(n)for(const d of f){const{type:p,target:y}=d;if(p==="childList"&&y instanceof HTMLElement&&y.contains(n)){o();break}}}}),c=Zp({callback:o});return Wo(()=>{o(),n?(c?.observe(n),u?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),u?.disconnect())},[n]),s}function M7(n){const e=_w(n);return pw(n,e)}const ny=[];function L7(n){const e=re.useRef(n),t=kd(s=>n?s&&s!==ny&&n&&e.current&&n.parentNode===e.current.parentNode?s:Xp(n):ny,[n]);return re.useEffect(()=>{e.current=n},[n]),t}function O7(n){const[e,t]=re.useState(null),s=re.useRef(n),a=re.useCallback(o=>{const u=wm(o.target);u&&t(c=>c?(c.set(u,dg(u)),new Map(c)):null)},[]);return re.useEffect(()=>{const o=s.current;if(n!==o){u(o);const c=n.map(f=>{const d=wm(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,dg(d)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),s.current=n}return()=>{u(n),u(o)};function u(c){c.forEach(f=>{const d=wm(f);d?.removeEventListener("scroll",a)})}},[a,n]),re.useMemo(()=>n.length?e?Array.from(e.values()).reduce((o,u)=>kh(o,u),fo):xw(n):fo,[n,e])}function ry(n,e){e===void 0&&(e=[]);const t=re.useRef(null);return re.useEffect(()=>{t.current=null},e),re.useEffect(()=>{const s=n!==fo;s&&!t.current&&(t.current=n),!s&&t.current&&(t.current=null)},[n]),t.current?ud(n,t.current):fo}function D7(n){re.useEffect(()=>{if(!$p)return;const e=n.map(t=>{let{sensor:s}=t;return s.setup==null?void 0:s.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function R7(n,e){return re.useMemo(()=>n.reduce((t,s)=>{let{eventName:a,handler:o}=s;return t[a]=u=>{o(u,e)},t},{}),[n,e])}function Sw(n){return re.useMemo(()=>n?i7(n):null,[n])}const sy=[];function I7(n,e){e===void 0&&(e=ef);const[t]=n,s=Sw(t?Gi(t):null),[a,o]=re.useState(sy);function u(){o(()=>n.length?n.map(f=>vw(f)?s:new T2(e(f),f)):sy)}const c=Zp({callback:u});return Wo(()=>{c?.disconnect(),u(),n.forEach(f=>c?.observe(f))},[n]),a}function V7(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return Cd(e)?e:n}function F7(n){let{measure:e}=n;const[t,s]=re.useState(null),a=re.useCallback(d=>{for(const{target:p}of d)if(Cd(p)){s(y=>{const _=e(p);return y?{...y,width:_.width,height:_.height}:_});break}},[e]),o=Zp({callback:a}),u=re.useCallback(d=>{const p=V7(d);o?.disconnect(),p&&o?.observe(p),s(p?e(p):null)},[e,o]),[c,f]=yp(u);return re.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const B7=[{sensor:j2,options:{}},{sensor:C2,options:{}}],z7={current:{}},H1={draggable:{measure:Zv},droppable:{measure:Zv,strategy:fd.WhileDragging,frequency:mg.Optimized},dragOverlay:{measure:ef}};class Qf extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,s;return(t=(s=this.get(e))==null?void 0:s.node.current)!=null?t:void 0}}const P7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Qf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:H1,measureDroppableContainers:xp,windowRect:null,measuringScheduled:!1},q7={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xp,draggableNodes:new Map,over:null,measureDroppableContainers:xp},Kp=re.createContext(q7),Nw=re.createContext(P7);function U7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Qf}}}function H7(n,e){switch(e.type){case Ls.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ls.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case Ls.DragEnd:case Ls.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ls.RegisterDroppable:{const{element:t}=e,{id:s}=t,a=new Qf(n.droppable.containers);return a.set(s,t),{...n,droppable:{...n.droppable,containers:a}}}case Ls.SetDroppableDisabled:{const{id:t,key:s,disabled:a}=e,o=n.droppable.containers.get(t);if(!o||s!==o.key)return n;const u=new Qf(n.droppable.containers);return u.set(t,{...o,disabled:a}),{...n,droppable:{...n.droppable,containers:u}}}case Ls.UnregisterDroppable:{const{id:t,key:s}=e,a=n.droppable.containers.get(t);if(!a||s!==a.key)return n;const o=new Qf(n.droppable.containers);return o.delete(t),{...n,droppable:{...n.droppable,containers:o}}}default:return n}}function W7(n){let{disabled:e}=n;const{active:t,activatorEvent:s,draggableNodes:a}=re.useContext(Kp),o=hg(s),u=hg(t?.id);return re.useEffect(()=>{if(!e&&!s&&o&&u!=null){if(!A2(o)||document.activeElement===o.target)return;const c=a.get(u);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const p of[f.current,d.current]){if(!p)continue;const y=Vk(p);if(y){y.focus();break}}})}},[s,e,a,u,o]),null}function G7(n,e){let{transform:t,...s}=e;return n!=null&&n.length?n.reduce((a,o)=>o({transform:a,...s}),t):t}function Y7(n){return re.useMemo(()=>({draggable:{...H1.draggable,...n?.draggable},droppable:{...H1.droppable,...n?.droppable},dragOverlay:{...H1.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function $7(n){let{activeNode:e,measure:t,initialRect:s,config:a=!0}=n;const o=re.useRef(!1),{x:u,y:c}=typeof a=="boolean"?{x:a,y:a}:a;Wo(()=>{if(!u&&!c||!e){o.current=!1;return}if(o.current||!s)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const p=t(d),y=pw(p,s);if(u||(y.x=0),c||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const _=mw(d);_&&_.scrollBy({top:y.y,left:y.x})}},[e,u,c,s,t])}const Aw=re.createContext({...fo,scaleX:1,scaleY:1});var wc;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(wc||(wc={}));const X7=re.memo(function(e){var t,s,a,o;let{id:u,accessibility:c,autoScroll:f=!0,children:d,sensors:p=B7,collisionDetection:y=Qk,measuring:_,modifiers:v,...A}=e;const N=re.useReducer(H7,void 0,U7),[k,C]=N,[R,D]=Uk(),[V,F]=re.useState(wc.Uninitialized),Y=V===wc.Initialized,{draggable:{active:H,nodes:E,translate:B},droppable:{containers:te}}=k,j=H!=null?E.get(H):null,I=re.useRef({initial:null,translated:null}),ee=re.useMemo(()=>{var bt;return H!=null?{id:H,data:(bt=j?.data)!=null?bt:z7,rect:I}:null},[H,j]),U=re.useRef(null),[oe,$]=re.useState(null),[ne,le]=re.useState(null),fe=cd(A,Object.values(A)),be=jd("DndDescribedBy",u),G=re.useMemo(()=>te.getEnabled(),[te]),L=Y7(_),{droppableRects:X,measureDroppableContainers:W,measuringScheduled:Q}=C7(G,{dragging:Y,dependencies:[B.x,B.y],config:L.droppable}),se=A7(E,H),pe=re.useMemo(()=>ne?fg(ne):null,[ne]),de=ln(),xe=k7(se,L.draggable.measure);$7({activeNode:H!=null?E.get(H):null,config:de.layoutShiftCompensation,initialRect:xe,measure:L.draggable.measure});const we=ty(se,L.draggable.measure,xe),Fe=ty(se?se.parentElement:null),Ye=re.useRef({activatorEvent:null,active:null,activeNode:se,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:te,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ze=te.getNodeFor((t=Ye.current.over)==null?void 0:t.id),lt=F7({measure:L.dragOverlay.measure}),z=(s=lt.nodeRef.current)!=null?s:se,Ne=Y?(a=lt.rect)!=null?a:we:null,nt=!!(lt.nodeRef.current&&lt.rect),Be=M7(nt?null:we),je=Sw(z?Gi(z):null),et=L7(Y?Ze??se:null),Ue=I7(et),ct=G7(v,{transform:{x:B.x-Be.x,y:B.y-Be.y,scaleX:1,scaleY:1},activatorEvent:ne,active:ee,activeNodeRect:we,containerNodeRect:Fe,draggingNodeRect:Ne,over:Ye.current.over,overlayNodeRect:lt.rect,scrollableAncestors:et,scrollableAncestorRects:Ue,windowRect:je}),at=pe?kh(pe,B):null,ze=O7(et),it=ry(ze),rt=ry(ze,[we]),ut=kh(ct,it),vt=Ne?t7(Ne,ct):null,dt=ee&&vt?y({active:ee,collisionRect:vt,droppableRects:X,droppableContainers:G,pointerCoordinates:at}):null,yt=dw(dt,"id"),[ht,wn]=re.useState(null),Zt=nt?ct:kh(ct,rt),Nt=Jk(Zt,(o=ht?.rect)!=null?o:null,we),wt=re.useRef(null),Tt=re.useCallback((bt,_e)=>{let{sensor:st,options:Ft}=_e;if(U.current==null)return;const zt=E.get(U.current);if(!zt)return;const An=bt.nativeEvent,Oe=new st({active:U.current,activeNode:zt,event:An,options:Ft,context:Ye,onAbort(ft){if(!E.get(ft))return;const{onDragAbort:Rt}=fe.current,cn={id:ft};Rt?.(cn),R({type:"onDragAbort",event:cn})},onPending(ft,Et,Rt,cn){if(!E.get(ft))return;const{onDragPending:un}=fe.current,hn={id:ft,constraint:Et,initialCoordinates:Rt,offset:cn};un?.(hn),R({type:"onDragPending",event:hn})},onStart(ft){const Et=U.current;if(Et==null)return;const Rt=E.get(Et);if(!Rt)return;const{onDragStart:cn}=fe.current,Wt={activatorEvent:An,active:{id:Et,data:Rt.data,rect:I}};qo.unstable_batchedUpdates(()=>{cn?.(Wt),F(wc.Initializing),C({type:Ls.DragStart,initialCoordinates:ft,active:Et}),R({type:"onDragStart",event:Wt}),$(wt.current),le(An)})},onMove(ft){C({type:Ls.DragMove,coordinates:ft})},onEnd:$e(Ls.DragEnd),onCancel:$e(Ls.DragCancel)});wt.current=Oe;function $e(ft){return async function(){const{active:Rt,collisions:cn,over:Wt,scrollAdjustedTranslate:un}=Ye.current;let hn=null;if(Rt&&un){const{cancelDrop:Qn}=fe.current;hn={activatorEvent:An,active:Rt,collisions:cn,delta:un,over:Wt},ft===Ls.DragEnd&&typeof Qn=="function"&&await Promise.resolve(Qn(hn))&&(ft=Ls.DragCancel)}U.current=null,qo.unstable_batchedUpdates(()=>{C({type:ft}),F(wc.Uninitialized),wn(null),$(null),le(null),wt.current=null;const Qn=ft===Ls.DragEnd?"onDragEnd":"onDragCancel";if(hn){const Hn=fe.current[Qn];Hn?.(hn),R({type:Qn,event:hn})}})}}},[E]),gt=re.useCallback((bt,_e)=>(st,Ft)=>{const zt=st.nativeEvent,An=E.get(Ft);if(U.current!==null||!An||zt.dndKit||zt.defaultPrevented)return;const Oe={active:An};bt(st,_e.options,Oe)===!0&&(zt.dndKit={capturedBy:_e.sensor},U.current=Ft,Tt(st,_e))},[E,Tt]),rn=T7(p,gt);D7(p),Wo(()=>{we&&V===wc.Initializing&&F(wc.Initialized)},[we,V]),re.useEffect(()=>{const{onDragMove:bt}=fe.current,{active:_e,activatorEvent:st,collisions:Ft,over:zt}=Ye.current;if(!_e||!st)return;const An={active:_e,activatorEvent:st,collisions:Ft,delta:{x:ut.x,y:ut.y},over:zt};qo.unstable_batchedUpdates(()=>{bt?.(An),R({type:"onDragMove",event:An})})},[ut.x,ut.y]),re.useEffect(()=>{const{active:bt,activatorEvent:_e,collisions:st,droppableContainers:Ft,scrollAdjustedTranslate:zt}=Ye.current;if(!bt||U.current==null||!_e||!zt)return;const{onDragOver:An}=fe.current,Oe=Ft.get(yt),$e=Oe&&Oe.rect.current?{id:Oe.id,rect:Oe.rect.current,data:Oe.data,disabled:Oe.disabled}:null,ft={active:bt,activatorEvent:_e,collisions:st,delta:{x:zt.x,y:zt.y},over:$e};qo.unstable_batchedUpdates(()=>{wn($e),An?.(ft),R({type:"onDragOver",event:ft})})},[yt]),Wo(()=>{Ye.current={activatorEvent:ne,active:ee,activeNode:se,collisionRect:vt,collisions:dt,droppableRects:X,draggableNodes:E,draggingNode:z,draggingNodeRect:Ne,droppableContainers:te,over:ht,scrollableAncestors:et,scrollAdjustedTranslate:ut},I.current={initial:Ne,translated:vt}},[ee,se,dt,vt,E,z,Ne,X,te,ht,et,ut]),_7({...de,delta:B,draggingRect:vt,pointerCoordinates:at,scrollableAncestors:et,scrollableAncestorRects:Ue});const It=re.useMemo(()=>({active:ee,activeNode:se,activeNodeRect:we,activatorEvent:ne,collisions:dt,containerNodeRect:Fe,dragOverlay:lt,draggableNodes:E,droppableContainers:te,droppableRects:X,over:ht,measureDroppableContainers:W,scrollableAncestors:et,scrollableAncestorRects:Ue,measuringConfiguration:L,measuringScheduled:Q,windowRect:je}),[ee,se,we,ne,dt,Fe,lt,E,te,X,ht,W,et,Ue,L,Q,je]),Vt=re.useMemo(()=>({activatorEvent:ne,activators:rn,active:ee,activeNodeRect:we,ariaDescribedById:{draggable:be},dispatch:C,draggableNodes:E,over:ht,measureDroppableContainers:W}),[ne,rn,ee,we,C,be,E,ht,W]);return Kn.createElement(uw.Provider,{value:D},Kn.createElement(Kp.Provider,{value:Vt},Kn.createElement(Nw.Provider,{value:It},Kn.createElement(Aw.Provider,{value:Nt},d)),Kn.createElement(W7,{disabled:c?.restoreFocus===!1})),Kn.createElement(Gk,{...c,hiddenTextDescribedById:be}));function ln(){const bt=oe?.autoScrollEnabled===!1,_e=typeof f=="object"?f.enabled===!1:f===!1,st=Y&&!bt&&!_e;return typeof f=="object"?{...f,enabled:st}:{enabled:st}}}),Z7=re.createContext(null),iy="button",K7="Draggable";function Q7(n){let{id:e,data:t,disabled:s=!1,attributes:a}=n;const o=jd(K7),{activators:u,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:p,draggableNodes:y,over:_}=re.useContext(Kp),{role:v=iy,roleDescription:A="draggable",tabIndex:N=0}=a??{},k=f?.id===e,C=re.useContext(k?Aw:Z7),[R,D]=yp(),[V,F]=yp(),Y=R7(u,e),H=cd(t);Wo(()=>(y.set(e,{id:e,key:o,node:R,activatorNode:V,data:H}),()=>{const B=y.get(e);B&&B.key===o&&y.delete(e)}),[y,e]);const E=re.useMemo(()=>({role:v,tabIndex:N,"aria-disabled":s,"aria-pressed":k&&v===iy?!0:void 0,"aria-roledescription":A,"aria-describedby":p.draggable}),[s,v,N,k,A,p.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:E,isDragging:k,listeners:s?void 0:Y,node:R,over:_,setNodeRef:D,setActivatorNodeRef:F,transform:C}}function J7(){return re.useContext(Nw)}const ej="Droppable",tj={timeout:25};function nj(n){let{data:e,disabled:t=!1,id:s,resizeObserverConfig:a}=n;const o=jd(ej),{active:u,dispatch:c,over:f,measureDroppableContainers:d}=re.useContext(Kp),p=re.useRef({disabled:t}),y=re.useRef(!1),_=re.useRef(null),v=re.useRef(null),{disabled:A,updateMeasurementsFor:N,timeout:k}={...tj,...a},C=cd(N??s),R=re.useCallback(()=>{if(!y.current){y.current=!0;return}v.current!=null&&clearTimeout(v.current),v.current=setTimeout(()=>{d(Array.isArray(C.current)?C.current:[C.current]),v.current=null},k)},[k]),D=Zp({callback:R,disabled:A||!u}),V=re.useCallback((E,B)=>{D&&(B&&(D.unobserve(B),y.current=!1),E&&D.observe(E))},[D]),[F,Y]=yp(V),H=cd(e);return re.useEffect(()=>{!D||!F.current||(D.disconnect(),y.current=!1,D.observe(F.current))},[F,D]),re.useEffect(()=>(c({type:Ls.RegisterDroppable,element:{id:s,key:o,disabled:t,node:F,rect:_,data:H}}),()=>c({type:Ls.UnregisterDroppable,key:o,id:s})),[s]),re.useEffect(()=>{t!==p.current.disabled&&(c({type:Ls.SetDroppableDisabled,id:s,key:o,disabled:t}),p.current.disabled=t)},[s,o,t,c]),{active:u,rect:_,isOver:f?.id===s,node:F,over:f,setNodeRef:Y}}function E2(n,e,t){const s=n.slice();return s.splice(t<0?s.length+t:t,0,s.splice(e,1)[0]),s}function rj(n,e){return n.reduce((t,s,a)=>{const o=e.get(s);return o&&(t[a]=o),t},Array(n.length))}function j1(n){return n!==null&&n>=0}function sj(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function ij(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const E1={scaleX:1,scaleY:1},aj=n=>{var e;let{rects:t,activeNodeRect:s,activeIndex:a,overIndex:o,index:u}=n;const c=(e=t[a])!=null?e:s;if(!c)return null;const f=oj(t,u,a);if(u===a){const d=t[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...E1}:null}return u>a&&u<=o?{x:-c.width-f,y:0,...E1}:u<a&&u>=o?{x:c.width+f,y:0,...E1}:{x:0,y:0,...E1}};function oj(n,e,t){const s=n[e],a=n[e-1],o=n[e+1];return!s||!a&&!o?0:t<e?a?s.left-(a.left+a.width):o.left-(s.left+s.width):o?o.left-(s.left+s.width):s.left-(a.left+a.width)}const Tw=n=>{let{rects:e,activeIndex:t,overIndex:s,index:a}=n;const o=E2(e,s,t),u=e[a],c=o[a];return!c||!u?null:{x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height}},Cw="Sortable",kw=Kn.createContext({activeIndex:-1,containerId:Cw,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Tw,disabled:{draggable:!1,droppable:!1}});function lj(n){let{children:e,id:t,items:s,strategy:a=Tw,disabled:o=!1}=n;const{active:u,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:p}=J7(),y=jd(Cw,t),_=c.rect!==null,v=re.useMemo(()=>s.map(Y=>typeof Y=="object"&&"id"in Y?Y.id:Y),[s]),A=u!=null,N=u?v.indexOf(u.id):-1,k=d?v.indexOf(d.id):-1,C=re.useRef(v),R=!sj(v,C.current),D=k!==-1&&N===-1||R,V=ij(o);Wo(()=>{R&&A&&p(v)},[R,v,A,p]),re.useEffect(()=>{C.current=v},[v]);const F=re.useMemo(()=>({activeIndex:N,containerId:y,disabled:V,disableTransforms:D,items:v,overIndex:k,useDragOverlay:_,sortedRects:rj(v,f),strategy:a}),[N,y,V.draggable,V.droppable,D,v,k,f,_,a]);return Kn.createElement(kw.Provider,{value:F},e)}const cj=n=>{let{id:e,items:t,activeIndex:s,overIndex:a}=n;return E2(t,s,a).indexOf(e)},uj=n=>{let{containerId:e,isSorting:t,wasDragging:s,index:a,items:o,newIndex:u,previousItems:c,previousContainerId:f,transition:d}=n;return!d||!s||c!==o&&a===u?!1:t?!0:u!==a&&e===f},hj={duration:200,easing:"ease"},jw="transform",fj=hd.Transition.toString({property:jw,duration:0,easing:"linear"}),dj={roleDescription:"sortable"};function pj(n){let{disabled:e,index:t,node:s,rect:a}=n;const[o,u]=re.useState(null),c=re.useRef(t);return Wo(()=>{if(!e&&t!==c.current&&s.current){const f=a.current;if(f){const d=ef(s.current,{ignoreTransform:!0}),p={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(p.x||p.y)&&u(p)}}t!==c.current&&(c.current=t)},[e,t,s,a]),re.useEffect(()=>{o&&u(null)},[o]),o}function mj(n){let{animateLayoutChanges:e=uj,attributes:t,disabled:s,data:a,getNewIndex:o=cj,id:u,strategy:c,resizeObserverConfig:f,transition:d=hj}=n;const{items:p,containerId:y,activeIndex:_,disabled:v,disableTransforms:A,sortedRects:N,overIndex:k,useDragOverlay:C,strategy:R}=re.useContext(kw),D=gj(s,v),V=p.indexOf(u),F=re.useMemo(()=>({sortable:{containerId:y,index:V,items:p},...a}),[y,a,V,p]),Y=re.useMemo(()=>p.slice(p.indexOf(u)),[p,u]),{rect:H,node:E,isOver:B,setNodeRef:te}=nj({id:u,data:F,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:Y,...f}}),{active:j,activatorEvent:I,activeNodeRect:ee,attributes:U,setNodeRef:oe,listeners:$,isDragging:ne,over:le,setActivatorNodeRef:fe,transform:be}=Q7({id:u,data:F,attributes:{...dj,...t},disabled:D.draggable}),G=Ok(te,oe),L=!!j,X=L&&!A&&j1(_)&&j1(k),W=!C&&ne,Q=W&&X?be:null,pe=X?Q??(c??R)({rects:N,activeNodeRect:ee,activeIndex:_,overIndex:k,index:V}):null,de=j1(_)&&j1(k)?o({id:u,items:p,activeIndex:_,overIndex:k}):V,xe=j?.id,we=re.useRef({activeId:xe,items:p,newIndex:de,containerId:y}),Fe=p!==we.current.items,Ye=e({active:j,containerId:y,isDragging:ne,isSorting:L,id:u,index:V,items:p,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:d,wasDragging:we.current.activeId!=null}),Ze=pj({disabled:!Ye,index:V,node:E,rect:H});return re.useEffect(()=>{L&&we.current.newIndex!==de&&(we.current.newIndex=de),y!==we.current.containerId&&(we.current.containerId=y),p!==we.current.items&&(we.current.items=p)},[L,de,y,p]),re.useEffect(()=>{if(xe===we.current.activeId)return;if(xe!=null&&we.current.activeId==null){we.current.activeId=xe;return}const z=setTimeout(()=>{we.current.activeId=xe},50);return()=>clearTimeout(z)},[xe]),{active:j,activeIndex:_,attributes:U,data:F,rect:H,index:V,newIndex:de,items:p,isOver:B,isSorting:L,isDragging:ne,listeners:$,node:E,overIndex:k,over:le,setNodeRef:G,setActivatorNodeRef:fe,setDroppableNodeRef:te,setDraggableNodeRef:oe,transform:Ze??pe,transition:lt()};function lt(){if(Ze||Fe&&we.current.newIndex===V)return fj;if(!(W&&!A2(I)||!d)&&(L||Ye))return hd.Transition.toString({...d,property:jw})}}function gj(n,e){var t,s;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(s=n?.droppable)!=null?s:e.droppable}}function _p(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const bj=[Vn.Down,Vn.Right,Vn.Up,Vn.Left],vj=(n,e)=>{let{context:{active:t,collisionRect:s,droppableRects:a,droppableContainers:o,over:u,scrollableAncestors:c}}=e;if(bj.includes(n.code)){if(n.preventDefault(),!t||!s)return;const f=[];o.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const _=a.get(y.id);if(_)switch(n.code){case Vn.Down:s.top<_.top&&f.push(y);break;case Vn.Up:s.top>_.top&&f.push(y);break;case Vn.Left:s.left>_.left&&f.push(y);break;case Vn.Right:s.left<_.left&&f.push(y);break}});const d=Zk({collisionRect:s,droppableRects:a,droppableContainers:f});let p=dw(d,"id");if(p===u?.id&&d.length>1&&(p=d[1].id),p!=null){const y=o.get(t.id),_=o.get(p),v=_?a.get(_.id):null,A=_?.node.current;if(A&&v&&y&&_){const k=Xp(A).some((Y,H)=>c[H]!==Y),C=Ew(y,_),R=yj(y,_),D=k||!C?{x:0,y:0}:{x:R?s.width-v.width:0,y:R?s.height-v.height:0},V={x:v.left,y:v.top};return D.x&&D.y?V:ud(V,D)}}}};function Ew(n,e){return!_p(n)||!_p(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function yj(n,e){return!_p(n)||!_p(e)||!Ew(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}const xj={intro:{bg:"bg-purple-500/10",headers:"bg-purple-500/30 text-purple-100",border:"border-purple-500/30",accent:"bg-purple-500"},verse:{bg:"bg-blue-500/10",headers:"bg-blue-500/30 text-blue-100",border:"border-blue-500/30",accent:"bg-blue-500"},"pre-chorus":{bg:"bg-cyan-500/10",headers:"bg-cyan-500/30 text-cyan-100",border:"border-cyan-500/30",accent:"bg-cyan-500"},chorus:{bg:"bg-amber-500/10",headers:"bg-amber-500/30 text-amber-100",border:"border-amber-500/30",accent:"bg-amber-500"},bridge:{bg:"bg-emerald-500/10",headers:"bg-emerald-500/30 text-emerald-100",border:"border-emerald-500/30",accent:"bg-emerald-500"},interlude:{bg:"bg-teal-500/10",headers:"bg-teal-500/30 text-teal-100",border:"border-teal-500/30",accent:"bg-teal-500"},solo:{bg:"bg-orange-500/10",headers:"bg-orange-500/30 text-orange-100",border:"border-orange-500/30",accent:"bg-orange-500"},breakdown:{bg:"bg-red-500/10",headers:"bg-red-500/30 text-red-100",border:"border-red-500/30",accent:"bg-red-500"},tag:{bg:"bg-pink-500/10",headers:"bg-pink-500/30 text-pink-100",border:"border-pink-500/30",accent:"bg-pink-500"},hook:{bg:"bg-yellow-500/10",headers:"bg-yellow-500/30 text-yellow-100",border:"border-yellow-500/30",accent:"bg-yellow-500"},outro:{bg:"bg-rose-500/10",headers:"bg-rose-500/30 text-rose-100",border:"border-rose-500/30",accent:"bg-rose-500"}},wj=60,ay=.35,_j={bg:"bg-slate-500/10",headers:"bg-slate-500/30 text-slate-100",border:"border-slate-500/30",accent:"bg-slate-500"},Sj=({section:n,allSections:e,onSelectBeat:t,onBeatTap:s,onEmptySlotTap:a,isActive:o,playingSlotId:u,selectedBeatId:c,chordColors:f,measureWidth:d,isCompact:p})=>{const{attributes:y,listeners:_,setNodeRef:v,transform:A,transition:N,isDragging:k}=mj({id:n.id}),C={transform:hd.Transform.toString(A),transition:N},R=xj[n.type]||_j,D=n.measures,V=Xf(n,e),Y=Math.max(p?40:100,D.length*d),H=p?60:140;return p?b.jsxs("div",{ref:v,"data-section-id":n.id,style:{...C,width:Y,height:H},className:Ht("relative flex flex-col rounded-lg overflow-hidden shrink-0 transition-all border cursor-pointer",R.bg,R.border,k?"opacity-50 z-50 ring-2 ring-accent-primary":"hover:border-opacity-70 hover:scale-[1.02]",o?"ring-2 ring-white/30":""),onClick:()=>t(n.id,n.measures[0]?.beats[0]?.id),...y,..._,children:[b.jsx("div",{className:Ht("h-1.5 w-full",R.accent)}),b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-1 py-1",children:[b.jsx("span",{className:"font-bold uppercase tracking-wide text-center leading-tight text-sm",children:n.type.charAt(0).toUpperCase()}),b.jsxs("span",{className:"text-[8px] font-mono text-white/40 mt-0.5",children:[D.length,"b"]})]})]}):b.jsxs("div",{ref:v,"data-section-id":n.id,style:{...C,width:Y,height:H},className:Ht("relative flex flex-col pt-8 pb-2 rounded-xl overflow-hidden shrink-0 transition-all border group",R.bg,R.border,k?"opacity-50 z-50 ring-2 ring-accent-primary":"hover:border-opacity-50",o?"ring-2 ring-white/20":""),children:[b.jsxs("div",{className:Ht("absolute top-0 left-0 right-0 h-8 flex items-center justify-between px-3 select-none border-b border-white/5",R.headers,"cursor-grab active:cursor-grabbing"),...y,..._,children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(q3,{size:14,className:"opacity-50"}),b.jsx("span",{className:"font-bold text-xs uppercase tracking-wider truncate max-w-[100px]",children:V})]}),d>=70&&b.jsx("div",{className:"flex items-center gap-2 text-[10px] font-mono opacity-80",children:b.jsxs("span",{children:[D.length," bars"]})})]}),b.jsx("div",{className:"flex-1 flex px-2 pt-2 gap-1 overflow-hidden",children:D.map((E,B)=>b.jsxs("div",{className:"flex-1 min-w-[32px] h-full flex flex-col gap-1",children:[b.jsxs("div",{className:"h-4 flex items-end justify-between px-0.5 border-b border-white/10 pb-0.5",children:[b.jsx("span",{className:"text-[9px] font-mono text-white/30",children:B+1}),b.jsx("div",{className:"flex gap-0.5",children:E.beats.map((te,j)=>b.jsx("div",{className:"w-0.5 h-1.5 bg-white/20 rounded-full"},j))})]}),(()=>{const te=E.beats.filter(I=>I.chord),j=te.length;if(j===0){const I=E.beats[0];return b.jsx("div",{className:"flex-1 rounded-sm bg-white/5 border border-dashed border-white/10 flex items-center justify-center cursor-pointer hover:bg-white/10 hover:border-white/20 transition-colors",onClick:ee=>{ee.stopPropagation(),I&&a(n.id,I.id)},title:"Tap to select this slot",children:b.jsx("span",{className:"text-[10px] text-white/20",children:"+"})})}return b.jsx("div",{className:"flex gap-0.5 flex-1 items-stretch",children:te.map(I=>{const ee=f[I.chord.root]||"#666",U=j<=2?"10px":j<=4?"8px":"7px",oe=j<=2?"0 4px":"0 2px",$=c===I.id,ne=u===I.id;return b.jsx("div",{onClick:le=>{le.stopPropagation(),s(n.id,I.id,I.chord)},className:Ht("flex-1 min-w-0 rounded-sm flex items-center justify-center font-bold shadow-sm truncate transition-all cursor-pointer",ne?"ring-2 ring-green-500 shadow-[0_0_12px_rgba(34,197,94,0.6)] scale-110 z-10":$?"ring-2 ring-accent-primary shadow-[0_0_12px_rgba(99,102,241,0.5)] scale-105 z-10":"hover:ring-1 hover:ring-white/30 hover:scale-105"),style:{backgroundColor:ne?"rgba(34, 197, 94, 0.15)":$?"rgba(99, 102, 241, 0.15)":"rgba(0, 0, 0, 0.3)",border:`2px solid ${ne?"#22c55e":$?"#6366f1":ee}`,color:ne?"#4ade80":$?"#a5b4fc":ee,fontSize:U,padding:oe,minHeight:"24px"},title:$?`Tap again to go to ${I.chord.symbol}`:`Tap to select ${I.chord.symbol}`,children:Jn(I.chord.symbol)},I.id)})})})()]},E.id))}),b.jsx("div",{className:"absolute inset-0 top-8 bg-black/0 hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 hover:opacity-100 pointer-events-none",children:b.jsx("span",{className:"text-[10px] uppercase font-bold tracking-widest text-white/80 bg-black/50 px-2 py-1 rounded backdrop-blur-sm",children:"Go to Section"})})]})},Nj=({displayChord:n,chordColors:e,isPlaying:t,selectedMapBeatId:s})=>{const{isMobile:a,isLandscape:o}=Kh();if(!n)return null;const u=e[n.root]||"#6366f1";return a&&o?b.jsx("div",{className:"absolute top-2 right-2 z-20",onClick:c=>c.stopPropagation(),children:b.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg backdrop-blur-md cursor-pointer group",style:{background:"rgba(17,17,22,0.95)",border:`1.5px solid ${u}`,boxShadow:`0 2px 12px ${u}40`},onClick:()=>{n.notes&&Br(n.notes)},children:[b.jsx("span",{className:"text-sm font-bold",style:{color:u},children:Jn(n.symbol||`${n.root}${n.quality==="maj"?"":n.quality}`)}),n.numeral&&b.jsx("span",{className:"text-[10px] font-serif italic text-white/40",children:Jn(n.numeral)}),t&&s&&b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-ping"})]})}):a?b.jsx("div",{className:"shrink-0 px-3 py-2",style:{background:"linear-gradient(180deg, rgba(26,26,36,0.98) 0%, rgba(17,17,22,0.98) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 -4px 20px rgba(0,0,0,0.3)"},onClick:c=>c.stopPropagation(),children:b.jsxs("div",{className:"flex items-center justify-center gap-3 max-w-sm mx-auto",children:[b.jsxs("div",{className:"flex flex-col items-center cursor-pointer group shrink-0",onClick:()=>{n.notes&&Br(n.notes)},children:[b.jsx("div",{className:"relative px-3 py-1.5 rounded-lg transition-all group-hover:scale-105 group-active:scale-95",style:{background:`linear-gradient(135deg, ${u}15, ${u}05)`,border:`1.5px solid ${u}`,boxShadow:`0 0 12px ${u}30`},children:b.jsx("span",{className:"text-base font-bold",style:{color:u},children:Jn(n.symbol||`${n.root}${n.quality==="maj"?"":n.quality}`)})}),n.numeral&&b.jsx("span",{className:"text-[10px] font-serif italic text-white/40 mt-1",children:Jn(n.numeral)}),t&&s&&b.jsxs("span",{className:"text-[8px] text-green-400 mt-0.5 animate-pulse flex items-center gap-1",children:[b.jsx("span",{className:"w-1 h-1 rounded-full bg-green-400 animate-ping"}),"Playing"]})]}),b.jsx("div",{className:"w-px h-10 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),b.jsx("div",{className:"flex-shrink-0 overflow-hidden",style:{width:"140px",transform:"scale(0.85)",transformOrigin:"center"},children:b.jsx(lg,{highlightedNotes:n.notes||[],rootNote:n.root,color:u,octave:4})}),b.jsx("div",{className:"w-px h-10 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),b.jsx("div",{className:"flex flex-col items-center cursor-pointer group shrink-0",onClick:()=>{n.notes&&Br(n.notes)},children:b.jsx("div",{className:"transform scale-50 origin-top group-hover:scale-55 transition-transform",style:{marginTop:"-8px",marginBottom:"-50px"},children:b.jsx(cg,{root:n.root,quality:n.quality,color:u})})})]})}):b.jsx("div",{className:"shrink-0 px-4 py-3",style:{background:"linear-gradient(180deg, rgba(26,26,36,0.98) 0%, rgba(17,17,22,0.98) 100%)",borderTop:"1px solid rgba(255,255,255,0.08)",boxShadow:"0 -4px 20px rgba(0,0,0,0.3)"},onClick:c=>c.stopPropagation(),children:b.jsxs("div",{className:"flex items-center justify-center gap-6 max-w-xl mx-auto",children:[b.jsxs("div",{className:"flex flex-col items-center cursor-pointer group",onClick:()=>{n.notes&&Br(n.notes)},children:[b.jsx("div",{className:"relative px-4 py-2 rounded-xl transition-all group-hover:scale-105 group-active:scale-95",style:{background:`linear-gradient(135deg, ${u}15, ${u}05)`,border:`2px solid ${u}`,boxShadow:`0 0 20px ${u}30`},children:b.jsx("span",{className:"text-xl font-bold",style:{color:u},children:Jn(n.symbol||`${n.root}${n.quality==="maj"?"":n.quality}`)})}),n.numeral&&b.jsx("span",{className:"text-xs font-serif italic text-white/40 mt-1.5",children:Jn(n.numeral)}),t&&s&&b.jsxs("span",{className:"text-[9px] text-green-400 mt-1 animate-pulse flex items-center gap-1",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-ping"}),"Now Playing"]})]}),b.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),b.jsx("div",{className:"flex-shrink-0",style:{width:"200px"},children:b.jsx(lg,{highlightedNotes:n.notes||[],rootNote:n.root,color:u,octave:4})}),b.jsx("div",{className:"w-px h-16 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),b.jsx("div",{className:"flex flex-col items-center cursor-pointer group shrink-0",onClick:()=>{n.notes&&Br(n.notes)},children:b.jsx("div",{className:"transform scale-75 origin-top group-hover:scale-80 transition-transform",style:{marginTop:"-8px",marginBottom:"-20px"},children:b.jsx(cg,{root:n.root,quality:n.quality,color:u})})})]})})},Aj=()=>{const{currentSong:n,songMapVisible:e,toggleSongMap:t,toggleSongInfoModal:s,setSelectedSlot:a,reorderSections:o,isPlaying:u,tempo:c,setTempo:f,playingSectionId:d,openTimeline:p}=an(),[y,_]=re.useState(!1),[v,A]=re.useState(c.toString()),N=re.useRef(null),[k,C]=re.useState(!1),R=re.useRef(null),D=re.useRef(c),V=re.useRef(null),F=()=>{A(c.toString()),_(!0),setTimeout(()=>N.current?.focus(),0)},Y=()=>{const z=parseInt(v,10);!isNaN(z)&&z>=40&&z<=240?f(z):A(c.toString()),_(!1)},H=z=>{z.key==="Enter"?Y():z.key==="Escape"&&(A(c.toString()),_(!1))},E=z=>{R.current=z.touches[0].clientX,D.current=c,C(!1),V.current=setTimeout(()=>{V.current=null},150)},B=z=>{if(R.current===null)return;const nt=z.touches[0].clientX-R.current;if(Math.abs(nt)>10){C(!0),V.current&&(clearTimeout(V.current),V.current=null);const Be=Math.round(nt/3),je=Math.min(240,Math.max(40,D.current+Be));f(je)}},te=()=>{!k&&V.current&&(clearTimeout(V.current),F()),R.current=null,C(!1),V.current=null},[j,I]=re.useState(1),ee=re.useRef(null),[U,oe]=re.useState(null),[$,ne]=re.useState(null),[le,fe]=re.useState(null),[be,G]=re.useState(null);re.useEffect(()=>{if(!u)return;const z=()=>{const{playingSectionId:nt,playingSlotId:Be}=an.getState();if(nt&&Be){const je=n.sections.find(et=>et.id===nt);if(je)for(const et of je.measures){const Ue=et.beats.find(ct=>ct.id===Be);if(Ue?.chord){G(Ue.chord),oe(Ue.chord),ne(Be),fe(nt);return}}}};z();const Ne=setInterval(z,100);return()=>clearInterval(Ne)},[u,n.sections]),re.useEffect(()=>{!u&&U&&G(U)},[u,U]);const L=Ph(),X=n.sections.reduce((z,Ne)=>z+Ne.measures.length,0),Q=n.sections.reduce((z,Ne)=>{const Be=(Ne.timeSignature||n.timeSignature)[0];return z+Ne.measures.length*Be},0)/c*60,se=Math.floor(Q/60),pe=Math.floor(Q%60),de=`${se}:${pe.toString().padStart(2,"0")}`,xe=wj*j,we=z=>{I(Number(z.target.value))},Fe=Yk(Yv(j2,{activationConstraint:{distance:8}}),Yv(C2,{coordinateGetter:vj})),Ye=z=>{const{active:Ne,over:nt}=z;if(nt&&Ne.id!==nt.id){const Be=n.sections.findIndex(et=>et.id===Ne.id),je=n.sections.findIndex(et=>et.id===nt.id);o(E2(n.sections,Be,je))}};if(re.useEffect(()=>{const z=Ne=>{Ne.key==="Escape"&&t(!1)};return e&&window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[e,t]),re.useEffect(()=>{if(!e||!u||!d||!ee.current)return;const z=ee.current.querySelector(`[data-section-id="${d}"]`);z&&z.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},[e,u,d]),!e)return null;const Ze=async()=>{const{unlockAudioForIOS:z,playSong:Ne,pauseSong:nt}=await Ch(async()=>{const{unlockAudioForIOS:Be,playSong:je,pauseSong:et}=await Promise.resolve().then(()=>sg);return{unlockAudioForIOS:Be,playSong:je,pauseSong:et}},void 0);u?(nt(),an.getState().setIsPlaying(!1)):(await z(),await Ne(),an.getState().setIsPlaying(!0))},lt=async z=>{const{skipToSection:Ne}=await Ch(async()=>{const{skipToSection:nt}=await Promise.resolve().then(()=>sg);return{skipToSection:nt}},void 0);Ne(z)};return e?b.jsxs("div",{className:"fixed inset-0 z-[100] flex flex-col bg-[#111116] animate-in fade-in duration-200",onClick:()=>t(!1),children:[b.jsxs("div",{className:"shrink-0 relative z-20",style:{paddingTop:"max(16px, env(safe-area-inset-top))"},onClick:z=>z.stopPropagation(),children:[b.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-transparent pointer-events-none"}),b.jsxs("div",{className:"relative flex items-center justify-between px-4 py-3 mt-2",children:[b.jsx("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:z=>{z.stopPropagation(),s(!0)},children:b.jsxs("div",{children:[b.jsx("h2",{className:"font-bold text-white text-base leading-tight",children:n.title}),n.artist&&n.artist.trim()&&b.jsxs("p",{className:"text-white/40 text-[11px] italic",children:["by ",n.artist]})]})}),b.jsx("button",{onClick:()=>t(!1),className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 active:bg-white/20 flex items-center justify-center text-white/70 transition-colors",children:b.jsx(jc,{size:16})})]}),b.jsxs("div",{className:"flex items-center gap-4 px-4 pb-4 text-[10px] font-medium text-white/40 overflow-x-auto no-scrollbar",children:[b.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[b.jsx("span",{className:"text-accent-primary",children:n.sections.length}),b.jsx("span",{children:"Sections"})]}),b.jsx("div",{className:"w-px h-2 bg-white/10 shrink-0"}),b.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[b.jsx("span",{className:"text-accent-primary",children:X}),b.jsx("span",{children:"Bars"})]}),b.jsx("div",{className:"w-px h-2 bg-white/10 shrink-0"}),b.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[b.jsx("span",{className:"text-accent-primary",children:de}),b.jsx("span",{children:"Duration"})]})]})]}),b.jsxs("div",{ref:ee,className:"flex-1 overflow-x-auto overflow-y-hidden flex items-center relative scrollbar-hide bg-[#0b0b0f]",onClick:z=>z.stopPropagation(),children:[b.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"20px 20px"}}),b.jsx("div",{className:Ht("flex relative h-full items-center px-4 transition-all min-w-full",j<ay?"gap-2":"gap-4"),style:{paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:b.jsx(X7,{sensors:Fe,collisionDetection:Xk,onDragEnd:Ye,children:b.jsx(lj,{items:n.sections.map(z=>z.id),strategy:aj,children:n.sections.map(z=>b.jsx(Sj,{section:z,allSections:n.sections,onSelectBeat:(Ne,nt)=>{nt&&a(Ne,nt),oe(null),ne(null),fe(null),t(!1)},onBeatTap:(Ne,nt,Be)=>{$===nt&&le===Ne?(nt&&a(Ne,nt),oe(null),ne(null),fe(null),t(!1)):(oe(Be),ne(nt),fe(Ne),G(Be),Be?.notes&&Br(Be.notes))},onEmptySlotTap:(Ne,nt)=>{a(Ne,nt),t(!1),p()},isActive:u&&n.sections.findIndex(Ne=>Ne.id===z.id)===n.sections.findIndex(Ne=>Ne.id===d),playingSlotId:an.getState().isPlaying?an.getState().playingSlotId:null,selectedBeatId:$,chordColors:L,measureWidth:xe,isCompact:j<ay},z.id))})})})]}),b.jsx(Nj,{displayChord:be,chordColors:L,isPlaying:u,selectedMapBeatId:$}),b.jsxs("div",{className:"shrink-0 bg-[#1a1a24] border-t border-white/5 z-[110]",style:{paddingBottom:"env(safe-area-inset-bottom)"},onClick:z=>z.stopPropagation(),children:[b.jsx("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/5",children:b.jsxs("div",{className:"flex items-center gap-4 w-full",children:[b.jsx("button",{onClick:()=>I(Math.max(.15,j-.1)),className:"p-2 -m-2 text-text-secondary active:text-white transition-colors",children:b.jsx(mk,{size:18})}),b.jsx("input",{type:"range",min:"0.15",max:"2",step:"0.05",value:j,onChange:we,onTouchStart:z=>z.stopPropagation(),onTouchMove:z=>z.stopPropagation(),className:"flex-1 h-2 bg-white/10 rounded-full appearance-none cursor-pointer touch-none [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:border-2 [&::-webkit-slider-thumb]:border-accent-primary",style:{WebkitAppearance:"none"}}),b.jsx("button",{onClick:()=>I(Math.min(2,j+.1)),className:"p-2 -m-2 text-text-secondary active:text-white transition-colors",children:b.jsx(dk,{size:18})})]})}),b.jsxs("div",{className:"flex items-center justify-center gap-8 px-6 py-4",children:[b.jsxs("div",{className:"flex flex-col items-center gap-1",children:[b.jsx("span",{className:"text-[10px] uppercase tracking-wider text-white/30 font-bold",children:"BPM"}),y?b.jsx("input",{ref:N,type:"number",inputMode:"numeric",value:v,onChange:z=>A(z.target.value),onBlur:Y,onKeyDown:H,className:"w-16 text-lg bg-bg-tertiary border border-accent-primary rounded px-2 py-1 text-center text-white font-mono font-medium focus:outline-none",min:40,max:240}):b.jsx("div",{onTouchStart:E,onTouchMove:B,onTouchEnd:te,onClick:F,className:Ht("text-lg font-mono font-medium cursor-ew-resize select-none px-3 py-1 rounded transition-colors",k?"text-accent-primary bg-accent-primary/10":"text-accent-primary hover:bg-white/5"),children:c})]}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsx("button",{onClick:()=>lt("prev"),className:"text-accent-primary/80 hover:text-accent-primary transition-colors p-2 active:scale-95",children:b.jsx($3,{size:22,fill:"currentColor"})}),b.jsx("button",{onClick:Ze,className:Ht("w-14 h-14 rounded-full flex items-center justify-center shadow-xl transition-all active:scale-95",u?"bg-accent-primary text-white shadow-accent-primary/30":"bg-accent-primary/20 text-accent-primary border-2 border-accent-primary"),children:u?b.jsx(Y3,{size:24,fill:"currentColor"}):b.jsx(Xh,{size:24,fill:"currentColor",className:"ml-1"})}),b.jsx("button",{onClick:()=>lt("next"),className:"text-accent-primary/80 hover:text-accent-primary transition-colors p-2 active:scale-95",children:b.jsx(X3,{size:22,fill:"currentColor"})})]})]})]})]}):null},Tj=({className:n="",size:e=24})=>b.jsx("div",{className:`relative flex items-center justify-center ${n}`,style:{width:e,height:e},children:b.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[[...Array(12)].map((t,s)=>{const a=s*30,o=(a-15-90)*Math.PI/180,u=(a+15-90)*Math.PI/180,c=20,f=48,d=s<=4||s>=10;let p;d?s===0?p="rgba(234, 179, 8, 0.95)":s===1?p="rgba(163, 190, 60, 0.9)":s===2?p="rgba(132, 204, 22, 0.85)":s===3?p="rgba(74, 222, 128, 0.75)":s===4?p="rgba(45, 212, 191, 0.65)":s===11?p="rgba(251, 146, 60, 0.9)":s===10?p="rgba(168, 162, 158, 0.65)":p="rgba(200, 180, 100, 0.7)":p=["rgba(100, 80, 120, 0.5)","rgba(80, 70, 90, 0.5)","rgba(60, 55, 70, 0.5)"][s%3];const y=50+c*Math.cos(o),_=50+c*Math.sin(o),v=50+f*Math.cos(o),A=50+f*Math.sin(o),N=50+f*Math.cos(u),k=50+f*Math.sin(u),C=50+c*Math.cos(u),R=50+c*Math.sin(u);return b.jsx("path",{d:`M ${y} ${_} L ${v} ${A} A ${f} ${f} 0 0 1 ${N} ${k} L ${C} ${R} A ${c} ${c} 0 0 0 ${y} ${_}`,fill:p,stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.5"},s)}),b.jsx("circle",{cx:"50",cy:"50",r:"18",fill:"rgba(20, 20, 30, 0.95)",stroke:"rgba(255, 255, 255, 0.15)",strokeWidth:"1"})]})});function rr(n){"@babel/helpers - typeof";return rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(n)}var po=Uint8Array,ha=Uint16Array,M2=Int32Array,L2=new po([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),O2=new po([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oy=new po([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Mw=function(n,e){for(var t=new ha(31),s=0;s<31;++s)t[s]=e+=1<<n[s-1];for(var a=new M2(t[30]),s=1;s<30;++s)for(var o=t[s];o<t[s+1];++o)a[o]=o-t[s]<<5|s;return{b:t,r:a}},Lw=Mw(L2,2),Cj=Lw.b,gg=Lw.r;Cj[28]=258,gg[258]=28;var kj=Mw(O2,0),ly=kj.r,bg=new ha(32768);for(var Cr=0;Cr<32768;++Cr){var vc=(Cr&43690)>>1|(Cr&21845)<<1;vc=(vc&52428)>>2|(vc&13107)<<2,vc=(vc&61680)>>4|(vc&3855)<<4,bg[Cr]=((vc&65280)>>8|(vc&255)<<8)>>1}var Jf=(function(n,e,t){for(var s=n.length,a=0,o=new ha(e);a<s;++a)n[a]&&++o[n[a]-1];var u=new ha(e);for(a=1;a<e;++a)u[a]=u[a-1]+o[a-1]<<1;var c;if(t){c=new ha(1<<e);var f=15-e;for(a=0;a<s;++a)if(n[a])for(var d=a<<4|n[a],p=e-n[a],y=u[n[a]-1]++<<p,_=y|(1<<p)-1;y<=_;++y)c[bg[y]>>f]=d}else for(c=new ha(s),a=0;a<s;++a)n[a]&&(c[a]=bg[u[n[a]-1]++]>>15-n[a]);return c}),yu=new po(288);for(var Cr=0;Cr<144;++Cr)yu[Cr]=8;for(var Cr=144;Cr<256;++Cr)yu[Cr]=9;for(var Cr=256;Cr<280;++Cr)yu[Cr]=7;for(var Cr=280;Cr<288;++Cr)yu[Cr]=8;var Sp=new po(32);for(var Cr=0;Cr<32;++Cr)Sp[Cr]=5;var jj=Jf(yu,9,0),Ej=Jf(Sp,5,0),Ow=function(n){return(n+7)/8|0},Mj=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new po(n.subarray(e,t))},Sl=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8},qf=function(n,e,t){t<<=e&7;var s=e/8|0;n[s]|=t,n[s+1]|=t>>8,n[s+2]|=t>>16},Nm=function(n,e){for(var t=[],s=0;s<n.length;++s)n[s]&&t.push({s,f:n[s]});var a=t.length,o=t.slice();if(!a)return{t:Rw,l:0};if(a==1){var u=new po(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(F,Y){return F.f-Y.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,p=1,y=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};p!=a-1;)c=t[t[d].f<t[y].f?d++:y++],f=t[d!=p&&t[d].f<t[y].f?d++:y++],t[p++]={s:-1,f:c.f+f.f,l:c,r:f};for(var _=o[0].s,s=1;s<a;++s)o[s].s>_&&(_=o[s].s);var v=new ha(_+1),A=vg(t[p-1],v,0);if(A>e){var s=0,N=0,k=A-e,C=1<<k;for(o.sort(function(Y,H){return v[H.s]-v[Y.s]||Y.f-H.f});s<a;++s){var R=o[s].s;if(v[R]>e)N+=C-(1<<A-v[R]),v[R]=e;else break}for(N>>=k;N>0;){var D=o[s].s;v[D]<e?N-=1<<e-v[D]++-1:++s}for(;s>=0&&N;--s){var V=o[s].s;v[V]==e&&(--v[V],++N)}A=e}return{t:new po(v),l:A}},vg=function(n,e,t){return n.s==-1?Math.max(vg(n.l,e,t+1),vg(n.r,e,t+1)):e[n.s]=t},cy=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ha(++e),s=0,a=n[0],o=1,u=function(f){t[s++]=f},c=1;c<=e;++c)if(n[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(a),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(a);o=1,a=n[c]}return{c:t.subarray(0,s),n:e}},Uf=function(n,e){for(var t=0,s=0;s<e.length;++s)t+=n[s]*e[s];return t},Dw=function(n,e,t){var s=t.length,a=Ow(e+2);n[a]=s&255,n[a+1]=s>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var o=0;o<s;++o)n[a+o+4]=t[o];return(a+4+s)*8},uy=function(n,e,t,s,a,o,u,c,f,d,p){Sl(e,p++,t),++a[256];for(var y=Nm(a,15),_=y.t,v=y.l,A=Nm(o,15),N=A.t,k=A.l,C=cy(_),R=C.c,D=C.n,V=cy(N),F=V.c,Y=V.n,H=new ha(19),E=0;E<R.length;++E)++H[R[E]&31];for(var E=0;E<F.length;++E)++H[F[E]&31];for(var B=Nm(H,7),te=B.t,j=B.l,I=19;I>4&&!te[oy[I-1]];--I);var ee=d+5<<3,U=Uf(a,yu)+Uf(o,Sp)+u,oe=Uf(a,_)+Uf(o,N)+u+14+3*I+Uf(H,te)+2*H[16]+3*H[17]+7*H[18];if(f>=0&&ee<=U&&ee<=oe)return Dw(e,p,n.subarray(f,f+d));var $,ne,le,fe;if(Sl(e,p,1+(oe<U)),p+=2,oe<U){$=Jf(_,v,0),ne=_,le=Jf(N,k,0),fe=N;var be=Jf(te,j,0);Sl(e,p,D-257),Sl(e,p+5,Y-1),Sl(e,p+10,I-4),p+=14;for(var E=0;E<I;++E)Sl(e,p+3*E,te[oy[E]]);p+=3*I;for(var G=[R,F],L=0;L<2;++L)for(var X=G[L],E=0;E<X.length;++E){var W=X[E]&31;Sl(e,p,be[W]),p+=te[W],W>15&&(Sl(e,p,X[E]>>5&127),p+=X[E]>>12)}}else $=jj,ne=yu,le=Ej,fe=Sp;for(var E=0;E<c;++E){var Q=s[E];if(Q>255){var W=Q>>18&31;qf(e,p,$[W+257]),p+=ne[W+257],W>7&&(Sl(e,p,Q>>23&31),p+=L2[W]);var se=Q&31;qf(e,p,le[se]),p+=fe[se],se>3&&(qf(e,p,Q>>5&8191),p+=O2[se])}else qf(e,p,$[Q]),p+=ne[Q]}return qf(e,p,$[256]),p+ne[256]},Lj=new M2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Rw=new po(0),Oj=function(n,e,t,s,a,o){var u=o.z||n.length,c=new po(s+u+5*(1+Math.ceil(u/7e3))+a),f=c.subarray(s,c.length-a),d=o.l,p=(o.r||0)&7;if(e){p&&(f[0]=o.r>>3);for(var y=Lj[e-1],_=y>>13,v=y&8191,A=(1<<t)-1,N=o.p||new ha(32768),k=o.h||new ha(A+1),C=Math.ceil(t/3),R=2*C,D=function(lt){return(n[lt]^n[lt+1]<<C^n[lt+2]<<R)&A},V=new M2(25e3),F=new ha(288),Y=new ha(32),H=0,E=0,B=o.i||0,te=0,j=o.w||0,I=0;B+2<u;++B){var ee=D(B),U=B&32767,oe=k[ee];if(N[U]=oe,k[ee]=U,j<=B){var $=u-B;if((H>7e3||te>24576)&&($>423||!d)){p=uy(n,f,0,V,F,Y,E,te,I,B-I,p),te=H=E=0,I=B;for(var ne=0;ne<286;++ne)F[ne]=0;for(var ne=0;ne<30;++ne)Y[ne]=0}var le=2,fe=0,be=v,G=U-oe&32767;if($>2&&ee==D(B-G))for(var L=Math.min(_,$)-1,X=Math.min(32767,B),W=Math.min(258,$);G<=X&&--be&&U!=oe;){if(n[B+le]==n[B+le-G]){for(var Q=0;Q<W&&n[B+Q]==n[B+Q-G];++Q);if(Q>le){if(le=Q,fe=G,Q>L)break;for(var se=Math.min(G,Q-2),pe=0,ne=0;ne<se;++ne){var de=B-G+ne&32767,xe=N[de],we=de-xe&32767;we>pe&&(pe=we,oe=de)}}}U=oe,oe=N[U],G+=U-oe&32767}if(fe){V[te++]=268435456|gg[le]<<18|ly[fe];var Fe=gg[le]&31,Ye=ly[fe]&31;E+=L2[Fe]+O2[Ye],++F[257+Fe],++Y[Ye],j=B+le,++H}else V[te++]=n[B],++F[n[B]]}}for(B=Math.max(B,j);B<u;++B)V[te++]=n[B],++F[n[B]];p=uy(n,f,d,V,F,Y,E,te,I,B-I,p),d||(o.r=p&7|f[p/8|0]<<3,p-=7,o.h=k,o.p=N,o.i=B,o.w=j)}else{for(var B=o.w||0;B<u+d;B+=65535){var Ze=B+65535;Ze>=u&&(f[p/8|0]=d,Ze=u),p=Dw(f,p+1,n.subarray(B,Ze))}o.i=u}return Mj(c,0,s+Ow(p)+a)},Iw=function(){var n=1,e=0;return{p:function(t){for(var s=n,a=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)a+=s+=t[u];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}n=s,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Dj=function(n,e,t,s,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new po(o.length+n.length);u.set(o),u.set(n,o.length),n=u,a.w=o.length}return Oj(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,s,a)},Vw=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Rj=function(n,e){var t=e.level,s=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=s<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=Iw();a.p(e.dictionary),Vw(n,2,a.d())}};function yg(n,e){e||(e={});var t=Iw();t.p(n);var s=Dj(n,e,e.dictionary?6:2,4);return Rj(s,e),Vw(s,s.length-4,t.d()),s}var Ij=typeof TextDecoder<"u"&&new TextDecoder,Vj=0;try{Ij.decode(Rw,{stream:!0}),Vj=1}catch{}function Fj(n){if(Array.isArray(n))return n}function Bj(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var s,a,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(s=o.call(t)).done)&&(c.push(s.value),c.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw a}}return c}}function hy(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,s=Array(e);t<e;t++)s[t]=n[t];return s}function zj(n,e){if(n){if(typeof n=="string")return hy(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?hy(n,e):void 0}}function Pj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fy(n,e){return Fj(n)||Bj(n,e)||zj(n,e)||Pj()}function dy(n,e="utf8"){return new TextDecoder(e).decode(n)}const qj=new TextEncoder;function Uj(n){return qj.encode(n)}const Hj=1024*8,Wj=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),Am={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class D2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Hj,t={}){let s=!1;typeof e=="number"?e=new ArrayBuffer(e):(s=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let u=a;(ArrayBuffer.isView(e)||e instanceof D2)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+a),e=e.buffer),s?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const s=(this.offset+e)*2,a=new Uint8Array(s);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=s,this.byteLength=s,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const s=Am[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+s);if(this.littleEndian===Wj&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+s));c.reverse();const f=new Am[t](c.buffer);return this.offset+=s,f.reverse(),f}const u=new Am[t](o);return this.offset+=s,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let s=0;s<e;s++)t+=this.readChar();return t}readUtf8(e=1){return dy(this.readBytes(e))}decodeText(e=1,t="utf8"){return dy(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(Uj(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function tf(n){let e=n.length;for(;--e>=0;)n[e]=0}const Gj=3,Yj=258,Fw=29,$j=256,Xj=$j+1+Fw,Bw=30,Zj=512,Kj=new Array((Xj+2)*2);tf(Kj);const Qj=new Array(Bw*2);tf(Qj);const Jj=new Array(Zj);tf(Jj);const eE=new Array(Yj-Gj+1);tf(eE);const tE=new Array(Fw);tf(tE);const nE=new Array(Bw);tf(nE);const rE=(n,e,t,s)=>{let a=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do a=a+e[s++]|0,o=o+a|0;while(--u);a%=65521,o%=65521}return a|o<<16|0};var xg=rE;const sE=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var s=0;s<8;s++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},iE=new Uint32Array(sE()),aE=(n,e,t,s)=>{const a=iE,o=s+t;n^=-1;for(let u=s;u<o;u++)n=n>>>8^a[(n^e[u])&255];return n^-1};var zo=aE,wg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zw={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const oE=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var lE=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const s in t)oE(t,s)&&(n[s]=t[s])}}return n},cE=n=>{let e=0;for(let s=0,a=n.length;s<a;s++)e+=n[s].length;const t=new Uint8Array(e);for(let s=0,a=0,o=n.length;s<o;s++){let u=n[s];t.set(u,a),a+=u.length}return t},Pw={assign:lE,flattenChunks:cE};let qw=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{qw=!1}const dd=new Uint8Array(256);for(let n=0;n<256;n++)dd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;dd[254]=dd[254]=1;var uE=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,s,a,o,u=n.length,c=0;for(a=0;a<u;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<u&&(s=n.charCodeAt(a+1),(s&64512)===56320&&(t=65536+(t-55296<<10)+(s-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const hE=(n,e)=>{if(e<65534&&n.subarray&&qw)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let s=0;s<e;s++)t+=String.fromCharCode(n[s]);return t};var fE=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let s,a;const o=new Array(t*2);for(a=0,s=0;s<t;){let u=n[s++];if(u<128){o[a++]=u;continue}let c=dd[u];if(c>4){o[a++]=65533,s+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&s<t;)u=u<<6|n[s++]&63,c--;if(c>1){o[a++]=65533;continue}u<65536?o[a++]=u:(u-=65536,o[a++]=55296|u>>10&1023,o[a++]=56320|u&1023)}return hE(o,a)},dE=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+dd[n[t]]>e?t:e},_g={string2buf:uE,buf2string:fE,utf8border:dE};function pE(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var mE=pE;const M1=16209,gE=16191;var bE=function(e,t){let s,a,o,u,c,f,d,p,y,_,v,A,N,k,C,R,D,V,F,Y,H,E,B,te;const j=e.state;s=e.next_in,B=e.input,a=s+(e.avail_in-5),o=e.next_out,te=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=j.dmax,d=j.wsize,p=j.whave,y=j.wnext,_=j.window,v=j.hold,A=j.bits,N=j.lencode,k=j.distcode,C=(1<<j.lenbits)-1,R=(1<<j.distbits)-1;e:do{A<15&&(v+=B[s++]<<A,A+=8,v+=B[s++]<<A,A+=8),D=N[v&C];t:for(;;){if(V=D>>>24,v>>>=V,A-=V,V=D>>>16&255,V===0)te[o++]=D&65535;else if(V&16){F=D&65535,V&=15,V&&(A<V&&(v+=B[s++]<<A,A+=8),F+=v&(1<<V)-1,v>>>=V,A-=V),A<15&&(v+=B[s++]<<A,A+=8,v+=B[s++]<<A,A+=8),D=k[v&R];n:for(;;){if(V=D>>>24,v>>>=V,A-=V,V=D>>>16&255,V&16){if(Y=D&65535,V&=15,A<V&&(v+=B[s++]<<A,A+=8,A<V&&(v+=B[s++]<<A,A+=8)),Y+=v&(1<<V)-1,Y>f){e.msg="invalid distance too far back",j.mode=M1;break e}if(v>>>=V,A-=V,V=o-u,Y>V){if(V=Y-V,V>p&&j.sane){e.msg="invalid distance too far back",j.mode=M1;break e}if(H=0,E=_,y===0){if(H+=d-V,V<F){F-=V;do te[o++]=_[H++];while(--V);H=o-Y,E=te}}else if(y<V){if(H+=d+y-V,V-=y,V<F){F-=V;do te[o++]=_[H++];while(--V);if(H=0,y<F){V=y,F-=V;do te[o++]=_[H++];while(--V);H=o-Y,E=te}}}else if(H+=y-V,V<F){F-=V;do te[o++]=_[H++];while(--V);H=o-Y,E=te}for(;F>2;)te[o++]=E[H++],te[o++]=E[H++],te[o++]=E[H++],F-=3;F&&(te[o++]=E[H++],F>1&&(te[o++]=E[H++]))}else{H=o-Y;do te[o++]=te[H++],te[o++]=te[H++],te[o++]=te[H++],F-=3;while(F>2);F&&(te[o++]=te[H++],F>1&&(te[o++]=te[H++]))}}else if((V&64)===0){D=k[(D&65535)+(v&(1<<V)-1)];continue n}else{e.msg="invalid distance code",j.mode=M1;break e}break}}else if((V&64)===0){D=N[(D&65535)+(v&(1<<V)-1)];continue t}else if(V&32){j.mode=gE;break e}else{e.msg="invalid literal/length code",j.mode=M1;break e}break}}while(s<a&&o<c);F=A>>3,s-=F,A-=F<<3,v&=(1<<A)-1,e.next_in=s,e.next_out=o,e.avail_in=s<a?5+(a-s):5-(s-a),e.avail_out=o<c?257+(c-o):257-(o-c),j.hold=v,j.bits=A};const mh=15,py=852,my=592,gy=0,Tm=1,by=2,vE=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yE=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xE=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wE=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_E=(n,e,t,s,a,o,u,c)=>{const f=c.bits;let d=0,p=0,y=0,_=0,v=0,A=0,N=0,k=0,C=0,R=0,D,V,F,Y,H,E=null,B;const te=new Uint16Array(mh+1),j=new Uint16Array(mh+1);let I=null,ee,U,oe;for(d=0;d<=mh;d++)te[d]=0;for(p=0;p<s;p++)te[e[t+p]]++;for(v=f,_=mh;_>=1&&te[_]===0;_--);if(v>_&&(v=_),_===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<_&&te[y]===0;y++);for(v<y&&(v=y),k=1,d=1;d<=mh;d++)if(k<<=1,k-=te[d],k<0)return-1;if(k>0&&(n===gy||_!==1))return-1;for(j[1]=0,d=1;d<mh;d++)j[d+1]=j[d]+te[d];for(p=0;p<s;p++)e[t+p]!==0&&(u[j[e[t+p]]++]=p);if(n===gy?(E=I=u,B=20):n===Tm?(E=vE,I=yE,B=257):(E=xE,I=wE,B=0),R=0,p=0,d=y,H=o,A=v,N=0,F=-1,C=1<<v,Y=C-1,n===Tm&&C>py||n===by&&C>my)return 1;for(;;){ee=d-N,u[p]+1<B?(U=0,oe=u[p]):u[p]>=B?(U=I[u[p]-B],oe=E[u[p]-B]):(U=96,oe=0),D=1<<d-N,V=1<<A,y=V;do V-=D,a[H+(R>>N)+V]=ee<<24|U<<16|oe|0;while(V!==0);for(D=1<<d-1;R&D;)D>>=1;if(D!==0?(R&=D-1,R+=D):R=0,p++,--te[d]===0){if(d===_)break;d=e[t+u[p]]}if(d>v&&(R&Y)!==F){for(N===0&&(N=v),H+=y,A=d-N,k=1<<A;A+N<_&&(k-=te[A+N],!(k<=0));)A++,k<<=1;if(C+=1<<A,n===Tm&&C>py||n===by&&C>my)return 1;F=R&Y,a[F]=v<<24|A<<16|H-o|0}}return R!==0&&(a[H+R]=d-N<<24|64<<16|0),c.bits=v,0};var ed=_E;const SE=0,Uw=1,Hw=2,{Z_FINISH:vy,Z_BLOCK:NE,Z_TREES:L1,Z_OK:xu,Z_STREAM_END:AE,Z_NEED_DICT:TE,Z_STREAM_ERROR:Oa,Z_DATA_ERROR:Ww,Z_MEM_ERROR:Gw,Z_BUF_ERROR:CE,Z_DEFLATED:yy}=zw,Qp=16180,xy=16181,wy=16182,_y=16183,Sy=16184,Ny=16185,Ay=16186,Ty=16187,Cy=16188,ky=16189,Np=16190,Nl=16191,Cm=16192,jy=16193,km=16194,Ey=16195,My=16196,Ly=16197,Oy=16198,O1=16199,D1=16200,Dy=16201,Ry=16202,Iy=16203,Vy=16204,Fy=16205,jm=16206,By=16207,zy=16208,Vr=16209,Yw=16210,$w=16211,kE=852,jE=592,EE=15,ME=EE,Py=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function LE(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Au=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Qp||e.mode>$w?1:0},Xw=n=>{if(Au(n))return Oa;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Qp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(kE),e.distcode=e.distdyn=new Int32Array(jE),e.sane=1,e.back=-1,xu},Zw=n=>{if(Au(n))return Oa;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,Xw(n)},Kw=(n,e)=>{let t;if(Au(n))return Oa;const s=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Oa:(s.window!==null&&s.wbits!==e&&(s.window=null),s.wrap=t,s.wbits=e,Zw(n))},Qw=(n,e)=>{if(!n)return Oa;const t=new LE;n.state=t,t.strm=n,t.window=null,t.mode=Qp;const s=Kw(n,e);return s!==xu&&(n.state=null),s},OE=n=>Qw(n,ME);let qy=!0,Em,Mm;const DE=n=>{if(qy){Em=new Int32Array(512),Mm=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(ed(Uw,n.lens,0,288,Em,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;ed(Hw,n.lens,0,32,Mm,0,n.work,{bits:5}),qy=!1}n.lencode=Em,n.lenbits=9,n.distcode=Mm,n.distbits=5},Jw=(n,e,t,s)=>{let a;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),s>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>s&&(a=s),o.window.set(e.subarray(t-s,t-s+a),o.wnext),s-=a,s?(o.window.set(e.subarray(t-s,t),0),o.wnext=s,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},RE=(n,e)=>{let t,s,a,o,u,c,f,d,p,y,_,v,A,N,k=0,C,R,D,V,F,Y,H,E;const B=new Uint8Array(4);let te,j;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Au(n)||!n.output||!n.input&&n.avail_in!==0)return Oa;t=n.state,t.mode===Nl&&(t.mode=Cm),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,s=n.input,c=n.avail_in,d=t.hold,p=t.bits,y=c,_=f,E=xu;e:for(;;)switch(t.mode){case Qp:if(t.wrap===0){t.mode=Cm;break}for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,B[0]=d&255,B[1]=d>>>8&255,t.check=zo(t.check,B,2,0),d=0,p=0,t.mode=xy;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Vr;break}if((d&15)!==yy){n.msg="unknown compression method",t.mode=Vr;break}if(d>>>=4,p-=4,H=(d&15)+8,t.wbits===0&&(t.wbits=H),H>15||H>t.wbits){n.msg="invalid window size",t.mode=Vr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?ky:Nl,d=0,p=0;break;case xy:for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.flags=d,(t.flags&255)!==yy){n.msg="unknown compression method",t.mode=Vr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Vr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=zo(t.check,B,2,0)),d=0,p=0,t.mode=wy;case wy:for(;p<32;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,B[2]=d>>>16&255,B[3]=d>>>24&255,t.check=zo(t.check,B,4,0)),d=0,p=0,t.mode=_y;case _y:for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=zo(t.check,B,2,0)),d=0,p=0,t.mode=Sy;case Sy:if(t.flags&1024){for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(B[0]=d&255,B[1]=d>>>8&255,t.check=zo(t.check,B,2,0)),d=0,p=0}else t.head&&(t.head.extra=null);t.mode=Ny;case Ny:if(t.flags&1024&&(v=t.length,v>c&&(v=c),v&&(t.head&&(H=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(s.subarray(o,o+v),H)),t.flags&512&&t.wrap&4&&(t.check=zo(t.check,s,v,o)),c-=v,o+=v,t.length-=v),t.length))break e;t.length=0,t.mode=Ay;case Ay:if(t.flags&2048){if(c===0)break e;v=0;do H=s[o+v++],t.head&&H&&t.length<65536&&(t.head.name+=String.fromCharCode(H));while(H&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=zo(t.check,s,v,o)),c-=v,o+=v,H)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ty;case Ty:if(t.flags&4096){if(c===0)break e;v=0;do H=s[o+v++],t.head&&H&&t.length<65536&&(t.head.comment+=String.fromCharCode(H));while(H&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=zo(t.check,s,v,o)),c-=v,o+=v,H)break e}else t.head&&(t.head.comment=null);t.mode=Cy;case Cy:if(t.flags&512){for(;p<16;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Vr;break}d=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Nl;break;case ky:for(;p<32;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}n.adler=t.check=Py(d),d=0,p=0,t.mode=Np;case Np:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=p,TE;n.adler=t.check=1,t.mode=Nl;case Nl:if(e===NE||e===L1)break e;case Cm:if(t.last){d>>>=p&7,p-=p&7,t.mode=jm;break}for(;p<3;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}switch(t.last=d&1,d>>>=1,p-=1,d&3){case 0:t.mode=jy;break;case 1:if(DE(t),t.mode=O1,e===L1){d>>>=2,p-=2;break e}break;case 2:t.mode=My;break;case 3:n.msg="invalid block type",t.mode=Vr}d>>>=2,p-=2;break;case jy:for(d>>>=p&7,p-=p&7;p<32;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Vr;break}if(t.length=d&65535,d=0,p=0,t.mode=km,e===L1)break e;case km:t.mode=Ey;case Ey:if(v=t.length,v){if(v>c&&(v=c),v>f&&(v=f),v===0)break e;a.set(s.subarray(o,o+v),u),c-=v,o+=v,f-=v,u+=v,t.length-=v;break}t.mode=Nl;break;case My:for(;p<14;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.nlen=(d&31)+257,d>>>=5,p-=5,t.ndist=(d&31)+1,d>>>=5,p-=5,t.ncode=(d&15)+4,d>>>=4,p-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Vr;break}t.have=0,t.mode=Ly;case Ly:for(;t.have<t.ncode;){for(;p<3;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.lens[I[t.have++]]=d&7,d>>>=3,p-=3}for(;t.have<19;)t.lens[I[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,te={bits:t.lenbits},E=ed(SE,t.lens,0,19,t.lencode,0,t.work,te),t.lenbits=te.bits,E){n.msg="invalid code lengths set",t.mode=Vr;break}t.have=0,t.mode=Oy;case Oy:for(;t.have<t.nlen+t.ndist;){for(;k=t.lencode[d&(1<<t.lenbits)-1],C=k>>>24,R=k>>>16&255,D=k&65535,!(C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(D<16)d>>>=C,p-=C,t.lens[t.have++]=D;else{if(D===16){for(j=C+2;p<j;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(d>>>=C,p-=C,t.have===0){n.msg="invalid bit length repeat",t.mode=Vr;break}H=t.lens[t.have-1],v=3+(d&3),d>>>=2,p-=2}else if(D===17){for(j=C+3;p<j;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}d>>>=C,p-=C,H=0,v=3+(d&7),d>>>=3,p-=3}else{for(j=C+7;p<j;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}d>>>=C,p-=C,H=0,v=11+(d&127),d>>>=7,p-=7}if(t.have+v>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Vr;break}for(;v--;)t.lens[t.have++]=H}}if(t.mode===Vr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Vr;break}if(t.lenbits=9,te={bits:t.lenbits},E=ed(Uw,t.lens,0,t.nlen,t.lencode,0,t.work,te),t.lenbits=te.bits,E){n.msg="invalid literal/lengths set",t.mode=Vr;break}if(t.distbits=6,t.distcode=t.distdyn,te={bits:t.distbits},E=ed(Hw,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,te),t.distbits=te.bits,E){n.msg="invalid distances set",t.mode=Vr;break}if(t.mode=O1,e===L1)break e;case O1:t.mode=D1;case D1:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=p,bE(n,_),u=n.next_out,a=n.output,f=n.avail_out,o=n.next_in,s=n.input,c=n.avail_in,d=t.hold,p=t.bits,t.mode===Nl&&(t.back=-1);break}for(t.back=0;k=t.lencode[d&(1<<t.lenbits)-1],C=k>>>24,R=k>>>16&255,D=k&65535,!(C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(R&&(R&240)===0){for(V=C,F=R,Y=D;k=t.lencode[Y+((d&(1<<V+F)-1)>>V)],C=k>>>24,R=k>>>16&255,D=k&65535,!(V+C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}d>>>=V,p-=V,t.back+=V}if(d>>>=C,p-=C,t.back+=C,t.length=D,R===0){t.mode=Fy;break}if(R&32){t.back=-1,t.mode=Nl;break}if(R&64){n.msg="invalid literal/length code",t.mode=Vr;break}t.extra=R&15,t.mode=Dy;case Dy:if(t.extra){for(j=t.extra;p<j;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Ry;case Ry:for(;k=t.distcode[d&(1<<t.distbits)-1],C=k>>>24,R=k>>>16&255,D=k&65535,!(C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if((R&240)===0){for(V=C,F=R,Y=D;k=t.distcode[Y+((d&(1<<V+F)-1)>>V)],C=k>>>24,R=k>>>16&255,D=k&65535,!(V+C<=p);){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}d>>>=V,p-=V,t.back+=V}if(d>>>=C,p-=C,t.back+=C,R&64){n.msg="invalid distance code",t.mode=Vr;break}t.offset=D,t.extra=R&15,t.mode=Iy;case Iy:if(t.extra){for(j=t.extra;p<j;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Vr;break}t.mode=Vy;case Vy:if(f===0)break e;if(v=_-f,t.offset>v){if(v=t.offset-v,v>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Vr;break}v>t.wnext?(v-=t.wnext,A=t.wsize-v):A=t.wnext-v,v>t.length&&(v=t.length),N=t.window}else N=a,A=u-t.offset,v=t.length;v>f&&(v=f),f-=v,t.length-=v;do a[u++]=N[A++];while(--v);t.length===0&&(t.mode=D1);break;case Fy:if(f===0)break e;a[u++]=t.length,f--,t.mode=D1;break;case jm:if(t.wrap){for(;p<32;){if(c===0)break e;c--,d|=s[o++]<<p,p+=8}if(_-=f,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?zo(t.check,a,_,u-_):xg(t.check,a,_,u-_)),_=f,t.wrap&4&&(t.flags?d:Py(d))!==t.check){n.msg="incorrect data check",t.mode=Vr;break}d=0,p=0}t.mode=By;case By:if(t.wrap&&t.flags){for(;p<32;){if(c===0)break e;c--,d+=s[o++]<<p,p+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Vr;break}d=0,p=0}t.mode=zy;case zy:E=AE;break e;case Vr:E=Ww;break e;case Yw:return Gw;case $w:default:return Oa}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=p,(t.wsize||_!==n.avail_out&&t.mode<Vr&&(t.mode<jm||e!==vy))&&Jw(n,n.output,n.next_out,_-n.avail_out),y-=n.avail_in,_-=n.avail_out,n.total_in+=y,n.total_out+=_,t.total+=_,t.wrap&4&&_&&(n.adler=t.check=t.flags?zo(t.check,a,_,n.next_out-_):xg(t.check,a,_,n.next_out-_)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Nl?128:0)+(t.mode===O1||t.mode===km?256:0),(y===0&&_===0||e===vy)&&E===xu&&(E=CE),E},IE=n=>{if(Au(n))return Oa;let e=n.state;return e.window&&(e.window=null),n.state=null,xu},VE=(n,e)=>{if(Au(n))return Oa;const t=n.state;return(t.wrap&2)===0?Oa:(t.head=e,e.done=!1,xu)},FE=(n,e)=>{const t=e.length;let s,a,o;return Au(n)||(s=n.state,s.wrap!==0&&s.mode!==Np)?Oa:s.mode===Np&&(a=1,a=xg(a,e,t,0),a!==s.check)?Ww:(o=Jw(n,e,t,t),o?(s.mode=Yw,Gw):(s.havedict=1,xu))};var BE=Zw,zE=Kw,PE=Xw,qE=OE,UE=Qw,HE=RE,WE=IE,GE=VE,YE=FE,$E="pako inflate (from Nodeca project)",Tl={inflateReset:BE,inflateReset2:zE,inflateResetKeep:PE,inflateInit:qE,inflateInit2:UE,inflate:HE,inflateEnd:WE,inflateGetHeader:GE,inflateSetDictionary:YE,inflateInfo:$E};function XE(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ZE=XE;const e4=Object.prototype.toString,{Z_NO_FLUSH:KE,Z_FINISH:QE,Z_OK:pd,Z_STREAM_END:Lm,Z_NEED_DICT:Om,Z_STREAM_ERROR:JE,Z_DATA_ERROR:Uy,Z_MEM_ERROR:eM}=zw;function Ed(n){this.options=Pw.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mE,this.strm.avail_out=0;let t=Tl.inflateInit2(this.strm,e.windowBits);if(t!==pd)throw new Error(wg[t]);if(this.header=new ZE,Tl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=_g.string2buf(e.dictionary):e4.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Tl.inflateSetDictionary(this.strm,e.dictionary),t!==pd)))throw new Error(wg[t])}Ed.prototype.push=function(n,e){const t=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?QE:KE,e4.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(s),t.next_out=0,t.avail_out=s),o=Tl.inflate(t,u),o===Om&&a&&(o=Tl.inflateSetDictionary(t,a),o===pd?o=Tl.inflate(t,u):o===Uy&&(o=Om));t.avail_in>0&&o===Lm&&t.state.wrap>0&&n[t.next_in]!==0;)Tl.inflateReset(t),o=Tl.inflate(t,u);switch(o){case JE:case Uy:case Om:case eM:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===Lm))if(this.options.to==="string"){let f=_g.utf8border(t.output,t.next_out),d=t.next_out-f,p=_g.buf2string(t.output,f);t.next_out=d,t.avail_out=s-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===pd&&c===0)){if(o===Lm)return o=Tl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Ed.prototype.onData=function(n){this.chunks.push(n)};Ed.prototype.onEnd=function(n){n===pd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Pw.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function tM(n,e){const t=new Ed(e);if(t.push(n),t.err)throw t.msg||wg[t.err];return t.result}var nM=Ed,rM=tM,sM={Inflate:nM,inflate:rM};const{Inflate:iM,inflate:aM}=sM;var Hy=iM,oM=aM;const t4=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;t4[n]=e}const Wy=4294967295;function lM(n,e,t){let s=n;for(let a=0;a<t;a++)s=t4[(s^e[a])&255]^s>>>8;return s}function cM(n,e){return(lM(Wy,n,e)^Wy)>>>0}function Gy(n,e,t){const s=n.readUint32(),a=cM(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==s)throw new Error(`CRC mismatch for chunk ${t}. Expected ${s}, found ${a}`)}function n4(n,e,t){for(let s=0;s<t;s++)e[s]=n[s]}function r4(n,e,t,s){let a=0;for(;a<s;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-s]&255}function s4(n,e,t,s){let a=0;if(t.length===0)for(;a<s;a++)e[a]=n[a];else for(;a<s;a++)e[a]=n[a]+t[a]&255}function i4(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<s;o++)e[o]=n[o]+(e[o-a]+t[o]>>1)&255}}function a4(n,e,t,s,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=n[o];for(;o<s;o++)e[o]=n[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=n[o]+t[o]&255;for(;o<s;o++)e[o]=n[o]+uM(e[o-a],t[o],t[o-a])&255}}function uM(n,e,t){const s=n+e-t,a=Math.abs(s-n),o=Math.abs(s-e),u=Math.abs(s-t);return a<=o&&a<=u?n:o<=u?e:t}function hM(n,e,t,s,a,o){switch(n){case 0:n4(e,t,a);break;case 1:r4(e,t,a,o);break;case 2:s4(e,t,s,a);break;case 3:i4(e,t,s,a,o);break;case 4:a4(e,t,s,a,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const fM=new Uint16Array([255]),dM=new Uint8Array(fM.buffer),pM=dM[0]===255;function mM(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(s*t*c);let d=0;for(let p=0;p<7;p++){const y=u[p],_=Math.ceil((t-y.x)/y.xStep),v=Math.ceil((s-y.y)/y.yStep);if(_<=0||v<=0)continue;const A=_*c,N=new Uint8Array(A);for(let k=0;k<v;k++){const C=e[d++],R=e.subarray(d,d+A);d+=A;const D=new Uint8Array(A);hM(C,R,D,N,A,c),N.set(D);for(let V=0;V<_;V++){const F=y.x+V*y.xStep,Y=y.y+k*y.yStep;if(!(F>=t||Y>=s))for(let H=0;H<c;H++)f[(Y*t+F)*c+H]=D[V*c+H]}}}if(o===16){const p=new Uint16Array(f.buffer);if(pM)for(let y=0;y<p.length;y++)p[y]=gM(p[y]);return p}else return f}function gM(n){return(n&255)<<8|n>>8&255}const bM=new Uint16Array([255]),vM=new Uint8Array(bM.buffer),yM=vM[0]===255,xM=new Uint8Array(0);function Yy(n){const{data:e,width:t,height:s,channels:a,depth:o}=n,u=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(s*c);let d=xM,p=0,y,_;for(let v=0;v<s;v++){switch(y=e.subarray(p+1,p+1+c),_=f.subarray(v*c,(v+1)*c),e[p]){case 0:n4(y,_,c);break;case 1:r4(y,_,c,u);break;case 2:s4(y,_,d,c);break;case 3:i4(y,_,d,c,u);break;case 4:a4(y,_,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}d=_,p+=c+1}if(o===16){const v=new Uint16Array(f.buffer);if(yM)for(let A=0;A<v.length;A++)v[A]=wM(v[A]);return v}else return f}function wM(n){return(n&255)<<8|n>>8&255}const W1=Uint8Array.of(137,80,78,71,13,10,26,10);function $y(n){if(!_M(n.readBytes(W1.length)))throw new Error("wrong PNG signature")}function _M(n){if(n.length<W1.length)return!1;for(let e=0;e<W1.length;e++)if(n[e]!==W1[e])return!1;return!0}const SM="tEXt",NM=0,o4=new TextDecoder("latin1");function AM(n){if(CM(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const TM=/^[\u0000-\u00FF]*$/;function CM(n){if(!TM.test(n))throw new Error("invalid latin1 text")}function kM(n,e,t){const s=l4(e);n[s]=jM(e,t-s.length-1)}function l4(n){for(n.mark();n.readByte()!==NM;);const e=n.offset;n.reset();const t=o4.decode(n.readBytes(e-n.offset-1));return n.skip(1),AM(t),t}function jM(n,e){return o4.decode(n.readBytes(e))}const oa={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Dm={UNKNOWN:-1,DEFLATE:0},Xy={UNKNOWN:-1,ADAPTIVE:0},Rm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},R1={NONE:0,BACKGROUND:1,PREVIOUS:2},Im={SOURCE:0,OVER:1};class EM extends D2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:s=!1}=t;this._checkCrc=s,this._inflator=new Hy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Dm.UNKNOWN,this._filterMethod=Xy.UNKNOWN,this._interlaceMethod=Rm.UNKNOWN,this._colorType=oa.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for($y(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for($y(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const s=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case SM:kM(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Gy(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const s=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=s+e;break}if(this.offset-s!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?Gy(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=MM(this.readUint8());const t=this.readUint8();this._colorType=t;let s;switch(t){case oa.GREYSCALE:s=1;break;case oa.TRUECOLOUR:s=3;break;case oa.INDEXED_COLOUR:s=1;break;case oa.GREYSCALE_ALPHA:s=2;break;case oa.TRUECOLOUR_ALPHA:s=4;break;case oa.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Dm.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const s=[];this._palette=s;for(let a=0;a<t;a++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,s=this.offset+this.byteOffset;if(s+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,s,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case oa.GREYSCALE:case oa.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case oa.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const s=this.readByte();this._palette[t].push(s)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case oa.UNKNOWN:case oa.GREYSCALE_ALPHA:case oa.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=l4(this),s=this.readUint8();if(s!==Dm.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:oM(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),s=this.readByte();this._png.resolution={x:e,y:t,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(e);if(s){if(s.data=Yy({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)t.data=s.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(s,a,t),this.addFrameDataToCanvas(t,s)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,s){switch(e.disposeOp){case R1.NONE:break;case R1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const u=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[u+c]=0}break;case R1.PREVIOUS:s.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const s=1<<this._png.depth,a=(o,u)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+u)*this._png.channels,f=(o*t.width+u)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case Im.SOURCE:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case Im.OVER:for(let o=0;o<t.height;o++)for(let u=0;u<t.width;u++){const{index:c,frameIndex:f}=a(o,u);for(let d=0;d<this._png.channels;d++){const p=t.data[f+this._png.channels-1]/s,y=d%(this._png.channels-1)===0?1:t.data[f+d],_=Math.floor(p*y+(1-p)*e.data[c+d]);e.data[c+d]+=_}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==Xy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Rm.NO_INTERLACE)this._png.data=Yy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Rm.ADAM7)this._png.data=mM({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:R1.NONE,blendOp:Im.SOURCE,data:e}),this._inflator=new Hy,this._writingDataChunks=!1}}function MM(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Zy;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Zy||(Zy={}));function LM(n,e){return new EM(n,e).decode()}var nn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Vm(){nn.console&&typeof nn.console.log=="function"&&nn.console.log.apply(nn.console,arguments)}var gr={log:Vm,warn:function(n){nn.console&&(typeof nn.console.warn=="function"?nn.console.warn.apply(nn.console,arguments):Vm.call(null,arguments))},error:function(n){nn.console&&(typeof nn.console.error=="function"?nn.console.error.apply(nn.console,arguments):Vm(n))}};function Fm(n,e,t){var s=new XMLHttpRequest;s.open("GET",n),s.responseType="blob",s.onload=function(){lu(s.response,e,t)},s.onerror=function(){gr.error("could not download file")},s.send()}function Ky(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function I1(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var lu=nn.saveAs||((typeof window>"u"?"undefined":rr(window))!=="object"||window!==nn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var s=nn.URL||nn.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?Ky(a.href)?Fm(n,e,t):I1(a,a.target="_blank"):I1(a)):(a.href=s.createObjectURL(n),setTimeout(function(){s.revokeObjectURL(a.href)},4e4),setTimeout(function(){I1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Ky(n))Fm(n,e,t);else{var s=document.createElement("a");s.href=n,s.target="_blank",setTimeout(function(){I1(s)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:rr(o)!=="object"&&(gr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof n=="string")return Fm(n,e,t);var a=n.type==="application/octet-stream",o=/constructor/i.test(nn.HTMLElement)||nn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&o)&&(typeof FileReader>"u"?"undefined":rr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=u?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=p:location=p,s=null},c.readAsDataURL(n)}else{var f=nn.URL||nn.webkitURL,d=f.createObjectURL(n);s?s.location=d:location.href=d,s=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function c4(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],s=0;s<t.length;s++){var a=t[s].re,o=t[s].process,u=a.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var G1=nn.atob.bind(nn),Qy=nn.btoa.bind(nn);function Bm(n,e){var t=n[0],s=n[1],a=n[2],o=n[3];t=oi(t,s,a,o,e[0],7,-680876936),o=oi(o,t,s,a,e[1],12,-389564586),a=oi(a,o,t,s,e[2],17,606105819),s=oi(s,a,o,t,e[3],22,-1044525330),t=oi(t,s,a,o,e[4],7,-176418897),o=oi(o,t,s,a,e[5],12,1200080426),a=oi(a,o,t,s,e[6],17,-1473231341),s=oi(s,a,o,t,e[7],22,-45705983),t=oi(t,s,a,o,e[8],7,1770035416),o=oi(o,t,s,a,e[9],12,-1958414417),a=oi(a,o,t,s,e[10],17,-42063),s=oi(s,a,o,t,e[11],22,-1990404162),t=oi(t,s,a,o,e[12],7,1804603682),o=oi(o,t,s,a,e[13],12,-40341101),a=oi(a,o,t,s,e[14],17,-1502002290),t=li(t,s=oi(s,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=li(o,t,s,a,e[6],9,-1069501632),a=li(a,o,t,s,e[11],14,643717713),s=li(s,a,o,t,e[0],20,-373897302),t=li(t,s,a,o,e[5],5,-701558691),o=li(o,t,s,a,e[10],9,38016083),a=li(a,o,t,s,e[15],14,-660478335),s=li(s,a,o,t,e[4],20,-405537848),t=li(t,s,a,o,e[9],5,568446438),o=li(o,t,s,a,e[14],9,-1019803690),a=li(a,o,t,s,e[3],14,-187363961),s=li(s,a,o,t,e[8],20,1163531501),t=li(t,s,a,o,e[13],5,-1444681467),o=li(o,t,s,a,e[2],9,-51403784),a=li(a,o,t,s,e[7],14,1735328473),t=ci(t,s=li(s,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=ci(o,t,s,a,e[8],11,-2022574463),a=ci(a,o,t,s,e[11],16,1839030562),s=ci(s,a,o,t,e[14],23,-35309556),t=ci(t,s,a,o,e[1],4,-1530992060),o=ci(o,t,s,a,e[4],11,1272893353),a=ci(a,o,t,s,e[7],16,-155497632),s=ci(s,a,o,t,e[10],23,-1094730640),t=ci(t,s,a,o,e[13],4,681279174),o=ci(o,t,s,a,e[0],11,-358537222),a=ci(a,o,t,s,e[3],16,-722521979),s=ci(s,a,o,t,e[6],23,76029189),t=ci(t,s,a,o,e[9],4,-640364487),o=ci(o,t,s,a,e[12],11,-421815835),a=ci(a,o,t,s,e[15],16,530742520),t=ui(t,s=ci(s,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=ui(o,t,s,a,e[7],10,1126891415),a=ui(a,o,t,s,e[14],15,-1416354905),s=ui(s,a,o,t,e[5],21,-57434055),t=ui(t,s,a,o,e[12],6,1700485571),o=ui(o,t,s,a,e[3],10,-1894986606),a=ui(a,o,t,s,e[10],15,-1051523),s=ui(s,a,o,t,e[1],21,-2054922799),t=ui(t,s,a,o,e[8],6,1873313359),o=ui(o,t,s,a,e[15],10,-30611744),a=ui(a,o,t,s,e[6],15,-1560198380),s=ui(s,a,o,t,e[13],21,1309151649),t=ui(t,s,a,o,e[4],6,-145523070),o=ui(o,t,s,a,e[11],10,-1120210379),a=ui(a,o,t,s,e[2],15,718787259),s=ui(s,a,o,t,e[9],21,-343485551),n[0]=Sc(t,n[0]),n[1]=Sc(s,n[1]),n[2]=Sc(a,n[2]),n[3]=Sc(o,n[3])}function Jp(n,e,t,s,a,o){return e=Sc(Sc(e,n),Sc(s,o)),Sc(e<<a|e>>>32-a,t)}function oi(n,e,t,s,a,o,u){return Jp(e&t|~e&s,n,e,a,o,u)}function li(n,e,t,s,a,o,u){return Jp(e&s|t&~s,n,e,a,o,u)}function ci(n,e,t,s,a,o,u){return Jp(e^t^s,n,e,a,o,u)}function ui(n,e,t,s,a,o,u){return Jp(t^(e|~s),n,e,a,o,u)}function u4(n){var e,t=n.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Bm(s,OM(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Bm(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Bm(s,a),s}function OM(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Jy="0123456789abcdef".split("");function DM(n){for(var e="",t=0;t<4;t++)e+=Jy[n>>8*t+4&15]+Jy[n>>8*t&15];return e}function RM(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Sg(n){return u4(n).map(RM).join("")}var IM=(function(n){for(var e=0;e<n.length;e++)n[e]=DM(n[e]);return n.join("")})(u4("hello"))!="5d41402abc4b2a76b9719d911017c592";function Sc(n,e){if(IM){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Ng(n,e){var t,s,a,o;if(n!==t){for(var u=(a=n,o=1+(256/n.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var p=c[f];d=(d+p+u.charCodeAt(f))%256,c[f]=c[d],c[d]=p}t=n,s=c}else c=s;var y=e.length,_=0,v=0,A="";for(f=0;f<y;f++)v=(v+(p=c[_=(_+1)%256]))%256,c[_]=c[v],c[v]=p,u=c[(c[_]+c[v])%256],A+=String.fromCharCode(e.charCodeAt(f)^u);return A}var ex={print:4,modify:8,copy:16,"annot-forms":32};function yh(n,e,t,s){this.v=1,this.r=2;var a=192;n.forEach(function(c){if(ex.perm!==void 0)throw new Error("Invalid permission: "+c);a+=ex[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^a)),this.encryptionKey=Sg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=Ng(this.encryptionKey,this.padding)}function xh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,s=0;s<t;s++){var a=n.charCodeAt(s);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[s]}return e}function tx(n){if(rr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,s,a){if(a=a||!1,typeof t!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[s,!!a],o},this.unsubscribe=function(t){for(var s in e)if(e[s][t])return delete e[s][t],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,s)}catch(c){nn.console&&gr.error("jsPDF PubSub Error",c.message,c)}u[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Ap(n){if(!(this instanceof Ap))return new Ap(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function h4(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function uu(n,e,t,s,a){if(!(this instanceof uu))return new uu(n,e,t,s,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,h4.call(this,s,a)}function Nh(n,e,t,s,a){if(!(this instanceof Nh))return new Nh(n,e,t,s,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,h4.call(this,s,a)}function Bt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",p=null;rr(n=n||{})==="object"&&(t=n.orientation,s=n.unit||s,a=n.format||a,o=n.compress||n.compressPdf||o,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),s=s||"mm",t=(""+(t||"P")).toLowerCase();var y=n.putOnlyUsedFonts||!1,_={},v={internal:{},__private__:{}};v.__private__.PubSub=tx;var A="1.3",N=v.__private__.getPdfVersion=function(){return A};v.__private__.setPdfVersion=function(S){A=S};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return k};var C=v.__private__.getPageFormat=function(S){return k[S]};a=a||"a4";var R="compat",D="advanced",V=R;function F(){this.saveGraphicsState(),z(new $e(yt,0,0,-yt,0,za()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),d="n",V=D}function Y(){this.restoreGraphicsState(),d="S",V=R}var H=v.__private__.combineFontStyleAndFontWeight=function(S,P){if(S=="bold"&&P=="normal"||S=="bold"&&P==400||S=="normal"&&P=="italic"||S=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(S=P==400||P==="normal"?S==="italic"?"italic":"normal":P!=700&&P!=="bold"||S!=="normal"?(P==700?"bold":P)+""+S:"bold"),S};v.advancedAPI=function(S){var P=V===R;return P&&F.call(this),typeof S!="function"||(S(this),P&&Y.call(this)),this},v.compatAPI=function(S){var P=V===D;return P&&Y.call(this),typeof S!="function"||(S(this),P&&F.call(this)),this},v.isAdvancedAPI=function(){return V===D};var E,B=function(S){if(V!==D)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},te=v.roundToPrecision=v.__private__.roundToPrecision=function(S,P){var he=e||P;if(isNaN(S)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(he).replace(/0+$/,"")};E=v.hpf=v.__private__.hpf=typeof f=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return te(S,f)}:f==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return te(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return te(S,16)};var j=v.f2=v.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return te(S,2)},I=v.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return te(S,3)},ee=v.scale=v.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return V===R?S*yt:V===D?S:void 0},U=function(S){return ee((function(P){return V===R?za()-P:V===D?P:void 0})(S))};v.__private__.setPrecision=v.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var oe,$="00000000000000000000000000000000",ne=v.__private__.getFileId=function(){return $},le=v.__private__.setFileId=function(S){return $=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Pr=new yh(p.userPermissions,p.userPassword,p.ownerPassword,$)),$};v.setFileId=function(S){return le(S),this},v.getFileId=function(){return ne()};var fe=v.__private__.convertDateToPDFDate=function(S){var P=S.getTimezoneOffset(),he=P<0?"+":"-",ge=Math.floor(Math.abs(P/60)),Ae=Math.abs(P%60),We=[he,W(ge),"'",W(Ae),"'"].join("");return["D:",S.getFullYear(),W(S.getMonth()+1),W(S.getDate()),W(S.getHours()),W(S.getMinutes()),W(S.getSeconds()),We].join("")},be=v.__private__.convertPDFDateToDate=function(S){var P=parseInt(S.substr(2,4),10),he=parseInt(S.substr(6,2),10)-1,ge=parseInt(S.substr(8,2),10),Ae=parseInt(S.substr(10,2),10),We=parseInt(S.substr(12,2),10),tt=parseInt(S.substr(14,2),10);return new Date(P,he,ge,Ae,We,tt,0)},G=v.__private__.setCreationDate=function(S){var P;if(S===void 0&&(S=new Date),S instanceof Date)P=fe(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=S}return oe=P},L=v.__private__.getCreationDate=function(S){var P=oe;return S==="jsDate"&&(P=be(oe)),P};v.setCreationDate=function(S){return G(S),this},v.getCreationDate=function(S){return L(S)};var X,W=v.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},Q=v.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},se=0,pe=[],de=[],xe=0,we=[],Fe=[],Ye=!1,Ze=de;v.__private__.setCustomOutputDestination=function(S){Ye=!0,Ze=S};var lt=function(S){Ye||(Ze=S)};v.__private__.resetCustomOutputDestination=function(){Ye=!1,Ze=de};var z=v.__private__.out=function(S){return S=S.toString(),xe+=S.length+1,Ze.push(S),Ze},Ne=v.__private__.write=function(S){return z(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},nt=v.__private__.getArrayBuffer=function(S){for(var P=S.length,he=new ArrayBuffer(P),ge=new Uint8Array(he);P--;)ge[P]=S.charCodeAt(P);return he},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Be};var je=n.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(S){return je=V===D?S/yt:S,this};var et,Ue=v.__private__.getFontSize=v.getFontSize=function(){return V===R?je:je*yt},ct=n.R2L||!1;v.__private__.setR2L=v.setR2L=function(S){return ct=S,this},v.__private__.getR2L=v.getR2L=function(){return ct};var at,ze=v.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))et=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');et=S}else et=parseInt(S,10)};v.__private__.getZoomMode=function(){return et};var it,rt=v.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');at=S};v.__private__.getPageMode=function(){return at};var ut=v.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');it=S};v.__private__.getLayoutMode=function(){return it},v.__private__.setDisplayMode=v.setDisplayMode=function(S,P,he){return ze(S),ut(P),rt(he),this};var vt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(S){if(Object.keys(vt).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return vt[S]},v.__private__.getDocumentProperties=function(){return vt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(S){for(var P in vt)vt.hasOwnProperty(P)&&S[P]&&(vt[P]=S[P]);return this},v.__private__.setDocumentProperty=function(S,P){if(Object.keys(vt).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return vt[S]=P};var dt,yt,ht,wn,Zt,Nt={},wt={},Tt=[],gt={},rn={},It={},Vt={},ln=null,bt=0,_e=[],st=new tx(v),Ft=n.hotfixes||[],zt={},An={},Oe=[],$e=function S(P,he,ge,Ae,We,tt){if(!(this instanceof S))return new S(P,he,ge,Ae,We,tt);isNaN(P)&&(P=1),isNaN(he)&&(he=0),isNaN(ge)&&(ge=0),isNaN(Ae)&&(Ae=1),isNaN(We)&&(We=0),isNaN(tt)&&(tt=0),this._matrix=[P,he,ge,Ae,We,tt]};Object.defineProperty($e.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty($e.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty($e.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty($e.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty($e.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty($e.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty($e.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty($e.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty($e.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty($e.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty($e.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty($e.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty($e.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($e.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($e.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($e.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$e.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(S)},$e.prototype.multiply=function(S){var P=S.sx*this.sx+S.shy*this.shx,he=S.sx*this.shy+S.shy*this.sy,ge=S.shx*this.sx+S.sy*this.shx,Ae=S.shx*this.shy+S.sy*this.sy,We=S.tx*this.sx+S.ty*this.shx+this.tx,tt=S.tx*this.shy+S.ty*this.sy+this.ty;return new $e(P,he,ge,Ae,We,tt)},$e.prototype.decompose=function(){var S=this.sx,P=this.shy,he=this.shx,ge=this.sy,Ae=this.tx,We=this.ty,tt=Math.sqrt(S*S+P*P),kt=(S/=tt)*he+(P/=tt)*ge;he-=S*kt,ge-=P*kt;var Ot=Math.sqrt(he*he+ge*ge);return kt/=Ot,S*(ge/=Ot)<P*(he/=Ot)&&(S=-S,P=-P,kt=-kt,tt=-tt),{scale:new $e(tt,0,0,Ot,0,0),translate:new $e(1,0,0,1,Ae,We),rotate:new $e(S,P,-P,S,0,0),skew:new $e(1,0,kt,1,0,0)}},$e.prototype.toString=function(S){return this.join(" ")},$e.prototype.inversed=function(){var S=this.sx,P=this.shy,he=this.shx,ge=this.sy,Ae=this.tx,We=this.ty,tt=1/(S*ge-P*he),kt=ge*tt,Ot=-P*tt,Kt=-he*tt,pn=S*tt;return new $e(kt,Ot,Kt,pn,-kt*Ae-Kt*We,-Ot*Ae-pn*We)},$e.prototype.applyToPoint=function(S){var P=S.x*this.sx+S.y*this.shx+this.tx,he=S.x*this.shy+S.y*this.sy+this.ty;return new Ni(P,he)},$e.prototype.applyToRectangle=function(S){var P=this.applyToPoint(S),he=this.applyToPoint(new Ni(S.x+S.w,S.y+S.h));return new Ra(P.x,P.y,he.x-P.x,he.y-P.y)},$e.prototype.clone=function(){var S=this.sx,P=this.shy,he=this.shx,ge=this.sy,Ae=this.tx,We=this.ty;return new $e(S,P,he,ge,Ae,We)},v.Matrix=$e;var ft=v.matrixMult=function(S,P){return P.multiply(S)},Et=new $e(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Et;var Rt=function(S,P){if(!rn[S]){var he=(P instanceof uu?"Sh":"P")+(Object.keys(gt).length+1).toString(10);P.id=he,rn[S]=he,gt[he]=P,st.publish("addPattern",P)}};v.ShadingPattern=uu,v.TilingPattern=Nh,v.addShadingPattern=function(S,P){return B("addShadingPattern()"),Rt(S,P),this},v.beginTilingPattern=function(S){B("beginTilingPattern()"),tl(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},v.endTilingPattern=function(S,P){B("endTilingPattern()"),P.stream=Fe[X].join(`
`),Rt(S,P),st.publish("endTilingPattern",P),Oe.pop().restore()};var cn,Wt=v.__private__.newObject=function(){var S=un();return hn(S,!0),S},un=v.__private__.newObjectDeferred=function(){return se++,pe[se]=function(){return xe},se},hn=function(S,P){return P=typeof P=="boolean"&&P,pe[S]=xe,P&&z(S+" 0 obj"),S},Qn=v.__private__.newAdditionalObject=function(){var S={objId:un(),content:""};return we.push(S),S},Hn=un(),_n=un(),Jt=v.__private__.decodeColorString=function(S){var P=S.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var he=parseFloat(P[0]);P=[he,he,he,"r"]}for(var ge="#",Ae=0;Ae<3;Ae++)ge+=("0"+Math.floor(255*parseFloat(P[Ae])).toString(16)).slice(-2);return ge},Wn=v.__private__.encodeColorString=function(S){var P;typeof S=="string"&&(S={ch1:S});var he=S.ch1,ge=S.ch2,Ae=S.ch3,We=S.ch4,tt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var kt=new c4(he);if(kt.ok)he=kt.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var Ot=parseInt(he.substr(1),16);he=Ot>>16&255,ge=Ot>>8&255,Ae=255&Ot}if(ge===void 0||We===void 0&&he===ge&&ge===Ae)P=typeof he=="string"?he+" "+tt[0]:S.precision===2?j(he/255)+" "+tt[0]:I(he/255)+" "+tt[0];else if(We===void 0||rr(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return["1.","1.","1.",tt[1]].join(" ");P=typeof he=="string"?[he,ge,Ae,tt[1]].join(" "):S.precision===2?[j(he/255),j(ge/255),j(Ae/255),tt[1]].join(" "):[I(he/255),I(ge/255),I(Ae/255),tt[1]].join(" ")}else P=typeof he=="string"?[he,ge,Ae,We,tt[2]].join(" "):S.precision===2?[j(he),j(ge),j(Ae),j(We),tt[2]].join(" "):[I(he),I(ge),I(Ae),I(We),tt[2]].join(" ");return P},Er=v.__private__.getFilters=function(){return u},us=v.__private__.putStream=function(S){var P=(S=S||{}).data||"",he=S.filters||Er(),ge=S.alreadyAppliedFilters||[],Ae=S.addLength1||!1,We=P.length,tt=S.objectId,kt=function(rs){return rs};if(p!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(kt=Pr.encryptor(tt,0));var Ot={};he===!0&&(he=["FlateEncode"]);var Kt=S.additionalKeyValues||[],pn=(Ot=Bt.API.processDataByFilters!==void 0?Bt.API.processDataByFilters(P,he):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Ot.data.length!==0&&(Kt.push({key:"Length",value:Ot.data.length}),Ae===!0&&Kt.push({key:"Length1",value:We})),pn.length!=0)if(pn.split("/").length-1==1)Kt.push({key:"Filter",value:pn});else{Kt.push({key:"Filter",value:"["+pn+"]"});for(var Dn=0;Dn<Kt.length;Dn+=1)if(Kt[Dn].key==="DecodeParms"){for(var xr=[],qr=0;qr<Ot.reverseChain.split("/").length-1;qr+=1)xr.push("null");xr.push(Kt[Dn].value),Kt[Dn].value="["+xr.join(" ")+"]"}}z("<<");for(var ir=0;ir<Kt.length;ir++)z("/"+Kt[ir].key+" "+Kt[ir].value);z(">>"),Ot.data.length!==0&&(z("stream"),z(kt(Ot.data)),z("endstream"))},Ee=v.__private__.putPage=function(S){var P=S.number,he=S.data,ge=S.objId,Ae=S.contentsObjId;hn(ge,!0),z("<</Type /Page"),z("/Parent "+S.rootDictionaryObjId+" 0 R"),z("/Resources "+S.resourceDictionaryObjId+" 0 R"),z("/MediaBox ["+parseFloat(E(S.mediaBox.bottomLeftX))+" "+parseFloat(E(S.mediaBox.bottomLeftY))+" "+E(S.mediaBox.topRightX)+" "+E(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&z("/CropBox ["+E(S.cropBox.bottomLeftX)+" "+E(S.cropBox.bottomLeftY)+" "+E(S.cropBox.topRightX)+" "+E(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&z("/BleedBox ["+E(S.bleedBox.bottomLeftX)+" "+E(S.bleedBox.bottomLeftY)+" "+E(S.bleedBox.topRightX)+" "+E(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&z("/TrimBox ["+E(S.trimBox.bottomLeftX)+" "+E(S.trimBox.bottomLeftY)+" "+E(S.trimBox.topRightX)+" "+E(S.trimBox.topRightY)+"]"),S.artBox!==null&&z("/ArtBox ["+E(S.artBox.bottomLeftX)+" "+E(S.artBox.bottomLeftY)+" "+E(S.artBox.topRightX)+" "+E(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&z("/UserUnit "+S.userUnit),st.publish("putPage",{objId:ge,pageContext:_e[P],pageNumber:P,page:he}),z("/Contents "+Ae+" 0 R"),z(">>"),z("endobj");var We=he.join(`
`);return V===D&&(We+=`
Q`),hn(Ae,!0),us({data:We,filters:Er(),objectId:Ae}),z("endobj"),ge},Ie=v.__private__.putPages=function(){var S,P,he=[];for(S=1;S<=bt;S++)_e[S].objId=un(),_e[S].contentsObjId=un();for(S=1;S<=bt;S++)he.push(Ee({number:S,data:Fe[S],objId:_e[S].objId,contentsObjId:_e[S].contentsObjId,mediaBox:_e[S].mediaBox,cropBox:_e[S].cropBox,bleedBox:_e[S].bleedBox,trimBox:_e[S].trimBox,artBox:_e[S].artBox,userUnit:_e[S].userUnit,rootDictionaryObjId:Hn,resourceDictionaryObjId:_n}));hn(Hn,!0),z("<</Type /Pages");var ge="/Kids [";for(P=0;P<bt;P++)ge+=he[P]+" 0 R ";z(ge+"]"),z("/Count "+bt),z(">>"),z("endobj"),st.publish("postPutPages")},Xe=function(S){st.publish("putFont",{font:S,out:z,newObject:Wt,putStream:us}),S.isAlreadyPutted!==!0&&(S.objectNumber=Wt(),z("<<"),z("/Type /Font"),z("/BaseFont /"+xh(S.postScriptName)),z("/Subtype /Type1"),typeof S.encoding=="string"&&z("/Encoding /"+S.encoding),z("/FirstChar 32"),z("/LastChar 255"),z(">>"),z("endobj"))},xt=function(S){S.objectNumber=Wt();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[E(S.x),E(S.y),E(S.x+S.width),E(S.y+S.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var he=S.pages[1].join(`
`);us({data:he,additionalKeyValues:P,objectId:S.objectNumber}),z("endobj")},mt=function(S,P){P||(P=21);var he=Wt(),ge=(function(tt,kt){var Ot,Kt=[],pn=1/(kt-1);for(Ot=0;Ot<1;Ot+=pn)Kt.push(Ot);if(Kt.push(1),tt[0].offset!=0){var Dn={offset:0,color:tt[0].color};tt.unshift(Dn)}if(tt[tt.length-1].offset!=1){var xr={offset:1,color:tt[tt.length-1].color};tt.push(xr)}for(var qr="",ir=0,rs=0;rs<Kt.length;rs++){for(Ot=Kt[rs];Ot>tt[ir+1].offset;)ir++;var $r=tt[ir].offset,Ns=(Ot-$r)/(tt[ir+1].offset-$r),Pa=tt[ir].color,Qi=tt[ir+1].color;qr+=Q(Math.round((1-Ns)*Pa[0]+Ns*Qi[0]).toString(16))+Q(Math.round((1-Ns)*Pa[1]+Ns*Qi[1]).toString(16))+Q(Math.round((1-Ns)*Pa[2]+Ns*Qi[2]).toString(16))}return qr.trim()})(S.colors,P),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+P+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),us({data:ge,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),z("endobj"),S.objectNumber=Wt(),z("<< /ShadingType "+S.type),z("/ColorSpace /DeviceRGB");var We="/Coords ["+E(parseFloat(S.coords[0]))+" "+E(parseFloat(S.coords[1]))+" ";S.type===2?We+=E(parseFloat(S.coords[2]))+" "+E(parseFloat(S.coords[3])):We+=E(parseFloat(S.coords[2]))+" "+E(parseFloat(S.coords[3]))+" "+E(parseFloat(S.coords[4]))+" "+E(parseFloat(S.coords[5])),z(We+="]"),S.matrix&&z("/Matrix ["+S.matrix.toString()+"]"),z("/Function "+he+" 0 R"),z("/Extend [true true]"),z(">>"),z("endobj")},At=function(S,P){var he=un(),ge=Wt();P.push({resourcesOid:he,objectOid:ge}),S.objectNumber=ge;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+S.boundingBox.map(E).join(" ")+"]"}),Ae.push({key:"XStep",value:E(S.xStep)}),Ae.push({key:"YStep",value:E(S.yStep)}),Ae.push({key:"Resources",value:he+" 0 R"}),S.matrix&&Ae.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),us({data:S.stream,additionalKeyValues:Ae,objectId:S.objectNumber}),z("endobj")},fn=function(S){for(var P in S.objectNumber=Wt(),z("<<"),S)switch(P){case"opacity":z("/ca "+j(S[P]));break;case"stroke-opacity":z("/CA "+j(S[P]))}z(">>"),z("endobj")},sn=function(S){hn(S.resourcesOid,!0),z("<<"),z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var P in z("/Font <<"),Nt)Nt.hasOwnProperty(P)&&(y===!1||y===!0&&_.hasOwnProperty(P))&&z("/"+P+" "+Nt[P].objectNumber+" 0 R");z(">>")})(),(function(){if(Object.keys(gt).length>0){for(var P in z("/Shading <<"),gt)gt.hasOwnProperty(P)&&gt[P]instanceof uu&&gt[P].objectNumber>=0&&z("/"+P+" "+gt[P].objectNumber+" 0 R");st.publish("putShadingPatternDict"),z(">>")}})(),(function(P){if(Object.keys(gt).length>0){for(var he in z("/Pattern <<"),gt)gt.hasOwnProperty(he)&&gt[he]instanceof v.TilingPattern&&gt[he].objectNumber>=0&&gt[he].objectNumber<P&&z("/"+he+" "+gt[he].objectNumber+" 0 R");st.publish("putTilingPatternDict"),z(">>")}})(S.objectOid),(function(){if(Object.keys(It).length>0){var P;for(P in z("/ExtGState <<"),It)It.hasOwnProperty(P)&&It[P].objectNumber>=0&&z("/"+P+" "+It[P].objectNumber+" 0 R");st.publish("putGStateDict"),z(">>")}})(),(function(){for(var P in z("/XObject <<"),zt)zt.hasOwnProperty(P)&&zt[P].objectNumber>=0&&z("/"+P+" "+zt[P].objectNumber+" 0 R");st.publish("putXobjectDict"),z(">>")})(),z(">>"),z("endobj")},en=function(S){wt[S.fontName]=wt[S.fontName]||{},wt[S.fontName][S.fontStyle]=S.id},yn=function(S,P,he,ge,Ae){var We={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:S,fontName:P,fontStyle:he,encoding:ge,isStandardFont:Ae||!1,metadata:{}};return st.publish("addFont",{font:We,instance:this}),Nt[We.id]=We,en(We),We.id},Fn=v.__private__.pdfEscape=v.pdfEscape=function(S,P){return(function(he,ge){var Ae,We,tt,kt,Ot,Kt,pn,Dn,xr;if(tt=(ge=ge||{}).sourceEncoding||"Unicode",Ot=ge.outputEncoding,(ge.autoencode||Ot)&&Nt[dt].metadata&&Nt[dt].metadata[tt]&&Nt[dt].metadata[tt].encoding&&(kt=Nt[dt].metadata[tt].encoding,!Ot&&Nt[dt].encoding&&(Ot=Nt[dt].encoding),!Ot&&kt.codePages&&(Ot=kt.codePages[0]),typeof Ot=="string"&&(Ot=kt[Ot]),Ot)){for(pn=!1,Kt=[],Ae=0,We=he.length;Ae<We;Ae++)(Dn=Ot[he.charCodeAt(Ae)])?Kt.push(String.fromCharCode(Dn)):Kt.push(he[Ae]),Kt[Ae].charCodeAt(0)>>8&&(pn=!0);he=Kt.join("")}for(Ae=he.length;pn===void 0&&Ae!==0;)he.charCodeAt(Ae-1)>>8&&(pn=!0),Ae--;if(!pn)return he;for(Kt=ge.noBOM?[]:[254,255],Ae=0,We=he.length;Ae<We;Ae++){if((xr=(Dn=he.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+he+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kt.push(xr),Kt.push(Dn-(xr<<8))}return String.fromCharCode.apply(void 0,Kt)})(S,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tn=v.__private__.beginPage=function(S){Fe[++bt]=[],_e[bt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Mr(bt),lt(Fe[X])},sr=function(S,P){var he,ge,Ae;switch(t=P||t,typeof S=="string"&&(he=C(S.toLowerCase()),Array.isArray(he)&&(ge=he[0],Ae=he[1])),Array.isArray(S)&&(ge=S[0]*yt,Ae=S[1]*yt),isNaN(ge)&&(ge=a[0],Ae=a[1]),(ge>14400||Ae>14400)&&(gr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Ae=Math.min(14400,Ae)),a=[ge,Ae],t.substr(0,1)){case"l":Ae>ge&&(a=[Ae,ge]);break;case"p":ge>Ae&&(a=[Ae,ge])}Tn(a),Gt(Qo),z(pi),Bl!==0&&z(Bl+" J"),fs!==0&&z(fs+" j"),st.publish("addPage",{pageNumber:bt})},Yr=function(S){S>0&&S<=bt&&(Fe.splice(S,1),_e.splice(S,1),bt--,X>bt&&(X=bt),this.setPage(X))},Mr=function(S){S>0&&S<=bt&&(X=S)},_s=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Fe.length-1},$i=function(S,P,he){var ge,Ae=void 0;return he=he||{},S=S!==void 0?S:Nt[dt].fontName,P=P!==void 0?P:Nt[dt].fontStyle,ge=S.toLowerCase(),wt[ge]!==void 0&&wt[ge][P]!==void 0?Ae=wt[ge][P]:wt[S]!==void 0&&wt[S][P]!==void 0?Ae=wt[S][P]:he.disableWarning===!1&&gr.warn("Unable to look up font label for font '"+S+"', '"+P+"'. Refer to getFontList() for available fonts."),Ae||he.noFallback||(Ae=wt.times[P])==null&&(Ae=wt.times.normal),Ae},zr=v.__private__.putInfo=function(){var S=Wt(),P=function(ge){return ge};for(var he in p!==null&&(P=Pr.encryptor(S,0)),z("<<"),z("/Producer ("+Fn(P("jsPDF "+Bt.version))+")"),vt)vt.hasOwnProperty(he)&&vt[he]&&z("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Fn(P(vt[he]))+")");z("/CreationDate ("+Fn(P(oe))+")"),z(">>"),z("endobj")},ni=v.__private__.putCatalog=function(S){var P=(S=S||{}).rootDictionaryObjId||Hn;switch(Wt(),z("<<"),z("/Type /Catalog"),z("/Pages "+P+" 0 R"),et||(et="fullwidth"),et){case"fullwidth":z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":z("/OpenAction [3 0 R /Fit]");break;case"original":z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+et;he.substr(he.length-1)==="%"&&(et=parseInt(et)/100),typeof et=="number"&&z("/OpenAction [3 0 R /XYZ null null "+j(et)+"]")}switch(it||(it="continuous"),it){case"continuous":z("/PageLayout /OneColumn");break;case"single":z("/PageLayout /SinglePage");break;case"two":case"twoleft":z("/PageLayout /TwoColumnLeft");break;case"tworight":z("/PageLayout /TwoColumnRight")}at&&z("/PageMode /"+at),st.publish("putCatalog"),z(">>"),z("endobj")},Gs=v.__private__.putTrailer=function(){z("trailer"),z("<<"),z("/Size "+(se+1)),z("/Root "+se+" 0 R"),z("/Info "+(se-1)+" 0 R"),p!==null&&z("/Encrypt "+Pr.oid+" 0 R"),z("/ID [ <"+$+"> <"+$+"> ]"),z(">>")},Sn=v.__private__.putHeader=function(){z("%PDF-"+A),z("%")},Xi=v.__private__.putXRef=function(){var S="0000000000";z("xref"),z("0 "+(se+1)),z("0000000000 65535 f ");for(var P=1;P<=se;P++)typeof pe[P]=="function"?z((S+pe[P]()).slice(-10)+" 00000 n "):pe[P]!==void 0?z((S+pe[P]).slice(-10)+" 00000 n "):z("0000000000 00000 n ")},Ds=v.__private__.buildDocument=function(){var S;se=0,xe=0,de=[],pe=[],we=[],Hn=un(),_n=un(),lt(de),st.publish("buildDocument"),Sn(),Ie(),(function(){st.publish("putAdditionalObjects");for(var he=0;he<we.length;he++){var ge=we[he];hn(ge.objId,!0),z(ge.content),z("endobj")}st.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var he in Nt)Nt.hasOwnProperty(he)&&(y===!1||y===!0&&_.hasOwnProperty(he))&&Xe(Nt[he])})(),(function(){var he;for(he in It)It.hasOwnProperty(he)&&fn(It[he])})(),(function(){for(var he in zt)zt.hasOwnProperty(he)&&xt(zt[he])})(),(function(he){var ge;for(ge in gt)gt.hasOwnProperty(ge)&&(gt[ge]instanceof uu?mt(gt[ge]):gt[ge]instanceof Nh&&At(gt[ge],he))})(S),st.publish("putResources"),S.forEach(sn),sn({resourcesOid:_n,objectOid:Number.MAX_SAFE_INTEGER}),st.publish("postPutResources"),p!==null&&(Pr.oid=Wt(),z("<<"),z("/Filter /Standard"),z("/V "+Pr.v),z("/R "+Pr.r),z("/U <"+Pr.toHexString(Pr.U)+">"),z("/O <"+Pr.toHexString(Pr.O)+">"),z("/P "+Pr.P),z(">>"),z("endobj")),zr(),ni();var P=xe;return Xi(),Gs(),z("startxref"),z(""+P),z("%%EOF"),lt(Fe[X]),de.join(`
`)},_i=v.__private__.getBlob=function(S){return new Blob([nt(S)],{type:"application/pdf"})},xo=v.output=v.__private__.output=(cn=function(S,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",S){case void 0:return Ds();case"save":v.save(P.filename);break;case"arraybuffer":return nt(Ds());case"blob":return _i(Ds());case"bloburi":case"bloburl":if(nn.URL!==void 0&&typeof nn.URL.createObjectURL=="function")return nn.URL&&nn.URL.createObjectURL(_i(Ds()))||void 0;gr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",ge=Ds();try{he=Qy(ge)}catch{he=Qy(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+P.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nn)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(Ae=P.pdfObjectUrl,We="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",kt=nn.open();return kt!==null&&kt.document.write(tt),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nn)==="[object Window]"){var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Kt=nn.open();if(Kt!==null){Kt.document.write(Ot);var pn=this;Kt.document.documentElement.querySelector("#pdfViewer").onload=function(){Kt.document.title=P.filename,Kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pn.output("bloburl"))}}return Kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',xr=nn.open();if(xr!==null&&(xr.document.write(Dn),xr.document.title=P.filename),xr||typeof safari>"u")return xr;break;case"datauri":case"dataurl":return nn.document.location.href=this.output("datauristring",P);default:return null}},cn.foo=function(){try{return cn.apply(this,arguments)}catch(he){var S=he.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var P="Error in function "+S.split(`
`)[0].split("<")[0]+": "+he.message;if(!nn.console)throw new Error(P);nn.console.error(P,he),nn.alert&&alert(P)}},cn.foo.bar=cn,cn.foo),hs=function(S){return Array.isArray(Ft)===!0&&Ft.indexOf(S)>-1};switch(s){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=hs("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);yt=s}var Pr=null;G(),le();var Lr=v.__private__.getPageInfo=v.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_e[S].objId,pageNumber:S,pageContext:_e[S]}},wo=v.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in _e)if(_e[P].objId===S)break;return Lr(P)},Vl=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:_e[X].objId,pageNumber:X,pageContext:_e[X]}};v.addPage=function(){return sr.apply(this,arguments),this},v.setPage=function(){return Mr.apply(this,arguments),lt.call(this,Fe[X]),this},v.insertPage=function(S){return this.addPage(),this.movePage(X,S),this},v.movePage=function(S,P){var he,ge;if(S>P){he=Fe[S],ge=_e[S];for(var Ae=S;Ae>P;Ae--)Fe[Ae]=Fe[Ae-1],_e[Ae]=_e[Ae-1];Fe[P]=he,_e[P]=ge,this.setPage(P)}else if(S<P){he=Fe[S],ge=_e[S];for(var We=S;We<P;We++)Fe[We]=Fe[We+1],_e[We]=_e[We+1];Fe[P]=he,_e[P]=ge,this.setPage(P)}return this},v.deletePage=function(){return Yr.apply(this,arguments),this},v.__private__.text=v.text=function(S,P,he,ge,Ae){var We,tt,kt,Ot,Kt,pn,Dn,xr,qr,ir=(ge=ge||{}).scope||this;if(typeof S=="number"&&typeof P=="number"&&(typeof he=="string"||Array.isArray(he))){var rs=he;he=P,P=S,S=rs}if(arguments[3]instanceof $e==0?(kt=arguments[4],Ot=arguments[5],rr(Dn=arguments[3])==="object"&&Dn!==null||(typeof kt=="string"&&(Ot=kt,kt=null),typeof Dn=="string"&&(Ot=Dn,Dn=null),typeof Dn=="number"&&(kt=Dn,Dn=null),ge={flags:Dn,angle:kt,align:Ot})):(B("The transform parameter of text() with a Matrix value"),qr=Ae),isNaN(P)||isNaN(he)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return ir;var $r,Ns="",Pa=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Da,Qi=ir.internal.scaleFactor;function qa(qn){return qn=qn.split("	").join(Array(ge.TabLen||9).join(" ")),Fn(qn,Dn)}function Pc(qn){for(var Rn,ar=qn.concat(),Hr=[],Sa=ar.length;Sa--;)typeof(Rn=ar.shift())=="string"?Hr.push(Rn):Array.isArray(qn)&&(Rn.length===1||Rn[1]===void 0&&Rn[2]===void 0)?Hr.push(Rn[0]):Hr.push([Rn[0],Rn[1],Rn[2]]);return Hr}function Pl(qn,Rn){var ar;if(typeof qn=="string")ar=Rn(qn)[0];else if(Array.isArray(qn)){for(var Hr,Sa,na=qn.concat(),il=[],Hc=na.length;Hc--;)typeof(Hr=na.shift())=="string"?il.push(Rn(Hr)[0]):Array.isArray(Hr)&&typeof Hr[0]=="string"&&(Sa=Rn(Hr[0],Hr[1],Hr[2]),il.push([Sa[0],Sa[1],Sa[2]]));ar=il}return ar}var ga=!1,Ji=!0;if(typeof S=="string")ga=!0;else if(Array.isArray(S)){var rl=S.concat();tt=[];for(var Ua,ds=rl.length;ds--;)(typeof(Ua=rl.shift())!="string"||Array.isArray(Ua)&&typeof Ua[0]!="string")&&(Ji=!1);ga=Ji}if(ga===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var So=je/ir.internal.scaleFactor,No=So*(Pa-1);switch(ge.baseline){case"bottom":he-=No;break;case"top":he+=So-No;break;case"hanging":he+=So-2*No;break;case"middle":he+=So/2-No}if((pn=ge.maxWidth||0)>0&&(typeof S=="string"?S=ir.splitTextToSize(S,pn):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(qn,Rn){return qn.concat(ir.splitTextToSize(Rn,pn))},[]))),We={text:S,x:P,y:he,options:ge,mutex:{pdfEscape:Fn,activeFontKey:dt,fonts:Nt,activeFontSize:je}},st.publish("preProcessText",We),S=We.text,kt=(ge=We.options).angle,qr instanceof $e==0&&kt&&typeof kt=="number"){kt*=Math.PI/180,ge.rotationDirection===0&&(kt=-kt),V===D&&(kt=-kt);var ql=Math.cos(kt),ba=Math.sin(kt);qr=new $e(ql,ba,-ba,ql,0,0)}else kt&&kt instanceof $e&&(qr=kt);V!==D||qr||(qr=Et),(Kt=ge.charSpace||Si)!==void 0&&(Ns+=E(ee(Kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xr=ge.horizontalScale)!==void 0&&(Ns+=E(100*xr)+` Tz
`),ge.lang;var $s=-1,Ha=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Ul=ir.internal.getCurrentPageInfo().pageContext;switch(Ha){case 0:case!1:case"fill":$s=0;break;case 1:case!0:case"stroke":$s=1;break;case 2:case"fillThenStroke":$s=2;break;case 3:case"invisible":$s=3;break;case 4:case"fillAndAddForClipping":$s=4;break;case 5:case"strokeAndAddPathForClipping":$s=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$s=6;break;case 7:case"addToPathForClipping":$s=7}var qc=Ul.usedRenderingMode!==void 0?Ul.usedRenderingMode:-1;$s!==-1?Ns+=$s+` Tr
`:qc!==-1&&(Ns+=`0 Tr
`),$s!==-1&&(Ul.usedRenderingMode=$s),Ot=ge.align||"left";var mi,ea=je*Pa,Wa=ir.internal.pageSize.getWidth(),Uc=Nt[dt];Kt=ge.charSpace||Si,pn=ge.maxWidth||0,Dn=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var ta=[],Ao=function(qn){return ir.getStringUnitWidth(qn,{font:Uc,charSpace:Kt,fontSize:je,doKerning:!1})*je/Qi};if(Object.prototype.toString.call(S)==="[object Array]"){var si;tt=Pc(S),Ot!=="left"&&(mi=tt.map(Ao));var Xs,va=0;if(Ot==="right"){P-=mi[0],S=[],ds=tt.length;for(var ya=0;ya<ds;ya++)ya===0?(Xs=di(P),si=Ss(he)):(Xs=ee(va-mi[ya]),si=-ea),S.push([tt[ya],Xs,si]),va=mi[ya]}else if(Ot==="center"){P-=mi[0]/2,S=[],ds=tt.length;for(var Ga=0;Ga<ds;Ga++)Ga===0?(Xs=di(P),si=Ss(he)):(Xs=ee((va-mi[Ga])/2),si=-ea),S.push([tt[Ga],Xs,si]),va=mi[Ga]}else if(Ot==="left"){S=[],ds=tt.length;for(var Hl=0;Hl<ds;Hl++)S.push(tt[Hl])}else if(Ot==="justify"&&Uc.encoding==="Identity-H"){S=[],ds=tt.length,pn=pn!==0?pn:Wa;for(var Wl=0,Ur=0;Ur<ds;Ur++)if(si=Ur===0?Ss(he):-ea,Xs=Ur===0?di(P):Wl,Ur<ds-1){var Ru=ee((pn-mi[Ur])/(tt[Ur].split(" ").length-1)),xa=tt[Ur].split(" ");S.push([xa[0]+" ",Xs,si]),Wl=0;for(var wa=1;wa<xa.length;wa++){var As=(Ao(xa[wa-1]+" "+xa[wa])-Ao(xa[wa]))*Qi+Ru;wa==xa.length-1?S.push([xa[wa],As,0]):S.push([xa[wa]+" ",As,0]),Wl-=As}}else S.push([tt[Ur],Xs,si]);S.push(["",Wl,0])}else{if(Ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],ds=tt.length,pn=pn!==0?pn:Wa,Ur=0;Ur<ds;Ur++){si=Ur===0?Ss(he):-ea,Xs=Ur===0?di(P):0;var Ya=tt[Ur].split(" ").length-1,Gl=Ya>0?(pn-mi[Ur])/Ya:0;Ur<ds-1?ta.push(E(ee(Gl))):ta.push(0),S.push([tt[Ur],Xs,si])}}}(typeof ge.R2L=="boolean"?ge.R2L:ct)===!0&&(S=Pl(S,function(qn,Rn,ar){return[qn.split("").reverse().join(""),Rn,ar]})),We={text:S,x:P,y:he,options:ge,mutex:{pdfEscape:Fn,activeFontKey:dt,fonts:Nt,activeFontSize:je}},st.publish("postProcessText",We),S=We.text,$r=We.mutex.isHex||!1;var Yl=Nt[dt].encoding;Yl!=="WinAnsiEncoding"&&Yl!=="StandardEncoding"||(S=Pl(S,function(qn,Rn,ar){return[qa(qn),Rn,ar]})),tt=Pc(S),S=[];for(var $a,Xa,_a,sl=Array.isArray(tt[0])?1:0,gi="",Za=function(qn,Rn,ar){var Hr="";return ar instanceof $e?(ar=typeof ge.angle=="number"?ft(ar,new $e(1,0,0,1,qn,Rn)):ft(new $e(1,0,0,1,qn,Rn),ar),V===D&&(ar=ft(new $e(1,0,0,-1,0,0),ar)),Hr=ar.join(" ")+` Tm
`):Hr=E(qn)+" "+E(Rn)+` Td
`,Hr},Rs=0;Rs<tt.length;Rs++){switch(gi="",sl){case 1:_a=($r?"<":"(")+tt[Rs][0]+($r?">":")"),$a=parseFloat(tt[Rs][1]),Xa=parseFloat(tt[Rs][2]);break;case 0:_a=($r?"<":"(")+tt[Rs]+($r?">":")"),$a=di(P),Xa=Ss(he)}ta!==void 0&&ta[Rs]!==void 0&&(gi=ta[Rs]+` Tw
`),Rs===0?S.push(gi+Za($a,Xa,qr)+_a):sl===0?S.push(gi+_a):sl===1&&S.push(gi+Za($a,Xa,qr)+_a)}S=sl===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Ai=`BT
/`;return Ai+=dt+" "+je+` Tf
`,Ai+=E(je*Pa)+` TL
`,Ai+=pa+`
`,Ai+=Ns,Ai+=S,z(Ai+="ET"),_[dt]=!0,ir};var Zo=v.__private__.clip=v.clip=function(S){return z(S==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Zo("evenodd")},v.__private__.discardPath=v.discardPath=function(){return z("n"),this};var Ys=v.__private__.isValidStyle=function(S){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(P=!0),P};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(S){return Ys(S)&&(d=S),this};var Dc=v.__private__.getStyle=v.getStyle=function(S){var P=d;switch(S){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=S}return P},Rc=v.close=function(){return z("h"),this};v.stroke=function(){return z("S"),this},v.fill=function(S){return Zi("f",S),this},v.fillEvenOdd=function(S){return Zi("f*",S),this},v.fillStroke=function(S){return Zi("B",S),this},v.fillStrokeEvenOdd=function(S){return Zi("B*",S),this};var Zi=function(S,P){rr(P)==="object"?ku(P,S):z(S)},Ko=function(S){S===null||V===D&&S===void 0||(S=Dc(S),z(S))};function Cu(S,P,he,ge,Ae){var We=new Nh(P||this.boundingBox,he||this.xStep,ge||this.yStep,this.gState,Ae||this.matrix);We.stream=this.stream;var tt=S+"$$"+this.cloneIndex+++"$$";return Rt(tt,We),We}var ku=function(S,P){var he=rn[S.key],ge=gt[he];if(ge instanceof uu)z("q"),z(Ic(P)),ge.gState&&v.setGState(ge.gState),z(S.matrix.toString()+" cm"),z("/"+he+" sh"),z("Q");else if(ge instanceof Nh){var Ae=new $e(1,0,0,-1,0,za());S.matrix&&(Ae=Ae.multiply(S.matrix||Et),he=Cu.call(ge,S.key,S.boundingBox,S.xStep,S.yStep,Ae).id),z("q"),z("/Pattern cs"),z("/"+he+" scn"),ge.gState&&v.setGState(ge.gState),z(P),z("Q")}},Ic=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Vc=v.moveTo=function(S,P){return z(E(ee(S))+" "+E(U(P))+" m"),this},ju=v.lineTo=function(S,P){return z(E(ee(S))+" "+E(U(P))+" l"),this},ri=v.curveTo=function(S,P,he,ge,Ae,We){return z([E(ee(S)),E(U(P)),E(ee(he)),E(U(ge)),E(ee(Ae)),E(U(We)),"c"].join(" ")),this};v.__private__.line=v.line=function(S,P,he,ge,Ae){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(ge)||!Ys(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return V===R?this.lines([[he-S,ge-P]],S,P,[1,1],Ae||"S"):this.lines([[he-S,ge-P]],S,P,[1,1]).stroke()},v.__private__.lines=v.lines=function(S,P,he,ge,Ae,We){var tt,kt,Ot,Kt,pn,Dn,xr,qr,ir,rs,$r,Ns;if(typeof S=="number"&&(Ns=he,he=P,P=S,S=Ns),ge=ge||[1,1],We=We||!1,isNaN(P)||isNaN(he)||!Array.isArray(S)||!Array.isArray(ge)||!Ys(Ae)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vc(P,he),tt=ge[0],kt=ge[1],Kt=S.length,rs=P,$r=he,Ot=0;Ot<Kt;Ot++)(pn=S[Ot]).length===2?(rs=pn[0]*tt+rs,$r=pn[1]*kt+$r,ju(rs,$r)):(Dn=pn[0]*tt+rs,xr=pn[1]*kt+$r,qr=pn[2]*tt+rs,ir=pn[3]*kt+$r,rs=pn[4]*tt+rs,$r=pn[5]*kt+$r,ri(Dn,xr,qr,ir,rs,$r));return We&&Rc(),Ko(Ae),this},v.path=function(S){for(var P=0;P<S.length;P++){var he=S[P],ge=he.c;switch(he.op){case"m":Vc(ge[0],ge[1]);break;case"l":ju(ge[0],ge[1]);break;case"c":ri.apply(this,ge);break;case"h":Rc()}}return this},v.__private__.rect=v.rect=function(S,P,he,ge,Ae){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(ge)||!Ys(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return V===R&&(ge=-ge),z([E(ee(S)),E(U(P)),E(ee(he)),E(ee(ge)),"re"].join(" ")),Ko(Ae),this},v.__private__.triangle=v.triangle=function(S,P,he,ge,Ae,We,tt){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(ge)||isNaN(Ae)||isNaN(We)||!Ys(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-S,ge-P],[Ae-he,We-ge],[S-Ae,P-We]],S,P,[1,1],tt,!0),this},v.__private__.roundedRect=v.roundedRect=function(S,P,he,ge,Ae,We,tt){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(ge)||isNaN(Ae)||isNaN(We)||!Ys(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*he),We=Math.min(We,.5*ge),this.lines([[he-2*Ae,0],[Ae*kt,0,Ae,We-We*kt,Ae,We],[0,ge-2*We],[0,We*kt,-Ae*kt,We,-Ae,We],[2*Ae-he,0],[-Ae*kt,0,-Ae,-We*kt,-Ae,-We],[0,2*We-ge],[0,-We*kt,Ae*kt,-We,Ae,-We]],S+Ae,P,[1,1],tt,!0),this},v.__private__.ellipse=v.ellipse=function(S,P,he,ge,Ae){if(isNaN(S)||isNaN(P)||isNaN(he)||isNaN(ge)||!Ys(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*he,tt=4/3*(Math.SQRT2-1)*ge;return Vc(S+he,P),ri(S+he,P-tt,S+We,P-ge,S,P-ge),ri(S-We,P-ge,S-he,P-tt,S-he,P),ri(S-he,P+tt,S-We,P+ge,S,P+ge),ri(S+We,P+ge,S+he,P+tt,S+he,P),Ko(Ae),this},v.__private__.circle=v.circle=function(S,P,he,ge){if(isNaN(S)||isNaN(P)||isNaN(he)||!Ys(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,P,he,he,ge)},v.setFont=function(S,P,he){return he&&(P=H(P,he)),dt=$i(S,P,{disableWarning:!1}),this};var Ki=v.__private__.getFont=v.getFont=function(){return Nt[$i.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var S,P,he={};for(S in wt)if(wt.hasOwnProperty(S))for(P in he[S]=[],wt[S])wt[S].hasOwnProperty(P)&&he[S].push(P);return he},v.addFont=function(S,P,he,ge,Ae){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(he=H(he,ge)),yn.call(this,S,P,he,Ae=Ae||"Identity-H")};var Da,Qo=n.lineWidth||.200025,_o=v.__private__.getLineWidth=v.getLineWidth=function(){return Qo},Gt=v.__private__.setLineWidth=v.setLineWidth=function(S){return Qo=S,z(E(ee(S))+" w"),this};v.__private__.setLineDash=Bt.API.setLineDash=Bt.API.setLineDashPattern=function(S,P){if(S=S||[],P=P||0,isNaN(P)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(he){return E(ee(he))}).join(" "),P=E(ee(P)),z("["+S+"] "+P+" d"),this};var Eu=v.__private__.getLineHeight=v.getLineHeight=function(){return je*Da};v.__private__.getLineHeight=v.getLineHeight=function(){return je*Da};var Fc=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Da=S),this},Mu=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return Da};Fc(n.lineHeight);var di=v.__private__.getHorizontalCoordinate=function(S){return ee(S)},Ss=v.__private__.getVerticalCoordinate=function(S){return V===D?S:_e[X].mediaBox.topRightY-_e[X].mediaBox.bottomLeftY-ee(S)},Bc=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(S){return E(di(S))},Jo=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(S){return E(Ss(S))},pi=n.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Jt(pi)},v.__private__.setStrokeColor=v.setDrawColor=function(S,P,he,ge){return pi=Wn({ch1:S,ch2:P,ch3:he,ch4:ge,pdfColorType:"draw",precision:2}),z(pi),this};var el=n.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Jt(el)},v.__private__.setFillColor=v.setFillColor=function(S,P,he,ge){return el=Wn({ch1:S,ch2:P,ch3:he,ch4:ge,pdfColorType:"fill",precision:2}),z(el),this};var pa=n.textColor||"0 g",Lu=v.__private__.getTextColor=v.getTextColor=function(){return Jt(pa)};v.__private__.setTextColor=v.setTextColor=function(S,P,he,ge){return pa=Wn({ch1:S,ch2:P,ch3:he,ch4:ge,pdfColorType:"text",precision:3}),this};var Si=n.charSpace,Fl=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Si||0)};v.__private__.setCharSpace=v.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Si=S,this};var Bl=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(S){var P=v.CapJoinStyles[S];if(P===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bl=P,z(P+" J"),this};var fs=0;v.__private__.setLineJoin=v.setLineJoin=function(S){var P=v.CapJoinStyles[S];if(P===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fs=P,z(P+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return z(E(ee(S))+" M"),this},v.GState=Ap,v.setGState=function(S){(S=typeof S=="string"?It[Vt[S]]:ma(null,S)).equals(ln)||(z("/"+S.id+" gs"),ln=S)};var ma=function(S,P){if(!S||!Vt[S]){var he=!1;for(var ge in It)if(It.hasOwnProperty(ge)&&It[ge].equals(P)){he=!0;break}if(he)P=It[ge];else{var Ae="GS"+(Object.keys(It).length+1).toString(10);It[Ae]=P,P.id=Ae}return S&&(Vt[S]=P.id),st.publish("addGState",P),P}};v.addGState=function(S,P){return ma(S,P),this},v.saveGraphicsState=function(){return z("q"),Tt.push({key:dt,size:je,color:pa}),this},v.restoreGraphicsState=function(){z("Q");var S=Tt.pop();return dt=S.key,je=S.size,pa=S.color,ln=null,this},v.setCurrentTransformationMatrix=function(S){return z(S.toString()+" cm"),this},v.comment=function(S){return z("#"+S),this};var Ni=function(S,P){var he=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(We){isNaN(We)||(he=parseFloat(We))}});var ge=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(We){isNaN(We)||(ge=parseFloat(We))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(We){Ae=We.toString()}}),this},Ra=function(S,P,he,ge){Ni.call(this,S,P),this.type="rect";var Ae=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(tt){isNaN(tt)||(Ae=parseFloat(tt))}});var We=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(tt){isNaN(tt)||(We=parseFloat(tt))}}),this},zl=function(){this.page=bt,this.currentPage=X,this.pages=Fe.slice(0),this.pagesContext=_e.slice(0),this.x=ht,this.y=wn,this.matrix=Zt,this.width=Va(X),this.height=zc(X),this.outputDestination=Ze,this.id="",this.objectNumber=-1};zl.prototype.restore=function(){bt=this.page,X=this.currentPage,_e=this.pagesContext,Fe=this.pages,ht=this.x,wn=this.y,Zt=this.matrix,nl(X,this.width),Fa(X,this.height),Ze=this.outputDestination};var tl=function(S,P,he,ge,Ae){Oe.push(new zl),bt=X=0,Fe=[],ht=S,wn=P,Zt=Ae,Tn([he,ge])};for(var Ia in v.beginFormObject=function(S,P,he,ge,Ae){return tl(S,P,he,ge,Ae),this},v.endFormObject=function(S){return(function(P){if(An[P])Oe.pop().restore();else{var he=new zl,ge="Xo"+(Object.keys(zt).length+1).toString(10);he.id=ge,An[P]=ge,zt[ge]=he,st.publish("addFormObject",he),Oe.pop().restore()}})(S),this},v.doFormObject=function(S,P){var he=zt[An[S]];return z("q"),z(P.toString()+" cm"),z("/"+he.id+" Do"),z("Q"),this},v.getFormObject=function(S){var P=zt[An[S]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},v.save=function(S,P){return S=S||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(lu(_i(Ds()),S),typeof lu.unload=="function"&&nn.setTimeout&&setTimeout(lu.unload,911),this):new Promise(function(he,ge){try{var Ae=lu(_i(Ds()),S);typeof lu.unload=="function"&&nn.setTimeout&&setTimeout(lu.unload,911),he(Ae)}catch(We){ge(We.message)}})},Bt.API)Bt.API.hasOwnProperty(Ia)&&(Ia==="events"&&Bt.API.events.length?(function(S,P){var he,ge,Ae;for(Ae=P.length-1;Ae!==-1;Ae--)he=P[Ae][0],ge=P[Ae][1],S.subscribe.apply(S,[he].concat(typeof ge=="function"?[ge]:ge))})(st,Bt.API.events):v[Ia]=Bt.API[Ia]);function Va(S){return _e[S].mediaBox.topRightX-_e[S].mediaBox.bottomLeftX}function nl(S,P){_e[S].mediaBox.topRightX=P+_e[S].mediaBox.bottomLeftX}function zc(S){return _e[S].mediaBox.topRightY-_e[S].mediaBox.bottomLeftY}function Fa(S,P){_e[S].mediaBox.topRightY=P+_e[S].mediaBox.bottomLeftY}var Ba=v.getPageWidth=function(S){return Va(S=S||X)/yt},Ou=v.setPageWidth=function(S,P){nl(S,P*yt)},za=v.getPageHeight=function(S){return zc(S=S||X)/yt},Du=v.setPageHeight=function(S,P){Fa(S,P*yt)};return v.internal={pdfEscape:Fn,getStyle:Dc,getFont:Ki,getFontSize:Ue,getCharSpace:Fl,getTextColor:Lu,getLineHeight:Eu,getLineHeightFactor:Mu,getLineWidth:_o,write:Ne,getHorizontalCoordinate:di,getVerticalCoordinate:Ss,getCoordinateString:Bc,getVerticalCoordinateString:Jo,collections:{},newObject:Wt,newAdditionalObject:Qn,newObjectDeferred:un,newObjectDeferredBegin:hn,getFilters:Er,putStream:us,events:st,scaleFactor:yt,pageSize:{getWidth:function(){return Ba(X)},setWidth:function(S){Ou(X,S)},getHeight:function(){return za(X)},setHeight:function(S){Du(X,S)}},encryptionOptions:p,encryption:Pr,getEncryptor:function(S){return p!==null?Pr.encryptor(S,0):function(P){return P}},output:xo,getNumberOfPages:_s,get pages(){return Fe},out:z,f2:j,f3:I,getPageInfo:Lr,getPageInfoByObjId:wo,getCurrentPageInfo:Vl,getPDFVersion:N,Point:Ni,Rectangle:Ra,Matrix:$e,hasHotfix:hs},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return Ba(X)},set:function(S){Ou(X,S)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return za(X)},set:function(S){Du(X,S)},enumerable:!0,configurable:!0}),(function(S){for(var P=0,he=Be.length;P<he;P++){var ge=yn.call(this,S[P][0],S[P][1],S[P][2],Be[P][3],!0);y===!1&&(_[ge]=!0);var Ae=S[P][0].split("-");en({id:ge,fontName:Ae[0],fontStyle:Ae[1]||""})}st.publish("addFonts",{fonts:Nt,dictionary:wt})}).call(v,Be),dt="F1",sr(a,t),st.publish("initialized"),v}yh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},yh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},yh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},yh.prototype.processOwnerPassword=function(n,e){return Ng(Sg(e).substr(0,5),n)},yh.prototype.encryptor=function(n,e){var t=Sg(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return Ng(t,s)}},Ap.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||rr(n)!==rr(this))return!1;var s=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;s++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&s--;return s===0},Bt.API={events:[]},Bt.version="3.0.4";var ts=Bt.API,R2=1,Tu=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bn=function(n){return n.toFixed(2)},yc=function(n){return n.toFixed(5)};ts.__acroform__={};var Yi=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},nx=function(n){return n*R2},Po=function(n){var e=new d4,t=Lt.internal.getHeight(n)||0,s=Lt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(bn(s)),Number(bn(t))],e},VM=ts.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},FM=ts.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},BM=ts.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},as=ts.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return BM(n,e-1)},os=ts.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return VM(n,e-1)},ls=ts.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FM(n,e-1)},zM=ts.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=s(o+c)||0,f.upperRight_X=t(a+u)||0,f.upperRight_Y=s(o)||0,[Number(bn(f.lowerLeft_X)),Number(bn(f.lowerLeft_Y)),Number(bn(f.upperRight_X)),Number(bn(f.upperRight_Y))]},PM=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,s=Ag(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+bn(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Po(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},Ag=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(j){return j.split(`
`)}):a.map(function(j){return[j]});var o=t,u=Lt.internal.getHeight(n)||0;u=u<0?-u:u;var c=Lt.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(j,I,ee){if(j+1<a.length){var U=I+" "+a[j+1][0];return V1(U,n,ee).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,p,y=V1("3",n,o).height,_=n.multiline?u-o:(u-y)/2,v=_+=2,A=0,N=0,k=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+V1(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var C="",R=0,D=0;D<a.length;D++)if(a.hasOwnProperty(D)){var V=!1;if(a[D].length!==1&&k!==a[D].length-1){if((y+2)*(R+2)+2>u)continue e;C+=a[D][k],V=!0,N=D,D--}else{C=(C+=a[D][k]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var F=parseInt(D),Y=f(F,C,o),H=D>=a.length-1;if(Y&&!H){C+=" ",k=0;continue}if(Y||H){if(H)N=F;else if(n.multiline&&(y+2)*(R+2)+2>u)continue e}else{if(!n.multiline||(y+2)*(R+2)+2>u)continue e;N=F}}for(var E="",B=A;B<=N;B++){var te=a[B];if(n.multiline){if(B===N){E+=te[k]+" ",k=(k+1)%te.length;continue}if(B===A){E+=te[te.length-1]+" ";continue}}E+=te[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,p=V1(E,n,o).width,n.textAlign){case"right":d=c-p-2;break;case"center":d=(c-p)/2;break;default:d=2}e+=bn(d)+" "+bn(v)+` Td
`,e+="("+Tu(E)+`) Tj
`,e+=-bn(d)+` 0 Td
`,v=-(o+2),p=0,A=V?N:N+1,R++,C=""}break}return s.text=e,s.fontSize=o,s},V1=function(n,e,t){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},qM={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},UM=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(s){return s.type===t.type&&s.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},HM=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(vo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(qM)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");R2=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new p4,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];o.objId=void 0,o.hasAnnotation&&UM(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(s,a){var o=!s;for(var u in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(u)){var c=s[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=zM(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Lt.createDefaultAppearanceStream(c),rr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=PM(c);f.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var y="";for(var _ in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(_)){var v=c.appearanceStreamContent[_];if(y+="/"+_+" ",y+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var u in v)if(v.hasOwnProperty(u)){var A=v[u];typeof A=="function"&&(A=A.call(a,c)),y+="/"+u+" "+A+" ",a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A)}}else typeof(A=v)=="function"&&(A=A.call(a,c)),y+="/"+u+" "+A,a.internal.acroformPlugin.xForms.indexOf(A)>=0||a.internal.acroformPlugin.xForms.push(A);y+=">>"}f.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(N,k){for(var C in N)if(N.hasOwnProperty(C)){var R=C,D=N[C];k.internal.newObjectDeferredBegin(D.objId,!0),rr(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete N[R]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},f4=ts.__acroform__.arrayToPdfArray=function(n,e,t){var s=function(u){return u};if(Array.isArray(n)){for(var a="[",o=0;o<n.length;o++)switch(o!==0&&(a+=" "),rr(n[o])){case"boolean":case"number":case"object":a+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(s=t.internal.getEncryptor(e)),a+="("+Tu(s(n[o].toString()))+")"):a+=n[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zm=function(n,e,t){var s=function(a){return a};return e!==void 0&&t&&(s=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Tu(s(n))+")"},Uo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Uo.prototype.toString=function(){return this.objId+" 0 R"},Uo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Uo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var s=e[t],a=this[s];a&&(Array.isArray(a)?n.push({key:s,value:f4(a,this.objId,this.scope)}):a instanceof Uo?(a.scope=this.scope,n.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:s,value:a}))}return n};var d4=function(){Uo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Yi(d4,Uo);var p4=function(){Uo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(s){return s};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Tu(t(n))+")"}},set:function(t){n=t}})};Yi(p4,Uo);var vo=function n(){Uo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!as(e,3)},set:function(C){C?this.F=os(e,3):this.F=ls(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(C){s=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(C){s[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(C){s[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(C){s[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(C){s[3]=C}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Tp)return;o="FieldObject"+n.FieldNum++}var C=function(R){return R};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+Tu(C(o))+")"},set:function(C){o=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(C){o=C}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(C){c=C}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(C){f=C}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/R2:d},set:function(C){d=C}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(C){p=C}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof Tp||this instanceof gu))return zm(y,this.objId,this.scope)},set:function(C){C=C.toString(),y=C}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Hs==0?zm(_,this.objId,this.scope):_},set:function(C){C=C.toString(),_=this instanceof Hs==0?C.substr(0,1)==="("?gh(C.substr(1,C.length-2)):gh(C):C}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hs==1?gh(_.substr(1,_.length-1)):_},set:function(C){C=C.toString(),_=this instanceof Hs==1?"/"+C:C}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Hs==0?zm(v,this.objId,this.scope):v},set:function(C){C=C.toString(),v=this instanceof Hs==0?C.substr(0,1)==="("?gh(C.substr(1,C.length-2)):gh(C):C}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Hs==1?gh(v.substr(1,v.length-1)):v},set:function(C){C=C.toString(),v=this instanceof Hs==1?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var A,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(C){C=!!C,N=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(A)return A},set:function(C){A=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,1)},set:function(C){C?this.Ff=os(this.Ff,1):this.Ff=ls(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,2)},set:function(C){C?this.Ff=os(this.Ff,2):this.Ff=ls(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,3)},set:function(C){C?this.Ff=os(this.Ff,3):this.Ff=ls(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');k=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(k){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Yi(vo,Uo);var jh=function(){vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return f4(e,this.objId,this.scope)},set:function(t){var s,a;a=[],typeof(s=t)=="string"&&(a=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,s){for(s=s||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,18)},set:function(t){t?this.Ff=os(this.Ff,18):this.Ff=ls(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=os(this.Ff,19):this.Ff=ls(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,20)},set:function(t){t?(this.Ff=os(this.Ff,20),e.sort()):this.Ff=ls(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,22)},set:function(t){t?this.Ff=os(this.Ff,22):this.Ff=ls(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,23)},set:function(t){t?this.Ff=os(this.Ff,23):this.Ff=ls(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,27)},set:function(t){t?this.Ff=os(this.Ff,27):this.Ff=ls(this.Ff,27)}}),this.hasAppearanceStream=!1};Yi(jh,vo);var Eh=function(){jh.call(this),this.fontName="helvetica",this.combo=!1};Yi(Eh,jh);var Mh=function(){Eh.call(this),this.combo=!0};Yi(Mh,Eh);var Y1=function(){Mh.call(this),this.edit=!0};Yi(Y1,Mh);var Hs=function(){vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,15)},set:function(t){t?this.Ff=os(this.Ff,15):this.Ff=ls(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,16)},set:function(t){t?this.Ff=os(this.Ff,16):this.Ff=ls(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,17)},set:function(t){t?this.Ff=os(this.Ff,17):this.Ff=ls(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,26)},set:function(t){t?this.Ff=os(this.Ff,26):this.Ff=ls(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+Tu(t(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){rr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Yi(Hs,vo);var $1=function(){Hs.call(this),this.pushButton=!0};Yi($1,Hs);var Lh=function(){Hs.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Yi(Lh,Hs);var Tp=function(){var n,e;vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),s)u.push("/"+o+" ("+Tu(a(s[o]))+")");return u.push(">>"),u.join(`
`)},set:function(a){rr(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Lt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Yi(Tp,vo),Lh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Lh.prototype.createOption=function(n){var e=new Tp;return e.Parent=this,e.optionName=n,this.Kids.push(e),WM.call(this.scope,e),e};var X1=function(){Hs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Lt.CheckBox.createAppearanceStream()};Yi(X1,Hs);var gu=function(){vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,13)},set:function(e){e?this.Ff=os(this.Ff,13):this.Ff=ls(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,21)},set:function(e){e?this.Ff=os(this.Ff,21):this.Ff=ls(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,23)},set:function(e){e?this.Ff=os(this.Ff,23):this.Ff=ls(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,24)},set:function(e){e?this.Ff=os(this.Ff,24):this.Ff=ls(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,25)},set:function(e){e?this.Ff=os(this.Ff,25):this.Ff=ls(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,26)},set:function(e){e?this.Ff=os(this.Ff,26):this.Ff=ls(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Yi(gu,vo);var Z1=function(){gu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!as(this.Ff,14)},set:function(n){n?this.Ff=os(this.Ff,14):this.Ff=ls(this.Ff,14)}}),this.password=!0};Yi(Z1,gu);var Lt={CheckBox:{createAppearanceStream:function(){return{N:{On:Lt.CheckBox.YesNormal},D:{On:Lt.CheckBox.YesPushDown,Off:Lt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),o=Ag(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+bn(Lt.internal.getWidth(n))+" "+bn(Lt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+s+" "+bn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Po(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),a=[],o=Lt.internal.getHeight(n),u=Lt.internal.getWidth(n),c=Ag(n,n.caption);return a.push("1 g"),a.push("0 0 "+bn(u)+" "+bn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+bn(u-1)+" "+bn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+bn(c.fontSize)+" Tf "+s),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bn(Lt.internal.getWidth(n))+" "+bn(Lt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Lt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Lt.RadioButton.Circle.YesNormal,e.D[n]=Lt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=Lt.internal.getWidth(n)<=Lt.internal.getHeight(n)?Lt.internal.getWidth(n)/4:Lt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Lt.internal.Bezier_C,o=Number((s*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+yc(Lt.internal.getWidth(n)/2)+" "+yc(Lt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=Lt.internal.getWidth(n)<=Lt.internal.getHeight(n)?Lt.internal.getWidth(n)/4:Lt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Lt.internal.Bezier_C).toFixed(5)),u=Number((s*Lt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yc(Lt.internal.getWidth(n)/2)+" "+yc(Lt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+yc(Lt.internal.getWidth(n)/2)+" "+yc(Lt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+u+" "+u+" "+s+" 0 "+s+" c"),t.push("-"+u+" "+s+" -"+s+" "+u+" -"+s+" 0 c"),t.push("-"+s+" -"+u+" -"+u+" -"+s+" 0 -"+s+" c"),t.push(u+" -"+s+" "+s+" -"+u+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=Lt.internal.getWidth(n)<=Lt.internal.getHeight(n)?Lt.internal.getWidth(n)/4:Lt.internal.getHeight(n)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),o=Number((a*Lt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yc(Lt.internal.getWidth(n)/2)+" "+yc(Lt.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Lt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Lt.RadioButton.Cross.YesNormal,e.D[n]=Lt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Po(n);e.scope=n.scope;var t=[],s=Lt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+bn(Lt.internal.getWidth(n)-2)+" "+bn(Lt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(bn(s.x1.x)+" "+bn(s.x1.y)+" m"),t.push(bn(s.x2.x)+" "+bn(s.x2.y)+" l"),t.push(bn(s.x4.x)+" "+bn(s.x4.y)+" m"),t.push(bn(s.x3.x)+" "+bn(s.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=Lt.internal.calculateCross(n),s=[];return s.push("0.749023 g"),s.push("0 0 "+bn(Lt.internal.getWidth(n))+" "+bn(Lt.internal.getHeight(n))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+bn(Lt.internal.getWidth(n)-2)+" "+bn(Lt.internal.getHeight(n)-2)+" re"),s.push("W"),s.push("n"),s.push(bn(t.x1.x)+" "+bn(t.x1.y)+" m"),s.push(bn(t.x2.x)+" "+bn(t.x2.y)+" l"),s.push(bn(t.x4.x)+" "+bn(t.x4.y)+" m"),s.push(bn(t.x3.x)+" "+bn(t.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+bn(Lt.internal.getWidth(n))+" "+bn(Lt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Lt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Lt.internal.getWidth(n),t=Lt.internal.getHeight(n),s=Math.min(e,t);return{x1:{x:(e-s)/2,y:(t-s)/2+s},x2:{x:(e-s)/2+s,y:(t-s)/2},x3:{x:(e-s)/2,y:(t-s)/2},x4:{x:(e-s)/2+s,y:(t-s)/2+s}}}},Lt.internal.getWidth=function(n){var e=0;return rr(n)==="object"&&(e=nx(n.Rect[2])),e},Lt.internal.getHeight=function(n){var e=0;return rr(n)==="object"&&(e=nx(n.Rect[3])),e};var WM=ts.addField=function(n){if(HM(this,n),!(n instanceof vo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ts.AcroFormChoiceField=jh,ts.AcroFormListBox=Eh,ts.AcroFormComboBox=Mh,ts.AcroFormEditBox=Y1,ts.AcroFormButton=Hs,ts.AcroFormPushButton=$1,ts.AcroFormRadioButton=Lh,ts.AcroFormCheckBox=X1,ts.AcroFormTextField=gu,ts.AcroFormPasswordField=Z1,ts.AcroFormAppearance=Lt,ts.AcroForm={ChoiceField:jh,ListBox:Eh,ComboBox:Mh,EditBox:Y1,Button:Hs,PushButton:$1,RadioButton:Lh,CheckBox:X1,TextField:gu,PasswordField:Z1,Appearance:Lt},Bt.AcroForm={ChoiceField:jh,ListBox:Eh,ComboBox:Mh,EditBox:Y1,Button:Hs,PushButton:$1,RadioButton:Lh,CheckBox:X1,TextField:gu,PasswordField:Z1,Appearance:Lt};Bt.AcroForm;function m4(n){return n.reduce(function(e,t,s){return e[t]=s,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",s={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(j,I){var ee,U,oe,$,ne,le=t;if((I=I||t)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(Y(j))for(ne in s)for(oe=s[ne],ee=0;ee<oe.length;ee+=1){for($=!0,U=0;U<oe[ee].length;U+=1)if(oe[ee][U]!==void 0&&oe[ee][U]!==j[U]){$=!1;break}if($===!0){le=ne;break}}else for(ne in s)for(oe=s[ne],ee=0;ee<oe.length;ee+=1){for($=!0,U=0;U<oe[ee].length;U+=1)if(oe[ee][U]!==void 0&&oe[ee][U]!==j.charCodeAt(U)){$=!1;break}if($===!0){le=ne;break}}return le===t&&I!==t&&(le=I),le},o=function j(I){for(var ee=this.internal.write,U=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:I.width}),$.push({key:"Height",value:I.height}),I.colorSpace===C.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===C.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var ne="",le=0,fe=I.transparency.length;le<fe;le++)ne+=I.transparency[le]+" "+I.transparency[le]+" ";$.push({key:"Mask",value:"["+ne+"]"})}I.sMask!==void 0&&$.push({key:"SMask",value:I.objectId+1+" 0 R"});var be=I.filter!==void 0?["/"+I.filter]:void 0;if(U({data:I.data,additionalKeyValues:$,alreadyAppliedFilters:be,objectId:I.objectId}),ee("endobj"),"sMask"in I&&I.sMask!==void 0){var G,L=(G=I.sMaskBitsPerComponent)!==null&&G!==void 0?G:I.bitsPerComponent,X={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:I.sMask};"filter"in I&&(X.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(I.width),X.filter=I.filter),j.call(this,X)}if(I.colorSpace===C.INDEXED){var W=this.internal.newObject();U({data:E(new Uint8Array(I.palette)),objectId:W}),ee("endobj")}},u=function(){var j=this.internal.collections[e+"images"];for(var I in j)o.call(this,j[I])},c=function(){var j,I=this.internal.collections[e+"images"],ee=this.internal.write;for(var U in I)ee("/I"+(j=I[U]).index,j.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var j=this.internal.collections[e+"images"];return f.call(this),j},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(j){return typeof n["process"+j.toUpperCase()]=="function"},_=function(j){return rr(j)==="object"&&j.nodeType===1},v=function(j,I){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var ee=""+j.getAttribute("src");if(ee.indexOf("data:image/")===0)return G1(unescape(ee).split("base64,").pop());var U=n.loadFile(ee,!0);if(U!==void 0)return U}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var oe;switch(I){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return G1(j.toDataURL(oe,1).split("base64,").pop())}},A=function(j){var I=this.internal.collections[e+"images"];if(I){for(var ee in I)if(j===I[ee].alias)return I[ee]}},N=function(j,I,ee){return j||I||(j=-96,I=-96),j<0&&(j=-1*ee.width*72/j/this.internal.scaleFactor),I<0&&(I=-1*ee.height*72/I/this.internal.scaleFactor),j===0&&(j=I*ee.width/ee.height),I===0&&(I=j*ee.height/ee.width),[j,I]},k=function(j,I,ee,U,oe,$){var ne=N.call(this,ee,U,oe),le=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,be=d.call(this);if(ee=ne[0],U=ne[1],be[oe.index]=oe,$){$*=Math.PI/180;var G=Math.cos($),L=Math.sin($),X=function(Q){return Q.toFixed(4)},W=[X(G),X(L),X(-1*L),X(G),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,le(j),fe(I+U),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([le(ee),"0","0",le(U),"0","0","cm"].join(" "))):this.internal.write([le(ee),"0","0",le(U),le(j),fe(I+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},C=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=n.__addimage__.sHashCode=function(j){var I,ee,U=0;if(typeof j=="string")for(ee=j.length,I=0;I<ee;I++)U=(U<<5)-U+j.charCodeAt(I),U|=0;else if(Y(j))for(ee=j.byteLength/2,I=0;I<ee;I++)U=(U<<5)-U+j[I],U|=0;return U},V=n.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var I=!0;return j.length===0&&(I=!1),j.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(I=!1),I},F=n.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var I=j.indexOf(",");return I<0?null:j.substring(0,I).trim().endsWith("base64")?j.substring(I+1):null};n.__addimage__.isArrayBuffer=function(j){return j instanceof ArrayBuffer};var Y=n.__addimage__.isArrayBufferView=function(j){return j instanceof Int8Array||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array},H=n.__addimage__.binaryStringToUint8Array=function(j){for(var I=j.length,ee=new Uint8Array(I),U=0;U<I;U++)ee[U]=j.charCodeAt(U);return ee},E=n.__addimage__.arrayBufferToBinaryString=function(j){for(var I="",ee=Y(j)?j:new Uint8Array(j),U=0;U<ee.length;U+=8192)I+=String.fromCharCode.apply(null,ee.subarray(U,U+8192));return I};n.addImage=function(){var j,I,ee,U,oe,$,ne,le,fe;if(typeof arguments[1]=="number"?(I=t,ee=arguments[1],U=arguments[2],oe=arguments[3],$=arguments[4],ne=arguments[5],le=arguments[6],fe=arguments[7]):(I=arguments[1],ee=arguments[2],U=arguments[3],oe=arguments[4],$=arguments[5],ne=arguments[6],le=arguments[7],fe=arguments[8]),rr(j=arguments[0])==="object"&&!_(j)&&"imageData"in j){var be=j;j=be.imageData,I=be.format||I||t,ee=be.x||ee||0,U=be.y||U||0,oe=be.w||be.width||oe,$=be.h||be.height||$,ne=be.alias||ne,le=be.compression||le,fe=be.rotation||be.angle||fe}var G=this.internal.getFilters();if(le===void 0&&G.indexOf("FlateEncode")!==-1&&(le="SLOW"),isNaN(ee)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var L=B.call(this,j,I,ne,le);return k.call(this,ee,U,oe,$,L,fe),this};var B=function(j,I,ee,U){var oe,$,ne;if(typeof j=="string"&&a(j)===t){j=unescape(j);var le=te(j,!1);(le!==""||(le=n.loadFile(j,!0))!==void 0)&&(j=le)}if(_(j)&&(j=v(j,I)),I=a(j,I),!y(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((ne=ee)==null||ne.length===0)&&(ee=(function(fe){return typeof fe=="string"||Y(fe)?D(fe):Y(fe.data)?D(fe.data):null})(j)),(oe=A.call(this,ee))||(j instanceof Uint8Array||I==="RGBA"||($=j,j=H(j)),oe=this["process"+I.toUpperCase()](j,p.call(this),ee,(function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in n.image_compression?fe:R.NONE})(U),$)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},te=n.__addimage__.convertBase64ToBinaryString=function(j,I){I=typeof I!="boolean"||I;var ee,U="";if(typeof j=="string"){var oe;ee=(oe=F(j))!==null&&oe!==void 0?oe:j;try{U=G1(ee)}catch($){if(I)throw V(ee)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};n.getImageProperties=function(j){var I,ee,U="";if(_(j)&&(j=v(j)),typeof j=="string"&&a(j)===t&&((U=te(j,!1))===""&&(U=n.loadFile(j)||""),j=U),ee=a(j),!y(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(j instanceof Uint8Array||(j=H(j)),!(I=this["process"+ee.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=ee,I}})(Bt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Bt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var s,a,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,p=!1,y=0;y<d.length&&!p;y++)switch((s=d[y]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var _=0;_<d.length;_++){s=d[_];var v=this.internal.pdfEscape,A=this.internal.getEncryptor(t.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(N.objId),R=s.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+u(s.bounds.x)+" "+c(s.bounds.y+s.bounds.h)+" "+u(s.bounds.x+s.bounds.w)+" "+c(s.bounds.y)+"] ")+"/Contents ("+v(C(s.contents))+")",o+=" /Popup "+k.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+v(C(R))+") >>",N.content=o;var D=N.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+u(s.bounds.x+30)+" "+c(s.bounds.y+s.bounds.h)+" "+u(s.bounds.x+s.bounds.w+30)+" "+c(s.bounds.y)+"] ")+" /Parent "+D,s.open&&(o+=" /Open true"),o+=" >>",k.content=o,this.internal.write(N.objId,"0 R",k.objId,"0 R");break;case"freetext":a="/Rect ["+u(s.bounds.x)+" "+c(s.bounds.y)+" "+u(s.bounds.x+s.bounds.w)+" "+c(s.bounds.y+s.bounds.h)+"] ";var V=s.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+v(A(s.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(s.options.name){var F=this.annotations._nameMap[s.options.name];s.options.pageNumber=F.page,s.options.top=F.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",o="",s.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+v(A(s.options.url))+") >>";else if(s.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,o+=" /FitV "+s.options.left+"]";break;default:var Y=c(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),o+=" /XYZ "+s.options.left+" "+Y+" "+s.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var s=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":s.pageContext.annotations.push(t)}},n.link=function(t,s,a,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(s),w:f(t+a),h:d(s+o)},options:u,type:"link"})},n.textWithLink=function(t,s,a,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var p=this.splitTextToSize(t,c).length;u=Math.ceil(d*p)}else c=f,u=d;return this.text(t,s,a,o),a+=.2*d,o.align==="center"&&(s-=f/2),o.align==="right"&&(s-=f),this.link(s,a-d,c,u,o),f},n.getTextWidth=function(t){var s=this.internal.getFontSize();return this.getStringUnitWidth(t)*s/this.internal.scaleFactor}})(Bt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=n.__arabicParser__.isArabicEndLetter=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(N){return u(N)&&a.indexOf(N.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(N){return u(N)&&o(N)&&e[N.charCodeAt(0)].length==4},y=n.__arabicParser__.resolveLigatures=function(N){var k=0,C=t,R="",D=0;for(k=0;k<N.length;k+=1)C[N.charCodeAt(k)]!==void 0?(D++,typeof(C=C[N.charCodeAt(k)])=="number"&&(R+=String.fromCharCode(C),C=t,D=0),k===N.length-1&&(C=t,R+=N.charAt(k-(D-1)),k-=D-1,D=0)):(C=t,R+=N.charAt(k-D),k-=D,D=0);return R};n.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&s[N.charCodeAt(0)]!==void 0};var _=n.__arabicParser__.getCorrectForm=function(N,k,C){return u(N)?o(N)===!1?-1:!d(N)||!u(k)&&!u(C)||!u(C)&&c(k)||c(N)&&!u(k)||c(N)&&f(k)||c(N)&&c(k)?0:p(N)&&u(k)&&!c(k)&&u(C)&&d(C)?3:c(N)||!u(C)?1:2:-1},v=function(N){var k=0,C=0,R=0,D="",V="",F="",Y=(N=N||"").split("\\s+"),H=[];for(k=0;k<Y.length;k+=1){for(H.push(""),C=0;C<Y[k].length;C+=1)D=Y[k][C],V=Y[k][C-1],F=Y[k][C+1],u(D)?(R=_(D,V,F),H[k]+=R!==-1?String.fromCharCode(e[D.charCodeAt(0)][R]):D):H[k]+=D;H[k]=y(H[k])}return H.join(" ")},A=n.__arabicParser__.processArabic=n.processArabic=function(){var N,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(k)){var R=0;for(C=[],R=0;R<k.length;R+=1)Array.isArray(k[R])?C.push([v(k[R][0]),k[R][1],k[R][2]]):C.push([v(k[R])]);N=C}else N=v(k);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};n.events.push(["preProcessText",A])})(Bt.API),Bt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,s){var a;if((t=t||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Bt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(N){_=N}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(N){v=N}});var A=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return A},set:function(N){A=N}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return s.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){s.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),_=d.scaleFactor||this.internal.scaleFactor,v=0,A=0,N=0,k=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var C=d.maxWidth;C>0?typeof f=="string"?f=this.splitTextToSize(f,C):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(D,V){return D.concat(k.splitTextToSize(V,C))},[])):f=Array.isArray(f)?f:[f];for(var R=0;R<f.length;R++)v<(N=this.getStringUnitWidth(f[R],{font:y})*p)&&(v=N);return v!==0&&(A=f.length),{w:v/=_,h:Math.max((A*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/_,0)}},n.cellAddPage=function(){s.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),s.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=y.top,v&&_&&(this.printHeaderRow(f.lineNumber,!0),f.y+=_[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-p,f.y+p,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+p,{align:"center",baseline:"top",maxWidth:f.width-p-p}):this.text(f.text,f.x+p,f.y+p,{align:"left",baseline:"top",maxWidth:f.width-p-p})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,p,y,_){if(s.call(this),!p)throw new Error("No data for PDF table.");var v,A,N,k,C=[],R=[],D=[],V={},F={},Y=[],H=[],E=(_=_||{}).autoSize||!1,B=_.printHeaders!==!1,te=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,j=_.margins||Object.assign({width:this.getPageWidth()},e),I=typeof _.padding=="number"?_.padding:3,ee=_.headerBackgroundColor||"#c8c8c8",U=_.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=te,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=ee,this.internal.__cell__.headerTextColor=U,this.setFontSize(te),y==null)R=C=Object.keys(p[0]),D=C.map(function(){return"left"});else if(Array.isArray(y)&&rr(y[0])==="object")for(C=y.map(function(be){return be.name}),R=y.map(function(be){return be.prompt||be.name||""}),D=y.map(function(be){return be.align||"left"}),v=0;v<y.length;v+=1)F[y[v].name]=.7499990551181103*y[v].width;else Array.isArray(y)&&typeof y[0]=="string"&&(R=C=y,D=C.map(function(){return"left"}));if(E||Array.isArray(y)&&typeof y[0]=="string")for(v=0;v<C.length;v+=1){for(V[k=C[v]]=p.map(function(be){return be[k]}),this.setFont(void 0,"bold"),Y.push(this.getTextDimensions(R[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=V[k],this.setFont(void 0,"normal"),N=0;N<A.length;N+=1)Y.push(this.getTextDimensions(A[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[k]=Math.max.apply(null,Y)+I+I,Y=[]}if(B){var oe={};for(v=0;v<C.length;v+=1)oe[C[v]]={},oe[C[v]].text=R[v],oe[C[v]].align=D[v];var $=c.call(this,oe,F);H=C.map(function(be){return new o(f,d,F[be],$,oe[be].text,void 0,oe[be].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var ne=y.reduce(function(be,G){return be[G.name]=G.align,be},{});for(v=0;v<p.length;v+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:v,data:p[v]},this);var le=c.call(this,p[v],F);for(N=0;N<C.length;N+=1){var fe=p[v][C[N]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:v,col:N,data:fe},this),u.call(this,new o(f,d,F[C[N]],le,fe,v+2,ne[C[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var p=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(f).map(function(v){var A=f[v];return this.splitTextToSize(A.hasOwnProperty("text")?A.text:A,d[v]-p-p)},this).map(function(v){return this.getLineHeightFactor()*v.length*y/_+p+p},this).reduce(function(v,A){return Math.max(v,A)},0)};n.setTableHeaderRow=function(f){s.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){p=this.internal.__cell__.tableHeaderRow[v].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,_.push(p)),p.lineNumber=f;var A=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,p),this.setTextColor(A)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),t=!1}})(Bt.API);var g4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},b4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Tg=m4(b4),v4=[100,200,300,400,500,600,700,800,900],GM=m4(v4);function Pm(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return g4[o=o||"normal"]?o:"normal"})(n.style),s=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),a=(function(o){return typeof Tg[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:s,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,s].join(" ")}}}function rx(n,e,t,s){var a;for(a=t;a>=0&&a<e.length;a+=s)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=s)if(n[e[a]])return n[e[a]]}var YM={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},sx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ix(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function ax(n){return n.trimLeft()}function $M(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function XM(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var F1,ox,lx,bh,B1,cx,ux,hx,qm=["times"];function fx(n,e,t,s,a){var o=4,u=px;switch(a){case Bt.API.image_compression.FAST:o=1,u=dx;break;case Bt.API.image_compression.MEDIUM:o=6,u=mx;break;case Bt.API.image_compression.SLOW:o=9,u=gx}n=(function(f,d,p,y){for(var _,v=f.length/d,A=new Uint8Array(f.length+v),N=[ZM,dx,px,mx,gx],k=0;k<v;k+=1){var C=k*d,R=f.subarray(C,C+d);if(y)A.set(y(R,p,_),C+k);else{for(var D=N.length,V=[],F=0;F<D;F+=1)V[F]=N[F](R,p,_);var Y=QM(V.concat());A.set(V[Y],C+k)}_=R}return A})(n,e,Math.ceil(t*s/8),u);var c=yg(n,{level:o});return Bt.API.__addimage__.arrayBufferToBinaryString(c)}function ZM(n){var e=Array.apply([],n);return e.unshift(0),e}function dx(n,e){var t=n.length,s=[];s[0]=1;for(var a=0;a<t;a+=1){var o=n[a-e]||0;s[a+1]=n[a]-o+256&255}return s}function px(n,e,t){var s=n.length,a=[];a[0]=2;for(var o=0;o<s;o+=1){var u=t&&t[o]||0;a[o+1]=n[o]-u+256&255}return a}function mx(n,e,t){var s=n.length,a=[];a[0]=3;for(var o=0;o<s;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;a[o+1]=n[o]+256-(u+c>>>1)&255}return a}function gx(n,e,t){var s=n.length,a=[];a[0]=4;for(var o=0;o<s;o+=1){var u=KM(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=n[o]-u+256&255}return a}function KM(n,e,t){if(n===e&&e===t)return n;var s=Math.abs(e-t),a=Math.abs(n-t),o=Math.abs(n+e-t-t);return s<=a&&s<=o?n:a<=o?e:t}function QM(n){var e=n.map(function(t){return t.reduce(function(s,a){return s+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Um(n,e,t){var s=e*t,a=Math.floor(s/8),o=16-(s-8*a+t),u=(1<<t)-1;return y4(n,a)>>o&u}function bx(n,e,t,s){var a=t*s,o=Math.floor(a/8),u=16-(a-8*o+s),c=(1<<s)-1,f=(e&c)<<u;(function(d,p,y){if(p+1<d.byteLength)d.setUint16(p,y,!1);else{var _=y>>8&255;d.setUint8(p,_)}})(n,o,y4(n,o)&~(c<<u)&65535|f)}function y4(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function JM(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,s=n[e++]|n[e++]<<8,a=n[e++],o=a>>7,u=1<<1+(7&a);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,p=[],y=0,_=null,v=0,A=null;for(this.width=t,this.height=s;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,A=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=n[e++];y=n[e++]|n[e++]<<8,_=n[e++],1&N||(_=null),v=N>>2&7,e++;break;case 254:for(;;){if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var k=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,R=n[e++]|n[e++]<<8,D=n[e++]|n[e++]<<8,V=n[e++],F=V>>6&1,Y=1<<1+(7&V),H=c,E=f,B=!1;V>>7&&(B=!0,H=e,E=Y,e+=3*Y);var te=e;for(e++;;){var j;if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}p.push({x:k,y:C,width:R,height:D,has_local_palette:B,palette_offset:H,palette_size:E,data_offset:te,data_length:e-te,transparent_index:_,interlaced:!!F,delay:y,disposal:v});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return A},this.frameInfo=function(I){if(I<0||I>=p.length)throw new Error("Frame index out of range.");return p[I]},this.decodeAndBlitFrameBGRA=function(I,ee){var U=this.frameInfo(I),oe=U.width*U.height,$=new Uint8Array(oe);vx(n,U.data_offset,$,oe);var ne=U.palette_offset,le=U.transparent_index;le===null&&(le=256);var fe=U.width,be=t-fe,G=fe,L=4*(U.y*t+U.x),X=4*((U.y+U.height)*t+U.x),W=L,Q=4*be;U.interlaced===!0&&(Q+=4*t*7);for(var se=8,pe=0,de=$.length;pe<de;++pe){var xe=$[pe];if(G===0&&(G=fe,(W+=Q)>=X&&(Q=4*be+4*t*(se-1),W=L+(fe+be)*(se<<1),se>>=1)),xe===le)W+=4;else{var we=n[ne+3*xe],Fe=n[ne+3*xe+1],Ye=n[ne+3*xe+2];ee[W++]=Ye,ee[W++]=Fe,ee[W++]=we,ee[W++]=255}--G}},this.decodeAndBlitFrameRGBA=function(I,ee){var U=this.frameInfo(I),oe=U.width*U.height,$=new Uint8Array(oe);vx(n,U.data_offset,$,oe);var ne=U.palette_offset,le=U.transparent_index;le===null&&(le=256);var fe=U.width,be=t-fe,G=fe,L=4*(U.y*t+U.x),X=4*((U.y+U.height)*t+U.x),W=L,Q=4*be;U.interlaced===!0&&(Q+=4*t*7);for(var se=8,pe=0,de=$.length;pe<de;++pe){var xe=$[pe];if(G===0&&(G=fe,(W+=Q)>=X&&(Q=4*be+4*t*(se-1),W=L+(fe+be)*(se<<1),se>>=1)),xe===le)W+=4;else{var we=n[ne+3*xe],Fe=n[ne+3*xe+1],Ye=n[ne+3*xe+2];ee[W++]=we,ee[W++]=Fe,ee[W++]=Ye,ee[W++]=255}--G}}}function vx(n,e,t,s){for(var a=n[e++],o=1<<a,u=o+1,c=u+1,f=a+1,d=(1<<f)-1,p=0,y=0,_=0,v=n[e++],A=new Int32Array(4096),N=null;;){for(;p<16&&v!==0;)y|=n[e++]<<p,p+=8,v===1?v=n[e++]:--v;if(p<f)break;var k=y&d;if(y>>=f,p-=f,k!==o){if(k===u)break;for(var C=k<c?k:N,R=0,D=C;D>o;)D=A[D]>>8,++R;var V=D;if(_+R+(C!==k?1:0)>s)return void gr.log("Warning, gif stream longer than expected.");t[_++]=V;var F=_+=R;for(C!==k&&(t[_++]=V),D=C;R--;)D=A[D],t[--F]=255&D,D>>=8;N!==null&&c<4096&&(A[c++]=N<<8|V,c>=d+1&&f<12&&(++f,d=d<<1|1)),N=k}else c=u+1,d=(1<<(f=a+1))-1,N=null}return _!==s&&gr.log("Warning, gif stream shorter than expected."),t}function Hm(n){var e,t,s,a,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),p=new Array(64),y=new Array(65535),_=new Array(65535),v=new Array(64),A=new Array(64),N=[],k=0,C=7,R=new Array(64),D=new Array(64),V=new Array(64),F=new Array(256),Y=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(L,X){for(var W=0,Q=0,se=new Array,pe=1;pe<=16;pe++){for(var de=1;de<=L[pe];de++)se[X[Q]]=[],se[X[Q]][0]=W,se[X[Q]][1]=pe,Q++,W++;W*=2}return se}function ne(L){for(var X=L[0],W=L[1]-1;W>=0;)X&1<<W&&(k|=1<<C),W--,--C<0&&(k==255?(le(255),le(0)):le(k),C=7,k=0)}function le(L){N.push(L)}function fe(L){le(L>>8&255),le(255&L)}function be(L,X,W,Q,se){for(var pe,de=se[0],xe=se[240],we=(function(je,et){var Ue,ct,at,ze,it,rt,ut,vt,dt,yt,ht=0;for(dt=0;dt<8;++dt){Ue=je[ht],ct=je[ht+1],at=je[ht+2],ze=je[ht+3],it=je[ht+4],rt=je[ht+5],ut=je[ht+6];var wn=Ue+(vt=je[ht+7]),Zt=Ue-vt,Nt=ct+ut,wt=ct-ut,Tt=at+rt,gt=at-rt,rn=ze+it,It=ze-it,Vt=wn+rn,ln=wn-rn,bt=Nt+Tt,_e=Nt-Tt;je[ht]=Vt+bt,je[ht+4]=Vt-bt;var st=.707106781*(_e+ln);je[ht+2]=ln+st,je[ht+6]=ln-st;var Ft=.382683433*((Vt=It+gt)-(_e=wt+Zt)),zt=.5411961*Vt+Ft,An=1.306562965*_e+Ft,Oe=.707106781*(bt=gt+wt),$e=Zt+Oe,ft=Zt-Oe;je[ht+5]=ft+zt,je[ht+3]=ft-zt,je[ht+1]=$e+An,je[ht+7]=$e-An,ht+=8}for(ht=0,dt=0;dt<8;++dt){Ue=je[ht],ct=je[ht+8],at=je[ht+16],ze=je[ht+24],it=je[ht+32],rt=je[ht+40],ut=je[ht+48];var Et=Ue+(vt=je[ht+56]),Rt=Ue-vt,cn=ct+ut,Wt=ct-ut,un=at+rt,hn=at-rt,Qn=ze+it,Hn=ze-it,_n=Et+Qn,Jt=Et-Qn,Wn=cn+un,Er=cn-un;je[ht]=_n+Wn,je[ht+32]=_n-Wn;var us=.707106781*(Er+Jt);je[ht+16]=Jt+us,je[ht+48]=Jt-us;var Ee=.382683433*((_n=Hn+hn)-(Er=Wt+Rt)),Ie=.5411961*_n+Ee,Xe=1.306562965*Er+Ee,xt=.707106781*(Wn=hn+Wt),mt=Rt+xt,At=Rt-xt;je[ht+40]=At+Ie,je[ht+24]=At-Ie,je[ht+8]=mt+Xe,je[ht+56]=mt-Xe,ht++}for(dt=0;dt<64;++dt)yt=je[dt]*et[dt],v[dt]=yt>0?yt+.5|0:yt-.5|0;return v})(L,X),Fe=0;Fe<64;++Fe)A[H[Fe]]=we[Fe];var Ye=A[0]-W;W=A[0],Ye==0?ne(Q[0]):(ne(Q[_[pe=32767+Ye]]),ne(y[pe]));for(var Ze=63;Ze>0&&A[Ze]==0;)Ze--;if(Ze==0)return ne(de),W;for(var lt,z=1;z<=Ze;){for(var Ne=z;A[z]==0&&z<=Ze;)++z;var nt=z-Ne;if(nt>=16){lt=nt>>4;for(var Be=1;Be<=lt;++Be)ne(xe);nt&=15}pe=32767+A[z],ne(se[(nt<<4)+_[pe]]),ne(y[pe]),z++}return Ze!=63&&ne(de),W}function G(L){L=Math.min(Math.max(L,1),100),o!=L&&((function(X){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var se=u((W[Q]*X+50)/100);se=Math.min(Math.max(se,1),255),c[H[Q]]=se}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var xe=u((pe[de]*X+50)/100);xe=Math.min(Math.max(xe,1),255),f[H[de]]=xe}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,Ye=0;Ye<8;Ye++)for(var Ze=0;Ze<8;Ze++)d[Fe]=1/(c[H[Fe]]*we[Ye]*we[Ze]*8),p[Fe]=1/(f[H[Fe]]*we[Ye]*we[Ze]*8),Fe++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,X){X&&G(X),N=new Array,k=0,C=7,fe(65496),fe(65504),fe(16),le(74),le(70),le(73),le(70),le(0),le(1),le(1),le(0),fe(1),fe(1),le(0),le(0),(function(){fe(65499),fe(132),le(0);for(var ct=0;ct<64;ct++)le(c[ct]);le(1);for(var at=0;at<64;at++)le(f[at])})(),(function(ct,at){fe(65472),fe(17),le(8),fe(at),fe(ct),le(3),le(1),le(17),le(0),le(2),le(17),le(1),le(3),le(17),le(1)})(L.width,L.height),(function(){fe(65476),fe(418),le(0);for(var ct=0;ct<16;ct++)le(E[ct+1]);for(var at=0;at<=11;at++)le(B[at]);le(16);for(var ze=0;ze<16;ze++)le(te[ze+1]);for(var it=0;it<=161;it++)le(j[it]);le(1);for(var rt=0;rt<16;rt++)le(I[rt+1]);for(var ut=0;ut<=11;ut++)le(ee[ut]);le(17);for(var vt=0;vt<16;vt++)le(U[vt+1]);for(var dt=0;dt<=161;dt++)le(oe[dt])})(),fe(65498),fe(12),le(3),le(1),le(0),le(2),le(17),le(3),le(17),le(0),le(63),le(0);var W=0,Q=0,se=0;k=0,C=7,this.encode.displayName="_encode_";for(var pe,de,xe,we,Fe,Ye,Ze,lt,z,Ne=L.data,nt=L.width,Be=L.height,je=4*nt,et=0;et<Be;){for(pe=0;pe<je;){for(Fe=je*et+pe,Ze=-1,lt=0,z=0;z<64;z++)Ye=Fe+(lt=z>>3)*je+(Ze=4*(7&z)),et+lt>=Be&&(Ye-=je*(et+1+lt-Be)),pe+Ze>=je&&(Ye-=pe+Ze-je+4),de=Ne[Ye++],xe=Ne[Ye++],we=Ne[Ye++],R[z]=(Y[de]+Y[xe+256|0]+Y[we+512|0]>>16)-128,D[z]=(Y[de+768|0]+Y[xe+1024|0]+Y[we+1280|0]>>16)-128,V[z]=(Y[de+1280|0]+Y[xe+1536|0]+Y[we+1792|0]>>16)-128;W=be(R,d,W,e,s),Q=be(D,p,Q,t,a),se=be(V,p,se,t,a),pe+=32}et+=8}if(C>=0){var Ue=[];Ue[1]=C+1,Ue[0]=(1<<C+1)-1,ne(Ue)}return fe(65497),new Uint8Array(N)},n=n||50,(function(){for(var L=String.fromCharCode,X=0;X<256;X++)F[X]=L(X)})(),e=$(E,B),t=$(I,ee),s=$(te,j),a=$(U,oe),(function(){for(var L=1,X=2,W=1;W<=15;W++){for(var Q=L;Q<X;Q++)_[32767+Q]=W,y[32767+Q]=[],y[32767+Q][1]=W,y[32767+Q][0]=Q;for(var se=-(X-1);se<=-L;se++)_[32767+se]=W,y[32767+se]=[],y[32767+se][1]=W,y[32767+se][0]=X-1+se;L<<=1,X<<=1}})(),(function(){for(var L=0;L<256;L++)Y[L]=19595*L,Y[L+256|0]=38470*L,Y[L+512|0]=7471*L+32768,Y[L+768|0]=-11059*L,Y[L+1024|0]=-21709*L,Y[L+1280|0]=32768*L+8421375,Y[L+1536|0]=-27439*L,Y[L+1792|0]=-5329*L})(),G(n)}function io(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yx(n){function e(B){if(!B)throw Error("assert :P")}function t(B,te,j){for(var I=0;4>I;I++)if(B[te+I]!=j.charCodeAt(I))return!0;return!1}function s(B,te,j,I,ee){for(var U=0;U<ee;U++)B[te+U]=j[I+U]}function a(B,te,j,I){for(var ee=0;ee<I;ee++)B[te+ee]=j}function o(B){return new Int32Array(B)}function u(B,te){for(var j=[],I=0;I<B;I++)j.push(new te);return j}function c(B,te){var j=[];return(function I(ee,U,oe){for(var $=oe[U],ne=0;ne<$&&(ee.push(oe.length>U+1?[]:new te),!(oe.length<U+1));ne++)I(ee[ne],U+1,oe)})(j,0,B),j}var f=function(){var B=this;function te(m,x){for(var T=1<<x-1>>>0;m&T;)T>>>=1;return T?(m&T-1)+T:m}function j(m,x,T,M,q){e(!(M%T));do m[x+(M-=T)]=q;while(0<M)}function I(m,x,T,M,q){if(e(2328>=q),512>=q)var Z=o(512);else if((Z=o(q))==null)return 0;return(function(K,ie,ae,ue,ve,Me){var ce,Se,Ce=ie,qe=1<<ae,ke=o(16),Pe=o(16);for(e(ve!=0),e(ue!=null),e(K!=null),e(0<ae),Se=0;Se<ve;++Se){if(15<ue[Se])return 0;++ke[ue[Se]]}if(ke[0]==ve)return 0;for(Pe[1]=0,ce=1;15>ce;++ce){if(ke[ce]>1<<ce)return 0;Pe[ce+1]=Pe[ce]+ke[ce]}for(Se=0;Se<ve;++Se)ce=ue[Se],0<ue[Se]&&(Me[Pe[ce]++]=Se);if(Pe[15]==1)return(ue=new ee).g=0,ue.value=Me[0],j(K,Ce,1,qe,ue),qe;var Ge,ot=-1,Je=qe-1,Mt=0,_t=1,tn=1,Ct=1<<ae;for(Se=0,ce=1,ve=2;ce<=ae;++ce,ve<<=1){if(_t+=tn<<=1,0>(tn-=ke[ce]))return 0;for(;0<ke[ce];--ke[ce])(ue=new ee).g=ce,ue.value=Me[Se++],j(K,Ce+Mt,ve,Ct,ue),Mt=te(Mt,ce)}for(ce=ae+1,ve=2;15>=ce;++ce,ve<<=1){if(_t+=tn<<=1,0>(tn-=ke[ce]))return 0;for(;0<ke[ce];--ke[ce]){if(ue=new ee,(Mt&Je)!=ot){for(Ce+=Ct,Ge=1<<(ot=ce)-ae;15>ot&&!(0>=(Ge-=ke[ot]));)++ot,Ge<<=1;qe+=Ct=1<<(Ge=ot-ae),K[ie+(ot=Mt&Je)].g=Ge+ae,K[ie+ot].value=Ce-ie-ot}ue.g=ce-ae,ue.value=Me[Se++],j(K,Ce+(Mt>>ae),ve,Ct,ue),Mt=te(Mt,ce)}}return _t!=2*Pe[15]-1?0:qe})(m,x,T,M,q,Z)}function ee(){this.value=this.g=0}function U(){this.value=this.g=0}function oe(){this.G=u(5,ee),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Ao,U)}function $(m,x,T,M){e(m!=null),e(x!=null),e(2147483648>M),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=T,m.Jd=x,m.Yc=T+M,m.Zc=4<=M?T+M-4+1:T,de(m)}function ne(m,x){for(var T=0;0<x--;)T|=we(m,128)<<x;return T}function le(m,x){var T=ne(m,x);return xe(m)?-T:T}function fe(m,x,T,M){var q,Z=0;for(e(m!=null),e(x!=null),e(4294967288>M),m.Sb=M,m.Ra=0,m.u=0,m.h=0,4<M&&(M=4),q=0;q<M;++q)Z+=x[T+q]<<8*q;m.Ra=Z,m.bb=M,m.oa=x,m.pa=T}function be(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<va-8>>>0,++m.bb,m.u-=8;Q(m)&&(m.h=1,m.u=0)}function G(m,x){if(e(0<=x),!m.h&&x<=Xs){var T=W(m)&si[x];return m.u+=x,be(m),T}return m.h=1,m.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(m){return m.Ra>>>(m.u&va-1)>>>0}function Q(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>va}function se(m,x){m.u=x,m.h=Q(m)}function pe(m){m.u>=ya&&(e(m.u>=ya),be(m))}function de(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function xe(m){return ne(m,1)}function we(m,x){var T=m.Ca;0>m.b&&de(m);var M=m.b,q=T*x>>>8,Z=(m.I>>>M>q)+0;for(Z?(T-=q,m.I-=q+1<<M>>>0):T=q+1,M=T,q=0;256<=M;)q+=8,M>>=8;return M=7^q+Ga[M],m.b-=M,m.Ca=(T<<M)-1,Z}function Fe(m,x,T){m[x+0]=T>>24&255,m[x+1]=T>>16&255,m[x+2]=T>>8&255,m[x+3]=255&T}function Ye(m,x){return m[x+0]|m[x+1]<<8}function Ze(m,x){return Ye(m,x)|m[x+2]<<16}function lt(m,x){return Ye(m,x)|Ye(m,x+2)<<16}function z(m,x){var T=1<<x;return e(m!=null),e(0<x),m.X=o(T),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function Ne(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),s(x.X,0,m.X,0,1<<x.Xa)}function nt(){this.X=[],this.Xa=this.Mb=0}function Be(m,x,T,M){e(T!=null),e(M!=null);var q=T[0],Z=M[0];return q==0&&(q=(m*Z+x/2)/x),Z==0&&(Z=(x*q+m/2)/m),0>=q||0>=Z?0:(T[0]=q,M[0]=Z,1)}function je(m,x){return m+(1<<x)-1>>>x}function et(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function Ue(m,x){B[x]=function(T,M,q,Z,K,ie,ae){var ue;for(ue=0;ue<K;++ue){var ve=B[m](ie[ae+ue-1],q,Z+ue);ie[ae+ue]=et(T[M+ue],ve)}}}function ct(){this.ud=this.hd=this.jd=0}function at(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function ze(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function it(m,x){return ze(m+(m-x+.5>>1))}function rt(m,x,T){return Math.abs(x-T)-Math.abs(m-T)}function ut(m,x,T,M,q,Z,K){for(M=Z[K-1],T=0;T<q;++T)Z[K+T]=M=et(m[x+T],M)}function vt(m,x,T,M,q){var Z;for(Z=0;Z<T;++Z){var K=m[x+Z],ie=K>>8&255,ae=16711935&(ae=(ae=16711935&K)+((ie<<16)+ie));M[q+Z]=(4278255360&K)+ae>>>0}}function dt(m,x){x.jd=255&m,x.hd=m>>8&255,x.ud=m>>16&255}function yt(m,x,T,M,q,Z){var K;for(K=0;K<M;++K){var ie=x[T+K],ae=ie>>>8,ue=ie,ve=255&(ve=(ve=ie>>>16)+((m.jd<<24>>24)*(ae<<24>>24)>>>5));ue=255&(ue=(ue+=(m.hd<<24>>24)*(ae<<24>>24)>>>5)+((m.ud<<24>>24)*(ve<<24>>24)>>>5)),q[Z+K]=(4278255360&ie)+(ve<<16)+ue}}function ht(m,x,T,M,q){B[x]=function(Z,K,ie,ae,ue,ve,Me,ce,Se){for(ae=Me;ae<ce;++ae)for(Me=0;Me<Se;++Me)ue[ve++]=q(ie[M(Z[K++])])},B[m]=function(Z,K,ie,ae,ue,ve,Me){var ce=8>>Z.b,Se=Z.Ea,Ce=Z.K[0],qe=Z.w;if(8>ce)for(Z=(1<<Z.b)-1,qe=(1<<ce)-1;K<ie;++K){var ke,Pe=0;for(ke=0;ke<Se;++ke)ke&Z||(Pe=M(ae[ue++])),ve[Me++]=q(Ce[Pe&qe]),Pe>>=ce}else B["VP8LMapColor"+T](ae,ue,Ce,qe,ve,Me,K,ie,Se)}}function wn(m,x,T,M,q){for(T=x+T;x<T;){var Z=m[x++];M[q++]=Z>>16&255,M[q++]=Z>>8&255,M[q++]=255&Z}}function Zt(m,x,T,M,q){for(T=x+T;x<T;){var Z=m[x++];M[q++]=Z>>16&255,M[q++]=Z>>8&255,M[q++]=255&Z,M[q++]=Z>>24&255}}function Nt(m,x,T,M,q){for(T=x+T;x<T;){var Z=(K=m[x++])>>16&240|K>>12&15,K=240&K|K>>28&15;M[q++]=Z,M[q++]=K}}function wt(m,x,T,M,q){for(T=x+T;x<T;){var Z=(K=m[x++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;M[q++]=Z,M[q++]=K}}function Tt(m,x,T,M,q){for(T=x+T;x<T;){var Z=m[x++];M[q++]=255&Z,M[q++]=Z>>8&255,M[q++]=Z>>16&255}}function gt(m,x,T,M,q,Z){if(Z==0)for(T=x+T;x<T;)Fe(M,((Z=m[x++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),q+=32;else s(M,q,m,x,T)}function rn(m,x){B[x][0]=B[m+"0"],B[x][1]=B[m+"1"],B[x][2]=B[m+"2"],B[x][3]=B[m+"3"],B[x][4]=B[m+"4"],B[x][5]=B[m+"5"],B[x][6]=B[m+"6"],B[x][7]=B[m+"7"],B[x][8]=B[m+"8"],B[x][9]=B[m+"9"],B[x][10]=B[m+"10"],B[x][11]=B[m+"11"],B[x][12]=B[m+"12"],B[x][13]=B[m+"13"],B[x][14]=B[m+"0"],B[x][15]=B[m+"0"]}function It(m){return m==Zc||m==zu||m==Xl||m==Pu}function Vt(){this.eb=[],this.size=this.A=this.fb=0}function ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Vt,this.f.kb=new ln,this.sd=null}function _e(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function st(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ft(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function zt(m,x){var T=m.T,M=x.ba.f.RGBA,q=M.eb,Z=M.fb+m.ka*M.A,K=ks[x.ba.S],ie=m.y,ae=m.O,ue=m.f,ve=m.N,Me=m.ea,ce=m.W,Se=x.cc,Ce=x.dc,qe=x.Mc,ke=x.Nc,Pe=m.ka,Ge=m.ka+m.T,ot=m.U,Je=ot+1>>1;for(Pe==0?K(ie,ae,null,null,ue,ve,Me,ce,ue,ve,Me,ce,q,Z,null,null,ot):(K(x.ec,x.fc,ie,ae,Se,Ce,qe,ke,ue,ve,Me,ce,q,Z-M.A,q,Z,ot),++T);Pe+2<Ge;Pe+=2)Se=ue,Ce=ve,qe=Me,ke=ce,ve+=m.Rc,ce+=m.Rc,Z+=2*M.A,K(ie,(ae+=2*m.fa)-m.fa,ie,ae,Se,Ce,qe,ke,ue,ve,Me,ce,q,Z-M.A,q,Z,ot);return ae+=m.fa,m.j+Ge<m.o?(s(x.ec,x.fc,ie,ae,ot),s(x.cc,x.dc,ue,ve,Je),s(x.Mc,x.Nc,Me,ce,Je),T--):1&Ge||K(ie,ae,null,null,ue,ve,Me,ce,ue,ve,Me,ce,q,Z+M.A,null,null,ot),T}function An(m,x,T){var M=m.F,q=[m.J];if(M!=null){var Z=m.U,K=x.ba.S,ie=K==Xc||K==Xl;x=x.ba.f.RGBA;var ae=[0],ue=m.ka;ae[0]=m.T,m.Kb&&(ue==0?--ae[0]:(--ue,q[0]-=m.width),m.j+m.ka+m.T==m.o&&(ae[0]=m.o-m.j-ue));var ve=x.eb;ue=x.fb+ue*x.A,m=Wc(M,q[0],m.width,Z,ae,ve,ue+(ie?0:3),x.A),e(T==ae),m&&It(K)&&al(ve,ue,ie,Z,ae,x.A)}return 0}function Oe(m){var x=m.ma,T=x.ba.S,M=11>T,q=T==Vs||T==Ci||T==Xc||T==$l||T==12||It(T);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Wa(x.Oa,m,q?11:12))return 0;if(q&&It(T)&&Pc(),m.da)alert("todo:use_scaling");else{if(M){if(x.Ib=Ft,m.Kb){if(T=m.U+1>>1,x.memory=o(m.U+2*T),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+T,x.Ib=zt,Pc()}}else alert("todo:EmitYUV");q&&(x.Jb=An,M&&Qi())}if(M&&!Lo){for(m=0;256>m;++m)js[m]=89858*(m-128)+Ql>>Oi,e0[m]=-22014*(m-128)+Ql,Id[m]=-45773*(m-128),Gu[m]=113618*(m-128)+Ql>>Oi;for(m=ul;m<Mo;++m)x=76283*(m-16)+Ql>>Oi,t0[m-ul]=zr(x,255),n0[m-ul]=zr(x+8>>4,15);Lo=1}return 1}function $e(m){var x=m.ma,T=m.U,M=m.T;return e(!(1&m.ka)),0>=T||0>=M?0:(T=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,T),x.Dc+=T,1)}function ft(m){m.ma.memory=null}function Et(m,x,T,M){return G(m,8)!=47?0:(x[0]=G(m,14)+1,T[0]=G(m,14)+1,M[0]=G(m,1),G(m,3)!=0?0:!m.h)}function Rt(m,x){if(4>m)return m+1;var T=m-2>>1;return(2+(1&m)<<T)+G(x,T)+1}function cn(m,x){return 120<x?x-120:1<=(T=((T=ji[x-1])>>4)*m+(8-(15&T)))?T:1;var T}function Wt(m,x,T){var M=W(T),q=m[x+=255&M].g-8;return 0<q&&(se(T,T.u+8),M=W(T),x+=m[x].value,x+=M&(1<<q)-1),se(T,T.u+m[x].g),m[x].value}function un(m,x,T){return T.g+=m.g,T.value+=m.value<<x>>>0,e(8>=T.g),m.g}function hn(m,x,T){var M=m.xc;return e((x=M==0?0:m.vc[m.md*(T>>M)+(x>>M)])<m.Wb),m.Ya[x]}function Qn(m,x,T,M){var q=m.ab,Z=m.c*x,K=m.C;x=K+x;var ie=T,ae=M;for(M=m.Ta,T=m.Ua;0<q--;){var ue=m.gc[q],ve=K,Me=x,ce=ie,Se=ae,Ce=(ae=M,ie=T,ue.Ea);switch(e(ve<Me),e(Me<=ue.nc),ue.hc){case 2:Ur(ce,Se,(Me-ve)*Ce,ae,ie);break;case 0:var qe=ve,ke=Me,Pe=ae,Ge=ie,ot=(Ct=ue).Ea;qe==0&&(Hl(ce,Se,null,null,1,Pe,Ge),ut(ce,Se+1,0,0,ot-1,Pe,Ge+1),Se+=ot,Ge+=ot,++qe);for(var Je=1<<Ct.b,Mt=Je-1,_t=je(ot,Ct.b),tn=Ct.K,Ct=Ct.w+(qe>>Ct.b)*_t;qe<ke;){var Cn=tn,pr=Ct,mn=1;for(Wl(ce,Se,Pe,Ge-ot,1,Pe,Ge);mn<ot;){var St=(mn&~Mt)+Je;St>ot&&(St=ot),(0,Ya[Cn[pr++]>>8&15])(ce,Se+ +mn,Pe,Ge+mn-ot,St-mn,Pe,Ge+mn),mn=St}Se+=ot,Ge+=ot,++qe&Mt||(Ct+=_t)}Me!=ue.nc&&s(ae,ie-Ce,ae,ie+(Me-ve-1)*Ce,Ce);break;case 1:for(Ce=ce,ke=Se,ot=(ce=ue.Ea)-(Ge=ce&~(Pe=(Se=1<<ue.b)-1)),qe=je(ce,ue.b),Je=ue.K,ue=ue.w+(ve>>ue.b)*qe;ve<Me;){for(Mt=Je,_t=ue,tn=new ct,Ct=ke+Ge,Cn=ke+ce;ke<Ct;)dt(Mt[_t++],tn),Gl(tn,Ce,ke,Se,ae,ie),ke+=Se,ie+=Se;ke<Cn&&(dt(Mt[_t++],tn),Gl(tn,Ce,ke,ot,ae,ie),ke+=ot,ie+=ot),++ve&Pe||(ue+=qe)}break;case 3:if(ce==ae&&Se==ie&&0<ue.b){for(ke=ae,ce=Ce=ie+(Me-ve)*Ce-(Ge=(Me-ve)*je(ue.Ea,ue.b)),Se=ae,Pe=ie,qe=[],Ge=(ot=Ge)-1;0<=Ge;--Ge)qe[Ge]=Se[Pe+Ge];for(Ge=ot-1;0<=Ge;--Ge)ke[ce+Ge]=qe[Ge];Ru(ue,ve,Me,ae,Ce,ae,ie)}else Ru(ue,ve,Me,ce,Se,ae,ie)}ie=M,ae=T}ae!=T&&s(M,T,ie,ae,Z)}function Hn(m,x){var T=m.V,M=m.Ba+m.c*m.C,q=x-m.C;if(e(x<=m.l.o),e(16>=q),0<q){var Z=m.l,K=m.Ta,ie=m.Ua,ae=Z.width;if(Qn(m,q,T,M),q=ie=[ie],e((T=m.C)<(M=x)),e(Z.v<Z.va),M>Z.o&&(M=Z.o),T<Z.j){var ue=Z.j-T;T=Z.j,q[0]+=ue*ae}if(T>=M?T=0:(q[0]+=4*Z.v,Z.ka=T-Z.j,Z.U=Z.va-Z.v,Z.T=M-T,T=1),T){if(ie=ie[0],11>(T=m.ca).S){var ve=T.f.RGBA,Me=(M=T.S,q=Z.U,Z=Z.T,ue=ve.eb,ve.A),ce=Z;for(ve=ve.fb+m.Ma*ve.A;0<ce--;){var Se=K,Ce=ie,qe=q,ke=ue,Pe=ve;switch(M){case Fu:Yl(Se,Ce,qe,ke,Pe);break;case Vs:$a(Se,Ce,qe,ke,Pe);break;case Zc:$a(Se,Ce,qe,ke,Pe),al(ke,Pe,0,qe,1,0);break;case Bu:sl(Se,Ce,qe,ke,Pe);break;case Ci:gt(Se,Ce,qe,ke,Pe,1);break;case zu:gt(Se,Ce,qe,ke,Pe,1),al(ke,Pe,0,qe,1,0);break;case Xc:gt(Se,Ce,qe,ke,Pe,0);break;case Xl:gt(Se,Ce,qe,ke,Pe,0),al(ke,Pe,1,qe,1,0);break;case $l:Xa(Se,Ce,qe,ke,Pe);break;case Pu:Xa(Se,Ce,qe,ke,Pe),Ti(ke,Pe,qe,1,0);break;case To:_a(Se,Ce,qe,ke,Pe);break;default:e(0)}ie+=ae,ve+=Me}m.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=T.height)}}m.C=x,e(m.C<=m.i)}function _n(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var T=m.Ya[x].G,M=m.Ya[x].H;if(0<T[1][M[1]+0].g||0<T[2][M[2]+0].g||0<T[3][M[3]+0].g)return 0}return 1}function Jt(m,x,T,M,q,Z){if(m.Z!=0){var K=m.qd,ie=m.rd;for(e(Qa[m.Z]!=null);x<T;++x)Qa[m.Z](K,ie,M,q,M,q,Z),K=M,ie=q,q+=Z;m.qd=K,m.rd=ie}}function Wn(m,x){var T=m.l.ma,M=T.Z==0||T.Z==1?m.l.j:m.C;if(M=m.C<M?M:m.C,e(x<=m.l.o),x>M){var q=m.l.width,Z=T.ca,K=T.tb+q*M,ie=m.V,ae=m.Ba+m.c*M,ue=m.gc;e(m.ab==1),e(ue[0].hc==3),wa(ue[0],M,x,ie,ae,Z,K),Jt(T,M,x,Z,K,q)}m.C=m.Ma=x}function Er(m,x,T,M,q,Z,K){var ie=m.$/M,ae=m.$%M,ue=m.m,ve=m.s,Me=T+m.$,ce=Me;q=T+M*q;var Se=T+M*Z,Ce=280+ve.ua,qe=m.Pb?ie:16777216,ke=0<ve.ua?ve.Wa:null,Pe=ve.wc,Ge=Me<Se?hn(ve,ae,ie):null;e(m.C<Z),e(Se<=q);var ot=!1;e:for(;;){for(;ot||Me<Se;){var Je=0;if(ie>=qe){var Mt=Me-T;e((qe=m).Pb),qe.wd=qe.m,qe.xd=Mt,0<qe.s.ua&&Ne(qe.s.Wa,qe.s.vb),qe=ie+Co}if(ae&Pe||(Ge=hn(ve,ae,ie)),e(Ge!=null),Ge.Qb&&(x[Me]=Ge.qb,ot=!0),!ot)if(pe(ue),Ge.jc){Je=ue,Mt=x;var _t=Me,tn=Ge.pd[W(Je)&Ao-1];e(Ge.jc),256>tn.g?(se(Je,Je.u+tn.g),Mt[_t]=tn.value,Je=0):(se(Je,Je.u+tn.g-256),e(256<=tn.value),Je=tn.value),Je==0&&(ot=!0)}else Je=Wt(Ge.G[0],Ge.H[0],ue);if(ue.h)break;if(ot||256>Je){if(!ot)if(Ge.nd)x[Me]=(Ge.qb|Je<<8)>>>0;else{if(pe(ue),ot=Wt(Ge.G[1],Ge.H[1],ue),pe(ue),Mt=Wt(Ge.G[2],Ge.H[2],ue),_t=Wt(Ge.G[3],Ge.H[3],ue),ue.h)break;x[Me]=(_t<<24|ot<<16|Je<<8|Mt)>>>0}if(ot=!1,++Me,++ae>=M&&(ae=0,++ie,K!=null&&ie<=Z&&!(ie%16)&&K(m,ie),ke!=null))for(;ce<Me;)Je=x[ce++],ke.X[(506832829*Je&4294967295)>>>ke.Mb]=Je}else if(280>Je){if(Je=Rt(Je-256,ue),Mt=Wt(Ge.G[4],Ge.H[4],ue),pe(ue),Mt=cn(M,Mt=Rt(Mt,ue)),ue.h)break;if(Me-T<Mt||q-Me<Je)break e;for(_t=0;_t<Je;++_t)x[Me+_t]=x[Me+_t-Mt];for(Me+=Je,ae+=Je;ae>=M;)ae-=M,++ie,K!=null&&ie<=Z&&!(ie%16)&&K(m,ie);if(e(Me<=q),ae&Pe&&(Ge=hn(ve,ae,ie)),ke!=null)for(;ce<Me;)Je=x[ce++],ke.X[(506832829*Je&4294967295)>>>ke.Mb]=Je}else{if(!(Je<Ce))break e;for(ot=Je-280,e(ke!=null);ce<Me;)Je=x[ce++],ke.X[(506832829*Je&4294967295)>>>ke.Mb]=Je;Je=Me,e(!(ot>>>(Mt=ke).Xa)),x[Je]=Mt.X[ot],ot=!0}ot||e(ue.h==Q(ue))}if(m.Pb&&ue.h&&Me<q)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Ne(m.s.vb,m.s.Wa);else{if(ue.h)break e;K?.(m,ie>Z?Z:ie),m.a=0,m.$=Me-T}return 1}return m.a=3,0}function us(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function Ee(){var m=new Kt;return m==null?null:(m.a=0,m.xb=of,rn("Predictor","VP8LPredictors"),rn("Predictor","VP8LPredictors_C"),rn("PredictorAdd","VP8LPredictorsAdd"),rn("PredictorAdd","VP8LPredictorsAdd_C"),Ur=vt,Gl=yt,Yl=wn,$a=Zt,Xa=Nt,_a=wt,sl=Tt,B.VP8LMapColor32b=xa,B.VP8LMapColor8b=As,m)}function Ie(m,x,T,M,q){var Z=1,K=[m],ie=[x],ae=M.m,ue=M.s,ve=null,Me=0;e:for(;;){if(T)for(;Z&&G(ae,1);){var ce=K,Se=ie,Ce=M,qe=1,ke=Ce.m,Pe=Ce.gc[Ce.ab],Ge=G(ke,2);if(Ce.Oc&1<<Ge)Z=0;else{switch(Ce.Oc|=1<<Ge,Pe.hc=Ge,Pe.Ea=ce[0],Pe.nc=Se[0],Pe.K=[null],++Ce.ab,e(4>=Ce.ab),Ge){case 0:case 1:Pe.b=G(ke,3)+2,qe=Ie(je(Pe.Ea,Pe.b),je(Pe.nc,Pe.b),0,Ce,Pe.K),Pe.K=Pe.K[0];break;case 3:var ot,Je=G(ke,8)+1,Mt=16<Je?0:4<Je?1:2<Je?2:3;if(ce[0]=je(Pe.Ea,Mt),Pe.b=Mt,ot=qe=Ie(Je,1,0,Ce,Pe.K)){var _t,tn=Je,Ct=Pe,Cn=1<<(8>>Ct.b),pr=o(Cn);if(pr==null)ot=0;else{var mn=Ct.K[0],St=Ct.w;for(pr[0]=Ct.K[0][0],_t=1;_t<1*tn;++_t)pr[_t]=et(mn[St+_t],pr[_t-1]);for(;_t<4*Cn;++_t)pr[_t]=0;Ct.K[0]=null,Ct.K[0]=pr,ot=1}}qe=ot;break;case 2:break;default:e(0)}Z=qe}}if(K=K[0],ie=ie[0],Z&&G(ae,1)&&!(Z=1<=(Me=G(ae,4))&&11>=Me)){M.a=3;break e}var pt;if(pt=Z)t:{var wr,Yt,vn,$n=M,ss=K,Es=ie,or=Me,Xr=T,Fs=$n.m,Zr=$n.s,Nn=[null],Bn=1,_r=0,Un=Ei[or];n:for(;;){if(Xr&&G(Fs,1)){var is=G(Fs,3)+2,Sr=je(ss,is),zn=je(Es,is),Gr=Sr*zn;if(!Ie(Sr,zn,0,$n,Nn))break n;for(Nn=Nn[0],Zr.xc=is,wr=0;wr<Gr;++wr){var Xn=Nn[wr]>>8&65535;Nn[wr]=Xn,Xn>=Bn&&(Bn=Xn+1)}}if(Fs.h)break n;for(Yt=0;5>Yt;++Yt){var Kr=ll[Yt];!Yt&&0<or&&(Kr+=1<<or),_r<Kr&&(_r=Kr)}var Qr=u(Bn*Un,ee),er=Bn,In=u(er,oe);if(In==null)var Bs=null;else e(65536>=er),Bs=In;var Dr=o(_r);if(Bs==null||Dr==null||Qr==null){$n.a=1;break n}var Pt=Qr;for(wr=vn=0;wr<Bn;++wr){var qt=Bs[wr],Pn=qt.G,ii=qt.H,Di=0,Ks=1,Jr=0;for(Yt=0;5>Yt;++Yt){Kr=ll[Yt],Pn[Yt]=Pt,ii[Yt]=vn,!Yt&&0<or&&(Kr+=1<<or);s:{var Oo,Do=Kr,$u=$n,lr=Dr,cf=Pt,uf=vn,Xu=0,Ja=$u.m,r0=G(Ja,1);if(a(lr,0,0,Do),r0){var hf=G(Ja,1)+1,ff=G(Ja,1),Zu=G(Ja,ff==0?1:8);lr[Zu]=1,hf==2&&(lr[Zu=G(Ja,8)]=1);var ps=1}else{var Rr=o(19),eu=G(Ja,4)+4;if(19<eu){$u.a=3;var Ro=0;break s}for(Oo=0;Oo<eu;++Oo)Rr[Kc[Oo]]=G(Ja,3);var ec=void 0,hl=void 0,Aa=$u,Ku=Rr,tc=Do,Qu=lr,Ju=0,eo=Aa.m,df=8,pf=u(128,ee);r:for(;I(pf,0,7,Ku,19);){if(G(eo,1)){var Vd=2+2*G(eo,3);if((ec=2+G(eo,Vd))>tc)break r}else ec=tc;for(hl=0;hl<tc&&ec--;){pe(eo);var mf=pf[0+(127&W(eo))];se(eo,eo.u+mf.g);var Io=mf.value;if(16>Io)Qu[hl++]=Io,Io!=0&&(df=Io);else{var Fd=Io==16,Bd=Io-16,zd=Zl[Bd],gf=G(eo,ki[Bd])+zd;if(hl+gf>tc)break r;for(var Pd=Fd?df:0;0<gf--;)Qu[hl++]=Pd}}Ju=1;break r}Ju||(Aa.a=3),ps=Ju}(ps=ps&&!Ja.h)&&(Xu=I(cf,uf,8,lr,Do)),ps&&Xu!=0?Ro=Xu:($u.a=3,Ro=0)}if(Ro==0)break n;if(Ks&&qu[Yt]==1&&(Ks=Pt[vn].g==0),Di+=Pt[vn].g,vn+=Ro,3>=Yt){var fl,eh=Dr[0];for(fl=1;fl<Kr;++fl)Dr[fl]>eh&&(eh=Dr[fl]);Jr+=eh}}if(qt.nd=Ks,qt.Qb=0,Ks&&(qt.qb=(Pn[3][ii[3]+0].value<<24|Pn[1][ii[1]+0].value<<16|Pn[2][ii[2]+0].value)>>>0,Di==0&&256>Pn[0][ii[0]+0].value&&(qt.Qb=1,qt.qb+=Pn[0][ii[0]+0].value<<8)),qt.jc=!qt.Qb&&6>Jr,qt.jc){var tu,Ta=qt;for(tu=0;tu<Ao;++tu){var to=tu,no=Ta.pd[to],th=Ta.G[0][Ta.H[0]+to];256<=th.value?(no.g=th.g+256,no.value=th.value):(no.g=0,no.value=0,to>>=un(th,8,no),to>>=un(Ta.G[1][Ta.H[1]+to],16,no),to>>=un(Ta.G[2][Ta.H[2]+to],0,no),un(Ta.G[3][Ta.H[3]+to],24,no))}}}Zr.vc=Nn,Zr.Wb=Bn,Zr.Ya=Bs,Zr.yc=Qr,pt=1;break t}pt=0}if(!(Z=pt)){M.a=3;break e}if(0<Me){if(ue.ua=1<<Me,!z(ue.Wa,Me)){M.a=1,Z=0;break e}}else ue.ua=0;var nh=M,dl=K,qd=ie,nc=nh.s,rc=nc.xc;if(nh.c=dl,nh.i=qd,nc.md=je(dl,rc),nc.wc=rc==0?-1:(1<<rc)-1,T){M.xb=ko;break e}if((ve=o(K*ie))==null){M.a=1,Z=0;break e}Z=(Z=Er(M,ve,0,K,ie,ie,null))&&!ae.h;break e}return Z?(q!=null?q[0]=ve:(e(ve==null),e(T)),M.$=0,T||us(ue)):us(ue),Z}function Xe(m,x){var T=m.c*m.i,M=T+x+16*x;return e(m.c<=x),m.V=o(M),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+T+x,1)}function xt(m,x){var T=m.C,M=x-T,q=m.V,Z=m.Ba+m.c*T;for(e(x<=m.l.o);0<M;){var K=16<M?16:M,ie=m.l.ma,ae=m.l.width,ue=ae*K,ve=ie.ca,Me=ie.tb+ae*T,ce=m.Ta,Se=m.Ua;Qn(m,K,q,Z),bi(ce,Se,ve,Me,ue),Jt(ie,T,T+K,ve,Me,ae),M-=K,q+=K*m.c,T+=K}e(T==x),m.C=m.Ma=x}function mt(){this.ub=this.yd=this.td=this.Rb=0}function At(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function fn(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function sn(){this.Yb=(function(){var m=[];return(function x(T,M,q){for(var Z=q[M],K=0;K<Z&&(T.push(q.length>M+1?[]:0),!(q.length<M+1));K++)x(T[K],M+1,q)})(m,0,[3,11]),m})()}function en(){this.jb=o(3),this.Wc=c([4,8],sn),this.Xc=c([4,17],sn)}function yn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Fn(){this.ld=this.La=this.dd=this.tc=0}function Tn(){this.Na=this.la=0}function sr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Yr(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Mr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fn),this.Y=0,this.ya=Array(new Yr),this.aa=0,this.l=new ni}function _s(){this.y=o(16),this.f=o(8),this.ea=o(8)}function $i(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new mt,this.Kc=new At,this.ed=new yn,this.Qa=new fn,this.Ic=this.$c=this.Aa=0,this.D=new Mr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,L),this.ia=0,this.pb=u(4,sr),this.Pa=new en,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _s),this.Hd=0,this.rb=Array(new Tn),this.sb=0,this.wa=Array(new Fn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Yr),this.L=this.aa=0,this.gd=c([4,2],Fn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zr(m,x){return 0>m?0:m>x?x:m}function ni(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gs(){var m=new $i;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,vi||(vi=_i)),m}function Sn(m,x,T){return m.a==0&&(m.a=x,m.sc=T,m.cb=0),0}function Xi(m,x,T){return 3<=T&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function Ds(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return Sn(m,2,"null VP8Io passed to VP8GetHeaders()");var T=x.data,M=x.w,q=x.ha;if(4>q)return Sn(m,7,"Truncated header.");var Z=T[M+0]|T[M+1]<<8|T[M+2]<<16,K=m.Od;if(K.Rb=!(1&Z),K.td=Z>>1&7,K.yd=Z>>4&1,K.ub=Z>>5,3<K.td)return Sn(m,3,"Incorrect keyframe parameters.");if(!K.yd)return Sn(m,4,"Frame not displayable.");M+=3,q-=3;var ie=m.Kc;if(K.Rb){if(7>q)return Sn(m,7,"cannot parse picture header");if(!Xi(T,M,q))return Sn(m,3,"Bad code word");ie.c=16383&(T[M+4]<<8|T[M+3]),ie.Td=T[M+4]>>6,ie.i=16383&(T[M+6]<<8|T[M+5]),ie.Ud=T[M+6]>>6,M+=7,q-=7,m.za=ie.c+15>>4,m.Ub=ie.i+15>>4,x.width=ie.c,x.height=ie.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,a((Z=m.Pa).jb,0,255,Z.jb.length),e((Z=m.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,a(Z.Zb,0,0,Z.Zb.length),a(Z.Lb,0,0,Z.Lb)}if(K.ub>q)return Sn(m,7,"bad partition length");$(Z=m.m,T,M,K.ub),M+=K.ub,q-=K.ub,K.Rb&&(ie.Ld=xe(Z),ie.Kd=xe(Z)),ie=m.Qa;var ae,ue=m.Pa;if(e(Z!=null),e(ie!=null),ie.Cb=xe(Z),ie.Cb){if(ie.Bb=xe(Z),xe(Z)){for(ie.Fb=xe(Z),ae=0;4>ae;++ae)ie.Zb[ae]=xe(Z)?le(Z,7):0;for(ae=0;4>ae;++ae)ie.Lb[ae]=xe(Z)?le(Z,6):0}if(ie.Bb)for(ae=0;3>ae;++ae)ue.jb[ae]=xe(Z)?ne(Z,8):255}else ie.Bb=0;if(Z.Ka)return Sn(m,3,"cannot parse segment header");if((ie=m.ed).zd=xe(Z),ie.Tb=ne(Z,6),ie.wb=ne(Z,3),ie.Pc=xe(Z),ie.Pc&&xe(Z)){for(ue=0;4>ue;++ue)xe(Z)&&(ie.vd[ue]=le(Z,6));for(ue=0;4>ue;++ue)xe(Z)&&(ie.od[ue]=le(Z,6))}if(m.L=ie.Tb==0?0:ie.zd?1:2,Z.Ka)return Sn(m,3,"cannot parse filter header");var ve=q;if(q=ae=M,M=ae+ve,ie=ve,m.Xb=(1<<ne(m.m,2))-1,ve<3*(ue=m.Xb))T=7;else{for(ae+=3*ue,ie-=3*ue,ve=0;ve<ue;++ve){var Me=T[q+0]|T[q+1]<<8|T[q+2]<<16;Me>ie&&(Me=ie),$(m.Jc[+ve],T,ae,Me),ae+=Me,ie-=Me,q+=3}$(m.Jc[+ue],T,ae,ie),T=ae<M?0:5}if(T!=0)return Sn(m,T,"cannot parse partitions");for(T=ne(ae=m.m,7),q=xe(ae)?le(ae,4):0,M=xe(ae)?le(ae,4):0,ie=xe(ae)?le(ae,4):0,ue=xe(ae)?le(ae,4):0,ae=xe(ae)?le(ae,4):0,ve=m.Qa,Me=0;4>Me;++Me){if(ve.Cb){var ce=ve.Zb[Me];ve.Fb||(ce+=T)}else{if(0<Me){m.pb[Me]=m.pb[0];continue}ce=T}var Se=m.pb[Me];Se.Sc[0]=Mi[zr(ce+q,127)],Se.Sc[1]=Li[zr(ce+0,127)],Se.Eb[0]=2*Mi[zr(ce+M,127)],Se.Eb[1]=101581*Li[zr(ce+ie,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=Mi[zr(ce+ue,117)],Se.Qc[1]=Li[zr(ce+ae,127)],Se.lc=ce+ae}if(!K.Rb)return Sn(m,4,"Not a key frame.");for(xe(Z),K=m.Pa,T=0;4>T;++T){for(q=0;8>q;++q)for(M=0;3>M;++M)for(ie=0;11>ie;++ie)ue=we(Z,dr[T][q][M][ie])?ne(Z,8):Rd[T][q][M][ie],K.Wc[T][q].Yb[M][ie]=ue;for(q=0;17>q;++q)K.Xc[T][q]=K.Wc[T][kn[q]]}return m.kc=xe(Z),m.kc&&(m.Bd=ne(Z,8)),m.cb=1}function _i(m,x,T,M,q,Z,K){var ie=x[q].Yb[T];for(T=0;16>q;++q){if(!we(m,ie[T+0]))return q;for(;!we(m,ie[T+1]);)if(ie=x[++q].Yb[0],T=0,q==16)return 16;var ae=x[q+1].Yb;if(we(m,ie[T+2])){var ue=m,ve=0;if(we(ue,(ce=ie)[(Me=T)+3]))if(we(ue,ce[Me+6])){for(ie=0,Me=2*(ve=we(ue,ce[Me+8]))+(ce=we(ue,ce[Me+9+ve])),ve=0,ce=Dd[Me];ce[ie];++ie)ve+=ve+we(ue,ce[ie]);ve+=3+(8<<Me)}else we(ue,ce[Me+7])?(ve=7+2*we(ue,165),ve+=we(ue,145)):ve=5+we(ue,159);else ve=we(ue,ce[Me+4])?3+we(ue,ce[Me+5]):2;ie=ae[2]}else ve=1,ie=ae[1];ae=K+af[q],0>(ue=m).b&&de(ue);var Me,ce=ue.b,Se=(Me=ue.Ca>>1)-(ue.I>>ce)>>31;--ue.b,ue.Ca+=Se,ue.Ca|=1,ue.I-=(Me+1&Se)<<ce,Z[ae]=((ve^Se)-Se)*M[(0<q)+0]}return 16}function xo(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,a(m.zc,0,0,m.zc.length),m.ja=0}function hs(m,x,T,M,q){q=m[x+T+32*M]+(q>>3),m[x+T+32*M]=-256&q?0>q?0:255:q}function Pr(m,x,T,M,q,Z){hs(m,x,0,T,M+q),hs(m,x,1,T,M+Z),hs(m,x,2,T,M-Z),hs(m,x,3,T,M-q)}function Lr(m){return(20091*m>>16)+m}function wo(m,x,T,M){var q,Z=0,K=o(16);for(q=0;4>q;++q){var ie=m[x+0]+m[x+8],ae=m[x+0]-m[x+8],ue=(35468*m[x+4]>>16)-Lr(m[x+12]),ve=Lr(m[x+4])+(35468*m[x+12]>>16);K[Z+0]=ie+ve,K[Z+1]=ae+ue,K[Z+2]=ae-ue,K[Z+3]=ie-ve,Z+=4,x++}for(q=Z=0;4>q;++q)ie=(m=K[Z+0]+4)+K[Z+8],ae=m-K[Z+8],ue=(35468*K[Z+4]>>16)-Lr(K[Z+12]),hs(T,M,0,0,ie+(ve=Lr(K[Z+4])+(35468*K[Z+12]>>16))),hs(T,M,1,0,ae+ue),hs(T,M,2,0,ae-ue),hs(T,M,3,0,ie-ve),Z++,M+=32}function Vl(m,x,T,M){var q=m[x+0]+4,Z=35468*m[x+4]>>16,K=Lr(m[x+4]),ie=35468*m[x+1]>>16;Pr(T,M,0,q+K,m=Lr(m[x+1]),ie),Pr(T,M,1,q+Z,m,ie),Pr(T,M,2,q-Z,m,ie),Pr(T,M,3,q-K,m,ie)}function Zo(m,x,T,M,q){wo(m,x,T,M),q&&wo(m,x+16,T,M+4)}function Ys(m,x,T,M){Za(m,x+0,T,M,1),Za(m,x+32,T,M+128,1)}function Dc(m,x,T,M){var q;for(m=m[x+0]+4,q=0;4>q;++q)for(x=0;4>x;++x)hs(T,M,x,q,m)}function Rc(m,x,T,M){m[x+0]&&qn(m,x+0,T,M),m[x+16]&&qn(m,x+16,T,M+4),m[x+32]&&qn(m,x+32,T,M+128),m[x+48]&&qn(m,x+48,T,M+128+4)}function Zi(m,x,T,M){var q,Z=o(16);for(q=0;4>q;++q){var K=m[x+0+q]+m[x+12+q],ie=m[x+4+q]+m[x+8+q],ae=m[x+4+q]-m[x+8+q],ue=m[x+0+q]-m[x+12+q];Z[0+q]=K+ie,Z[8+q]=K-ie,Z[4+q]=ue+ae,Z[12+q]=ue-ae}for(q=0;4>q;++q)K=(m=Z[0+4*q]+3)+Z[3+4*q],ie=Z[1+4*q]+Z[2+4*q],ae=Z[1+4*q]-Z[2+4*q],ue=m-Z[3+4*q],T[M+0]=K+ie>>3,T[M+16]=ue+ae>>3,T[M+32]=K-ie>>3,T[M+48]=ue-ae>>3,M+=64}function Ko(m,x,T){var M,q=x-32,Z=Is,K=255-m[q-1];for(M=0;M<T;++M){var ie,ae=Z,ue=K+m[x-1];for(ie=0;ie<T;++ie)m[x+ie]=ae[ue+m[q+ie]];x+=32}}function Cu(m,x){Ko(m,x,4)}function ku(m,x){Ko(m,x,8)}function Ic(m,x){Ko(m,x,16)}function Vc(m,x){var T;for(T=0;16>T;++T)s(m,x+32*T,m,x-32,16)}function ju(m,x){var T;for(T=16;0<T;--T)a(m,x,m[x-1],16),x+=32}function ri(m,x,T){var M;for(M=0;16>M;++M)a(x,T+32*M,m,16)}function Ki(m,x){var T,M=16;for(T=0;16>T;++T)M+=m[x-1+32*T]+m[x+T-32];ri(M>>5,m,x)}function Da(m,x){var T,M=8;for(T=0;16>T;++T)M+=m[x-1+32*T];ri(M>>4,m,x)}function Qo(m,x){var T,M=8;for(T=0;16>T;++T)M+=m[x+T-32];ri(M>>4,m,x)}function _o(m,x){ri(128,m,x)}function Gt(m,x,T){return m+2*x+T+2>>2}function Eu(m,x){var T,M=x-32;for(M=new Uint8Array([Gt(m[M-1],m[M+0],m[M+1]),Gt(m[M+0],m[M+1],m[M+2]),Gt(m[M+1],m[M+2],m[M+3]),Gt(m[M+2],m[M+3],m[M+4])]),T=0;4>T;++T)s(m,x+32*T,M,0,M.length)}function Fc(m,x){var T=m[x-1],M=m[x-1+32],q=m[x-1+64],Z=m[x-1+96];Fe(m,x+0,16843009*Gt(m[x-1-32],T,M)),Fe(m,x+32,16843009*Gt(T,M,q)),Fe(m,x+64,16843009*Gt(M,q,Z)),Fe(m,x+96,16843009*Gt(q,Z,Z))}function Mu(m,x){var T,M=4;for(T=0;4>T;++T)M+=m[x+T-32]+m[x-1+32*T];for(M>>=3,T=0;4>T;++T)a(m,x+32*T,M,4)}function di(m,x){var T=m[x-1+0],M=m[x-1+32],q=m[x-1+64],Z=m[x-1-32],K=m[x+0-32],ie=m[x+1-32],ae=m[x+2-32],ue=m[x+3-32];m[x+0+96]=Gt(M,q,m[x-1+96]),m[x+1+96]=m[x+0+64]=Gt(T,M,q),m[x+2+96]=m[x+1+64]=m[x+0+32]=Gt(Z,T,M),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=Gt(K,Z,T),m[x+3+64]=m[x+2+32]=m[x+1+0]=Gt(ie,K,Z),m[x+3+32]=m[x+2+0]=Gt(ae,ie,K),m[x+3+0]=Gt(ue,ae,ie)}function Ss(m,x){var T=m[x+1-32],M=m[x+2-32],q=m[x+3-32],Z=m[x+4-32],K=m[x+5-32],ie=m[x+6-32],ae=m[x+7-32];m[x+0+0]=Gt(m[x+0-32],T,M),m[x+1+0]=m[x+0+32]=Gt(T,M,q),m[x+2+0]=m[x+1+32]=m[x+0+64]=Gt(M,q,Z),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=Gt(q,Z,K),m[x+3+32]=m[x+2+64]=m[x+1+96]=Gt(Z,K,ie),m[x+3+64]=m[x+2+96]=Gt(K,ie,ae),m[x+3+96]=Gt(ie,ae,ae)}function Bc(m,x){var T=m[x-1+0],M=m[x-1+32],q=m[x-1+64],Z=m[x-1-32],K=m[x+0-32],ie=m[x+1-32],ae=m[x+2-32],ue=m[x+3-32];m[x+0+0]=m[x+1+64]=Z+K+1>>1,m[x+1+0]=m[x+2+64]=K+ie+1>>1,m[x+2+0]=m[x+3+64]=ie+ae+1>>1,m[x+3+0]=ae+ue+1>>1,m[x+0+96]=Gt(q,M,T),m[x+0+64]=Gt(M,T,Z),m[x+0+32]=m[x+1+96]=Gt(T,Z,K),m[x+1+32]=m[x+2+96]=Gt(Z,K,ie),m[x+2+32]=m[x+3+96]=Gt(K,ie,ae),m[x+3+32]=Gt(ie,ae,ue)}function Jo(m,x){var T=m[x+0-32],M=m[x+1-32],q=m[x+2-32],Z=m[x+3-32],K=m[x+4-32],ie=m[x+5-32],ae=m[x+6-32],ue=m[x+7-32];m[x+0+0]=T+M+1>>1,m[x+1+0]=m[x+0+64]=M+q+1>>1,m[x+2+0]=m[x+1+64]=q+Z+1>>1,m[x+3+0]=m[x+2+64]=Z+K+1>>1,m[x+0+32]=Gt(T,M,q),m[x+1+32]=m[x+0+96]=Gt(M,q,Z),m[x+2+32]=m[x+1+96]=Gt(q,Z,K),m[x+3+32]=m[x+2+96]=Gt(Z,K,ie),m[x+3+64]=Gt(K,ie,ae),m[x+3+96]=Gt(ie,ae,ue)}function pi(m,x){var T=m[x-1+0],M=m[x-1+32],q=m[x-1+64],Z=m[x-1+96];m[x+0+0]=T+M+1>>1,m[x+2+0]=m[x+0+32]=M+q+1>>1,m[x+2+32]=m[x+0+64]=q+Z+1>>1,m[x+1+0]=Gt(T,M,q),m[x+3+0]=m[x+1+32]=Gt(M,q,Z),m[x+3+32]=m[x+1+64]=Gt(q,Z,Z),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=Z}function el(m,x){var T=m[x-1+0],M=m[x-1+32],q=m[x-1+64],Z=m[x-1+96],K=m[x-1-32],ie=m[x+0-32],ae=m[x+1-32],ue=m[x+2-32];m[x+0+0]=m[x+2+32]=T+K+1>>1,m[x+0+32]=m[x+2+64]=M+T+1>>1,m[x+0+64]=m[x+2+96]=q+M+1>>1,m[x+0+96]=Z+q+1>>1,m[x+3+0]=Gt(ie,ae,ue),m[x+2+0]=Gt(K,ie,ae),m[x+1+0]=m[x+3+32]=Gt(T,K,ie),m[x+1+32]=m[x+3+64]=Gt(M,T,K),m[x+1+64]=m[x+3+96]=Gt(q,M,T),m[x+1+96]=Gt(Z,q,M)}function pa(m,x){var T;for(T=0;8>T;++T)s(m,x+32*T,m,x-32,8)}function Lu(m,x){var T;for(T=0;8>T;++T)a(m,x,m[x-1],8),x+=32}function Si(m,x,T){var M;for(M=0;8>M;++M)a(x,T+32*M,m,8)}function Fl(m,x){var T,M=8;for(T=0;8>T;++T)M+=m[x+T-32]+m[x-1+32*T];Si(M>>4,m,x)}function Bl(m,x){var T,M=4;for(T=0;8>T;++T)M+=m[x+T-32];Si(M>>3,m,x)}function fs(m,x){var T,M=4;for(T=0;8>T;++T)M+=m[x-1+32*T];Si(M>>3,m,x)}function ma(m,x){Si(128,m,x)}function Ni(m,x,T){var M=m[x-T],q=m[x+0],Z=3*(q-M)+Ka[1020+m[x-2*T]-m[x+T]],K=$c[112+(Z+4>>3)];m[x-T]=Is[255+M+$c[112+(Z+3>>3)]],m[x+0]=Is[255+q-K]}function Ra(m,x,T,M){var q=m[x+0],Z=m[x+T];return Ts[255+m[x-2*T]-m[x-T]]>M||Ts[255+Z-q]>M}function zl(m,x,T,M){return 4*Ts[255+m[x-T]-m[x+0]]+Ts[255+m[x-2*T]-m[x+T]]<=M}function tl(m,x,T,M,q){var Z=m[x-3*T],K=m[x-2*T],ie=m[x-T],ae=m[x+0],ue=m[x+T],ve=m[x+2*T],Me=m[x+3*T];return 4*Ts[255+ie-ae]+Ts[255+K-ue]>M?0:Ts[255+m[x-4*T]-Z]<=q&&Ts[255+Z-K]<=q&&Ts[255+K-ie]<=q&&Ts[255+Me-ve]<=q&&Ts[255+ve-ue]<=q&&Ts[255+ue-ae]<=q}function Ia(m,x,T,M){var q=2*M+1;for(M=0;16>M;++M)zl(m,x+M,T,q)&&Ni(m,x+M,T)}function Va(m,x,T,M){var q=2*M+1;for(M=0;16>M;++M)zl(m,x+M*T,1,q)&&Ni(m,x+M*T,1)}function nl(m,x,T,M){var q;for(q=3;0<q;--q)Ia(m,x+=4*T,T,M)}function zc(m,x,T,M){var q;for(q=3;0<q;--q)Va(m,x+=4,T,M)}function Fa(m,x,T,M,q,Z,K,ie){for(Z=2*Z+1;0<q--;){if(tl(m,x,T,Z,K))if(Ra(m,x,T,ie))Ni(m,x,T);else{var ae=m,ue=x,ve=T,Me=ae[ue-2*ve],ce=ae[ue-ve],Se=ae[ue+0],Ce=ae[ue+ve],qe=ae[ue+2*ve],ke=27*(Ge=Ka[1020+3*(Se-ce)+Ka[1020+Me-Ce]])+63>>7,Pe=18*Ge+63>>7,Ge=9*Ge+63>>7;ae[ue-3*ve]=Is[255+ae[ue-3*ve]+Ge],ae[ue-2*ve]=Is[255+Me+Pe],ae[ue-ve]=Is[255+ce+ke],ae[ue+0]=Is[255+Se-ke],ae[ue+ve]=Is[255+Ce-Pe],ae[ue+2*ve]=Is[255+qe-Ge]}x+=M}}function Ba(m,x,T,M,q,Z,K,ie){for(Z=2*Z+1;0<q--;){if(tl(m,x,T,Z,K))if(Ra(m,x,T,ie))Ni(m,x,T);else{var ae=m,ue=x,ve=T,Me=ae[ue-ve],ce=ae[ue+0],Se=ae[ue+ve],Ce=$c[112+(4+(qe=3*(ce-Me))>>3)],qe=$c[112+(qe+3>>3)],ke=Ce+1>>1;ae[ue-2*ve]=Is[255+ae[ue-2*ve]+ke],ae[ue-ve]=Is[255+Me+qe],ae[ue+0]=Is[255+ce-Ce],ae[ue+ve]=Is[255+Se-ke]}x+=M}}function Ou(m,x,T,M,q,Z){Fa(m,x,T,1,16,M,q,Z)}function za(m,x,T,M,q,Z){Fa(m,x,1,T,16,M,q,Z)}function Du(m,x,T,M,q,Z){var K;for(K=3;0<K;--K)Ba(m,x+=4*T,T,1,16,M,q,Z)}function S(m,x,T,M,q,Z){var K;for(K=3;0<K;--K)Ba(m,x+=4,1,T,16,M,q,Z)}function P(m,x,T,M,q,Z,K,ie){Fa(m,x,q,1,8,Z,K,ie),Fa(T,M,q,1,8,Z,K,ie)}function he(m,x,T,M,q,Z,K,ie){Fa(m,x,1,q,8,Z,K,ie),Fa(T,M,1,q,8,Z,K,ie)}function ge(m,x,T,M,q,Z,K,ie){Ba(m,x+4*q,q,1,8,Z,K,ie),Ba(T,M+4*q,q,1,8,Z,K,ie)}function Ae(m,x,T,M,q,Z,K,ie){Ba(m,x+4,1,q,8,Z,K,ie),Ba(T,M+4,1,q,8,Z,K,ie)}function We(){this.ba=new bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new st,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ot(){this.ua=0,this.Wa=new nt,this.vb=new nt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new ee}function Kt(){this.xb=this.a=0,this.l=new ni,this.ca=new bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ot,this.ab=0,this.gc=u(4,kt),this.Oc=0}function pn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ni,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Dn(m,x,T,M,q,Z,K){for(m=m==null?0:m[x+0],x=0;x<K;++x)q[Z+x]=m+T[M+x]&255,m=q[Z+x]}function xr(m,x,T,M,q,Z,K){var ie;if(m==null)Dn(null,null,T,M,q,Z,K);else for(ie=0;ie<K;++ie)q[Z+ie]=m[x+ie]+T[M+ie]&255}function qr(m,x,T,M,q,Z,K){if(m==null)Dn(null,null,T,M,q,Z,K);else{var ie,ae=m[x+0],ue=ae,ve=ae;for(ie=0;ie<K;++ie)ue=ve+(ae=m[x+ie])-ue,ve=T[M+ie]+(-256&ue?0>ue?0:255:ue)&255,ue=ae,q[Z+ie]=ve}}function ir(m,x,T,M){var q=x.width,Z=x.o;if(e(m!=null&&x!=null),0>T||0>=M||T+M>Z)return null;if(!m.Cc){if(m.ga==null){var K;if(m.ga=new pn,(K=m.ga==null)||(K=x.width*x.o,e(m.Gb.length==0),m.Gb=o(K),m.Uc=0,m.Gb==null?K=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,K=1),K=!K),!K){K=m.ga;var ie=m.Fa,ae=m.P,ue=m.qc,ve=m.mb,Me=m.nb,ce=ae+1,Se=ue-1,Ce=K.l;if(e(ie!=null&&ve!=null&&x!=null),Qa[0]=null,Qa[1]=Dn,Qa[2]=xr,Qa[3]=qr,K.ca=ve,K.tb=Me,K.c=x.width,K.i=x.height,e(0<K.c&&0<K.i),1>=ue)x=0;else if(K.$a=3&ie[ae+0],K.Z=ie[ae+0]>>2&3,K.Lc=ie[ae+0]>>4&3,ae=ie[ae+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||ae)x=0;else if(Ce.put=$e,Ce.ac=Oe,Ce.bc=ft,Ce.ma=K,Ce.width=x.width,Ce.height=x.height,Ce.Da=x.Da,Ce.v=x.v,Ce.va=x.va,Ce.j=x.j,Ce.o=x.o,K.$a)e:{e(K.$a==1),x=Ee();t:for(;;){if(x==null){x=0;break e}if(e(K!=null),K.mc=x,x.c=K.c,x.i=K.i,x.l=K.l,x.l.ma=K,x.l.width=K.c,x.l.height=K.i,x.a=0,fe(x.m,ie,ce,Se),!Ie(K.c,K.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&_n(x.s)?(K.ic=1,ie=x.c*x.i,x.Ta=null,x.Ua=0,x.V=o(ie),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(K.ic=0,x=Xe(x,K.c)),!x))break t;x=1;break e}K.mc=null,x=0}else x=Se>=K.c*K.i;K=!x}if(K)return null;m.ga.Lc!=1?m.Ga=0:M=Z-T}e(m.ga!=null),e(T+M<=Z);e:{if(x=(ie=m.ga).c,Z=ie.l.o,ie.$a==0){if(ce=m.rc,Se=m.Vc,Ce=m.Fa,ae=m.P+1+T*x,ue=m.mb,ve=m.nb+T*x,e(ae<=m.P+m.qc),ie.Z!=0)for(e(Qa[ie.Z]!=null),K=0;K<M;++K)Qa[ie.Z](ce,Se,Ce,ae,ue,ve,x),ce=ue,Se=ve,ve+=x,ae+=x;else for(K=0;K<M;++K)s(ue,ve,Ce,ae,x),ce=ue,Se=ve,ve+=x,ae+=x;m.rc=ce,m.Vc=Se}else{if(e(ie.mc!=null),x=T+M,e((K=ie.mc)!=null),e(x<=K.i),K.C>=x)x=1;else if(ie.ic||Qi(),ie.ic){ie=K.V,ce=K.Ba,Se=K.c;var qe=K.i,ke=(Ce=1,ae=K.$/Se,ue=K.$%Se,ve=K.m,Me=K.s,K.$),Pe=Se*qe,Ge=Se*x,ot=Me.wc,Je=ke<Ge?hn(Me,ue,ae):null;e(ke<=Pe),e(x<=qe),e(_n(Me));t:for(;;){for(;!ve.h&&ke<Ge;){if(ue&ot||(Je=hn(Me,ue,ae)),e(Je!=null),pe(ve),256>(qe=Wt(Je.G[0],Je.H[0],ve)))ie[ce+ke]=qe,++ke,++ue>=Se&&(ue=0,++ae<=x&&!(ae%16)&&Wn(K,ae));else{if(!(280>qe)){Ce=0;break t}qe=Rt(qe-256,ve);var Mt,_t=Wt(Je.G[4],Je.H[4],ve);if(pe(ve),!(ke>=(_t=cn(Se,_t=Rt(_t,ve)))&&Pe-ke>=qe)){Ce=0;break t}for(Mt=0;Mt<qe;++Mt)ie[ce+ke+Mt]=ie[ce+ke+Mt-_t];for(ke+=qe,ue+=qe;ue>=Se;)ue-=Se,++ae<=x&&!(ae%16)&&Wn(K,ae);ke<Ge&&ue&ot&&(Je=hn(Me,ue,ae))}e(ve.h==Q(ve))}Wn(K,ae>x?x:ae);break t}!Ce||ve.h&&ke<Pe?(Ce=0,K.a=ve.h?5:3):K.$=ke,x=Ce}else x=Er(K,K.V,K.Ba,K.c,K.i,x,xt);if(!x){M=0;break e}}T+M>=Z&&(m.Cc=1),M=1}if(!M)return null;if(m.Cc&&((M=m.ga)!=null&&(M.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+T*q}function rs(m,x,T,M,q,Z){for(;0<q--;){var K,ie=m,ae=x+(T?1:0),ue=m,ve=x+(T?0:3);for(K=0;K<M;++K){var Me=ue[ve+4*K];Me!=255&&(Me*=32897,ie[ae+4*K+0]=ie[ae+4*K+0]*Me>>23,ie[ae+4*K+1]=ie[ae+4*K+1]*Me>>23,ie[ae+4*K+2]=ie[ae+4*K+2]*Me>>23)}x+=Z}}function $r(m,x,T,M,q){for(;0<M--;){var Z;for(Z=0;Z<T;++Z){var K=m[x+2*Z+0],ie=15&(ue=m[x+2*Z+1]),ae=4369*ie,ue=(240&ue|ue>>4)*ae>>16;m[x+2*Z+0]=(240&K|K>>4)*ae>>16&240|(15&K|K<<4)*ae>>16>>4&15,m[x+2*Z+1]=240&ue|ie}x+=q}}function Ns(m,x,T,M,q,Z,K,ie){var ae,ue,ve=255;for(ue=0;ue<q;++ue){for(ae=0;ae<M;++ae){var Me=m[x+ae];Z[K+4*ae]=Me,ve&=Me}x+=T,K+=ie}return ve!=255}function Pa(m,x,T,M,q){var Z;for(Z=0;Z<q;++Z)T[M+Z]=m[x+Z]>>8}function Qi(){al=rs,Ti=$r,Wc=Ns,bi=Pa}function qa(m,x,T){B[m]=function(M,q,Z,K,ie,ae,ue,ve,Me,ce,Se,Ce,qe,ke,Pe,Ge,ot){var Je,Mt=ot-1>>1,_t=ie[ae+0]|ue[ve+0]<<16,tn=Me[ce+0]|Se[Ce+0]<<16;e(M!=null);var Ct=3*_t+tn+131074>>2;for(x(M[q+0],255&Ct,Ct>>16,qe,ke),Z!=null&&(Ct=3*tn+_t+131074>>2,x(Z[K+0],255&Ct,Ct>>16,Pe,Ge)),Je=1;Je<=Mt;++Je){var Cn=ie[ae+Je]|ue[ve+Je]<<16,pr=Me[ce+Je]|Se[Ce+Je]<<16,mn=_t+Cn+tn+pr+524296,St=mn+2*(Cn+tn)>>3;Ct=St+_t>>1,_t=(mn=mn+2*(_t+pr)>>3)+Cn>>1,x(M[q+2*Je-1],255&Ct,Ct>>16,qe,ke+(2*Je-1)*T),x(M[q+2*Je-0],255&_t,_t>>16,qe,ke+(2*Je-0)*T),Z!=null&&(Ct=mn+tn>>1,_t=St+pr>>1,x(Z[K+2*Je-1],255&Ct,Ct>>16,Pe,Ge+(2*Je-1)*T),x(Z[K+2*Je+0],255&_t,_t>>16,Pe,Ge+(2*Je+0)*T)),_t=Cn,tn=pr}1&ot||(Ct=3*_t+tn+131074>>2,x(M[q+ot-1],255&Ct,Ct>>16,qe,ke+(ot-1)*T),Z!=null&&(Ct=3*tn+_t+131074>>2,x(Z[K+ot-1],255&Ct,Ct>>16,Pe,Ge+(ot-1)*T)))}}function Pc(){ks[Fu]=cl,ks[Vs]=Kl,ks[Bu]=lf,ks[Ci]=Hu,ks[Xc]=jo,ks[$l]=Na,ks[To]=Eo,ks[Zc]=Kl,ks[zu]=Hu,ks[Xl]=jo,ks[Pu]=Na}function Pl(m){return m&-16384?0>m?0:255:m>>Wu}function ga(m,x){return Pl((19077*m>>8)+(26149*x>>8)-14234)}function Ji(m,x,T){return Pl((19077*m>>8)-(6419*x>>8)-(13320*T>>8)+8708)}function rl(m,x){return Pl((19077*m>>8)+(33050*x>>8)-17685)}function Ua(m,x,T,M,q){M[q+0]=ga(m,T),M[q+1]=Ji(m,x,T),M[q+2]=rl(m,x)}function ds(m,x,T,M,q){M[q+0]=rl(m,x),M[q+1]=Ji(m,x,T),M[q+2]=ga(m,T)}function So(m,x,T,M,q){var Z=Ji(m,x,T);x=Z<<3&224|rl(m,x)>>3,M[q+0]=248&ga(m,T)|Z>>5,M[q+1]=x}function No(m,x,T,M,q){var Z=240&rl(m,x)|15;M[q+0]=240&ga(m,T)|Ji(m,x,T)>>4,M[q+1]=Z}function ql(m,x,T,M,q){M[q+0]=255,Ua(m,x,T,M,q+1)}function ba(m,x,T,M,q){ds(m,x,T,M,q),M[q+3]=255}function $s(m,x,T,M,q){Ua(m,x,T,M,q),M[q+3]=255}function Ha(m,x,T){B[m]=function(M,q,Z,K,ie,ae,ue,ve,Me){for(var ce=ve+(-2&Me)*T;ve!=ce;)x(M[q+0],Z[K+0],ie[ae+0],ue,ve),x(M[q+1],Z[K+0],ie[ae+0],ue,ve+T),q+=2,++K,++ae,ve+=2*T;1&Me&&x(M[q+0],Z[K+0],ie[ae+0],ue,ve)}}function Ul(m,x,T){return T==0?m==0?x==0?6:5:x==0?4:0:T}function qc(m,x,T,M,q){switch(m>>>30){case 3:Za(x,T,M,q,0);break;case 2:Rs(x,T,M,q);break;case 1:qn(x,T,M,q)}}function mi(m,x){var T,M,q=x.M,Z=x.Nb,K=m.oc,ie=m.pc+40,ae=m.oc,ue=m.pc+584,ve=m.oc,Me=m.pc+600;for(T=0;16>T;++T)K[ie+32*T-1]=129;for(T=0;8>T;++T)ae[ue+32*T-1]=129,ve[Me+32*T-1]=129;for(0<q?K[ie-1-32]=ae[ue-1-32]=ve[Me-1-32]=129:(a(K,ie-32-1,127,21),a(ae,ue-32-1,127,9),a(ve,Me-32-1,127,9)),M=0;M<m.za;++M){var ce=x.ya[x.aa+M];if(0<M){for(T=-1;16>T;++T)s(K,ie+32*T-4,K,ie+32*T+12,4);for(T=-1;8>T;++T)s(ae,ue+32*T-4,ae,ue+32*T+4,4),s(ve,Me+32*T-4,ve,Me+32*T+4,4)}var Se=m.Gd,Ce=m.Hd+M,qe=ce.ad,ke=ce.Hc;if(0<q&&(s(K,ie-32,Se[Ce].y,0,16),s(ae,ue-32,Se[Ce].f,0,8),s(ve,Me-32,Se[Ce].ea,0,8)),ce.Za){var Pe=K,Ge=ie-32+16;for(0<q&&(M>=m.za-1?a(Pe,Ge,Se[Ce].y[15],4):s(Pe,Ge,Se[Ce+1].y,0,4)),T=0;4>T;T++)Pe[Ge+128+T]=Pe[Ge+256+T]=Pe[Ge+384+T]=Pe[Ge+0+T];for(T=0;16>T;++T,ke<<=2)Pe=K,Ge=ie+Wr[T],Or[ce.Ob[T]](Pe,Ge),qc(ke,qe,16*+T,Pe,Ge)}else if(Pe=Ul(M,q,ce.Ob[0]),Zs[Pe](K,ie),ke!=0)for(T=0;16>T;++T,ke<<=2)qc(ke,qe,16*+T,K,ie+Wr[T]);for(T=ce.Gc,Pe=Ul(M,q,ce.Dd),ra[Pe](ae,ue),ra[Pe](ve,Me),ke=qe,Pe=ae,Ge=ue,255&(ce=0|T)&&(170&ce?Ai(ke,256,Pe,Ge):Rn(ke,256,Pe,Ge)),ce=ve,ke=Me,255&(T>>=8)&&(170&T?Ai(qe,320,ce,ke):Rn(qe,320,ce,ke)),q<m.Ub-1&&(s(Se[Ce].y,0,K,ie+480,16),s(Se[Ce].f,0,ae,ue+224,8),s(Se[Ce].ea,0,ve,Me+224,8)),T=8*Z*m.B,Se=m.sa,Ce=m.ta+16*M+16*Z*m.R,qe=m.qa,ce=m.ra+8*M+T,ke=m.Ha,Pe=m.Ia+8*M+T,T=0;16>T;++T)s(Se,Ce+T*m.R,K,ie+32*T,16);for(T=0;8>T;++T)s(qe,ce+T*m.B,ae,ue+32*T,8),s(ke,Pe+T*m.B,ve,Me+32*T,8)}}function ea(m,x,T,M,q,Z,K,ie,ae){var ue=[0],ve=[0],Me=0,ce=ae!=null?ae.kd:0,Se=ae??new tt;if(m==null||12>T)return 7;Se.data=m,Se.w=x,Se.ha=T,x=[x],T=[T],Se.gb=[Se.gb];e:{var Ce=x,qe=T,ke=Se.gb;if(e(m!=null),e(qe!=null),e(ke!=null),ke[0]=0,12<=qe[0]&&!t(m,Ce[0],"RIFF")){if(t(m,Ce[0]+8,"WEBP")){ke=3;break e}var Pe=lt(m,Ce[0]+4);if(12>Pe||4294967286<Pe){ke=3;break e}if(ce&&Pe>qe[0]-8){ke=7;break e}ke[0]=Pe,Ce[0]+=12,qe[0]-=12}ke=0}if(ke!=0)return ke;for(Pe=0<Se.gb[0],T=T[0];;){e:{var Ge=m;qe=x,ke=T;var ot=ue,Je=ve,Mt=Ce=[0];if((Ct=Me=[Me])[0]=0,8>ke[0])ke=7;else{if(!t(Ge,qe[0],"VP8X")){if(lt(Ge,qe[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var _t=lt(Ge,qe[0]+8),tn=1+Ze(Ge,qe[0]+12);if(2147483648<=tn*(Ge=1+Ze(Ge,qe[0]+15))){ke=3;break e}Mt!=null&&(Mt[0]=_t),ot!=null&&(ot[0]=tn),Je!=null&&(Je[0]=Ge),qe[0]+=18,ke[0]-=18,Ct[0]=1}ke=0}}if(Me=Me[0],Ce=Ce[0],ke!=0)return ke;if(qe=!!(2&Ce),!Pe&&Me)return 3;if(Z!=null&&(Z[0]=!!(16&Ce)),K!=null&&(K[0]=qe),ie!=null&&(ie[0]=0),K=ue[0],Ce=ve[0],Me&&qe&&ae==null){ke=0;break}if(4>T){ke=7;break}if(Pe&&Me||!Pe&&!Me&&!t(m,x[0],"ALPH")){T=[T],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{_t=m,ke=x,Pe=T;var Ct=Se.gb;ot=Se.na,Je=Se.P,Mt=Se.Sa,tn=22,e(_t!=null),e(Pe!=null),Ge=ke[0];var Cn=Pe[0];for(e(ot!=null),e(Mt!=null),ot[0]=null,Je[0]=null,Mt[0]=0;;){if(ke[0]=Ge,Pe[0]=Cn,8>Cn){ke=7;break e}var pr=lt(_t,Ge+4);if(4294967286<pr){ke=3;break e}var mn=8+pr+1&-2;if(tn+=mn,0<Ct&&tn>Ct){ke=3;break e}if(!t(_t,Ge,"VP8 ")||!t(_t,Ge,"VP8L")){ke=0;break e}if(Cn[0]<mn){ke=7;break e}t(_t,Ge,"ALPH")||(ot[0]=_t,Je[0]=Ge+8,Mt[0]=pr),Ge+=mn,Cn-=mn}}if(T=T[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],ke!=0)break}T=[T],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(Ct=m,ke=x,Pe=T,ot=Se.gb[0],Je=Se.Ja,Mt=Se.xa,_t=ke[0],Ge=!t(Ct,_t,"VP8 "),tn=!t(Ct,_t,"VP8L"),e(Ct!=null),e(Pe!=null),e(Je!=null),e(Mt!=null),8>Pe[0])ke=7;else{if(Ge||tn){if(Ct=lt(Ct,_t+4),12<=ot&&Ct>ot-12){ke=3;break e}if(ce&&Ct>Pe[0]-8){ke=7;break e}Je[0]=Ct,ke[0]+=8,Pe[0]-=8,Mt[0]=tn}else Mt[0]=5<=Pe[0]&&Ct[_t+0]==47&&!(Ct[_t+4]>>5),Je[0]=Pe[0];ke=0}if(T=T[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],x=x[0],ke!=0)break;if(4294967286<Se.Ja)return 3;if(ie==null||qe||(ie[0]=Se.xa?2:1),K=[K],Ce=[Ce],Se.xa){if(5>T){ke=7;break}ie=K,ce=Ce,qe=Z,m==null||5>T?m=0:5<=T&&m[x+0]==47&&!(m[x+4]>>5)?(Pe=[0],Ct=[0],ot=[0],fe(Je=new X,m,x,T),Et(Je,Pe,Ct,ot)?(ie!=null&&(ie[0]=Pe[0]),ce!=null&&(ce[0]=Ct[0]),qe!=null&&(qe[0]=ot[0]),m=1):m=0):m=0}else{if(10>T){ke=7;break}ie=Ce,m==null||10>T||!Xi(m,x+3,T-3)?m=0:(ce=m[x+0]|m[x+1]<<8|m[x+2]<<16,qe=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=Se.Ja||!qe||!m?m=0:(K&&(K[0]=qe),ie&&(ie[0]=m),m=1))}if(!m||(K=K[0],Ce=Ce[0],Me&&(ue[0]!=K||ve[0]!=Ce)))return 3;ae!=null&&(ae[0]=Se,ae.offset=x-ae.w,e(4294967286>x-ae.w),e(ae.offset==ae.ha-T));break}return ke==0||ke==7&&Me&&ae==null?(Z!=null&&(Z[0]|=Se.na!=null&&0<Se.na.length),M!=null&&(M[0]=K),q!=null&&(q[0]=Ce),0):ke}function Wa(m,x,T){var M=x.width,q=x.height,Z=0,K=0,ie=M,ae=q;if(x.Da=m!=null&&0<m.Da,x.Da&&(ie=m.cd,ae=m.bd,Z=m.v,K=m.j,11>T||(Z&=-2,K&=-2),0>Z||0>K||0>=ie||0>=ae||Z+ie>M||K+ae>q))return 0;if(x.v=Z,x.j=K,x.va=Z+ie,x.o=K+ae,x.U=ie,x.T=ae,x.da=m!=null&&0<m.da,x.da){if(!Be(ie,ae,T=[m.ib],Z=[m.hb]))return 0;x.ib=T[0],x.hb=Z[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*M/4&&x.hb<3*q/4,x.Kb=0),1}function Uc(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function ta(m,x,T,M){if(M==null||0>=m||0>=x)return 2;if(T!=null){if(T.Da){var q=T.cd,Z=T.bd,K=-2&T.v,ie=-2&T.j;if(0>K||0>ie||0>=q||0>=Z||K+q>m||ie+Z>x)return 2;m=q,x=Z}if(T.da){if(!Be(m,x,q=[T.ib],Z=[T.hb]))return 2;m=q[0],x=Z[0]}}M.width=m,M.height=x;e:{var ae=M.width,ue=M.height;if(m=M.S,0>=ae||0>=ue||!(m>=Fu&&13>m))m=2;else{if(0>=M.Rd&&M.sd==null){K=Z=q=x=0;var ve=(ie=ae*Yu[m])*ue;if(11>m||(Z=(ue+1)/2*(x=(ae+1)/2),m==12&&(K=(q=ae)*ue)),(ue=o(ve+2*Z+K))==null){m=1;break e}M.sd=ue,11>m?((ae=M.f.RGBA).eb=ue,ae.fb=0,ae.A=ie,ae.size=ve):((ae=M.f.kb).y=ue,ae.O=0,ae.fa=ie,ae.Fd=ve,ae.f=ue,ae.N=0+ve,ae.Ab=x,ae.Cd=Z,ae.ea=ue,ae.W=0+ve+Z,ae.Db=x,ae.Ed=Z,m==12&&(ae.F=ue,ae.J=0+ve+2*Z),ae.Tc=K,ae.lb=q)}if(x=1,q=M.S,Z=M.width,K=M.height,q>=Fu&&13>q)if(11>q)m=M.f.RGBA,x&=(ie=Math.abs(m.A))*(K-1)+Z<=m.size,x&=ie>=Z*Yu[q],x&=m.eb!=null;else{m=M.f.kb,ie=(Z+1)/2,ve=(K+1)/2,ae=Math.abs(m.fa),ue=Math.abs(m.Ab);var Me=Math.abs(m.Db),ce=Math.abs(m.lb),Se=ce*(K-1)+Z;x&=ae*(K-1)+Z<=m.Fd,x&=ue*(ve-1)+ie<=m.Cd,x=(x&=Me*(ve-1)+ie<=m.Ed)&ae>=Z&ue>=ie&Me>=ie,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,q==12&&(x&=ce>=Z,x&=Se<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||T!=null&&T.fd&&(m=Uc(M)),m}var Ao=64,si=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Xs=24,va=32,ya=8,Ga=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(m){return m},B.Predictor2=function(m,x,T){return x[T+0]},B.Predictor3=function(m,x,T){return x[T+1]},B.Predictor4=function(m,x,T){return x[T-1]},B.Predictor5=function(m,x,T){return at(at(m,x[T+1]),x[T+0])},B.Predictor6=function(m,x,T){return at(m,x[T-1])},B.Predictor7=function(m,x,T){return at(m,x[T+0])},B.Predictor8=function(m,x,T){return at(x[T-1],x[T+0])},B.Predictor9=function(m,x,T){return at(x[T+0],x[T+1])},B.Predictor10=function(m,x,T){return at(at(m,x[T-1]),at(x[T+0],x[T+1]))},B.Predictor11=function(m,x,T){var M=x[T+0];return 0>=rt(M>>24&255,m>>24&255,(x=x[T-1])>>24&255)+rt(M>>16&255,m>>16&255,x>>16&255)+rt(M>>8&255,m>>8&255,x>>8&255)+rt(255&M,255&m,255&x)?M:m},B.Predictor12=function(m,x,T){var M=x[T+0];return(ze((m>>24&255)+(M>>24&255)-((x=x[T-1])>>24&255))<<24|ze((m>>16&255)+(M>>16&255)-(x>>16&255))<<16|ze((m>>8&255)+(M>>8&255)-(x>>8&255))<<8|ze((255&m)+(255&M)-(255&x)))>>>0},B.Predictor13=function(m,x,T){var M=x[T-1];return(it((m=at(m,x[T+0]))>>24&255,M>>24&255)<<24|it(m>>16&255,M>>16&255)<<16|it(m>>8&255,M>>8&255)<<8|it(255&m,255&M))>>>0};var Hl=B.PredictorAdd0;B.PredictorAdd1=ut,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var Wl=B.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Ur,Ru=B.ColorIndexInverseTransform,xa=B.MapARGB,wa=B.VP8LColorIndexInverseTransformAlpha,As=B.MapAlpha,Ya=B.VP8LPredictorsAdd=[];Ya.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var Gl,Yl,$a,Xa,_a,sl,gi,Za,Rs,Ai,qn,Rn,ar,Hr,Sa,na,il,Hc,nf,Md,Ld,Od,rf,sf,al,Ti,Wc,bi,ol=o(511),Iu=o(2041),Gc=o(225),Yc=o(767),Vu=0,Ka=Iu,$c=Gc,Is=Yc,Ts=ol,Fu=0,Vs=1,Bu=2,Ci=3,Xc=4,$l=5,To=6,Zc=7,zu=8,Xl=9,Pu=10,ki=[2,3,7],Zl=[3,3,11],ll=[280,256,256,256,40],qu=[0,1,1,1,0],Kc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ji=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ei=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Co=8,Mi=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Li=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vi=null,Dd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],af=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Uu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Rd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Cs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zs=[],Or=[],ra=[],ko=1,of=2,Qa=[],ks=[];qa("UpsampleRgbLinePair",Ua,3),qa("UpsampleBgrLinePair",ds,3),qa("UpsampleRgbaLinePair",$s,4),qa("UpsampleBgraLinePair",ba,4),qa("UpsampleArgbLinePair",ql,4),qa("UpsampleRgba4444LinePair",No,2),qa("UpsampleRgb565LinePair",So,2);var cl=B.UpsampleRgbLinePair,lf=B.UpsampleBgrLinePair,Kl=B.UpsampleRgbaLinePair,Hu=B.UpsampleBgraLinePair,jo=B.UpsampleArgbLinePair,Na=B.UpsampleRgba4444LinePair,Eo=B.UpsampleRgb565LinePair,Oi=16,Ql=1<<Oi-1,ul=-227,Mo=482,Wu=6,Lo=0,js=o(256),Gu=o(256),Id=o(256),e0=o(256),t0=o(Mo-ul),n0=o(Mo-ul);Ha("YuvToRgbRow",Ua,3),Ha("YuvToBgrRow",ds,3),Ha("YuvToRgbaRow",$s,4),Ha("YuvToBgraRow",ba,4),Ha("YuvToArgbRow",ql,4),Ha("YuvToRgba4444Row",No,2),Ha("YuvToRgb565Row",So,2);var Wr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Jl=[0,2,8],Qc=[8,7,6,4,4,2,2,2,1,1,1,1],Jc=1;this.WebPDecodeRGBA=function(m,x,T,M,q){var Z=Vs,K=new We,ie=new bt;K.ba=ie,ie.S=Z,ie.width=[ie.width],ie.height=[ie.height];var ae=ie.width,ue=ie.height,ve=new _e;if(ve==null||m==null)var Me=2;else e(ve!=null),Me=ea(m,x,T,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Me!=0?ae=0:(ae!=null&&(ae[0]=ve.width[0]),ue!=null&&(ue[0]=ve.height[0]),ae=1),ae){ie.width=ie.width[0],ie.height=ie.height[0],M!=null&&(M[0]=ie.width),q!=null&&(q[0]=ie.height);e:{if(M=new ni,(q=new tt).data=m,q.w=x,q.ha=T,q.kd=1,x=[0],e(q!=null),((m=ea(q.data,q.w,q.ha,null,null,null,x,null,q))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(K!=null),M.data=q.data,M.w=q.w+q.offset,M.ha=q.ha-q.offset,M.put=$e,M.ac=Oe,M.bc=ft,M.ma=K,q.xa){if((m=Ee())==null){K=1;break e}if((function(ce,Se){var Ce=[0],qe=[0],ke=[0];t:for(;;){if(ce==null)return 0;if(Se==null)return ce.a=2,0;if(ce.l=Se,ce.a=0,fe(ce.m,Se.data,Se.w,Se.ha),!Et(ce.m,Ce,qe,ke)){ce.a=3;break t}if(ce.xb=of,Se.width=Ce[0],Se.height=qe[0],!Ie(Ce[0],qe[0],1,ce,null))break t;return 1}return e(ce.a!=0),0})(m,M)){if(M=(x=ta(M.width,M.height,K.Oa,K.ba))==0){t:{M=m;n:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((T=M.l)!=null),e((q=T.ma)!=null),M.xb!=0){if(M.ca=q.ba,M.tb=q.tb,e(M.ca!=null),!Wa(q.Oa,T,Ci)){M.a=2;break n}if(!Xe(M,T.width)||T.da)break n;if((T.da||It(M.ca.S))&&Qi(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Qi()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!z(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!Er(M,M.V,M.Ba,M.c,M.i,T.o,Hn))break n;q.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(x=m.a)}else x=m.a}else{if((m=new Gs)==null){K=1;break e}if(m.Fa=q.na,m.P=q.P,m.qc=q.Sa,Ds(m,M)){if((x=ta(M.width,M.height,K.Oa,K.ba))==0){if(m.Aa=0,T=K.Oa,e((q=m)!=null),T!=null){if(0<(ae=0>(ae=T.Md)?0:100<ae?255:255*ae/100)){for(ue=ve=0;4>ue;++ue)12>(Me=q.pb[ue]).lc&&(Me.ia=ae*Qc[0>Me.lc?0:Me.lc]>>3),ve|=Me.ia;ve&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=T.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(ce,Se){if(ce==null)return 0;if(Se==null)return Sn(ce,2,"NULL VP8Io parameter in VP8Decode().");if(!ce.cb&&!Ds(ce,Se))return 0;if(e(ce.cb),Se.ac==null||Se.ac(Se)){Se.ob&&(ce.L=0);var Ce=Jl[ce.L];if(ce.L==2?(ce.yb=0,ce.zb=0):(ce.yb=Se.v-Ce>>4,ce.zb=Se.j-Ce>>4,0>ce.yb&&(ce.yb=0),0>ce.zb&&(ce.zb=0)),ce.Va=Se.o+15+Ce>>4,ce.Hb=Se.va+15+Ce>>4,ce.Hb>ce.za&&(ce.Hb=ce.za),ce.Va>ce.Ub&&(ce.Va=ce.Ub),0<ce.L){var qe=ce.ed;for(Ce=0;4>Ce;++Ce){var ke;if(ce.Qa.Cb){var Pe=ce.Qa.Lb[Ce];ce.Qa.Fb||(Pe+=qe.Tb)}else Pe=qe.Tb;for(ke=0;1>=ke;++ke){var Ge=ce.gd[Ce][ke],ot=Pe;if(qe.Pc&&(ot+=qe.vd[0],ke&&(ot+=qe.od[0])),0<(ot=0>ot?0:63<ot?63:ot)){var Je=ot;0<qe.wb&&(Je=4<qe.wb?Je>>2:Je>>1)>9-qe.wb&&(Je=9-qe.wb),1>Je&&(Je=1),Ge.dd=Je,Ge.tc=2*ot+Je,Ge.ld=40<=ot?2:15<=ot?1:0}else Ge.tc=0;Ge.La=ke}}}Ce=0}else Sn(ce,6,"Frame setup failed"),Ce=ce.a;if(Ce=Ce==0){if(Ce){ce.$c=0,0<ce.Aa||(ce.Ic=Jc);t:{Ce=ce.Ic,qe=4*(Je=ce.za);var Mt=32*Je,_t=Je+1,tn=0<ce.L?Je*(0<ce.Aa?2:1):0,Ct=(ce.Aa==2?2:1)*Je;if((Ge=qe+832+(ke=3*(16*Ce+Jl[ce.L])/2*Mt)+(Pe=ce.Fa!=null&&0<ce.Fa.length?ce.Kc.c*ce.Kc.i:0))!=Ge)Ce=0;else{if(Ge>ce.Vb){if(ce.Vb=0,ce.Ec=o(Ge),ce.Fc=0,ce.Ec==null){Ce=Sn(ce,1,"no memory during frame initialization.");break t}ce.Vb=Ge}Ge=ce.Ec,ot=ce.Fc,ce.Ac=Ge,ce.Bc=ot,ot+=qe,ce.Gd=u(Mt,_s),ce.Hd=0,ce.rb=u(_t+1,Tn),ce.sb=1,ce.wa=tn?u(tn,Fn):null,ce.Y=0,ce.D.Nb=0,ce.D.wa=ce.wa,ce.D.Y=ce.Y,0<ce.Aa&&(ce.D.Y+=Je),e(!0),ce.oc=Ge,ce.pc=ot,ot+=832,ce.ya=u(Ct,Yr),ce.aa=0,ce.D.ya=ce.ya,ce.D.aa=ce.aa,ce.Aa==2&&(ce.D.aa+=Je),ce.R=16*Je,ce.B=8*Je,Je=(Mt=Jl[ce.L])*ce.R,Mt=Mt/2*ce.B,ce.sa=Ge,ce.ta=ot+Je,ce.qa=ce.sa,ce.ra=ce.ta+16*Ce*ce.R+Mt,ce.Ha=ce.qa,ce.Ia=ce.ra+8*Ce*ce.B+Mt,ce.$c=0,ot+=ke,ce.mb=Pe?Ge:null,ce.nb=Pe?ot:null,e(ot+Pe<=ce.Fc+ce.Vb),xo(ce),a(ce.Ac,ce.Bc,0,qe),Ce=1}}if(Ce){if(Se.ka=0,Se.y=ce.sa,Se.O=ce.ta,Se.f=ce.qa,Se.N=ce.ra,Se.ea=ce.Ha,Se.Vd=ce.Ia,Se.fa=ce.R,Se.Rc=ce.B,Se.F=null,Se.J=0,!Vu){for(Ce=-255;255>=Ce;++Ce)ol[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)Iu[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)Gc[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)Yc[255+Ce]=0>Ce?0:255<Ce?255:Ce;Vu=1}gi=Zi,Za=Zo,Ai=Ys,qn=Dc,Rn=Rc,Rs=Vl,ar=Ou,Hr=za,Sa=P,na=he,il=Du,Hc=S,nf=ge,Md=Ae,Ld=Ia,Od=Va,rf=nl,sf=zc,Or[0]=Mu,Or[1]=Cu,Or[2]=Eu,Or[3]=Fc,Or[4]=di,Or[5]=Bc,Or[6]=Ss,Or[7]=Jo,Or[8]=el,Or[9]=pi,Zs[0]=Ki,Zs[1]=Ic,Zs[2]=Vc,Zs[3]=ju,Zs[4]=Da,Zs[5]=Qo,Zs[6]=_o,ra[0]=Fl,ra[1]=ku,ra[2]=pa,ra[3]=Lu,ra[4]=fs,ra[5]=Bl,ra[6]=ma,Ce=1}else Ce=0}Ce&&(Ce=(function(Cn,pr){for(Cn.M=0;Cn.M<Cn.Va;++Cn.M){var mn,St=Cn.Jc[Cn.M&Cn.Xb],pt=Cn.m,wr=Cn;for(mn=0;mn<wr.za;++mn){var Yt=pt,vn=wr,$n=vn.Ac,ss=vn.Bc+4*mn,Es=vn.zc,or=vn.ya[vn.aa+mn];if(vn.Qa.Bb?or.$b=we(Yt,vn.Pa.jb[0])?2+we(Yt,vn.Pa.jb[2]):we(Yt,vn.Pa.jb[1]):or.$b=0,vn.kc&&(or.Ad=we(Yt,vn.Bd)),or.Za=!we(Yt,145)+0,or.Za){var Xr=or.Ob,Fs=0;for(vn=0;4>vn;++vn){var Zr,Nn=Es[0+vn];for(Zr=0;4>Zr;++Zr){Nn=Cs[$n[ss+Zr]][Nn];for(var Bn=Uu[we(Yt,Nn[0])];0<Bn;)Bn=Uu[2*Bn+we(Yt,Nn[Bn])];Nn=-Bn,$n[ss+Zr]=Nn}s(Xr,Fs,$n,ss,4),Fs+=4,Es[0+vn]=Nn}}else Nn=we(Yt,156)?we(Yt,128)?1:3:we(Yt,163)?2:0,or.Ob[0]=Nn,a($n,ss,Nn,4),a(Es,0,Nn,4);or.Dd=we(Yt,142)?we(Yt,114)?we(Yt,183)?1:3:2:0}if(wr.m.Ka)return Sn(Cn,7,"Premature end-of-partition0 encountered.");for(;Cn.ja<Cn.za;++Cn.ja){if(wr=St,Yt=(pt=Cn).rb[pt.sb-1],$n=pt.rb[pt.sb+pt.ja],mn=pt.ya[pt.aa+pt.ja],ss=pt.kc?mn.Ad:0)Yt.la=$n.la=0,mn.Za||(Yt.Na=$n.Na=0),mn.Hc=0,mn.Gc=0,mn.ia=0;else{var _r,Un;if(Yt=$n,$n=wr,ss=pt.Pa.Xc,Es=pt.ya[pt.aa+pt.ja],or=pt.pb[Es.$b],vn=Es.ad,Xr=0,Fs=pt.rb[pt.sb-1],Nn=Zr=0,a(vn,Xr,0,384),Es.Za)var is=0,Sr=ss[3];else{Bn=o(16);var zn=Yt.Na+Fs.Na;if(zn=vi($n,ss[1],zn,or.Eb,0,Bn,0),Yt.Na=Fs.Na=(0<zn)+0,1<zn)gi(Bn,0,vn,Xr);else{var Gr=Bn[0]+3>>3;for(Bn=0;256>Bn;Bn+=16)vn[Xr+Bn]=Gr}is=1,Sr=ss[0]}var Xn=15&Yt.la,Kr=15&Fs.la;for(Bn=0;4>Bn;++Bn){var Qr=1&Kr;for(Gr=Un=0;4>Gr;++Gr)Xn=Xn>>1|(Qr=(zn=vi($n,Sr,zn=Qr+(1&Xn),or.Sc,is,vn,Xr))>is)<<7,Un=Un<<2|(3<zn?3:1<zn?2:vn[Xr+0]!=0),Xr+=16;Xn>>=4,Kr=Kr>>1|Qr<<7,Zr=(Zr<<8|Un)>>>0}for(Sr=Xn,is=Kr>>4,_r=0;4>_r;_r+=2){for(Un=0,Xn=Yt.la>>4+_r,Kr=Fs.la>>4+_r,Bn=0;2>Bn;++Bn){for(Qr=1&Kr,Gr=0;2>Gr;++Gr)zn=Qr+(1&Xn),Xn=Xn>>1|(Qr=0<(zn=vi($n,ss[2],zn,or.Qc,0,vn,Xr)))<<3,Un=Un<<2|(3<zn?3:1<zn?2:vn[Xr+0]!=0),Xr+=16;Xn>>=2,Kr=Kr>>1|Qr<<5}Nn|=Un<<4*_r,Sr|=Xn<<4<<_r,is|=(240&Kr)<<_r}Yt.la=Sr,Fs.la=is,Es.Hc=Zr,Es.Gc=Nn,Es.ia=43690&Nn?0:or.ia,ss=!(Zr|Nn)}if(0<pt.L&&(pt.wa[pt.Y+pt.ja]=pt.gd[mn.$b][mn.Za],pt.wa[pt.Y+pt.ja].La|=!ss),wr.Ka)return Sn(Cn,7,"Premature end-of-file encountered.")}if(xo(Cn),pt=pr,wr=1,mn=(St=Cn).D,Yt=0<St.L&&St.M>=St.zb&&St.M<=St.Va,St.Aa==0)t:{if(mn.M=St.M,mn.uc=Yt,mi(St,mn),wr=1,mn=(Un=St.D).Nb,Yt=(Nn=Jl[St.L])*St.R,$n=Nn/2*St.B,Bn=16*mn*St.R,Gr=8*mn*St.B,ss=St.sa,Es=St.ta-Yt+Bn,or=St.qa,vn=St.ra-$n+Gr,Xr=St.Ha,Fs=St.Ia-$n+Gr,Kr=(Xn=Un.M)==0,Zr=Xn>=St.Va-1,St.Aa==2&&mi(St,Un),Un.uc)for(Qr=(zn=St).D.M,e(zn.D.uc),Un=zn.yb;Un<zn.Hb;++Un){is=Un,Sr=Qr;var er=(In=(Jr=zn).D).Nb;_r=Jr.R;var In=In.wa[In.Y+is],Bs=Jr.sa,Dr=Jr.ta+16*er*_r+16*is,Pt=In.dd,qt=In.tc;if(qt!=0)if(e(3<=qt),Jr.L==1)0<is&&Od(Bs,Dr,_r,qt+4),In.La&&sf(Bs,Dr,_r,qt),0<Sr&&Ld(Bs,Dr,_r,qt+4),In.La&&rf(Bs,Dr,_r,qt);else{var Pn=Jr.B,ii=Jr.qa,Di=Jr.ra+8*er*Pn+8*is,Ks=Jr.Ha,Jr=Jr.Ia+8*er*Pn+8*is;er=In.ld,0<is&&(Hr(Bs,Dr,_r,qt+4,Pt,er),na(ii,Di,Ks,Jr,Pn,qt+4,Pt,er)),In.La&&(Hc(Bs,Dr,_r,qt,Pt,er),Md(ii,Di,Ks,Jr,Pn,qt,Pt,er)),0<Sr&&(ar(Bs,Dr,_r,qt+4,Pt,er),Sa(ii,Di,Ks,Jr,Pn,qt+4,Pt,er)),In.La&&(il(Bs,Dr,_r,qt,Pt,er),nf(ii,Di,Ks,Jr,Pn,qt,Pt,er))}}if(St.ia&&alert("todo:DitherRow"),pt.put!=null){if(Un=16*Xn,Xn=16*(Xn+1),Kr?(pt.y=St.sa,pt.O=St.ta+Bn,pt.f=St.qa,pt.N=St.ra+Gr,pt.ea=St.Ha,pt.W=St.Ia+Gr):(Un-=Nn,pt.y=ss,pt.O=Es,pt.f=or,pt.N=vn,pt.ea=Xr,pt.W=Fs),Zr||(Xn-=Nn),Xn>pt.o&&(Xn=pt.o),pt.F=null,pt.J=null,St.Fa!=null&&0<St.Fa.length&&Un<Xn&&(pt.J=ir(St,pt,Un,Xn-Un),pt.F=St.mb,pt.F==null&&pt.F.length==0)){wr=Sn(St,3,"Could not decode alpha data.");break t}Un<pt.j&&(Nn=pt.j-Un,Un=pt.j,e(!(1&Nn)),pt.O+=St.R*Nn,pt.N+=St.B*(Nn>>1),pt.W+=St.B*(Nn>>1),pt.F!=null&&(pt.J+=pt.width*Nn)),Un<Xn&&(pt.O+=pt.v,pt.N+=pt.v>>1,pt.W+=pt.v>>1,pt.F!=null&&(pt.J+=pt.v),pt.ka=Un-pt.j,pt.U=pt.va-pt.v,pt.T=Xn-Un,wr=pt.put(pt))}mn+1!=St.Ic||Zr||(s(St.sa,St.ta-Yt,ss,Es+16*St.R,Yt),s(St.qa,St.ra-$n,or,vn+8*St.B,$n),s(St.Ha,St.Ia-$n,Xr,Fs+8*St.B,$n))}if(!wr)return Sn(Cn,6,"Output aborted.")}return 1})(ce,Se)),Se.bc!=null&&Se.bc(Se),Ce&=1}return Ce?(ce.cb=0,Ce):0})(m,M)||(x=m.a)}}else x=m.a}x==0&&K.Oa!=null&&K.Oa.fd&&(x=Uc(K.ba))}K=x}Z=K!=0?null:11>Z?ie.f.RGBA.eb:ie.f.kb.y}else Z=null;return Z};var Yu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(B,te){for(var j="",I=0;I<4;I++)j+=String.fromCharCode(B[te++]);return j}function p(B,te){return B[te+0]|B[te+1]<<8}function y(B,te){return(B[te+0]|B[te+1]<<8|B[te+2]<<16)>>>0}function _(B,te){return(B[te+0]|B[te+1]<<8|B[te+2]<<16|B[te+3]<<24)>>>0}new f;var v=[0],A=[0],N=[],k=new f,C=n,R=(function(B,te){var j={},I=0,ee=!1,U=0,oe=0;if(j.frames=[],!(function(L,X){for(var W=0;W<4;W++)if(L[X+W]!="RIFF".charCodeAt(W))return!0;return!1})(B,te)){for(_(B,te+=4),te+=8;te<B.length;){var $=d(B,te),ne=_(B,te+=4);te+=4;var le=ne+(1&ne);switch($){case"VP8 ":case"VP8L":j.frames[I]===void 0&&(j.frames[I]={}),(G=j.frames[I]).src_off=ee?oe:te-8,G.src_size=U+ne+8,I++,ee&&(ee=!1,U=0,oe=0);break;case"VP8X":(G=j.header={}).feature_flags=B[te];var fe=te+4;G.canvas_width=1+y(B,fe),fe+=3,G.canvas_height=1+y(B,fe),fe+=3;break;case"ALPH":ee=!0,U=le+8,oe=te-8;break;case"ANIM":(G=j.header).bgcolor=_(B,te),fe=te+4,G.loop_count=p(B,fe),fe+=2;break;case"ANMF":var be,G;(G=j.frames[I]={}).offset_x=2*y(B,te),te+=3,G.offset_y=2*y(B,te),te+=3,G.width=1+y(B,te),te+=3,G.height=1+y(B,te),te+=3,G.duration=y(B,te),te+=3,be=B[te++],G.dispose=1&be,G.blend=be>>1&1}$!="ANMF"&&(te+=le)}return j}})(C,0);R.response=C,R.rgbaoutput=!0,R.dataurl=!1;var D=R.header?R.header:null,V=R.frames?R.frames:null;if(D){D.loop_counter=D.loop_count,v=[D.canvas_height],A=[D.canvas_width];for(var F=0;F<V.length&&V[F].blend!=0;F++);}var Y=V[0],H=k.WebPDecodeRGBA(C,Y.src_off,Y.src_size,A,v);Y.rgba=H,Y.imgwidth=A[0],Y.imgheight=v[0];for(var E=0;E<A[0]*v[0]*4;E++)N[E]=H[E];return this.width=A,this.height=v,this.data=N,this}(function(n){var e,t,s,a,o,u,c,f,d,p=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new f,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new u,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new u,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new p}]);var y=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=L;Object.defineProperty(this,"pdf",{get:function(){return X}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(z){W=!!z}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(z){Q=!!z}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(z){isNaN(z)||(se=z)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(z){isNaN(z)||(pe=z)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(z){var Ne;typeof z=="number"?Ne=[z,z,z,z]:((Ne=new Array(4))[0]=z[0],Ne[1]=z.length>=2?z[1]:Ne[0],Ne[2]=z.length>=3?z[2]:Ne[0],Ne[3]=z.length>=4?z[3]:Ne[1]),d.margin=Ne}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(z){de=z}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(z){xe=z}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(z){we=z}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(z){z instanceof p&&(d=z)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(z){d.path=z}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(z){Fe=z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(z){var Ne;Ne=_(z),this.ctx.fillStyle=Ne.style,this.ctx.isFillTransparent=Ne.a===0,this.ctx.fillOpacity=Ne.a,this.pdf.setFillColor(Ne.r,Ne.g,Ne.b,{a:Ne.a}),this.pdf.setTextColor(Ne.r,Ne.g,Ne.b,{a:Ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(z){var Ne=_(z);this.ctx.strokeStyle=Ne.style,this.ctx.isStrokeTransparent=Ne.a===0,this.ctx.strokeOpacity=Ne.a,Ne.a===0?this.pdf.setDrawColor(255,255,255):(Ne.a,this.pdf.setDrawColor(Ne.r,Ne.g,Ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(z){["butt","round","square"].indexOf(z)!==-1&&(this.ctx.lineCap=z,this.pdf.setLineCap(z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(z){isNaN(z)||(this.ctx.lineWidth=z,this.pdf.setLineWidth(z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(z){["bevel","round","miter"].indexOf(z)!==-1&&(this.ctx.lineJoin=z,this.pdf.setLineJoin(z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(z){isNaN(z)||(this.ctx.miterLimit=z,this.pdf.setMiterLimit(z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(z){this.ctx.textBaseline=z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(z){["right","end","center","left","start"].indexOf(z)!==-1&&(this.ctx.textAlign=z)}});var Ye=null,Ze=null,lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return lt},set:function(z){Ye=null,Ze=null,lt=z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(z){var Ne;if(this.ctx.font=z,(Ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(z))!==null){var nt=Ne[1];Ne[2];var Be=Ne[3],je=Ne[4];Ne[5];var et=Ne[6],Ue=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(Ue==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:Ue==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var ct=(function(ht){var wn,Zt,Nt=[],wt=ht.trim();if(wt==="")return qm;if(wt in sx)return[sx[wt]];for(;wt!=="";){switch(Zt=null,wn=(wt=ax(wt)).charAt(0)){case'"':case"'":Zt=$M(wt.substring(1),wn);break;default:Zt=XM(wt)}if(Zt===null||(Nt.push(Zt[0]),(wt=ax(Zt[1]))!==""&&wt.charAt(0)!==","))return qm;wt=wt.replace(/^,/,"")}return Nt})(et);if(this.fontFaces){var at=(function(ht,wn){var Zt=ht.getFontList(),Nt=JSON.stringify(Zt);if(Ye===null||Ze!==Nt){var wt=(function(Tt){var gt=[];return Object.keys(Tt).forEach(function(rn){Tt[rn].forEach(function(It){var Vt=null;switch(It){case"bold":Vt={family:rn,weight:"bold"};break;case"italic":Vt={family:rn,style:"italic"};break;case"bolditalic":Vt={family:rn,weight:"bold",style:"italic"};break;case"":case"normal":Vt={family:rn}}Vt!==null&&(Vt.ref={name:rn,style:It},gt.push(Vt))})}),gt})(Zt);Ye=(function(Tt){for(var gt={},rn=0;rn<Tt.length;++rn){var It=Pm(Tt[rn]),Vt=It.family,ln=It.stretch,bt=It.style,_e=It.weight;gt[Vt]=gt[Vt]||{},gt[Vt][ln]=gt[Vt][ln]||{},gt[Vt][ln][bt]=gt[Vt][ln][bt]||{},gt[Vt][ln][bt][_e]=It}return gt})(wt.concat(wn)),Ze=Nt}return Ye})(this.pdf,this.fontFaces),ze=ct.map(function(ht){return{family:ht,stretch:"normal",weight:Be,style:nt}}),it=(function(ht,wn,Zt){for(var Nt=(Zt=Zt||{}).defaultFontFamily||"times",wt=Object.assign({},YM,Zt.genericFontFamilies||{}),Tt=null,gt=null,rn=0;rn<wn.length;++rn)if(wt[(Tt=Pm(wn[rn])).family]&&(Tt.family=wt[Tt.family]),ht.hasOwnProperty(Tt.family)){gt=ht[Tt.family];break}if(!(gt=gt||ht[Nt]))throw new Error("Could not find a font-family for the rule '"+ix(Tt)+"' and default family '"+Nt+"'.");if(gt=(function(It,Vt){if(Vt[It])return Vt[It];var ln=Tg[It],bt=ln<=Tg.normal?-1:1,_e=rx(Vt,b4,ln,bt);if(!_e)throw new Error("Could not find a matching font-stretch value for "+It);return _e})(Tt.stretch,gt),gt=(function(It,Vt){if(Vt[It])return Vt[It];for(var ln=g4[It],bt=0;bt<ln.length;++bt)if(Vt[ln[bt]])return Vt[ln[bt]];throw new Error("Could not find a matching font-style for "+It)})(Tt.style,gt),!(gt=(function(It,Vt){if(Vt[It])return Vt[It];if(It===400&&Vt[500])return Vt[500];if(It===500&&Vt[400])return Vt[400];var ln=GM[It],bt=rx(Vt,v4,ln,It<400?-1:1);if(!bt)throw new Error("Could not find a matching font-weight for value "+It);return bt})(Tt.weight,gt)))throw new Error("Failed to resolve a font for the rule '"+ix(Tt)+"'.");return gt})(at,ze);this.pdf.setFont(it.ref.name,it.ref.style)}else{var rt="";(Be==="bold"||parseInt(Be,10)>=700||nt==="bold")&&(rt="bold"),nt==="italic"&&(rt+="italic"),rt.length===0&&(rt="normal");for(var ut="",vt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<ct.length;dt++){if(this.pdf.internal.getFont(ct[dt],rt,{noFallback:!0,disableWarning:!0})!==void 0){ut=ct[dt];break}if(rt==="bolditalic"&&this.pdf.internal.getFont(ct[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=ct[dt],rt="bold";else if(this.pdf.internal.getFont(ct[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=ct[dt],rt="normal";break}}if(ut===""){for(var yt=0;yt<ct.length;yt++)if(vt[ct[yt]]){ut=vt[ct[yt]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,rt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(z){this.ctx.globalCompositeOperation=z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(z){this.ctx.globalAlpha=z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(z){this.ctx.lineDashOffset=z,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(z){this.ctx.lineDash=z,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(z){this.ctx.ignoreClearRect=!!z}})};y.prototype.setLineDash=function(L){this.lineDash=L},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){V.call(this,"fill",!1)},y.prototype.stroke=function(){V.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(L,X){if(isNaN(L)||isNaN(X))throw gr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new u(L,X));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new u(L,X)},y.prototype.closePath=function(){var L=new u(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&rr(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){L=new u(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(L.x,L.y)},y.prototype.lineTo=function(L,X){if(isNaN(L)||isNaN(X))throw gr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new u(L,X));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new u(W.x,W.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},y.prototype.quadraticCurveTo=function(L,X,W,Q){if(isNaN(W)||isNaN(Q)||isNaN(L)||isNaN(X))throw gr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new u(W,Q)),pe=this.ctx.transform.applyToPoint(new u(L,X));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:se.x,y:se.y}),this.ctx.lastPoint=new u(se.x,se.y)},y.prototype.bezierCurveTo=function(L,X,W,Q,se,pe){if(isNaN(se)||isNaN(pe)||isNaN(L)||isNaN(X)||isNaN(W)||isNaN(Q))throw gr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new u(se,pe)),xe=this.ctx.transform.applyToPoint(new u(L,X)),we=this.ctx.transform.applyToPoint(new u(W,Q));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:we.x,y2:we.y,x:de.x,y:de.y}),this.ctx.lastPoint=new u(de.x,de.y)},y.prototype.arc=function(L,X,W,Q,se,pe){if(isNaN(L)||isNaN(X)||isNaN(W)||isNaN(Q)||isNaN(se))throw gr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new u(L,X));L=de.x,X=de.y;var xe=this.ctx.transform.applyToPoint(new u(0,W)),we=this.ctx.transform.applyToPoint(new u(0,0));W=Math.sqrt(Math.pow(xe.x-we.x,2)+Math.pow(xe.y-we.y,2))}Math.abs(se-Q)>=2*Math.PI&&(Q=0,se=2*Math.PI),this.path.push({type:"arc",x:L,y:X,radius:W,startAngle:Q,endAngle:se,counterclockwise:pe})},y.prototype.arcTo=function(L,X,W,Q,se){throw new Error("arcTo not implemented.")},y.prototype.rect=function(L,X,W,Q){if(isNaN(L)||isNaN(X)||isNaN(W)||isNaN(Q))throw gr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,X),this.lineTo(L+W,X),this.lineTo(L+W,X+Q),this.lineTo(L,X+Q),this.lineTo(L,X),this.lineTo(L+W,X),this.lineTo(L,X)},y.prototype.fillRect=function(L,X,W,Q){if(isNaN(L)||isNaN(X)||isNaN(W)||isNaN(Q))throw gr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,X,W,Q),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},y.prototype.strokeRect=function(L,X,W,Q){if(isNaN(L)||isNaN(X)||isNaN(W)||isNaN(Q))throw gr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");A.call(this)||(this.beginPath(),this.rect(L,X,W,Q),this.stroke())},y.prototype.clearRect=function(L,X,W,Q){if(isNaN(L)||isNaN(X)||isNaN(W)||isNaN(Q))throw gr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,X,W,Q))},y.prototype.save=function(L){L=typeof L!="boolean"||L;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},y.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(X),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function(L){var X,W,Q,se;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))X=0,W=0,Q=0,se=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(pe!==null)X=parseInt(pe[1]),W=parseInt(pe[2]),Q=parseInt(pe[3]),se=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)X=parseInt(pe[1]),W=parseInt(pe[2]),Q=parseInt(pe[3]),se=parseFloat(pe[4]);else{if(se=1,typeof L=="string"&&L.charAt(0)!=="#"){var de=new c4(L);L=de.ok?de.toHex():"#000000"}L.length===4?(X=L.substring(1,2),X+=X,W=L.substring(2,3),W+=W,Q=L.substring(3,4),Q+=Q):(X=L.substring(1,3),W=L.substring(3,5),Q=L.substring(5,7)),X=parseInt(X,16),W=parseInt(W,16),Q=parseInt(Q,16)}}return{r:X,g:W,b:Q,a:se,style:L}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},A=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(L,X,W,Q){if(isNaN(X)||isNaN(W)||typeof L!="string")throw gr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!v.call(this)){var se=le(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;I.call(this,{text:L,x:X,y:W,scale:pe,angle:se,align:this.textAlign,maxWidth:Q})}},y.prototype.strokeText=function(L,X,W,Q){if(isNaN(X)||isNaN(W)||typeof L!="string")throw gr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!A.call(this)){Q=isNaN(Q)?void 0:Q;var se=le(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;I.call(this,{text:L,x:X,y:W,scale:pe,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:Q})}},y.prototype.measureText=function(L){if(typeof L!="string")throw gr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,W=this.pdf.internal.scaleFactor,Q=X.internal.getFontSize(),se=X.getStringUnitWidth(L)*Q/X.internal.scaleFactor;return new function(pe){var de=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:se*=Math.round(96*W/72*1e4)/1e4})},y.prototype.scale=function(L,X){if(isNaN(L)||isNaN(X))throw gr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new f(L,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},y.prototype.rotate=function(L){if(isNaN(L))throw gr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new f(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},y.prototype.translate=function(L,X){if(isNaN(L)||isNaN(X))throw gr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new f(1,0,0,1,L,X);this.ctx.transform=this.ctx.transform.multiply(W)},y.prototype.transform=function(L,X,W,Q,se,pe){if(isNaN(L)||isNaN(X)||isNaN(W)||isNaN(Q)||isNaN(se)||isNaN(pe))throw gr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new f(L,X,W,Q,se,pe);this.ctx.transform=this.ctx.transform.multiply(de)},y.prototype.setTransform=function(L,X,W,Q,se,pe){L=isNaN(L)?1:L,X=isNaN(X)?0:X,W=isNaN(W)?0:W,Q=isNaN(Q)?1:Q,se=isNaN(se)?0:se,pe=isNaN(pe)?0:pe,this.ctx.transform=new f(L,X,W,Q,se,pe)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(L,X,W,Q,se,pe,de,xe,we){var Fe=this.pdf.getImageProperties(L),Ye=1,Ze=1,lt=1,z=1;Q!==void 0&&xe!==void 0&&(lt=xe/Q,z=we/se,Ye=Fe.width/Q*xe/Q,Ze=Fe.height/se*we/se),pe===void 0&&(pe=X,de=W,X=0,W=0),Q!==void 0&&xe===void 0&&(xe=Q,we=se),Q===void 0&&xe===void 0&&(xe=Fe.width,we=Fe.height);var Ne=this.ctx.transform.decompose(),nt=le(Ne.rotate.shx),Be=new f,je=(Be=(Be=(Be=Be.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale)).applyToRectangle(new c(pe-X*lt,de-W*z,Q*Ye,se*Ze));if(this.autoPaging){for(var et,Ue=k.call(this,je),ct=[],at=0;at<Ue.length;at+=1)ct.indexOf(Ue[at])===-1&&ct.push(Ue[at]);D(ct);for(var ze=ct[0],it=ct[ct.length-1],rt=ze;rt<it+1;rt++){this.pdf.setPage(rt);var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=rt===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=rt===1?0:dt+(rt-2)*yt;if(this.ctx.clip_path.length!==0){var wn=this.path;et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(et,this.posX+this.margin[3],-ht+vt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=wn}var Zt=JSON.parse(JSON.stringify(je));Zt=R([Zt],this.posX+this.margin[3],-ht+vt+this.ctx.prevPageLastElemOffset)[0];var Nt=(rt>ze||rt<it)&&N.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,yt,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Zt.x,Zt.y,Zt.w,Zt.h,null,null,nt),Nt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",je.x,je.y,je.w,je.h,null,null,nt)};var k=function(L,X,W){var Q=[];X=X||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":Q.push(Math.floor((L.y+se)/W)+1);break;case"arc":Q.push(Math.floor((L.y+se-L.radius)/W)+1),Q.push(Math.floor((L.y+se+L.radius)/W)+1);break;case"qct":var pe=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);Q.push(Math.floor((pe.y+se)/W)+1),Q.push(Math.floor((pe.y+pe.h+se)/W)+1);break;case"bct":var de=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);Q.push(Math.floor((de.y+se)/W)+1),Q.push(Math.floor((de.y+de.h+se)/W)+1);break;case"rect":Q.push(Math.floor((L.y+se)/W)+1),Q.push(Math.floor((L.y+L.h+se)/W)+1)}for(var xe=0;xe<Q.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<Q[xe];)C.call(this);return Q},C=function(){var L=this.fillStyle,X=this.strokeStyle,W=this.font,Q=this.lineCap,se=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=X,this.font=W,this.lineCap=Q,this.lineWidth=se,this.lineJoin=pe},R=function(L,X,W){for(var Q=0;Q<L.length;Q++)switch(L[Q].type){case"bct":L[Q].x2+=X,L[Q].y2+=W;case"qct":L[Q].x1+=X,L[Q].y1+=W;default:L[Q].x+=X,L[Q].y+=W}return L},D=function(L){return L.sort(function(X,W){return X-W})},V=function(L,X){var W=this.fillStyle,Q=this.strokeStyle,se=this.lineCap,pe=this.lineWidth,de=Math.abs(pe*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var we,Fe,Ye=JSON.parse(JSON.stringify(this.path)),Ze=JSON.parse(JSON.stringify(this.path)),lt=[],z=0;z<Ze.length;z++)if(Ze[z].x!==void 0)for(var Ne=k.call(this,Ze[z]),nt=0;nt<Ne.length;nt+=1)lt.indexOf(Ne[nt])===-1&&lt.push(Ne[nt]);for(var Be=0;Be<lt.length;Be++)for(;this.pdf.internal.getNumberOfPages()<lt[Be];)C.call(this);D(lt);for(var je=lt[0],et=lt[lt.length-1],Ue=je;Ue<et+1;Ue++){this.pdf.setPage(Ue),this.fillStyle=W,this.strokeStyle=Q,this.lineCap=se,this.lineWidth=de,this.lineJoin=xe;var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=Ue===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=Ue===1?0:ze+(Ue-2)*it;if(this.ctx.clip_path.length!==0){var ut=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(we,this.posX+this.margin[3],-rt+at+this.ctx.prevPageLastElemOffset),F.call(this,L,!0),this.path=ut}if(Fe=JSON.parse(JSON.stringify(Ye)),this.path=R(Fe,this.posX+this.margin[3],-rt+at+this.ctx.prevPageLastElemOffset),X===!1||Ue===0){var vt=(Ue>je||Ue<et)&&N.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,it,null).clip().discardPath()),F.call(this,L,X),vt&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}this.path=Ye}else this.lineWidth=de,F.call(this,L,X),this.lineWidth=pe},F=function(L,X){if((L!=="stroke"||X||!A.call(this))&&(L==="stroke"||X||!v.call(this))){for(var W,Q,se=[],pe=this.path,de=0;de<pe.length;de++){var xe=pe[de];switch(xe.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:xe,deltas:[],abs:[]});break;case"lt":var we=se.length;if(pe[de-1]&&!isNaN(pe[de-1].x)&&(W=[xe.x-pe[de-1].x,xe.y-pe[de-1].y],we>0)){for(;we>=0;we--)if(se[we-1].close!==!0&&se[we-1].begin!==!0){se[we-1].deltas.push(W),se[we-1].abs.push(xe);break}}break;case"bct":W=[xe.x1-pe[de-1].x,xe.y1-pe[de-1].y,xe.x2-pe[de-1].x,xe.y2-pe[de-1].y,xe.x-pe[de-1].x,xe.y-pe[de-1].y],se[se.length-1].deltas.push(W);break;case"qct":var Fe=pe[de-1].x+2/3*(xe.x1-pe[de-1].x),Ye=pe[de-1].y+2/3*(xe.y1-pe[de-1].y),Ze=xe.x+2/3*(xe.x1-xe.x),lt=xe.y+2/3*(xe.y1-xe.y),z=xe.x,Ne=xe.y;W=[Fe-pe[de-1].x,Ye-pe[de-1].y,Ze-pe[de-1].x,lt-pe[de-1].y,z-pe[de-1].x,Ne-pe[de-1].y],se[se.length-1].deltas.push(W);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(xe)}}Q=X?null:L==="stroke"?"stroke":"fill";for(var nt=!1,Be=0;Be<se.length;Be++)if(se[Be].arc)for(var je=se[Be].abs,et=0;et<je.length;et++){var Ue=je[et];Ue.type==="arc"?E.call(this,Ue.x,Ue.y,Ue.radius,Ue.startAngle,Ue.endAngle,Ue.counterclockwise,void 0,X,!nt):ee.call(this,Ue.x,Ue.y),nt=!0}else if(se[Be].close===!0)this.pdf.internal.out("h"),nt=!1;else if(se[Be].begin!==!0){var ct=se[Be].start.x,at=se[Be].start.y;U.call(this,se[Be].deltas,ct,at),nt=!0}Q&&B.call(this,Q),X&&te.call(this)}},Y=function(L){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-W;case"top":return L+X-W;case"hanging":return L+X-2*W;case"middle":return L+X/2-W;default:return L}},H=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(X,W){this.colorStops.push([X,W])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(L,X,W,Q,se,pe,de,xe,we){for(var Fe=$.call(this,W,Q,se,pe),Ye=0;Ye<Fe.length;Ye++){var Ze=Fe[Ye];Ye===0&&(we?j.call(this,Ze.x1+L,Ze.y1+X):ee.call(this,Ze.x1+L,Ze.y1+X)),oe.call(this,L,X,Ze.x2,Ze.y2,Ze.x3,Ze.y3,Ze.x4,Ze.y4)}xe?te.call(this):B.call(this,de)},B=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},te=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(L,X){this.pdf.internal.out(t(L)+" "+s(X)+" m")},I=function(L){var X;switch(L.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var W,Q,se,pe=this.pdf.getTextDimensions(L.text),de=Y.call(this,L.y),xe=H.call(this,de)-pe.h,we=this.ctx.transform.applyToPoint(new u(L.x,de));if(this.autoPaging){var Fe=this.ctx.transform.decompose(),Ye=new f;Ye=(Ye=(Ye=Ye.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var Ze=this.ctx.transform.applyToRectangle(new c(L.x,de,pe.w,pe.h)),lt=Ye.applyToRectangle(new c(L.x,xe,pe.w,pe.h)),z=k.call(this,lt),Ne=[],nt=0;nt<z.length;nt+=1)Ne.indexOf(z[nt])===-1&&Ne.push(z[nt]);D(Ne);for(var Be=Ne[0],je=Ne[Ne.length-1],et=Be;et<je+1;et++){this.pdf.setPage(et);var Ue=et===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],ze=at-this.margin[0],it=this.pdf.internal.pageSize.width-this.margin[1],rt=it-this.margin[3],ut=et===1?0:ct+(et-2)*ze;if(this.ctx.clip_path.length!==0){var vt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(W,this.posX+this.margin[3],-1*ut+Ue),F.call(this,"fill",!0),this.path=vt}var dt=R([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-ut+Ue+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*L.scale),se=this.lineWidth,this.lineWidth=se*L.scale);var yt=this.autoPaging!=="text";if(yt||dt.y+dt.h<=at){if(yt||dt.y>=Ue&&dt.x<=it){var ht=yt?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||it-dt.x)[0],wn=R([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-ut+Ue+this.ctx.prevPageLastElemOffset)[0],Zt=yt&&(et>Be||et<je)&&N.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,ze,null).clip().discardPath()),this.pdf.text(ht,wn.x,wn.y,{angle:L.angle,align:X,renderingMode:L.renderingMode}),Zt&&this.pdf.restoreGraphicsState()}}else dt.y<at&&(this.ctx.prevPageLastElemOffset+=at-dt.y);L.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=se)}}else L.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*L.scale),se=this.lineWidth,this.lineWidth=se*L.scale),this.pdf.text(L.text,we.x+this.posX,we.y+this.posY,{angle:L.angle,align:X,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=se)},ee=function(L,X,W,Q){W=W||0,Q=Q||0,this.pdf.internal.out(t(L+W)+" "+s(X+Q)+" l")},U=function(L,X,W){return this.pdf.lines(L,X,W,null,null)},oe=function(L,X,W,Q,se,pe,de,xe){this.pdf.internal.out([e(a(W+L)),e(o(Q+X)),e(a(se+L)),e(o(pe+X)),e(a(de+L)),e(o(xe+X)),"c"].join(" "))},$=function(L,X,W,Q){for(var se=2*Math.PI,pe=Math.PI/2;X>W;)X-=se;var de=Math.abs(W-X);de<se&&Q&&(de=se-de);for(var xe=[],we=Q?-1:1,Fe=X;de>1e-5;){var Ye=Fe+we*Math.min(de,pe);xe.push(ne.call(this,L,Fe,Ye)),de-=Math.abs(Ye-Fe),Fe=Ye}return xe},ne=function(L,X,W){var Q=(W-X)/2,se=L*Math.cos(Q),pe=L*Math.sin(Q),de=se,xe=-pe,we=de*de+xe*xe,Fe=we+de*se+xe*pe,Ye=4/3*(Math.sqrt(2*we*Fe)-Fe)/(de*pe-xe*se),Ze=de-Ye*xe,lt=xe+Ye*de,z=Ze,Ne=-lt,nt=Q+X,Be=Math.cos(nt),je=Math.sin(nt);return{x1:L*Math.cos(X),y1:L*Math.sin(X),x2:Ze*Be-lt*je,y2:Ze*je+lt*Be,x3:z*Be-Ne*je,y3:z*je+Ne*Be,x4:L*Math.cos(W),y4:L*Math.sin(W)}},le=function(L){return 180*L/Math.PI},fe=function(L,X,W,Q,se,pe){var de=L+.5*(W-L),xe=X+.5*(Q-X),we=se+.5*(W-se),Fe=pe+.5*(Q-pe),Ye=Math.min(L,se,de,we),Ze=Math.max(L,se,de,we),lt=Math.min(X,pe,xe,Fe),z=Math.max(X,pe,xe,Fe);return new c(Ye,lt,Ze-Ye,z-lt)},be=function(L,X,W,Q,se,pe,de,xe){var we,Fe,Ye,Ze,lt,z,Ne,nt,Be,je,et,Ue,ct,at,ze=W-L,it=Q-X,rt=se-W,ut=pe-Q,vt=de-se,dt=xe-pe;for(Fe=0;Fe<41;Fe++)Be=(Ne=(Ye=L+(we=Fe/40)*ze)+we*((lt=W+we*rt)-Ye))+we*(lt+we*(se+we*vt-lt)-Ne),je=(nt=(Ze=X+we*it)+we*((z=Q+we*ut)-Ze))+we*(z+we*(pe+we*dt-z)-nt),Fe==0?(et=Be,Ue=je,ct=Be,at=je):(et=Math.min(et,Be),Ue=Math.min(Ue,je),ct=Math.max(ct,Be),at=Math.max(at,je));return new c(Math.round(et),Math.round(Ue),Math.round(ct-et),Math.round(at-Ue))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,X,W=(L=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:X}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(Bt.API),(function(n){var e=function(u){var c,f,d,p,y,_,v,A,N,k;for(f=[],d=0,p=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;p>d;d+=4)(y=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(_=(y=((y=((y=((y=(y-(k=y%85))/85)-(N=y%85))/85)-(A=y%85))/85)-(v=y%85))/85)%85,f.push(_+33,v+33,A+33,N+33,k+33)):f.push(122);return(function(C,R){for(var D=R;D>0;D--)C.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,p,y,_=String,v="length",A=255,N="charCodeAt",k="slice",C="replace";for(u[k](-2),u=u[k](0,-2)[C](/\s/g,"")[C]("z","!!!!!"),d=[],p=0,y=(u+=c="uuuuu"[k](u[v]%5||5))[v];y>p;p+=5)f=52200625*(u[N](p)-33)+614125*(u[N](p+1)-33)+7225*(u[N](p+2)-33)+85*(u[N](p+3)-33)+(u[N](p+4)-33),d.push(A&f>>24,A&f>>16,A&f>>8,A&f);return(function(R,D){for(var V=D;V>0;V--)R.pop()})(d,c[v]),_.fromCharCode.apply(_,d)},s=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=yg(c)).reduce(function(d,p){return d+String.fromCharCode(p)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=s(d),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:p.reverse().join(" ")}}})(Bt.API),(function(n){n.loadFile=function(e,t,s){return(function(a,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,p){var y=new XMLHttpRequest,_=0,v=function(A){var N=A.length,k=[],C=String.fromCharCode;for(_=0;_<N;_+=1)k.push(C(255&A.charCodeAt(_)));return k.join("")};if(y.open("GET",f,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?p(v(this.responseText)):p(void 0)}),y.send(null),d&&y.status===200)return v(y.responseText)})(a,o,u)}catch{}return c})(e,t,s)},n.loadImageFile=n.loadFile})(Bt.API),(function(n){function e(){return(nn.html2canvas?Promise.resolve(nn.html2canvas):Ch(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(nn.DOMPurify?Promise.resolve(nn.DOMPurify):Ch(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var s=function(c){var f=rr(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var p in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[p]=f.style[p];return d},o=function c(f,d){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||p.appendChild(c(y,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft},!0)),p},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),d);return(p=p.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(s(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,p=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=p,p)for(var v=0;v<p.length;++v){var A=p[v],N=A.src.find(function(k){return k.format==="truetype"});N&&d.addFont(N.url,A.ref.name,A.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,d.context2d.save(!0),f(this.prop.container,_)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(s(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(s(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,p){return Math.floor(d*p/72*96)}return this.then(function(){(c=c||Bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,p){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,p){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,p?this.progress.stack.concat(p):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(p,y){return d.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(_){return d.updateProgress(null,p),_}).then(p,y).then(function(_){return d.updateProgress(1),_})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),f&&(f=f.bind(p));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:u.convert(Object.assign({},p),Promise.prototype),_=d.call(y,c,f);return u.convert(_,p.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,Bt.getPageSize=function(c,f,d){if(rr(c)==="object"){var p=c;c=p.orientation,f=p.unit||f,d=p.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var y,_=(""+d).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+f}var A,N=0,k=0;if(v.hasOwnProperty(_))N=v[_][1]/y,k=v[_][0]/y;else try{N=d[1],k=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",k>N&&(A=k,k=N,N=A);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",N>k&&(A=k,k=N,N=A)}return{width:k,height:N,unit:f,k:y,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Pm):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(Bt.API),Bt.API.addJS=function(n){return lx=n,this.internal.events.subscribe("postPutResources",function(){F1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(F1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ox=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+lx+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){F1!==void 0&&ox!==void 0&&this.internal.out("/Names <</JavaScript "+F1+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var u=a[o],c=s.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(o=0;o<d;o++){var y=t.internal.newObject();p.push(y);var _=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<p.length;o++)t.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(s,a,o){var u={title:a,options:o,children:[]};return s==null&&(s=this.root),s.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(s){s.id=t.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},t.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},t.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<s.children.length;o++){var u=s.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(s)),o>0&&this.line("/Prev "+this.makeRef(s.children[o-1])),o<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},t.outline.line=function(s){this.ctx.val+=s+`\r
`},t.outline.makeRef=function(s){return s.id+" 0 R"},t.outline.makeString=function(s){return"("+t.internal.pdfEscape(s)+")"},t.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(s,a){for(var o=0;o<a.children.length;o++)s.count++,this.count_r(s,a.children[o]);return s.count}}])})(Bt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,s,a,o,u,c){var f,d=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(y){for(var _,v=256*y.charCodeAt(4)+y.charCodeAt(5),A=y.length,N={width:0,height:0,numcomponents:1},k=4;k<A;k+=2){if(k+=v,e.indexOf(y.charCodeAt(k+1))!==-1){_=256*y.charCodeAt(k+5)+y.charCodeAt(k+6),N={width:256*y.charCodeAt(k+7)+y.charCodeAt(k+8),height:_,numcomponents:y.charCodeAt(k+9)};break}v=256*y.charCodeAt(k+2)+y.charCodeAt(k+3)}return N})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:s,alias:a}}return p}})(Bt.API),Bt.API.processPNG=function(n,e,t,s){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,o=LM(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,p=o.depth;a=d&&f===1?(function(E){for(var B=E.width,te=E.height,j=E.data,I=E.palette,ee=E.depth,U=!1,oe=[],$=[],ne=void 0,le=!1,fe=0,be=0;be<I.length;be++){var G=fy(I[be],4),L=G[0],X=G[1],W=G[2],Q=G[3];oe.push(L,X,W),Q!=null&&(Q===0?(fe++,$.length<1&&$.push(be)):Q<255&&(le=!0))}if(le||fe>1){U=!0,$=void 0;var se=B*te;ne=new Uint8Array(se);for(var pe=new DataView(j.buffer),de=0;de<se;de++){var xe=Um(pe,de,ee),we=fy(I[xe],4)[3];ne[de]=we}}else fe===0&&($=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:j,alphaBytes:ne,needSMask:U,palette:oe,mask:$}})(o):f===2||f===4?(function(E){for(var B=E.data,te=E.width,j=E.height,I=E.channels,ee=E.depth,U=I===2?"DeviceGray":"DeviceRGB",oe=I-1,$=te*j,ne=oe,le=$*ne,fe=1*$,be=Math.ceil(le*ee/8),G=Math.ceil(fe*ee/8),L=new Uint8Array(be),X=new Uint8Array(G),W=new DataView(B.buffer),Q=new DataView(L.buffer),se=new DataView(X.buffer),pe=!1,de=0;de<$;de++){for(var xe=de*I,we=0;we<ne;we++)bx(Q,Um(W,xe+we,ee),de*ne+we,ee);var Fe=Um(W,xe+ne,ee);Fe<(1<<ee)-1&&(pe=!0),bx(se,Fe,1*de,ee)}return{colorSpace:U,colorsPerPixel:oe,sMaskBitsPerComponent:pe?ee:void 0,colorBytes:L,alphaBytes:X,needSMask:pe}})(o):(function(E){var B=E.data,te=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:te,colorsPerPixel:te==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(j){for(var I=j.length,ee=new Uint8Array(2*I),U=new DataView(ee.buffer,ee.byteOffset,ee.byteLength),oe=0;oe<I;oe++)U.setUint16(2*oe,j[oe],!1);return ee})(B):B,needSMask:!1}})(o);var y,_,v,A=a,N=A.colorSpace,k=A.colorsPerPixel,C=A.sMaskBitsPerComponent,R=A.colorBytes,D=A.alphaBytes,V=A.needSMask,F=A.palette,Y=A.mask,H=null;return s!==Bt.API.image_compression.NONE&&typeof yg=="function"?(H=(function(E){var B;switch(E){case Bt.API.image_compression.FAST:B=11;break;case Bt.API.image_compression.MEDIUM:B=13;break;case Bt.API.image_compression.SLOW:B=14;break;default:B=12}return B})(s),y=this.decode.FLATE_DECODE,_="/Predictor ".concat(H," /Colors ").concat(k," /BitsPerComponent ").concat(p," /Columns ").concat(u),n=fx(R,Math.ceil(u*k*p/8),k,p,s),V&&(v=fx(D,Math.ceil(u*C/8),1,C,s))):(y=void 0,_=void 0,n=R,V&&(v=D)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:t,data:n,index:e,filter:y,decodeParameters:_,transparency:Y,palette:F,sMask:v,predictor:H,width:u,height:c,bitsPerComponent:p,sMaskBitsPerComponent:C,colorSpace:N}}},(function(n){n.processGIF89A=function(e,t,s,a){var o=new JM(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},p=new Hm(100).encode(d,100);return n.processJPEG.call(this,p,t,s,a)},n.processGIF87A=n.processGIF89A})(Bt.API),io.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},io.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){gr.log("bit decode error:"+t)}},io.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),u=s*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},io.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var o=this.datav.getUint8(this.pos++,!0),u=s*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},io.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*s;if(a<this.palette.length){var u=this.palette[a];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},io.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,p=s*this.width*4+4*a;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=u,this.data[p+3]=d}this.pos+=n}},io.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,p=a*this.width*4+4*o;this.data[p]=d,this.data[p+1]=f,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},io.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=255}this.pos+=this.width%4}},io.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=u}},io.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,s,a){var o=new io(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new Hm(100).encode(f,100);return n.processJPEG.call(this,d,t,s,a)}})(Bt.API),yx.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,s,a){var o=new yx(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new Hm(100).encode(f,100);return n.processJPEG.call(this,d,t,s,a)}})(Bt.API),Bt.API.processRGBA=function(n,e,t){for(var s=n.data,a=s.length,o=new Uint8Array(a/4*3),u=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var p=s[d],y=s[d+1],_=s[d+2],v=s[d+3];o[c++]=p,o[c++]=y,o[c++]=_,u[f++]=v}var A=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:A,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Bt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bh=Bt.API,B1=bh.getCharWidthsArray=function(n,e){var t,s,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,p=d.fof?d.fof:1,y=e.doKerning!==!1,_=0,v=n.length,A=0,N=c[0]||f,k=[];for(t=0;t<v;t++)s=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?k.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+u*(1e3/o)||0)/1e3):(_=y&&rr(d[s])==="object"&&!isNaN(parseInt(d[s][A],10))?d[s][A]/p:0,k.push((c[s]||N)/f+_)),A=s;return k},cx=bh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return bh.processArabic&&(n=bh.processArabic(n)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(n,t,a)/t:B1.apply(this,arguments).reduce(function(o,u){return o+u},0)},ux=function(n,e,t,s){for(var a=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;a.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>s&&(a.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(n.slice(f,o)),a},hx=function(n,e,t){t||(t={});var s,a,o,u,c,f,d,p=[],y=[p],_=t.textIndent||0,v=0,A=0,N=n.split(" "),k=B1.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var C=Array(f).join(" "),R=[];N.map(function(V){(V=V.split(/\s*\n/)).length>1?R=R.concat(V.map(function(F,Y){return(Y&&F.length?`
`:"")+F})):R.push(V[0])}),N=R,f=cx.apply(this,[C,t])}for(o=0,u=N.length;o<u;o++){var D=0;if(s=N[o],f&&s[0]==`
`&&(s=s.substr(1),D=1),_+v+(A=(a=B1.apply(this,[s,t])).reduce(function(V,F){return V+F},0))>e||D){if(A>e){for(c=ux.apply(this,[s,a,e-(_+v),e]),p.push(c.shift()),p=[c.pop()];c.length;)y.push([c.shift()]);A=a.slice(s.length-(p[0]?p[0].length:0)).reduce(function(V,F){return V+F},0)}else p=[s];y.push(p),_=A+f,v=k}else p.push(s),_+=v+A,v=k}return d=f?function(V,F){return(F?C:"")+V.join(" ")}:function(V){return V.join(" ")},y.map(d)},bh.splitTextToSize=function(n,e,t){var s,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var y=this.internal.getFont(p.fontName,p.fontStyle),_="Unicode";return y.metadata[_]?{widths:y.metadata[_].widths||{0:1},kerning:y.metadata[_].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);s=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=s.length;c<f;c++)d=d.concat(hx.apply(this,[s[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",s={},a={},o=0;o<16;o++)s[t[o]]=e[o],a[e[o]]=t[o];var u=function(_){return"0x"+parseInt(_,10).toString(16)},c=n.__fontmetrics__.compress=function(_){var v,A,N,k,C=["{"];for(var R in _){if(v=_[R],isNaN(parseInt(R,10))?A="'"+R+"'":(R=parseInt(R,10),A=(A=u(R).slice(2)).slice(0,-1)+a[A.slice(-1)]),typeof v=="number")v<0?(N=u(v).slice(3),k="-"):(N=u(v).slice(2),k=""),N=k+N.slice(0,-1)+a[N.slice(-1)];else{if(rr(v)!=="object")throw new Error("Don't know what to do with value type "+rr(v)+".");N=c(v)}C.push(A+N)}return C.push("}"),C.join("")},f=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,A,N,k,C={},R=1,D=C,V=[],F="",Y="",H=_.length-1,E=1;E<H;E+=1)(k=_[E])=="'"?v?(N=v.join(""),v=void 0):v=[]:v?v.push(k):k=="{"?(V.push([D,N]),D={},N=void 0):k=="}"?((A=V.pop())[0][A[1]]=D,N=void 0,D=A[0]):k=="-"?R=-1:N===void 0?s.hasOwnProperty(k)?(F+=s[k],N=parseInt(F,16)*R,R=1,F=""):F+=k:s.hasOwnProperty(k)?(Y+=s[k],D[N]=parseInt(Y,16)*R,R=1,N=void 0,Y=""):Y+=k;return C},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var v=_.font,A=y.Unicode[v.postScriptName];A&&(v.metadata.Unicode={},v.metadata.Unicode.widths=A.widths,v.metadata.Unicode.kerning=A.kerning);var N=p.Unicode[v.postScriptName];N&&(v.metadata.Unicode.encoding=N,v.encoding=N.codePages[0])}])})(Bt.API),(function(n){var e=function(t){for(var s=t.length,a=new Uint8Array(s),o=0;o<s;o++)a[o]=t.charCodeAt(o);return a};n.API.events.push(["addFont",function(t){var s=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(G1(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(a,s)}}])})(Bt),Bt.API.addSvgAsImage=function(n,e,t,s,a,o,u,c){if(isNaN(e)||isNaN(t))throw gr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw gr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(nn.canvg?Promise.resolve(nn.canvg):Ch(()=>import("./index.es-C-aQADtb.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(d,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(p)}).then(function(){y.addImage(f.toDataURL("image/jpeg",1),e,t,s,a,u,c)})},Bt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,t);return this},Bt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var s,a,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,p=0,y=0;function _(A,N){var k,C=!1;for(k=0;k<A.length;k+=1)A[k]===N&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var v=c.length;for(y=0;y<v;y+=1)t[c[y]].value=t[c[y]].defaultValue,t[c[y]].explicitSet=!1}if(rr(n)==="object"){for(a in n)if(o=n[a],_(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&_(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(s=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(p=0;p<o[d].length;p+=1)typeof o[d][p]!="number"&&(s=!1);s===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var A,N=[];for(A in t)t[A].explicitSet===!0&&(t[A].type==="name"?N.push("/"+A+" /"+t[A].value):N.push("/"+A+" "+t[A].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(s)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Bt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],y=0,_=o.length;y<_;++y){if(c=u.metadata.characterToGlyph(o.charCodeAt(y)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(y),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(d[4-c.length],c)}return p.join("")},s=function(o){var u,c,f,d,p,y,_;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],y=0,_=(c=Object.keys(o).sort(function(v,A){return v-A})).length;y<_;y++)u=c[y],f.length>=100&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,p=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,_=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),v="",A=0;A<_.length;A++)v+=String.fromCharCode(_[A]);var N=d();p({data:v,addLength1:!0,objectId:N}),f("endobj");var k=d();p({data:s(c.metadata.toUnicode),addLength1:!0,objectId:k}),f("endobj");var C=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+xh(c.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var R=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+xh(c.fontName)),f("/FontDescriptor "+C+" 0 R"),f("/W "+n.API.PDFObject.convert(y)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+k+" 0 R"),f("/BaseFont /"+xh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+R+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,p=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,_="",v=0;v<y.length;v++)_+=String.fromCharCode(y[v]);var A=d();p({data:_,addLength1:!0,objectId:A}),f("endobj");var N=d();p({data:s(c.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var k=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+A+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+xh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var C=0;C<c.metadata.hmtx.widths.length;C++)c.metadata.hmtx.widths[C]=parseInt(c.metadata.hmtx.widths[C]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+xh(c.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var u,c=o.text||"",f=o.x,d=o.y,p=o.options||{},y=o.mutex||{},_=y.pdfEscape,v=y.activeFontKey,A=y.fonts,N=v,k="",C=0,R="",D=A[N].encoding;if(A[N].encoding!=="Identity-H")return{text:c,x:f,y:d,options:p,mutex:y};for(R=c,N=v,Array.isArray(c)&&(R=c[0]),C=0;C<R.length;C+=1)A[N].metadata.hasOwnProperty("cmap")&&(u=A[N].metadata.cmap.unicode.codeMap[R[C].charCodeAt(0)]),u||R[C].charCodeAt(0)<256&&A[N].metadata.hasOwnProperty("Unicode")?k+=R[C]:k+="";var V="";return parseInt(N.slice(1))<14||D==="WinAnsiEncoding"?V=_(k,N).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(V=t(k,A[N])),y.isHex=!0,{text:V,x:f,y:d,options:p,mutex:y}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([a(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(a(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:u})).text}])})(Bt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,s){return e.call(this),this.internal.vFS[t]=s,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Bt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(s){var a,o,u,c,f,d,p,y=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],A={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,D=0;this.__bidiEngine__={};var V=function(j){var I=j.charCodeAt(),ee=I>>8,U=N[ee];return U!==void 0?y[256*U+(255&I)]:ee===252||ee===253?"AL":C.test(ee)?"L":ee===8?"R":"N"},F=function(j){for(var I,ee=0;ee<j.length;ee++){if((I=V(j.charAt(ee)))==="L")return!1;if(I==="R")return!0}return!1},Y=function(j,I,ee,U){var oe,$,ne,le,fe=I[U];switch(fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(fe="AN");break;case"AL":R=!0,fe="R";break;case"WS":case"BN":fe="N";break;case"CS":U<1||U+1>=I.length||(oe=ee[U-1])!=="EN"&&oe!=="AN"||($=I[U+1])!=="EN"&&$!=="AN"?fe="N":R&&($="AN"),fe=$===oe?$:"N";break;case"ES":fe=(oe=U>0?ee[U-1]:"B")==="EN"&&U+1<I.length&&I[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&ee[U-1]==="EN"){fe="EN";break}if(R){fe="N";break}for(ne=U+1,le=I.length;ne<le&&I[ne]==="ET";)ne++;fe=ne<le&&I[ne]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(le=I.length,ne=U+1;ne<le&&I[ne]==="NSM";)ne++;if(ne<le){var be=j[U],G=be>=1425&&be<=2303||be===64286;if(oe=I[ne],G&&(oe==="R"||oe==="AL")){fe="R";break}}}fe=U<1||(oe=I[U-1])==="B"?"N":ee[U-1];break;case"B":R=!1,a=!0,fe=D;break;case"S":o=!0,fe="N"}return fe},H=function(j,I,ee){var U=j.split("");return ee&&E(U,ee,{hiLevel:D}),U.reverse(),I&&I.reverse(),U.join("")},E=function(j,I,ee){var U,oe,$,ne,le,fe=-1,be=j.length,G=0,L=[],X=D?v:_,W=[];for(R=!1,a=!1,o=!1,oe=0;oe<be;oe++)W[oe]=V(j[oe]);for($=0;$<be;$++){if(le=G,L[$]=Y(j,W,L,$),U=240&(G=X[le][A[L[$]]]),G&=15,I[$]=ne=X[G][5],U>0)if(U===16){for(oe=fe;oe<$;oe++)I[oe]=1;fe=-1}else fe=-1;if(X[G][6])fe===-1&&(fe=$);else if(fe>-1){for(oe=fe;oe<$;oe++)I[oe]=ne;fe=-1}W[$]==="B"&&(I[$]=0),ee.hiLevel|=ne}o&&(function(Q,se,pe){for(var de=0;de<pe;de++)if(Q[de]==="S"){se[de]=D;for(var xe=de-1;xe>=0&&Q[xe]==="WS";xe--)se[xe]=D}})(W,I,be)},B=function(j,I,ee,U,oe){if(!(oe.hiLevel<j)){if(j===1&&D===1&&!a)return I.reverse(),void(ee&&ee.reverse());for(var $,ne,le,fe,be=I.length,G=0;G<be;){if(U[G]>=j){for(le=G+1;le<be&&U[le]>=j;)le++;for(fe=G,ne=le-1;fe<ne;fe++,ne--)$=I[fe],I[fe]=I[ne],I[ne]=$,ee&&($=ee[fe],ee[fe]=ee[ne],ee[ne]=$);G=le}G++}}},te=function(j,I,ee){var U=j.split(""),oe={hiLevel:D};return ee||(ee=[]),E(U,ee,oe),(function($,ne,le){if(le.hiLevel!==0&&p)for(var fe,be=0;be<$.length;be++)ne[be]===1&&(fe=k.indexOf($[be]))>=0&&($[be]=k[fe+1])})(U,ee,oe),B(2,U,I,ee,oe),B(1,U,I,ee,oe),U.join("")};return this.__bidiEngine__.doBidiReorder=function(j,I,ee){if((function(oe,$){if($)for(var ne=0;ne<oe.length;ne++)$[ne]=ne;c===void 0&&(c=F(oe)),d===void 0&&(d=F(oe))})(j,I),u||!f||d)if(u&&f&&c^d)D=c?1:0,j=H(j,I,ee);else if(!u&&f&&d)D=c?1:0,j=te(j,I,ee),j=H(j,I);else if(!u||c||f||d){if(u&&!f&&c^d)j=H(j,I),c?(D=0,j=te(j,I,ee)):(D=1,j=te(j,I,ee),j=H(j,I));else if(u&&c&&!f&&d)D=1,j=te(j,I,ee),j=H(j,I);else if(!u&&!f&&c^d){var U=p;c?(D=1,j=te(j,I,ee),D=0,p=!1,j=te(j,I,ee),p=U):(D=0,j=te(j,I,ee),j=H(j,I),D=1,p=!1,j=te(j,I,ee),p=U,j=H(j,I))}}else D=0,j=te(j,I,ee);else D=c?1:0,j=te(j,I,ee);return j},this.__bidiEngine__.setOptions=function(j){j&&(u=j.isInputVisual,f=j.isOutputVisual,c=j.isInputRtl,d=j.isOutputRtl,p=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(s){var a=s.text;s.x,s.y;var o=s.options||{};s.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(u=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?u.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):u.push([t.doBidiReorder(a[c])]);s.text=u}else s.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Bt),Bt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Mc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new pL(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new eL(this.contents),this.head=new nL(this),this.name=new oL(this),this.cmap=new x4(this),this.toUnicode={},this.hhea=new rL(this),this.maxp=new lL(this),this.hmtx=new cL(this),this.post=new iL(this),this.os2=new sL(this),this.loca=new dL(this),this.glyf=new uL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,s,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,s){var a,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var s;return t==null&&(t=!1),s=t?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},n})();var yo,Mc=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,s;for(s=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)s[t]=String.fromCharCode(this.readByte());return s.join("")},n.prototype.writeString=function(e){var t,s,a;for(a=[],t=0,s=e.length;0<=s?t<s:t>s;t=0<=s?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,s,a,o,u,c,f;return e=this.readByte(),t=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*s+4294967296*a+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,s;return t=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,s;for(t=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)t.push(this.readByte());return t},n.prototype.write=function(e){var t,s,a,o;for(o=[],s=0,a=e.length;s<a;s++)t=e[s],o.push(this.writeByte(t));return o},n})(),eL=(function(){var n;function e(t){var s,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)s={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(t){var s,a,o,u,c,f,d,p,y,_,v,A,N;for(N in v=Object.keys(t).length,f=Math.log(2),y=16*Math.floor(Math.log(v)/f),u=Math.floor(y/f),p=16*v-y,(a=new Mc).writeInt(this.scalarType),a.writeShort(v),a.writeShort(y),a.writeShort(u),a.writeShort(p),o=16*v,d=a.pos+o,c=null,A=[],t)for(_=t[N],a.writeString(N),a.writeInt(n(_)),a.writeInt(d),a.writeInt(_.length),A=A.concat(_),N==="head"&&(c=d),d+=_.length;d%4;)A.push(0),d++;return a.write(A),s=2981146554-n(a.data),a.pos=c+8,a.writeUInt32(s),a.data},n=function(t){var s,a,o,u;for(t=w4.call(t);t.length%4;)t.push(0);for(o=new Mc(t),a=0,s=0,u=t.length;s<u;s=s+=4)a+=o.readUInt32();return 4294967295&a},e})(),tL={}.hasOwnProperty,Xo=function(n,e){for(var t in e)tL.call(e,t)&&(n[t]=e[t]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};yo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var nL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Mc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),xx=(function(){function n(e,t){var s,a,o,u,c,f,d,p,y,_,v,A,N,k,C,R,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(v=e.readUInt16(),_=v/2,e.pos+=6,o=(function(){var V,F;for(F=[],f=V=0;0<=_?V<_:V>_;f=0<=_?++V:--V)F.push(e.readUInt16());return F})(),e.pos+=2,N=(function(){var V,F;for(F=[],f=V=0;0<=_?V<_:V>_;f=0<=_?++V:--V)F.push(e.readUInt16());return F})(),d=(function(){var V,F;for(F=[],f=V=0;0<=_?V<_:V>_;f=0<=_?++V:--V)F.push(e.readUInt16());return F})(),p=(function(){var V,F;for(F=[],f=V=0;0<=_?V<_:V>_;f=0<=_?++V:--V)F.push(e.readUInt16());return F})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var V,F;for(F=[],f=V=0;0<=a?V<a:V>a;f=0<=a?++V:--V)F.push(e.readUInt16());return F})(),f=C=0,D=o.length;C<D;f=++C)for(k=o[f],s=R=A=N[f];A<=k?R<=k:R>=k;s=A<=k?++R:--R)p[f]===0?u=s+d[f]:(u=c[p[f]/2+(s-A)-(_-f)]||0)!==0&&(u+=d[f]),this.codeMap[s]=65535&u}e.pos=y}return n.encode=function(e,t){var s,a,o,u,c,f,d,p,y,_,v,A,N,k,C,R,D,V,F,Y,H,E,B,te,j,I,ee,U,oe,$,ne,le,fe,be,G,L,X,W,Q,se,pe,de,xe,we,Fe,Ye;switch(U=new Mc,u=Object.keys(e).sort(function(Ze,lt){return Ze-lt}),t){case"macroman":for(N=0,k=(function(){var Ze=[];for(A=0;A<256;++A)Ze.push(0);return Ze})(),R={0:0},o={},oe=0,fe=u.length;oe<fe;oe++)R[xe=e[a=u[oe]]]==null&&(R[xe]=++N),o[a]={old:e[a],new:R[e[a]]},k[a]=R[e[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(k),{charMap:o,subtable:U.data,maxGlyphID:N+1};case"unicode":for(I=[],y=[],D=0,R={},s={},C=d=null,$=0,be=u.length;$<be;$++)R[F=e[a=u[$]]]==null&&(R[F]=++D),s[a]={old:F,new:R[F]},c=R[F]-a,C!=null&&c===d||(C&&y.push(C),I.push(a),d=c),C=a;for(C&&y.push(C),y.push(65535),I.push(65535),te=2*(B=I.length),E=2*Math.pow(Math.log(B)/Math.LN2,2),_=Math.log(E/2)/Math.LN2,H=2*B-E,f=[],Y=[],v=[],A=ne=0,G=I.length;ne<G;A=++ne){if(j=I[A],p=y[A],j===65535){f.push(0),Y.push(0);break}if(j-(ee=s[j].new)>=32768)for(f.push(0),Y.push(2*(v.length+B-A)),a=le=j;j<=p?le<=p:le>=p;a=j<=p?++le:--le)v.push(s[a].new);else f.push(ee-j),Y.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*B+2*v.length),U.writeUInt16(0),U.writeUInt16(te),U.writeUInt16(E),U.writeUInt16(_),U.writeUInt16(H),pe=0,L=y.length;pe<L;pe++)a=y[pe],U.writeUInt16(a);for(U.writeUInt16(0),de=0,X=I.length;de<X;de++)a=I[de],U.writeUInt16(a);for(we=0,W=f.length;we<W;we++)c=f[we],U.writeUInt16(c);for(Fe=0,Q=Y.length;Fe<Q;Fe++)V=Y[Fe],U.writeUInt16(V);for(Ye=0,se=v.length;Ye<se;Ye++)N=v[Ye],U.writeUInt16(N);return{charMap:s,subtable:U.data,maxGlyphID:D+1}}},n})(),x4=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,s,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)t=new xx(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var s,a;return t==null&&(t="macroman"),s=xx.encode(e,t),(a=new Mc).writeUInt16(0),a.writeUInt16(1),s.table=a.data.concat(s.subtable),s},n})(),rL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),sL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,s;for(s=[],t=0;t<10;++t)s.push(e.readByte());return s})(),this.charRange=(function(){var t,s;for(s=[],t=0;t<4;++t)s.push(e.readInt());return s})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,s;for(s=[],t=0;t<2;t=++t)s.push(e.readInt());return s})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),iL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="post",n.prototype.parse=function(e){var t,s,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(s=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return s=e.readUInt16(),this.offsets=e.read(s);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),aL=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},oL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="name",n.prototype.parse=function(e){var t,s,a,o,u,c,f,d,p,y,_;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),s=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)s.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=p=0,y=s.length;p<y;o=++p)a=s[o],e.pos=a.offset,d=e.readString(a.length),u=new aL(d,a),f[_=a.nameID]==null&&(f[_]=[]),f[a.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),lL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),cL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,s,a,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,p;for(p=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)p.push(e.readInt16());return p})(),this.widths=(function(){var d,p,y,_;for(_=[],d=0,p=(y=this.metrics).length;d<p;d++)o=y[d],_.push(o.advance);return _}).call(this),s=this.widths[this.widths.length-1],f=[],t=u=0;0<=a?u<a:u>a;t=0<=a?++u:--u)f.push(this.widths.push(s));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),w4=[].slice,uL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,s,a,o,u,c,f,d,p,y;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,s=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+s,u=(c=new Mc(t.read(a))).readShort(),d=c.readShort(),y=c.readShort(),f=c.readShort(),p=c.readShort(),this.cache[e]=u===-1?new fL(c,d,y,f,p):new hL(c,u,d,y,f,p),this.cache[e]))},n.prototype.encode=function(e,t,s){var a,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(u.length),a&&(u=u.concat(a.encode(s)));return o.push(u.length),{table:u,offsets:o}},n})(),hL=(function(){function n(e,t,s,a,o,u){this.raw=e,this.numberOfContours=t,this.xMin=s,this.yMin=a,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),fL=(function(){function n(e,t,s,a,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=s,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,s;for(t=new Mc(w4.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),dL=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Xo(n,yo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,s;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],s=0,a=this.length;s<a;s+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var s=new Uint32Array(this.offsets.length),a=0,o=0,u=0;u<s.length;++u)if(s[u]=a,o<t.length&&t[o]==u){++o,s[u]=a;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(a+=f)}for(var d=new Array(4*s.length),p=0;p<s.length;++p)d[4*p+3]=255&s[p],d[4*p+2]=(65280&s[p])>>8,d[4*p+1]=(16711680&s[p])>>16,d[4*p]=(4278190080&s[p])>>24;return d},n})(),pL=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,s,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)s=o[t],e[t]=a[s];return e},n.prototype.glyphsFor=function(e){var t,s,a,o,u,c,f;for(a={},u=0,c=e.length;u<c;u++)a[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(s=a[o])!=null&&s.compound&&t.push.apply(t,s.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))s=f[o],a[o]=s;return a},n.prototype.encode=function(e,t){var s,a,o,u,c,f,d,p,y,_,v,A,N,k,C;for(a in s=x4.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),v={0:0},C=s.charMap)v[(f=C[a]).old]=f.new;for(A in _=s.maxGlyphID,u)A in v||(v[A]=_++);return p=(function(R){var D,V;for(D in V={},R)V[R[D]]=D;return V})(v),y=Object.keys(p).sort(function(R,D){return R-D}),N=(function(){var R,D,V;for(V=[],R=0,D=y.length;R<D;R++)c=y[R],V.push(p[c]);return V})(),o=this.font.glyf.encode(u,N,v),d=this.font.loca.encode(o.offsets,N),k={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},n})();Bt.API.PDFObject=(function(){var n;function e(){}return n=function(t,s){return(Array(s+1).join("0")+t).slice(-s)},e.convert=function(t){var s,a,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)s=t[c],d.push(e.convert(s));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)u=t[a],o.push("/"+a+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();var K1={exports:{}},mL=K1.exports,wx;function gL(){return wx||(wx=1,(function(n,e){(function(t,s){s()})(mL,function(){function t(d,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function s(d,p,y){var _=new XMLHttpRequest;_.open("GET",d),_.responseType="blob",_.onload=function(){f(_.response,p,y)},_.onerror=function(){console.error("could not download file")},_.send()}function a(d){var p=new XMLHttpRequest;p.open("HEAD",d,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function o(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(p)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof S1=="object"&&S1.global===S1?S1:void 0,c=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(d,p,y){var _=u.URL||u.webkitURL,v=document.createElement("a");p=p||d.name||"download",v.download=p,v.rel="noopener",typeof d=="string"?(v.href=d,v.origin===location.origin?o(v):a(v.href)?s(d,p,y):o(v,v.target="_blank")):(v.href=_.createObjectURL(d),setTimeout(function(){_.revokeObjectURL(v.href)},4e4),setTimeout(function(){o(v)},0))}:"msSaveOrOpenBlob"in navigator?function(d,p,y){if(p=p||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,y),p);else if(a(d))s(d,p,y);else{var _=document.createElement("a");_.href=d,_.target="_blank",setTimeout(function(){o(_)})}}:function(d,p,y,_){if(_=_||open("","_blank"),_&&(_.document.title=_.document.body.innerText="downloading..."),typeof d=="string")return s(d,p,y);var v=d.type==="application/octet-stream",A=/constructor/i.test(u.HTMLElement)||u.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||v&&A||c)&&typeof FileReader<"u"){var k=new FileReader;k.onloadend=function(){var D=k.result;D=N?D:D.replace(/^data:[^;]*;/,"data:attachment/file;"),_?_.location.href=D:location=D,_=null},k.readAsDataURL(d)}else{var C=u.URL||u.webkitURL,R=C.createObjectURL(d);_?_.location=R:location.href=R,_=null,setTimeout(function(){C.revokeObjectURL(R)},4e4)}});u.saveAs=f.saveAs=f,n.exports=f})})(K1)),K1.exports}var bL=gL();const I2="chordWheelSongs",Cg="chordWheelCurrentSongId",td=()=>{try{const n=localStorage.getItem(I2);return n?JSON.parse(n).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(n){return console.error("Error loading saved songs:",n),[]}},_x=n=>{try{const e=td(),t=e.findIndex(a=>a.id===n.id),s={...n,updatedAt:new Date().toISOString(),createdAt:n.createdAt instanceof Date?n.createdAt.toISOString():n.createdAt};t>=0?e[t]=s:e.push({...s,createdAt:new Date().toISOString()}),localStorage.setItem(I2,JSON.stringify(e)),localStorage.setItem(Cg,n.id)}catch(e){console.error("Error saving song:",e)}},vL=n=>{try{const t=td().filter(s=>s.id!==n);localStorage.setItem(I2,JSON.stringify(t)),localStorage.getItem(Cg)===n&&localStorage.removeItem(Cg)}catch(e){console.error("Error deleting song:",e)}},yL=({isOpen:n,onClose:e,onConfirm:t,title:s,message:a,confirmLabel:o="Confirm",cancelLabel:u="Cancel",isDestructive:c=!1})=>(re.useEffect(()=>(n?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[n]),re.useEffect(()=>{const f=d=>{d.key==="Escape"&&n&&e()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[n,e]),n?b.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e}),b.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-sm w-full overflow-hidden flex flex-col scale-100 opacity-100 transition-all",children:[b.jsxs("div",{className:"p-6",children:[b.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:s}),b.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:a})]}),b.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-[#22222e] border-t border-border-subtle",children:[b.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:u}),b.jsx("button",{onClick:()=>{t(),e()},className:`px-4 py-2 text-sm font-bold text-white rounded-lg shadow-lg transition-transform active:scale-95 ${c?"bg-red-500 hover:bg-red-600":"bg-accent-primary hover:bg-accent-secondary"}`,children:o})]})]})]}):null),_4={I:{degree:0,quality:"major"},ii:{degree:1,quality:"minor"},iii:{degree:2,quality:"minor"},IV:{degree:3,quality:"major"},V:{degree:4,quality:"major"},vi:{degree:5,quality:"minor"},"vii":{degree:6,quality:"diminished"},iv:{degree:3,quality:"minor"},"VI":{degree:8,quality:"major"},bVI:{degree:8,quality:"major"},"VII":{degree:10,quality:"major"},bVII:{degree:10,quality:"major"}},xL=[0,2,4,5,7,9,11];function wL(n,e){const t=Oh(e),s=Cl.indexOf(t);if(s===-1)return e;const a=_4[n];if(!a)return console.warn(`Unknown roman numeral: ${n}`),e;let o;a.degree<7?o=xL[a.degree]:o=a.degree;const u=(s+o)%12;return Cl[u]}function kg(n,e){const t=_4[n]||{quality:"major"},s=wL(n,e),a=la(s,t.quality);return{root:s,quality:t.quality,numeral:n,notes:a,symbol:`${s}${t.quality==="major"?"":t.quality==="minor"?"m":""}`}}function V2(n,e){return n.map(t=>kg(t,e))}let Q1=!1,Cp=[];function F2(){Q1=!1,Cp.forEach(n=>clearTimeout(n)),Cp=[]}async function S4(n,e,t=120,s=2,a){F2(),Q1=!0,xs.state!=="running"&&await Su(),xs.state==="suspended"&&await xs.resume(),await Il();const o=V2(n,e),c=60/t*1e3*s,d=`${4/s}n`;return new Promise(p=>{o.forEach((y,_)=>{const v=window.setTimeout(()=>{if(Q1&&(a?.(_,y),Br(y.notes,d),_===o.length-1)){const A=window.setTimeout(()=>{Q1=!1,p()},c);Cp.push(A)}},_*c);Cp.push(v)})})}const _L=[{id:"pop-anthem",name:"Pop/Rock Anthem",description:"The most popular progression in modern music. Uplifting and anthemic.",numerals:["I","V","vi","IV"],genre:"Pop/Rock",artists:"U2, The Beatles, Blink-182",color:"accent-primary",sectionType:"chorus",sectionName:"Anthem",beatsPerChord:4},{id:"emotional-ballad",name:"Emotional Ballad",description:"Starts on the minor chord for a melancholic, emotional feel.",numerals:["vi","IV","I","V"],genre:"Ballad",artists:"Adele, John Legend",color:"purple-400",sectionType:"verse",sectionName:"Ballad",beatsPerChord:4},{id:"jazz-ii-v-i",name:"Jazz / R&B",description:"The foundation of jazz harmony. Smooth and sophisticated.",numerals:["ii","V","I"],genre:"Jazz/R&B",artists:"Maroon 5, Jazz Standards",color:"blue-400",sectionType:"verse",sectionName:"ii-V-I",beatsPerChord:4,totalBars:4},{id:"50s-progression",name:"50s Doo-Wop",description:"Classic rock and roll. Nostalgic and feel-good.",numerals:["I","vi","IV","V"],genre:"Oldies",artists:"Stand By Me, Earth Angel",color:"yellow-400",sectionType:"verse",sectionName:"Doo-Wop",beatsPerChord:4},{id:"andalusian",name:"Andalusian Cadence",description:"Dramatic descending progression. Spanish/Flamenco influenced.",numerals:["vi","V","IV","III"],genre:"Dramatic",artists:"Hit the Road Jack, Sultans of Swing",color:"red-400",sectionType:"verse",sectionName:"Andal.",beatsPerChord:4},{id:"pachelbel",name:"Pachelbel Canon",description:"The classical progression that influenced centuries of music.",numerals:["I","V","vi","iii","IV","I","IV","V"],genre:"Classical/Pop",artists:"Canon in D, Basket Case",color:"green-400",sectionType:"verse",sectionName:"Canon",beatsPerChord:2}],SL=[{id:"perfect",name:"Perfect Cadence",description:'The "Full Stop". Strongest resolution.',numerals:["V","I"],color:"green-500",emotion:"Conclusive"},{id:"plagal",name:"Plagal Cadence",description:'The "Amen". Softer, church-like resolution.',numerals:["IV","I"],color:"blue-500",emotion:"Peaceful"},{id:"half",name:"Half Cadence",description:'The "Comma". Leaves listeners wanting more.',numerals:["I","V"],color:"yellow-500",emotion:"Suspenseful"},{id:"deceptive",name:"Deceptive Cadence",description:'The "Surprise". Expecting I, getting vi.',numerals:["V","vi"],color:"purple-500",emotion:"Unexpected"}],NL=({preset:n,showAddButton:e=!0,compact:t=!1,onAddToTimeline:s})=>{const{selectedKey:a,currentSong:o,openTimeline:u}=an(),c=an(R=>R.addCustomSection),[f,d]=re.useState(!1),[p,y]=re.useState(null),[_,v]=re.useState(!1),A=V2(n.numerals,a),N=async()=>{if(f){F2(),d(!1),y(null);return}d(!0),y(0);try{await S4(n.numerals,a,o.tempo,n.beatsPerChord,R=>{y(R)})}finally{d(!1),y(null)}},k=async(R,D)=>{if(f)return;y(D);const V=n.beatsPerChord>=4?"1n":"2n";await Br(R.notes,V),setTimeout(()=>y(null),400)},C=()=>{c&&(c(n.sectionName,n.sectionType,A,{beatsPerChord:n.beatsPerChord,totalBars:n.totalBars}),u(),v(!0),setTimeout(()=>v(!1),1500),s?.())};return b.jsxs("div",{className:`
                p-2.5 rounded bg-bg-tertiary transition-all duration-300 overflow-hidden
                ${t?"text-xs":"text-sm"}
                ${_?"ring-2 ring-green-500 bg-green-500/10":""}
            `,children:[b.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[b.jsxs("div",{className:"min-w-0",children:[b.jsx("span",{className:"font-bold text-white",children:n.name}),n.artists&&b.jsx("span",{className:"block text-xs text-gray-500 truncate",children:n.artists})]}),e&&b.jsxs("button",{onClick:C,className:`
                            flex items-center gap-1 px-2 py-1 rounded text-xs font-medium shrink-0
                            transition-all duration-200
                            ${_?"bg-green-500 text-white":"bg-bg-elevated hover:bg-accent-primary/20 text-gray-400 hover:text-accent-primary"}
                        `,title:"Add to timeline",children:[b.jsx(Zh,{size:12}),b.jsx("span",{className:"hidden sm:inline",children:_?"Added!":"Add"})]})]}),b.jsxs("div",{className:"grid gap-1.5",style:{gridTemplateColumns:"auto repeat(4, minmax(0, max-content))",justifyContent:"start"},children:[b.jsx("button",{onClick:N,className:`
                        flex items-center justify-center w-7 h-7 rounded-full shrink-0
                        transition-all duration-200
                        ${f?"bg-red-500 hover:bg-red-600 text-white":"bg-accent-primary/20 hover:bg-accent-primary/40 text-accent-primary"}
                    `,title:f?"Stop":"Play progression",children:f?b.jsx(Z3,{size:12}):b.jsx(Xh,{size:12,className:"ml-0.5"})}),n.numerals.map((R,D)=>{const V=A[D],F=p===D,Y=D<4?void 0:D%4+2;return b.jsx("button",{onClick:()=>k(V,D),disabled:f,className:`
                                text-xs px-2 py-1 rounded font-medium
                                transition-all duration-150
                                ${F?`bg-${n.color} text-white scale-110 shadow-lg shadow-${n.color}/30`:`bg-black/40 text-${n.color} hover:bg-black/60 hover:scale-105`}
                                ${f&&!F?"opacity-50":""}
                                disabled:cursor-not-allowed
                            `,style:{...F?{backgroundColor:`var(--color-${n.color})`}:{},...Y?{gridColumn:Y}:{}},title:`Play ${V.symbol}`,children:R},`${R}-${D}`)})]})]})},AL=({preset:n})=>{const{selectedKey:e,currentSong:t}=an(),[s,a]=re.useState(!1),[o,u]=re.useState(null),c=V2(n.numerals,e),f=async()=>{if(s){F2(),a(!1),u(null);return}a(!0),u(0);try{await S4(n.numerals,e,t.tempo,2,y=>{u(y)})}finally{a(!1),u(null)}},d=async(y,_)=>{s||(u(_),await Br(y.notes,"2n"),setTimeout(()=>u(null),400))},p=`text-${n.color.replace("-500","-400")}`;return b.jsxs("div",{className:`
                group p-3 rounded bg-bg-tertiary hover:bg-bg-tertiary/80 
                transition-all duration-200 border-l-2
            `,style:{borderColor:`var(--color-${n.color}, currentColor)`},children:[b.jsxs("div",{className:"flex justify-between items-center mb-1 gap-2",children:[b.jsx("span",{className:"font-bold text-white",children:n.name}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx("button",{onClick:f,className:`
                            w-6 h-6 rounded-full flex items-center justify-center
                            transition-all duration-200
                            ${s?"bg-red-500 text-white":"bg-white/10 hover:bg-white/20 text-white/70 hover:text-white"}
                        `,title:s?"Stop":"Play cadence",children:s?b.jsx("div",{className:"w-2 h-2 bg-white rounded-sm"}):b.jsx(Xh,{size:10,className:"ml-0.5"})}),b.jsx("div",{className:"flex gap-0.5",children:n.numerals.map((y,_)=>{const v=c[_],A=o===_;return b.jsxs(Kn.Fragment,{children:[b.jsx("button",{onClick:()=>d(v,_),disabled:s,className:`
                                            text-xs px-1.5 py-0.5 rounded
                                            transition-all duration-150
                                            ${A?"bg-white text-black scale-110":`bg-black/30 ${p} hover:bg-black/50 hover:scale-105`}
                                        `,style:A?{backgroundColor:`var(--color-${n.color})`,color:"white"}:void 0,title:`Play ${v.symbol}`,children:y}),_<n.numerals.length-1&&b.jsx("span",{className:"text-gray-500 text-xs flex items-center",children:""})]},`${y}-${_}`)})})]})]}),b.jsx("p",{className:"text-gray-400 text-xs",children:n.description})]})},Sx=({size:n=32})=>b.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",style:{width:n,height:n},children:[[...Array(12)].map((e,t)=>{const s=t*30,a=(s-15-90)*Math.PI/180,o=(s+15-90)*Math.PI/180,u=18,c=46,f=t<=4||t>=10;let d;f?t===0?d="rgba(234, 179, 8, 0.9)":t===1?d="rgba(163, 190, 60, 0.85)":t===2?d="rgba(132, 204, 22, 0.8)":t===3?d="rgba(74, 222, 128, 0.7)":t===4?d="rgba(45, 212, 191, 0.6)":t===11?d="rgba(251, 146, 60, 0.85)":t===10?d="rgba(168, 162, 158, 0.6)":d="rgba(200, 180, 100, 0.7)":d=["rgba(100, 80, 120, 0.5)","rgba(80, 70, 90, 0.5)","rgba(60, 55, 70, 0.5)"][t%3];const p=50+u*Math.cos(a),y=50+u*Math.sin(a),_=50+c*Math.cos(a),v=50+c*Math.sin(a),A=50+c*Math.cos(o),N=50+c*Math.sin(o),k=50+u*Math.cos(o),C=50+u*Math.sin(o);return b.jsx("path",{d:`M ${p} ${y} L ${_} ${v} A ${c} ${c} 0 0 1 ${A} ${N} L ${k} ${C} A ${u} ${u} 0 0 0 ${p} ${y}`,fill:d,stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.5"},t)}),b.jsx("circle",{cx:"50",cy:"50",r:"16",fill:"rgba(20, 20, 30, 0.95)",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})]}),TL=({selectedKey:n})=>{const[e,t]=re.useState(null),s=async u=>{try{await Il();const c=kg(u,n);t(u),await Br(c.notes,"2n"),setTimeout(()=>t(null),400)}catch(c){console.error("Error playing chord:",c),t(null)}},a=["I","ii","iii","IV","V","vi","vii"],o=["Tonic (Home)","Mediant","Mediant","Subdom. (Away)","Dominant (Tension)","Rel. Minor","Leading Tone"];return b.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-sm",children:a.map((u,c)=>{const f=e===u,d=["I","IV","V"].includes(u),p=u==="vii",_=kg(u,n).symbol;return b.jsxs("button",{onClick:()=>s(u),className:`rounded p-2 flex flex-col items-center justify-between h-20 cursor-pointer 
                            transition-all duration-150 active:scale-95
                            ${d?"bg-accent-primary/20 border border-accent-primary/30 hover:bg-accent-primary/30":p?"bg-red-500/10 border border-red-500/20 hover:bg-red-500/20":"bg-violet-500/15 border border-violet-500/25 hover:bg-violet-500/25"}
                            ${f?"ring-2 ring-white/50 scale-[1.02]":""}`,children:[b.jsx("span",{className:`font-bold mb-1 transition-colors ${f?"text-accent-primary":"text-white"}`,children:u}),b.jsx("span",{className:`text-[9px] font-medium transition-colors ${f?"text-accent-primary":"text-gray-300"}`,children:_}),b.jsx("span",{className:"text-[10px] text-gray-400 leading-tight",children:o[c]})]},u)})})},Nx=({onClose:n})=>{const{selectedKey:e}=an();return b.jsxs(b.Fragment,{children:[b.jsxs("section",{className:"relative",children:[b.jsx("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-accent-primary/20 rounded-full blur-3xl pointer-events-none"}),b.jsx("div",{className:"absolute -bottom-5 -right-5 w-24 h-24 bg-purple-500/15 rounded-full blur-3xl pointer-events-none"}),b.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-4 flex items-center gap-2 relative",children:[b.jsx(fC,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),b.jsxs("div",{className:"relative bg-gradient-to-b from-bg-elevated/60 to-bg-elevated/40 rounded-xl p-5 border border-white/5 space-y-4",children:[b.jsxs("div",{className:"flex items-start gap-4 group",children:[b.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-accent-primary/10 border border-accent-primary/20 flex items-center justify-center group-hover:bg-accent-primary/20 transition-colors",children:b.jsx(U3,{size:18,className:"text-accent-primary"})}),b.jsxs("div",{className:"pt-0.5",children:[b.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Tap any chord"}),b.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Tap a chord on the wheel to hear it and see voicings, or ",b.jsx("strong",{className:"text-gray-300",children:"double-tap"})," to add it to your timeline."]})]})]}),b.jsxs("div",{className:"flex items-start gap-4 group",children:[b.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:b.jsx(zh,{size:18,className:"text-purple-400"})}),b.jsxs("div",{className:"pt-0.5",children:[b.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Change the key"}),b.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[b.jsx("strong",{className:"text-gray-300",children:"Drag the wheel"})," to rotate, or ",b.jsx("strong",{className:"text-gray-300",children:"tap the key"})," in the header to change keys. Highlighted chords always sound good together."]})]})]}),b.jsxs("div",{className:"flex items-start gap-4 group",children:[b.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center group-hover:bg-emerald-500/20 transition-colors",children:b.jsx(H3,{size:18,className:"text-emerald-400"})}),b.jsxs("div",{className:"pt-0.5",children:[b.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Add to your timeline"}),b.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Tap the ",b.jsx("strong",{className:"text-emerald-400",children:"+ Add"})," button, or ",b.jsx("strong",{className:"text-gray-300",children:"double-tap"})," any chord preview to place it on your timeline."]})]})]}),b.jsxs("div",{className:"flex items-start gap-4 group",children:[b.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-amber-500/10 border border-amber-500/20 flex items-center justify-center group-hover:bg-amber-500/20 transition-colors",children:b.jsx(mp,{size:18,className:"text-amber-400"})}),b.jsxs("div",{className:"pt-0.5",children:[b.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Arrange your song"}),b.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Open the ",b.jsx("strong",{className:"text-gray-300",children:"Song Map"})," to see your full arrangement, reorder sections, and play back your progression."]})]})]}),b.jsxs("div",{className:"flex items-start gap-4 group",children:[b.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-sky-500/10 border border-sky-500/20 flex items-center justify-center group-hover:bg-sky-500/20 transition-colors",children:b.jsx(m2,{size:18,className:"text-sky-400"})}),b.jsxs("div",{className:"pt-0.5",children:[b.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Export your chord sheet"}),b.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[b.jsx("strong",{className:"text-gray-300",children:"Tap the download icon"})," in the header to export a printable PDF with chords and guitar diagrams."]})]})]}),b.jsx("div",{className:"mt-5 p-3 rounded-xl bg-white/5 border border-white/10",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"shrink-0 w-14 h-14 relative",children:b.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[[...Array(12)].map((t,s)=>{const a=s*30,o=(a-15-90)*Math.PI/180,u=(a+15-90)*Math.PI/180,c=18,f=46,d=s<=4||s>=10;let p;d?s===0?p="rgba(234, 179, 8, 0.9)":s===1?p="rgba(163, 190, 60, 0.85)":s===2?p="rgba(132, 204, 22, 0.8)":s===3?p="rgba(74, 222, 128, 0.7)":s===4?p="rgba(45, 212, 191, 0.6)":s===11?p="rgba(251, 146, 60, 0.85)":s===10?p="rgba(168, 162, 158, 0.6)":p="rgba(200, 180, 100, 0.7)":p=["rgba(100, 80, 120, 0.5)","rgba(80, 70, 90, 0.5)","rgba(60, 55, 70, 0.5)"][s%3];const y=50+c*Math.cos(o),_=50+c*Math.sin(o),v=50+f*Math.cos(o),A=50+f*Math.sin(o),N=50+f*Math.cos(u),k=50+f*Math.sin(u),C=50+c*Math.cos(u),R=50+c*Math.sin(u);return b.jsx("path",{d:`M ${y} ${_} L ${v} ${A} A ${f} ${f} 0 0 1 ${N} ${k} L ${C} ${R} A ${c} ${c} 0 0 0 ${y} ${_}`,fill:p,stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.5"},s)}),b.jsx("circle",{cx:"50",cy:"50",r:"16",fill:"rgba(20, 20, 30, 0.95)",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})]})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("strong",{className:"text-xs text-white block mb-1",children:"Understanding the Wheel"}),b.jsxs("div",{className:"text-[11px] text-gray-400 leading-snug space-y-0.5",children:[b.jsxs("div",{children:[b.jsx("strong",{className:"text-gray-300",children:"Highlighted"})," = in key"]}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-gray-300",children:"Inner"})," = Major (I, IV, V)"]}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-gray-300",children:"Middle"})," = Minor (ii, iii, vi)"]}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-gray-300",children:"Outer"})," = Dim (vii)"]})]})]})]})}),b.jsx("div",{className:"p-3 rounded-xl bg-accent-primary/5 border border-accent-primary/20",children:b.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[b.jsx(od,{size:14,className:"text-accent-primary shrink-0"}),b.jsxs("span",{className:"flex items-center gap-1.5 flex-wrap",children:[b.jsx("strong",{className:"text-accent-primary",children:"Tip:"})," Tap the",b.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-bg-secondary/80 rounded-full text-text-muted border border-border-subtle/60",children:b.jsx(od,{size:10})}),"button anytime to reopen this guide."]})]})})]})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[b.jsx(CC,{size:12}),"The Language of Music (Roman Numerals)"]}),b.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[b.jsx("p",{className:"text-sm text-gray-300",children:'Musicians use roman numerals to talk about chords regardless of the specific key. This reveals the "DNA" of a song.'}),b.jsx(TL,{selectedKey:e}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-gray-400",children:[b.jsxs("div",{className:"p-2 rounded bg-bg-tertiary/50",children:[b.jsx("strong",{className:"text-accent-primary block mb-1",children:"Tonic (I, vi, iii)"}),"Stable, home base. Where songs usually start and end."]}),b.jsxs("div",{className:"p-2 rounded bg-bg-tertiary/50",children:[b.jsx("strong",{className:"text-accent-primary block mb-1",children:"Subdominant (IV, ii)"}),"Movement, drifting away from home. Creates interest."]}),b.jsxs("div",{className:"p-2 rounded bg-bg-tertiary/50",children:[b.jsx("strong",{className:"text-accent-primary block mb-1",children:"Dominant (V, vii)"}),"Tension, needing resolution. Pulls strongly back to I."]})]})]})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[b.jsx(MC,{size:12}),"Songwriting Toolkit"]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[b.jsxs("h4",{className:"font-bold text-white mb-3 text-sm flex items-center gap-2",children:["Emotional Cadences (How Phrases End)",b.jsx(rg,{size:12,className:"text-accent-primary/50"}),b.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["in ",e]})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:SL.map(t=>b.jsx(AL,{preset:t},t.id))})]}),b.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[b.jsxs("h4",{className:"font-bold text-white mb-3 text-sm flex items-center gap-2",children:["Famous Progressions",b.jsx(rg,{size:12,className:"text-accent-primary/50"}),b.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["in ",e,"  tap to play  click + to add"]})]}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:_L.map(t=>b.jsx(NL,{preset:t,onAddToTimeline:n},t.id))})]})]})]}),b.jsxs("section",{children:[b.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[b.jsx(W3,{size:12}),"Adding Spice (Advanced)"]}),b.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-6",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white mb-2 text-sm flex items-center gap-2",children:"1. Modal Interchange (Borrowed Chords)"}),b.jsx("p",{className:"text-sm text-gray-400 mb-3",children:'Steal chords from the parallel minor key to add "cinematic" emotion.'}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 text-xs",children:[b.jsxs("div",{className:"bg-bg-tertiary p-2 rounded border-l-2 border-indigo-500",children:[b.jsx("strong",{className:"text-white block",children:"Minor IV (iv)"}),b.jsx("span",{className:"text-gray-500",children:'"The Beatles Cadence". Gives a nostalgic, bittersweet ending. (Fm in key of C).'})]}),b.jsxs("div",{className:"bg-bg-tertiary p-2 rounded border-l-2 border-indigo-500",children:[b.jsx("strong",{className:"text-white block",children:"Flat VI (VI)"}),b.jsx("span",{className:"text-gray-500",children:'Epic, heroic, fantasy feeling. "Lord of the Rings" sound. (Ab in key of C).'})]}),b.jsxs("div",{className:"bg-bg-tertiary p-2 rounded border-l-2 border-indigo-500",children:[b.jsx("strong",{className:"text-white block",children:"Picardy Third"}),b.jsx("span",{className:"text-gray-500",children:"Ending a sad, minor song on a happy Major I chord. Pure sunshine."})]})]})]}),b.jsx("div",{className:"w-full h-px bg-white/5"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white mb-2 text-sm",children:"2. Secondary Dominants"}),b.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Make a minor chord Major to create a magnetic pull to another chord."}),b.jsxs("div",{className:"bg-bg-tertiary p-3 rounded text-xs text-gray-300 italic",children:['"In C Major, play ',b.jsx("strong",{className:"text-white",children:"E Major (III)"}),". It pulls hard to ",b.jsx("strong",{className:"text-white",children:"Am"}),'. (Radiohead - Creep)"']})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white mb-2 text-sm",children:"3. Tritone Substitution"}),b.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Jazz trick: Replace the V chord with a dominant chord exactly halfway around the circle (a tritone away)."}),b.jsxs("div",{className:"bg-bg-tertiary p-3 rounded text-xs text-gray-300 italic",children:['"Instead of G7  C, try ',b.jsx("strong",{className:"text-white",children:"Db7  C"}),'. Smooth chromatic slide."']})]})]}),b.jsx("div",{className:"w-full h-px bg-white/5"}),b.jsxs("div",{children:[b.jsxs("h4",{className:"font-bold text-white mb-3 text-sm flex items-center gap-2",children:["4. Secrets of the Pros",b.jsx("span",{className:"text-[10px] bg-purple-500/20 text-purple-400 px-1.5 py-0.5 rounded uppercase font-bold",children:"Expert"})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"p-3 rounded bg-bg-tertiary flex gap-3",children:[b.jsx("div",{className:"shrink-0 w-8 h-8 rounded bg-bg-elevated flex items-center justify-center font-bold text-accent-primary",children:"A"}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-white text-sm block",children:"Pedal Point"}),b.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Keep the bass note the same while changing chords on top. Creates massive tension and "floaty" feelings. (e.g., C/C  F/C  G/C).'})]})]}),b.jsxs("div",{className:"p-3 rounded bg-bg-tertiary flex gap-3",children:[b.jsx("div",{className:"shrink-0 w-8 h-8 rounded bg-bg-elevated flex items-center justify-center font-bold text-accent-primary",children:"B"}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-white text-sm block",children:"Line Clich"}),b.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'A single note moving down chromatically inside a static chord. think "Stairway to Heaven" or James Bond theme (Am  Am(maj7)  Am7  Am6).'})]})]}),b.jsxs("div",{className:"p-3 rounded bg-bg-tertiary flex gap-3",children:[b.jsx("div",{className:"shrink-0 w-8 h-8 rounded bg-bg-elevated flex items-center justify-center font-bold text-accent-primary",children:"C"}),b.jsxs("div",{children:[b.jsx("strong",{className:"text-white text-sm block",children:"Relative Major/Minor Modulation"}),b.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Switching focus between I and vi. Use the exact same notes, but center your melody around Am instead of C to instantly change the mood from happy to sad."})]})]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-white mb-2 text-sm",children:"5. Building Better Chords (Extensions)"}),b.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-xs text-center",children:[b.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[b.jsx("strong",{className:"text-white block",children:"maj7"}),b.jsx("span",{className:"text-gray-500",children:"Dreamy, Jazz, Lo-fi"})]}),b.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[b.jsx("strong",{className:"text-white block",children:"dom7"}),b.jsx("span",{className:"text-gray-500",children:"Blues, Funk, Tension"})]}),b.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[b.jsx("strong",{className:"text-white block",children:"sus4"}),b.jsx("span",{className:"text-gray-500",children:"Open, airy, delayed"})]}),b.jsxs("div",{className:"bg-bg-tertiary p-2 rounded hover:bg-bg-tertiary/80 transition-colors",children:[b.jsx("strong",{className:"text-white block",children:"add9"}),b.jsx("span",{className:"text-gray-500",children:"Rich, cinematic pop"})]})]})]})]})]})]})},CL=({isOpen:n,onClose:e,isEmbedded:t=!1})=>n?t?b.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[b.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-6 h-6",children:b.jsx(Sx,{size:24})}),b.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),b.jsx("button",{onClick:e,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:b.jsx(jc,{size:16})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:b.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:b.jsx(Nx,{onClose:e})})})]}):b.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center pointer-events-none",style:{paddingTop:"max(16px, env(safe-area-inset-top))",paddingBottom:"max(16px, env(safe-area-inset-bottom))",paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:[b.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm cursor-pointer pointer-events-auto",onClick:e}),b.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-full overflow-hidden flex flex-col pointer-events-auto",children:[b.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8",children:b.jsx(Sx,{size:32})}),b.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),b.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:b.jsx(jc,{size:20})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:b.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:b.jsx(Nx,{onClose:e})})})]})]}):null,Ax="chordwheel_onboarding_seen",kL=({onDismiss:n,onOpenHelp:e})=>{const[t,s]=re.useState(!1),[a,o]=re.useState(!1);re.useEffect(()=>{if(!localStorage.getItem(Ax)){const f=setTimeout(()=>s(!0),800);return()=>clearTimeout(f)}},[]);const u=()=>{o(!0),localStorage.setItem(Ax,"true"),setTimeout(()=>{s(!1),n?.()},300)};return t?b.jsxs("div",{className:`fixed inset-0 z-[100] flex items-center justify-center p-4 transition-all duration-300 ${a?"opacity-0":"opacity-100"}`,style:{paddingTop:"max(16px, env(safe-area-inset-top))",paddingBottom:"max(16px, env(safe-area-inset-bottom))",paddingLeft:"max(16px, env(safe-area-inset-left))",paddingRight:"max(16px, env(safe-area-inset-right))"},children:[b.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md cursor-pointer",onClick:u}),b.jsxs("div",{className:`relative max-w-md w-full bg-gradient-to-b from-[#1e1e2a] to-[#151520] border border-white/10 rounded-2xl shadow-2xl overflow-hidden transition-all duration-300 ${a?"scale-95 opacity-0":"scale-100 opacity-100"}`,children:[b.jsx("div",{className:"absolute -top-20 -left-20 w-40 h-40 bg-accent-primary/30 rounded-full blur-3xl pointer-events-none"}),b.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-purple-500/20 rounded-full blur-3xl pointer-events-none"}),b.jsxs("div",{className:"relative px-6 pt-6 pb-4 flex items-center justify-between border-b border-white/5",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center shadow-lg shadow-accent-primary/25",children:b.jsx(rk,{size:20,className:"text-white"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-bold text-white",children:"Welcome!"}),b.jsx("p",{className:"text-xs text-gray-400",children:"Quick start guide"})]})]}),b.jsx("button",{onClick:u,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white",children:b.jsx(jc,{size:20})})]}),b.jsxs("div",{className:"relative px-6 py-5 space-y-4",children:[b.jsxs("div",{className:"flex items-start gap-4 group",children:[b.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-accent-primary/10 border border-accent-primary/20 flex items-center justify-center group-hover:bg-accent-primary/20 transition-colors",children:b.jsx(U3,{size:18,className:"text-accent-primary"})}),b.jsxs("div",{className:"pt-0.5",children:[b.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Tap any chord"}),b.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Tap a chord on the wheel to hear it and see voicings, or ",b.jsx("strong",{className:"text-gray-300",children:"double-tap"})," to add it to your timeline."]})]})]}),b.jsxs("div",{className:"flex items-start gap-4 group",children:[b.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center group-hover:bg-purple-500/20 transition-colors",children:b.jsx(zh,{size:18,className:"text-purple-400"})}),b.jsxs("div",{className:"pt-0.5",children:[b.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Change the key"}),b.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[b.jsx("strong",{className:"text-gray-300",children:"Drag the wheel"})," to rotate and change keys. Highlighted chords always sound good together."]})]})]}),b.jsxs("div",{className:"flex items-start gap-4 group",children:[b.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center group-hover:bg-emerald-500/20 transition-colors",children:b.jsx(H3,{size:18,className:"text-emerald-400"})}),b.jsxs("div",{className:"pt-0.5",children:[b.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Add to your timeline"}),b.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Tap the ",b.jsx("strong",{className:"text-emerald-400",children:"+ Add"})," button, or ",b.jsx("strong",{className:"text-gray-300",children:"double-tap"})," any chord preview to place it on your timeline."]})]})]}),b.jsxs("div",{className:"flex items-start gap-4 group",children:[b.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-amber-500/10 border border-amber-500/20 flex items-center justify-center group-hover:bg-amber-500/20 transition-colors",children:b.jsx(mp,{size:18,className:"text-amber-400"})}),b.jsxs("div",{className:"pt-0.5",children:[b.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Arrange your song"}),b.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:["Open the ",b.jsx("strong",{className:"text-gray-300",children:"Song Map"})," to see your full arrangement, reorder sections, and play back your progression."]})]})]}),b.jsxs("div",{className:"flex items-start gap-4 group",children:[b.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-sky-500/10 border border-sky-500/20 flex items-center justify-center group-hover:bg-sky-500/20 transition-colors",children:b.jsx(m2,{size:18,className:"text-sky-400"})}),b.jsxs("div",{className:"pt-0.5",children:[b.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Export your chord sheet"}),b.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[b.jsx("strong",{className:"text-gray-300",children:"Tap the download icon"})," in the header to export a printable PDF with chords and guitar diagrams."]})]})]}),b.jsx("div",{className:"mt-5 p-3 rounded-xl bg-white/5 border border-white/10",children:b.jsxs("div",{className:"flex items-center justify-between gap-3",children:[b.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[b.jsx(BC,{size:14,className:"text-accent-primary shrink-0",style:{transform:"scaleX(-1)"}}),b.jsxs("span",{className:"flex items-center gap-1.5 flex-wrap",children:[b.jsx("strong",{className:"text-gray-300",children:"Tip:"})," Tap the",b.jsx("button",{onClick:()=>{u(),setTimeout(()=>e?.(),350)},className:"inline-flex items-center justify-center w-5 h-5 bg-bg-secondary/80 hover:bg-bg-tertiary rounded-full text-text-muted hover:text-accent-primary transition-colors border border-border-subtle/60",title:"Open full guide",children:b.jsx(od,{size:12})}),"button anytime for the full guide."]})]}),b.jsx("div",{className:"shrink-0 w-16 h-16 relative",children:b.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[[...Array(12)].map((c,f)=>{const d=f*30,p=(d-15-90)*Math.PI/180,y=(d+15-90)*Math.PI/180,_=18,v=46,A=f<=4||f>=10;let N;A?f===0?N="rgba(234, 179, 8, 0.9)":f===1?N="rgba(163, 190, 60, 0.85)":f===2?N="rgba(132, 204, 22, 0.8)":f===3?N="rgba(74, 222, 128, 0.7)":f===4?N="rgba(45, 212, 191, 0.6)":f===11?N="rgba(251, 146, 60, 0.85)":f===10?N="rgba(168, 162, 158, 0.6)":N="rgba(200, 180, 100, 0.7)":N=["rgba(100, 80, 120, 0.5)","rgba(80, 70, 90, 0.5)","rgba(60, 55, 70, 0.5)"][f%3];const k=50+_*Math.cos(p),C=50+_*Math.sin(p),R=50+v*Math.cos(p),D=50+v*Math.sin(p),V=50+v*Math.cos(y),F=50+v*Math.sin(y),Y=50+_*Math.cos(y),H=50+_*Math.sin(y);return b.jsx("path",{d:`M ${k} ${C} L ${R} ${D} A ${v} ${v} 0 0 1 ${V} ${F} L ${Y} ${H} A ${_} ${_} 0 0 0 ${k} ${C}`,fill:N,stroke:"rgba(0, 0, 0, 0.3)",strokeWidth:"0.5"},f)}),b.jsx("circle",{cx:"50",cy:"50",r:"16",fill:"rgba(20, 20, 30, 0.95)",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"})]})})]})})]}),b.jsx("div",{className:"relative px-6 pb-6",children:b.jsx("button",{onClick:u,className:"w-full py-3 px-4 rounded-xl bg-gradient-to-r from-accent-primary to-purple-600 text-white font-semibold text-sm hover:opacity-90 transition-opacity shadow-lg shadow-accent-primary/25 active:scale-[0.98]",children:"Got it, let's go!"})})]})]}):null},jL=({isOpen:n,onClose:e,title:t,artist:s,tags:a,timeSignature:o,onSave:u})=>{const c=re.useRef(null),f=re.useRef(null),[d,p]=re.useState(t),[y,_]=re.useState(s),[v,A]=re.useState(a),[N,k]=re.useState(o),[C,R]=re.useState("");if(re.useEffect(()=>{n&&(p(t),_(s),A(a),k(o),R(""),setTimeout(()=>{f.current?.focus(),f.current?.select()},100))},[n,t,s,a,o]),re.useEffect(()=>{if(!n)return;const E=B=>{B.key==="Escape"&&e()};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[n,e]),!n)return null;const D=()=>{const E=d.trim()||"Untitled Song";u(E,y.trim(),v,N),e()},V=()=>{const E=C.trim();E&&!v.includes(E)&&(A([...v,E]),R(""))},F=E=>{A(v.filter(B=>B!==E))},Y=E=>{E.key==="Enter"&&(E.preventDefault(),V())},H=E=>{E.key==="Enter"&&(E.preventDefault(),D())};return qo.createPortal(b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[99998] bg-black/40 backdrop-blur-[2px] animate-in fade-in duration-200",onClick:e}),b.jsxs("div",{ref:c,className:`fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[99999]
                           bg-bg-elevated border border-border-medium rounded-xl 
                           shadow-2xl shadow-black/50
                           animate-in fade-in zoom-in-95 duration-200`,style:{minWidth:"280px",maxWidth:"340px",width:"90vw"},children:[b.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-bg-secondary/50 rounded-t-xl",children:[b.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[b.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(99,102,241,0.5)] shrink-0",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)"}}),b.jsx("span",{className:"text-sm font-bold text-text-primary",children:"Song Info"})]}),b.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-bg-tertiary text-text-muted hover:text-text-primary transition-colors shrink-0",children:b.jsx(jc,{size:14})})]}),b.jsxs("div",{className:"p-4 space-y-4",children:[b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Song Title"}),b.jsx("input",{ref:f,type:"text",value:d,onChange:E=>p(E.target.value),onKeyDown:H,placeholder:"Untitled Song",maxLength:100,className:`w-full h-9 bg-bg-tertiary text-text-primary text-sm font-medium rounded-lg 
                                       px-3 border border-border-subtle 
                                       focus:outline-none focus:ring-1 focus:ring-accent-primary/50 focus:border-accent-primary`})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"By (Optional)"}),b.jsx("input",{type:"text",value:y,onChange:E=>_(E.target.value),onKeyDown:H,placeholder:"Artist or songwriter name",maxLength:100,className:`w-full h-9 bg-bg-tertiary text-text-primary text-sm font-medium rounded-lg 
                                       px-3 border border-border-subtle 
                                       focus:outline-none focus:ring-1 focus:ring-accent-primary/50 focus:border-accent-primary`})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsx("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:"Time Signature"}),b.jsxs("select",{value:`${N[0]}/${N[1]}`,onChange:E=>{const[B,te]=E.target.value.split("/").map(j=>parseInt(j,10));k([B,te])},className:`w-full h-9 bg-bg-tertiary text-text-primary text-sm font-medium rounded-lg 
                                       px-3 border border-border-subtle 
                                       focus:outline-none focus:ring-1 focus:ring-accent-primary/50 focus:border-accent-primary`,children:[b.jsx("option",{value:"4/4",children:"4/4 (Common Time)"}),b.jsx("option",{value:"3/4",children:"3/4 (Waltz)"}),b.jsx("option",{value:"2/4",children:"2/4 (March)"}),b.jsx("option",{value:"5/4",children:"5/4"}),b.jsx("option",{value:"6/8",children:"6/8 (Compound)"}),b.jsx("option",{value:"7/8",children:"7/8"}),b.jsx("option",{value:"12/8",children:"12/8"})]}),b.jsx("p",{className:"text-[10px] text-text-muted",children:"Default for new sections. Sections can override this."})]}),b.jsxs("div",{className:"space-y-1.5",children:[b.jsxs("label",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider flex items-center gap-1.5",children:[b.jsx(ak,{size:10}),"Tags (Optional)"]}),v.length>0&&b.jsx("div",{className:"flex flex-wrap gap-1.5 mb-2",children:v.map(E=>b.jsxs("span",{className:Ht("inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-medium","bg-accent-primary/15 text-accent-primary border border-accent-primary/30"),children:[E,b.jsx("button",{onClick:()=>F(E),className:"hover:text-red-400 transition-colors",title:`Remove "${E}"`,children:b.jsx(jc,{size:12})})]},E))}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"text",value:C,onChange:E=>R(E.target.value),onKeyDown:Y,placeholder:"Add a tag...",maxLength:30,className:`flex-1 h-8 bg-bg-tertiary text-text-primary text-xs rounded-lg 
                                           px-3 border border-border-subtle 
                                           focus:outline-none focus:ring-1 focus:ring-accent-primary/50 focus:border-accent-primary`}),b.jsxs("button",{onClick:V,disabled:!C.trim(),className:Ht("h-8 px-3 rounded-lg text-xs font-medium transition-all","flex items-center gap-1",C.trim()?"bg-accent-primary/10 border border-accent-primary/30 text-accent-primary hover:bg-accent-primary/20 active:scale-95":"bg-bg-tertiary border border-border-subtle text-text-muted cursor-not-allowed"),children:[b.jsx(Zh,{size:12}),"Add"]})]}),b.jsx("p",{className:"text-[10px] text-text-muted",children:"Tags help you organize and filter your songs"})]}),b.jsx("button",{onClick:D,className:`w-full py-2.5 rounded-lg
                                   bg-accent-primary text-white font-bold text-sm
                                   hover:bg-accent-primary/90 active:scale-[0.98]
                                   transition-all shadow-lg shadow-accent-primary/25`,children:"Save"})]})]})]}),document.body)},EL=({isOpen:n,onClose:e})=>{const t=re.useRef(null),{selectedKey:s,setKey:a,setSelectedChord:o}=an(),u=Ph();if(re.useEffect(()=>{if(!n)return;const d=p=>{p.key==="Escape"&&e()};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[n,e]),!n)return null;const c=d=>{a(d);const p=la(d,"major");o({root:d,quality:"major",numeral:"I",notes:p,symbol:d}),e()},f=d=>{const p=Cx(d);return p.sharps>0?`${p.sharps}`:p.flats>0?`${p.flats}`:""};return qo.createPortal(b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-[99998] bg-black/50 backdrop-blur-[2px] animate-in fade-in duration-200",onClick:e}),b.jsxs("div",{ref:t,className:`fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[99999]
                           bg-bg-elevated border border-border-medium rounded-xl 
                           shadow-2xl shadow-black/50
                           animate-in fade-in zoom-in-95 duration-200`,style:{minWidth:"280px",maxWidth:"360px",width:"90vw"},children:[b.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-bg-secondary/50 rounded-t-xl",children:[b.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[b.jsx("div",{className:"w-2 h-2 rounded-full shadow-[0_0_8px_rgba(99,102,241,0.5)] shrink-0",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)"}}),b.jsx("span",{className:"text-sm font-bold text-text-primary",children:"Select Key"})]}),b.jsx("button",{onClick:e,className:"p-1.5 rounded-full hover:bg-bg-tertiary text-text-muted hover:text-text-primary transition-colors shrink-0",children:b.jsx(jc,{size:14})})]}),b.jsxs("div",{className:"p-4",children:[b.jsxs("div",{className:"text-center mb-4",children:[b.jsx("span",{className:"text-xs text-text-muted uppercase tracking-wider",children:"Current Key"}),b.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[b.jsx("span",{className:"text-2xl font-bold",style:{color:u[s]||"#6366f1"},children:Jn(s)}),b.jsx("span",{className:"text-sm text-text-muted",children:f(s)||"No /"})]})]}),b.jsx("div",{className:"grid grid-cols-4 gap-2",children:du.map(d=>{const p=d===s,y=u[d]||"#6366f1",_=f(d);return b.jsxs("button",{onClick:()=>c(d),className:`
                                        relative flex flex-col items-center justify-center
                                        py-3 px-2 rounded-lg
                                        transition-all duration-150 active:scale-95
                                        ${p?"ring-2 ring-offset-2 ring-offset-bg-elevated shadow-lg":"hover:bg-bg-tertiary"}
                                    `,style:{backgroundColor:p?y:"transparent",borderColor:y,border:`2px solid ${p?y:"rgba(255,255,255,0.1)"}`,"--tw-ring-color":p?y:void 0},children:[b.jsx("span",{className:`text-lg font-bold ${p?"text-black":""}`,style:{color:p?void 0:y},children:Jn(d)}),b.jsx("span",{className:`text-[10px] ${p?"text-black/70":"text-text-muted"}`,children:_||""})]},d)})}),b.jsx("p",{className:"text-[10px] text-text-muted text-center mt-4",children:"Tap a key to change. The wheel will rotate and the I chord will be selected."})]})]})]}),document.body)},ML=({mobileTimelineOpen:n,setMobileTimelineOpen:e,chordPanelVisible:t,setChordPanelScrolledToBottom:s})=>{const a=re.useRef(0),[o,u]=re.useState(0),c=re.useRef(!1),f=t,d=!t,p=450,y=V=>{a.current=V.touches[0].clientY,c.current=!0,u(0)},_=V=>{if(!c.current)return;const F=a.current-V.touches[0].clientY;u(F)},v=()=>{if(!c.current)return;c.current=!1;const V=40;f&&o<-V&&(t&&an.getState().toggleChordPanel(),n&&e(!1)),d&&o>V&&(n||e(!0),t||an.getState().toggleChordPanel()),u(0)},A=()=>{Math.abs(o)<15&&(f?(t&&an.getState().toggleChordPanel(),n&&e(!1)):(n||e(!0),t||an.getState().toggleChordPanel()))},N=o!==0,k=f&&o<0?Math.min(400,-o*1.5):0,C=d&&o>0?Math.min(p,o*2):0,R=C>0,D=k>0;return b.jsxs("div",{className:"shrink-0 flex flex-col overflow-hidden",style:{maxHeight:D?`calc(65vh - ${k}px)`:"65vh",opacity:D?Math.max(.3,1-k/500):1,transition:N?"none":"all 0.25s ease-out"},children:[b.jsx("div",{className:"h-6 flex items-center justify-center bg-bg-secondary border-t border-border-subtle cursor-grab active:cursor-grabbing select-none",onTouchStart:y,onTouchMove:_,onTouchEnd:v,onClick:A,children:b.jsx(P3,{size:16,className:`text-text-muted transition-transform duration-200 ${f?"rotate-180":""}`})}),b.jsxs("div",{className:"flex-1 overflow-hidden",style:{maxHeight:R?`${C}px`:void 0,transition:N?"none":"max-height 0.25s ease-out"},children:[b.jsx(og,{isOpen:n||R,onToggle:()=>e(!n)}),b.jsx("div",{"data-chord-details":!0,className:"shrink-0 bg-bg-primary overflow-hidden",style:{maxHeight:n||R?"45vh":"55vh"},children:b.jsx(ug,{variant:"drawer",onScrollChange:s,forceVisible:R})})]})]})};function LL(){const{currentSong:n,selectedKey:e,timelineVisible:t,toggleTimeline:s,selectedSectionId:a,selectedSlotId:o,clearSlot:u,clearTimeline:c,setTitle:f,setArtist:d,setTags:p,setSongTimeSignature:y,loadSong:_,newSong:v,instrument:A,volume:N,isMuted:k,undo:C,redo:R,canUndo:D,canRedo:V,chordPanelVisible:F,isPlaying:Y,songInfoModalVisible:H,toggleSongInfoModal:E}=an();re.useEffect(()=>{y2(A)},[A]),re.useEffect(()=>{K3(N)},[N]),re.useEffect(()=>{Q3(k)},[k]);const[B,te]=re.useState(!1),[j,I]=re.useState(!1),[ee,U]=re.useState(()=>{if(typeof window>"u")return 1;const Oe=window.innerWidth,$e=window.innerHeight;return Oe<768||$e<500&&$e<Oe?1.25:1}),[oe,$]=re.useState(50),[ne,le]=re.useState({x:0,y:0}),fe=re.useRef(null),[be,G]=re.useState(()=>typeof window>"u"?200:Math.max(200,Math.floor(window.innerWidth*.33))),[L,X]=re.useState(()=>{if(typeof window>"u")return 500;const Oe=window.innerWidth,ft=window.innerHeight-48-56-152-32,Et=Oe-380-40;return Math.max(300,Math.min(Et,ft))}),[W,Q]=re.useState(()=>typeof window<"u"?window.innerWidth<768||window.innerHeight<500&&window.innerHeight<window.innerWidth:!1),[se,pe]=re.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerHeight<500:!1),de=re.useRef(!1),xe=re.useRef(!1),[we,Fe]=re.useState(!1),Ye=re.useRef(null),[Ze,lt]=re.useState(!1),[z,Ne]=re.useState(!1),nt=re.useRef(null),Be=re.useRef(!1);re.useEffect(()=>{if(!W)return;if(se&&!Be.current)Be.current=!0,nt.current=an.getState().chordPanelVisible,Fe(!0),lt(!0),an.getState().chordPanelVisible||an.getState().toggleChordPanel();else if(!se&&Be.current){Be.current=!1;const Et=an.getState().chordPanelVisible,Rt=nt.current;Rt!==null&&Et!==Rt&&an.getState().toggleChordPanel(),lt(!1),nt.current=null}const Oe=()=>{Fe(!0)},$e=()=>{Ye.current&&clearTimeout(Ye.current),Ye.current=setTimeout(Oe,1e4)},ft=Et=>{const Rt=Et.target,cn=Rt.closest("[data-chord-details]"),Wt=Rt.closest("[data-playback-controls]"),un=Rt.closest("[data-mobile-timeline]"),hn=Rt.closest("header"),Qn=Rt.closest("[data-wheel-background]"),Hn=Rt.closest("button"),_n=Rt.tagName==="path"||Rt.tagName==="circle"||Rt.tagName==="text"||Rt.tagName==="polygon"||Rt.tagName==="g"&&Rt.style.cursor==="pointer"||Rt.closest('g[style*="cursor: pointer"]')||Rt.closest('g[class*="cursor-pointer"]'),Jt=!se&&an.getState().chordPanelVisible;Qn&&!cn&&!Wt&&!un&&!hn&&!Hn&&!_n&&!Jt&&(Fe(Wn=>!Wn),Ye.current&&clearTimeout(Ye.current),$e())};return document.addEventListener("touchstart",ft),$e(),()=>{document.removeEventListener("touchstart",ft),Ye.current&&clearTimeout(Ye.current)}},[W,se]);const[je,et]=re.useState(!1),Ue=re.useRef(null),ct=re.useCallback(()=>{!W||!se||(et(!0),Ue.current&&clearTimeout(Ue.current),Ue.current=setTimeout(()=>{et(!1)},3e3))},[W,se]);re.useEffect(()=>()=>{Ue.current&&clearTimeout(Ue.current)},[]),re.useEffect(()=>{if(!W)return;const Oe=()=>{lt(!0)};return window.addEventListener("openMobileTimeline",Oe),()=>window.removeEventListener("openMobileTimeline",Oe)},[W]),re.useEffect(()=>{if(!W)return;const Oe=an.getState();Ze&&!Oe.timelineVisible?an.setState({timelineVisible:!0}):!Ze&&Oe.timelineVisible&&an.setState({timelineVisible:!1})},[W,Ze]),re.useEffect(()=>{const Oe=()=>{const $e=window.innerWidth,ft=window.innerHeight,Et=$e<768||ft<500&&ft<$e,Rt=ft<$e&&ft<500;if(Q(Et),pe(Rt),Et&&Rt){const Wt=Math.max(200,Math.floor($e*.33));G(Wt)}if(!Et){const Wt=an.getState().timelineVisible?152:24,un=ft-48-56-Wt-32,hn=$e-380-40;X(Math.max(300,Math.min(hn,un)))}const cn=an.getState();Et&&!xe.current&&(cn.timelineVisible&&cn.toggleTimeline(),cn.chordPanelVisible&&cn.toggleChordPanel(),xe.current=!0),!Et&&de.current&&!cn.chordPanelVisible&&(cn.toggleChordPanel(),de.current=!1)};return Oe(),window.addEventListener("resize",Oe),window.addEventListener("orientationchange",Oe),()=>{window.removeEventListener("resize",Oe),window.removeEventListener("orientationchange",Oe)}},[]),re.useEffect(()=>{if(W)return;const Oe=window.innerWidth,$e=window.innerHeight,ft=t?152:24,Et=$e-48-56-ft-32,Rt=Oe-380-40;X(Math.max(300,Math.min(Rt,Et)))},[t,W]);const at=re.useCallback((Oe,$e)=>{U(Oe),$($e)},[]),ze=re.useCallback(()=>{const Oe=Math.min(2.5,ee+.2);U(Oe),$(Oe>1.3?38:50)},[ee]),it=re.useCallback(()=>{const Oe=Math.max(.2,ee-.2);U(Oe),$(Oe>1.3?38:50)},[ee]),rt=re.useCallback(Oe=>{le(Oe)},[]),ut=re.useMemo(()=>W&&(se||F)?90:0,[W,se,F]),vt=W&&(se||F);re.useEffect(()=>{if(W)if(vt)if(fe.current||(fe.current={zoom:ee,origin:oe,pan:{...ne}}),se){const Oe=window.innerHeight,$e=1.65,ft=Math.max(.9,Math.min(1.1,Oe/400)),Et=$e*ft;U(Et),$(48),le({x:-35,y:0})}else U(1.42),$(42),le({x:-35,y:-30});else fe.current&&(U(fe.current.zoom),$(fe.current.origin),le(fe.current.pan),fe.current=null)},[vt,se,W]);const dt=()=>{E(!0)},yt=(Oe,$e,ft,Et)=>{f(Oe),d($e),p(ft),y(Et)},ht=re.useMemo(()=>{const Oe=n.sections.reduce((cn,Wt)=>{const un=Wt.measures.reduce((hn,Qn)=>hn+Qn.beats.reduce((Hn,_n)=>Hn+_n.duration,0),0);return cn+un},0),$e=n.tempo/60,ft=Oe/$e,Et=Math.floor(ft/60),Rt=Math.floor(ft%60);return`${Et}:${Rt.toString().padStart(2,"0")}`},[n.sections,n.tempo]),[wn,Zt]=re.useState(!1);re.useEffect(()=>{const Oe=async()=>{try{b2(),await Su(),await Il(),Zt(!0)}catch(ft){console.error("Audio initialization failed:",ft)}},$e=async()=>{wn||(await v2(),Oe())};return document.addEventListener("touchstart",$e,{once:!0}),document.addEventListener("click",$e,{once:!0}),()=>{document.removeEventListener("touchstart",$e),document.removeEventListener("click",$e)}},[wn]),re.useEffect(()=>{const Oe=$e=>{if(($e.key==="Delete"||$e.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;$e.preventDefault(),u(a,o)}};return window.addEventListener("keydown",Oe),()=>window.removeEventListener("keydown",Oe)},[a,o,u]),re.useEffect(()=>{const Oe=$e=>{const ft=$e.target;ft?.tagName==="INPUT"||ft?.tagName==="TEXTAREA"||ft?.isContentEditable||$e.metaKey&&$e.key.toLowerCase()==="z"&&($e.preventDefault(),$e.shiftKey?V&&R():D&&C())};return window.addEventListener("keydown",Oe),()=>window.removeEventListener("keydown",Oe)},[C,R,D,V]);const[Nt,wt]=re.useState(!1),[Tt,gt]=re.useState([]),rn=re.useRef(null);re.useEffect(()=>{gt(td())},[]),re.useEffect(()=>{const Oe=$e=>{rn.current&&!rn.current.contains($e.target)&&wt(!1)};return document.addEventListener("mousedown",Oe),()=>document.removeEventListener("mousedown",Oe)},[]);const It=()=>{if(n.title==="Untitled Song"||!n.title.trim()){const Oe=prompt("Please name your song:",n.title);if(Oe===null)return;const $e=Oe.trim()||"Untitled Song";f($e);const ft={...n,title:$e};_x(ft)}else _x(n);gt(td()),wt(!1)},Vt=Oe=>{_(Oe),wt(!1)},[ln,bt]=re.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),_e=()=>{bt({isOpen:!0,title:"New Song",message:"Start a new song? Unsaved changes will be lost.",confirmLabel:"Start New",isDestructive:!0,onConfirm:()=>{v(),wt(!1)}})},st=(Oe,$e,ft)=>{ft.stopPropagation(),bt({isOpen:!0,title:"Delete Song",message:`Are you sure you want to delete "${$e}"? This cannot be undone.`,confirmLabel:"Delete",isDestructive:!0,onConfirm:()=>{vL(Oe),gt(td())}})},Ft=152,zt=()=>{const Oe=new Bt,$e=Oe.internal.pageSize.getWidth(),ft=20,Et=4,cn=n.sections.reduce((mt,At)=>{const sn=(At.timeSignature||n.timeSignature)[0];return mt+At.measures.length*sn},0)/n.tempo*60,Wt=Math.floor(cn/60),un=Math.floor(cn%60),hn=`${Wt}:${un.toString().padStart(2,"0")}`,Qn=n.sections.reduce((mt,At)=>mt+At.measures.length,0),Hn=n.sections.length;if(Oe.setFontSize(22),Oe.setFont("helvetica","bold"),Oe.setTextColor(0,0,0),Oe.text(n.title,ft,18),n.artist&&n.artist.trim()){const mt=Oe.getTextWidth(n.title);Oe.setFontSize(14),Oe.setFont("helvetica","italic"),Oe.setTextColor(100,100,100),Oe.text(`by ${n.artist}`,ft+mt+6,18),Oe.setTextColor(0,0,0)}Oe.setDrawColor(0,0,0),Oe.setLineWidth(.5),Oe.line(ft,22,$e-ft,22),Oe.setFontSize(10),Oe.setFont("helvetica","normal");const _n=[`Key: ${Jn(e)}`,`${n.timeSignature[0]}/${n.timeSignature[1]}`,`Tempo: ${n.tempo} BPM`,`Duration: ${hn}`,`${Hn} sections`,`${Qn} bars`];Oe.text(_n.join("      "),ft,30);let Jt=48;const Wn=new Set;if(n.sections.forEach(mt=>{const At=mt.measures.map(yn=>{const Fn=yn.beats.length;return yn.beats.forEach(Tn=>{if(Tn.chord){const sr=Tn.chord.root,Mr={major:"maj",minor:"m",diminished:"dim",augmented:"aug",major7:"maj7",minor7:"m7",dominant7:"7",halfDiminished7:"m7b5",sus2:"sus2",sus4:"sus4"}[Tn.chord.quality]||Tn.chord.quality||"maj";Wn.add(`${sr}|${Mr}`)}}),Fn===1?yn.beats[0]?.chord?.symbol||"":Fn===2?yn.beats.map(Tn=>Tn.chord?.symbol||"").join(" "):yn.beats.map(Tn=>Tn.chord?.symbol||"").join(" ")}),fn=At.length===0?1:Math.ceil(At.length/Et),en=10+(At.length===0?12:fn*10)+6;if(Jt>48&&Jt+en>280&&(Oe.addPage(),Jt=20),Oe.setFontSize(14),Oe.setFont("helvetica","bold"),Oe.setTextColor(0,0,0),Oe.text(`[${Xf(mt,n.sections)}]`,ft,Jt),Jt+=10,Oe.setFontSize(14),Oe.setFont("helvetica","normal"),At.length===0)Oe.text("(No chords)",ft,Jt),Jt+=12;else for(let yn=0;yn<At.length;yn+=Et){const Tn=At.slice(yn,yn+Et).join("  |  ");Oe.text(Tn,ft,Jt),Jt+=10}Jt+=6}),Wn.size>0){const mt=Array.from(Wn),At=245,fn=5,yn=mt.length*(22+fn)>At,Fn=yn?18:22,Tn=yn?18:20,sr=yn?22:25,Yr=yn?155:170;let Mr=0,_s=35;const $i=yn?Math.ceil(mt.length/2):mt.length;Oe.setPage(1),mt.forEach((zr,ni)=>{const[Gs,Sn]=zr.split("|"),Xi=ow(Gs,Sn);if(!Xi)return;yn&&ni===$i&&(Mr=1,_s=35);const Ds=Mr*sr,_i=`${Gs}${Sn==="maj"?"":Sn}`;Oe.setFontSize(yn?6:7),Oe.setFont("helvetica","bold"),Oe.setTextColor(0,0,0),Oe.text(_i,Yr+Ds+Tn/2+2,_s,{align:"center"}),An(Oe,Xi,Yr+Ds,_s+3,yn),_s+=Fn+fn})}const Er=(mt,At)=>{const sn={intro:"In",verse:"V","pre-chorus":"PC",chorus:"C",bridge:"Br",interlude:"Int",solo:"So",breakdown:"Bd",tag:"Tg",hook:"Hk",outro:"Out"}[mt.type]||mt.type.charAt(0).toUpperCase(),en=At.filter(yn=>yn.type===mt.type);if(en.length>1){const yn=en.findIndex(Fn=>Fn.id===mt.id)+1;return`${sn}${yn}`}return sn},us=mt=>{const en=$e-ft*2,yn=n.sections.reduce((Tn,sr)=>Tn+sr.measures.length,0);if(yn===0)return;let Fn=ft;mt.setDrawColor(0,0,0),mt.setLineWidth(.4),n.sections.forEach(Tn=>{const sr=Tn.measures.length/yn*en,Yr=Fn+2,Mr=Fn+sr-2;mt.line(Yr,285,Mr,285),mt.line(Yr,281,Yr,289),mt.line(Mr,281,Mr,289);const _s=Er(Tn,n.sections);mt.setFontSize(7),mt.setFont("helvetica","normal"),mt.setTextColor(0,0,0),mt.text(_s,Fn+sr/2,278,{align:"center"}),Fn+=sr})},Ee=Oe.getNumberOfPages();for(let mt=1;mt<=Ee;mt++)Oe.setPage(mt),us(Oe);const Ie=`${n.title.replace(/\s+/g,"-").toLowerCase()}.pdf`,Xe=Oe.output("blob");if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const mt=URL.createObjectURL(Xe);window.open(mt,"_blank"),setTimeout(()=>URL.revokeObjectURL(mt),1e4)}else bL.saveAs(Xe,Ie)},An=(Oe,$e,ft,Et,Rt=!1)=>{const{frets:cn,barres:Wt,baseFret:un}=$e,hn=Rt?2.5:3,Qn=Rt?3:4,Hn=4,_n=6,Jt=Rt?1:1.2,Wn=Array.from({length:_n},(Xe,xt)=>ft+xt*hn),Er=Array.from({length:Hn+1},(Xe,xt)=>Et+xt*Qn),us=un===1,Ee=hn*(_n-1),Ie=Qn*Hn;Oe.setDrawColor(0,0,0),us?(Oe.setLineWidth(1),Oe.line(ft,Et,ft+Ee,Et)):(Oe.setLineWidth(.3),Oe.line(ft,Et,ft+Ee,Et),Oe.setFontSize(Rt?6:7),Oe.setFont("helvetica","bold"),Oe.text(un.toString(),ft-3,Et+Qn/2+1)),Oe.setLineWidth(.2),Er.slice(1).forEach(Xe=>{Oe.line(ft,Xe,ft+Ee,Xe)}),Wn.forEach(Xe=>{Oe.line(Xe,Et,Xe,Et+Ie)}),Wt.forEach(Xe=>{const xt=cn.map((sn,en)=>({fret:sn,idx:en})).filter(({fret:sn})=>sn===Xe);if(xt.length<2)return;const mt=Math.min(...xt.map(sn=>sn.idx)),At=Math.max(...xt.map(sn=>sn.idx)),fn=Et+(Xe-.5)*Qn;Oe.setLineWidth(Jt*1.4),Oe.line(Wn[mt],fn,Wn[At],fn),Oe.setLineWidth(.2)}),cn.forEach((Xe,xt)=>{const mt=Wn[xt];if(Xe===-1){Oe.setFontSize(Rt?6:7),Oe.setFont("helvetica","bold"),Oe.text("x",mt,Et-1,{align:"center"});return}if(Xe===0){Oe.setLineWidth(.3),Oe.circle(mt,Et-1.5,.8,"S");return}if(Wt.includes(Xe)){const sn=cn.findIndex(en=>en===Xe);if(xt!==sn)return}const fn=Et+(Xe-.5)*Qn;Oe.setFillColor(0,0,0),Oe.circle(mt,fn,Jt,"F")})};return b.jsxs("div",{className:"h-full w-full flex flex-col bg-bg-primary text-text-primary overflow-hidden",children:[b.jsxs("header",{className:`${W?"h-14":"h-12"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center ${W?"px-4":"px-3"} bg-bg-secondary shrink-0 z-20 transition-all duration-300 ease-out ${W&&!se&&(we||F)||W&&se&&!je?"opacity-0 -translate-y-full pointer-events-none absolute top-0 left-0 right-0":"relative"}`,children:[b.jsx("div",{className:"flex items-center gap-2 shrink-0",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"relative",children:b.jsx(Tj,{size:W?32:24})}),b.jsx("span",{className:`font-bold ${W?"text-xs":"text-sm"} tracking-tight hidden sm:block text-text-muted`,children:"Songwriter's Wheel"})]})}),b.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:b.jsx("span",{onClick:dt,className:`${W?"text-xs":"text-sm"} font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-2 py-1 rounded text-center truncate max-w-[70vw]`,title:"Click to edit song info",children:n.title})}),b.jsxs("div",{className:`flex items-center ${W?"gap-3":"gap-4"} shrink-0 justify-self-end`,children:[!W&&b.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[b.jsx(pC,{size:11,className:"shrink-0"}),b.jsx("span",{className:"leading-none",children:ht})]}),b.jsxs("button",{onClick:()=>I(!0),className:`flex items-center gap-2 p-[10px] ${W?"text-xs":"text-[10px]"} text-text-muted hover:bg-bg-tertiary rounded-lg transition-colors touch-feedback`,children:[b.jsx("span",{className:"uppercase font-bold",children:"Key"}),b.jsx("span",{className:`font-bold text-accent-primary ${W?"text-base":"text-sm"} min-w-[1.5rem] text-center inline-block`,children:Jn(e)})]}),b.jsxs("div",{className:"relative",ref:rn,children:[b.jsxs("button",{onClick:()=>wt(!Nt),className:`flex items-center gap-1.5 ${W?"text-xs px-2 py-1.5 min-w-[44px]":"text-[11px] px-2 py-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback`,children:[b.jsx(Fv,{size:W?16:12}),b.jsx("span",{className:"hidden sm:inline",children:"Save"}),b.jsx($f,{size:W?12:10,className:`transition-transform ${Nt?"rotate-180":""}`})]}),Nt&&b.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[b.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[b.jsxs("button",{onClick:It,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[b.jsx(Fv,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),b.jsxs("button",{onClick:_e,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[b.jsx(wC,{size:14,className:"text-green-400"}),"New Song"]})]}),b.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:Tt.length===0?b.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):b.jsxs("div",{className:"p-1.5",children:[b.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),Tt.map(Oe=>b.jsxs("div",{onClick:()=>Vt(Oe),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${Oe.id===n.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[b.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[b.jsx(SC,{size:12,className:"shrink-0"}),b.jsx("span",{className:"truncate",children:Oe.title})]}),b.jsx("button",{onClick:$e=>st(Oe.id,Oe.title,$e),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:b.jsx(ng,{size:10})})]},Oe.id))]})})]})]}),b.jsxs("button",{onClick:zt,className:`flex items-center justify-center ${W?"text-xs px-3 py-1.5 min-w-[44px] min-h-[44px]":"text-[11px] px-2.5 py-1 gap-1.5"} bg-text-primary text-bg-primary rounded font-medium hover:bg-white transition-colors touch-feedback`,children:[b.jsx(m2,{size:W?16:12}),b.jsx("span",{className:"hidden sm:inline sm:ml-1.5",children:"Export"})]})]})]}),b.jsxs("div",{className:`flex-1 flex ${W?se?"flex-row":"flex-col":"flex-row"} overflow-hidden min-h-0`,children:[b.jsxs("div",{"data-wheel-background":!0,className:`flex flex-col min-w-0 min-h-0 bg-gradient-to-b from-bg-primary to-bg-secondary/30 ${W&&se?"shrink-0":"flex-1"} ${W?"overflow-hidden":""} relative`,style:W&&se?{width:`${be}px`,minWidth:"200px",height:"100%"}:void 0,children:[b.jsxs("div",{className:`flex-1 flex flex-col ${W&&!se?"justify-center":W&&se?"justify-center items-center":"justify-center items-center pt-2"} ${W?"overflow-hidden":"overflow-visible"}`,children:[W?null:b.jsxs("div",{className:"flex justify-end gap-2 px-2 shrink-0 w-full",children:[b.jsxs("div",{className:"flex items-center bg-bg-secondary/60 backdrop-blur-sm rounded-full px-0.5 border border-border-subtle/40",children:[b.jsx("button",{onClick:it,disabled:ee<=.2,className:"no-touch-enlarge w-4 h-4 flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors",title:"Zoom out",children:b.jsx(VC,{size:8})}),b.jsxs("span",{className:"text-[7px] w-5 text-text-muted text-center font-medium",children:[Math.round(ee*100),"%"]}),b.jsx("button",{onClick:ze,disabled:ee>=2.5,className:"no-touch-enlarge w-4 h-4 flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors",title:"Zoom in",children:b.jsx(Zh,{size:8})})]}),b.jsx("button",{onClick:()=>te(!0),className:"no-touch-enlarge w-8 h-8 flex items-center justify-center bg-bg-secondary/60 hover:bg-bg-tertiary backdrop-blur-sm rounded-full text-text-muted hover:text-accent-primary transition-colors border border-border-subtle/40",title:"Chord Wheel Guide",children:b.jsx(od,{size:16})})]}),b.jsx("div",{className:`flex-1 flex justify-center ${W?"items-center":""} ${W&&se?"p-1 overflow-hidden":W&&!se?"px-0 py-0":"p-2 overflow-visible"}`,onClick:ct,children:b.jsx("div",{className:"relative flex items-center justify-center",style:W&&se?{width:"calc(100dvh - 60px)",height:"calc(100dvh - 60px)",maxWidth:"100%",maxHeight:"100%",aspectRatio:"1 / 1"}:W&&!se?{width:we?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",height:we?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",maxWidth:we?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",maxHeight:we?"min(calc(100vw - 8px), 55dvh)":"min(calc(100vw - 16px), 85dvh)",aspectRatio:"1 / 1"}:{width:`${L}px`,height:`${L}px`,aspectRatio:"1 / 1"},children:b.jsx(xk,{zoomScale:ee,zoomOriginY:oe,onZoomChange:at,panOffset:ne,onPanChange:rt,rotationOffset:ut,disableModeToggle:ut!==0,footerVisible:Y||!(W&&!se&&(we||F&&!z))})})})]}),W&&b.jsx("button",{onClick:()=>te(!0),onTouchEnd:Oe=>{Oe.preventDefault(),Oe.stopPropagation(),te(!0)},className:`absolute ${se?"top-2 right-2 w-8 h-8":"top-3 right-3 w-11 h-11"} flex items-center justify-center bg-bg-secondary/90 hover:bg-bg-tertiary backdrop-blur-sm rounded-full text-text-muted hover:text-accent-primary transition-colors shadow-lg border border-border-subtle z-50`,style:{touchAction:"auto",pointerEvents:"auto"},title:"Chord Wheel Guide",children:b.jsx(od,{size:se?14:20})}),W?null:t?b.jsx(b.Fragment,{children:b.jsxs("div",{className:"shrink-0 bg-bg-secondary border-t border-border-subtle overflow-hidden flex flex-col",style:{height:Ft},children:[b.jsxs("div",{className:"shrink-0 flex items-center justify-between px-2 py-1 border-b border-border-subtle/50 bg-bg-elevated/80",children:[b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsxs("button",{onClick:C,disabled:!D,className:"no-touch-enlarge flex items-center gap-1 px-2 py-1 rounded-md bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Undo (Z)",children:[b.jsx(gp,{size:12}),b.jsx("span",{className:"text-[9px] font-medium uppercase tracking-wide",children:"Undo"})]}),b.jsxs("button",{onClick:R,disabled:!V,className:"no-touch-enlarge flex items-center gap-1 px-2 py-1 rounded-md bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Redo (Z)",children:[b.jsx(zh,{size:12}),b.jsx("span",{className:"text-[9px] font-medium uppercase tracking-wide",children:"Redo"})]})]}),b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsxs("button",{onClick:()=>{bt({isOpen:!0,title:"Clear Timeline",message:"Are you sure you want to clear all chords from the timeline? This action cannot be undone.",confirmLabel:"Clear",isDestructive:!0,onConfirm:c})},className:"no-touch-enlarge text-[8px] px-1 py-0.5 text-text-muted hover:text-red-400 rounded hover:bg-red-400/10 transition-colors flex items-center gap-0.5",title:"Clear all chords from timeline",children:[b.jsx(ng,{size:8}),b.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Clear"})]}),b.jsxs("button",{onClick:s,className:"no-touch-enlarge text-[8px] px-1 py-0.5 text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors flex items-center gap-0.5",title:"Hide timeline",children:[b.jsx($f,{size:8}),b.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]})]}),b.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:b.jsx(og,{isOpen:!0,onToggle:s,hideCloseButton:!0,isCompact:!1,isLandscape:!1})})]})}):b.jsx("div",{className:"h-6 bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0",children:b.jsxs("button",{onClick:s,className:"px-3 h-full flex items-center gap-1 text-[8px] text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors",title:"Show timeline",children:[b.jsx(P3,{size:10}),b.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})})]}),W&&se?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:`flex h-full ${Ze?"flex-1":"justify-end"} shrink-0`,style:{minWidth:Ze?"100px":"28px",transition:"all 0.25s ease-out"},children:[b.jsxs("div",{className:`h-full flex flex-col items-center justify-center cursor-pointer touch-feedback active:bg-bg-tertiary border-l border-border-subtle shrink-0 ${Ze?"bg-bg-elevated":"bg-bg-secondary"}`,style:{width:"28px"},onClick:()=>{Ze&&!F&&an.getState().toggleChordPanel(),lt(!Ze)},children:[b.jsx("div",{className:"h-10 w-1 rounded-full bg-text-muted/50 mb-2"}),b.jsx("span",{className:"text-[9px] font-bold text-text-muted uppercase tracking-wide",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:Ze?"":"Timeline"})]}),Ze&&b.jsx("div",{className:"flex-1 h-full bg-bg-secondary overflow-hidden border-l border-border-subtle",children:b.jsx(og,{isOpen:!0,onToggle:()=>lt(!1),hideCloseButton:!0,isCompact:F,isLandscape:!0})})]}),b.jsxs("div",{className:`flex h-full ${F?"flex-1":""} shrink-0`,style:{minWidth:F?"100px":"28px",transition:"all 0.25s ease-out"},children:[F&&b.jsx("div",{className:"flex-1 h-full bg-bg-secondary overflow-hidden border-l border-border-subtle","data-chord-details":!0,children:b.jsx(ug,{variant:Ze?"landscape-panel":"landscape-expanded"})}),b.jsxs("div",{className:`h-full flex flex-col items-center justify-center cursor-pointer touch-feedback active:bg-bg-tertiary border-l border-border-subtle shrink-0 ${F?"bg-bg-elevated":"bg-bg-secondary"}`,style:{width:"28px"},onClick:()=>{F&&!Ze&&lt(!0),an.getState().toggleChordPanel()},children:[b.jsx("div",{className:"h-10 w-1 rounded-full bg-text-muted/50 mb-2"}),b.jsx("span",{className:"text-[9px] font-bold text-text-muted uppercase tracking-wide",style:{writingMode:"vertical-rl",textOrientation:"mixed"},children:F?"":"Details"})]})]})]}):W?null:b.jsx(ug,{variant:"sidebar"})]}),W&&!se&&b.jsx(ML,{mobileTimelineOpen:Ze,setMobileTimelineOpen:lt,chordPanelVisible:F,setChordPanelScrolledToBottom:Ne}),(Y||!(W&&!se&&(we||F&&!z)))&&b.jsx("div",{className:"shrink-0 z-30 relative",style:{paddingBottom:W?"env(safe-area-inset-bottom)":void 0},children:b.jsx(Lk,{})}),b.jsx(yL,{isOpen:ln.isOpen,onClose:()=>bt(Oe=>({...Oe,isOpen:!1})),onConfirm:ln.onConfirm,title:ln.title,message:ln.message,confirmLabel:ln.confirmLabel,isDestructive:ln.isDestructive}),b.jsx(Aj,{}),b.jsx(CL,{isOpen:B,onClose:()=>te(!1)}),b.jsx(EL,{isOpen:j,onClose:()=>I(!1)}),b.jsx(jL,{isOpen:H,onClose:()=>E(!1),title:n.title,artist:n.artist||"",tags:n.tags||[],timeSignature:n.timeSignature,onSave:yt}),b.jsx(kL,{onOpenHelp:()=>te(!0)})]})}z_.createRoot(document.getElementById("root")).render(b.jsx(re.StrictMode,{children:b.jsx(LL,{})}));export{rr as _,S1 as c,M_ as g};
