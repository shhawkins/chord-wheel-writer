(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var qL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $y(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var K0={exports:{}},Nf={};var Ev;function r4(){if(Ev)return Nf;Ev=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,o){var h=null;if(o!==void 0&&(h=""+o),a.key!==void 0&&(h=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:r,type:i,key:h,ref:a!==void 0?a:null,props:o}}return Nf.Fragment=e,Nf.jsx=t,Nf.jsxs=t,Nf}var kv;function i4(){return kv||(kv=1,K0.exports=r4()),K0.exports}var k=i4(),Q0={exports:{}},tn={};var Ov;function s4(){if(Ov)return tn;Ov=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),w=Symbol.iterator;function b(X){return X===null||typeof X!="object"?null:(X=w&&X[w]||X["@@iterator"],typeof X=="function"?X:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,C={};function T(X,L,P){this.props=X,this.context=L,this.refs=C,this.updater=P||S}T.prototype.isReactComponent={},T.prototype.setState=function(X,L){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,L,"setState")},T.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function R(){}R.prototype=T.prototype;function D(X,L,P){this.props=X,this.context=L,this.refs=C,this.updater=P||S}var F=D.prototype=new R;F.constructor=D,N(F,T.prototype),F.isPureReactComponent=!0;var B=Array.isArray;function W(){}var G={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function V(X,L,P){var J=P.ref;return{$$typeof:r,type:X,key:L,ref:J!==void 0?J:null,props:P}}function K(X,L){return V(X.type,L,X.props)}function E(X){return typeof X=="object"&&X!==null&&X.$$typeof===r}function I(X){var L={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(P){return L[P]})}var te=/\/+/g;function U(X,L){return typeof X=="object"&&X!==null&&X.key!=null?I(""+X.key):L.toString(36)}function ue(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(W,W):(X.status="pending",X.then(function(L){X.status==="pending"&&(X.status="fulfilled",X.value=L)},function(L){X.status==="pending"&&(X.status="rejected",X.reason=L)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function $(X,L,P,J,re){var ce=typeof X;(ce==="undefined"||ce==="boolean")&&(X=null);var pe=!1;if(X===null)pe=!0;else switch(ce){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(X.$$typeof){case r:case e:pe=!0;break;case m:return pe=X._init,$(pe(X._payload),L,P,J,re)}}if(pe)return re=re(X),pe=J===""?"."+U(X,0):J,B(re)?(P="",pe!=null&&(P=pe.replace(te,"$&/")+"/"),$(re,L,P,"",function(Te){return Te})):re!=null&&(E(re)&&(re=K(re,P+(re.key==null||X&&X.key===re.key?"":(""+re.key).replace(te,"$&/")+"/")+pe)),L.push(re)),1;pe=0;var de=J===""?".":J+":";if(B(X))for(var xe=0;xe<X.length;xe++)J=X[xe],ce=de+U(J,xe),pe+=$(J,L,P,ce,re);else if(xe=b(X),typeof xe=="function")for(X=xe.call(X),xe=0;!(J=X.next()).done;)J=J.value,ce=de+U(J,xe++),pe+=$(J,L,P,ce,re);else if(ce==="object"){if(typeof X.then=="function")return $(ue(X),L,P,J,re);throw L=String(X),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return pe}function ie(X,L,P){if(X==null)return X;var J=[],re=0;return $(X,J,"","",function(ce){return L.call(P,ce,re++)}),J}function se(X){if(X._status===-1){var L=X._result;L=L(),L.then(function(P){(X._status===0||X._status===-1)&&(X._status=1,X._result=P)},function(P){(X._status===0||X._status===-1)&&(X._status=2,X._result=P)}),X._status===-1&&(X._status=0,X._result=L)}if(X._status===1)return X._result.default;throw X._result}var fe=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},we={map:ie,forEach:function(X,L,P){ie(X,function(){L.apply(this,arguments)},P)},count:function(X){var L=0;return ie(X,function(){L++}),L},toArray:function(X){return ie(X,function(L){return L})||[]},only:function(X){if(!E(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return tn.Activity=y,tn.Children=we,tn.Component=T,tn.Fragment=t,tn.Profiler=a,tn.PureComponent=D,tn.StrictMode=i,tn.Suspense=f,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,tn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return G.H.useMemoCache(X)}},tn.cache=function(X){return function(){return X.apply(null,arguments)}},tn.cacheSignal=function(){return null},tn.cloneElement=function(X,L,P){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var J=N({},X.props),re=X.key;if(L!=null)for(ce in L.key!==void 0&&(re=""+L.key),L)!j.call(L,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&L.ref===void 0||(J[ce]=L[ce]);var ce=arguments.length-2;if(ce===1)J.children=P;else if(1<ce){for(var pe=Array(ce),de=0;de<ce;de++)pe[de]=arguments[de+2];J.children=pe}return V(X.type,re,J)},tn.createContext=function(X){return X={$$typeof:h,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:o,_context:X},X},tn.createElement=function(X,L,P){var J,re={},ce=null;if(L!=null)for(J in L.key!==void 0&&(ce=""+L.key),L)j.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(re[J]=L[J]);var pe=arguments.length-2;if(pe===1)re.children=P;else if(1<pe){for(var de=Array(pe),xe=0;xe<pe;xe++)de[xe]=arguments[xe+2];re.children=de}if(X&&X.defaultProps)for(J in pe=X.defaultProps,pe)re[J]===void 0&&(re[J]=pe[J]);return V(X,ce,re)},tn.createRef=function(){return{current:null}},tn.forwardRef=function(X){return{$$typeof:c,render:X}},tn.isValidElement=E,tn.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:se}},tn.memo=function(X,L){return{$$typeof:d,type:X,compare:L===void 0?null:L}},tn.startTransition=function(X){var L=G.T,P={};G.T=P;try{var J=X(),re=G.S;re!==null&&re(P,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(W,fe)}catch(ce){fe(ce)}finally{L!==null&&P.types!==null&&(L.types=P.types),G.T=L}},tn.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},tn.use=function(X){return G.H.use(X)},tn.useActionState=function(X,L,P){return G.H.useActionState(X,L,P)},tn.useCallback=function(X,L){return G.H.useCallback(X,L)},tn.useContext=function(X){return G.H.useContext(X)},tn.useDebugValue=function(){},tn.useDeferredValue=function(X,L){return G.H.useDeferredValue(X,L)},tn.useEffect=function(X,L){return G.H.useEffect(X,L)},tn.useEffectEvent=function(X){return G.H.useEffectEvent(X)},tn.useId=function(){return G.H.useId()},tn.useImperativeHandle=function(X,L,P){return G.H.useImperativeHandle(X,L,P)},tn.useInsertionEffect=function(X,L){return G.H.useInsertionEffect(X,L)},tn.useLayoutEffect=function(X,L){return G.H.useLayoutEffect(X,L)},tn.useMemo=function(X,L){return G.H.useMemo(X,L)},tn.useOptimistic=function(X,L){return G.H.useOptimistic(X,L)},tn.useReducer=function(X,L,P){return G.H.useReducer(X,L,P)},tn.useRef=function(X){return G.H.useRef(X)},tn.useState=function(X){return G.H.useState(X)},tn.useSyncExternalStore=function(X,L,P){return G.H.useSyncExternalStore(X,L,P)},tn.useTransition=function(){return G.H.useTransition()},tn.version="19.2.0",tn}var Lv;function lg(){return Lv||(Lv=1,Q0.exports=s4()),Q0.exports}var he=lg();const fn=$y(he);var J0={exports:{}},Cf={},em={exports:{}},tm={};var Mv;function a4(){return Mv||(Mv=1,(function(r){function e($,ie){var se=$.length;$.push(ie);e:for(;0<se;){var fe=se-1>>>1,we=$[fe];if(0<a(we,ie))$[fe]=ie,$[se]=we,se=fe;else break e}}function t($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ie=$[0],se=$.pop();if(se!==ie){$[0]=se;e:for(var fe=0,we=$.length,X=we>>>1;fe<X;){var L=2*(fe+1)-1,P=$[L],J=L+1,re=$[J];if(0>a(P,se))J<we&&0>a(re,P)?($[fe]=re,$[J]=se,fe=J):($[fe]=P,$[L]=se,fe=L);else if(J<we&&0>a(re,se))$[fe]=re,$[J]=se,fe=J;else break e}}return ie}function a($,ie){var se=$.sortIndex-ie.sortIndex;return se!==0?se:$.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();r.unstable_now=function(){return h.now()-c}}var f=[],d=[],m=1,y=null,w=3,b=!1,S=!1,N=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function F($){for(var ie=t(d);ie!==null;){if(ie.callback===null)i(d);else if(ie.startTime<=$)i(d),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(d)}}function B($){if(N=!1,F($),!S)if(t(f)!==null)S=!0,W||(W=!0,I());else{var ie=t(d);ie!==null&&ue(B,ie.startTime-$)}}var W=!1,G=-1,j=5,V=-1;function K(){return C?!0:!(r.unstable_now()-V<j)}function E(){if(C=!1,W){var $=r.unstable_now();V=$;var ie=!0;try{e:{S=!1,N&&(N=!1,R(G),G=-1),b=!0;var se=w;try{t:{for(F($),y=t(f);y!==null&&!(y.expirationTime>$&&K());){var fe=y.callback;if(typeof fe=="function"){y.callback=null,w=y.priorityLevel;var we=fe(y.expirationTime<=$);if($=r.unstable_now(),typeof we=="function"){y.callback=we,F($),ie=!0;break t}y===t(f)&&i(f),F($)}else i(f);y=t(f)}if(y!==null)ie=!0;else{var X=t(d);X!==null&&ue(B,X.startTime-$),ie=!1}}break e}finally{y=null,w=se,b=!1}ie=void 0}}finally{ie?I():W=!1}}}var I;if(typeof D=="function")I=function(){D(E)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,U=te.port2;te.port1.onmessage=E,I=function(){U.postMessage(null)}}else I=function(){T(E,0)};function ue($,ie){G=T(function(){$(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function($){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var se=w;w=ie;try{return $()}finally{w=se}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function($,ie){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=w;w=$;try{return ie()}finally{w=se}},r.unstable_scheduleCallback=function($,ie,se){var fe=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?fe+se:fe):se=fe,$){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=se+we,$={id:m++,callback:ie,priorityLevel:$,startTime:se,expirationTime:we,sortIndex:-1},se>fe?($.sortIndex=se,e(d,$),t(f)===null&&$===t(d)&&(N?(R(G),G=-1):N=!0,ue(B,se-fe))):($.sortIndex=we,e(f,$),S||b||(S=!0,W||(W=!0,I()))),$},r.unstable_shouldYield=K,r.unstable_wrapCallback=function($){var ie=w;return function(){var se=w;w=ie;try{return $.apply(this,arguments)}finally{w=se}}}})(tm)),tm}var jv;function o4(){return jv||(jv=1,em.exports=a4()),em.exports}var nm={exports:{}},Bi={};var Dv;function l4(){if(Dv)return Bi;Dv=1;var r=lg();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:d,implementation:m}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Bi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Bi.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},Bi.flushSync=function(f){var d=h.T,m=i.p;try{if(h.T=null,i.p=2,f)return f()}finally{h.T=d,i.p=m,i.d.f()}},Bi.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Bi.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Bi.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:b}):m==="script"&&i.d.X(f,{crossOrigin:y,integrity:w,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Bi.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Bi.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,y=c(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Bi.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Bi.requestFormReset=function(f){i.d.r(f)},Bi.unstable_batchedUpdates=function(f,d){return f(d)},Bi.useFormState=function(f,d,m){return h.H.useFormState(f,d,m)},Bi.useFormStatus=function(){return h.H.useHostTransitionStatus()},Bi.version="19.2.0",Bi}var Rv;function Ky(){if(Rv)return nm.exports;Rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=l4(),nm.exports}var Iv;function c4(){if(Iv)return Cf;Iv=1;var r=o4(),e=lg(),t=Ky();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function c(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(i(188))}function d(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(i(188));return s!==n?null:n}for(var l=n,u=s;;){var g=l.return;if(g===null)break;var x=g.alternate;if(x===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===l)return f(g),n;if(x===u)return f(g),s;x=x.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=x;else{for(var M=!1,Q=g.child;Q;){if(Q===l){M=!0,l=g,u=x;break}if(Q===u){M=!0,u=g,l=x;break}Q=Q.sibling}if(!M){for(Q=x.child;Q;){if(Q===l){M=!0,l=x,u=g;break}if(Q===u){M=!0,u=x,l=g;break}Q=Q.sibling}if(!M)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function I(n){return n===null||typeof n!="object"?null:(n=E&&n[E]||n["@@iterator"],typeof n=="function"?n:null)}var te=Symbol.for("react.client.reference");function U(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===te?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case T:return"Profiler";case C:return"StrictMode";case B:return"Suspense";case W:return"SuspenseList";case V:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case D:return n.displayName||"Context";case R:return(n._context.displayName||"Context")+".Consumer";case F:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return s=n.displayName||null,s!==null?s:U(n.type)||"Memo";case j:s=n._payload,n=n._init;try{return U(n(s))}catch{}}return null}var ue=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},fe=[],we=-1;function X(n){return{current:n}}function L(n){0>we||(n.current=fe[we],fe[we]=null,we--)}function P(n,s){we++,fe[we]=n.current,n.current=s}var J=X(null),re=X(null),ce=X(null),pe=X(null);function de(n,s){switch(P(ce,s),P(re,n),P(J,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?K5(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=K5(s),n=Q5(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}L(J),P(J,n)}function xe(){L(J),L(re),L(ce)}function Te(n){n.memoizedState!==null&&P(pe,n);var s=J.current,l=Q5(s,n.type);s!==l&&(P(re,n),P(J,l))}function Ue(n){re.current===n&&(L(J),L(re)),pe.current===n&&(L(pe),_f._currentValue=se)}var Qe,et;function je(n){if(Qe===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Qe=s&&s[1]||"",et=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qe+n+et}var H=!1;function Me(n,s){if(!n||H)return"";H=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Ve){var De=Ve}Reflect.construct(n,[],We)}else{try{We.call()}catch(Ve){De=Ve}n.call(We.prototype)}}else{try{throw Error()}catch(Ve){De=Ve}(We=n())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Ve){if(Ve&&De&&typeof Ve.stack=="string")return[Ve.stack,De.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),M=x[0],Q=x[1];if(M&&Q){var me=M.split(`
`),Le=Q.split(`
`);for(g=u=0;u<me.length&&!me[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Le.length&&!Le[g].includes("DetermineComponentFrameRoot");)g++;if(u===me.length||g===Le.length)for(u=me.length-1,g=Le.length-1;1<=u&&0<=g&&me[u]!==Le[g];)g--;for(;1<=u&&0<=g;u--,g--)if(me[u]!==Le[g]){if(u!==1||g!==1)do if(u--,g--,0>g||me[u]!==Le[g]){var qe=`
`+me[u].replace(" at new "," at ");return n.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",n.displayName)),qe}while(1<=u&&0<=g);break}}}finally{H=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?je(l):""}function tt(n,s){switch(n.tag){case 26:case 27:case 5:return je(n.type);case 16:return je("Lazy");case 13:return n.child!==s&&s!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return Me(n.type,!1);case 11:return Me(n.type.render,!1);case 1:return Me(n.type,!0);case 31:return je("Activity");default:return""}}function Ze(n){try{var s="",l=null;do s+=tt(n,l),l=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ne=Object.prototype.hasOwnProperty,nt=r.unstable_scheduleCallback,it=r.unstable_cancelCallback,ut=r.unstable_shouldYield,ht=r.unstable_requestPaint,Mt=r.unstable_now,Xt=r.unstable_getCurrentPriorityLevel,It=r.unstable_ImmediatePriority,Vt=r.unstable_UserBlockingPriority,Re=r.unstable_NormalPriority,Ge=r.unstable_LowPriority,st=r.unstable_IdlePriority,rt=r.log,Gt=r.unstable_setDisableYieldValue,Ct=null,pt=null;function dt(n){if(typeof rt=="function"&&Gt(n),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Ct,n)}catch{}}var At=Math.clz32?Math.clz32:bt,lt=Math.log,Ft=Math.LN2;function bt(n){return n>>>=0,n===0?32:31-(lt(n)/Ft|0)|0}var ct=256,Kt=262144,ft=4194304;function ot(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Tt(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,x=n.suspendedLanes,M=n.pingedLanes;n=n.warmLanes;var Q=u&134217727;return Q!==0?(u=Q&~x,u!==0?g=ot(u):(M&=Q,M!==0?g=ot(M):l||(l=Q&~n,l!==0&&(g=ot(l))))):(Q=u&~x,Q!==0?g=ot(Q):M!==0?g=ot(M):l||(l=u&~n,l!==0&&(g=ot(l)))),g===0?0:s!==0&&s!==g&&(s&x)===0&&(x=g&-g,l=s&-s,x>=l||x===32&&(l&4194048)!==0)?s:g}function Rn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function _e(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ie(){var n=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),n}function Xe(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function $e(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Nt(n,s,l,u,g,x){var M=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var Q=n.entanglements,me=n.expirationTimes,Le=n.hiddenUpdates;for(l=M&~l;0<l;){var qe=31-At(l),We=1<<qe;Q[qe]=0,me[qe]=-1;var De=Le[qe];if(De!==null)for(Le[qe]=null,qe=0;qe<De.length;qe++){var Ve=De[qe];Ve!==null&&(Ve.lane&=-536870913)}l&=~We}u!==0&&vt(n,u,0),x!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=x&~(M&~s))}function vt(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-At(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function Et(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-At(l),g=1<<u;g&s|n[u]&s&&(n[u]|=s),l&=~g}}function Qt(n,s){var l=s&-s;return l=(l&42)!==0?1:Zt(l),(l&(n.suspendedLanes|s))!==0?0:l}function Zt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function dn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function on(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:_v(n.type))}function Ar(n,s){var l=ie.p;try{return ie.p=n,s()}finally{ie.p=l}}var qn=Math.random().toString(36).slice(2),pn="__reactFiber$"+qn,Cn="__reactProps$"+qn,br="__reactContainer$"+qn,Hr="__reactEvents$"+qn,Gr="__reactListeners$"+qn,Qs="__reactHandles$"+qn,os="__reactResources$"+qn,Di="__reactMarker$"+qn;function Ls(n){delete n[pn],delete n[Cn],delete n[Hr],delete n[Gr],delete n[Qs]}function Ri(n){var s=n[pn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[br]||l[pn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=sv(n);n!==null;){if(l=n[pn])return l;n=sv(n)}return s}n=l,l=n.parentNode}return null}function Wi(n){if(n=n[pn]||n[br]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Js(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Yi(n){var s=n[os];return s||(s=n[os]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function nr(n){n[Di]=!0}var Fo=new Set,wi={};function Xi(n,s){Ms(n,s),Ms(n+"Capture",s)}function Ms(n,s){for(wi[n]=s,n=0;n<s.length;n++)Fo.add(s[n])}var _c=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wc={},Sc={};function gu(n){return Ne.call(Sc,n)?!0:Ne.call(wc,n)?!1:_c.test(n)?Sc[n]=!0:(wc[n]=!0,!1)}function Zi(n,s,l){if(gu(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function xa(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function js(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}function Tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ac(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ea(n,s,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(M){l=""+M,x.call(this,M)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(M){l=""+M},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function lo(n){if(!n._valueTracker){var s=Ac(n)?"checked":"value";n._valueTracker=ea(n,s,""+n[s])}}function Nc(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=Ac(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function Si(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ir=/[\n"\\]/g;function Nr(n){return n.replace(Ir,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Al(n,s,l,u,g,x,M,Q){n.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.type=M:n.removeAttribute("type"),s!=null?M==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Tn(s)):n.value!==""+Tn(s)&&(n.value=""+Tn(s)):M!=="submit"&&M!=="reset"||n.removeAttribute("value"),s!=null?Cc(n,M,Tn(s)):l!=null?Cc(n,M,Tn(l)):u!=null&&n.removeAttribute("value"),g==null&&x!=null&&(n.defaultChecked=!!x),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?n.name=""+Tn(Q):n.removeAttribute("name")}function vu(n,s,l,u,g,x,M,Q){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),s!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){lo(n);return}l=l!=null?""+Tn(l):"",s=s!=null?""+Tn(s):l,Q||s===n.value||(n.value=s),n.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=Q?n.checked:!!u,n.defaultChecked=!!u,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(n.name=M),lo(n)}function Cc(n,s,l){s==="number"&&Si(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ai(n,s,l,u){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+Tn(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Tc(n,s,l){if(s!=null&&(s=""+Tn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+Tn(l):""}function Ec(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(ue(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Tn(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),lo(n)}function Ds(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Bo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||Bo.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function yu(n,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&bu(n,g,u)}else for(var x in s)s.hasOwnProperty(x)&&bu(n,x,s[x])}function kc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ii(n){return xu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Rs(){}var _a=null;function qo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var co=null,Bt=null;function _u(n){var s=Wi(n);if(s&&(n=s.stateNode)){var l=n[Cn]||null;e:switch(n=s.stateNode,s.type){case"input":if(Al(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Nr(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var g=u[Cn]||null;if(!g)throw Error(i(90));Al(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&Nc(u)}break e;case"textarea":Tc(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ai(n,!!l.multiple,s,!1)}}}var Lc=!1;function wu(n,s,l){if(Lc)return n(s,l);Lc=!0;try{var u=n(s);return u}finally{if(Lc=!1,(co!==null||Bt!==null)&&(Ud(),co&&(s=co,n=Bt,Bt=co=null,_u(s),n)))for(s=0;s<n.length;s++)_u(n[s])}}function $i(n,s){var l=n.stateNode;if(l===null)return null;var u=l[Cn]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mc=!1;if(ti)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){Mc=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{Mc=!1}var Ki=null,Po=null,ta=null;function Su(){if(ta)return ta;var n,s=Po,l=s.length,u,g="value"in Ki?Ki.value:Ki.textContent,x=g.length;for(n=0;n<l&&s[n]===g[n];n++);var M=l-n;for(u=1;u<=M&&s[l-u]===g[x-u];u++);return ta=g.slice(n,1<u?1-u:void 0)}function ls(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Nl(){return!0}function Cl(){return!1}function Wr(n){function s(l,u,g,x,M){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=x,this.target=M,this.currentTarget=null;for(var Q in n)n.hasOwnProperty(Q)&&(l=n[Q],this[Q]=l?l(x):x[Q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Nl:Cl,this.isPropagationStopped=Cl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),s}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Wr(na),wa=y({},na,{view:0,detail:0}),Tl=Wr(wa),Uo,Sa,Aa,Ho=y({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ut,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Aa&&(Aa&&n.type==="mousemove"?(Uo=n.screenX-Aa.screenX,Sa=n.screenY-Aa.screenY):Sa=Uo=0,Aa=n),Uo)},movementY:function(n){return"movementY"in n?n.movementY:Sa}}),jc=Wr(Ho),Na=y({},Ho,{dataTransfer:0}),Ca=Wr(Na),Au=y({},wa,{relatedTarget:0}),Ta=Wr(Au),Nu=y({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Wr(Nu),q=y({},na,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),le=Wr(q),ge=y({},na,{data:0}),Se=Wr(ge),ze={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ke={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kt(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=xt[n])?!!s[n]:!1}function Ut(){return kt}var Jt=y({},wa,{key:function(n){if(n.key){var s=ze[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ls(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ke[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ut,charCode:function(n){return n.type==="keypress"?ls(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ls(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),bn=Wr(Jt),rr=y({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=Wr(rr),zn=y({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ut}),Vr=Wr(zn),Cr=y({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),ni=Wr(Cr),Ea=y({},Ho,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Is=Wr(Ea),ka=y({},na,{newState:0,oldState:0}),Dc=Wr(ka),El=[9,13,27,32],ra=ti&&"CompositionEvent"in window,Vs=null;ti&&"documentMode"in document&&(Vs=document.documentMode);var Go=ti&&"TextEvent"in window&&!Vs,Oa=ti&&(!ra||Vs&&8<Vs&&11>=Vs),Yr=" ",uo=!1;function ho(n,s){switch(n){case"keyup":return El.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kl(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ia=!1;function Ni(n,s){switch(n){case"compositionend":return kl(s);case"keypress":return s.which!==32?null:(uo=!0,Yr);case"textInput":return n=s.data,n===Yr&&uo?null:n;default:return null}}function La(n,s){if(ia)return n==="compositionend"||!ra&&ho(n,s)?(n=Su(),ta=Po=Ki=null,ia=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Oa&&s.locale!=="ko"?null:s.data;default:return null}}var Ol={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Ol[n.type]:s==="textarea"}function Qi(n,s,l,u){co?Bt?Bt.push(u):Bt=[u]:co=u,s=$d(s,"onChange"),0<s.length&&(l=new cs("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var Fs=null,Ma=null;function Ic(n){G5(n,0)}function Bs(n){var s=Js(n);if(Nc(s))return n}function fo(n,s){if(n==="change")return s}var Vi=!1;if(ti){var Ci;if(ti){var sa="oninput"in document;if(!sa){var aa=document.createElement("div");aa.setAttribute("oninput","return;"),sa=typeof aa.oninput=="function"}Ci=sa}else Ci=!1;Vi=Ci&&(!document.documentMode||9<document.documentMode)}function ja(){Fs&&(Fs.detachEvent("onpropertychange",Ll),Ma=Fs=null)}function Ll(n){if(n.propertyName==="value"&&Bs(Ma)){var s=[];Qi(s,Ma,n,qo(n)),wu(Ic,s)}}function Ml(n,s,l){n==="focusin"?(ja(),Fs=s,Ma=l,Fs.attachEvent("onpropertychange",Ll)):n==="focusout"&&ja()}function xr(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Bs(Ma)}function Cu(n,s){if(n==="click")return Bs(s)}function oa(n,s){if(n==="input"||n==="change")return Bs(s)}function la(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var ri=typeof Object.is=="function"?Object.is:la;function Da(n,s){if(ri(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Ne.call(s,g)||!ri(n[g],s[g]))return!1}return!0}function jl(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Dl(n,s){var l=jl(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jl(l)}}function Ra(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Ra(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Ia(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Si(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Si(n.document)}return s}function ca(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Wo=ti&&"documentMode"in document&&11>=document.documentMode,Ji=null,Va=null,fi=null,us=!1;function En(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;us||Ji==null||Ji!==Si(u)||(u=Ji,"selectionStart"in u&&ca(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fi&&Da(fi,u)||(fi=u,u=$d(Va,"onSelect"),0<u.length&&(s=new cs("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=Ji)))}function yn(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Pn={animationend:yn("Animation","AnimationEnd"),animationiteration:yn("Animation","AnimationIteration"),animationstart:yn("Animation","AnimationStart"),transitionrun:yn("Transition","TransitionRun"),transitionstart:yn("Transition","TransitionStart"),transitioncancel:yn("Transition","TransitionCancel"),transitionend:yn("Transition","TransitionEnd")},_r={},ua={};ti&&(ua=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function qs(n){if(_r[n])return _r[n];if(!Pn[n])return n;var s=Pn[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in ua)return _r[n]=s[l];return n}var Yo=qs("animationend"),Vc=qs("animationiteration"),Uh=qs("animationstart"),yd=qs("transitionrun"),xd=qs("transitionstart"),_d=qs("transitioncancel"),Hh=qs("transitionend"),Gh=new Map,Xo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xo.push("scrollEnd");function hs(n,s){Gh.set(n,s),Xi(s,[n])}var Fc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},es=[],Zo=0,Tu=0;function Bc(){for(var n=Zo,s=Tu=Zo=0;s<n;){var l=es[s];es[s++]=null;var u=es[s];es[s++]=null;var g=es[s];es[s++]=null;var x=es[s];if(es[s++]=null,u!==null&&g!==null){var M=u.pending;M===null?g.next=g:(g.next=M.next,M.next=g),u.pending=g}x!==0&&zc(l,g,x)}}function qc(n,s,l,u){es[Zo++]=n,es[Zo++]=s,es[Zo++]=l,es[Zo++]=u,Tu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Eu(n,s,l,u){return qc(n,s,l,u),di(n)}function Fa(n,s){return qc(n,null,null,s),di(n)}function zc(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,x=n.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(g=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,g&&s!==null&&(g=31-At(l),n=x.hiddenUpdates,u=n[g],u===null?n[g]=[s]:u.push(s),s.lane=l|536870912),x):null}function di(n){if(50<pf)throw pf=0,_0=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ii={};function ku(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pi(n,s,l,u){return new ku(n,s,l,u)}function Ou(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fs(n,s){var l=n.alternate;return l===null?(l=pi(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Pc(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Rl(n,s,l,u,g,x){var M=0;if(u=n,typeof n=="function")Ou(n)&&(M=1);else if(typeof n=="string")M=Gw(n,l,J.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case V:return n=pi(31,l,s,g),n.elementType=V,n.lanes=x,n;case N:return po(l.children,g,x,s);case C:M=8,g|=24;break;case T:return n=pi(12,l,s,g|2),n.elementType=T,n.lanes=x,n;case B:return n=pi(13,l,s,g),n.elementType=B,n.lanes=x,n;case W:return n=pi(19,l,s,g),n.elementType=W,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case D:M=10;break e;case R:M=9;break e;case F:M=11;break e;case G:M=14;break e;case j:M=16,u=null;break e}M=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=pi(M,l,s,g),s.elementType=n,s.type=u,s.lanes=x,s}function po(n,s,l,u){return n=pi(7,n,u,s),n.lanes=l,n}function Uc(n,s,l){return n=pi(6,n,null,s),n.lanes=l,n}function Lu(n){var s=pi(18,null,null,0);return s.stateNode=n,s}function Il(n,s,l){return s=pi(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Mu=new WeakMap;function ds(n,s){if(typeof n=="object"&&n!==null){var l=Mu.get(n);return l!==void 0?l:(s={value:n,source:s,stack:Ze(s)},Mu.set(n,s),s)}return{value:n,source:s,stack:Ze(s)}}var Vl=[],$o=0,ju=null,Hc=0,ps=[],ms=0,mo=null,gs=1,vs="";function ts(n,s){Vl[$o++]=Hc,Vl[$o++]=ju,ju=n,Hc=s}function wd(n,s,l){ps[ms++]=gs,ps[ms++]=vs,ps[ms++]=mo,mo=n;var u=gs;n=vs;var g=32-At(u)-1;u&=~(1<<g),l+=1;var x=32-At(s)+g;if(30<x){var M=g-g%5;x=(u&(1<<M)-1).toString(32),u>>=M,g-=M,gs=1<<32-At(s)+g|l<<g|u,vs=x+n}else gs=1<<x|l<<g|u,vs=n}function Wh(n){n.return!==null&&(ts(n,1),wd(n,1,0))}function Du(n){for(;n===ju;)ju=Vl[--$o],Vl[$o]=null,Hc=Vl[--$o],Vl[$o]=null;for(;n===mo;)mo=ps[--ms],ps[ms]=null,vs=ps[--ms],ps[ms]=null,gs=ps[--ms],ps[ms]=null}function Sd(n,s){ps[ms++]=gs,ps[ms++]=vs,ps[ms++]=mo,gs=s.id,vs=s.overflow,mo=n}var si=null,Zn=null,cn=!1,Ti=null,fr=!1,zs=Error(i(519));function go(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fl(ds(s,n)),zs}function Yh(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[pn]=n,s[Cn]=u,l){case"dialog":hn("cancel",s),hn("close",s);break;case"iframe":case"object":case"embed":hn("load",s);break;case"video":case"audio":for(l=0;l<gf.length;l++)hn(gf[l],s);break;case"source":hn("error",s);break;case"img":case"image":case"link":hn("error",s),hn("load",s);break;case"details":hn("toggle",s);break;case"input":hn("invalid",s),vu(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":hn("invalid",s);break;case"textarea":hn("invalid",s),Ec(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||Z5(s.textContent,l)?(u.popover!=null&&(hn("beforetoggle",s),hn("toggle",s)),u.onScroll!=null&&hn("scroll",s),u.onScrollEnd!=null&&hn("scrollend",s),u.onClick!=null&&(s.onclick=Rs),s=!0):s=!1,s||go(n,!0)}function Ba(n){for(si=n.return;si;)switch(si.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:si=si.return}}function ai(n){if(n!==si)return!1;if(!cn)return Ba(n),cn=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||I0(n.type,n.memoizedProps)),l=!l),l&&Zn&&go(n),Ba(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Zn=iv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));Zn=iv(n)}else s===27?(s=Zn,Ql(n.type)?(n=z0,z0=null,Zn=n):Zn=s):Zn=si?pa(n.stateNode.nextSibling):null;return!0}function Ko(){Zn=si=null,cn=!1}function Xh(){var n=Ti;return n!==null&&(Ss===null?Ss=n:Ss.push.apply(Ss,n),Ti=null),n}function Fl(n){Ti===null?Ti=[n]:Ti.push(n)}var Ru=X(null),vo=null,ha=null;function bo(n,s,l){P(Ru,s._currentValue),s._currentValue=l}function bs(n){n._currentValue=Ru.current,L(Ru)}function Bl(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function Qo(n,s,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var x=g.dependencies;if(x!==null){var M=g.child;x=x.firstContext;e:for(;x!==null;){var Q=x;x=g;for(var me=0;me<s.length;me++)if(Q.context===s[me]){x.lanes|=l,Q=x.alternate,Q!==null&&(Q.lanes|=l),Bl(x.return,l,n),u||(M=null);break e}x=Q.next}}else if(g.tag===18){if(M=g.return,M===null)throw Error(i(341));M.lanes|=l,x=M.alternate,x!==null&&(x.lanes|=l),Bl(M,l,n),M=null}else M=g.child;if(M!==null)M.return=g;else for(M=g;M!==null;){if(M===n){M=null;break}if(g=M.sibling,g!==null){g.return=M.return,M=g;break}M=M.return}g=M}}function yo(n,s,l,u){n=null;for(var g=s,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var M=g.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var Q=g.type;ri(g.pendingProps.value,M.value)||(n!==null?n.push(Q):n=[Q])}}else if(g===pe.current){if(M=g.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(_f):n=[_f])}g=g.return}n!==null&&Qo(s,n,l,u),s.flags|=262144}function Iu(n){for(n=n.firstContext;n!==null;){if(!ri(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function xo(n){vo=n,ha=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function oi(n){return Ad(vo,n)}function Vu(n,s){return vo===null&&xo(n),Ad(n,s)}function Ad(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ha===null){if(n===null)throw Error(i(308));ha=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ha=ha.next=s;return l}var qp=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},zp=r.unstable_scheduleCallback,Pp=r.unstable_NormalPriority,wr={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ql(){return{controller:new qp,data:new Map,refCount:0}}function Gc(n){n.refCount--,n.refCount===0&&zp(Pp,function(){n.controller.abort()})}var Wc=null,Fu=0,p=0,v=null;function A(n,s){if(Wc===null){var l=Wc=[];Fu=0,p=T0(),v={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Fu++,s.then(O,O),s}function O(){if(--Fu===0&&Wc!==null){v!==null&&(v.status="fulfilled");var n=Wc;Wc=null,p=0,v=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function z(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Y=$.S;$.S=function(n,s){y5=Mt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&A(n,s),Y!==null&&Y(n,s)};var Z=X(null);function ee(){var n=Z.current;return n!==null?n:Kn.pooledCache}function ne(n,s){s===null?P(Z,Z.current):P(Z,s.pool)}function oe(){var n=ee();return n===null?null:{parent:wr._currentValue,pool:n}}var ve=Error(i(460)),ke=Error(i(474)),ae=Error(i(542)),ye={then:function(){}};function Ce(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Be(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(Rs,Rs),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Je(n),n;default:if(typeof s.status=="string")s.then(Rs,Rs);else{if(n=Kn,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Je(n),n}throw Fe=s,ve}}function Ee(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Fe=l,ve):l}}var Fe=null;function Pe(){if(Fe===null)throw Error(i(459));var n=Fe;return Fe=null,n}function Je(n){if(n===ve||n===ae)throw Error(i(483))}var Ye=null,wt=0;function mt(n){var s=wt;return wt+=1,Ye===null&&(Ye=[]),Be(Ye,n,s)}function Wt(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function yt(n,s){throw s.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function ln(n){function s(Ae,be){if(n){var Oe=Ae.deletions;Oe===null?(Ae.deletions=[be],Ae.flags|=16):Oe.push(be)}}function l(Ae,be){if(!n)return null;for(;be!==null;)s(Ae,be),be=be.sibling;return null}function u(Ae){for(var be=new Map;Ae!==null;)Ae.key!==null?be.set(Ae.key,Ae):be.set(Ae.index,Ae),Ae=Ae.sibling;return be}function g(Ae,be){return Ae=fs(Ae,be),Ae.index=0,Ae.sibling=null,Ae}function x(Ae,be,Oe){return Ae.index=Oe,n?(Oe=Ae.alternate,Oe!==null?(Oe=Oe.index,Oe<be?(Ae.flags|=67108866,be):Oe):(Ae.flags|=67108866,be)):(Ae.flags|=1048576,be)}function M(Ae){return n&&Ae.alternate===null&&(Ae.flags|=67108866),Ae}function Q(Ae,be,Oe,He){return be===null||be.tag!==6?(be=Uc(Oe,Ae.mode,He),be.return=Ae,be):(be=g(be,Oe),be.return=Ae,be)}function me(Ae,be,Oe,He){var Rt=Oe.type;return Rt===N?qe(Ae,be,Oe.props.children,He,Oe.key):be!==null&&(be.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===j&&Ee(Rt)===be.type)?(be=g(be,Oe.props),Wt(be,Oe),be.return=Ae,be):(be=Rl(Oe.type,Oe.key,Oe.props,null,Ae.mode,He),Wt(be,Oe),be.return=Ae,be)}function Le(Ae,be,Oe,He){return be===null||be.tag!==4||be.stateNode.containerInfo!==Oe.containerInfo||be.stateNode.implementation!==Oe.implementation?(be=Il(Oe,Ae.mode,He),be.return=Ae,be):(be=g(be,Oe.children||[]),be.return=Ae,be)}function qe(Ae,be,Oe,He,Rt){return be===null||be.tag!==7?(be=po(Oe,Ae.mode,He,Rt),be.return=Ae,be):(be=g(be,Oe),be.return=Ae,be)}function We(Ae,be,Oe){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Uc(""+be,Ae.mode,Oe),be.return=Ae,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case b:return Oe=Rl(be.type,be.key,be.props,null,Ae.mode,Oe),Wt(Oe,be),Oe.return=Ae,Oe;case S:return be=Il(be,Ae.mode,Oe),be.return=Ae,be;case j:return be=Ee(be),We(Ae,be,Oe)}if(ue(be)||I(be))return be=po(be,Ae.mode,Oe,null),be.return=Ae,be;if(typeof be.then=="function")return We(Ae,mt(be),Oe);if(be.$$typeof===D)return We(Ae,Vu(Ae,be),Oe);yt(Ae,be)}return null}function De(Ae,be,Oe,He){var Rt=be!==null?be.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Rt!==null?null:Q(Ae,be,""+Oe,He);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case b:return Oe.key===Rt?me(Ae,be,Oe,He):null;case S:return Oe.key===Rt?Le(Ae,be,Oe,He):null;case j:return Oe=Ee(Oe),De(Ae,be,Oe,He)}if(ue(Oe)||I(Oe))return Rt!==null?null:qe(Ae,be,Oe,He,null);if(typeof Oe.then=="function")return De(Ae,be,mt(Oe),He);if(Oe.$$typeof===D)return De(Ae,be,Vu(Ae,Oe),He);yt(Ae,Oe)}return null}function Ve(Ae,be,Oe,He,Rt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Ae=Ae.get(Oe)||null,Q(be,Ae,""+He,Rt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case b:return Ae=Ae.get(He.key===null?Oe:He.key)||null,me(be,Ae,He,Rt);case S:return Ae=Ae.get(He.key===null?Oe:He.key)||null,Le(be,Ae,He,Rt);case j:return He=Ee(He),Ve(Ae,be,Oe,He,Rt)}if(ue(He)||I(He))return Ae=Ae.get(Oe)||null,qe(be,Ae,He,Rt,null);if(typeof He.then=="function")return Ve(Ae,be,Oe,mt(He),Rt);if(He.$$typeof===D)return Ve(Ae,be,Oe,Vu(be,He),Rt);yt(be,He)}return null}function _t(Ae,be,Oe,He){for(var Rt=null,On=null,Ot=be,sn=be=0,gn=null;Ot!==null&&sn<Oe.length;sn++){Ot.index>sn?(gn=Ot,Ot=null):gn=Ot.sibling;var Ln=De(Ae,Ot,Oe[sn],He);if(Ln===null){Ot===null&&(Ot=gn);break}n&&Ot&&Ln.alternate===null&&s(Ae,Ot),be=x(Ln,be,sn),On===null?Rt=Ln:On.sibling=Ln,On=Ln,Ot=gn}if(sn===Oe.length)return l(Ae,Ot),cn&&ts(Ae,sn),Rt;if(Ot===null){for(;sn<Oe.length;sn++)Ot=We(Ae,Oe[sn],He),Ot!==null&&(be=x(Ot,be,sn),On===null?Rt=Ot:On.sibling=Ot,On=Ot);return cn&&ts(Ae,sn),Rt}for(Ot=u(Ot);sn<Oe.length;sn++)gn=Ve(Ot,Ae,sn,Oe[sn],He),gn!==null&&(n&&gn.alternate!==null&&Ot.delete(gn.key===null?sn:gn.key),be=x(gn,be,sn),On===null?Rt=gn:On.sibling=gn,On=gn);return n&&Ot.forEach(function(rc){return s(Ae,rc)}),cn&&ts(Ae,sn),Rt}function zt(Ae,be,Oe,He){if(Oe==null)throw Error(i(151));for(var Rt=null,On=null,Ot=be,sn=be=0,gn=null,Ln=Oe.next();Ot!==null&&!Ln.done;sn++,Ln=Oe.next()){Ot.index>sn?(gn=Ot,Ot=null):gn=Ot.sibling;var rc=De(Ae,Ot,Ln.value,He);if(rc===null){Ot===null&&(Ot=gn);break}n&&Ot&&rc.alternate===null&&s(Ae,Ot),be=x(rc,be,sn),On===null?Rt=rc:On.sibling=rc,On=rc,Ot=gn}if(Ln.done)return l(Ae,Ot),cn&&ts(Ae,sn),Rt;if(Ot===null){for(;!Ln.done;sn++,Ln=Oe.next())Ln=We(Ae,Ln.value,He),Ln!==null&&(be=x(Ln,be,sn),On===null?Rt=Ln:On.sibling=Ln,On=Ln);return cn&&ts(Ae,sn),Rt}for(Ot=u(Ot);!Ln.done;sn++,Ln=Oe.next())Ln=Ve(Ot,Ae,sn,Ln.value,He),Ln!==null&&(n&&Ln.alternate!==null&&Ot.delete(Ln.key===null?sn:Ln.key),be=x(Ln,be,sn),On===null?Rt=Ln:On.sibling=Ln,On=Ln);return n&&Ot.forEach(function(n4){return s(Ae,n4)}),cn&&ts(Ae,sn),Rt}function Wn(Ae,be,Oe,He){if(typeof Oe=="object"&&Oe!==null&&Oe.type===N&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case b:e:{for(var Rt=Oe.key;be!==null;){if(be.key===Rt){if(Rt=Oe.type,Rt===N){if(be.tag===7){l(Ae,be.sibling),He=g(be,Oe.props.children),He.return=Ae,Ae=He;break e}}else if(be.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===j&&Ee(Rt)===be.type){l(Ae,be.sibling),He=g(be,Oe.props),Wt(He,Oe),He.return=Ae,Ae=He;break e}l(Ae,be);break}else s(Ae,be);be=be.sibling}Oe.type===N?(He=po(Oe.props.children,Ae.mode,He,Oe.key),He.return=Ae,Ae=He):(He=Rl(Oe.type,Oe.key,Oe.props,null,Ae.mode,He),Wt(He,Oe),He.return=Ae,Ae=He)}return M(Ae);case S:e:{for(Rt=Oe.key;be!==null;){if(be.key===Rt)if(be.tag===4&&be.stateNode.containerInfo===Oe.containerInfo&&be.stateNode.implementation===Oe.implementation){l(Ae,be.sibling),He=g(be,Oe.children||[]),He.return=Ae,Ae=He;break e}else{l(Ae,be);break}else s(Ae,be);be=be.sibling}He=Il(Oe,Ae.mode,He),He.return=Ae,Ae=He}return M(Ae);case j:return Oe=Ee(Oe),Wn(Ae,be,Oe,He)}if(ue(Oe))return _t(Ae,be,Oe,He);if(I(Oe)){if(Rt=I(Oe),typeof Rt!="function")throw Error(i(150));return Oe=Rt.call(Oe),zt(Ae,be,Oe,He)}if(typeof Oe.then=="function")return Wn(Ae,be,mt(Oe),He);if(Oe.$$typeof===D)return Wn(Ae,be,Vu(Ae,Oe),He);yt(Ae,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,be!==null&&be.tag===6?(l(Ae,be.sibling),He=g(be,Oe),He.return=Ae,Ae=He):(l(Ae,be),He=Uc(Oe,Ae.mode,He),He.return=Ae,Ae=He),M(Ae)):l(Ae,be)}return function(Ae,be,Oe,He){try{wt=0;var Rt=Wn(Ae,be,Oe,He);return Ye=null,Rt}catch(Ot){if(Ot===ve||Ot===ae)throw Ot;var On=pi(29,Ot,null,Ae.mode);return On.lanes=He,On.return=Ae,On}finally{}}}var $n=ln(!0),en=ln(!1),gt=!1;function at(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ir(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function qt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function rn(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Dn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=di(n),zc(n,null,l),s}return qc(n,u,s,l),di(n)}function Mn(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Et(n,l)}}function Fr(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var M={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?g=x=M:x=x.next=M,l=l.next}while(l!==null);x===null?g=x=s:x=x.next=s}else g=x=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var li=!1;function Un(){if(li){var n=v;if(n!==null)throw n}}function Tr(n,s,l,u){li=!1;var g=n.updateQueue;gt=!1;var x=g.firstBaseUpdate,M=g.lastBaseUpdate,Q=g.shared.pending;if(Q!==null){g.shared.pending=null;var me=Q,Le=me.next;me.next=null,M===null?x=Le:M.next=Le,M=me;var qe=n.alternate;qe!==null&&(qe=qe.updateQueue,Q=qe.lastBaseUpdate,Q!==M&&(Q===null?qe.firstBaseUpdate=Le:Q.next=Le,qe.lastBaseUpdate=me))}if(x!==null){var We=g.baseState;M=0,qe=Le=me=null,Q=x;do{var De=Q.lane&-536870913,Ve=De!==Q.lane;if(Ve?(mn&De)===De:(u&De)===De){De!==0&&De===p&&(li=!0),qe!==null&&(qe=qe.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var _t=n,zt=Q;De=s;var Wn=l;switch(zt.tag){case 1:if(_t=zt.payload,typeof _t=="function"){We=_t.call(Wn,We,De);break e}We=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=zt.payload,De=typeof _t=="function"?_t.call(Wn,We,De):_t,De==null)break e;We=y({},We,De);break e;case 2:gt=!0}}De=Q.callback,De!==null&&(n.flags|=64,Ve&&(n.flags|=8192),Ve=g.callbacks,Ve===null?g.callbacks=[De]:Ve.push(De))}else Ve={lane:De,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},qe===null?(Le=qe=Ve,me=We):qe=qe.next=Ve,M|=De;if(Q=Q.next,Q===null){if(Q=g.shared.pending,Q===null)break;Ve=Q,Q=Ve.next,Ve.next=null,g.lastBaseUpdate=Ve,g.shared.pending=null}}while(!0);qe===null&&(me=We),g.baseState=me,g.firstBaseUpdate=Le,g.lastBaseUpdate=qe,x===null&&(g.shared.lanes=0),Yl|=M,n.lanes=M,n.memoizedState=We}}function mi(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Er(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)mi(l[n],s)}var an=X(null),wn=X(0);function sr(n,s){n=ll,P(wn,n),P(an,s),ll=n|s.baseLanes}function kn(){P(wn,ll),P(an,an.current)}function Br(){ll=wn.current,L(an),L(wn)}var ar=X(null),Sn=null;function Sr(n){var s=n.alternate;P(xn,xn.current&1),P(ar,n),Sn===null&&(s===null||an.current!==null||s.memoizedState!==null)&&(Sn=n)}function jn(n){P(xn,xn.current),P(ar,n),Sn===null&&(Sn=n)}function kr(n){n.tag===22?(P(xn,xn.current),P(ar,n),Sn===null&&(Sn=n)):Or()}function Or(){P(xn,xn.current),P(ar,ar.current)}function In(n){L(ar),Sn===n&&(Sn=null),L(xn)}var xn=X(0);function gi(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||B0(l)||q0(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var dr=0,jt=null,Dt=null,An=null,Fi=!1,ys=!1,Ei=!1,Lr=0,_o=0,wo=null,Bu=0;function Hn(){throw Error(i(321))}function Zh(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!ri(n[l],s[l]))return!1;return!0}function $h(n,s,l,u,g,x){return dr=x,jt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=n===null||n.memoizedState===null?O2:$p,Ei=!1,x=l(u,g),Ei=!1,ys&&(x=qa(s,l,u,g)),qu(n),x}function qu(n){$.H=sf;var s=Dt!==null&&Dt.next!==null;if(dr=0,An=Dt=jt=null,Fi=!1,_o=0,wo=null,s)throw Error(i(300));n===null||Zr||(n=n.dependencies,n!==null&&Iu(n)&&(Zr=!0))}function qa(n,s,l,u){jt=n;var g=0;do{if(ys&&(wo=null),_o=0,ys=!1,25<=g)throw Error(i(301));if(g+=1,An=Dt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}$.H=L2,x=s(l,u)}while(ys);return x}function Up(){var n=$.H,s=n.useState()[0];return s=typeof s.then=="function"?So(s):s,n=n.useState()[0],(Dt!==null?Dt.memoizedState:null)!==n&&(jt.flags|=1024),s}function Kh(){var n=Lr!==0;return Lr=0,n}function Qh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function zu(n){if(Fi){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Fi=!1}dr=0,An=Dt=jt=null,ys=!1,_o=Lr=0,wo=null}function Xr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?jt.memoizedState=An=n:An=An.next=n,An}function pr(){if(Dt===null){var n=jt.alternate;n=n!==null?n.memoizedState:null}else n=Dt.next;var s=An===null?jt.memoizedState:An.next;if(s!==null)An=s,Dt=n;else{if(n===null)throw jt.alternate===null?Error(i(467)):Error(i(310));Dt=n,n={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},An===null?jt.memoizedState=An=n:An=An.next=n}return An}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(n){var s=_o;return _o+=1,wo===null&&(wo=[]),n=Be(wo,n,s),s=jt,(An===null?s.memoizedState:An.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?O2:$p),n}function zl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return So(n);if(n.$$typeof===D)return oi(n)}throw Error(i(438,String(n)))}function Jo(n){var s=null,l=jt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=jt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Yc(),jt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=K;return s.index++,l}function fa(n,s){return typeof s=="function"?s(n):s}function Pu(n){var s=pr();return Pl(s,Dt,n)}function Pl(n,s,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=n.baseQueue,x=u.pending;if(x!==null){if(g!==null){var M=g.next;g.next=x.next,x.next=M}s.baseQueue=g=x,u.pending=null}if(x=n.baseState,g===null)n.memoizedState=x;else{s=g.next;var Q=M=null,me=null,Le=s,qe=!1;do{var We=Le.lane&-536870913;if(We!==Le.lane?(mn&We)===We:(dr&We)===We){var De=Le.revertLane;if(De===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),We===p&&(qe=!0);else if((dr&De)===De){Le=Le.next,De===p&&(qe=!0);continue}else We={lane:0,revertLane:Le.revertLane,gesture:null,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},me===null?(Q=me=We,M=x):me=me.next=We,jt.lanes|=De,Yl|=De;We=Le.action,Ei&&l(x,We),x=Le.hasEagerState?Le.eagerState:l(x,We)}else De={lane:We,revertLane:Le.revertLane,gesture:Le.gesture,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},me===null?(Q=me=De,M=x):me=me.next=De,jt.lanes|=We,Yl|=We;Le=Le.next}while(Le!==null&&Le!==s);if(me===null?M=x:me.next=Q,!ri(x,n.memoizedState)&&(Zr=!0,qe&&(l=v,l!==null)))throw l;n.memoizedState=x,n.baseState=M,n.baseQueue=me,u.lastRenderedState=x}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Uu(n){var s=pr(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,x=s.memoizedState;if(g!==null){l.pending=null;var M=g=g.next;do x=n(x,M.action),M=M.next;while(M!==g);ri(x,s.memoizedState)||(Zr=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),l.lastRenderedState=x}return[x,u]}function Hu(n,s,l){var u=jt,g=pr(),x=cn;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=s();var M=!ri((Dt||g).memoizedState,l);if(M&&(g.memoizedState=l,Zr=!0),g=g.queue,Hp(ef.bind(null,u,g,n),[n]),g.getSnapshot!==s||M||An!==null&&An.memoizedState.tag&1){if(u.flags|=2048,tl(9,{destroy:void 0},Jh.bind(null,u,g,l,s),null),Kn===null)throw Error(i(349));x||(dr&127)!==0||za(u,s,l)}return l}function za(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=jt.updateQueue,s===null?(s=Yc(),jt.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Jh(n,s,l,u){s.value=l,s.getSnapshot=u,Nd(s)&&tf(n)}function ef(n,s,l){return l(function(){Nd(s)&&tf(n)})}function Nd(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!ri(n,l)}catch{return!0}}function tf(n){var s=Fa(n,2);s!==null&&As(s,n,2)}function Ao(n){var s=Xr();if(typeof n=="function"){var l=n;if(n=l(),Ei){dt(!0);try{l()}finally{dt(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},s}function Cd(n,s,l,u){return n.baseState=l,Pl(n,Dt,typeof u=="function"?u:fa)}function Td(n,s,l,u,g){if(Ld(n))throw Error(i(485));if(n=s.action,n!==null){var x={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){x.listeners.push(M)}};$.T!==null?l(!0):x.isTransition=!1,u(x),l=s.pending,l===null?(x.next=s.pending=x,Ed(s,x)):(x.next=l.next,s.pending=l.next=x)}}function Ed(n,s){var l=s.action,u=s.payload,g=n.state;if(s.isTransition){var x=$.T,M={};$.T=M;try{var Q=l(g,u),me=$.S;me!==null&&me(M,Q),nf(n,s,Q)}catch(Le){el(n,s,Le)}finally{x!==null&&M.types!==null&&(x.types=M.types),$.T=x}}else try{x=l(g,u),nf(n,s,x)}catch(Le){el(n,s,Le)}}function nf(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){kd(n,s,u)},function(u){return el(n,s,u)}):kd(n,s,l)}function kd(n,s,l){s.status="fulfilled",s.value=l,Gu(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,Ed(n,l)))}function el(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Gu(s),s=s.next;while(s!==u)}n.action=null}function Gu(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Xc(n,s){return s}function da(n,s){if(cn){var l=Kn.formState;if(l!==null){e:{var u=jt;if(cn){if(Zn){t:{for(var g=Zn,x=fr;g.nodeType!==8;){if(!x){g=null;break t}if(g=pa(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){Zn=pa(g.nextSibling),u=g.data==="F!";break e}}go(u)}u=!1}u&&(s=l[0])}}return l=Xr(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:s},l.queue=u,l=T2.bind(null,jt,u),u.dispatch=l,u=Ao(!1),x=Zp.bind(null,jt,!1,u.queue),u=Xr(),g={state:s,dispatch:null,action:n,pending:null},u.queue=g,l=Td.bind(null,jt,g,x,l),g.dispatch=l,u.memoizedState=n,[s,l,!1]}function Pa(n){var s=pr();return Ua(s,Dt,n)}function Ua(n,s,l){if(s=Pl(n,s,Xc)[0],n=Pu(fa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=So(s)}catch(M){throw M===ve?ae:M}else u=s;s=pr();var g=s.queue,x=g.dispatch;return l!==s.memoizedState&&(jt.flags|=2048,tl(9,{destroy:void 0},Wu.bind(null,g,l),null)),[u,x,n]}function Wu(n,s){n.action=s}function Yu(n){var s=pr(),l=Dt;if(l!==null)return Ua(s,l,n);pr(),s=s.memoizedState,l=pr();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function tl(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=jt.updateQueue,s===null&&(s=Yc(),jt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function Od(){return pr().memoizedState}function Ul(n,s,l,u){var g=Xr();jt.flags|=n,g.memoizedState=tl(1|s,{destroy:void 0},l,u===void 0?null:u)}function Hl(n,s,l,u){var g=pr();u=u===void 0?null:u;var x=g.memoizedState.inst;Dt!==null&&u!==null&&Zh(u,Dt.memoizedState.deps)?g.memoizedState=tl(s,x,l,u):(jt.flags|=n,g.memoizedState=tl(1|s,x,l,u))}function d2(n,s){Ul(8390656,8,n,s)}function Hp(n,s){Hl(2048,8,n,s)}function $_(n){jt.flags|=4;var s=jt.updateQueue;if(s===null)s=Yc(),jt.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function p2(n){var s=pr().memoizedState;return $_({ref:s,nextImpl:n}),function(){if((Dn&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function m2(n,s){return Hl(4,2,n,s)}function g2(n,s){return Hl(4,4,n,s)}function v2(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function b2(n,s,l){l=l!=null?l.concat([n]):null,Hl(4,4,v2.bind(null,s,n),l)}function Gp(){}function y2(n,s){var l=pr();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Zh(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function x2(n,s){var l=pr();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Zh(s,u[1]))return u[0];if(u=n(),Ei){dt(!0);try{n()}finally{dt(!1)}}return l.memoizedState=[u,s],u}function Wp(n,s,l){return l===void 0||(dr&1073741824)!==0&&(mn&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=_5(),jt.lanes|=n,Yl|=n,l)}function _2(n,s,l,u){return ri(l,s)?l:an.current!==null?(n=Wp(n,l,u),ri(n,s)||(Zr=!0),n):(dr&42)===0||(dr&1073741824)!==0&&(mn&261930)===0?(Zr=!0,n.memoizedState=l):(n=_5(),jt.lanes|=n,Yl|=n,s)}function w2(n,s,l,u,g){var x=ie.p;ie.p=x!==0&&8>x?x:8;var M=$.T,Q={};$.T=Q,Zp(n,!1,s,l);try{var me=g(),Le=$.S;if(Le!==null&&Le(Q,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var qe=z(me,u);rf(n,s,qe,Hs(n))}else rf(n,s,u,Hs(n))}catch(We){rf(n,s,{then:function(){},status:"rejected",reason:We},Hs())}finally{ie.p=x,M!==null&&Q.types!==null&&(M.types=Q.types),$.T=M}}function K_(){}function Yp(n,s,l,u){if(n.tag!==5)throw Error(i(476));var g=S2(n).queue;w2(n,g,s,se,l===null?K_:function(){return A2(n),l(u)})}function S2(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:se},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function A2(n){var s=S2(n);s.next===null&&(s=n.alternate.memoizedState),rf(n,s.next.queue,{},Hs())}function Xp(){return oi(_f)}function N2(){return pr().memoizedState}function C2(){return pr().memoizedState}function Q_(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=Hs();n=qt(l);var u=rn(s,n,l);u!==null&&(As(u,s,l),Mn(u,s,l)),s={cache:ql()},n.payload=s;return}s=s.return}}function J_(n,s,l){var u=Hs();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ld(n)?E2(s,l):(l=Eu(n,s,l,u),l!==null&&(As(l,n,u),k2(l,s,u)))}function T2(n,s,l){var u=Hs();rf(n,s,l,u)}function rf(n,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ld(n))E2(s,g);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var M=s.lastRenderedState,Q=x(M,l);if(g.hasEagerState=!0,g.eagerState=Q,ri(Q,M))return qc(n,s,g,0),Kn===null&&Bc(),!1}catch{}finally{}if(l=Eu(n,s,g,u),l!==null)return As(l,n,u),k2(l,s,u),!0}return!1}function Zp(n,s,l,u){if(u={lane:2,revertLane:T0(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ld(n)){if(s)throw Error(i(479))}else s=Eu(n,l,u,2),s!==null&&As(s,n,2)}function Ld(n){var s=n.alternate;return n===jt||s!==null&&s===jt}function E2(n,s){ys=Fi=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function k2(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Et(n,l)}}var sf={readContext:oi,use:zl,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useLayoutEffect:Hn,useInsertionEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useSyncExternalStore:Hn,useId:Hn,useHostTransitionStatus:Hn,useFormState:Hn,useActionState:Hn,useOptimistic:Hn,useMemoCache:Hn,useCacheRefresh:Hn};sf.useEffectEvent=Hn;var O2={readContext:oi,use:zl,useCallback:function(n,s){return Xr().memoizedState=[n,s===void 0?null:s],n},useContext:oi,useEffect:d2,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Ul(4194308,4,v2.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Ul(4194308,4,n,s)},useInsertionEffect:function(n,s){Ul(4,2,n,s)},useMemo:function(n,s){var l=Xr();s=s===void 0?null:s;var u=n();if(Ei){dt(!0);try{n()}finally{dt(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=Xr();if(l!==void 0){var g=l(s);if(Ei){dt(!0);try{l(s)}finally{dt(!1)}}}else g=s;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=J_.bind(null,jt,n),[u.memoizedState,n]},useRef:function(n){var s=Xr();return n={current:n},s.memoizedState=n},useState:function(n){n=Ao(n);var s=n.queue,l=T2.bind(null,jt,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:Gp,useDeferredValue:function(n,s){var l=Xr();return Wp(l,n,s)},useTransition:function(){var n=Ao(!1);return n=w2.bind(null,jt,n.queue,!0,!1),Xr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=jt,g=Xr();if(cn){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),Kn===null)throw Error(i(349));(mn&127)!==0||za(u,s,l)}g.memoizedState=l;var x={value:l,getSnapshot:s};return g.queue=x,d2(ef.bind(null,u,x,n),[n]),u.flags|=2048,tl(9,{destroy:void 0},Jh.bind(null,u,x,l,s),null),l},useId:function(){var n=Xr(),s=Kn.identifierPrefix;if(cn){var l=vs,u=gs;l=(u&~(1<<32-At(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Lr++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Bu++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Xp,useFormState:da,useActionState:da,useOptimistic:function(n){var s=Xr();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Zp.bind(null,jt,!0,l),l.dispatch=s,[n,s]},useMemoCache:Jo,useCacheRefresh:function(){return Xr().memoizedState=Q_.bind(null,jt)},useEffectEvent:function(n){var s=Xr(),l={impl:n};return s.memoizedState=l,function(){if((Dn&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},$p={readContext:oi,use:zl,useCallback:y2,useContext:oi,useEffect:Hp,useImperativeHandle:b2,useInsertionEffect:m2,useLayoutEffect:g2,useMemo:x2,useReducer:Pu,useRef:Od,useState:function(){return Pu(fa)},useDebugValue:Gp,useDeferredValue:function(n,s){var l=pr();return _2(l,Dt.memoizedState,n,s)},useTransition:function(){var n=Pu(fa)[0],s=pr().memoizedState;return[typeof n=="boolean"?n:So(n),s]},useSyncExternalStore:Hu,useId:N2,useHostTransitionStatus:Xp,useFormState:Pa,useActionState:Pa,useOptimistic:function(n,s){var l=pr();return Cd(l,Dt,n,s)},useMemoCache:Jo,useCacheRefresh:C2};$p.useEffectEvent=p2;var L2={readContext:oi,use:zl,useCallback:y2,useContext:oi,useEffect:Hp,useImperativeHandle:b2,useInsertionEffect:m2,useLayoutEffect:g2,useMemo:x2,useReducer:Uu,useRef:Od,useState:function(){return Uu(fa)},useDebugValue:Gp,useDeferredValue:function(n,s){var l=pr();return Dt===null?Wp(l,n,s):_2(l,Dt.memoizedState,n,s)},useTransition:function(){var n=Uu(fa)[0],s=pr().memoizedState;return[typeof n=="boolean"?n:So(n),s]},useSyncExternalStore:Hu,useId:N2,useHostTransitionStatus:Xp,useFormState:Yu,useActionState:Yu,useOptimistic:function(n,s){var l=pr();return Dt!==null?Cd(l,Dt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Jo,useCacheRefresh:C2};L2.useEffectEvent=p2;function Kp(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:y({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Qp={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=Hs(),g=qt(u);g.payload=s,l!=null&&(g.callback=l),s=rn(n,g,u),s!==null&&(As(s,n,u),Mn(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=Hs(),g=qt(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=rn(n,g,u),s!==null&&(As(s,n,u),Mn(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Hs(),u=qt(l);u.tag=2,s!=null&&(u.callback=s),s=rn(n,u,l),s!==null&&(As(s,n,l),Mn(s,n,l))}};function M2(n,s,l,u,g,x,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,x,M):s.prototype&&s.prototype.isPureReactComponent?!Da(l,u)||!Da(g,x):!0}function j2(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&Qp.enqueueReplaceState(s,s.state,null)}function Zc(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=y({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function D2(n){Fc(n)}function R2(n){console.error(n)}function I2(n){Fc(n)}function Md(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function V2(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Jp(n,s,l){return l=qt(l),l.tag=3,l.payload={element:null},l.callback=function(){Md(n,s)},l}function F2(n){return n=qt(n),n.tag=3,n}function B2(n,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var x=u.value;n.payload=function(){return g(x)},n.callback=function(){V2(s,l,u)}}var M=l.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){V2(s,l,u),typeof g!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var Q=u.stack;this.componentDidCatch(u.value,{componentStack:Q!==null?Q:""})})}function ew(n,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&yo(s,l,g,!0),l=ar.current,l!==null){switch(l.tag){case 31:case 13:return Sn===null?Hd():l.alternate===null&&Mr===0&&(Mr=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===ye?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),A0(n,u,g)),!1;case 22:return l.flags|=65536,u===ye?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),A0(n,u,g)),!1}throw Error(i(435,l.tag))}return A0(n,u,g),Hd(),!1}if(cn)return s=ar.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==zs&&(n=Error(i(422),{cause:u}),Fl(ds(n,l)))):(u!==zs&&(s=Error(i(423),{cause:u}),Fl(ds(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=ds(u,l),g=Jp(n.stateNode,u,g),Fr(n,g),Mr!==4&&(Mr=2)),!1;var x=Error(i(520),{cause:u});if(x=ds(x,l),df===null?df=[x]:df.push(x),Mr!==4&&(Mr=2),s===null)return!0;u=ds(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=Jp(l.stateNode,u,n),Fr(l,n),!1;case 1:if(s=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xl===null||!Xl.has(x))))return l.flags|=65536,g&=-g,l.lanes|=g,g=F2(g),B2(g,n,l,u),Fr(l,g),!1}l=l.return}while(l!==null);return!1}var e0=Error(i(461)),Zr=!1;function ki(n,s,l,u){s.child=n===null?en(s,null,l,u):$n(s,n.child,l,u)}function q2(n,s,l,u,g){l=l.render;var x=s.ref;if("ref"in u){var M={};for(var Q in u)Q!=="ref"&&(M[Q]=u[Q])}else M=u;return xo(s),u=$h(n,s,l,M,x,g),Q=Kh(),n!==null&&!Zr?(Qh(n,s,g),nl(n,s,g)):(cn&&Q&&Wh(s),s.flags|=1,ki(n,s,u,g),s.child)}function z2(n,s,l,u,g){if(n===null){var x=l.type;return typeof x=="function"&&!Ou(x)&&x.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=x,P2(n,s,x,u,g)):(n=Rl(l.type,null,u,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(x=n.child,!l0(n,g)){var M=x.memoizedProps;if(l=l.compare,l=l!==null?l:Da,l(M,u)&&n.ref===s.ref)return nl(n,s,g)}return s.flags|=1,n=fs(x,u),n.ref=s.ref,n.return=s,s.child=n}function P2(n,s,l,u,g){if(n!==null){var x=n.memoizedProps;if(Da(x,u)&&n.ref===s.ref)if(Zr=!1,s.pendingProps=u=x,l0(n,g))(n.flags&131072)!==0&&(Zr=!0);else return s.lanes=n.lanes,nl(n,s,g)}return t0(n,s,l,u,g)}function U2(n,s,l,u){var g=u.children,x=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,n!==null){for(u=s.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~x}else u=0,s.child=null;return H2(n,s,x,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ne(s,x!==null?x.cachePool:null),x!==null?sr(s,x):kn(),kr(s);else return u=s.lanes=536870912,H2(n,s,x!==null?x.baseLanes|l:l,l,u)}else x!==null?(ne(s,x.cachePool),sr(s,x),Or(),s.memoizedState=null):(n!==null&&ne(s,null),kn(),Or());return ki(n,s,g,l),s.child}function af(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function H2(n,s,l,u,g){var x=ee();return x=x===null?null:{parent:wr._currentValue,pool:x},s.memoizedState={baseLanes:l,cachePool:x},n!==null&&ne(s,null),kn(),kr(s),n!==null&&yo(n,s,u,!0),s.childLanes=g,null}function jd(n,s){return s=Rd({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function G2(n,s,l){return $n(s,n.child,null,l),n=jd(s,s.pendingProps),n.flags|=2,In(s),s.memoizedState=null,n}function tw(n,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(cn){if(u.mode==="hidden")return n=jd(s,u),s.lanes=536870912,af(null,n);if(jn(s),(n=Zn)?(n=rv(n,fr),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:mo!==null?{id:gs,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},l=Lu(n),l.return=s,s.child=l,si=s,Zn=null)):n=null,n===null)throw go(s);return s.lanes=536870912,null}return jd(s,u)}var x=n.memoizedState;if(x!==null){var M=x.dehydrated;if(jn(s),g)if(s.flags&256)s.flags&=-257,s=G2(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Zr||yo(n,s,l,!1),g=(l&n.childLanes)!==0,Zr||g){if(u=Kn,u!==null&&(M=Qt(u,l),M!==0&&M!==x.retryLane))throw x.retryLane=M,Fa(n,M),As(u,n,M),e0;Hd(),s=G2(n,s,l)}else n=x.treeContext,Zn=pa(M.nextSibling),si=s,cn=!0,Ti=null,fr=!1,n!==null&&Sd(s,n),s=jd(s,u),s.flags|=4096;return s}return n=fs(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Dd(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function t0(n,s,l,u,g){return xo(s),l=$h(n,s,l,u,void 0,g),u=Kh(),n!==null&&!Zr?(Qh(n,s,g),nl(n,s,g)):(cn&&u&&Wh(s),s.flags|=1,ki(n,s,l,g),s.child)}function W2(n,s,l,u,g,x){return xo(s),s.updateQueue=null,l=qa(s,u,l,g),qu(n),u=Kh(),n!==null&&!Zr?(Qh(n,s,x),nl(n,s,x)):(cn&&u&&Wh(s),s.flags|=1,ki(n,s,l,x),s.child)}function Y2(n,s,l,u,g){if(xo(s),s.stateNode===null){var x=ii,M=l.contextType;typeof M=="object"&&M!==null&&(x=oi(M)),x=new l(u,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Qp,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=u,x.state=s.memoizedState,x.refs={},at(s),M=l.contextType,x.context=typeof M=="object"&&M!==null?oi(M):ii,x.state=s.memoizedState,M=l.getDerivedStateFromProps,typeof M=="function"&&(Kp(s,l,M,u),x.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(M=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),M!==x.state&&Qp.enqueueReplaceState(x,x.state,null),Tr(s,u,x,g),Un(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){x=s.stateNode;var Q=s.memoizedProps,me=Zc(l,Q);x.props=me;var Le=x.context,qe=l.contextType;M=ii,typeof qe=="object"&&qe!==null&&(M=oi(qe));var We=l.getDerivedStateFromProps;qe=typeof We=="function"||typeof x.getSnapshotBeforeUpdate=="function",Q=s.pendingProps!==Q,qe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(Q||Le!==M)&&j2(s,x,u,M),gt=!1;var De=s.memoizedState;x.state=De,Tr(s,u,x,g),Un(),Le=s.memoizedState,Q||De!==Le||gt?(typeof We=="function"&&(Kp(s,l,We,u),Le=s.memoizedState),(me=gt||M2(s,l,me,u,De,Le,M))?(qe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Le),x.props=u,x.state=Le,x.context=M,u=me):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{x=s.stateNode,ir(n,s),M=s.memoizedProps,qe=Zc(l,M),x.props=qe,We=s.pendingProps,De=x.context,Le=l.contextType,me=ii,typeof Le=="object"&&Le!==null&&(me=oi(Le)),Q=l.getDerivedStateFromProps,(Le=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M!==We||De!==me)&&j2(s,x,u,me),gt=!1,De=s.memoizedState,x.state=De,Tr(s,u,x,g),Un();var Ve=s.memoizedState;M!==We||De!==Ve||gt||n!==null&&n.dependencies!==null&&Iu(n.dependencies)?(typeof Q=="function"&&(Kp(s,l,Q,u),Ve=s.memoizedState),(qe=gt||M2(s,l,qe,u,De,Ve,me)||n!==null&&n.dependencies!==null&&Iu(n.dependencies))?(Le||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Ve,me),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Ve,me)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||M===n.memoizedProps&&De===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&De===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Ve),x.props=u,x.state=Ve,x.context=me,u=qe):(typeof x.componentDidUpdate!="function"||M===n.memoizedProps&&De===n.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&De===n.memoizedState||(s.flags|=1024),u=!1)}return x=u,Dd(n,s),u=(s.flags&128)!==0,x||u?(x=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,n!==null&&u?(s.child=$n(s,n.child,null,g),s.child=$n(s,null,l,g)):ki(n,s,l,g),s.memoizedState=x.state,n=s.child):n=nl(n,s,g),n}function X2(n,s,l,u){return Ko(),s.flags|=256,ki(n,s,l,u),s.child}var n0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function r0(n){return{baseLanes:n,cachePool:oe()}}function i0(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Us),n}function Z2(n,s,l){var u=s.pendingProps,g=!1,x=(s.flags&128)!==0,M;if((M=x)||(M=n!==null&&n.memoizedState===null?!1:(xn.current&2)!==0),M&&(g=!0,s.flags&=-129),M=(s.flags&32)!==0,s.flags&=-33,n===null){if(cn){if(g?Sr(s):Or(),(n=Zn)?(n=rv(n,fr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:mo!==null?{id:gs,overflow:vs}:null,retryLane:536870912,hydrationErrors:null},l=Lu(n),l.return=s,s.child=l,si=s,Zn=null)):n=null,n===null)throw go(s);return q0(n)?s.lanes=32:s.lanes=536870912,null}var Q=u.children;return u=u.fallback,g?(Or(),g=s.mode,Q=Rd({mode:"hidden",children:Q},g),u=po(u,g,l,null),Q.return=s,u.return=s,Q.sibling=u,s.child=Q,u=s.child,u.memoizedState=r0(l),u.childLanes=i0(n,M,l),s.memoizedState=n0,af(null,u)):(Sr(s),s0(s,Q))}var me=n.memoizedState;if(me!==null&&(Q=me.dehydrated,Q!==null)){if(x)s.flags&256?(Sr(s),s.flags&=-257,s=a0(n,s,l)):s.memoizedState!==null?(Or(),s.child=n.child,s.flags|=128,s=null):(Or(),Q=u.fallback,g=s.mode,u=Rd({mode:"visible",children:u.children},g),Q=po(Q,g,l,null),Q.flags|=2,u.return=s,Q.return=s,u.sibling=Q,s.child=u,$n(s,n.child,null,l),u=s.child,u.memoizedState=r0(l),u.childLanes=i0(n,M,l),s.memoizedState=n0,s=af(null,u));else if(Sr(s),q0(Q)){if(M=Q.nextSibling&&Q.nextSibling.dataset,M)var Le=M.dgst;M=Le,u=Error(i(419)),u.stack="",u.digest=M,Fl({value:u,source:null,stack:null}),s=a0(n,s,l)}else if(Zr||yo(n,s,l,!1),M=(l&n.childLanes)!==0,Zr||M){if(M=Kn,M!==null&&(u=Qt(M,l),u!==0&&u!==me.retryLane))throw me.retryLane=u,Fa(n,u),As(M,n,u),e0;B0(Q)||Hd(),s=a0(n,s,l)}else B0(Q)?(s.flags|=192,s.child=n.child,s=null):(n=me.treeContext,Zn=pa(Q.nextSibling),si=s,cn=!0,Ti=null,fr=!1,n!==null&&Sd(s,n),s=s0(s,u.children),s.flags|=4096);return s}return g?(Or(),Q=u.fallback,g=s.mode,me=n.child,Le=me.sibling,u=fs(me,{mode:"hidden",children:u.children}),u.subtreeFlags=me.subtreeFlags&65011712,Le!==null?Q=fs(Le,Q):(Q=po(Q,g,l,null),Q.flags|=2),Q.return=s,u.return=s,u.sibling=Q,s.child=u,af(null,u),u=s.child,Q=n.child.memoizedState,Q===null?Q=r0(l):(g=Q.cachePool,g!==null?(me=wr._currentValue,g=g.parent!==me?{parent:me,pool:me}:g):g=oe(),Q={baseLanes:Q.baseLanes|l,cachePool:g}),u.memoizedState=Q,u.childLanes=i0(n,M,l),s.memoizedState=n0,af(n.child,u)):(Sr(s),l=n.child,n=l.sibling,l=fs(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(M=s.deletions,M===null?(s.deletions=[n],s.flags|=16):M.push(n)),s.child=l,s.memoizedState=null,l)}function s0(n,s){return s=Rd({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Rd(n,s){return n=pi(22,n,null,s),n.lanes=0,n}function a0(n,s,l){return $n(s,n.child,null,l),n=s0(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function $2(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Bl(n.return,s,l)}function o0(n,s,l,u,g,x){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:x}:(M.isBackwards=s,M.rendering=null,M.renderingStartTime=0,M.last=u,M.tail=l,M.tailMode=g,M.treeForkCount=x)}function K2(n,s,l){var u=s.pendingProps,g=u.revealOrder,x=u.tail;u=u.children;var M=xn.current,Q=(M&2)!==0;if(Q?(M=M&1|2,s.flags|=128):M&=1,P(xn,M),ki(n,s,u,l),u=cn?Hc:0,!Q&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$2(n,l,s);else if(n.tag===19)$2(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&gi(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),o0(s,!1,g,l,x,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&gi(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}o0(s,!0,l,null,x,u);break;case"together":o0(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function nl(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Yl|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(yo(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,l=fs(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=fs(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function l0(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Iu(n)))}function nw(n,s,l){switch(s.tag){case 3:de(s,s.stateNode.containerInfo),bo(s,wr,n.memoizedState.cache),Ko();break;case 27:case 5:Te(s);break;case 4:de(s,s.stateNode.containerInfo);break;case 10:bo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,jn(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Sr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Z2(n,s,l):(Sr(s),n=nl(n,s,l),n!==null?n.sibling:null);Sr(s);break;case 19:var g=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(yo(n,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return K2(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),P(xn,xn.current),u)break;return null;case 22:return s.lanes=0,U2(n,s,l,s.pendingProps);case 24:bo(s,wr,n.memoizedState.cache)}return nl(n,s,l)}function Q2(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)Zr=!0;else{if(!l0(n,l)&&(s.flags&128)===0)return Zr=!1,nw(n,s,l);Zr=(n.flags&131072)!==0}else Zr=!1,cn&&(s.flags&1048576)!==0&&wd(s,Hc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Ee(s.elementType),s.type=n,typeof n=="function")Ou(n)?(u=Zc(n,u),s.tag=1,s=Y2(null,s,n,u,l)):(s.tag=0,s=t0(null,s,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===F){s.tag=11,s=q2(null,s,n,u,l);break e}else if(g===G){s.tag=14,s=z2(null,s,n,u,l);break e}}throw s=U(n)||n,Error(i(306,s,""))}}return s;case 0:return t0(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=Zc(u,s.pendingProps),Y2(n,s,u,g,l);case 3:e:{if(de(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var x=s.memoizedState;g=x.element,ir(n,s),Tr(s,u,null,l);var M=s.memoizedState;if(u=M.cache,bo(s,wr,u),u!==x.cache&&Qo(s,[wr],l,!0),Un(),u=M.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:M.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=X2(n,s,u,l);break e}else if(u!==g){g=ds(Error(i(424)),s),Fl(g),s=X2(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Zn=pa(n.firstChild),si=s,cn=!0,Ti=null,fr=!0,l=en(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ko(),u===g){s=nl(n,s,l);break e}ki(n,s,u,l)}s=s.child}return s;case 26:return Dd(n,s),n===null?(l=cv(s.type,null,s.pendingProps,null))?s.memoizedState=l:cn||(l=s.type,n=s.pendingProps,u=Kd(ce.current).createElement(l),u[pn]=s,u[Cn]=n,Oi(u,l,n),nr(u),s.stateNode=u):s.memoizedState=cv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Te(s),n===null&&cn&&(u=s.stateNode=av(s.type,s.pendingProps,ce.current),si=s,fr=!0,g=Zn,Ql(s.type)?(z0=g,Zn=pa(u.firstChild)):Zn=g),ki(n,s,s.pendingProps.children,l),Dd(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&cn&&((g=u=Zn)&&(u=Mw(u,s.type,s.pendingProps,fr),u!==null?(s.stateNode=u,si=s,Zn=pa(u.firstChild),fr=!1,g=!0):g=!1),g||go(s)),Te(s),g=s.type,x=s.pendingProps,M=n!==null?n.memoizedProps:null,u=x.children,I0(g,x)?u=null:M!==null&&I0(g,M)&&(s.flags|=32),s.memoizedState!==null&&(g=$h(n,s,Up,null,null,l),_f._currentValue=g),Dd(n,s),ki(n,s,u,l),s.child;case 6:return n===null&&cn&&((n=l=Zn)&&(l=jw(l,s.pendingProps,fr),l!==null?(s.stateNode=l,si=s,Zn=null,n=!0):n=!1),n||go(s)),null;case 13:return Z2(n,s,l);case 4:return de(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=$n(s,null,u,l):ki(n,s,u,l),s.child;case 11:return q2(n,s,s.type,s.pendingProps,l);case 7:return ki(n,s,s.pendingProps,l),s.child;case 8:return ki(n,s,s.pendingProps.children,l),s.child;case 12:return ki(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,bo(s,s.type,u.value),ki(n,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,xo(s),g=oi(g),u=u(g),s.flags|=1,ki(n,s,u,l),s.child;case 14:return z2(n,s,s.type,s.pendingProps,l);case 15:return P2(n,s,s.type,s.pendingProps,l);case 19:return K2(n,s,l);case 31:return tw(n,s,l);case 22:return U2(n,s,l,s.pendingProps);case 24:return xo(s),u=oi(wr),n===null?(g=ee(),g===null&&(g=Kn,x=ql(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=l),g=x),s.memoizedState={parent:u,cache:g},at(s),bo(s,wr,g)):((n.lanes&l)!==0&&(ir(n,s),Tr(s,null,null,l),Un()),g=n.memoizedState,x=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),bo(s,wr,u)):(u=x.cache,bo(s,wr,u),u!==g.cache&&Qo(s,[wr],l,!0))),ki(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function rl(n){n.flags|=4}function c0(n,s,l,u,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(N5())n.flags|=8192;else throw Fe=ye,ke}else n.flags&=-16777217}function J2(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!pv(s))if(N5())n.flags|=8192;else throw Fe=ye,ke}function Id(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ie():536870912,n.lanes|=s,Ku|=s)}function of(n,s){if(!cn)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function or(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function rw(n,s,l){var u=s.pendingProps;switch(Du(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(s),null;case 1:return or(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),bs(wr),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(ai(s)?rl(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xh())),or(s),null;case 26:var g=s.type,x=s.memoizedState;return n===null?(rl(s),x!==null?(or(s),J2(s,x)):(or(s),c0(s,g,null,u,l))):x?x!==n.memoizedState?(rl(s),or(s),J2(s,x)):(or(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&rl(s),or(s),c0(s,g,n,u,l)),null;case 27:if(Ue(s),l=ce.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&rl(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return or(s),null}n=J.current,ai(s)?Yh(s):(n=av(g,u,l),s.stateNode=n,rl(s))}return or(s),null;case 5:if(Ue(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&rl(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return or(s),null}if(x=J.current,ai(s))Yh(s);else{var M=Kd(ce.current);switch(x){case 1:x=M.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:x=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":x=M.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":x=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":x=M.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?M.createElement("select",{is:u.is}):M.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?M.createElement(g,{is:u.is}):M.createElement(g)}}x[pn]=s,x[Cn]=u;e:for(M=s.child;M!==null;){if(M.tag===5||M.tag===6)x.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===s)break e;for(;M.sibling===null;){if(M.return===null||M.return===s)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}s.stateNode=x;e:switch(Oi(x,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&rl(s)}}return or(s),c0(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&rl(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=ce.current,ai(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,g=si,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[pn]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Z5(n.nodeValue,l)),n||go(s,!0)}else n=Kd(n).createTextNode(u),n[pn]=s,s.stateNode=n}return or(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(u=ai(s),l!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[pn]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;or(s),n=!1}else l=Xh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(In(s),s):(In(s),null);if((s.flags&128)!==0)throw Error(i(558))}return or(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=ai(s),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(i(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[pn]=s}else Ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;or(s),g=!1}else g=Xh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(In(s),s):(In(s),null)}return In(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==g&&(u.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),Id(s,s.updateQueue),or(s),null);case 4:return xe(),n===null&&L0(s.stateNode.containerInfo),or(s),null;case 10:return bs(s.type),or(s),null;case 19:if(L(xn),u=s.memoizedState,u===null)return or(s),null;if(g=(s.flags&128)!==0,x=u.rendering,x===null)if(g)of(u,!1);else{if(Mr!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(x=gi(n),x!==null){for(s.flags|=128,of(u,!1),n=x.updateQueue,s.updateQueue=n,Id(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)Pc(l,n),l=l.sibling;return P(xn,xn.current&1|2),cn&&ts(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Mt()>zd&&(s.flags|=128,g=!0,of(u,!1),s.lanes=4194304)}else{if(!g)if(n=gi(x),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,Id(s,n),of(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!cn)return or(s),null}else 2*Mt()-u.renderingStartTime>zd&&l!==536870912&&(s.flags|=128,g=!0,of(u,!1),s.lanes=4194304);u.isBackwards?(x.sibling=s.child,s.child=x):(n=u.last,n!==null?n.sibling=x:s.child=x,u.last=x)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Mt(),n.sibling=null,l=xn.current,P(xn,g?l&1|2:l&1),cn&&ts(s,u.treeForkCount),n):(or(s),null);case 22:case 23:return In(s),Br(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(or(s),s.subtreeFlags&6&&(s.flags|=8192)):or(s),l=s.updateQueue,l!==null&&Id(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&L(Z),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),bs(wr),or(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function iw(n,s){switch(Du(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return bs(wr),xe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ue(s),null;case 31:if(s.memoizedState!==null){if(In(s),s.alternate===null)throw Error(i(340));Ko()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(In(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ko()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return L(xn),null;case 4:return xe(),null;case 10:return bs(s.type),null;case 22:case 23:return In(s),Br(),n!==null&&L(Z),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return bs(wr),null;case 25:return null;default:return null}}function e5(n,s){switch(Du(s),s.tag){case 3:bs(wr),xe();break;case 26:case 27:case 5:Ue(s);break;case 4:xe();break;case 31:s.memoizedState!==null&&In(s);break;case 13:In(s);break;case 19:L(xn);break;case 10:bs(s.type);break;case 22:case 23:In(s),Br(),n!==null&&L(Z);break;case 24:bs(wr)}}function lf(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var x=l.create,M=l.inst;u=x(),M.destroy=u}l=l.next}while(l!==g)}}catch(Q){Fn(s,s.return,Q)}}function Gl(n,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var x=g.next;u=x;do{if((u.tag&n)===n){var M=u.inst,Q=M.destroy;if(Q!==void 0){M.destroy=void 0,g=s;var me=l,Le=Q;try{Le()}catch(qe){Fn(g,me,qe)}}}u=u.next}while(u!==x)}}catch(qe){Fn(s,s.return,qe)}}function t5(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Er(s,l)}catch(u){Fn(n,n.return,u)}}}function n5(n,s,l){l.props=Zc(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Fn(n,s,u)}}function cf(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){Fn(n,s,g)}}function No(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Fn(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Fn(n,s,g)}else l.current=null}function r5(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Fn(n,n.return,g)}}function u0(n,s,l){try{var u=n.stateNode;Cw(u,n.type,l,s),u[Cn]=s}catch(g){Fn(n,n.return,g)}}function i5(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ql(n.type)||n.tag===4}function h0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||i5(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ql(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function f0(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Rs));else if(u!==4&&(u===27&&Ql(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(f0(n,s,l),n=n.sibling;n!==null;)f0(n,s,l),n=n.sibling}function Vd(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&Ql(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Vd(n,s,l),n=n.sibling;n!==null;)Vd(n,s,l),n=n.sibling}function s5(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Oi(s,u,l),s[pn]=n,s[Cn]=l}catch(x){Fn(n,n.return,x)}}var il=!1,$r=!1,d0=!1,a5=typeof WeakSet=="function"?WeakSet:Set,vi=null;function sw(n,s){if(n=n.containerInfo,D0=i1,n=Ia(n),ca(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var M=0,Q=-1,me=-1,Le=0,qe=0,We=n,De=null;t:for(;;){for(var Ve;We!==l||g!==0&&We.nodeType!==3||(Q=M+g),We!==x||u!==0&&We.nodeType!==3||(me=M+u),We.nodeType===3&&(M+=We.nodeValue.length),(Ve=We.firstChild)!==null;)De=We,We=Ve;for(;;){if(We===n)break t;if(De===l&&++Le===g&&(Q=M),De===x&&++qe===u&&(me=M),(Ve=We.nextSibling)!==null)break;We=De,De=We.parentNode}We=Ve}l=Q===-1||me===-1?null:{start:Q,end:me}}else l=null}l=l||{start:0,end:0}}else l=null;for(R0={focusedElem:n,selectionRange:l},i1=!1,vi=s;vi!==null;)if(s=vi,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,vi=n;else for(;vi!==null;){switch(s=vi,x=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,l=s,g=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var _t=Zc(l.type,g);n=u.getSnapshotBeforeUpdate(_t,x),u.__reactInternalSnapshotBeforeUpdate=n}catch(zt){Fn(l,l.return,zt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)F0(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":F0(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,vi=n;break}vi=s.return}}function o5(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:al(n,l),u&4&&lf(5,l);break;case 1:if(al(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(M){Fn(l,l.return,M)}else{var g=Zc(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(M){Fn(l,l.return,M)}}u&64&&t5(l),u&512&&cf(l,l.return);break;case 3:if(al(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Er(n,s)}catch(M){Fn(l,l.return,M)}}break;case 27:s===null&&u&4&&s5(l);case 26:case 5:al(n,l),s===null&&u&4&&r5(l),u&512&&cf(l,l.return);break;case 12:al(n,l);break;case 31:al(n,l),u&4&&u5(n,l);break;case 13:al(n,l),u&4&&h5(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=pw.bind(null,l),Dw(n,l))));break;case 22:if(u=l.memoizedState!==null||il,!u){s=s!==null&&s.memoizedState!==null||$r,g=il;var x=$r;il=u,($r=s)&&!x?ol(n,l,(l.subtreeFlags&8772)!==0):al(n,l),il=g,$r=x}break;case 30:break;default:al(n,l)}}function l5(n){var s=n.alternate;s!==null&&(n.alternate=null,l5(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ls(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mr=null,xs=!1;function sl(n,s,l){for(l=l.child;l!==null;)c5(n,s,l),l=l.sibling}function c5(n,s,l){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Ct,l)}catch{}switch(l.tag){case 26:$r||No(l,s),sl(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$r||No(l,s);var u=mr,g=xs;Ql(l.type)&&(mr=l.stateNode,xs=!1),sl(n,s,l),bf(l.stateNode),mr=u,xs=g;break;case 5:$r||No(l,s);case 6:if(u=mr,g=xs,mr=null,sl(n,s,l),mr=u,xs=g,mr!==null)if(xs)try{(mr.nodeType===9?mr.body:mr.nodeName==="HTML"?mr.ownerDocument.body:mr).removeChild(l.stateNode)}catch(x){Fn(l,s,x)}else try{mr.removeChild(l.stateNode)}catch(x){Fn(l,s,x)}break;case 18:mr!==null&&(xs?(n=mr,tv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),sh(n)):tv(mr,l.stateNode));break;case 4:u=mr,g=xs,mr=l.stateNode.containerInfo,xs=!0,sl(n,s,l),mr=u,xs=g;break;case 0:case 11:case 14:case 15:Gl(2,l,s),$r||Gl(4,l,s),sl(n,s,l);break;case 1:$r||(No(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&n5(l,s,u)),sl(n,s,l);break;case 21:sl(n,s,l);break;case 22:$r=(u=$r)||l.memoizedState!==null,sl(n,s,l),$r=u;break;default:sl(n,s,l)}}function u5(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{sh(n)}catch(l){Fn(s,s.return,l)}}}function h5(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{sh(n)}catch(l){Fn(s,s.return,l)}}function aw(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new a5),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new a5),s;default:throw Error(i(435,n.tag))}}function Fd(n,s){var l=aw(n);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=mw.bind(null,n,u);u.then(g,g)}})}function _s(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],x=n,M=s,Q=M;e:for(;Q!==null;){switch(Q.tag){case 27:if(Ql(Q.type)){mr=Q.stateNode,xs=!1;break e}break;case 5:mr=Q.stateNode,xs=!1;break e;case 3:case 4:mr=Q.stateNode.containerInfo,xs=!0;break e}Q=Q.return}if(mr===null)throw Error(i(160));c5(x,M,g),mr=null,xs=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)f5(s,n),s=s.sibling}var Ha=null;function f5(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_s(s,n),ws(n),u&4&&(Gl(3,n,n.return),lf(3,n),Gl(5,n,n.return));break;case 1:_s(s,n),ws(n),u&512&&($r||l===null||No(l,l.return)),u&64&&il&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Ha;if(_s(s,n),ws(n),u&512&&($r||l===null||No(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":x=g.getElementsByTagName("title")[0],(!x||x[Di]||x[pn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(u),g.head.insertBefore(x,g.querySelector("head > title"))),Oi(x,u,l),x[pn]=n,nr(x),u=x;break e;case"link":var M=fv("link","href",g).get(u+(l.href||""));if(M){for(var Q=0;Q<M.length;Q++)if(x=M[Q],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){M.splice(Q,1);break t}}x=g.createElement(u),Oi(x,u,l),g.head.appendChild(x);break;case"meta":if(M=fv("meta","content",g).get(u+(l.content||""))){for(Q=0;Q<M.length;Q++)if(x=M[Q],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){M.splice(Q,1);break t}}x=g.createElement(u),Oi(x,u,l),g.head.appendChild(x);break;default:throw Error(i(468,u))}x[pn]=n,nr(x),u=x}n.stateNode=u}else dv(g,n.type,n.stateNode);else n.stateNode=hv(g,u,n.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?dv(g,n.type,n.stateNode):hv(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&u0(n,n.memoizedProps,l.memoizedProps)}break;case 27:_s(s,n),ws(n),u&512&&($r||l===null||No(l,l.return)),l!==null&&u&4&&u0(n,n.memoizedProps,l.memoizedProps);break;case 5:if(_s(s,n),ws(n),u&512&&($r||l===null||No(l,l.return)),n.flags&32){g=n.stateNode;try{Ds(g,"")}catch(_t){Fn(n,n.return,_t)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,u0(n,g,l!==null?l.memoizedProps:g)),u&1024&&(d0=!0);break;case 6:if(_s(s,n),ws(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(_t){Fn(n,n.return,_t)}}break;case 3:if(e1=null,g=Ha,Ha=Qd(s.containerInfo),_s(s,n),Ha=g,ws(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{sh(s.containerInfo)}catch(_t){Fn(n,n.return,_t)}d0&&(d0=!1,d5(n));break;case 4:u=Ha,Ha=Qd(n.stateNode.containerInfo),_s(s,n),ws(n),Ha=u;break;case 12:_s(s,n),ws(n);break;case 31:_s(s,n),ws(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Fd(n,u)));break;case 13:_s(s,n),ws(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(qd=Mt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Fd(n,u)));break;case 22:g=n.memoizedState!==null;var me=l!==null&&l.memoizedState!==null,Le=il,qe=$r;if(il=Le||g,$r=qe||me,_s(s,n),$r=qe,il=Le,ws(n),u&8192)e:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||me||il||$r||$c(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){me=l=s;try{if(x=me.stateNode,g)M=x.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{Q=me.stateNode;var We=me.memoizedProps.style,De=We!=null&&We.hasOwnProperty("display")?We.display:null;Q.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(_t){Fn(me,me.return,_t)}}}else if(s.tag===6){if(l===null){me=s;try{me.stateNode.nodeValue=g?"":me.memoizedProps}catch(_t){Fn(me,me.return,_t)}}}else if(s.tag===18){if(l===null){me=s;try{var Ve=me.stateNode;g?nv(Ve,!0):nv(me.stateNode,!1)}catch(_t){Fn(me,me.return,_t)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Fd(n,l))));break;case 19:_s(s,n),ws(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Fd(n,u)));break;case 30:break;case 21:break;default:_s(s,n),ws(n)}}function ws(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(i5(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,x=h0(n);Vd(n,x,g);break;case 5:var M=l.stateNode;l.flags&32&&(Ds(M,""),l.flags&=-33);var Q=h0(n);Vd(n,Q,M);break;case 3:case 4:var me=l.stateNode.containerInfo,Le=h0(n);f0(n,Le,me);break;default:throw Error(i(161))}}catch(qe){Fn(n,n.return,qe)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function d5(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;d5(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function al(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)o5(n,s.alternate,s),s=s.sibling}function $c(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Gl(4,s,s.return),$c(s);break;case 1:No(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&n5(s,s.return,l),$c(s);break;case 27:bf(s.stateNode);case 26:case 5:No(s,s.return),$c(s);break;case 22:s.memoizedState===null&&$c(s);break;case 30:$c(s);break;default:$c(s)}n=n.sibling}}function ol(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=n,x=s,M=x.flags;switch(x.tag){case 0:case 11:case 15:ol(g,x,l),lf(4,x);break;case 1:if(ol(g,x,l),u=x,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Le){Fn(u,u.return,Le)}if(u=x,g=u.updateQueue,g!==null){var Q=u.stateNode;try{var me=g.shared.hiddenCallbacks;if(me!==null)for(g.shared.hiddenCallbacks=null,g=0;g<me.length;g++)mi(me[g],Q)}catch(Le){Fn(u,u.return,Le)}}l&&M&64&&t5(x),cf(x,x.return);break;case 27:s5(x);case 26:case 5:ol(g,x,l),l&&u===null&&M&4&&r5(x),cf(x,x.return);break;case 12:ol(g,x,l);break;case 31:ol(g,x,l),l&&M&4&&u5(g,x);break;case 13:ol(g,x,l),l&&M&4&&h5(g,x);break;case 22:x.memoizedState===null&&ol(g,x,l),cf(x,x.return);break;case 30:break;default:ol(g,x,l)}s=s.sibling}}function p0(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Gc(l))}function m0(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Gc(n))}function Ga(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)p5(n,s,l,u),s=s.sibling}function p5(n,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Ga(n,s,l,u),g&2048&&lf(9,s);break;case 1:Ga(n,s,l,u);break;case 3:Ga(n,s,l,u),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Gc(n)));break;case 12:if(g&2048){Ga(n,s,l,u),n=s.stateNode;try{var x=s.memoizedProps,M=x.id,Q=x.onPostCommit;typeof Q=="function"&&Q(M,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(me){Fn(s,s.return,me)}}else Ga(n,s,l,u);break;case 31:Ga(n,s,l,u);break;case 13:Ga(n,s,l,u);break;case 23:break;case 22:x=s.stateNode,M=s.alternate,s.memoizedState!==null?x._visibility&2?Ga(n,s,l,u):uf(n,s):x._visibility&2?Ga(n,s,l,u):(x._visibility|=2,Xu(n,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&p0(M,s);break;case 24:Ga(n,s,l,u),g&2048&&m0(s.alternate,s);break;default:Ga(n,s,l,u)}}function Xu(n,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=n,M=s,Q=l,me=u,Le=M.flags;switch(M.tag){case 0:case 11:case 15:Xu(x,M,Q,me,g),lf(8,M);break;case 23:break;case 22:var qe=M.stateNode;M.memoizedState!==null?qe._visibility&2?Xu(x,M,Q,me,g):uf(x,M):(qe._visibility|=2,Xu(x,M,Q,me,g)),g&&Le&2048&&p0(M.alternate,M);break;case 24:Xu(x,M,Q,me,g),g&&Le&2048&&m0(M.alternate,M);break;default:Xu(x,M,Q,me,g)}s=s.sibling}}function uf(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,g=u.flags;switch(u.tag){case 22:uf(l,u),g&2048&&p0(u.alternate,u);break;case 24:uf(l,u),g&2048&&m0(u.alternate,u);break;default:uf(l,u)}s=s.sibling}}var hf=8192;function Zu(n,s,l){if(n.subtreeFlags&hf)for(n=n.child;n!==null;)m5(n,s,l),n=n.sibling}function m5(n,s,l){switch(n.tag){case 26:Zu(n,s,l),n.flags&hf&&n.memoizedState!==null&&Ww(l,Ha,n.memoizedState,n.memoizedProps);break;case 5:Zu(n,s,l);break;case 3:case 4:var u=Ha;Ha=Qd(n.stateNode.containerInfo),Zu(n,s,l),Ha=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=hf,hf=16777216,Zu(n,s,l),hf=u):Zu(n,s,l));break;default:Zu(n,s,l)}}function g5(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ff(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];vi=u,b5(u,n)}g5(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)v5(n),n=n.sibling}function v5(n){switch(n.tag){case 0:case 11:case 15:ff(n),n.flags&2048&&Gl(9,n,n.return);break;case 3:ff(n);break;case 12:ff(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Bd(n)):ff(n);break;default:ff(n)}}function Bd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];vi=u,b5(u,n)}g5(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Gl(8,s,s.return),Bd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Bd(s));break;default:Bd(s)}n=n.sibling}}function b5(n,s){for(;vi!==null;){var l=vi;switch(l.tag){case 0:case 11:case 15:Gl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Gc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,vi=u;else e:for(l=n;vi!==null;){u=vi;var g=u.sibling,x=u.return;if(l5(u),u===l){vi=null;break e}if(g!==null){g.return=x,vi=g;break e}vi=x}}}var ow={getCacheForType:function(n){var s=oi(wr),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return oi(wr).controller.signal}},lw=typeof WeakMap=="function"?WeakMap:Map,Dn=0,Kn=null,un=null,mn=0,Vn=0,Ps=null,Wl=!1,$u=!1,g0=!1,ll=0,Mr=0,Yl=0,Kc=0,v0=0,Us=0,Ku=0,df=null,Ss=null,b0=!1,qd=0,y5=0,zd=1/0,Pd=null,Xl=null,ci=0,Zl=null,Qu=null,cl=0,y0=0,x0=null,x5=null,pf=0,_0=null;function Hs(){return(Dn&2)!==0&&mn!==0?mn&-mn:$.T!==null?T0():on()}function _5(){if(Us===0)if((mn&536870912)===0||cn){var n=Kt;Kt<<=1,(Kt&3932160)===0&&(Kt=262144),Us=n}else Us=536870912;return n=ar.current,n!==null&&(n.flags|=32),Us}function As(n,s,l){(n===Kn&&(Vn===2||Vn===9)||n.cancelPendingCommit!==null)&&(Ju(n,0),$l(n,mn,Us,!1)),$e(n,l),((Dn&2)===0||n!==Kn)&&(n===Kn&&((Dn&2)===0&&(Kc|=l),Mr===4&&$l(n,mn,Us,!1)),Co(n))}function w5(n,s,l){if((Dn&6)!==0)throw Error(i(327));var u=!l&&(s&127)===0&&(s&n.expiredLanes)===0||Rn(n,s),g=u?hw(n,s):S0(n,s,!0),x=u;do{if(g===0){$u&&!u&&$l(n,s,0,!1);break}else{if(l=n.current.alternate,x&&!cw(l)){g=S0(n,s,!1),x=!1;continue}if(g===2){if(x=s,n.errorRecoveryDisabledLanes&x)var M=0;else M=n.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){s=M;e:{var Q=n;g=df;var me=Q.current.memoizedState.isDehydrated;if(me&&(Ju(Q,M).flags|=256),M=S0(Q,M,!1),M!==2){if(g0&&!me){Q.errorRecoveryDisabledLanes|=x,Kc|=x,g=4;break e}x=Ss,Ss=g,x!==null&&(Ss===null?Ss=x:Ss.push.apply(Ss,x))}g=M}if(x=!1,g!==2)continue}}if(g===1){Ju(n,0),$l(n,s,0,!0);break}e:{switch(u=n,x=g,x){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:$l(u,s,Us,!Wl);break e;case 2:Ss=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(g=qd+300-Mt(),10<g)){if($l(u,s,Us,!Wl),Tt(u,0,!0)!==0)break e;cl=s,u.timeoutHandle=J5(S5.bind(null,u,l,Ss,Pd,b0,s,Us,Kc,Ku,Wl,x,"Throttled",-0,0),g);break e}S5(u,l,Ss,Pd,b0,s,Us,Kc,Ku,Wl,x,null,-0,0)}}break}while(!0);Co(n)}function S5(n,s,l,u,g,x,M,Q,me,Le,qe,We,De,Ve){if(n.timeoutHandle=-1,We=s.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rs},m5(s,x,We);var _t=(x&62914560)===x?qd-Mt():(x&4194048)===x?y5-Mt():0;if(_t=Yw(We,_t),_t!==null){cl=x,n.cancelPendingCommit=_t(L5.bind(null,n,s,x,l,u,g,M,Q,me,qe,We,null,De,Ve)),$l(n,x,M,!Le);return}}L5(n,s,x,l,u,g,M,Q,me)}function cw(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],x=g.getSnapshot;g=g.value;try{if(!ri(x(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $l(n,s,l,u){s&=~v0,s&=~Kc,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var g=s;0<g;){var x=31-At(g),M=1<<x;u[x]=-1,g&=~M}l!==0&&vt(n,l,s)}function Ud(){return(Dn&6)===0?(mf(0),!1):!0}function w0(){if(un!==null){if(Vn===0)var n=un.return;else n=un,ha=vo=null,zu(n),Ye=null,wt=0,n=un;for(;n!==null;)e5(n.alternate,n),n=n.return;un=null}}function Ju(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,kw(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),cl=0,w0(),Kn=n,un=l=fs(n.current,null),mn=s,Vn=0,Ps=null,Wl=!1,$u=Rn(n,s),g0=!1,Ku=Us=v0=Kc=Yl=Mr=0,Ss=df=null,b0=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var g=31-At(u),x=1<<g;s|=n[g],u&=~x}return ll=s,Bc(),l}function A5(n,s){jt=null,$.H=sf,s===ve||s===ae?(s=Pe(),Vn=3):s===ke?(s=Pe(),Vn=4):Vn=s===e0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ps=s,un===null&&(Mr=1,Md(n,ds(s,n.current)))}function N5(){var n=ar.current;return n===null?!0:(mn&4194048)===mn?Sn===null:(mn&62914560)===mn||(mn&536870912)!==0?n===Sn:!1}function C5(){var n=$.H;return $.H=sf,n===null?sf:n}function T5(){var n=$.A;return $.A=ow,n}function Hd(){Mr=4,Wl||(mn&4194048)!==mn&&ar.current!==null||($u=!0),(Yl&134217727)===0&&(Kc&134217727)===0||Kn===null||$l(Kn,mn,Us,!1)}function S0(n,s,l){var u=Dn;Dn|=2;var g=C5(),x=T5();(Kn!==n||mn!==s)&&(Pd=null,Ju(n,s)),s=!1;var M=Mr;e:do try{if(Vn!==0&&un!==null){var Q=un,me=Ps;switch(Vn){case 8:w0(),M=6;break e;case 3:case 2:case 9:case 6:ar.current===null&&(s=!0);var Le=Vn;if(Vn=0,Ps=null,eh(n,Q,me,Le),l&&$u){M=0;break e}break;default:Le=Vn,Vn=0,Ps=null,eh(n,Q,me,Le)}}uw(),M=Mr;break}catch(qe){A5(n,qe)}while(!0);return s&&n.shellSuspendCounter++,ha=vo=null,Dn=u,$.H=g,$.A=x,un===null&&(Kn=null,mn=0,Bc()),M}function uw(){for(;un!==null;)E5(un)}function hw(n,s){var l=Dn;Dn|=2;var u=C5(),g=T5();Kn!==n||mn!==s?(Pd=null,zd=Mt()+500,Ju(n,s)):$u=Rn(n,s);e:do try{if(Vn!==0&&un!==null){s=un;var x=Ps;t:switch(Vn){case 1:Vn=0,Ps=null,eh(n,s,x,1);break;case 2:case 9:if(Ce(x)){Vn=0,Ps=null,k5(s);break}s=function(){Vn!==2&&Vn!==9||Kn!==n||(Vn=7),Co(n)},x.then(s,s);break e;case 3:Vn=7;break e;case 4:Vn=5;break e;case 7:Ce(x)?(Vn=0,Ps=null,k5(s)):(Vn=0,Ps=null,eh(n,s,x,7));break;case 5:var M=null;switch(un.tag){case 26:M=un.memoizedState;case 5:case 27:var Q=un;if(M?pv(M):Q.stateNode.complete){Vn=0,Ps=null;var me=Q.sibling;if(me!==null)un=me;else{var Le=Q.return;Le!==null?(un=Le,Gd(Le)):un=null}break t}}Vn=0,Ps=null,eh(n,s,x,5);break;case 6:Vn=0,Ps=null,eh(n,s,x,6);break;case 8:w0(),Mr=6;break e;default:throw Error(i(462))}}fw();break}catch(qe){A5(n,qe)}while(!0);return ha=vo=null,$.H=u,$.A=g,Dn=l,un!==null?0:(Kn=null,mn=0,Bc(),Mr)}function fw(){for(;un!==null&&!ut();)E5(un)}function E5(n){var s=Q2(n.alternate,n,ll);n.memoizedProps=n.pendingProps,s===null?Gd(n):un=s}function k5(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=W2(l,s,s.pendingProps,s.type,void 0,mn);break;case 11:s=W2(l,s,s.pendingProps,s.type.render,s.ref,mn);break;case 5:zu(s);default:e5(l,s),s=un=Pc(s,ll),s=Q2(l,s,ll)}n.memoizedProps=n.pendingProps,s===null?Gd(n):un=s}function eh(n,s,l,u){ha=vo=null,zu(s),Ye=null,wt=0;var g=s.return;try{if(ew(n,g,s,l,mn)){Mr=1,Md(n,ds(l,n.current)),un=null;return}}catch(x){if(g!==null)throw un=g,x;Mr=1,Md(n,ds(l,n.current)),un=null;return}s.flags&32768?(cn||u===1?n=!0:$u||(mn&536870912)!==0?n=!1:(Wl=n=!0,(u===2||u===9||u===3||u===6)&&(u=ar.current,u!==null&&u.tag===13&&(u.flags|=16384))),O5(s,n)):Gd(s)}function Gd(n){var s=n;do{if((s.flags&32768)!==0){O5(s,Wl);return}n=s.return;var l=rw(s.alternate,s,ll);if(l!==null){un=l;return}if(s=s.sibling,s!==null){un=s;return}un=s=n}while(s!==null);Mr===0&&(Mr=5)}function O5(n,s){do{var l=iw(n.alternate,n);if(l!==null){l.flags&=32767,un=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){un=n;return}un=n=l}while(n!==null);Mr=6,un=null}function L5(n,s,l,u,g,x,M,Q,me){n.cancelPendingCommit=null;do Wd();while(ci!==0);if((Dn&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(x=s.lanes|s.childLanes,x|=Tu,Nt(n,l,x,M,Q,me),n===Kn&&(un=Kn=null,mn=0),Qu=s,Zl=n,cl=l,y0=x,x0=g,x5=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,gw(Re,function(){return I5(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,g=ie.p,ie.p=2,M=Dn,Dn|=4;try{sw(n,s,l)}finally{Dn=M,ie.p=g,$.T=u}}ci=1,M5(),j5(),D5()}}function M5(){if(ci===1){ci=0;var n=Zl,s=Qu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=ie.p;ie.p=2;var g=Dn;Dn|=4;try{f5(s,n);var x=R0,M=Ia(n.containerInfo),Q=x.focusedElem,me=x.selectionRange;if(M!==Q&&Q&&Q.ownerDocument&&Ra(Q.ownerDocument.documentElement,Q)){if(me!==null&&ca(Q)){var Le=me.start,qe=me.end;if(qe===void 0&&(qe=Le),"selectionStart"in Q)Q.selectionStart=Le,Q.selectionEnd=Math.min(qe,Q.value.length);else{var We=Q.ownerDocument||document,De=We&&We.defaultView||window;if(De.getSelection){var Ve=De.getSelection(),_t=Q.textContent.length,zt=Math.min(me.start,_t),Wn=me.end===void 0?zt:Math.min(me.end,_t);!Ve.extend&&zt>Wn&&(M=Wn,Wn=zt,zt=M);var Ae=Dl(Q,zt),be=Dl(Q,Wn);if(Ae&&be&&(Ve.rangeCount!==1||Ve.anchorNode!==Ae.node||Ve.anchorOffset!==Ae.offset||Ve.focusNode!==be.node||Ve.focusOffset!==be.offset)){var Oe=We.createRange();Oe.setStart(Ae.node,Ae.offset),Ve.removeAllRanges(),zt>Wn?(Ve.addRange(Oe),Ve.extend(be.node,be.offset)):(Oe.setEnd(be.node,be.offset),Ve.addRange(Oe))}}}}for(We=[],Ve=Q;Ve=Ve.parentNode;)Ve.nodeType===1&&We.push({element:Ve,left:Ve.scrollLeft,top:Ve.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<We.length;Q++){var He=We[Q];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}i1=!!D0,R0=D0=null}finally{Dn=g,ie.p=u,$.T=l}}n.current=s,ci=2}}function j5(){if(ci===2){ci=0;var n=Zl,s=Qu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=ie.p;ie.p=2;var g=Dn;Dn|=4;try{o5(n,s.alternate,s)}finally{Dn=g,ie.p=u,$.T=l}}ci=3}}function D5(){if(ci===4||ci===3){ci=0,ht();var n=Zl,s=Qu,l=cl,u=x5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ci=5:(ci=0,Qu=Zl=null,R5(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Xl=null),dn(l),s=s.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Ct,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=$.T,g=ie.p,ie.p=2,$.T=null;try{for(var x=n.onRecoverableError,M=0;M<u.length;M++){var Q=u[M];x(Q.value,{componentStack:Q.stack})}}finally{$.T=s,ie.p=g}}(cl&3)!==0&&Wd(),Co(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===_0?pf++:(pf=0,_0=n):pf=0,mf(0)}}function R5(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Gc(s)))}function Wd(){return M5(),j5(),D5(),I5()}function I5(){if(ci!==5)return!1;var n=Zl,s=y0;y0=0;var l=dn(cl),u=$.T,g=ie.p;try{ie.p=32>l?32:l,$.T=null,l=x0,x0=null;var x=Zl,M=cl;if(ci=0,Qu=Zl=null,cl=0,(Dn&6)!==0)throw Error(i(331));var Q=Dn;if(Dn|=4,v5(x.current),p5(x,x.current,M,l),Dn=Q,mf(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Ct,x)}catch{}return!0}finally{ie.p=g,$.T=u,R5(n,s)}}function V5(n,s,l){s=ds(l,s),s=Jp(n.stateNode,s,2),n=rn(n,s,2),n!==null&&($e(n,2),Co(n))}function Fn(n,s,l){if(n.tag===3)V5(n,n,l);else for(;s!==null;){if(s.tag===3){V5(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xl===null||!Xl.has(u))){n=ds(l,n),l=F2(2),u=rn(s,l,2),u!==null&&(B2(l,u,s,n),$e(u,2),Co(u));break}}s=s.return}}function A0(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new lw;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(g0=!0,g.add(l),n=dw.bind(null,n,s,l),s.then(n,n))}function dw(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Kn===n&&(mn&l)===l&&(Mr===4||Mr===3&&(mn&62914560)===mn&&300>Mt()-qd?(Dn&2)===0&&Ju(n,0):v0|=l,Ku===mn&&(Ku=0)),Co(n)}function F5(n,s){s===0&&(s=Ie()),n=Fa(n,s),n!==null&&($e(n,s),Co(n))}function pw(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),F5(n,l)}function mw(n,s){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),F5(n,l)}function gw(n,s){return nt(n,s)}var Yd=null,th=null,N0=!1,Xd=!1,C0=!1,Kl=0;function Co(n){n!==th&&n.next===null&&(th===null?Yd=th=n:th=th.next=n),Xd=!0,N0||(N0=!0,bw())}function mf(n,s){if(!C0&&Xd){C0=!0;do for(var l=!1,u=Yd;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var x=0;else{var M=u.suspendedLanes,Q=u.pingedLanes;x=(1<<31-At(42|n)+1)-1,x&=g&~(M&~Q),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,P5(u,x))}else x=mn,x=Tt(u,u===Kn?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||Rn(u,x)||(l=!0,P5(u,x));u=u.next}while(l);C0=!1}}function vw(){B5()}function B5(){Xd=N0=!1;var n=0;Kl!==0&&Ew()&&(n=Kl);for(var s=Mt(),l=null,u=Yd;u!==null;){var g=u.next,x=q5(u,s);x===0?(u.next=null,l===null?Yd=g:l.next=g,g===null&&(th=l)):(l=u,(n!==0||(x&3)!==0)&&(Xd=!0)),u=g}ci!==0&&ci!==5||mf(n),Kl!==0&&(Kl=0)}function q5(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var M=31-At(x),Q=1<<M,me=g[M];me===-1?((Q&l)===0||(Q&u)!==0)&&(g[M]=_e(Q,s)):me<=s&&(n.expiredLanes|=Q),x&=~Q}if(s=Kn,l=mn,l=Tt(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(Vn===2||Vn===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&it(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Rn(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&it(u),dn(l)){case 2:case 8:l=Vt;break;case 32:l=Re;break;case 268435456:l=st;break;default:l=Re}return u=z5.bind(null,n),l=nt(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&it(u),n.callbackPriority=2,n.callbackNode=null,2}function z5(n,s){if(ci!==0&&ci!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Wd()&&n.callbackNode!==l)return null;var u=mn;return u=Tt(n,n===Kn?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(w5(n,u,s),q5(n,Mt()),n.callbackNode!=null&&n.callbackNode===l?z5.bind(null,n):null)}function P5(n,s){if(Wd())return null;w5(n,s,!0)}function bw(){Ow(function(){(Dn&6)!==0?nt(It,vw):B5()})}function T0(){if(Kl===0){var n=p;n===0&&(n=ct,ct<<=1,(ct&261888)===0&&(ct=256)),Kl=n}return Kl}function U5(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ii(""+n)}function H5(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function yw(n,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var x=U5((g[Cn]||null).action),M=u.submitter;M&&(s=(s=M[Cn]||null)?U5(s.formAction):M.getAttribute("formAction"),s!==null&&(x=s,M=null));var Q=new cs("action","action",null,u,g);n.push({event:Q,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Kl!==0){var me=M?H5(g,M):new FormData(g);Yp(l,{pending:!0,data:me,method:g.method,action:x},null,me)}}else typeof x=="function"&&(Q.preventDefault(),me=M?H5(g,M):new FormData(g),Yp(l,{pending:!0,data:me,method:g.method,action:x},x,me))},currentTarget:g}]})}}for(var E0=0;E0<Xo.length;E0++){var k0=Xo[E0],xw=k0.toLowerCase(),_w=k0[0].toUpperCase()+k0.slice(1);hs(xw,"on"+_w)}hs(Yo,"onAnimationEnd"),hs(Vc,"onAnimationIteration"),hs(Uh,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(yd,"onTransitionRun"),hs(xd,"onTransitionStart"),hs(_d,"onTransitionCancel"),hs(Hh,"onTransitionEnd"),Ms("onMouseEnter",["mouseout","mouseover"]),Ms("onMouseLeave",["mouseout","mouseover"]),Ms("onPointerEnter",["pointerout","pointerover"]),Ms("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gf));function G5(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;e:{var x=void 0;if(s)for(var M=u.length-1;0<=M;M--){var Q=u[M],me=Q.instance,Le=Q.currentTarget;if(Q=Q.listener,me!==x&&g.isPropagationStopped())break e;x=Q,g.currentTarget=Le;try{x(g)}catch(qe){Fc(qe)}g.currentTarget=null,x=me}else for(M=0;M<u.length;M++){if(Q=u[M],me=Q.instance,Le=Q.currentTarget,Q=Q.listener,me!==x&&g.isPropagationStopped())break e;x=Q,g.currentTarget=Le;try{x(g)}catch(qe){Fc(qe)}g.currentTarget=null,x=me}}}}function hn(n,s){var l=s[Hr];l===void 0&&(l=s[Hr]=new Set);var u=n+"__bubble";l.has(u)||(W5(s,n,2,!1),l.add(u))}function O0(n,s,l){var u=0;s&&(u|=4),W5(l,n,u,s)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function L0(n){if(!n[Zd]){n[Zd]=!0,Fo.forEach(function(l){l!=="selectionchange"&&(ww.has(l)||O0(l,!1,n),O0(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Zd]||(s[Zd]=!0,O0("selectionchange",!1,s))}}function W5(n,s,l,u){switch(_v(s)){case 2:var g=$w;break;case 8:g=Kw;break;default:g=W0}l=g.bind(null,s,l,n),g=void 0,!Mc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function M0(n,s,l,u,g){var x=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var M=u.tag;if(M===3||M===4){var Q=u.stateNode.containerInfo;if(Q===g)break;if(M===4)for(M=u.return;M!==null;){var me=M.tag;if((me===3||me===4)&&M.stateNode.containerInfo===g)return;M=M.return}for(;Q!==null;){if(M=Ri(Q),M===null)return;if(me=M.tag,me===5||me===6||me===26||me===27){u=x=M;continue e}Q=Q.parentNode}}u=u.return}wu(function(){var Le=x,qe=qo(l),We=[];e:{var De=Gh.get(n);if(De!==void 0){var Ve=cs,_t=n;switch(n){case"keypress":if(ls(l)===0)break e;case"keydown":case"keyup":Ve=bn;break;case"focusin":_t="focus",Ve=Ta;break;case"focusout":_t="blur",Ve=Ta;break;case"beforeblur":case"afterblur":Ve=Ta;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=Ca;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=Vr;break;case Yo:case Vc:case Uh:Ve=_;break;case Hh:Ve=ni;break;case"scroll":case"scrollend":Ve=Tl;break;case"wheel":Ve=Is;break;case"copy":case"cut":case"paste":Ve=le;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=yr;break;case"toggle":case"beforetoggle":Ve=Dc}var zt=(s&4)!==0,Wn=!zt&&(n==="scroll"||n==="scrollend"),Ae=zt?De!==null?De+"Capture":null:De;zt=[];for(var be=Le,Oe;be!==null;){var He=be;if(Oe=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Oe===null||Ae===null||(He=$i(be,Ae),He!=null&&zt.push(vf(be,He,Oe))),Wn)break;be=be.return}0<zt.length&&(De=new Ve(De,_t,null,l,qe),We.push({event:De,listeners:zt}))}}if((s&7)===0){e:{if(De=n==="mouseover"||n==="pointerover",Ve=n==="mouseout"||n==="pointerout",De&&l!==_a&&(_t=l.relatedTarget||l.fromElement)&&(Ri(_t)||_t[br]))break e;if((Ve||De)&&(De=qe.window===qe?qe:(De=qe.ownerDocument)?De.defaultView||De.parentWindow:window,Ve?(_t=l.relatedTarget||l.toElement,Ve=Le,_t=_t?Ri(_t):null,_t!==null&&(Wn=o(_t),zt=_t.tag,_t!==Wn||zt!==5&&zt!==27&&zt!==6)&&(_t=null)):(Ve=null,_t=Le),Ve!==_t)){if(zt=jc,He="onMouseLeave",Ae="onMouseEnter",be="mouse",(n==="pointerout"||n==="pointerover")&&(zt=yr,He="onPointerLeave",Ae="onPointerEnter",be="pointer"),Wn=Ve==null?De:Js(Ve),Oe=_t==null?De:Js(_t),De=new zt(He,be+"leave",Ve,l,qe),De.target=Wn,De.relatedTarget=Oe,He=null,Ri(qe)===Le&&(zt=new zt(Ae,be+"enter",_t,l,qe),zt.target=Oe,zt.relatedTarget=Wn,He=zt),Wn=He,Ve&&_t)t:{for(zt=Sw,Ae=Ve,be=_t,Oe=0,He=Ae;He;He=zt(He))Oe++;He=0;for(var Rt=be;Rt;Rt=zt(Rt))He++;for(;0<Oe-He;)Ae=zt(Ae),Oe--;for(;0<He-Oe;)be=zt(be),He--;for(;Oe--;){if(Ae===be||be!==null&&Ae===be.alternate){zt=Ae;break t}Ae=zt(Ae),be=zt(be)}zt=null}else zt=null;Ve!==null&&Y5(We,De,Ve,zt,!1),_t!==null&&Wn!==null&&Y5(We,Wn,_t,zt,!0)}}e:{if(De=Le?Js(Le):window,Ve=De.nodeName&&De.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&De.type==="file")var On=fo;else if(Rc(De))if(Vi)On=oa;else{On=xr;var Ot=Ml}else Ve=De.nodeName,!Ve||Ve.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Le&&kc(Le.elementType)&&(On=fo):On=Cu;if(On&&(On=On(n,Le))){Qi(We,On,l,qe);break e}Ot&&Ot(n,De,Le),n==="focusout"&&Le&&De.type==="number"&&Le.memoizedProps.value!=null&&Cc(De,"number",De.value)}switch(Ot=Le?Js(Le):window,n){case"focusin":(Rc(Ot)||Ot.contentEditable==="true")&&(Ji=Ot,Va=Le,fi=null);break;case"focusout":fi=Va=Ji=null;break;case"mousedown":us=!0;break;case"contextmenu":case"mouseup":case"dragend":us=!1,En(We,l,qe);break;case"selectionchange":if(Wo)break;case"keydown":case"keyup":En(We,l,qe)}var sn;if(ra)e:{switch(n){case"compositionstart":var gn="onCompositionStart";break e;case"compositionend":gn="onCompositionEnd";break e;case"compositionupdate":gn="onCompositionUpdate";break e}gn=void 0}else ia?ho(n,l)&&(gn="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(gn="onCompositionStart");gn&&(Oa&&l.locale!=="ko"&&(ia||gn!=="onCompositionStart"?gn==="onCompositionEnd"&&ia&&(sn=Su()):(Ki=qe,Po="value"in Ki?Ki.value:Ki.textContent,ia=!0)),Ot=$d(Le,gn),0<Ot.length&&(gn=new Se(gn,n,null,l,qe),We.push({event:gn,listeners:Ot}),sn?gn.data=sn:(sn=kl(l),sn!==null&&(gn.data=sn)))),(sn=Go?Ni(n,l):La(n,l))&&(gn=$d(Le,"onBeforeInput"),0<gn.length&&(Ot=new Se("onBeforeInput","beforeinput",null,l,qe),We.push({event:Ot,listeners:gn}),Ot.data=sn)),yw(We,n,Le,l,qe)}G5(We,s)})}function vf(n,s,l){return{instance:n,listener:s,currentTarget:l}}function $d(n,s){for(var l=s+"Capture",u=[];n!==null;){var g=n,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=$i(n,l),g!=null&&u.unshift(vf(n,g,x)),g=$i(n,s),g!=null&&u.push(vf(n,g,x))),n.tag===3)return u;n=n.return}return[]}function Sw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Y5(n,s,l,u,g){for(var x=s._reactName,M=[];l!==null&&l!==u;){var Q=l,me=Q.alternate,Le=Q.stateNode;if(Q=Q.tag,me!==null&&me===u)break;Q!==5&&Q!==26&&Q!==27||Le===null||(me=Le,g?(Le=$i(l,x),Le!=null&&M.unshift(vf(l,Le,me))):g||(Le=$i(l,x),Le!=null&&M.push(vf(l,Le,me)))),l=l.return}M.length!==0&&n.push({event:s,listeners:M})}var Aw=/\r\n?/g,Nw=/\u0000|\uFFFD/g;function X5(n){return(typeof n=="string"?n:""+n).replace(Aw,`
`).replace(Nw,"")}function Z5(n,s){return s=X5(s),X5(n)===s}function Gn(n,s,l,u,g,x){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Ds(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Ds(n,""+u);break;case"className":xa(n,"class",u);break;case"tabIndex":xa(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":xa(n,l,u);break;case"style":yu(n,u,x);break;case"data":if(s!=="object"){xa(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Ii(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(s!=="input"&&Gn(n,s,"name",g.name,g,null),Gn(n,s,"formEncType",g.formEncType,g,null),Gn(n,s,"formMethod",g.formMethod,g,null),Gn(n,s,"formTarget",g.formTarget,g,null)):(Gn(n,s,"encType",g.encType,g,null),Gn(n,s,"method",g.method,g,null),Gn(n,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Ii(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Rs);break;case"onScroll":u!=null&&hn("scroll",n);break;case"onScrollEnd":u!=null&&hn("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Ii(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":hn("beforetoggle",n),hn("toggle",n),Zi(n,"popover",u);break;case"xlinkActuate":js(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":js(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":js(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":js(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":js(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":js(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":js(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":js(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":js(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Zi(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Oc.get(l)||l,Zi(n,l,u))}}function j0(n,s,l,u,g,x){switch(l){case"style":yu(n,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Ds(n,u):(typeof u=="number"||typeof u=="bigint")&&Ds(n,""+u);break;case"onScroll":u!=null&&hn("scroll",n);break;case"onScrollEnd":u!=null&&hn("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wi.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),x=n[Cn]||null,x=x!=null?x[l]:null,typeof x=="function"&&n.removeEventListener(s,x,g),typeof u=="function")){typeof x!="function"&&x!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,g);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Zi(n,l,u)}}}function Oi(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hn("error",n),hn("load",n);var u=!1,g=!1,x;for(x in l)if(l.hasOwnProperty(x)){var M=l[x];if(M!=null)switch(x){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Gn(n,s,x,M,l,null)}}g&&Gn(n,s,"srcSet",l.srcSet,l,null),u&&Gn(n,s,"src",l.src,l,null);return;case"input":hn("invalid",n);var Q=x=M=g=null,me=null,Le=null;for(u in l)if(l.hasOwnProperty(u)){var qe=l[u];if(qe!=null)switch(u){case"name":g=qe;break;case"type":M=qe;break;case"checked":me=qe;break;case"defaultChecked":Le=qe;break;case"value":x=qe;break;case"defaultValue":Q=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(i(137,s));break;default:Gn(n,s,u,qe,l,null)}}vu(n,x,Q,me,Le,M,g,!1);return;case"select":hn("invalid",n),u=M=x=null;for(g in l)if(l.hasOwnProperty(g)&&(Q=l[g],Q!=null))switch(g){case"value":x=Q;break;case"defaultValue":M=Q;break;case"multiple":u=Q;default:Gn(n,s,g,Q,l,null)}s=x,l=M,n.multiple=!!u,s!=null?Ai(n,!!u,s,!1):l!=null&&Ai(n,!!u,l,!0);return;case"textarea":hn("invalid",n),x=g=u=null;for(M in l)if(l.hasOwnProperty(M)&&(Q=l[M],Q!=null))switch(M){case"value":u=Q;break;case"defaultValue":g=Q;break;case"children":x=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(91));break;default:Gn(n,s,M,Q,l,null)}Ec(n,u,g,x);return;case"option":for(me in l)if(l.hasOwnProperty(me)&&(u=l[me],u!=null))switch(me){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Gn(n,s,me,u,l,null)}return;case"dialog":hn("beforetoggle",n),hn("toggle",n),hn("cancel",n),hn("close",n);break;case"iframe":case"object":hn("load",n);break;case"video":case"audio":for(u=0;u<gf.length;u++)hn(gf[u],n);break;case"image":hn("error",n),hn("load",n);break;case"details":hn("toggle",n);break;case"embed":case"source":case"link":hn("error",n),hn("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in l)if(l.hasOwnProperty(Le)&&(u=l[Le],u!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Gn(n,s,Le,u,l,null)}return;default:if(kc(s)){for(qe in l)l.hasOwnProperty(qe)&&(u=l[qe],u!==void 0&&j0(n,s,qe,u,l,void 0));return}}for(Q in l)l.hasOwnProperty(Q)&&(u=l[Q],u!=null&&Gn(n,s,Q,u,l,null))}function Cw(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,M=null,Q=null,me=null,Le=null,qe=null;for(Ve in l){var We=l[Ve];if(l.hasOwnProperty(Ve)&&We!=null)switch(Ve){case"checked":break;case"value":break;case"defaultValue":me=We;default:u.hasOwnProperty(Ve)||Gn(n,s,Ve,null,u,We)}}for(var De in u){var Ve=u[De];if(We=l[De],u.hasOwnProperty(De)&&(Ve!=null||We!=null))switch(De){case"type":x=Ve;break;case"name":g=Ve;break;case"checked":Le=Ve;break;case"defaultChecked":qe=Ve;break;case"value":M=Ve;break;case"defaultValue":Q=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(i(137,s));break;default:Ve!==We&&Gn(n,s,De,Ve,u,We)}}Al(n,M,Q,me,Le,qe,x,g);return;case"select":Ve=M=Q=De=null;for(x in l)if(me=l[x],l.hasOwnProperty(x)&&me!=null)switch(x){case"value":break;case"multiple":Ve=me;default:u.hasOwnProperty(x)||Gn(n,s,x,null,u,me)}for(g in u)if(x=u[g],me=l[g],u.hasOwnProperty(g)&&(x!=null||me!=null))switch(g){case"value":De=x;break;case"defaultValue":Q=x;break;case"multiple":M=x;default:x!==me&&Gn(n,s,g,x,u,me)}s=Q,l=M,u=Ve,De!=null?Ai(n,!!l,De,!1):!!u!=!!l&&(s!=null?Ai(n,!!l,s,!0):Ai(n,!!l,l?[]:"",!1));return;case"textarea":Ve=De=null;for(Q in l)if(g=l[Q],l.hasOwnProperty(Q)&&g!=null&&!u.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Gn(n,s,Q,null,u,g)}for(M in u)if(g=u[M],x=l[M],u.hasOwnProperty(M)&&(g!=null||x!=null))switch(M){case"value":De=g;break;case"defaultValue":Ve=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==x&&Gn(n,s,M,g,u,x)}Tc(n,De,Ve);return;case"option":for(var _t in l)if(De=l[_t],l.hasOwnProperty(_t)&&De!=null&&!u.hasOwnProperty(_t))switch(_t){case"selected":n.selected=!1;break;default:Gn(n,s,_t,null,u,De)}for(me in u)if(De=u[me],Ve=l[me],u.hasOwnProperty(me)&&De!==Ve&&(De!=null||Ve!=null))switch(me){case"selected":n.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:Gn(n,s,me,De,u,Ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in l)De=l[zt],l.hasOwnProperty(zt)&&De!=null&&!u.hasOwnProperty(zt)&&Gn(n,s,zt,null,u,De);for(Le in u)if(De=u[Le],Ve=l[Le],u.hasOwnProperty(Le)&&De!==Ve&&(De!=null||Ve!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(i(137,s));break;default:Gn(n,s,Le,De,u,Ve)}return;default:if(kc(s)){for(var Wn in l)De=l[Wn],l.hasOwnProperty(Wn)&&De!==void 0&&!u.hasOwnProperty(Wn)&&j0(n,s,Wn,void 0,u,De);for(qe in u)De=u[qe],Ve=l[qe],!u.hasOwnProperty(qe)||De===Ve||De===void 0&&Ve===void 0||j0(n,s,qe,De,u,Ve);return}}for(var Ae in l)De=l[Ae],l.hasOwnProperty(Ae)&&De!=null&&!u.hasOwnProperty(Ae)&&Gn(n,s,Ae,null,u,De);for(We in u)De=u[We],Ve=l[We],!u.hasOwnProperty(We)||De===Ve||De==null&&Ve==null||Gn(n,s,We,De,u,Ve)}function $5(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],x=g.transferSize,M=g.initiatorType,Q=g.duration;if(x&&Q&&$5(M)){for(M=0,Q=g.responseEnd,u+=1;u<l.length;u++){var me=l[u],Le=me.startTime;if(Le>Q)break;var qe=me.transferSize,We=me.initiatorType;qe&&$5(We)&&(me=me.responseEnd,M+=qe*(me<Q?1:(Q-Le)/(me-Le)))}if(--u,s+=8*(x+M)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var D0=null,R0=null;function Kd(n){return n.nodeType===9?n:n.ownerDocument}function K5(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q5(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function I0(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var V0=null;function Ew(){var n=window.event;return n&&n.type==="popstate"?n===V0?!1:(V0=n,!0):(V0=null,!1)}var J5=typeof setTimeout=="function"?setTimeout:void 0,kw=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(n){return ev.resolve(null).then(n).catch(Lw)}:J5;function Lw(n){setTimeout(function(){throw n})}function Ql(n){return n==="head"}function tv(n,s){var l=s,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),sh(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")bf(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,bf(l);for(var x=l.firstChild;x;){var M=x.nextSibling,Q=x.nodeName;x[Di]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=M}}else l==="body"&&bf(n.ownerDocument.body);l=g}while(l);sh(s)}function nv(n,s){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function F0(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":F0(l),Ls(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function Mw(n,s,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Di])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=pa(n.nextSibling),n===null)break}return null}function jw(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=pa(n.nextSibling),n===null))return null;return n}function rv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=pa(n.nextSibling),n===null))return null;return n}function B0(n){return n.data==="$?"||n.data==="$~"}function q0(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Dw(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function pa(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var z0=null;function iv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return pa(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function sv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function av(n,s,l){switch(s=Kd(l),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function bf(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ls(n)}var ma=new Map,ov=new Set;function Qd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ul=ie.d;ie.d={f:Rw,r:Iw,D:Vw,C:Fw,L:Bw,m:qw,X:Pw,S:zw,M:Uw};function Rw(){var n=ul.f(),s=Ud();return n||s}function Iw(n){var s=Wi(n);s!==null&&s.tag===5&&s.type==="form"?A2(s):ul.r(n)}var nh=typeof document>"u"?null:document;function lv(n,s,l){var u=nh;if(u&&typeof s=="string"&&s){var g=Nr(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),ov.has(g)||(ov.add(g),n={rel:n,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Oi(s,"link",n),nr(s),u.head.appendChild(s)))}}function Vw(n){ul.D(n),lv("dns-prefetch",n,null)}function Fw(n,s){ul.C(n,s),lv("preconnect",n,s)}function Bw(n,s,l){ul.L(n,s,l);var u=nh;if(u&&n&&s){var g='link[rel="preload"][as="'+Nr(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Nr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Nr(l.imageSizes)+'"]')):g+='[href="'+Nr(n)+'"]';var x=g;switch(s){case"style":x=rh(n);break;case"script":x=ih(n)}ma.has(x)||(n=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),ma.set(x,n),u.querySelector(g)!==null||s==="style"&&u.querySelector(yf(x))||s==="script"&&u.querySelector(xf(x))||(s=u.createElement("link"),Oi(s,"link",n),nr(s),u.head.appendChild(s)))}}function qw(n,s){ul.m(n,s);var l=nh;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+Nr(u)+'"][href="'+Nr(n)+'"]',x=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ih(n)}if(!ma.has(x)&&(n=y({rel:"modulepreload",href:n},s),ma.set(x,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(xf(x)))return}u=l.createElement("link"),Oi(u,"link",n),nr(u),l.head.appendChild(u)}}}function zw(n,s,l){ul.S(n,s,l);var u=nh;if(u&&n){var g=Yi(u).hoistableStyles,x=rh(n);s=s||"default";var M=g.get(x);if(!M){var Q={loading:0,preload:null};if(M=u.querySelector(yf(x)))Q.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},l),(l=ma.get(x))&&P0(n,l);var me=M=u.createElement("link");nr(me),Oi(me,"link",n),me._p=new Promise(function(Le,qe){me.onload=Le,me.onerror=qe}),me.addEventListener("load",function(){Q.loading|=1}),me.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Jd(M,s,u)}M={type:"stylesheet",instance:M,count:1,state:Q},g.set(x,M)}}}function Pw(n,s){ul.X(n,s);var l=nh;if(l&&n){var u=Yi(l).hoistableScripts,g=ih(n),x=u.get(g);x||(x=l.querySelector(xf(g)),x||(n=y({src:n,async:!0},s),(s=ma.get(g))&&U0(n,s),x=l.createElement("script"),nr(x),Oi(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function Uw(n,s){ul.M(n,s);var l=nh;if(l&&n){var u=Yi(l).hoistableScripts,g=ih(n),x=u.get(g);x||(x=l.querySelector(xf(g)),x||(n=y({src:n,async:!0,type:"module"},s),(s=ma.get(g))&&U0(n,s),x=l.createElement("script"),nr(x),Oi(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(g,x))}}function cv(n,s,l,u){var g=(g=ce.current)?Qd(g):null;if(!g)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=rh(l.href),l=Yi(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=rh(l.href);var x=Yi(g).hoistableStyles,M=x.get(n);if(M||(g=g.ownerDocument||g,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,M),(x=g.querySelector(yf(n)))&&!x._p&&(M.instance=x,M.state.loading=5),ma.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ma.set(n,l),x||Hw(g,n,l,M.state))),s&&u===null)throw Error(i(528,""));return M}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ih(l),l=Yi(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function rh(n){return'href="'+Nr(n)+'"'}function yf(n){return'link[rel="stylesheet"]['+n+"]"}function uv(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function Hw(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Oi(s,"link",l),nr(s),n.head.appendChild(s))}function ih(n){return'[src="'+Nr(n)+'"]'}function xf(n){return"script[async]"+n}function hv(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Nr(l.href)+'"]');if(u)return s.instance=u,nr(u),u;var g=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),nr(u),Oi(u,"style",g),Jd(u,l.precedence,n),s.instance=u;case"stylesheet":g=rh(l.href);var x=n.querySelector(yf(g));if(x)return s.state.loading|=4,s.instance=x,nr(x),x;u=uv(l),(g=ma.get(g))&&P0(u,g),x=(n.ownerDocument||n).createElement("link"),nr(x);var M=x;return M._p=new Promise(function(Q,me){M.onload=Q,M.onerror=me}),Oi(x,"link",u),s.state.loading|=4,Jd(x,l.precedence,n),s.instance=x;case"script":return x=ih(l.src),(g=n.querySelector(xf(x)))?(s.instance=g,nr(g),g):(u=l,(g=ma.get(x))&&(u=y({},l),U0(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),nr(g),Oi(g,"link",u),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Jd(u,l.precedence,n));return s.instance}function Jd(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,x=g,M=0;M<u.length;M++){var Q=u[M];if(Q.dataset.precedence===s)x=Q;else if(x!==g)break}x?x.parentNode.insertBefore(n,x.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function P0(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function U0(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var e1=null;function fv(n,s,l){if(e1===null){var u=new Map,g=e1=new Map;g.set(l,u)}else g=e1,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var x=l[g];if(!(x[Di]||x[pn]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var M=x.getAttribute(s)||"";M=n+M;var Q=u.get(M);Q?Q.push(x):u.set(M,[x])}}return u}function dv(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function Gw(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function pv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Ww(n,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=rh(u.href),x=s.querySelector(yf(g));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=t1.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=x,nr(x);return}x=s.ownerDocument||s,u=uv(u),(g=ma.get(g))&&P0(u,g),x=x.createElement("link"),nr(x);var M=x;M._p=new Promise(function(Q,me){M.onload=Q,M.onerror=me}),Oi(x,"link",u),l.instance=x}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=t1.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var H0=0;function Yw(n,s){return n.stylesheets&&n.count===0&&r1(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&r1(n,n.stylesheets),n.unsuspend){var x=n.unsuspend;n.unsuspend=null,x()}},6e4+s);0<n.imgBytes&&H0===0&&(H0=62500*Tw());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&r1(n,n.stylesheets),n.unsuspend)){var x=n.unsuspend;n.unsuspend=null,x()}},(n.imgBytes>H0?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function t1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)r1(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var n1=null;function r1(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,n1=new Map,s.forEach(Xw,n),n1=null,t1.call(n))}function Xw(n,s){if(!(s.state.loading&4)){var l=n1.get(n);if(l)var u=l.get(null);else{l=new Map,n1.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var M=g[x];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(l.set(M.dataset.precedence,M),u=M)}u&&l.set(null,u)}g=s.instance,M=g.getAttribute("data-precedence"),x=l.get(M)||u,x===u&&l.set(null,g),l.set(M,g),this.count++,u=t1.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),x?x.parentNode.insertBefore(g,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var _f={$$typeof:D,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Zw(n,s,l,u,g,x,M,Q,me){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xe(0),this.hiddenUpdates=Xe(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function mv(n,s,l,u,g,x,M,Q,me,Le,qe,We){return n=new Zw(n,s,l,M,me,Le,qe,We,Q),s=1,x===!0&&(s|=24),x=pi(3,null,null,s),n.current=x,x.stateNode=n,s=ql(),s.refCount++,n.pooledCache=s,s.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:s},at(x),n}function gv(n){return n?(n=ii,n):ii}function vv(n,s,l,u,g,x){g=gv(g),u.context===null?u.context=g:u.pendingContext=g,u=qt(s),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=rn(n,u,s),l!==null&&(As(l,n,s),Mn(l,n,s))}function bv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function G0(n,s){bv(n,s),(n=n.alternate)&&bv(n,s)}function yv(n){if(n.tag===13||n.tag===31){var s=Fa(n,67108864);s!==null&&As(s,n,67108864),G0(n,67108864)}}function xv(n){if(n.tag===13||n.tag===31){var s=Hs();s=Zt(s);var l=Fa(n,s);l!==null&&As(l,n,s),G0(n,s)}}var i1=!0;function $w(n,s,l,u){var g=$.T;$.T=null;var x=ie.p;try{ie.p=2,W0(n,s,l,u)}finally{ie.p=x,$.T=g}}function Kw(n,s,l,u){var g=$.T;$.T=null;var x=ie.p;try{ie.p=8,W0(n,s,l,u)}finally{ie.p=x,$.T=g}}function W0(n,s,l,u){if(i1){var g=Y0(u);if(g===null)M0(n,s,u,s1,l),wv(n,u);else if(Jw(g,n,s,l,u))u.stopPropagation();else if(wv(n,u),s&4&&-1<Qw.indexOf(n)){for(;g!==null;){var x=Wi(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var M=ot(x.pendingLanes);if(M!==0){var Q=x;for(Q.pendingLanes|=2,Q.entangledLanes|=2;M;){var me=1<<31-At(M);Q.entanglements[1]|=me,M&=~me}Co(x),(Dn&6)===0&&(zd=Mt()+500,mf(0))}}break;case 31:case 13:Q=Fa(x,2),Q!==null&&As(Q,x,2),Ud(),G0(x,2)}if(x=Y0(u),x===null&&M0(n,s,u,s1,l),x===g)break;g=x}g!==null&&u.stopPropagation()}else M0(n,s,u,null,l)}}function Y0(n){return n=qo(n),X0(n)}var s1=null;function X0(n){if(s1=null,n=Ri(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=h(s),n!==null)return n;n=null}else if(l===31){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return s1=n,null}function _v(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case It:return 2;case Vt:return 8;case Re:case Ge:return 32;case st:return 268435456;default:return 32}default:return 32}}var Z0=!1,Jl=null,ec=null,tc=null,wf=new Map,Sf=new Map,nc=[],Qw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wv(n,s){switch(n){case"focusin":case"focusout":Jl=null;break;case"dragenter":case"dragleave":ec=null;break;case"mouseover":case"mouseout":tc=null;break;case"pointerover":case"pointerout":wf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(s.pointerId)}}function Af(n,s,l,u,g,x){return n===null||n.nativeEvent!==x?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[g]},s!==null&&(s=Wi(s),s!==null&&yv(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function Jw(n,s,l,u,g){switch(s){case"focusin":return Jl=Af(Jl,n,s,l,u,g),!0;case"dragenter":return ec=Af(ec,n,s,l,u,g),!0;case"mouseover":return tc=Af(tc,n,s,l,u,g),!0;case"pointerover":var x=g.pointerId;return wf.set(x,Af(wf.get(x)||null,n,s,l,u,g)),!0;case"gotpointercapture":return x=g.pointerId,Sf.set(x,Af(Sf.get(x)||null,n,s,l,u,g)),!0}return!1}function Sv(n){var s=Ri(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){n.blockedOn=s,Ar(n.priority,function(){xv(l)});return}}else if(s===31){if(s=c(l),s!==null){n.blockedOn=s,Ar(n.priority,function(){xv(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function a1(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Y0(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);_a=u,l.target.dispatchEvent(u),_a=null}else return s=Wi(l),s!==null&&yv(s),n.blockedOn=l,!1;s.shift()}return!0}function Av(n,s,l){a1(n)&&l.delete(s)}function e4(){Z0=!1,Jl!==null&&a1(Jl)&&(Jl=null),ec!==null&&a1(ec)&&(ec=null),tc!==null&&a1(tc)&&(tc=null),wf.forEach(Av),Sf.forEach(Av)}function o1(n,s){n.blockedOn===s&&(n.blockedOn=null,Z0||(Z0=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,e4)))}var l1=null;function Nv(n){l1!==n&&(l1=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){l1===n&&(l1=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],g=n[s+2];if(typeof u!="function"){if(X0(u||l)===null)continue;break}var x=Wi(l);x!==null&&(n.splice(s,3),s-=3,Yp(x,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function sh(n){function s(me){return o1(me,n)}Jl!==null&&o1(Jl,n),ec!==null&&o1(ec,n),tc!==null&&o1(tc,n),wf.forEach(s),Sf.forEach(s);for(var l=0;l<nc.length;l++){var u=nc[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<nc.length&&(l=nc[0],l.blockedOn===null);)Sv(l),l.blockedOn===null&&nc.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],x=l[u+1],M=g[Cn]||null;if(typeof x=="function")M||Nv(l);else if(M){var Q=null;if(x&&x.hasAttribute("formAction")){if(g=x,M=x[Cn]||null)Q=M.formAction;else if(X0(g)!==null)continue}else Q=M.action;typeof Q=="function"?l[u+1]=Q:(l.splice(u,3),u-=3),Nv(l)}}}function Cv(){function n(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(M){return g=M})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function $0(n){this._internalRoot=n}c1.prototype.render=$0.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=Hs();vv(l,u,n,s,null,null)},c1.prototype.unmount=$0.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;vv(n.current,2,null,n,null,null),Ud(),s[br]=null}};function c1(n){this._internalRoot=n}c1.prototype.unstable_scheduleHydration=function(n){if(n){var s=on();n={blockedOn:null,target:n,priority:s};for(var l=0;l<nc.length&&s!==0&&s<nc[l].priority;l++);nc.splice(l,0,n),l===0&&Sv(n)}};var Tv=e.version;if(Tv!=="19.2.0")throw Error(i(527,Tv,"19.2.0"));ie.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=d(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var t4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var u1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u1.isDisabled&&u1.supportsFiber)try{Ct=u1.inject(t4),pt=u1}catch{}}return Cf.createRoot=function(n,s){if(!a(n))throw Error(i(299));var l=!1,u="",g=D2,x=R2,M=I2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(M=s.onRecoverableError)),s=mv(n,1,!1,null,null,l,u,null,g,x,M,Cv),n[br]=s.current,L0(n),new $0(s)},Cf.hydrateRoot=function(n,s,l){if(!a(n))throw Error(i(299));var u=!1,g="",x=D2,M=R2,Q=I2,me=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(M=l.onCaughtError),l.onRecoverableError!==void 0&&(Q=l.onRecoverableError),l.formState!==void 0&&(me=l.formState)),s=mv(n,1,!0,s,l??null,u,g,me,x,M,Q,Cv),s.context=gv(null),l=s.current,u=Hs(),u=Zt(u),g=qt(u),g.callback=null,rn(l,g,u),l=u,s.current.lanes=l,$e(s,l),Co(s),n[br]=s.current,L0(n),new c1(s)},Cf.version="19.2.0",Cf}var Vv;function u4(){if(Vv)return J0.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),J0.exports=c4(),J0.exports}var h4=u4();const Fv=r=>{let e;const t=new Set,i=(d,m)=>{const y=typeof d=="function"?d(e):d;if(!Object.is(y,e)){const w=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(b=>b(e,w))}},a=()=>e,c={setState:i,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=r(i,a,c);return c},f4=(r=>r?Fv(r):Fv),d4=r=>r;function p4(r,e=d4){const t=fn.useSyncExternalStore(r.subscribe,fn.useCallback(()=>e(r.getState()),[r,e]),fn.useCallback(()=>e(r.getInitialState()),[r,e]));return fn.useDebugValue(t),t}const m4=r=>{const e=f4(r),t=i=>p4(e,i);return Object.assign(t,e),t},g4=(r=>m4);function v4(r,e){let t;try{t=r()}catch{return}return{getItem:a=>{var o;const h=f=>f===null?null:JSON.parse(f,void 0),c=(o=t.getItem(a))!=null?o:null;return c instanceof Promise?c.then(h):h(c)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const Lm=r=>e=>{try{const t=r(e);return t instanceof Promise?t:{then(i){return Lm(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return Lm(i)(t)}}}},b4=(r,e)=>(t,i,a)=>{let o={storage:v4(()=>localStorage),partialize:N=>N,version:0,merge:(N,C)=>({...C,...N}),...e},h=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return r((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...N)},i,a);const m=()=>{const N=o.partialize({...i()});return d.setItem(o.name,{state:N,version:o.version})},y=a.setState;a.setState=(N,C)=>(y(N,C),m());const w=r((...N)=>(t(...N),m()),i,a);a.getInitialState=()=>w;let b;const S=()=>{var N,C;if(!d)return;h=!1,c.forEach(R=>{var D;return R((D=i())!=null?D:w)});const T=((C=o.onRehydrateStorage)==null?void 0:C.call(o,(N=i())!=null?N:w))||void 0;return Lm(d.getItem.bind(d))(o.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==o.version){if(o.migrate){const D=o.migrate(R.state,R.version);return D instanceof Promise?D.then(F=>[!0,F]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var D;const[F,B]=R;if(b=o.merge(B,(D=i())!=null?D:w),t(b,!0),F)return m()}).then(()=>{T?.(b,void 0),b=i(),h=!0,f.forEach(R=>R(b))}).catch(R=>{T?.(void 0,R)})};return a.persist={setOptions:N=>{o={...o,...N},N.storage&&(d=N.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>S(),hasHydrated:()=>h,onHydrate:N=>(c.add(N),()=>{c.delete(N)}),onFinishHydration:N=>(f.add(N),()=>{f.delete(N)})},o.skipHydration||S(),b||w},y4=b4,eu=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],jf=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],x4=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}];function Pf(r){return r.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[r]||r}const _4={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},w4={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function ph(r,e){const t=Pf(r),i=eu.indexOf(t);if(i===-1)return[];const a=_4[e]||e,o=w4[a];return o?o.map(h=>eu[(i+h)%12]):(console.warn(`Unknown chord quality: ${e} (resolved to ${a})`),eu.slice(i,i+1).concat([eu[(i+4)%12],eu[(i+7)%12]]))}function ah(r,e){if(!r||r.length===0)return r;const t=r.length-1,i=Math.max(0,Math.min(e,t));return i===0?r:[...r.slice(i),...r.slice(0,i)]}function S4(r){return Math.max(0,(r?.length||1)-1)}function Bv(r){return["Root","1st","2nd","3rd","4th","5th","6th"][r]||`${r}th`}function A4(r,e,t,i){const o=`${r}${e==="major"||e==="maj"?"":e}`;if(!i||i===0||!t||t.length===0)return o;const h=t[i%t.length];return`${o}/${h}`}function N4(r){const e=["G","D","A","E","B","F#","C#"],t=["F","Bb","Eb","Ab","Db","Gb","Cb"],i=e.indexOf(r),a=t.indexOf(r);return i>=0?{sharps:i+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function cg(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function C4(r,e){const t=Pf(r),i=Pf(e),a=eu.indexOf(t),o=eu.indexOf(i);if(a===-1||o===-1)return"?";let h=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[h]||"?"}function Qy(r){const e=r.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(e){const t=parseInt(e[1]),i=parseInt(e[2]),a=parseInt(e[3]);let o=55;return t>=40&&t<=100?o=45:t>=160&&t<=200&&(o=50),i>60&&a>=45&&(o-=5),a>o?"#000000":"#ffffff"}return"#000000"}const Li=[];for(let r=0;r<256;++r)Li.push((r+256).toString(16).slice(1));function T4(r,e=0){return(Li[r[e+0]]+Li[r[e+1]]+Li[r[e+2]]+Li[r[e+3]]+"-"+Li[r[e+4]]+Li[r[e+5]]+"-"+Li[r[e+6]]+Li[r[e+7]]+"-"+Li[r[e+8]]+Li[r[e+9]]+"-"+Li[r[e+10]]+Li[r[e+11]]+Li[r[e+12]]+Li[r[e+13]]+Li[r[e+14]]+Li[r[e+15]]).toLowerCase()}let rm;const E4=new Uint8Array(16);function k4(){if(!rm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");rm=crypto.getRandomValues.bind(crypto)}return rm(E4)}const O4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qv={randomUUID:O4};function L4(r,e,t){r=r||{};const i=r.random??r.rng?.()??k4();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,T4(i)}function Ya(r,e,t){return qv.randomUUID&&!r?qv.randomUUID():L4(r)}const Cs=[4,4],Mm=(r=Cs)=>{const[e,t]=r;return!e||!t?4:e*(4/t)},mh=r=>{const e=Mm(r);return{id:Ya(),beats:[{id:Ya(),chord:null,duration:e}]}},To=r=>r?`${r.sectionId}:${r.slotId}`:"",ug=r=>{const e=[];return r.forEach(t=>{t.measures.forEach(i=>{i.beats.forEach(a=>{e.push({sectionId:t.id,slotId:a.id,chord:a.chord??null})})})}),e},Qc=(r,e)=>{if(!e)return null;for(const t of r)if(t.id===e.sectionId){for(const i of t.measures)for(const a of i.beats)if(a.id===e.slotId)return a.chord??null}return null},zv=(r,e)=>e?ug(r).findIndex(i=>i.sectionId===e.sectionId&&i.slotId===e.slotId):-1,M4=(r,e,t)=>{const i=ug(r),a=i.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId),o=i.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId);if(a===-1||o===-1)return[];const[h,c]=a<=o?[a,o]:[o,a];return i.slice(h,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},T1=(r,e)=>e?r.some(t=>t.id===e.sectionId&&t.measures.some(i=>i.beats.some(a=>a.id===e.slotId))):!1,uh=(r,e,t,i,a)=>{const o=e&&t?{sectionId:e,slotId:t}:null,h=i.filter(m=>T1(r,m)),c=T1(r,o),f=h[h.length-1]||(c?o:null),d=a&&T1(r,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:h,selectionAnchor:d?a:h[0]??f??null}},jm=100,Lf=r=>typeof structuredClone=="function"?structuredClone(r):JSON.parse(JSON.stringify(r)),bi=r=>{const e=Lf(r.currentSong),t=[...r.historyPast,e].slice(-jm);return{historyPast:t,historyFuture:[],canUndo:t.length>0,canRedo:!1}},Pv=(r,e,t,i,a)=>{const o=uh(r.sections,e,t,i,a),h=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=h?Qc(r.sections,h):null;return{...o,selectedChord:c}},j4=(r,e,t)=>{let i=!1;for(const a of r)for(const o of a.measures)for(const h of o.beats){if(i)return{sectionId:a.id,slotId:h.id};a.id===e&&h.id===t&&(i=!0)}return null},Tf={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:Cs,measures:Array(4).fill(null).map(()=>mh(Cs))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:Cs,measures:Array(4).fill(null).map(()=>mh(Cs))}],notes:"",createdAt:new Date,updatedAt:new Date},Rr=g4()(y4(r=>({currentSong:Tf,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,collapsedSections:{},selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,playingSectionId:null,playingSlotId:null,isLooping:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:e=>r({selectedKey:e}),rotateWheel:e=>r(t=>({wheelRotation:t.wheelMode==="rotating"?t.wheelRotation+(e==="cw"?-30:30):0})),toggleWheelMode:()=>r(e=>{const t=e.wheelMode==="rotating"?"fixed":"rotating";let i=0;if(t==="rotating"){const a=jf.indexOf(e.selectedKey);a!==-1&&(i=-(a*30))}return{wheelMode:t,wheelRotation:i}}),toggleChordPanel:()=>r(e=>({chordPanelVisible:!e.chordPanelVisible})),toggleTimeline:()=>r(e=>({timelineVisible:!e.timelineVisible})),toggleSectionCollapsed:e=>r(t=>{const i={...t.collapsedSections,[e]:!t.collapsedSections?.[e]};return i[e]||delete i[e],{collapsedSections:i}}),setSelectedChord:e=>r({selectedChord:e}),setSelectedSlot:(e,t)=>r(i=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:e,slotId:t},o=Qc(i.currentSong.sections,a);return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),setSelectedSlots:e=>r(t=>{const i=e.filter(Boolean),a=i[i.length-1]??null,o=Qc(t.currentSong.sections,a);return{selectedSlots:i,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:i[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(e,t)=>r(i=>{const a=i.selectedSlots.some(d=>d.sectionId===e&&d.slotId===t),o=a?i.selectedSlots.filter(d=>!(d.sectionId===e&&d.slotId===t)):[...i.selectedSlots,{sectionId:e,slotId:t}],h=o[o.length-1]??null,c=Qc(i.currentSong.sections,h),f=a&&i.selectionAnchor&&To(i.selectionAnchor)===To({sectionId:e,slotId:t});return{selectedSlots:o,selectedSectionId:h?.sectionId??null,selectedSlotId:h?.slotId??null,selectionAnchor:f?o[0]??h??null:i.selectionAnchor??h??null,selectedChord:c??null}}),selectRangeTo:(e,t)=>r(i=>{const a={sectionId:e,slotId:t},o=i.selectionAnchor||i.selectedSlots[i.selectedSlots.length-1]||(i.selectedSectionId&&i.selectedSlotId?{sectionId:i.selectedSectionId,slotId:i.selectedSlotId}:a),c=T1(i.currentSong.sections,o)?o:a,f=M4(i.currentSong.sections,c,a),d=f.length?f:[a],m=Qc(i.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:m??null}}),moveSelection:(e,t,i="move")=>{let a=!1;return r(o=>{const h=ug(o.currentSong.sections),c=zv(o.currentSong.sections,e),f=zv(o.currentSong.sections,t);if(c===-1||f===-1)return{};const m=(o.selectedSlots.length?o.selectedSlots:[e]).map(j=>{const V=h.findIndex(K=>K.sectionId===j.sectionId&&K.slotId===j.slotId);return V>=0?{idx:V,slot:h[V]}:null}).filter(j=>!!j).sort((j,V)=>j.idx-V.idx);if(!m.length)return{};const y=f-c,w=m.map(({idx:j})=>j+y);if(w.some(j=>j<0||j>=h.length))return{};const b=w.map(j=>h[j]);if(m.length===1&&i==="move"){const j=m[0].slot,V=b[0],K=bi(o),E=o.currentSong.sections.map($=>({...$,measures:$.measures.map(ie=>({...ie,beats:ie.beats.map(se=>se.id===j.slotId&&$.id===j.sectionId?{...se,chord:V.chord}:se.id===V.slotId&&$.id===V.sectionId?{...se,chord:j.chord}:se)}))}));a=!0;const I=o.selectionAnchor&&To(o.selectionAnchor)===To(e),te=uh(E,t.sectionId,t.slotId,[{sectionId:V.sectionId,slotId:V.slotId}],I?{sectionId:V.sectionId,slotId:V.slotId}:o.selectionAnchor),U=te.selectedSectionId&&te.selectedSlotId?{sectionId:te.selectedSectionId,slotId:te.selectedSlotId}:null,ue=Qc(E,U);return{...K,currentSong:{...o.currentSong,sections:E},selectedSectionId:te.selectedSectionId,selectedSlotId:te.selectedSlotId,selectedSlots:te.selectedSlots,selectionAnchor:te.selectionAnchor,selectedChord:ue??null}}const S=new Map;m.forEach((j,V)=>{S.set(To(b[V]),j.slot.chord??null)});const N=new Set;i==="move"&&m.forEach((j,V)=>{const K=To(j.slot),E=To(b[V]);K!==E&&N.add(K)});const C=bi(o),T=o.currentSong.sections.map(j=>({...j,measures:j.measures.map(V=>({...V,beats:V.beats.map(K=>{const E=To({sectionId:j.id,slotId:K.id});return S.has(E)?{...K,chord:S.get(E)??null}:N.has(E)?{...K,chord:null}:K})}))}));a=!0;const R=To(o.selectionAnchor),D=m.find(j=>To(j.slot)===R),F=D?{sectionId:b[m.indexOf(D)].sectionId,slotId:b[m.indexOf(D)].slotId}:o.selectionAnchor,B=uh(T,t.sectionId,t.slotId,b.map(j=>({sectionId:j.sectionId,slotId:j.slotId})),F??null),W=B.selectedSectionId&&B.selectedSlotId?{sectionId:B.selectedSectionId,slotId:B.selectedSlotId}:null,G=Qc(T,W);return{...C,currentSong:{...o.currentSong,sections:T},selectedSectionId:B.selectedSectionId,selectedSlotId:B.selectedSlotId,selectedSlots:B.selectedSlots,selectionAnchor:B.selectionAnchor,selectedChord:G??null}}),a},selectNextSlotAfter:(e,t)=>{let i=!1;return r(a=>{const o=j4(a.currentSong.sections,e,t);if(!o)return{};const h=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return i=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:h,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),i},setTempo:e=>r(t=>({...bi(t),tempo:e,currentSong:{...t.currentSong,tempo:e}})),setVolume:e=>r({volume:e}),setInstrument:e=>r({instrument:e}),setIsPlaying:e=>r({isPlaying:e}),setPlayingSlot:(e,t)=>r({playingSectionId:e,playingSlotId:t}),toggleLoop:()=>r(e=>({isLooping:!e.isLooping})),toggleMute:()=>r(e=>({isMuted:!e.isMuted})),setTitle:e=>r(t=>({...bi(t),currentSong:{...t.currentSong,title:e}})),loadSong:e=>r(t=>{const i=e.key||"C",a=e.tempo??Tf.tempo;let o=0;if(t.wheelMode==="rotating"){const c=jf.indexOf(i);c!==-1&&(o=-(c*30))}return{...bi(t),currentSong:{...e,tempo:a},selectedKey:i,wheelRotation:o,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>r(e=>({...bi(e),currentSong:{...Tf,id:Ya(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:Tf.tempo,sections:[{id:Ya(),name:"Verse 1",type:"verse",timeSignature:Cs,measures:Array(4).fill(null).map(()=>mh(Cs))},{id:Ya(),name:"Chorus",type:"chorus",timeSignature:Cs,measures:Array(4).fill(null).map(()=>mh(Cs))}]},selectedKey:"C",wheelRotation:0,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:Tf.tempo})),addSection:e=>r(t=>{const i={id:Ya(),name:e.charAt(0).toUpperCase()+e.slice(1),type:e,timeSignature:t.currentSong.timeSignature||Cs,measures:Array(4).fill(null).map(()=>mh(t.currentSong.timeSignature||Cs))};return{...bi(t),currentSong:{...t.currentSong,sections:[...t.currentSong.sections,i]}}}),updateSection:(e,t)=>r(i=>({...bi(i),currentSong:{...i.currentSong,sections:i.currentSong.sections.map(o=>o.id===e?{...o,...t}:o)}})),removeSection:e=>r(t=>{const i=bi(t),{[e]:a,...o}=t.collapsedSections||{};return{...i,currentSong:{...t.currentSong,sections:t.currentSong.sections.filter(h=>h.id!==e)},collapsedSections:o}}),duplicateSection:e=>r(t=>{const i=t.currentSong.sections.find(f=>f.id===e);if(!i)return{};const a=bi(t),o={...i,id:Ya(),name:`${i.name} (Copy)`,timeSignature:i.timeSignature||t.currentSong.timeSignature||Cs,measures:i.measures.map(f=>({...f,id:Ya(),beats:f.beats.map(d=>({...d,id:Ya()}))}))},h=t.currentSong.sections.findIndex(f=>f.id===e),c=[...t.currentSong.sections];return c.splice(h+1,0,o),{...a,currentSong:{...t.currentSong,sections:c}}}),reorderSections:e=>r(t=>({...bi(t),currentSong:{...t.currentSong,sections:e}})),setSectionMeasures:(e,t)=>r(i=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=i.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||i.currentSong.timeSignature||Cs;let m=[...f.measures];if(m.length<a)for(;m.length<a;)m.push(mh(d));else m.length>a&&(m=m.slice(0,a));return{...f,measures:m}}),h=uh(o,i.selectedSectionId,i.selectedSlotId,i.selectedSlots,i.selectionAnchor);return{...bi(i),currentSong:{...i.currentSong,sections:o},...h}}),setSectionTimeSignature:(e,t)=>r(i=>{const a=i.currentSong.sections.map(c=>{if(c.id!==e)return c;const f=Mm(t);return{...c,timeSignature:t,measures:c.measures.map(d=>({...d,beats:[{id:Ya(),chord:null,duration:f}]}))}}),o=uh(a,i.selectedSectionId,i.selectedSlotId,i.selectedSlots,i.selectionAnchor);return{...bi(i),currentSong:{...i.currentSong,sections:a},...o}}),setMeasureSubdivision:(e,t,i)=>r(a=>{const o=Math.max(1,Math.min(16,Math.round(i))),h=a.currentSong.sections.map(d=>{if(d.id!==e)return d;const m=d.timeSignature||a.currentSong.timeSignature||Cs,y=Mm(m);return{...d,measures:d.measures.map(w=>{if(w.id!==t)return w;const b=y/o,S=Array.from({length:o}).map((N,C)=>{const T=w.beats[C];return{id:T?.id??Ya(),chord:T?.chord??null,duration:b}});return{...w,beats:S}})}}),c=uh(h,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...bi(a),currentSong:{...a.currentSong,sections:h},...c}}),addChordToSlot:(e,t,i)=>r(a=>{const o=bi(a),h=a.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==i?d:{...d,chord:e})}))});return{...o,currentSong:{...a.currentSong,sections:h}}}),clearSlot:(e,t)=>r(i=>{if(!i.currentSong.sections.some(c=>c.id===e&&c.measures.some(f=>f.beats.some(d=>d.id===t&&d.chord))))return{};const o=bi(i),h=i.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==t?d:{...d,chord:null})}))});return{...o,currentSong:{...i.currentSong,sections:h}}}),clearTimeline:()=>r(e=>{if(!e.currentSong.sections.some(o=>o.measures.some(h=>h.beats.some(c=>c.chord!==null))))return{};const i=bi(e),a=e.currentSong.sections.map(o=>({...o,measures:o.measures.map(h=>({...h,beats:h.beats.map(c=>({...c,chord:null}))}))}));return{...i,currentSong:{...e.currentSong,sections:a},selectedChord:null}}),moveChord:(e,t,i,a)=>r(o=>{let h=null,c=null;if(o.currentSong.sections.forEach(m=>{m.measures.forEach(y=>{y.beats.forEach(w=>{w.id===t&&(h=w.chord),w.id===a&&(c=w.chord)})})}),!h&&!c)return{};const f=bi(o),d=o.currentSong.sections.map(m=>({...m,measures:m.measures.map(y=>({...y,beats:y.beats.map(w=>w.id===t?{...w,chord:c}:w.id===a?{...w,chord:h}:w)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>r(e=>{if(!e.historyPast.length)return{};const t=e.historyPast[e.historyPast.length-1],i=e.historyPast.slice(0,-1),a=[Lf(e.currentSong),...e.historyFuture].slice(0,jm),o=Pv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Lf(t),historyPast:i,historyFuture:a,canUndo:i.length>0,canRedo:a.length>0,tempo:t.tempo??e.tempo,...o}}),redo:()=>r(e=>{if(!e.historyFuture.length)return{};const t=e.historyFuture[0],i=e.historyFuture.slice(1),a=[...e.historyPast,Lf(e.currentSong)].slice(-jm),o=Pv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Lf(t),historyPast:a,historyFuture:i,canUndo:a.length>0,canRedo:i.length>0,tempo:t.tempo??e.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:r=>({currentSong:r.currentSong,tempo:r.tempo,volume:r.volume,instrument:r.instrument,isMuted:r.isMuted})}));function cc(r,e,t,i){const a=(i-90)*Math.PI/180;return{x:r+t*Math.cos(a),y:e+t*Math.sin(a)}}function D4(r,e,t,i,a){const o=cc(r,e,t,i),h=cc(r,e,t,a),c=a-i<=180?"0":"1";return["M",o.x,o.y,"A",t,t,0,c,1,h.x,h.y].join(" ")}function R4(r,e,t,i,a,o){const h=cc(r,e,i,o),c=cc(r,e,i,a),f=cc(r,e,t,o),d=cc(r,e,t,a),m=o-a<=180?"0":"1";return["M",h.x,h.y,"A",i,i,0,m,0,c.x,c.y,"L",d.x,d.y,"A",t,t,0,m,1,f.x,f.y,"Z"].join(" ")}function Jy(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=Jy(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function Mi(){for(var r,e,t=0,i="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=Jy(r))&&(i&&(i+=" "),i+=e);return i}const ex="15.1.22",Uv=(r,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:r}),Hv=(r,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:r}),Dm=(r,e)=>({startTime:e,type:"setValue",value:r}),tx=(r,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:r}),nx=(r,e,{startTime:t,target:i,timeConstant:a})=>i+(e-i)*Math.exp((t-r)/a),gh=r=>r.type==="exponentialRampToValue",B1=r=>r.type==="linearRampToValue",oc=r=>gh(r)||B1(r),hg=r=>r.type==="setValue",dl=r=>r.type==="setValueCurve",q1=(r,e,t,i)=>{const a=r[e];return a===void 0?i:oc(a)||hg(a)?a.value:dl(a)?a.values[a.values.length-1]:nx(t,q1(r,e-1,a.startTime,i),a)},Gv=(r,e,t,i,a)=>t===void 0?[i.insertTime,a]:oc(t)?[t.endTime,t.value]:hg(t)?[t.startTime,t.value]:dl(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,q1(r,e-1,t.startTime,a)],Rm=r=>r.type==="cancelAndHold",Im=r=>r.type==="cancelScheduledValues",ic=r=>Rm(r)||Im(r)?r.cancelTime:gh(r)||B1(r)?r.endTime:r.startTime,Wv=(r,e,t,{endTime:i,value:a})=>t===a?a:0<t&&0<a||t<0&&a<0?t*(a/t)**((r-e)/(i-e)):0,Yv=(r,e,t,{endTime:i,value:a})=>t+(r-e)/(i-e)*(a-t),I4=(r,e)=>{const t=Math.floor(e),i=Math.ceil(e);return t===i?r[t]:(1-(e-t))*r[t]+(1-(i-e))*r[i]},V4=(r,{duration:e,startTime:t,values:i})=>{const a=(r-t)/e*(i.length-1);return I4(i,a)},h1=r=>r.type==="setTarget";class F4{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=ic(e);if(Rm(e)||Im(e)){const i=this._automationEvents.findIndex(o=>Im(e)&&dl(o)?o.startTime+o.duration>=t:ic(o)>=t),a=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),Rm(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&oc(a)){if(o!==void 0&&h1(o))throw new Error("The internal list is malformed.");const h=o===void 0?a.insertTime:dl(o)?o.startTime+o.duration:ic(o),c=o===void 0?this._defaultValue:dl(o)?o.values[o.values.length-1]:o.value,f=gh(a)?Wv(t,h,c,a):Yv(t,h,c,a),d=gh(a)?Uv(f,t,this._currenTime):Hv(f,t,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&h1(o)&&this._automationEvents.push(Dm(this.getValue(t),t)),o!==void 0&&dl(o)&&o.startTime+o.duration>t){const h=t-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(h*c)),d=h/(f-1)*c,m=o.values.slice(0,f);if(d<1)for(let y=1;y<f;y+=1){const w=d*y%1;m[y]=o.values[y-1]*(1-w)+o.values[y]*w}this._automationEvents[this._automationEvents.length-1]=tx(m,o.startTime,h)}}}else{const i=this._automationEvents.findIndex(h=>ic(h)>t),a=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(a!==void 0&&dl(a)&&ic(a)+a.duration>t)return!1;const o=gh(e)?Uv(e.value,e.endTime,this._currenTime):B1(e)?Hv(e.value,t,this._currenTime):e;if(i===-1)this._automationEvents.push(o);else{if(dl(e)&&t+e.duration>ic(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,o)}}return!0}flush(e){const t=this._automationEvents.findIndex(i=>ic(i)>e);if(t>1){const i=this._automationEvents.slice(t-1),a=i[0];h1(a)&&i.unshift(Dm(q1(this._automationEvents,t-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=i}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(h=>ic(h)>e),i=this._automationEvents[t],a=(t===-1?this._automationEvents.length:t)-1,o=this._automationEvents[a];if(o!==void 0&&h1(o)&&(i===void 0||!oc(i)||i.insertTime>e))return nx(e,q1(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&hg(o)&&(i===void 0||!oc(i)))return o.value;if(o!==void 0&&dl(o)&&(i===void 0||!oc(i)||o.startTime+o.duration>e))return e<o.startTime+o.duration?V4(e,o):o.values[o.values.length-1];if(o!==void 0&&oc(o)&&(i===void 0||!oc(i)))return o.value;if(i!==void 0&&gh(i)){const[h,c]=Gv(this._automationEvents,a,o,i,this._defaultValue);return Wv(e,h,c,i)}if(i!==void 0&&B1(i)){const[h,c]=Gv(this._automationEvents,a,o,i,this._defaultValue);return Yv(e,h,c,i)}return this._defaultValue}}const B4=r=>({cancelTime:r,type:"cancelAndHold"}),q4=r=>({cancelTime:r,type:"cancelScheduledValues"}),z4=(r,e)=>({endTime:e,type:"exponentialRampToValue",value:r}),P4=(r,e)=>({endTime:e,type:"linearRampToValue",value:r}),U4=(r,e,t)=>({startTime:e,target:r,timeConstant:t,type:"setTarget"}),H4=()=>new DOMException("","AbortError"),G4=r=>(e,t,[i,a,o],h)=>{r(e[a],[t,i,o],c=>c[0]===t&&c[1]===i,h)},W4=r=>(e,t,i)=>{const a=[];for(let o=0;o<i.numberOfInputs;o+=1)a.push(new Set);r.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},Y4=r=>(e,t)=>{r.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},Th=new WeakSet,rx=new WeakMap,fg=new WeakMap,ix=new WeakMap,dg=new WeakMap,fp=new WeakMap,sx=new WeakMap,Vm=new WeakMap,Fm=new WeakMap,Bm=new WeakMap,ax={construct(){return ax}},X4=r=>{try{const e=new Proxy(r,ax);new e}catch{return!1}return!0},Xv=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Zv=(r,e)=>{const t=[];let i=r.replace(/^[\s]+/,""),a=i.match(Xv);for(;a!==null;){const o=a[1].slice(1,-1),h=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());t.push(h),i=i.slice(a[0].length).replace(/^[\s]+/,""),a=i.match(Xv)}return[t.join(";"),i]},$v=r=>{if(r!==void 0&&!Array.isArray(r))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Kv=r=>{if(!X4(r))throw new TypeError("The given value for processorCtor should be a constructor.");if(r.prototype===null||typeof r.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Z4=(r,e,t,i,a,o,h,c,f,d,m,y,w)=>{let b=0;return(S,N,C={credentials:"omit"})=>{const T=m.get(S);if(T!==void 0&&T.has(N))return Promise.resolve();const R=d.get(S);if(R!==void 0){const B=R.get(N);if(B!==void 0)return B}const D=o(S),F=D.audioWorklet===void 0?a(N).then(([B,W])=>{const[G,j]=Zv(B,W),V=`${G};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${j}
})})(window,'_AWGS')`;return t(V)}).then(()=>{const B=w._AWGS.pop();if(B===void 0)throw new SyntaxError;i(D.currentTime,D.sampleRate,()=>B(class{},void 0,(W,G)=>{if(W.trim()==="")throw e();const j=Fm.get(D);if(j!==void 0){if(j.has(W))throw e();Kv(G),$v(G.parameterDescriptors),j.set(W,G)}else Kv(G),$v(G.parameterDescriptors),Fm.set(D,new Map([[W,G]]))},D.sampleRate,void 0,void 0))}):Promise.all([a(N),Promise.resolve(r(y,y))]).then(([[B,W],G])=>{const j=b+1;b=j;const[V,K]=Zv(B,W),U=`${V};((AudioWorkletProcessor,registerProcessor)=>{${K}
})(${G?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${G?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${G?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${j}',class extends AudioWorkletProcessor{process(){return !1}})`,ue=new Blob([U],{type:"application/javascript; charset=utf-8"}),$=URL.createObjectURL(ue);return D.audioWorklet.addModule($,C).then(()=>{if(c(D))return D;const ie=h(D);return ie.audioWorklet.addModule($,C).then(()=>ie)}).then(ie=>{if(f===null)throw new SyntaxError;try{new f(ie,`__sac${j}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL($))});return R===void 0?d.set(S,new Map([[N,F]])):R.set(N,F),F.then(()=>{const B=m.get(S);B===void 0?m.set(S,new Set([N])):B.add(N)}).finally(()=>{const B=d.get(S);B!==void 0&&B.delete(N)}),F}},Qa=(r,e)=>{const t=r.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},dp=(r,e)=>{const t=Array.from(r).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[i]=t;return r.delete(i),i},ox=(r,e,t,i)=>{const a=Qa(r,e),o=dp(a,h=>h[0]===t&&h[1]===i);return a.size===0&&r.delete(e),o},ed=r=>Qa(sx,r),Eh=r=>{if(Th.has(r))throw new Error("The AudioNode is already stored.");Th.add(r),ed(r).forEach(e=>e(!0))},lx=r=>"port"in r,td=r=>{if(!Th.has(r))throw new Error("The AudioNode is not stored.");Th.delete(r),ed(r).forEach(e=>e(!1))},qm=(r,e)=>{!lx(r)&&e.every(t=>t.size===0)&&td(r)},$4=(r,e,t,i,a,o,h,c,f,d,m,y,w)=>{const b=new WeakMap;return(S,N,C,T,R)=>{const{activeInputs:D,passiveInputs:F}=o(N),{outputs:B}=o(S),W=c(S),G=j=>{const V=f(N),K=f(S);if(j){const E=ox(F,S,C,T);r(D,S,E,!1),!R&&!y(S)&&t(K,V,C,T),w(N)&&Eh(N)}else{const E=i(D,S,C,T);e(F,T,E,!1),!R&&!y(S)&&a(K,V,C,T);const I=h(N);if(I===0)m(N)&&qm(N,D);else{const te=b.get(N);te!==void 0&&clearTimeout(te),b.set(N,setTimeout(()=>{m(N)&&qm(N,D)},I*1e3))}}};return d(B,[N,C,T],j=>j[0]===N&&j[1]===C&&j[2]===T,!0)?(W.add(G),m(S)?r(D,S,[C,T,G],!0):e(F,T,[S,C,G],!0),!0):!1}},K4=r=>(e,t,[i,a,o],h)=>{const c=e.get(i);c===void 0?e.set(i,new Set([[a,t,o]])):r(c,[a,t,o],f=>f[0]===a&&f[1]===t,h)},Q4=r=>(e,t)=>{const i=r(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(i).connect(e.destination);const a=()=>{t.removeEventListener("ended",a),t.disconnect(i),i.disconnect()};t.addEventListener("ended",a)},J4=r=>(e,t)=>{r(e).add(t)},eS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},tS=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...eS,...f},y=i(d,m),w=o(d)?e():null;super(c,!1,y,w),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},Gi=(r,e)=>r.context===e,nS=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Gi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=r(h,d)}return i.set(h,c),await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},z1=r=>{try{r.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Do=()=>new DOMException("","IndexSizeError"),pg=r=>{r.getChannelData=(e=>t=>{try{return e.call(r,t)}catch(i){throw i.code===12?Do():i}})(r.getChannelData)},rS={numberOfChannels:1},iS=(r,e,t,i,a,o,h,c)=>{let f=null;return class cx{constructor(m){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:w,sampleRate:b}={...rS,...m};f===null&&(f=new a(1,1,44100));const S=i!==null&&e(o,o)?new i({length:y,numberOfChannels:w,sampleRate:b}):f.createBuffer(w,y,b);if(S.numberOfChannels===0)throw t();return typeof S.copyFromChannel!="function"?(h(S),pg(S)):e(z1,()=>z1(S))||c(S),r.add(S),S}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===cx.prototype||r.has(m)}}},Ts=-34028234663852886e22,ns=-Ts,gl=r=>Th.has(r),sS={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},aS=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),w={...sS,...m},b=a(y,w),S=h(y),N=S?e():null;super(d,!1,b,N),this._audioBufferSourceNodeRenderer=N,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=b,this._onended=null,this._playbackRate=t(this,S,b.playbackRate,ns,Ts)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const m=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=m;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===m?d:y}get playbackRate(){return this._playbackRate}start(d=0,m=0,y){if(this._nativeAudioBufferSourceNode.start(d,m,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[d,m]:[d,m,y]),this.context.state!=="closed"){Eh(this);const w=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",w),gl(this)&&td(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",w)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},oS=(r,e,t,i,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let y=t(d);const w=Gi(y,m);if(!w){const b={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=e(m,b),h!==null&&y.start(...h),c!==null&&y.stop(c)}return o.set(m,y),w?await r(m,d.playbackRate,y.playbackRate):await i(m,d.playbackRate,y.playbackRate),await a(d,m,y),y};return{set start(d){h=d},set stop(d){c=d},render(d,m){const y=o.get(m);return y!==void 0?Promise.resolve(y):f(d,m)}}},lS=r=>"playbackRate"in r,cS=r=>"frequency"in r&&"gain"in r,uS=r=>"offset"in r,hS=r=>!("frequency"in r)&&"gain"in r,fS=r=>"detune"in r&&"frequency"in r&&!("gain"in r),dS=r=>"pan"in r,rs=r=>Qa(rx,r),nd=r=>Qa(ix,r),zm=(r,e)=>{const{activeInputs:t}=rs(r);t.forEach(a=>a.forEach(([o])=>{e.includes(r)||zm(o,[...e,r])}));const i=lS(r)?[r.playbackRate]:lx(r)?Array.from(r.parameters.values()):cS(r)?[r.Q,r.detune,r.frequency,r.gain]:uS(r)?[r.offset]:hS(r)?[r.gain]:fS(r)?[r.detune,r.frequency]:dS(r)?[r.pan]:[];for(const a of i){const o=nd(a);o!==void 0&&o.activeInputs.forEach(([h])=>zm(h,e))}gl(r)&&td(r)},ux=r=>{zm(r.destination,[])},pS=r=>r===void 0||typeof r=="number"||typeof r=="string"&&(r==="balanced"||r==="interactive"||r==="playback"),mS=(r,e,t,i,a,o,h,c,f)=>class extends r{constructor(m={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new f(m)}catch(S){throw S.code===12&&S.message==="sampleRate is not in range"?t():S}if(y===null)throw i();if(!pS(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&y.sampleRate!==m.sampleRate)throw t();super(y,2);const{latencyHint:w}=m,{sampleRate:b}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:w==="balanced"?512/b:w==="interactive"||w===void 0?256/b:w==="playback"?1024/b:Math.max(2,Math.min(128,Math.round(w*b/128)))*128/b,this._nativeAudioContext=y,f.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const S=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",S)};y.addEventListener("statechange",S)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ux(this)}))}createMediaElementSource(m){return new a(this,{mediaElement:m})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,y)=>{const w=()=>{this._nativeAudioContext.removeEventListener("statechange",w),this._nativeAudioContext.state==="running"?m():this.resume().then(m,y)};this._nativeAudioContext.addEventListener("statechange",w)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?e():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?e():m})}},gS=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),w=h(y),b=a(y,m,w),S=w?e(c):null;super(d,!1,b,S),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=b}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},vS=r=>{const e=new WeakMap,t=async(i,a)=>{const o=a.destination;return e.set(a,o),await r(i,a,o),o};return{render(i,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):t(i,a)}}},bS=(r,e,t,i,a,o,h,c)=>(f,d)=>{const m=d.listener,y=()=>{const B=new Float32Array(1),W=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),G=h(d);let j=!1,V=[0,0,-1,0,1,0],K=[0,0,0];const E=()=>{if(j)return;j=!0;const ue=i(d,256,9,0);ue.onaudioprocess=({inputBuffer:$})=>{const ie=[o($,B,0),o($,B,1),o($,B,2),o($,B,3),o($,B,4),o($,B,5)];ie.some((fe,we)=>fe!==V[we])&&(m.setOrientation(...ie),V=ie);const se=[o($,B,6),o($,B,7),o($,B,8)];se.some((fe,we)=>fe!==K[we])&&(m.setPosition(...se),K=se)},W.connect(ue)},I=ue=>$=>{$!==V[ue]&&(V[ue]=$,m.setOrientation(...V))},te=ue=>$=>{$!==K[ue]&&(K[ue]=$,m.setPosition(...K))},U=(ue,$,ie)=>{const se=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:$});se.connect(W,0,ue),se.start(),Object.defineProperty(se.offset,"defaultValue",{get(){return $}});const fe=r({context:f},G,se.offset,ns,Ts);return c(fe,"value",we=>()=>we.call(fe),we=>X=>{try{we.call(fe,X)}catch(L){if(L.code!==9)throw L}E(),G&&ie(X)}),fe.cancelAndHoldAtTime=(we=>G?()=>{throw a()}:(...X)=>{const L=we.apply(fe,X);return E(),L})(fe.cancelAndHoldAtTime),fe.cancelScheduledValues=(we=>G?()=>{throw a()}:(...X)=>{const L=we.apply(fe,X);return E(),L})(fe.cancelScheduledValues),fe.exponentialRampToValueAtTime=(we=>G?()=>{throw a()}:(...X)=>{const L=we.apply(fe,X);return E(),L})(fe.exponentialRampToValueAtTime),fe.linearRampToValueAtTime=(we=>G?()=>{throw a()}:(...X)=>{const L=we.apply(fe,X);return E(),L})(fe.linearRampToValueAtTime),fe.setTargetAtTime=(we=>G?()=>{throw a()}:(...X)=>{const L=we.apply(fe,X);return E(),L})(fe.setTargetAtTime),fe.setValueAtTime=(we=>G?()=>{throw a()}:(...X)=>{const L=we.apply(fe,X);return E(),L})(fe.setValueAtTime),fe.setValueCurveAtTime=(we=>G?()=>{throw a()}:(...X)=>{const L=we.apply(fe,X);return E(),L})(fe.setValueCurveAtTime),fe};return{forwardX:U(0,0,I(0)),forwardY:U(1,0,I(1)),forwardZ:U(2,-1,I(2)),positionX:U(6,0,te(0)),positionY:U(7,0,te(1)),positionZ:U(8,0,te(2)),upX:U(3,0,I(3)),upY:U(4,1,I(4)),upZ:U(5,0,I(5))}},{forwardX:w,forwardY:b,forwardZ:S,positionX:N,positionY:C,positionZ:T,upX:R,upY:D,upZ:F}=m.forwardX===void 0?y():m;return{get forwardX(){return w},get forwardY(){return b},get forwardZ(){return S},get positionX(){return N},get positionY(){return C},get positionZ(){return T},get upX(){return R},get upY(){return D},get upZ(){return F}}},P1=r=>"context"in r,rd=r=>P1(r[0]),hu=(r,e,t,i)=>{for(const a of r)if(t(a)){if(i)return!1;throw Error("The set contains at least one similar element.")}return r.add(e),!0},Qv=(r,e,[t,i],a)=>{hu(r,[e,t,i],o=>o[0]===e&&o[1]===t,a)},Jv=(r,[e,t,i],a)=>{const o=r.get(e);o===void 0?r.set(e,new Set([[t,i]])):hu(o,[t,i],h=>h[0]===t,a)},Lh=r=>"inputs"in r,U1=(r,e,t,i)=>{if(Lh(e)){const a=e.inputs[i];return r.connect(a,t,0),[a,t,0]}return r.connect(e,t,i),[e,t,i]},hx=(r,e,t)=>{for(const i of r)if(i[0]===e&&i[1]===t)return r.delete(i),i;return null},yS=(r,e,t)=>dp(r,i=>i[0]===e&&i[1]===t),fx=(r,e)=>{if(!ed(r).delete(e))throw new Error("Missing the expected event listener.")},dx=(r,e,t)=>{const i=Qa(r,e),a=dp(i,o=>o[0]===t);return i.size===0&&r.delete(e),a},H1=(r,e,t,i)=>{Lh(e)?r.disconnect(e.inputs[i],t,0):r.disconnect(e,t,i)},ur=r=>Qa(fg,r),Uf=r=>Qa(dg,r),ou=r=>Vm.has(r),E1=r=>!Th.has(r),eb=(r,e)=>new Promise(t=>{if(e!==null)t(!0);else{const i=r.createScriptProcessor(256,1,1),a=r.createGain(),o=r.createBuffer(1,2,44100),h=o.getChannelData(0);h[0]=1,h[1]=1;const c=r.createBufferSource();c.buffer=o,c.loop=!0,c.connect(i).connect(r.destination),c.connect(a),c.disconnect(a),i.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,m=>m===1)?t(!0):t(!1),c.stop(),i.onaudioprocess=null,c.disconnect(i),i.disconnect(r.destination)},c.start()}}),im=(r,e)=>{const t=new Map;for(const i of r)for(const a of i){const o=t.get(a);t.set(a,o===void 0?1:o+1)}t.forEach((i,a)=>e(a,i))},G1=r=>"context"in r,xS=r=>{const e=new Map;r.connect=(t=>(i,a=0,o=0)=>{const h=G1(i)?t(i,a,o):t(i,a),c=e.get(i);return c===void 0?e.set(i,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),h})(r.connect.bind(r)),r.disconnect=(t=>(i,a,o)=>{if(t.apply(r),i===void 0)e.clear();else if(typeof i=="number")for(const[h,c]of e){const f=c.filter(d=>d.output!==i);f.length===0?e.delete(h):e.set(h,f)}else if(e.has(i))if(a===void 0)e.delete(i);else{const h=e.get(i);if(h!==void 0){const c=h.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?e.delete(i):e.set(i,c)}}for(const[h,c]of e)c.forEach(f=>{G1(h)?r.connect(h,f.output,f.input):r.connect(h,f.output)})})(r.disconnect)},_S=(r,e,t,i)=>{const{activeInputs:a,passiveInputs:o}=nd(e),{outputs:h}=rs(r),c=ed(r),f=d=>{const m=ur(r),y=Uf(e);if(d){const w=dx(o,r,t);Qv(a,r,w,!1),!i&&!ou(r)&&m.connect(y,t)}else{const w=yS(a,r,t);Jv(o,w,!1),!i&&!ou(r)&&m.disconnect(y,t)}};return hu(h,[e,t],d=>d[0]===e&&d[1]===t,!0)?(c.add(f),gl(r)?Qv(a,r,[t,f],!0):Jv(o,[r,t,f],!0),!0):!1},wS=(r,e,t,i)=>{const{activeInputs:a,passiveInputs:o}=rs(e),h=hx(a[i],r,t);return h===null?[ox(o,r,t,i)[2],!1]:[h[2],!0]},SS=(r,e,t)=>{const{activeInputs:i,passiveInputs:a}=nd(e),o=hx(i,r,t);return o===null?[dx(a,r,t)[1],!1]:[o[2],!0]},mg=(r,e,t,i,a)=>{const[o,h]=wS(r,t,i,a);if(o!==null&&(fx(r,o),h&&!e&&!ou(r)&&H1(ur(r),ur(t),i,a)),gl(t)){const{activeInputs:c}=rs(t);qm(t,c)}},gg=(r,e,t,i)=>{const[a,o]=SS(r,t,i);a!==null&&(fx(r,a),o&&!e&&!ou(r)&&ur(r).disconnect(Uf(t),i))},AS=(r,e)=>{const t=rs(r),i=[];for(const a of t.outputs)rd(a)?mg(r,e,...a):gg(r,e,...a),i.push(a[0]);return t.outputs.clear(),i},NS=(r,e,t)=>{const i=rs(r),a=[];for(const o of i.outputs)o[1]===t&&(rd(o)?mg(r,e,...o):gg(r,e,...o),a.push(o[0]),i.outputs.delete(o));return a},CS=(r,e,t,i,a)=>{const o=rs(r);return Array.from(o.outputs).filter(h=>h[0]===t&&(i===void 0||h[1]===i)&&(a===void 0||h[2]===a)).map(h=>(rd(h)?mg(r,e,...h):gg(r,e,...h),o.outputs.delete(h),h[0]))},TS=(r,e,t,i,a,o,h,c,f,d,m,y,w,b,S,N)=>class extends d{constructor(T,R,D,F){super(D),this._context=T,this._nativeAudioNode=D;const B=m(T);y(B)&&t(eb,()=>eb(B,N))!==!0&&xS(D),fg.set(this,D),sx.set(this,new Set),T.state!=="closed"&&R&&Eh(this),r(this,F,D)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(T){this._nativeAudioNode.channelCount=T}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(T){this._nativeAudioNode.channelCountMode=T}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(T){this._nativeAudioNode.channelInterpretation=T}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(T,R=0,D=0){if(R<0||R>=this._nativeAudioNode.numberOfOutputs)throw a();const F=m(this._context),B=S(F);if(w(T)||b(T))throw o();if(P1(T)){const j=ur(T);try{const K=U1(this._nativeAudioNode,j,R,D),E=E1(this);(B||E)&&this._nativeAudioNode.disconnect(...K),this.context.state!=="closed"&&!E&&E1(T)&&Eh(T)}catch(K){throw K.code===12?o():K}if(e(this,T,R,D,B)){const K=f([this],T);im(K,i(B))}return T}const W=Uf(T);if(W.name==="playbackRate"&&W.maxValue===1024)throw h();try{this._nativeAudioNode.connect(W,R),(B||E1(this))&&this._nativeAudioNode.disconnect(W,R)}catch(j){throw j.code===12?o():j}if(_S(this,T,R,B)){const j=f([this],T);im(j,i(B))}}disconnect(T,R,D){let F;const B=m(this._context),W=S(B);if(T===void 0)F=AS(this,W);else if(typeof T=="number"){if(T<0||T>=this.numberOfOutputs)throw a();F=NS(this,W,T)}else{if(R!==void 0&&(R<0||R>=this.numberOfOutputs)||P1(T)&&D!==void 0&&(D<0||D>=T.numberOfInputs))throw a();if(F=CS(this,W,T,R,D),F.length===0)throw o()}for(const G of F){const j=f([this],G);im(j,c)}}},ES=(r,e,t,i,a,o,h,c,f,d,m,y,w)=>(b,S,N,C=null,T=null)=>{const R=N.value,D=new F4(R),F=S?i(D):null,B={get defaultValue(){return R},get maxValue(){return C===null?N.maxValue:C},get minValue(){return T===null?N.minValue:T},get value(){return N.value},set value(W){N.value=W,B.setValueAtTime(W,b.context.currentTime)},cancelAndHoldAtTime(W){if(typeof N.cancelAndHoldAtTime=="function")F===null&&D.flush(b.context.currentTime),D.add(a(W)),N.cancelAndHoldAtTime(W);else{const G=Array.from(D).pop();F===null&&D.flush(b.context.currentTime),D.add(a(W));const j=Array.from(D).pop();N.cancelScheduledValues(W),G!==j&&j!==void 0&&(j.type==="exponentialRampToValue"?N.exponentialRampToValueAtTime(j.value,j.endTime):j.type==="linearRampToValue"?N.linearRampToValueAtTime(j.value,j.endTime):j.type==="setValue"?N.setValueAtTime(j.value,j.startTime):j.type==="setValueCurve"&&N.setValueCurveAtTime(j.values,j.startTime,j.duration))}return B},cancelScheduledValues(W){return F===null&&D.flush(b.context.currentTime),D.add(o(W)),N.cancelScheduledValues(W),B},exponentialRampToValueAtTime(W,G){if(W===0)throw new RangeError;if(!Number.isFinite(G)||G<0)throw new RangeError;const j=b.context.currentTime;return F===null&&D.flush(j),Array.from(D).length===0&&(D.add(d(R,j)),N.setValueAtTime(R,j)),D.add(h(W,G)),N.exponentialRampToValueAtTime(W,G),B},linearRampToValueAtTime(W,G){const j=b.context.currentTime;return F===null&&D.flush(j),Array.from(D).length===0&&(D.add(d(R,j)),N.setValueAtTime(R,j)),D.add(c(W,G)),N.linearRampToValueAtTime(W,G),B},setTargetAtTime(W,G,j){return F===null&&D.flush(b.context.currentTime),D.add(f(W,G,j)),N.setTargetAtTime(W,G,j),B},setValueAtTime(W,G){return F===null&&D.flush(b.context.currentTime),D.add(d(W,G)),N.setValueAtTime(W,G),B},setValueCurveAtTime(W,G,j){const V=W instanceof Float32Array?W:new Float32Array(W);if(y!==null&&y.name==="webkitAudioContext"){const K=G+j,E=b.context.sampleRate,I=Math.ceil(G*E),te=Math.floor(K*E),U=te-I,ue=new Float32Array(U);for(let ie=0;ie<U;ie+=1){const se=(V.length-1)/j*((I+ie)/E-G),fe=Math.floor(se),we=Math.ceil(se);ue[ie]=fe===we?V[fe]:(1-(se-fe))*V[fe]+(1-(we-se))*V[we]}F===null&&D.flush(b.context.currentTime),D.add(m(ue,G,j)),N.setValueCurveAtTime(ue,G,j);const $=te/E;$<K&&w(B,ue[ue.length-1],$),w(B,V[V.length-1],K)}else F===null&&D.flush(b.context.currentTime),D.add(m(V,G,j)),N.setValueCurveAtTime(V,G,j);return B}};return t.set(B,N),e.set(B,b),r(B,F),B},kS=r=>({replay(e){for(const t of r)if(t.type==="exponentialRampToValue"){const{endTime:i,value:a}=t;e.exponentialRampToValueAtTime(a,i)}else if(t.type==="linearRampToValue"){const{endTime:i,value:a}=t;e.linearRampToValueAtTime(a,i)}else if(t.type==="setTarget"){const{startTime:i,target:a,timeConstant:o}=t;e.setTargetAtTime(a,i,o)}else if(t.type==="setValue"){const{startTime:i,value:a}=t;e.setValueAtTime(a,i)}else if(t.type==="setValueCurve"){const{duration:i,startTime:a,values:o}=t;e.setValueCurveAtTime(o,a,i)}else throw new Error("Can't apply an unknown automation.")}});class px{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((i,a)=>e.call(t,i,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const OS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},LS=(r,e,t,i,a,o,h,c,f,d,m,y,w,b)=>class extends e{constructor(N,C,T){var R;const D=c(N),F=f(D),B=m({...OS,...T});w(B);const W=Fm.get(D),G=W?.get(C),j=F||D.state!=="closed"?D:(R=h(D))!==null&&R!==void 0?R:D,V=a(j,F?null:N.baseLatency,d,C,G,B),K=F?i(C,B,G):null;super(N,!0,V,K);const E=[];V.parameters.forEach((te,U)=>{const ue=t(this,F,te);E.push([U,ue])}),this._nativeAudioWorkletNode=V,this._onprocessorerror=null,this._parameters=new px(E),F&&r(D,this);const{activeInputs:I}=o(this);y(V,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(N){const C=typeof N=="function"?b(this,N):null;this._nativeAudioWorkletNode.onprocessorerror=C;const T=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=T!==null&&T===C?N:T}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function W1(r,e,t,i,a){if(typeof r.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),r.copyFromChannel(e[t],i,a);else{const o=r.getChannelData(i);if(e[t].byteLength===0)e[t]=o.slice(a,a+128);else{const h=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(h)}}}const mx=(r,e,t,i,a)=>{typeof r.copyToChannel=="function"?e[t].byteLength!==0&&r.copyToChannel(e[t],i,a):e[t].byteLength!==0&&r.getChannelData(i).set(e[t],a)},Y1=(r,e)=>{const t=[];for(let i=0;i<r;i+=1){const a=[],o=typeof e=="number"?e:e[i];for(let h=0;h<o;h+=1)a.push(new Float32Array(128));t.push(a)}return t},MS=(r,e)=>{const t=Qa(Bm,r),i=ur(e);return Qa(t,i)},jS=async(r,e,t,i,a,o,h)=>{const c=e===null?Math.ceil(r.context.length/128)*128:e.length,f=i.channelCount*i.numberOfInputs,d=a.reduce((C,T)=>C+T,0),m=d===0?null:t.createBuffer(d,c,t.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const y=rs(r),w=await MS(t,r),b=Y1(i.numberOfInputs,i.channelCount),S=Y1(i.numberOfOutputs,a),N=Array.from(r.parameters.keys()).reduce((C,T)=>({...C,[T]:new Float32Array(128)}),{});for(let C=0;C<c;C+=128){if(i.numberOfInputs>0&&e!==null)for(let T=0;T<i.numberOfInputs;T+=1)for(let R=0;R<i.channelCount;R+=1)W1(e,b[T],R,R,C);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:T},R)=>{W1(e,N,T,f+R,C)});for(let T=0;T<i.numberOfInputs;T+=1)for(let R=0;R<a[T];R+=1)S[T][R].byteLength===0&&(S[T][R]=new Float32Array(128));try{const T=b.map((D,F)=>y.activeInputs[F].size===0?[]:D),R=h(C/t.sampleRate,t.sampleRate,()=>w.process(T,S,N));if(m!==null)for(let D=0,F=0;D<i.numberOfOutputs;D+=1){for(let B=0;B<a[D];B+=1)mx(m,S[D],B,F+B,C);F+=a[D]}if(!R)break}catch(T){r.dispatchEvent(new ErrorEvent("processorerror",{colno:T.colno,filename:T.filename,lineno:T.lineno,message:T.message}));break}}return m},DS=(r,e,t,i,a,o,h,c,f,d,m,y,w,b,S,N)=>(C,T,R)=>{const D=new WeakMap;let F=null;const B=async(W,G)=>{let j=m(W),V=null;const K=Gi(j,G),E=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(y===null){const I=E.reduce(($,ie)=>$+ie,0),te=a(G,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),U=[];for(let $=0;$<W.numberOfOutputs;$+=1)U.push(i(G,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:E[$]}));const ue=h(G,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1});ue.connect=e.bind(null,U),ue.disconnect=f.bind(null,U),V=[te,U,ue]}else K||(j=new y(G,C));if(D.set(G,V===null?j:V[2]),V!==null){if(F===null){if(R===void 0)throw new Error("Missing the processor constructor.");if(w===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ie=W.channelCount*W.numberOfInputs,se=R.parameterDescriptors===void 0?0:R.parameterDescriptors.length,fe=ie+se;F=jS(W,fe===0?null:await(async()=>{const X=new w(fe,Math.ceil(W.context.length/128)*128,G.sampleRate),L=[],P=[];for(let ce=0;ce<T.numberOfInputs;ce+=1)L.push(h(X,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),P.push(a(X,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const J=await Promise.all(Array.from(W.parameters.values()).map(async ce=>{const pe=o(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ce.value});return await b(X,ce,pe.offset),pe})),re=i(X,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ie+se)});for(let ce=0;ce<T.numberOfInputs;ce+=1){L[ce].connect(P[ce]);for(let pe=0;pe<T.channelCount;pe+=1)P[ce].connect(re,pe,ce*T.channelCount+pe)}for(const[ce,pe]of J.entries())pe.connect(re,0,ie+ce),pe.start(0);return re.connect(X.destination),await Promise.all(L.map(ce=>S(W,X,ce))),N(X)})(),G,T,E,R,d)}const I=await F,te=t(G,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[U,ue,$]=V;I!==null&&(te.buffer=I,te.start(0)),te.connect(U);for(let ie=0,se=0;ie<W.numberOfOutputs;ie+=1){const fe=ue[ie];for(let we=0;we<E[ie];we+=1)U.connect(fe,se+we,we);se+=E[ie]}return $}if(K)for(const[I,te]of W.parameters.entries())await r(G,te,j.parameters.get(I));else for(const[I,te]of W.parameters.entries())await b(G,te,j.parameters.get(I));return await S(W,G,j),j};return{render(W,G){c(G,W);const j=D.get(G);return j!==void 0?Promise.resolve(j):B(W,G)}}},RS=(r,e,t,i,a,o,h,c,f,d,m,y,w,b,S,N,C,T,R,D)=>class extends S{constructor(B,W){super(B,W),this._nativeContext=B,this._audioWorklet=r===void 0?void 0:{addModule:(G,j)=>r(this,G,j)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(B,W,G){return new t({length:W,numberOfChannels:B,sampleRate:G})}createBufferSource(){return new i(this)}createChannelMerger(B=6){return new o(this,{numberOfInputs:B})}createChannelSplitter(B=6){return new h(this,{numberOfOutputs:B})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(B=1){return new m(this,{maxDelayTime:B})}createDynamicsCompressor(){return new y(this)}createGain(){return new w(this)}createIIRFilter(B,W){return new b(this,{feedback:W,feedforward:B})}createOscillator(){return new N(this)}createPanner(){return new C(this)}createPeriodicWave(B,W,G={disableNormalization:!1}){return new T(this,{...G,imag:W,real:B})}createStereoPanner(){return new R(this)}createWaveShaper(){return new D(this)}decodeAudioData(B,W,G){return d(this._nativeContext,B).then(j=>(typeof W=="function"&&W(j),j),j=>{throw typeof G=="function"&&G(j),j})}},IS={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},VS=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),w={...IS,...m},b=a(y,w),S=h(y),N=S?t():null;super(d,!1,b,N),this._Q=e(this,S,b.Q,ns,Ts),this._detune=e(this,S,b.detune,1200*Math.log2(ns),-1200*Math.log2(ns)),this._frequency=e(this,S,b.frequency,d.sampleRate/2,0),this._gain=e(this,S,b.gain,40*Math.log10(ns),Ts),this._nativeBiquadFilterNode=b,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,m,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,m,y)}catch(w){throw w.code===11?i():w}if(d.length!==m.length||m.length!==y.length)throw i()}},FS=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Gi(d,f);if(!m){const y={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=e(f,y)}return o.set(f,d),m?(await r(f,c.Q,d.Q),await r(f,c.detune,d.detune),await r(f,c.frequency,d.frequency),await r(f,c.gain,d.gain)):(await i(f,c.Q,d.Q),await i(f,c.detune,d.detune),await i(f,c.frequency,d.frequency),await i(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},BS=(r,e)=>(t,i)=>{const a=e.get(t);if(a!==void 0)return a;const o=r.get(t);if(o!==void 0)return o;try{const h=i();return h instanceof Promise?(r.set(t,h),h.catch(()=>!1).then(c=>(r.delete(t),e.set(t,c),c))):(e.set(t,h),h)}catch{return e.set(t,!1),!1}},qS={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},zS=(r,e,t,i,a)=>class extends r{constructor(h,c){const f=i(h),d={...qS,...c},m=t(f,d),y=a(f)?e():null;super(h,!1,m,y)}},PS=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Gi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=r(h,d)}return i.set(h,c),await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},US={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},HS=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=i(c),m=o({...US,...f}),y=t(d,m),w=a(d)?e():null;super(c,!1,y,w)}},GS=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Gi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=r(h,d)}return i.set(h,c),await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},WS=r=>(e,t,i)=>r(t,e,i),YS=r=>(e,t,i=0,a=0)=>{const o=e[i];if(o===void 0)throw r();return G1(t)?o.connect(t,0,a):o.connect(t,0)},XS=r=>(e,t)=>{const i=r(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return i.buffer=a,i.loop=!0,i.connect(t),i.start(),()=>{i.stop(),i.disconnect(t)}},ZS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},$S=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...ZS,...d},w=i(m,y),b=o(m),S=b?t():null;super(f,!1,w,S),this._constantSourceNodeRenderer=S,this._nativeConstantSourceNode=w,this._offset=e(this,b,w.offset,ns,Ts),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeConstantSourceNode.onended=d;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===d?f:m}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){Eh(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),gl(this)&&td(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},KS=(r,e,t,i,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let y=t(d);const w=Gi(y,m);if(!w){const b={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=e(m,b),h!==null&&y.start(h),c!==null&&y.stop(c)}return o.set(m,y),w?await r(m,d.offset,y.offset):await i(m,d.offset,y.offset),await a(d,m,y),y};return{set start(d){h=d},set stop(d){c=d},render(d,m){const y=o.get(m);return y!==void 0?Promise.resolve(y):f(d,m)}}},QS=r=>e=>(r[0]=e,r[0]),JS={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},e6=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=i(c),m={...JS,...f},y=t(d,m),b=a(d)?e():null;super(c,!1,y,b),this._isBufferNullified=!1,this._nativeConvolverNode=y,m.buffer!==null&&o(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},t6=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Gi(c,h)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=r(h,d)}return i.set(h,c),Lh(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},n6=(r,e)=>(t,i,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,i,a)}catch(o){throw o.name==="SyntaxError"?r():o}},r6=()=>new DOMException("","DataCloneError"),tb=r=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(i=>{const a=()=>{t.onmessage=null,e.close(),t.close(),i()};t.onmessage=()=>a();try{e.postMessage(r,[r])}catch{}finally{a()}})},i6=(r,e,t,i,a,o,h,c,f,d,m)=>(y,w)=>{const b=h(y)?y:o(y);if(a.has(w)){const S=t();return Promise.reject(S)}try{a.add(w)}catch{}return e(f,()=>f(b))?b.decodeAudioData(w).then(S=>(tb(w).catch(()=>{}),e(c,()=>c(S))||m(S),r.add(S),S)):new Promise((S,N)=>{const C=async()=>{try{await tb(w)}catch{}},T=R=>{N(R),C()};try{b.decodeAudioData(w,R=>{typeof R.copyFromChannel!="function"&&(d(R),pg(R)),r.add(R),C().then(()=>S(R))},R=>{T(R===null?i():R)})}catch(R){T(R)}})},s6=(r,e,t,i,a,o,h,c)=>(f,d)=>{const m=e.get(f);if(m===void 0)throw new Error("Missing the expected cycle count.");const y=o(f.context),w=c(y);if(m===d){if(e.delete(f),!w&&h(f)){const b=i(f),{outputs:S}=t(f);for(const N of S)if(rd(N)){const C=i(N[0]);r(b,C,N[1],N[2])}else{const C=a(N[0]);b.connect(C,N[1])}}}else e.set(f,m-d)},a6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},o6=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...a6,...d},w=i(m,y),b=o(m),S=b?t(y.maxDelayTime):null;super(f,!1,w,S),this._delayTime=e(this,b,w.delayTime),h(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},l6=(r,e,t,i,a)=>o=>{const h=new WeakMap,c=async(f,d)=>{let m=t(f);const y=Gi(m,d);if(!y){const w={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:o};m=e(d,w)}return h.set(d,m),y?await r(d,f.delayTime,m.delayTime):await i(d,f.delayTime,m.delayTime),await a(f,d,m),m};return{render(f,d){const m=h.get(d);return m!==void 0?Promise.resolve(m):c(f,d)}}},c6=r=>(e,t,i,a)=>r(e[a],o=>o[0]===t&&o[1]===i),u6=r=>(e,t)=>{r(e).delete(t)},h6=r=>"delayTime"in r,f6=(r,e,t)=>function i(a,o){const h=P1(o)?o:t(r,o);if(h6(h))return[];if(a[0]===h)return[a];if(a.includes(h))return[];const{outputs:c}=e(h);return Array.from(c).map(f=>i([...a,h],f[0])).reduce((f,d)=>f.concat(d),[])},f1=(r,e,t)=>{const i=e[t];if(i===void 0)throw r();return i},d6=r=>(e,t=void 0,i=void 0,a=0)=>t===void 0?e.forEach(o=>o.disconnect()):typeof t=="number"?f1(r,e,t).disconnect():G1(t)?i===void 0?e.forEach(o=>o.disconnect(t)):a===void 0?f1(r,e,i).disconnect(t,0):f1(r,e,i).disconnect(t,0,a):i===void 0?e.forEach(o=>o.disconnect(t)):f1(r,e,i).disconnect(t,0),p6={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},m6=(r,e,t,i,a,o,h,c)=>class extends r{constructor(d,m){const y=o(d),w={...p6,...m},b=i(y,w),S=h(y),N=S?t():null;super(d,!1,b,N),this._attack=e(this,S,b.attack),this._knee=e(this,S,b.knee),this._nativeDynamicsCompressorNode=b,this._ratio=e(this,S,b.ratio),this._release=e(this,S,b.release),this._threshold=e(this,S,b.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=m,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},g6=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Gi(d,f);if(!m){const y={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=e(f,y)}return o.set(f,d),m?(await r(f,c.attack,d.attack),await r(f,c.knee,d.knee),await r(f,c.ratio,d.ratio),await r(f,c.release,d.release),await r(f,c.threshold,d.threshold)):(await i(f,c.attack,d.attack),await i(f,c.knee,d.knee),await i(f,c.ratio,d.ratio),await i(f,c.release,d.release),await i(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},v6=()=>new DOMException("","EncodingError"),b6=r=>e=>new Promise((t,i)=>{if(r===null){i(new SyntaxError);return}const a=r.document.head;if(a===null)i(new SyntaxError);else{const o=r.document.createElement("script"),h=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(h),f=r.onerror,d=()=>{r.onerror=f,URL.revokeObjectURL(c)};r.onerror=(m,y,w,b,S)=>{if(y===c||y===r.location.href&&w===1&&b===1)return d(),i(S),!1;if(f!==null)return f(m,y,w,b,S)},o.onerror=()=>{d(),i(new SyntaxError)},o.onload=()=>{d(),t()},o.src=c,o.type="module",a.appendChild(o)}}),y6=r=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,i,a){if(i!==null){let o=this._listeners.get(i);o===void 0&&(o=r(this,i),typeof i=="function"&&this._listeners.set(i,o)),this._nativeEventTarget.addEventListener(t,o,a)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,i,a){const o=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,a)}},x6=r=>(e,t,i)=>{Object.defineProperties(r,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return i()}finally{r!==null&&(delete r.currentFrame,delete r.currentTime)}},_6=r=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw r()},w6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},S6=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...w6,...f},y=i(d,m),w=o(d),b=w?t():null;super(c,!1,y,b),this._gain=e(this,w,y.gain,ns,Ts)}get gain(){return this._gain}},A6=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Gi(d,f);if(!m){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=e(f,y)}return o.set(f,d),m?await r(f,c.gain,d.gain):await i(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},N6=(r,e)=>t=>e(r,t),C6=r=>e=>{const t=r(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},T6=r=>e=>{var t;return(t=r.get(e))!==null&&t!==void 0?t:0},E6=r=>e=>{const t=r(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},k6=r=>e=>r.get(e),_i=()=>new DOMException("","InvalidStateError"),O6=r=>e=>{const t=r.get(e);if(t===void 0)throw _i();return t},L6=(r,e)=>t=>{let i=r.get(t);if(i!==void 0)return i;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),r.set(t,i),i},M6=r=>e=>{const t=r.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},pp=()=>new DOMException("","InvalidAccessError"),j6=r=>{r.getFrequencyResponse=(e=>(t,i,a)=>{if(t.length!==i.length||i.length!==a.length)throw pp();return e.call(r,t,i,a)})(r.getFrequencyResponse)},D6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},R6=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=i(c),m=a(d),y={...D6,...f},w=e(d,m?null:c.baseLatency,y),b=m?t(y.feedback,y.feedforward):null;super(c,!1,w,b),j6(w),this._nativeIIRFilterNode=w,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},gx=(r,e,t,i,a,o,h,c,f,d,m)=>{const y=d.length;let w=c;for(let b=0;b<y;b+=1){let S=t[0]*d[b];for(let N=1;N<a;N+=1){const C=w-N&f-1;S+=t[N]*o[C],S-=r[N]*h[C]}for(let N=a;N<i;N+=1)S+=t[N]*o[w-N&f-1];for(let N=a;N<e;N+=1)S-=r[N]*h[w-N&f-1];o[w]=d[b],h[w]=S,w=w+1&f-1,m[b]=S}return w},I6=(r,e,t,i)=>{const a=t instanceof Float64Array?t:new Float64Array(t),o=i instanceof Float64Array?i:new Float64Array(i),h=a.length,c=o.length,f=Math.min(h,c);if(a[0]!==1){for(let S=0;S<h;S+=1)o[S]/=a[0];for(let S=1;S<c;S+=1)a[S]/=a[0]}const d=32,m=new Float32Array(d),y=new Float32Array(d),w=e.createBuffer(r.numberOfChannels,r.length,r.sampleRate),b=r.numberOfChannels;for(let S=0;S<b;S+=1){const N=r.getChannelData(S),C=w.getChannelData(S);m.fill(0),y.fill(0),gx(a,h,o,c,f,m,y,0,d,N,C)}return w},V6=(r,e,t,i,a)=>(o,h)=>{const c=new WeakMap;let f=null;const d=async(m,y)=>{let w=null,b=e(m);const S=Gi(b,y);if(y.createIIRFilter===void 0?w=r(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):S||(b=y.createIIRFilter(h,o)),c.set(y,w===null?b:w),w!==null){if(f===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const C=new t(m.context.destination.channelCount,m.context.length,y.sampleRate);f=(async()=>{await i(m,C,C.destination);const T=await a(C);return I6(T,y,o,h)})()}const N=await f;return w.buffer=N,w.start(0),w}return await i(m,y,b),b};return{render(m,y){const w=c.get(y);return w!==void 0?Promise.resolve(w):d(m,y)}}},F6=(r,e,t,i,a,o)=>h=>(c,f)=>{const d=r.get(c);if(d===void 0){if(!h&&o(c)){const m=i(c),{outputs:y}=t(c);for(const w of y)if(rd(w)){const b=i(w[0]);e(m,b,w[1],w[2])}else{const b=a(w[0]);m.disconnect(b,w[1])}}r.set(c,f)}else r.set(c,d+f)},B6=(r,e)=>t=>{const i=r.get(t);return e(i)||e(t)},q6=(r,e)=>t=>r.has(t)||e(t),z6=(r,e)=>t=>r.has(t)||e(t),P6=(r,e)=>t=>{const i=r.get(t);return e(i)||e(t)},U6=r=>e=>r!==null&&e instanceof r,H6=r=>e=>r!==null&&typeof r.AudioNode=="function"&&e instanceof r.AudioNode,G6=r=>e=>r!==null&&typeof r.AudioParam=="function"&&e instanceof r.AudioParam,W6=(r,e)=>t=>r(t)||e(t),Y6=r=>e=>r!==null&&e instanceof r,X6=r=>r!==null&&r.isSecureContext,Z6=(r,e,t,i)=>class extends r{constructor(o,h){const c=t(o),f=e(c,h);if(i(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},$6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},K6=(r,e,t,i)=>class extends r{constructor(o,h){const c=t(o);if(i(c))throw new TypeError;const f={...$6,...h},d=e(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Q6=(r,e,t,i)=>class extends r{constructor(o,h){const c=t(o),f=e(c,h);if(i(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},J6=(r,e,t)=>class extends r{constructor(a,o){const h=t(a),c=e(h,o);super(a,!0,c,null)}},eA=(r,e,t,i,a,o)=>class extends t{constructor(c,f){super(c),this._nativeContext=c,fp.set(this,c),i(c)&&a.set(c,new Set),this._destination=new r(this,f),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Hf=r=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=r.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},tA=(r,e)=>(t,i,a)=>{const o=new Set;return t.connect=(h=>(c,f=0,d=0)=>{const m=o.size===0;if(e(c))return h.call(t,c,f,d),r(o,[c,f,d],y=>y[0]===c&&y[1]===f&&y[2]===d,!0),m&&i(),c;h.call(t,c,f),r(o,[c,f],y=>y[0]===c&&y[1]===f,!0),m&&i()})(t.connect),t.disconnect=(h=>(c,f,d)=>{const m=o.size>0;if(c===void 0)h.apply(t),o.clear();else if(typeof c=="number"){h.call(t,c);for(const w of o)w[1]===c&&o.delete(w)}else{e(c)?h.call(t,c,f,d):h.call(t,c,f);for(const w of o)w[0]===c&&(f===void 0||w[1]===f)&&(d===void 0||w[2]===d)&&o.delete(w)}const y=o.size===0;m&&y&&a()})(t.disconnect),t},vr=(r,e,t)=>{const i=e[t];i!==void 0&&i!==r[t]&&(r[t]=i)},hi=(r,e)=>{vr(r,e,"channelCount"),vr(r,e,"channelCountMode"),vr(r,e,"channelInterpretation")},nb=r=>typeof r.getFloatTimeDomainData=="function",nA=r=>{r.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);r.getByteTimeDomainData(t);const i=Math.max(t.length,r.fftSize);for(let a=0;a<i;a+=1)e[a]=(t[a]-128)*.0078125;return e}},rA=(r,e)=>(t,i)=>{const a=t.createAnalyser();if(hi(a,i),!(i.maxDecibels>i.minDecibels))throw e();return vr(a,i,"fftSize"),vr(a,i,"maxDecibels"),vr(a,i,"minDecibels"),vr(a,i,"smoothingTimeConstant"),r(nb,()=>nb(a))||nA(a),a},iA=r=>r===null?null:r.hasOwnProperty("AudioBuffer")?r.AudioBuffer:null,Dr=(r,e,t)=>{const i=e[t];i!==void 0&&i!==r[t].value&&(r[t].value=i)},sA=r=>{r.start=(e=>{let t=!1;return(i=0,a=0,o)=>{if(t)throw _i();e.call(r,i,a,o),t=!0}})(r.start)},vg=r=>{r.start=(e=>(t=0,i=0,a)=>{if(typeof a=="number"&&a<0||i<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(r,t,i,a)})(r.start)},bg=r=>{r.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(r,t)})(r.stop)},aA=(r,e,t,i,a,o,h,c,f,d,m)=>(y,w)=>{const b=y.createBufferSource();return hi(b,w),Dr(b,w,"playbackRate"),vr(b,w,"buffer"),vr(b,w,"loop"),vr(b,w,"loopEnd"),vr(b,w,"loopStart"),e(t,()=>t(y))||sA(b),e(i,()=>i(y))||f(b),e(a,()=>a(y))||d(b,y),e(o,()=>o(y))||vg(b),e(h,()=>h(y))||m(b,y),e(c,()=>c(y))||bg(b),r(y,b),b},oA=r=>r===null?null:r.hasOwnProperty("AudioContext")?r.AudioContext:r.hasOwnProperty("webkitAudioContext")?r.webkitAudioContext:null,lA=(r,e)=>(t,i,a)=>{const o=t.destination;if(o.channelCount!==i)try{o.channelCount=i}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:i});const h=r(t,{channelCount:i,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(h,"channelCount",c=>()=>c.call(h),c=>f=>{c.call(h,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),e(h,"channelCountMode",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelCountMode=f}),e(h,"channelInterpretation",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelInterpretation=f}),Object.defineProperty(h,"maxChannelCount",{get:()=>o.maxChannelCount}),h.connect(o),h},cA=r=>r===null?null:r.hasOwnProperty("AudioWorkletNode")?r.AudioWorkletNode:null,uA=r=>{const{port1:e}=new MessageChannel;try{e.postMessage(r)}finally{e.close()}},hA=(r,e,t,i,a)=>(o,h,c,f,d,m)=>{if(c!==null)try{const y=new c(o,f,m),w=new Map;let b=null;if(Object.defineProperties(y,{channelCount:{get:()=>m.channelCount,set:()=>{throw r()}},channelCountMode:{get:()=>"explicit",set:()=>{throw r()}},onprocessorerror:{get:()=>b,set:S=>{typeof b=="function"&&y.removeEventListener("processorerror",b),b=typeof S=="function"?S:null,typeof b=="function"&&y.addEventListener("processorerror",b)}}}),y.addEventListener=(S=>(...N)=>{if(N[0]==="processorerror"){const C=typeof N[1]=="function"?N[1]:typeof N[1]=="object"&&N[1]!==null&&typeof N[1].handleEvent=="function"?N[1].handleEvent:null;if(C!==null){const T=w.get(N[1]);T!==void 0?N[1]=T:(N[1]=R=>{R.type==="error"?(Object.defineProperties(R,{type:{value:"processorerror"}}),C(R)):C(new ErrorEvent(N[0],{...R}))},w.set(C,N[1]))}}return S.call(y,"error",N[1],N[2]),S.call(y,...N)})(y.addEventListener),y.removeEventListener=(S=>(...N)=>{if(N[0]==="processorerror"){const C=w.get(N[1]);C!==void 0&&(w.delete(N[1]),N[1]=C)}return S.call(y,"error",N[1],N[2]),S.call(y,N[0],N[1],N[2])})(y.removeEventListener),m.numberOfOutputs!==0){const S=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(S).connect(o.destination),a(y,()=>S.disconnect(),()=>S.connect(o.destination))}return y}catch(y){throw y.code===11?i():y}if(d===void 0)throw i();return uA(m),e(o,h,d,m)},vx=(r,e)=>r===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(r*e))))),fA=r=>new Promise((e,t)=>{const{port1:i,port2:a}=new MessageChannel;i.onmessage=({data:o})=>{i.close(),a.close(),e(o)},i.onmessageerror=({data:o})=>{i.close(),a.close(),t(o)},a.postMessage(r)}),dA=async(r,e)=>{const t=await fA(e);return new r(t)},pA=(r,e,t,i)=>{let a=Bm.get(r);a===void 0&&(a=new WeakMap,Bm.set(r,a));const o=dA(t,i);return a.set(e,o),o},mA=(r,e,t,i,a,o,h,c,f,d,m,y,w)=>(b,S,N,C)=>{if(C.numberOfInputs===0&&C.numberOfOutputs===0)throw f();const T=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(T.some(H=>H<1))throw f();if(T.length!==C.numberOfOutputs)throw e();if(C.channelCountMode!=="explicit")throw f();const R=C.channelCount*C.numberOfInputs,D=T.reduce((H,Me)=>H+Me,0),F=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length;if(R+F>6||D>6)throw f();const B=new MessageChannel,W=[],G=[];for(let H=0;H<C.numberOfInputs;H+=1)W.push(h(b,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),G.push(a(b,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const j=[];if(N.parameterDescriptors!==void 0)for(const{defaultValue:H,maxValue:Me,minValue:tt,name:Ze}of N.parameterDescriptors){const Ne=o(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:C.parameterData[Ze]!==void 0?C.parameterData[Ze]:H===void 0?0:H});Object.defineProperties(Ne.offset,{defaultValue:{get:()=>H===void 0?0:H},maxValue:{get:()=>Me===void 0?ns:Me},minValue:{get:()=>tt===void 0?Ts:tt}}),j.push(Ne)}const V=i(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,R+F)}),K=vx(S,b.sampleRate),E=c(b,K,R+F,Math.max(1,D)),I=a(b,{channelCount:Math.max(1,D),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,D)}),te=[];for(let H=0;H<C.numberOfOutputs;H+=1)te.push(i(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[H]}));for(let H=0;H<C.numberOfInputs;H+=1){W[H].connect(G[H]);for(let Me=0;Me<C.channelCount;Me+=1)G[H].connect(V,Me,H*C.channelCount+Me)}const U=new px(N.parameterDescriptors===void 0?[]:N.parameterDescriptors.map(({name:H},Me)=>{const tt=j[Me];return tt.connect(V,0,R+Me),tt.start(0),[H,tt.offset]}));V.connect(E);let ue=C.channelInterpretation,$=null;const ie=C.numberOfOutputs===0?[E]:te,se={get bufferSize(){return K},get channelCount(){return C.channelCount},set channelCount(H){throw t()},get channelCountMode(){return C.channelCountMode},set channelCountMode(H){throw t()},get channelInterpretation(){return ue},set channelInterpretation(H){for(const Me of W)Me.channelInterpretation=H;ue=H},get context(){return E.context},get inputs(){return W},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get onprocessorerror(){return $},set onprocessorerror(H){typeof $=="function"&&se.removeEventListener("processorerror",$),$=typeof H=="function"?H:null,typeof $=="function"&&se.addEventListener("processorerror",$)},get parameters(){return U},get port(){return B.port2},addEventListener(...H){return E.addEventListener(H[0],H[1],H[2])},connect:r.bind(null,ie),disconnect:d.bind(null,ie),dispatchEvent(...H){return E.dispatchEvent(H[0])},removeEventListener(...H){return E.removeEventListener(H[0],H[1],H[2])}},fe=new Map;B.port1.addEventListener=(H=>(...Me)=>{if(Me[0]==="message"){const tt=typeof Me[1]=="function"?Me[1]:typeof Me[1]=="object"&&Me[1]!==null&&typeof Me[1].handleEvent=="function"?Me[1].handleEvent:null;if(tt!==null){const Ze=fe.get(Me[1]);Ze!==void 0?Me[1]=Ze:(Me[1]=Ne=>{m(b.currentTime,b.sampleRate,()=>tt(Ne))},fe.set(tt,Me[1]))}}return H.call(B.port1,Me[0],Me[1],Me[2])})(B.port1.addEventListener),B.port1.removeEventListener=(H=>(...Me)=>{if(Me[0]==="message"){const tt=fe.get(Me[1]);tt!==void 0&&(fe.delete(Me[1]),Me[1]=tt)}return H.call(B.port1,Me[0],Me[1],Me[2])})(B.port1.removeEventListener);let we=null;Object.defineProperty(B.port1,"onmessage",{get:()=>we,set:H=>{typeof we=="function"&&B.port1.removeEventListener("message",we),we=typeof H=="function"?H:null,typeof we=="function"&&(B.port1.addEventListener("message",we),B.port1.start())}}),N.prototype.port=B.port1;let X=null;pA(b,se,N,C).then(H=>X=H);const P=Y1(C.numberOfInputs,C.channelCount),J=Y1(C.numberOfOutputs,T),re=N.parameterDescriptors===void 0?[]:N.parameterDescriptors.reduce((H,{name:Me})=>({...H,[Me]:new Float32Array(128)}),{});let ce=!0;const pe=()=>{C.numberOfOutputs>0&&E.disconnect(I);for(let H=0,Me=0;H<C.numberOfOutputs;H+=1){const tt=te[H];for(let Ze=0;Ze<T[H];Ze+=1)I.disconnect(tt,Me+Ze,Ze);Me+=T[H]}},de=new Map;E.onaudioprocess=({inputBuffer:H,outputBuffer:Me})=>{if(X!==null){const tt=y(se);for(let Ze=0;Ze<K;Ze+=128){for(let Ne=0;Ne<C.numberOfInputs;Ne+=1)for(let nt=0;nt<C.channelCount;nt+=1)W1(H,P[Ne],nt,nt,Ze);N.parameterDescriptors!==void 0&&N.parameterDescriptors.forEach(({name:Ne},nt)=>{W1(H,re,Ne,R+nt,Ze)});for(let Ne=0;Ne<C.numberOfInputs;Ne+=1)for(let nt=0;nt<T[Ne];nt+=1)J[Ne][nt].byteLength===0&&(J[Ne][nt]=new Float32Array(128));try{const Ne=P.map((it,ut)=>{if(tt[ut].size>0)return de.set(ut,K/128),it;const Mt=de.get(ut);return Mt===void 0?[]:(it.every(Xt=>Xt.every(It=>It===0))&&(Mt===1?de.delete(ut):de.set(ut,Mt-1)),it)});ce=m(b.currentTime+Ze/b.sampleRate,b.sampleRate,()=>X.process(Ne,J,re));for(let it=0,ut=0;it<C.numberOfOutputs;it+=1){for(let ht=0;ht<T[it];ht+=1)mx(Me,J[it],ht,ut+ht,Ze);ut+=T[it]}}catch(Ne){ce=!1,se.dispatchEvent(new ErrorEvent("processorerror",{colno:Ne.colno,filename:Ne.filename,lineno:Ne.lineno,message:Ne.message}))}if(!ce){for(let Ne=0;Ne<C.numberOfInputs;Ne+=1){W[Ne].disconnect(G[Ne]);for(let nt=0;nt<C.channelCount;nt+=1)G[Ze].disconnect(V,nt,Ne*C.channelCount+nt)}if(N.parameterDescriptors!==void 0){const Ne=N.parameterDescriptors.length;for(let nt=0;nt<Ne;nt+=1){const it=j[nt];it.disconnect(V,0,R+nt),it.stop()}}V.disconnect(E),E.onaudioprocess=null,xe?pe():Qe();break}}}};let xe=!1;const Te=h(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ue=()=>E.connect(Te).connect(b.destination),Qe=()=>{E.disconnect(Te),Te.disconnect()},et=()=>{if(ce){Qe(),C.numberOfOutputs>0&&E.connect(I);for(let H=0,Me=0;H<C.numberOfOutputs;H+=1){const tt=te[H];for(let Ze=0;Ze<T[H];Ze+=1)I.connect(tt,Me+Ze,Ze);Me+=T[H]}}xe=!0},je=()=>{ce&&(Ue(),pe()),xe=!1};return Ue(),w(se,et,je)},bx=(r,e)=>{const t=r.createBiquadFilter();return hi(t,e),Dr(t,e,"Q"),Dr(t,e,"detune"),Dr(t,e,"frequency"),Dr(t,e,"gain"),vr(t,e,"type"),t},gA=(r,e)=>(t,i)=>{const a=t.createChannelMerger(i.numberOfInputs);return r!==null&&r.name==="webkitAudioContext"&&e(t,a),hi(a,i),a},vA=r=>{const e=r.numberOfOutputs;Object.defineProperty(r,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw _i()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw _i()}}),Object.defineProperty(r,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw _i()}})},id=(r,e)=>{const t=r.createChannelSplitter(e.numberOfOutputs);return hi(t,e),vA(t),t},bA=(r,e,t,i,a)=>(o,h)=>{if(o.createConstantSource===void 0)return t(o,h);const c=o.createConstantSource();return hi(c,h),Dr(c,h,"offset"),e(i,()=>i(o))||vg(c),e(a,()=>a(o))||bg(c),r(o,c),c},Mh=(r,e)=>(r.connect=e.connect.bind(e),r.disconnect=e.disconnect.bind(e),r),yA=(r,e,t,i)=>(a,{offset:o,...h})=>{const c=a.createBuffer(1,2,44100),f=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t(a,{...h,gain:o}),m=c.getChannelData(0);m[0]=1,m[1]=1,f.buffer=c,f.loop=!0;const y={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(S){d.channelCount=S},get channelCountMode(){return d.channelCountMode},set channelCountMode(S){d.channelCountMode=S},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(S){d.channelInterpretation=S},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(S){f.onended=S},addEventListener(...S){return f.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return f.dispatchEvent(S[0])},removeEventListener(...S){return f.removeEventListener(S[0],S[1],S[2])},start(S=0){f.start.call(f,S)},stop(S=0){f.stop.call(f,S)}},w=()=>f.connect(d),b=()=>f.disconnect(d);return r(a,f),i(Mh(y,d),w,b)},xA=(r,e)=>(t,i)=>{const a=t.createConvolver();if(hi(a,i),i.disableNormalization===a.normalize&&(a.normalize=!i.disableNormalization),vr(a,i,"buffer"),i.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>h=>{if(h>2)throw r();return o.call(a,h)}),i.channelCountMode==="max"))throw r();return e(a,"channelCountMode",o=>()=>o.call(a),o=>h=>{if(h==="max")throw r();return o.call(a,h)}),a},yx=(r,e)=>{const t=r.createDelay(e.maxDelayTime);return hi(t,e),Dr(t,e,"delayTime"),t},_A=r=>(e,t)=>{const i=e.createDynamicsCompressor();if(hi(i,t),t.channelCount>2||t.channelCountMode==="max")throw r();return Dr(i,t,"attack"),Dr(i,t,"knee"),Dr(i,t,"ratio"),Dr(i,t,"release"),Dr(i,t,"threshold"),i},ks=(r,e)=>{const t=r.createGain();return hi(t,e),Dr(t,e,"gain"),t},wA=r=>(e,t,i)=>{if(e.createIIRFilter===void 0)return r(e,t,i);const a=e.createIIRFilter(i.feedforward,i.feedback);return hi(a,i),a};function SA(r,e){const t=e[0]*e[0]+e[1]*e[1];return[(r[0]*e[0]+r[1]*e[1])/t,(r[1]*e[0]-r[0]*e[1])/t]}function AA(r,e){return[r[0]*e[0]-r[1]*e[1],r[0]*e[1]+r[1]*e[0]]}function rb(r,e){let t=[0,0];for(let i=r.length-1;i>=0;i-=1)t=AA(t,e),t[0]+=r[i];return t}const NA=(r,e,t,i)=>(a,o,{channelCount:h,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:m})=>{const y=vx(o,a.sampleRate),w=d instanceof Float64Array?d:new Float64Array(d),b=m instanceof Float64Array?m:new Float64Array(m),S=w.length,N=b.length,C=Math.min(S,N);if(S===0||S>20)throw i();if(w[0]===0)throw e();if(N===0||N>20)throw i();if(b[0]===0)throw e();if(w[0]!==1){for(let j=0;j<N;j+=1)b[j]/=w[0];for(let j=1;j<S;j+=1)w[j]/=w[0]}const T=t(a,y,h,h);T.channelCount=h,T.channelCountMode=c,T.channelInterpretation=f;const R=32,D=[],F=[],B=[];for(let j=0;j<h;j+=1){D.push(0);const V=new Float32Array(R),K=new Float32Array(R);V.fill(0),K.fill(0),F.push(V),B.push(K)}T.onaudioprocess=j=>{const V=j.inputBuffer,K=j.outputBuffer,E=V.numberOfChannels;for(let I=0;I<E;I+=1){const te=V.getChannelData(I),U=K.getChannelData(I);D[I]=gx(w,S,b,N,C,F[I],B[I],D[I],R,te,U)}};const W=a.sampleRate/2;return Mh({get bufferSize(){return y},get channelCount(){return T.channelCount},set channelCount(j){T.channelCount=j},get channelCountMode(){return T.channelCountMode},set channelCountMode(j){T.channelCountMode=j},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(j){T.channelInterpretation=j},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},addEventListener(...j){return T.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return T.dispatchEvent(j[0])},getFrequencyResponse(j,V,K){if(j.length!==V.length||V.length!==K.length)throw r();const E=j.length;for(let I=0;I<E;I+=1){const te=-Math.PI*(j[I]/W),U=[Math.cos(te),Math.sin(te)],ue=rb(b,U),$=rb(w,U),ie=SA(ue,$);V[I]=Math.sqrt(ie[0]*ie[0]+ie[1]*ie[1]),K[I]=Math.atan2(ie[1],ie[0])}},removeEventListener(...j){return T.removeEventListener(j[0],j[1],j[2])}},T)},CA=(r,e)=>r.createMediaElementSource(e.mediaElement),TA=(r,e)=>{const t=r.createMediaStreamDestination();return hi(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},EA=(r,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((o,h)=>o.id<h.id?-1:o.id>h.id?1:0);const i=t.slice(0,1),a=r.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(a,"mediaStream",{value:e}),a},kA=(r,e)=>(t,{mediaStreamTrack:i})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(i);const a=new MediaStream([i]),o=t.createMediaStreamSource(a);if(i.kind!=="audio")throw r();if(e(t))throw new TypeError;return o},OA=r=>r===null?null:r.hasOwnProperty("OfflineAudioContext")?r.OfflineAudioContext:r.hasOwnProperty("webkitOfflineAudioContext")?r.webkitOfflineAudioContext:null,LA=(r,e,t,i,a,o)=>(h,c)=>{const f=h.createOscillator();return hi(f,c),Dr(f,c,"detune"),Dr(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):vr(f,c,"type"),e(t,()=>t(h))||vg(f),e(i,()=>i(h))||o(f,h),e(a,()=>a(h))||bg(f),r(h,f),f},MA=r=>(e,t)=>{const i=e.createPanner();return i.orientationX===void 0?r(e,t):(hi(i,t),Dr(i,t,"orientationX"),Dr(i,t,"orientationY"),Dr(i,t,"orientationZ"),Dr(i,t,"positionX"),Dr(i,t,"positionY"),Dr(i,t,"positionZ"),vr(i,t,"coneInnerAngle"),vr(i,t,"coneOuterAngle"),vr(i,t,"coneOuterGain"),vr(i,t,"distanceModel"),vr(i,t,"maxDistance"),vr(i,t,"panningModel"),vr(i,t,"refDistance"),vr(i,t,"rolloffFactor"),i)},jA=(r,e,t,i,a,o,h,c,f,d)=>(m,{coneInnerAngle:y,coneOuterAngle:w,coneOuterGain:b,distanceModel:S,maxDistance:N,orientationX:C,orientationY:T,orientationZ:R,panningModel:D,positionX:F,positionY:B,positionZ:W,refDistance:G,rolloffFactor:j,...V})=>{const K=m.createPanner();if(V.channelCount>2||V.channelCountMode==="max")throw h();hi(K,V);const E={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},I=t(m,{...E,channelInterpretation:"speakers",numberOfInputs:6}),te=i(m,{...V,gain:1}),U=i(m,{...E,gain:1}),ue=i(m,{...E,gain:0}),$=i(m,{...E,gain:0}),ie=i(m,{...E,gain:0}),se=i(m,{...E,gain:0}),fe=i(m,{...E,gain:0}),we=a(m,256,6,1),X=o(m,{...E,curve:new Float32Array([1,1]),oversample:"none"});let L=[C,T,R],P=[F,B,W];const J=new Float32Array(1);we.onaudioprocess=({inputBuffer:de})=>{const xe=[f(de,J,0),f(de,J,1),f(de,J,2)];xe.some((Ue,Qe)=>Ue!==L[Qe])&&(K.setOrientation(...xe),L=xe);const Te=[f(de,J,3),f(de,J,4),f(de,J,5)];Te.some((Ue,Qe)=>Ue!==P[Qe])&&(K.setPosition(...Te),P=Te)},Object.defineProperty(ue.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ie.gain,"defaultValue",{get:()=>0}),Object.defineProperty(se.gain,"defaultValue",{get:()=>0}),Object.defineProperty(fe.gain,"defaultValue",{get:()=>0});const re={get bufferSize(){},get channelCount(){return K.channelCount},set channelCount(de){if(de>2)throw h();te.channelCount=de,K.channelCount=de},get channelCountMode(){return K.channelCountMode},set channelCountMode(de){if(de==="max")throw h();te.channelCountMode=de,K.channelCountMode=de},get channelInterpretation(){return K.channelInterpretation},set channelInterpretation(de){te.channelInterpretation=de,K.channelInterpretation=de},get coneInnerAngle(){return K.coneInnerAngle},set coneInnerAngle(de){K.coneInnerAngle=de},get coneOuterAngle(){return K.coneOuterAngle},set coneOuterAngle(de){K.coneOuterAngle=de},get coneOuterGain(){return K.coneOuterGain},set coneOuterGain(de){if(de<0||de>1)throw e();K.coneOuterGain=de},get context(){return K.context},get distanceModel(){return K.distanceModel},set distanceModel(de){K.distanceModel=de},get inputs(){return[te]},get maxDistance(){return K.maxDistance},set maxDistance(de){if(de<0)throw new RangeError;K.maxDistance=de},get numberOfInputs(){return K.numberOfInputs},get numberOfOutputs(){return K.numberOfOutputs},get orientationX(){return U.gain},get orientationY(){return ue.gain},get orientationZ(){return $.gain},get panningModel(){return K.panningModel},set panningModel(de){K.panningModel=de},get positionX(){return ie.gain},get positionY(){return se.gain},get positionZ(){return fe.gain},get refDistance(){return K.refDistance},set refDistance(de){if(de<0)throw new RangeError;K.refDistance=de},get rolloffFactor(){return K.rolloffFactor},set rolloffFactor(de){if(de<0)throw new RangeError;K.rolloffFactor=de},addEventListener(...de){return te.addEventListener(de[0],de[1],de[2])},dispatchEvent(...de){return te.dispatchEvent(de[0])},removeEventListener(...de){return te.removeEventListener(de[0],de[1],de[2])}};y!==re.coneInnerAngle&&(re.coneInnerAngle=y),w!==re.coneOuterAngle&&(re.coneOuterAngle=w),b!==re.coneOuterGain&&(re.coneOuterGain=b),S!==re.distanceModel&&(re.distanceModel=S),N!==re.maxDistance&&(re.maxDistance=N),C!==re.orientationX.value&&(re.orientationX.value=C),T!==re.orientationY.value&&(re.orientationY.value=T),R!==re.orientationZ.value&&(re.orientationZ.value=R),D!==re.panningModel&&(re.panningModel=D),F!==re.positionX.value&&(re.positionX.value=F),B!==re.positionY.value&&(re.positionY.value=B),W!==re.positionZ.value&&(re.positionZ.value=W),G!==re.refDistance&&(re.refDistance=G),j!==re.rolloffFactor&&(re.rolloffFactor=j),(L[0]!==1||L[1]!==0||L[2]!==0)&&K.setOrientation(...L),(P[0]!==0||P[1]!==0||P[2]!==0)&&K.setPosition(...P);const ce=()=>{te.connect(K),r(te,X,0,0),X.connect(U).connect(I,0,0),X.connect(ue).connect(I,0,1),X.connect($).connect(I,0,2),X.connect(ie).connect(I,0,3),X.connect(se).connect(I,0,4),X.connect(fe).connect(I,0,5),I.connect(we).connect(m.destination)},pe=()=>{te.disconnect(K),c(te,X,0,0),X.disconnect(U),U.disconnect(I),X.disconnect(ue),ue.disconnect(I),X.disconnect($),$.disconnect(I),X.disconnect(ie),ie.disconnect(I),X.disconnect(se),se.disconnect(I),X.disconnect(fe),fe.disconnect(I),I.disconnect(we),we.disconnect(m.destination)};return d(Mh(re,K),ce,pe)},DA=r=>(e,{disableNormalization:t,imag:i,real:a})=>{const o=i instanceof Float32Array?i:new Float32Array(i),h=a instanceof Float32Array?a:new Float32Array(a),c=e.createPeriodicWave(h,o,{disableNormalization:t});if(Array.from(i).length<2)throw r();return c},sd=(r,e,t,i)=>r.createScriptProcessor(e,t,i),RA=(r,e)=>(t,i)=>{const a=i.channelCountMode;if(a==="clamped-max")throw e();if(t.createStereoPanner===void 0)return r(t,i);const o=t.createStereoPanner();return hi(o,i),Dr(o,i,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:h=>{if(h!==a)throw e()}}),o},IA=(r,e,t,i,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...d,oversample:"none"},y=(S,N,C,T)=>{const R=new Float32Array(16385),D=new Float32Array(16385);for(let V=0;V<16385;V+=1){const K=V/16384*f;R[V]=Math.cos(K),D[V]=Math.sin(K)}const F=t(S,{...d,gain:0}),B=i(S,{...m,curve:R}),W=i(S,{...m,curve:c}),G=t(S,{...d,gain:0}),j=i(S,{...m,curve:D});return{connectGraph(){N.connect(F),N.connect(W.inputs===void 0?W:W.inputs[0]),N.connect(G),W.connect(C),C.connect(B.inputs===void 0?B:B.inputs[0]),C.connect(j.inputs===void 0?j:j.inputs[0]),B.connect(F.gain),j.connect(G.gain),F.connect(T,0,0),G.connect(T,0,1)},disconnectGraph(){N.disconnect(F),N.disconnect(W.inputs===void 0?W:W.inputs[0]),N.disconnect(G),W.disconnect(C),C.disconnect(B.inputs===void 0?B:B.inputs[0]),C.disconnect(j.inputs===void 0?j:j.inputs[0]),B.disconnect(F.gain),j.disconnect(G.gain),F.disconnect(T,0,0),G.disconnect(T,0,1)}}},w=(S,N,C,T)=>{const R=new Float32Array(16385),D=new Float32Array(16385),F=new Float32Array(16385),B=new Float32Array(16385),W=Math.floor(16385/2);for(let ie=0;ie<16385;ie+=1)if(ie>W){const se=(ie-W)/(16384-W)*f;R[ie]=Math.cos(se),D[ie]=Math.sin(se),F[ie]=0,B[ie]=1}else{const se=ie/(16384-W)*f;R[ie]=1,D[ie]=0,F[ie]=Math.cos(se),B[ie]=Math.sin(se)}const G=e(S,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),j=t(S,{...d,gain:0}),V=i(S,{...m,curve:R}),K=t(S,{...d,gain:0}),E=i(S,{...m,curve:D}),I=i(S,{...m,curve:c}),te=t(S,{...d,gain:0}),U=i(S,{...m,curve:F}),ue=t(S,{...d,gain:0}),$=i(S,{...m,curve:B});return{connectGraph(){N.connect(G),N.connect(I.inputs===void 0?I:I.inputs[0]),G.connect(j,0),G.connect(K,0),G.connect(te,1),G.connect(ue,1),I.connect(C),C.connect(V.inputs===void 0?V:V.inputs[0]),C.connect(E.inputs===void 0?E:E.inputs[0]),C.connect(U.inputs===void 0?U:U.inputs[0]),C.connect($.inputs===void 0?$:$.inputs[0]),V.connect(j.gain),E.connect(K.gain),U.connect(te.gain),$.connect(ue.gain),j.connect(T,0,0),te.connect(T,0,0),K.connect(T,0,1),ue.connect(T,0,1)},disconnectGraph(){N.disconnect(G),N.disconnect(I.inputs===void 0?I:I.inputs[0]),G.disconnect(j,0),G.disconnect(K,0),G.disconnect(te,1),G.disconnect(ue,1),I.disconnect(C),C.disconnect(V.inputs===void 0?V:V.inputs[0]),C.disconnect(E.inputs===void 0?E:E.inputs[0]),C.disconnect(U.inputs===void 0?U:U.inputs[0]),C.disconnect($.inputs===void 0?$:$.inputs[0]),V.disconnect(j.gain),E.disconnect(K.gain),U.disconnect(te.gain),$.disconnect(ue.gain),j.disconnect(T,0,0),te.disconnect(T,0,0),K.disconnect(T,0,1),ue.disconnect(T,0,1)}}},b=(S,N,C,T,R)=>{if(N===1)return y(S,C,T,R);if(N===2)return w(S,C,T,R);throw a()};return(S,{channelCount:N,channelCountMode:C,pan:T,...R})=>{if(C==="max")throw a();const D=r(S,{...R,channelCount:1,channelCountMode:C,numberOfInputs:2}),F=t(S,{...R,channelCount:N,channelCountMode:C,gain:1}),B=t(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:T});let{connectGraph:W,disconnectGraph:G}=b(S,N,F,B,D);Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"maxValue",{get:()=>1}),Object.defineProperty(B.gain,"minValue",{get:()=>-1});const j={get bufferSize(){},get channelCount(){return F.channelCount},set channelCount(I){F.channelCount!==I&&(V&&G(),{connectGraph:W,disconnectGraph:G}=b(S,I,F,B,D),V&&W()),F.channelCount=I},get channelCountMode(){return F.channelCountMode},set channelCountMode(I){if(I==="clamped-max"||I==="max")throw a();F.channelCountMode=I},get channelInterpretation(){return F.channelInterpretation},set channelInterpretation(I){F.channelInterpretation=I},get context(){return F.context},get inputs(){return[F]},get numberOfInputs(){return F.numberOfInputs},get numberOfOutputs(){return F.numberOfOutputs},get pan(){return B.gain},addEventListener(...I){return F.addEventListener(I[0],I[1],I[2])},dispatchEvent(...I){return F.dispatchEvent(I[0])},removeEventListener(...I){return F.removeEventListener(I[0],I[1],I[2])}};let V=!1;const K=()=>{W(),V=!0},E=()=>{G(),V=!1};return o(Mh(j,D),K,E)}},VA=(r,e,t,i,a,o,h)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,f);hi(d,f);const m=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(m!==null&&m.length<2)throw e();vr(d,{curve:m},"curve"),vr(d,f,"oversample");let y=null,w=!1;return h(d,"curve",N=>()=>N.call(d),N=>C=>(N.call(d,C),w&&(i(C)&&y===null?y=r(c,d):!i(C)&&y!==null&&(y(),y=null)),C)),a(d,()=>{w=!0,i(d.curve)&&(y=r(c,d))},()=>{w=!1,y!==null&&(y(),y=null)})},FA=(r,e,t,i,a)=>(o,{curve:h,oversample:c,...f})=>{const d=o.createWaveShaper(),m=o.createWaveShaper();hi(d,f),hi(m,f);const y=t(o,{...f,gain:1}),w=t(o,{...f,gain:-1}),b=t(o,{...f,gain:1}),S=t(o,{...f,gain:-1});let N=null,C=!1,T=null;const R={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(B){y.channelCount=B,w.channelCount=B,d.channelCount=B,b.channelCount=B,m.channelCount=B,S.channelCount=B},get channelCountMode(){return d.channelCountMode},set channelCountMode(B){y.channelCountMode=B,w.channelCountMode=B,d.channelCountMode=B,b.channelCountMode=B,m.channelCountMode=B,S.channelCountMode=B},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(B){y.channelInterpretation=B,w.channelInterpretation=B,d.channelInterpretation=B,b.channelInterpretation=B,m.channelInterpretation=B,S.channelInterpretation=B},get context(){return d.context},get curve(){return T},set curve(B){if(B!==null&&B.length<2)throw e();if(B===null)d.curve=B,m.curve=B;else{const W=B.length,G=new Float32Array(W+2-W%2),j=new Float32Array(W+2-W%2);G[0]=B[0],j[0]=-B[W-1];const V=Math.ceil((W+1)/2),K=(W+1)/2-1;for(let E=1;E<V;E+=1){const I=E/V*K,te=Math.floor(I),U=Math.ceil(I);G[E]=te===U?B[te]:(1-(I-te))*B[te]+(1-(U-I))*B[U],j[E]=te===U?-B[W-1-te]:-((1-(I-te))*B[W-1-te])-(1-(U-I))*B[W-1-U]}G[V]=W%2===1?B[V-1]:(B[V-2]+B[V-1])/2,d.curve=G,m.curve=j}T=B,C&&(i(T)&&N===null?N=r(o,y):N!==null&&(N(),N=null))},get inputs(){return[y]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(B){d.oversample=B,m.oversample=B},addEventListener(...B){return y.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return y.dispatchEvent(B[0])},removeEventListener(...B){return y.removeEventListener(B[0],B[1],B[2])}};h!==null&&(R.curve=h instanceof Float32Array?h:new Float32Array(h)),c!==R.oversample&&(R.oversample=c);const D=()=>{y.connect(d).connect(b),y.connect(w).connect(m).connect(S).connect(b),C=!0,i(T)&&(N=r(o,y))},F=()=>{y.disconnect(d),d.disconnect(b),y.disconnect(w),w.disconnect(m),m.disconnect(S),S.disconnect(b),C=!1,N!==null&&(N(),N=null)};return a(Mh(R,b),D,F)},ss=()=>new DOMException("","NotSupportedError"),BA={numberOfChannels:1},qA=(r,e,t,i,a)=>class extends r{constructor(h,c,f){let d;if(typeof h=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:h,sampleRate:f};else if(typeof h=="object")d=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:y,sampleRate:w}={...BA,...d},b=i(y,m,w);e(Hf,()=>Hf(b))||b.addEventListener("statechange",(()=>{let S=0;const N=C=>{this._state==="running"&&(S>0?(b.removeEventListener("statechange",N),C.stopImmediatePropagation(),this._waitForThePromiseToSettle(C)):S+=1)};return N})()),super(b,y),this._length=m,this._nativeOfflineAudioContext=b,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,ux(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},zA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},PA=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...zA,...d},w=t(m,y),b=o(m),S=b?i():null,N=f.sampleRate/2;super(f,!1,w,S),this._detune=e(this,b,w.detune,153600,-153600),this._frequency=e(this,b,w.frequency,N,-N),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=S,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeOscillatorNode.onended=d;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===d?f:m}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){Eh(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),gl(this)&&td(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},UA=(r,e,t,i,a)=>()=>{const o=new WeakMap;let h=null,c=null,f=null;const d=async(m,y)=>{let w=t(m);const b=Gi(w,y);if(!b){const S={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,detune:w.detune.value,frequency:w.frequency.value,periodicWave:h===null?void 0:h,type:w.type};w=e(y,S),c!==null&&w.start(c),f!==null&&w.stop(f)}return o.set(y,w),b?(await r(y,m.detune,w.detune),await r(y,m.frequency,w.frequency)):(await i(y,m.detune,w.detune),await i(y,m.frequency,w.frequency)),await a(m,y,w),w};return{set periodicWave(m){h=m},set start(m){c=m},set stop(m){f=m},render(m,y){const w=o.get(y);return w!==void 0?Promise.resolve(w):d(m,y)}}},HA={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},GA=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...HA,...d},w=t(m,y),b=o(m),S=b?i():null;super(f,!1,w,S),this._nativePannerNode=w,this._orientationX=e(this,b,w.orientationX,ns,Ts),this._orientationY=e(this,b,w.orientationY,ns,Ts),this._orientationZ=e(this,b,w.orientationZ,ns,Ts),this._positionX=e(this,b,w.positionX,ns,Ts),this._positionY=e(this,b,w.positionY,ns,Ts),this._positionZ=e(this,b,w.positionZ,ns,Ts),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},WA=(r,e,t,i,a,o,h,c,f,d)=>()=>{const m=new WeakMap;let y=null;const w=async(b,S)=>{let N=null,C=o(b);const T={channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation},R={...T,coneInnerAngle:C.coneInnerAngle,coneOuterAngle:C.coneOuterAngle,coneOuterGain:C.coneOuterGain,distanceModel:C.distanceModel,maxDistance:C.maxDistance,panningModel:C.panningModel,refDistance:C.refDistance,rolloffFactor:C.rolloffFactor},D=Gi(C,S);if("bufferSize"in C)N=i(S,{...T,gain:1});else if(!D){const F={...R,orientationX:C.orientationX.value,orientationY:C.orientationY.value,orientationZ:C.orientationZ.value,positionX:C.positionX.value,positionY:C.positionY.value,positionZ:C.positionZ.value};C=a(S,F)}if(m.set(S,N===null?C:N),N!==null){if(y===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const E=new h(6,b.context.length,S.sampleRate),I=e(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});I.connect(E.destination),y=(async()=>{const te=await Promise.all([b.orientationX,b.orientationY,b.orientationZ,b.positionX,b.positionY,b.positionZ].map(async(U,ue)=>{const $=t(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue===0?1:0});return await c(E,U,$.offset),$}));for(let U=0;U<6;U+=1)te[U].connect(I,0,U),te[U].start(0);return d(E)})()}const F=await y,B=i(S,{...T,gain:1});await f(b,S,B);const W=[];for(let E=0;E<F.numberOfChannels;E+=1)W.push(F.getChannelData(E));let G=[W[0][0],W[1][0],W[2][0]],j=[W[3][0],W[4][0],W[5][0]],V=i(S,{...T,gain:1}),K=a(S,{...R,orientationX:G[0],orientationY:G[1],orientationZ:G[2],positionX:j[0],positionY:j[1],positionZ:j[2]});B.connect(V).connect(K.inputs[0]),K.connect(N);for(let E=128;E<F.length;E+=128){const I=[W[0][E],W[1][E],W[2][E]],te=[W[3][E],W[4][E],W[5][E]];if(I.some((U,ue)=>U!==G[ue])||te.some((U,ue)=>U!==j[ue])){G=I,j=te;const U=E/S.sampleRate;V.gain.setValueAtTime(0,U),V=i(S,{...T,gain:0}),K=a(S,{...R,orientationX:G[0],orientationY:G[1],orientationZ:G[2],positionX:j[0],positionY:j[1],positionZ:j[2]}),V.gain.setValueAtTime(1,U),B.connect(V).connect(K.inputs[0]),K.connect(N)}}return N}return D?(await r(S,b.orientationX,C.orientationX),await r(S,b.orientationY,C.orientationY),await r(S,b.orientationZ,C.orientationZ),await r(S,b.positionX,C.positionX),await r(S,b.positionY,C.positionY),await r(S,b.positionZ,C.positionZ)):(await c(S,b.orientationX,C.orientationX),await c(S,b.orientationY,C.orientationY),await c(S,b.orientationZ,C.orientationZ),await c(S,b.positionX,C.positionX),await c(S,b.positionY,C.positionY),await c(S,b.positionZ,C.positionZ)),Lh(C)?await f(b,S,C.inputs[0]):await f(b,S,C),C};return{render(b,S){const N=m.get(S);return N!==void 0?Promise.resolve(N):w(b,S)}}},YA={disableNormalization:!1},XA=(r,e,t,i)=>class xx{constructor(o,h){const c=e(o),f=i({...YA,...h}),d=r(c,f);return t.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===xx.prototype||t.has(o)}},ZA=(r,e)=>(t,i,a)=>(r(i).replay(a),e(i,t,a)),$A=(r,e,t)=>async(i,a,o)=>{const h=r(i);await Promise.all(h.activeInputs.map((c,f)=>Array.from(c).map(async([d,m])=>{const w=await e(d).render(d,a),b=i.context.destination;!t(d)&&(i!==b||!t(i))&&w.connect(o,m,f)})).reduce((c,f)=>[...c,...f],[]))},KA=(r,e,t)=>async(i,a,o)=>{const h=e(i);await Promise.all(Array.from(h.activeInputs).map(async([c,f])=>{const m=await r(c).render(c,a);t(c)||m.connect(o,f)}))},QA=(r,e,t,i)=>a=>r(Hf,()=>Hf(a))?Promise.resolve(r(i,i)).then(o=>{if(!o){const h=t(a,512,0,1);a.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>a.currentTime,h.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const h=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{h.disconnect(),o(c.renderedBuffer)},h.connect(a.destination),a.startRendering()}),JA=r=>(e,t)=>{r.set(e,t)},eN=r=>(e,t)=>r.set(e,t),tN=(r,e,t,i,a,o,h,c)=>(f,d)=>t(f).render(f,d).then(()=>Promise.all(Array.from(i(d)).map(m=>t(m).render(m,d)))).then(()=>a(d)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),pg(m)):e(o,()=>o(m))||c(m),r.add(m),m)),nN={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},rN=(r,e,t,i,a,o)=>class extends r{constructor(c,f){const d=a(c),m={...nN,...f},y=t(d,m),w=o(d),b=w?i():null;super(c,!1,y,b),this._pan=e(this,w,y.pan)}get pan(){return this._pan}},iN=(r,e,t,i,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=Gi(d,f);if(!m){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=e(f,y)}return o.set(f,d),m?await r(f,c.pan,d.pan):await i(f,c.pan,d.pan),Lh(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},sN=r=>()=>{if(r===null)return!1;try{new r({length:1,sampleRate:44100})}catch{return!1}return!0},aN=(r,e)=>async()=>{if(r===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),a=URL.createObjectURL(t);let o=!1,h=!1;try{await i.audioWorklet.addModule(a);const c=new r(i,"a",{numberOfOutputs:0}),f=i.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>h=!0,f.connect(c),f.start(0),await i.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!h},oN=(r,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),i=r(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{t.oncomplete=()=>{i.disconnect(),a(t.currentTime!==0)},t.startRendering()})},lN=()=>new DOMException("","UnknownError"),cN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},uN=(r,e,t,i,a,o,h)=>class extends r{constructor(f,d){const m=a(f),y={...cN,...d},w=t(m,y),S=o(m)?i():null;super(f,!0,w,S),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},hN=(r,e,t)=>()=>{const i=new WeakMap,a=async(o,h)=>{let c=e(o);if(!Gi(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=r(h,d)}return i.set(h,c),Lh(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=i.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},fN=()=>typeof window>"u"?null:window,dN=(r,e)=>t=>{t.copyFromChannel=(i,a,o=0)=>{const h=r(o),c=r(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=i.length;for(let y=h<0?-h:0;y+h<f&&y<m;y+=1)i[y]=d[y+h]},t.copyToChannel=(i,a,o=0)=>{const h=r(o),c=r(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=i.length;for(let y=h<0?-h:0;y+h<f&&y<m;y+=1)d[y+h]=i[y]}},pN=r=>e=>{e.copyFromChannel=(t=>(i,a,o=0)=>{const h=r(o),c=r(a);if(h<e.length)return t.call(e,i,c,h)})(e.copyFromChannel),e.copyToChannel=(t=>(i,a,o=0)=>{const h=r(o),c=r(a);if(h<e.length)return t.call(e,i,c,h)})(e.copyToChannel)},mN=r=>(e,t)=>{const i=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=i),r(e,"buffer",a=>()=>{const o=a.call(e);return o===i?null:o},a=>o=>a.call(e,o===null?i:o))},gN=(r,e)=>(t,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw r()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw r()}});const a=t.createBufferSource();e(i,()=>{const c=i.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(i,0,f)},()=>a.disconnect(i))},_x=(r,e,t)=>r.copyFromChannel===void 0?r.getChannelData(t)[0]:(r.copyFromChannel(e,t),e[0]),wx=r=>{if(r===null)return!1;const e=r.length;return e%2!==0?r[Math.floor(e/2)]!==0:r[e/2-1]+r[e/2]!==0},ad=(r,e,t,i)=>{let a=r;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:h}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(r,e,{get:t(o),set:i(h)})},vN=r=>({...r,outputChannelCount:r.outputChannelCount!==void 0?r.outputChannelCount:r.numberOfInputs===1&&r.numberOfOutputs===1?[r.channelCount]:Array.from({length:r.numberOfOutputs},()=>1)}),bN=r=>({...r,channelCount:r.numberOfOutputs}),yN=r=>{const{imag:e,real:t}=r;return e===void 0?t===void 0?{...r,imag:[0,0],real:[0,0]}:{...r,imag:Array.from(t,()=>0),real:t}:t===void 0?{...r,imag:e,real:Array.from(e,()=>0)}:{...r,imag:e,real:t}},Sx=(r,e,t)=>{try{r.setValueAtTime(e,t)}catch(i){if(i.code!==9)throw i;Sx(r,e,t+1e-7)}},xN=r=>{const e=r.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},_N=r=>{const e=r.createBufferSource(),t=r.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},wN=r=>{const e=r.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},yg=r=>{const e=r.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},Ax=r=>{const e=r.createBuffer(1,1,44100),t=r.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},xg=r=>{const e=r.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},SN=r=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(r)}finally{e.close(),t.close()}},AN=r=>{r.start=(e=>(t=0,i=0,a)=>{const o=r.buffer,h=o===null?i:Math.min(o.duration,i);o!==null&&h>o.duration-.5/r.context.sampleRate?e.call(r,t,0,0):e.call(r,t,h,a)})(r.start)},Nx=(r,e)=>{const t=e.createGain();r.connect(t);const i=(a=>()=>{a.call(r,t),r.removeEventListener("ended",i)})(r.disconnect);r.addEventListener("ended",i),Mh(r,t),r.stop=(a=>{let o=!1;return(h=0)=>{if(o)try{a.call(r,h)}catch{t.gain.setValueAtTime(0,h)}else a.call(r,h),o=!0}})(r.stop)},jh=(r,e)=>t=>{const i={value:r};return Object.defineProperties(t,{currentTarget:i,target:i}),typeof e=="function"?e.call(r,t):e.handleEvent.call(r,t)},NN=G4(hu),CN=K4(hu),TN=c6(dp),Cx=new WeakMap,EN=T6(Cx),ro=BS(new Map,new WeakMap),jo=fN(),Tx=rA(ro,Do),_g=C6(rs),ji=$A(rs,_g,ou),kN=nS(Tx,ur,ji),tr=O6(fp),_l=OA(jo),Xn=Y6(_l),Ex=new WeakMap,kx=y6(jh),od=oA(jo),wg=U6(od),Sg=H6(jo),Ox=G6(jo),Gf=cA(jo),Ur=TS(W4(rx),$4(NN,CN,U1,TN,H1,rs,EN,ed,ur,hu,gl,ou,E1),ro,F6(Vm,H1,rs,ur,Uf,gl),Do,pp,ss,s6(U1,Vm,rs,ur,Uf,tr,gl,Xn),f6(Ex,rs,Qa),kx,tr,wg,Sg,Ox,Xn,Gf),ON=tS(Ur,kN,Do,Tx,tr,Xn),Ag=new WeakSet,ib=iA(jo),Lx=QS(new Uint32Array(1)),Ng=dN(Lx,Do),Cg=pN(Lx),Mx=iS(Ag,ro,ss,ib,_l,sN(ib),Ng,Cg),mp=Q4(ks),jx=KA(_g,nd,ou),Ro=WS(jx),Dh=aA(mp,ro,xN,_N,wN,yg,Ax,xg,AN,mN(ad),Nx),Io=ZA(E6(nd),jx),LN=oS(Ro,Dh,ur,Io,ji),io=ES(Y4(ix),Ex,dg,kS,B4,q4,z4,P4,U4,Dm,tx,od,Sx),MN=aS(Ur,LN,io,_i,Dh,tr,Xn,jh),jN=gS(Ur,vS,Do,_i,lA(ks,ad),tr,Xn,ji),DN=FS(Ro,bx,ur,Io,ji),fu=eN(Cx),RN=VS(Ur,io,DN,pp,bx,tr,Xn,fu),yc=tA(hu,Sg),IN=gN(_i,yc),xc=gA(od,IN),VN=PS(xc,ur,ji),FN=zS(Ur,VN,xc,tr,Xn),BN=GS(id,ur,ji),qN=HS(Ur,BN,id,tr,Xn,bN),zN=yA(mp,Dh,ks,yc),Rh=bA(mp,ro,zN,yg,xg),PN=KS(Ro,Rh,ur,Io,ji),UN=$S(Ur,io,PN,Rh,tr,Xn,jh),Dx=xA(ss,ad),HN=t6(Dx,ur,ji),GN=e6(Ur,HN,Dx,tr,Xn,fu),WN=l6(Ro,yx,ur,Io,ji),YN=o6(Ur,io,WN,yx,tr,Xn,fu),Rx=_A(ss),XN=g6(Ro,Rx,ur,Io,ji),ZN=m6(Ur,io,XN,Rx,ss,tr,Xn,fu),$N=A6(Ro,ks,ur,Io,ji),KN=S6(Ur,io,$N,ks,tr,Xn),QN=NA(pp,_i,sd,ss),gp=QA(ro,ks,sd,oN(ks,_l)),JN=V6(Dh,ur,_l,ji,gp),e8=wA(QN),t8=R6(Ur,e8,JN,tr,Xn,fu),n8=bS(io,xc,Rh,sd,ss,_x,Xn,ad),Ix=new WeakMap,r8=eA(jN,n8,kx,Xn,Ix,jh),Vx=LA(mp,ro,yg,Ax,xg,Nx),i8=UA(Ro,Vx,ur,Io,ji),s8=PA(Ur,io,Vx,i8,tr,Xn,jh),Fx=XS(Dh),a8=FA(Fx,_i,ks,wx,yc),vp=VA(Fx,_i,a8,wx,yc,od,ad),o8=jA(U1,_i,xc,ks,sd,vp,ss,H1,_x,yc),Bx=MA(o8),l8=WA(Ro,xc,Rh,ks,Bx,ur,_l,Io,ji,gp),c8=GA(Ur,io,Bx,l8,tr,Xn,fu),u8=DA(Do),h8=XA(u8,tr,new WeakSet,yN),f8=IA(xc,id,ks,vp,ss,yc),qx=RA(f8,ss),d8=iN(Ro,qx,ur,Io,ji),p8=rN(Ur,io,qx,d8,tr,Xn),m8=hN(vp,ur,ji),g8=uN(Ur,_i,vp,m8,tr,Xn,fu),zx=X6(jo),Tg=x6(jo),Px=new WeakMap,v8=L6(Px,_l),b8=zx?Z4(ro,ss,b6(jo),Tg,_6(H4),tr,v8,Xn,Gf,new WeakMap,new WeakMap,aN(Gf,_l),jo):void 0,y8=W6(wg,Xn),x8=i6(Ag,ro,r6,v6,new WeakSet,tr,y8,z1,Hf,Ng,Cg),Ux=RS(b8,ON,Mx,MN,RN,FN,qN,UN,GN,x8,YN,ZN,KN,t8,r8,s8,c8,h8,p8,g8),_8=Z6(Ur,CA,tr,Xn),w8=K6(Ur,TA,tr,Xn),S8=Q6(Ur,EA,tr,Xn),A8=kA(_i,Xn),N8=J6(Ur,A8,tr),C8=mS(Ux,_i,ss,lN,_8,w8,S8,N8,od),Eg=M6(Ix),T8=J4(Eg),Hx=YS(Do),E8=u6(Eg),Gx=d6(Do),Wx=new WeakMap,k8=N6(Wx,Qa),O8=mA(Hx,Do,_i,xc,id,Rh,ks,sd,ss,Gx,Tg,k8,yc),L8=hA(_i,O8,ks,ss,yc),M8=DS(Ro,Hx,Dh,xc,id,Rh,ks,E8,Gx,Tg,ur,Gf,_l,Io,ji,gp),j8=k6(Px),D8=JA(Wx),sb=zx?LS(T8,Ur,io,M8,L8,rs,j8,tr,Xn,Gf,vN,D8,SN,jh):void 0,R8=n6(ss,_l),I8=tN(Ag,ro,_g,Eg,gp,z1,Ng,Cg),V8=qA(Ux,ro,_i,R8,I8),F8=B6(fp,wg),B8=q6(fg,Sg),q8=z6(dg,Ox),z8=P6(fp,Xn);function ba(r){return r===void 0}function vn(r){return r!==void 0}function P8(r){return typeof r=="function"}function vl(r){return typeof r=="number"}function iu(r){return Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object}function U8(r){return typeof r=="boolean"}function $s(r){return Array.isArray(r)}function bl(r){return typeof r=="string"}function d1(r){return bl(r)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(r)}function Ht(r,e){if(!r)throw new Error(e)}function yl(r,e,t=1/0){if(!(e<=r&&r<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${r}`)}function Yx(r){!r.isOffline&&r.state!=="running"&&bp('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Xx=!1,ab=!1;function ob(r){Xx=r}function H8(r){ba(r)&&Xx&&!ab&&(ab=!0,bp("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Zx=console;function G8(...r){Zx.log(...r)}function bp(...r){Zx.warn(...r)}function W8(r){return new C8(r)}function Y8(r,e,t){return new V8(r,e,t)}const Ws=typeof self=="object"?self:null,X8=Ws&&(Ws.hasOwnProperty("AudioContext")||Ws.hasOwnProperty("webkitAudioContext"));function Z8(r,e,t){return Ht(vn(sb),"AudioWorkletNode only works in a secure context (https or localhost)"),new(r instanceof Ws?.BaseAudioContext?Ws?.AudioWorkletNode:sb)(r,e,t)}function so(r,e,t,i){var a=arguments.length,o=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,i);else for(var c=r.length-1;c>=0;c--)(h=r[c])&&(o=(a<3?h(o):a>3?h(e,t,o):h(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function Jr(r,e,t,i){function a(o){return o instanceof t?o:new t(function(h){h(o)})}return new(t||(t=Promise))(function(o,h){function c(m){try{d(i.next(m))}catch(y){h(y)}}function f(m){try{d(i.throw(m))}catch(y){h(y)}}function d(m){m.done?o(m.value):a(m.value).then(c,f)}d((i=i.apply(r,e||[])).next())})}class $8{constructor(e,t,i,a){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),i=new Worker(t);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function lu(r){return q8(r)}function hc(r){return B8(r)}function k1(r){return z8(r)}function hh(r){return F8(r)}function K8(r){return r instanceof Mx}function Q8(r,e){return r==="value"||lu(e)||hc(e)||K8(e)}function su(r,...e){if(!e.length)return r;const t=e.shift();if(iu(r)&&iu(t))for(const i in t)Q8(i,t[i])?r[i]=t[i]:iu(t[i])?(r[i]||Object.assign(r,{[i]:{}}),su(r[i],t[i])):Object.assign(r,{[i]:t[i]});return su(r,...e)}function J8(r,e){return r.length===e.length&&r.every((t,i)=>e[i]===t)}function Pt(r,e,t=[],i){const a={},o=Array.from(e);if(iu(o[0])&&i&&!Reflect.has(o[0],i)&&(Object.keys(o[0]).some(c=>Reflect.has(r,c))||(su(a,{[i]:o[0]}),t.splice(t.indexOf(i),1),o.shift())),o.length===1&&iu(o[0]))su(a,o[0]);else for(let h=0;h<t.length;h++)vn(o[h])&&(a[t[h]]=o[h]);return su(r,a)}function eC(r){return r.constructor.getDefaults()}function xh(r,e){return ba(r)?e:r}function Za(r,e){return e.forEach(t=>{Reflect.has(r,t)&&delete r[t]}),r}class wl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Ws&&this.toString()===Ws.TONE_DEBUG_CLASS)&&G8(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}wl.version=ex;const kg=1e-6;function kh(r,e){return r>e+kg}function Pm(r,e){return kh(r,e)||Xa(r,e)}function X1(r,e){return r+kg<e}function Xa(r,e){return Math.abs(r-e)<kg}function tC(r,e,t){return Math.max(Math.min(r,t),e)}let Mo=class $x extends wl{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Pt($x.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Ht(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];Ht(Pm(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const i=this._search(e,t);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const i=this._search(e,t);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const i=this._search(e);return i-1>=0?this._timeline[i-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Xa(this._timeline[t].time,e)){for(let i=t;i>=0&&Xa(this._timeline[i].time,e);i--)t=i;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&Pm(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let i=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][t]<=e)return a-1;for(;i<o;){let h=Math.floor(i+(o-i)/2);const c=this._timeline[h],f=this._timeline[h+1];if(Xa(c[t],e)){for(let d=h;d<this._timeline.length;d++){const m=this._timeline[d];if(Xa(m[t],e))h=d;else break}return h}else{if(X1(c[t],e)&&kh(f[t],e))return h;kh(c[t],e)?o=h:i=h+1}}return-1}_iterate(e,t=0,i=this._timeline.length-1){this._timeline.slice(t,i+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const i=this._search(e);return i!==-1&&this._iterate(t,0,i),this}forEachAfter(e,t){const i=this._search(e);return this._iterate(t,i+1),this}forEachBetween(e,t,i){let a=this._search(e),o=this._search(t);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===t&&(o-=1),this._iterate(i,a,o)):a===-1&&this._iterate(i,0,o),this}forEachFrom(e,t){let i=this._search(e);for(;i>=0&&this._timeline[i].time>=e;)i--;return this._iterate(t,i+1),this}forEachAtTime(e,t){const i=this._search(e);if(i!==-1&&Xa(this._timeline[i].time,e)){let a=i;for(let o=i;o>=0&&Xa(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{t(o)},a,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}};const Kx=[];function yp(r){Kx.push(r)}function nC(r){Kx.forEach(e=>e(r))}const Qx=[];function xp(r){Qx.push(r)}function rC(r){Qx.forEach(e=>e(r))}class ld extends wl{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(a=>{ba(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(t)}),this}once(e,t){const i=(...a)=>{t(...a),this.off(e,i)};return this.on(e,i),this}off(e,t){return e.split(/\W+/).forEach(a=>{if(ba(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(ba(t))this._events[a]=[];else{const o=this._events[a];for(let h=o.length-1;h>=0;h--)o[h]===t&&o.splice(h,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(let a=0,o=i.length;a<o;a++)i[a].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const i=Object.getOwnPropertyDescriptor(ld.prototype,t);Object.defineProperty(e.prototype,t,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class Jx extends ld{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let Og=class e3 extends Jx{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Mo,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=Pt(e3.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=W8({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new $8(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(nC(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,i){return this._context.createBuffer(e,t,i)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,i){return this._context.createPeriodicWave(e,t,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Ht(hh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Ht(hh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Ht(hh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Ht(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Ht(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Ht(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Ht(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return Z8(this.rawContext,e,t)}addAudioWorkletModule(e){return Jr(this,void 0,void 0,function*(){Ht(vn(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Jr(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return hh(this._context)?this._context.resume():Promise.resolve()}close(){return Jr(this,void 0,void 0,function*(){hh(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&rC(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),i=t.getChannelData(0);for(let o=0;o<i.length;o++)i[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=t,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:i+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const i=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:i,time:o+t})};return a(),i}};class iC extends Jx{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,i){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Jr(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function hr(r,e){$s(e)?e.forEach(t=>hr(r,t)):Object.defineProperty(r,e,{enumerable:!0,writable:!1})}function Lg(r,e){$s(e)?e.forEach(t=>Lg(r,t)):Object.defineProperty(r,e,{writable:!0})}const Yn=()=>{};class lr extends wl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Yn;const e=Pt(lr.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,bl(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Yn,onload:Yn,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:$a().sampleRate}set(e){return e instanceof lr?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Jr(this,void 0,void 0,function*(){const t=lr.load(e).then(i=>{this.set(i),this.onload(this)});lr.downloads.push(t);try{yield t}finally{const i=lr.downloads.indexOf(t);lr.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=$s(e)&&e[0].length>0,i=t?e.length:1,a=t?e[0].length:e.length,o=$a(),h=o.createBuffer(i,a,o.sampleRate),c=!t&&i===1?[e]:e;for(let f=0;f<i;f++)h.copyToChannel(c[f],f);return this._buffer=h,this}toMono(e){if(vl(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const i=this.numberOfChannels;for(let a=0;a<i;a++){const o=this.toArray(a);for(let h=0;h<o.length;h++)t[h]+=o[h]}t=t.map(a=>a/i),this.fromArray(t)}return this}toArray(e){if(vl(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let i=0;i<this.numberOfChannels;i++)t[i]=this.getChannelData(i);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){Ht(this.loaded,"Buffer is not loaded");const i=Math.floor(e*this.sampleRate),a=Math.floor(t*this.sampleRate);Ht(i<a,"The start time must be less than the end time");const o=a-i,h=$a().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)h.copyToChannel(this.getChannelData(c).subarray(i,a),c);return new lr(h)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new lr().fromArray(e)}static fromUrl(e){return Jr(this,void 0,void 0,function*(){return yield new lr().load(e)})}static load(e){return Jr(this,void 0,void 0,function*(){const t=lr.baseUrl===""||lr.baseUrl.endsWith("/")?lr.baseUrl:lr.baseUrl+"/",i=yield fetch(t+e);if(!i.ok)throw new Error(`could not load url: ${e}`);const a=yield i.arrayBuffer();return yield $a().decodeAudioData(a)})}static supportsType(e){const t=e.split("."),i=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return Jr(this,void 0,void 0,function*(){for(yield Promise.resolve();lr.downloads.length;)yield lr.downloads[0]})}}lr.baseUrl="";lr.downloads=[];class Mg extends Og{constructor(){super({clockSource:"offline",context:k1(arguments[0])?arguments[0]:Y8(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:k1(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=k1(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Jr(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const i=Math.floor(this.sampleRate/128);e&&t%i===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return Jr(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new lr(t)})}close(){return Promise.resolve()}}const t3=new iC;let nu=t3;function $a(){return nu===t3&&X8&&sC(new Og),nu}function sC(r,e=!1){e&&nu.dispose(),hh(r)?nu=new Og(r):k1(r)?nu=new Mg(r):nu=r}function cd(){return nu.resume()}if(Ws&&!Ws.TONE_SILENCE_LOGGING){const e=` * Tone.js v${ex} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function aC(r){return Math.pow(10,r/20)}function oC(r){return 20*(Math.log(r)/Math.LN10)}function n3(r){return Math.pow(2,r/12)}let _p=440;function lC(){return _p}function cC(r){_p=r}function ru(r){return Math.round(r3(r))}function r3(r){return 69+12*Math.log2(r/_p)}function i3(r){return _p*Math.pow(2,(r-69)/12)}class jg extends wl{constructor(e,t,i){super(),this.defaultUnits="s",this._val=t,this._units=i,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const i=parseInt(e,10),a=t==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/i)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,i)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a+=this._beatsToUnits(parseFloat(t))),i&&i!=="0"&&(a+=this._beatsToUnits(parseFloat(i)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof jg&&this.fromType(this._val),ba(this._val))return this._noArg();if(bl(this._val)&&ba(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(iu(this._val)){let e=0;for(const t in this._val)if(vn(this._val[t])){const i=this._val[t],a=new this.constructor(this.context,t).valueOf()*i;e+=a}return e}if(vn(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return bl(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Ka extends jg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Ka(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const i=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),c=Math.round(a/i)*i-a;return a+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let o=1;o<9;o++){const h=Math.pow(2,o);t.push(h+"n."),t.push(h+"n"),t.push(h+"t")}t.push("0");let i=t[0],a=new Ka(this.context,t[0]).toSeconds();return t.forEach(o=>{const h=new Ka(this.context,o).toSeconds();Math.abs(h-e)<Math.abs(a-e)&&(i=o,a=h)}),i}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const i=Math.floor(t/this._getTimeSignature());let a=t%1*4;t=Math.floor(t)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[i,t,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return ru(this.toFrequency())}_now(){return this.context.now()}}class Ys extends Ka{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return lC()}static set A4(e){cC(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Ys.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const a=uC[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?a:Ys.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,i){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a*=this._beatsToUnits(parseFloat(t))),i&&i!=="0"&&(a*=this._beatsToUnits(parseFloat(i)/4)),a}}})}transpose(e){return new Ys(this.context,this.valueOf()*n3(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return ru(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Ys.A4);let i=Math.round(12*t)+57;const a=Math.floor(i/12);return a<0&&(i+=-12*a),hC[i%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return i3(e)}static ftom(e){return ru(e)}}const uC={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},hC=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Df extends Ka{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Es extends wl{constructor(){super();const e=Pt(Es.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:$a()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return H8(e),new Ka(this.context,e).toSeconds()}toFrequency(e){return new Ys(this.context,e).toFrequency()}toTicks(e){return new Df(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(i=>{ba(e[i])&&delete t[i]}),t}get(){const e=eC(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const i=this[t];vn(i)&&vn(i.value)&&vn(i.setValueAtTime)?e[t]=i.value:i instanceof Es?e[t]=i._getPartialProperties(e[t]):$s(i)||vl(i)||bl(i)||U8(i)?e[t]=i:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&vn(this[t])&&(this[t]&&vn(this[t].value)&&vn(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Es?this[t].set(e[t]):this[t]=e[t])}),this}}class Dg extends Mo{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,i){return yl(t,0),this.add(Object.assign({},i,{state:e,time:t})),this}getLastState(e,t){const i=this._search(t);for(let a=i;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,t){const i=this._search(t);if(i!==-1)for(let a=i;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class Jn extends Es{constructor(){const e=Pt(Jn.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Ht(vn(e.param)&&(lu(e.param)||e.param instanceof Jn),"param must be an AudioParam");!lu(e.param);)e.param=e.param._param;this._swappable=vn(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Mo(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,vn(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Es.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return vn(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return vn(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return vn(this.maxValue)&&vn(this.minValue)&&yl(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?aC(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?oC(e):e}setValueAtTime(e,t){const i=this.toSeconds(t),a=this._fromType(e);return Ht(isFinite(a)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,i),this._events.add({time:i,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,i),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),i=this._events.getAfter(t),a=this._events.get(t);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const h=this._events.getBefore(a.time);let c;h===null?c=this._initialValue:c=h.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,t))}else if(i===null)o=a.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let h=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?h=this._initialValue:h=c.value}i.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,h,i.time,i.value,t):o=this._exponentialInterpolate(a.time,h,i.time,i.value,t)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const i=this._fromType(e),a=this.toSeconds(t);return Ht(isFinite(i)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(i),this._events.add({time:a,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(i,a),this}exponentialRampToValueAtTime(e,t){let i=this._fromType(e);i=Xa(i,0)?this._minOutput:i,this._assertRange(i);const a=this.toSeconds(t);return Ht(isFinite(i)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(i,a),this}exponentialRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(e,i+this.toSeconds(t)),this}linearRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(e,i+this.toSeconds(t)),this}targetRampTo(e,t,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(e,i,t),this}exponentialApproachValueAtTime(e,t,i){t=this.toSeconds(t),i=this.toSeconds(i);const a=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(e,t,a),this.cancelAndHoldAtTime(t+i*.9),this.linearRampToValueAtTime(e,t+i),this}setTargetAtTime(e,t,i){const a=this._fromType(e);Ht(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(t);return this._assertRange(a),Ht(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:i,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,i),this._param.setTargetAtTime(a,o,i),this}setValueCurveAtTime(e,t,i,a=1){i=this.toSeconds(i),t=this.toSeconds(t);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),t);const h=i/(e.length-1);for(let c=1;c<e.length;c++){const f=this._fromType(e[c])*a;this.linearRampToValueAtTime(this._toType(f),t+c*h)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return Ht(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),i=this._fromType(this.getValueAtTime(t));Ht(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+i);const a=this._events.get(t),o=this._events.getAfter(t);return a&&Xa(a.time,t)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),t):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),t)),this._events.add({time:t,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,t),this}rampTo(e,t=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,i):this.linearRampTo(e,t,i),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const i=this._events.get(t);if(i&&i.type==="setTargetAtTime"){const a=this._events.getAfter(i.time),o=a?a.time:t+2,h=(o-t)/10;for(let c=t;c<o;c+=h)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){Ht(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,i,a,o){return i+(t-i)*Math.exp(-(o-e)/a)}_linearInterpolate(e,t,i,a,o){return t+(a-t)*((o-e)/(i-e))}_exponentialInterpolate(e,t,i,a,o){return t*Math.pow(a/t,(o-e)/(i-e))}}class $t extends Es{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return vn(this.input)?lu(this.input)||this.input instanceof Jn?1:this.input.numberOfInputs:0}get numberOfOutputs(){return vn(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return vn(e)&&(e instanceof $t||hc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(i=>{i.channelCount=e.channelCount,i.channelCountMode=e.channelCountMode,i.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Ht(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,i=0){return Ih(this,e,t,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return bp("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,i=0){return fC(this,e,t,i),this}chain(...e){return Wf(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),vn(this.input)&&(this.input instanceof $t?this.input.dispose():hc(this.input)&&this.input.disconnect()),vn(this.output)&&(this.output instanceof $t?this.output.dispose():hc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Wf(...r){const e=r.shift();r.reduce((t,i)=>(t instanceof $t?t.connect(i):hc(t)&&Ih(t,i),i),e)}function Ih(r,e,t=0,i=0){for(Ht(vn(r),"Cannot connect from undefined node"),Ht(vn(e),"Cannot connect to undefined node"),(e instanceof $t||hc(e))&&Ht(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Ht(r.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof $t||e instanceof Jn;)vn(e.input)&&(e=e.input);for(;r instanceof $t;)vn(r.output)&&(r=r.output);lu(e)?r.connect(e,t):r.connect(e,t,i)}function fC(r,e,t=0,i=0){if(vn(e))for(;e instanceof $t;)e=e.input;for(;!hc(r);)vn(r.output)&&(r=r.output);lu(e)?r.disconnect(e,t):hc(e)?r.disconnect(e,t,i):r.disconnect()}class ei extends $t{constructor(){const e=Pt(ei.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Jn({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),hr(this,"gain")}static getDefaults(){return Object.assign($t.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Oh extends $t{constructor(e){super(e),this.onended=Yn,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ei({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const i=this.toSeconds(t);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign($t.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Yn})}_startGain(e,t=1){Ht(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=e+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+i):this._gainNode.gain.exponentialApproachValueAtTime(t,e,i)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Ht(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Yn&&(this.onended(this),this.onended=Yn,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Ht(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Yn,this}}class Rg extends Oh{constructor(){const e=Pt(Rg.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Ih(this._source,this._gainNode),this.offset=new Jn({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Oh.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class er extends $t{constructor(){const e=Pt(er.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Rg({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign($t.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,i=0){return Ig(this,e,t,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,i){return this._param.exponentialRampTo(e,t,i),this}linearRampTo(e,t,i){return this._param.linearRampTo(e,t,i),this}targetRampTo(e,t,i){return this._param.targetRampTo(e,t,i),this}exponentialApproachValueAtTime(e,t,i){return this._param.exponentialApproachValueAtTime(e,t,i),this}setTargetAtTime(e,t,i){return this._param.setTargetAtTime(e,t,i),this}setValueCurveAtTime(e,t,i,a){return this._param.setValueCurveAtTime(e,t,i,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,i){return this._param.rampTo(e,t,i),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Ig(r,e,t,i){(e instanceof Jn||lu(e)||e instanceof er&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof er&&(e.overridden=!0)),Ih(r,e,t,i)}class Vg extends Jn{constructor(){const e=Pt(Vg.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Mo(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Jn.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,i){t=this.toSeconds(t),this.setRampPoint(t);const a=this._fromType(e),o=this._events.get(t),h=Math.round(Math.max(1/i,1));for(let c=0;c<=h;c++){const f=i*c+t,d=this._exponentialApproach(o.time,o.value,a,i,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(e,t){const i=this.toSeconds(t);super.setValueAtTime(e,t);const a=this._events.get(i),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,i);return a.ticks=Math.max(h,0),this}linearRampToValueAtTime(e,t){const i=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const a=this._events.get(i),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,i);return a.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const i=this._fromType(e),a=this._events.get(t),o=Math.round(Math.max((t-a.time)*10,1)),h=(t-a.time)/o;for(let c=0;c<=o;c++){const f=h*c+a.time,d=this._exponentialInterpolate(a.time,a.value,t,i,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ba(e.ticks)){const h=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(h,e.time)}const i=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(t));const o=this._events.get(t);return o&&o.time===t&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(i+a)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),i=this._events.get(t);return Math.max(this._getTicksUntilEvent(i,t),0)}getDurationOfTicks(e,t){const i=this.toSeconds(t),a=this.getTicksAtTime(t);return this.getTimeOfTick(a+e)-i}getTimeOfTick(e){const t=this._events.get(e,"ticks"),i=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&i&&i.type==="linearRampToValueAtTime"&&t.value!==i.value){const a=this._fromType(this.getValueAtTime(t.time)),h=(this._fromType(this.getValueAtTime(i.time))-a)/(i.time-t.time),c=Math.sqrt(Math.pow(a,2)-2*h*(t.ticks-e)),f=(-a+c)/h,d=(-a-c)/h;return(f>0?f:d)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const i=this.toSeconds(t),a=this.toSeconds(e),o=this.getTicksAtTime(i);return this.getTicksAtTime(i+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Fg extends er{constructor(){const e=Pt(Fg.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Vg({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(er.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Bg extends Es{constructor(){const e=Pt(Bg.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Dg,this._tickOffset=new Mo,this._ticksAtTime=new Mo,this._secondsAtTime=new Mo,this.frequency=new Fg({context:this.context,units:e.units,value:e.frequency}),hr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Es.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const i=this.toSeconds(e);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),vn(t)&&this.setTicksAtTime(t,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const i=this._state.get(t);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),i=this._state.getLastState("stopped",t),a=this._ticksAtTime.get(t),o={state:"paused",time:t};this._state.add(o);let h=a||i,c=a?a.ticks:0,f=null;return this._state.forEachBetween(h.time,t+this.sampleTime,d=>{let m=h.time;const y=this._tickOffset.get(d.time);y&&y.time>=h.time&&(c=y.ticks,m=y.time),h.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(m),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),h=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),i=this.frequency.timeToTicks(e,t);this.setTicksAtTime(i,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);const a=this._secondsAtTime.get(e);let o=a||t,h=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,e+this.sampleTime,f=>{let d=o.time;const m=this._tickOffset.get(f.time);m&&m.time>=o.time&&(h=m.seconds,d=m.time),o.state==="started"&&f.state!=="started"&&(h+=f.time-d,f.time!==i.time&&(c={state:f.state,time:f.time,seconds:h})),o=f}),this._state.remove(i),c&&this._secondsAtTime.add(c),h}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const i=this._tickOffset.get(t),a=this._state.get(t),o=Math.max(i.time,a.time),h=this.frequency.getTicksAtTime(o)+e-i.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(e,t,i){let a=this._state.get(e);this._state.forEachBetween(e,t,h=>{a&&a.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),h.time-this.sampleTime,i),a=h});let o=null;if(a&&a.state==="started"){const h=Math.max(a.time,e),c=this.frequency.getTicksAtTime(h),f=this.frequency.getTicksAtTime(a.time),d=c-f;let m=Math.ceil(d)-d;m=Xa(m,1)?0:m;let y=this.frequency.getTimeOfTick(c+m);for(;y<t;){try{i(y,Math.round(this.getTicksAtTime(y)))}catch(w){o=w;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}let s3=class a3 extends Es{constructor(){const e=Pt(a3.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Yn,this._lastUpdate=0,this._state=new Dg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Bg({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,hr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Es.getDefaults(),{callback:Yn,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){Yx(this.context);const i=this.toSeconds(e);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,t),i<this._lastUpdate&&this.emit("start",i,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const i=this.toSeconds(t),a=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(a+e,i)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,i=>{switch(i.state){case"started":const a=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,a);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(e,t,(i,a)=>{this.callback(i,a)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};ld.mixin(s3);class Vh extends $t{constructor(){const e=Pt(Vh.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new ei({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,hr(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign($t.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class qg extends $t{constructor(){const e=Pt(qg.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Vh({context:this.context}),this.output=new ei({context:this.context}),this.volume=this.input.volume,Wf(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign($t.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Wf(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}yp(r=>{r.destination=new qg({context:r})});xp(r=>{r.destination.dispose()});class dC extends $t{constructor(){super(...arguments),this.name="Listener",this.positionX=new Jn({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Jn({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Jn({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Jn({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Jn({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Jn({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Jn({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Jn({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Jn({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign($t.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}yp(r=>{r.listener=new dC({context:r})});xp(r=>{r.listener.dispose()});class zg extends wl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Pt(zg.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const i=e.urls[t];this.add(t,i,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Yn,onload:Yn,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Ht(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,i=Yn,a=Yn){return bl(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new lr(this.baseUrl+t,i,a))):this._buffers.set(e.toString(),new lr(t,i,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Z1 extends Ys{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return ru(super._frequencyToUnits(e))}_ticksToUnits(e){return ru(super._ticksToUnits(e))}_beatsToUnits(e){return ru(super._beatsToUnits(e))}_secondsToUnits(e){return ru(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return i3(this.toMidi())}transpose(e){return new Z1(this.context,this.toMidi()+e)}}class vh extends Df{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class pC extends Es{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Mo,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}yp(r=>{r.draw=new pC({context:r})});xp(r=>{r.draw.dispose()});class mC extends wl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Ht(vn(e.time),"Events must have a time property"),Ht(vn(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new gC(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const i of t)if(i.event===e){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let i,a=null;if(t>0)if(e.left.right===null)i=e.left,i.right=e.right,a=i;else{for(i=e.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,a=i.parent,i.left=e.left,i.right=e.right)}else if(e.right.left===null)i=e.right,i.left=e.left,a=i;else{for(i=e.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,a=i.parent,i.left=e.left,i.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=i:e.parent.right=i:this._setRoot(i),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const t=e.parent,i=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),t!==null?i?t.left=a:t.right=a:this._setRoot(a)}_rotateRight(e){const t=e.parent,i=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),t!==null?i?t.left=a:t.right=a:this._setRoot(a)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let i=t[0];for(let a=1;a<t.length;a++)t[a].low>i.low&&(i=t[a]);return i.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(i=>t.push(i)),t.forEach(i=>{i.event&&e(i.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const i=[];this._root.search(e,i),i.forEach(a=>{a.event&&t(a.event)})}return this}forEachFrom(e,t){if(this._root!==null){const i=[];this._root.searchAfter(e,i),i.forEach(a=>{a.event&&t(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class gC{constructor(e,t,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class vC extends wl{constructor(e){super(),this.name="TimelineValue",this._timeline=new Mo({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class fc extends $t{constructor(){super(Pt(fc.getDefaults(),arguments,["context"]))}connect(e,t=0,i=0){return Ig(this,e,t,i),this}}class ud extends fc{constructor(){const e=Pt(ud.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,$s(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):P8(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(er.getDefaults(),{length:1024})}setMap(e,t=1024){const i=new Float32Array(t);for(let a=0,o=t;a<o;a++){const h=a/(o-1)*2-1;i[a]=e(h,a)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(i=>i.includes(e));Ht(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class wp extends fc{constructor(){const e=Pt(wp.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new ud({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(fc.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class dc{constructor(e,t){this.id=dc._eventId++,this._remainderTime=0;const i=Object.assign(dc.getDefaults(),t);this.transport=e,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:Yn,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}dc._eventId=0;class Pg extends dc{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(Pg.getDefaults(),t);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},dc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return X1(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new vh(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){X1(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new vh(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);kh(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Sp extends Es{constructor(){const e=Pt(Sp.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new vC(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Mo,this._repeatedEvents=new mC,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new s3({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),hr(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Es.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const i=t%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(i*Math.PI)*this._swingAmount;e+=new vh(this.context,this._swingTicks*2/3).toSeconds()*a}ob(!0),this._timeline.forEachAtTime(t,i=>i.invoke(e)),ob(!1)}schedule(e,t){const i=new dc(this,{callback:e,time:new Df(this.context,t).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(e,t,i,a=1/0){const o=new Pg(this,{callback:e,duration:new Ka(this.context,a).toTicks(),interval:new Ka(this.context,t).toTicks(),time:new Df(this.context,i).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,t){const i=new dc(this,{callback:e,once:!0,time:new Df(this.context,t).toTicks()});return this._addEvent(i,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(t,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new vh(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let i;return vn(t)&&(i=this.toTicks(t)),this._clock.start(e,i),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){$s(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Ka(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Ka(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new vh(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new vh(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),i=this._clock.frequency.timeToTicks(e,t);this.ticks=i}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(t),a=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,t),o=t+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),i=this.getTicksAtTime(t),a=e-i%e;return this._clock.nextTickTime(a,t)}}syncSignal(e,t){const i=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(i)/this.PPQ),h=[];if(e.units==="time"){const f=.015625/o,d=new ei(f),m=new wp(-1),y=new ei(f);a.chain(d,m,y),a=y,o=1/o,h=[d,m,y]}t||(e.getValueAtTime(i)!==0?t=e.getValueAtTime(i)/o:t=0);const c=new ei(t);return a.connect(c),c.connect(e._param),h.push(c),this._syncedSignals.push({initial:e.value,nodes:h,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const i=this._syncedSignals[t];i.signal===e&&(i.nodes.forEach(a=>a.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Lg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}ld.mixin(Sp);yp(r=>{r.transport=new Sp({context:r})});xp(r=>{r.transport.dispose()});class Hi extends $t{constructor(e){super(e),this.input=void 0,this._state=new Dg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Yn,this._syncedStop=Yn,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Vh({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,hr(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign($t.getDefaults(),{mute:!1,onstop:Yn,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,i){let a=ba(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")Ht(kh(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,t,i);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(xh(t,0)),o.duration=i?this.toSeconds(i):void 0);const h=this.context.transport.schedule(c=>{this._start(c,t,i)},a);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else Yx(this.context),this._start(a,t,i);return this}stop(e){let t=ba(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||vn(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const i=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(i)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,i){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(kh(t,0)){const i=this._state.get(t);if(i&&i.state==="started"&&i.time!==t){const a=t-this.toSeconds(i.time);let o;i.duration&&(o=this.toSeconds(i.duration)-a),this._start(e,this.toSeconds(i.offset)+a,o)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Yn,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Ap extends Oh{constructor(){const e=Pt(Ap.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Ih(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Jn({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new lr(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Oh.getDefaults(),{url:new lr,loop:!1,loopEnd:0,loopStart:0,onload:Yn,onerror:Yn,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,i,a=1){Ht(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?t=xh(t,this.loopStart):t=xh(t,0);let h=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;Pm(h,c)&&(h=(h-f)%d+f),Xa(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,X1(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,h)),vn(i)){let c=this.toSeconds(i);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function du(r,e){return Jr(this,void 0,void 0,function*(){const t=e/r.context.sampleRate,i=new Mg(1,t,r.context.sampleRate);return new r.constructor(Object.assign(r.get(),{frequency:2/t,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class Ug extends Oh{constructor(){const e=Pt(Ug.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Ih(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Jn({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Jn({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),hr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Oh.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Qr extends Hi{constructor(){const e=Pt(Qr.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new er({context:this.context,units:"frequency",value:e.frequency}),hr(this,"frequency"),this.detune=new er({context:this.context,units:"cents",value:e.detune}),hr(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Hi.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),i=new Ug({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Qr._periodicWaveCache.find(t=>t.phase===this._phase&&J8(t.partials,this._partials));{const e=Qr._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const i=this._getCachedPeriodicWave();if(vn(i)){const{partials:a,wave:o}=i;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),h=this.context.createPeriodicWave(a,o);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Qr._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Qr._periodicWaveCache.length>100&&Qr._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){yl(e,0);let t=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(t=i[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,h)=>a[h]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,t){let a=2048;const o=new Float32Array(a),h=new Float32Array(a);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,h]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let m;switch(e){case"sine":m=f<=c?1:0,this._partials[f-1]=m;break;case"square":m=f&1?2*d:0,this._partials[f-1]=m;break;case"sawtooth":m=d*(f&1?1:-1),this._partials[f-1]=m;break;case"triangle":f&1?m=2*(d*d)*(f-1>>1&1?-1:1):m=0,this._partials[f-1]=m;break;case"custom":m=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}m!==0?(o[f]=-m*Math.sin(t*f),h[f]=m*Math.cos(t*f)):(o[f]=0,h[f]=0)}return[o,h]}_inverseFFT(e,t,i){let a=0;const o=e.length;for(let h=0;h<o;h++)a+=e[h]*Math.cos(h*i)+t[h]*Math.sin(h*i);return a}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let i=0;const a=Math.PI*2,o=32;for(let h=0;h<o;h++)i=Math.max(this._inverseFFT(e,t,h/o*a),i);return tC(-this._inverseFFT(e,t,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Qr._periodicWaveCache=[];class o3 extends fc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ud({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class xl extends er{constructor(){const e=Pt(xl.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new ei({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(er.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Np extends Hi{constructor(){const e=Pt(Np.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new o3({context:this.context}),this._modulationNode=new ei({context:this.context}),this._carrier=new Qr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Qr({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new xl({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),hr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Cp extends Hi{constructor(){const e=Pt(Cp.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new ei({context:this.context,gain:0}),this._carrier=new Qr({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new er({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Qr({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new xl({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new xl({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),hr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class hd extends Hi{constructor(){const e=Pt(hd.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new ei({context:this.context,gain:0}),this._thresh=new ud({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new er({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Qr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),hr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Hi.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Tp extends Hi{constructor(){const e=Pt(Tp.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new er({context:this.context,units:"frequency",value:e.frequency}),this.detune=new er({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,hr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Qr.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,i=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=t+i*o)}}get count(){return this._oscillators.length}set count(e){if(yl(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const i=new Qr({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):Yn});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[t]=i}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,i)=>t.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Ep extends Hi{constructor(){const e=Pt(Ep.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new xl({context:this.context,value:2}),this._pulse=new hd({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Qr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),hr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Hi.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const lb={am:Np,fat:Tp,fm:Cp,oscillator:Qr,pulse:hd,pwm:Ep};class pc extends Hi{constructor(){const e=Pt(pc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new er({context:this.context,units:"frequency",value:e.frequency}),this.detune=new er({context:this.context,units:"cents",value:e.detune}),hr(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Qr.getDefaults(),Cp.getDefaults(),Np.getDefaults(),Tp.getDefaults(),hd.getDefaults(),Ep.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=lb[e],i=this.now();if(this._oscillator){const a=this._oscillator;a.stop(i),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof lb[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&vl(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&vl(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&bl(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Jr(this,arguments,void 0,function*(e=1024){return du(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Hg extends er{constructor(){super(Pt(Hg.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new ei({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Wf(this._constantSource,this._sum)}static getDefaults(){return Object.assign(er.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Gg extends fc{constructor(){const e=Pt(Gg.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new xl({context:this.context,value:e.max-e.min}),this._add=this.output=new Hg({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(fc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function l3(r,e=1/0){const t=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){yl(o,r,e),t.set(this,o)}})}}function Sl(r,e=1/0){const t=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){yl(this.toSeconds(o),r,e),t.set(this,o)}})}}class kp extends Hi{constructor(){const e=Pt(kp.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new lr({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Hi.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Yn,onerror:Yn,playbackRate:1,reverse:!1})}load(e){return Jr(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Yn){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,i){return super.start(e,t,i),this}_start(e,t,i){this._loop?t=xh(t,this._loopStart):t=xh(t,0);const a=this.toSeconds(t),o=i;i=xh(i,Math.max(this._buffer.duration-a,0));let h=this.toSeconds(i);h=h/this._playbackRate,e=this.toSeconds(e);const c=new Ap({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+h),this._state.setStateAtTime("stopped",e+h,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&ba(o)?c.start(e,a):c.start(e,a,h-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(i=>i.stop(t))}restart(e,t,i){return super.restart(e,t,i),this}_restart(e,t,i){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,t,i)}seek(e,t){const i=this.toSeconds(t);if(this._state.getValueAtTime(i)==="started"){const a=this.toSeconds(e);this._stop(i),this._start(i,a)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&yl(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&yl(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),i=this._state.getNextState("stopped",t);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}so([Sl(0)],kp.prototype,"fadeIn",void 0);so([Sl(0)],kp.prototype,"fadeOut",void 0);class Ks extends $t{constructor(){const e=Pt(Ks.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new er({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign($t.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(bl(e))return e;{let i;for(i in p1)if(p1[i][t]===e)return i;return e}}_setCurve(e,t,i){if(bl(i)&&Reflect.has(p1,i)){const a=p1[i];iu(a)?e!=="_decayCurve"&&(this[e]=a[t]):this[e]=a}else if($s(i)&&e!=="_decayCurve")this[e]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),h=this.getValueAtTime(e);if(h>0){const c=1/a;a=(1-h)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,a,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=h&&h<=c[f]){c=this._attackCurve.slice(f),c[0]=h;break}this._sig.setValueCurveAtTime(c,e,a,t)}if(o&&this.sustain<1){const c=t*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,e):(Ht($s(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,i,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,i=1){return t=this.toSeconds(t),this.triggerAttack(t,i),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,i=0){return Ig(this,e,t,i),this}asArray(){return Jr(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,i=new Mg(1,t,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),h=o*.1,c=o+h,f=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:i}));return f._sig.toDestination(),f.triggerAttackRelease(t*(a+h)/c,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}so([Sl(0)],Ks.prototype,"attack",void 0);so([Sl(0)],Ks.prototype,"decay",void 0);so([l3(0,1)],Ks.prototype,"sustain",void 0);so([Sl(0)],Ks.prototype,"release",void 0);const p1=(()=>{let e,t;const i=[];for(e=0;e<128;e++)i[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){t=e/127;const w=Math.sin(t*(Math.PI*2)*o-Math.PI/2)+1;a[e]=w/10+t*.83}a[127]=1;const h=[],c=5;for(e=0;e<128;e++)h[e]=Math.ceil(e/127*c)/c;const f=[];for(e=0;e<128;e++)t=e/127,f[e]=.5*(1-Math.cos(Math.PI*t));const d=[];for(e=0;e<128;e++){t=e/127;const w=Math.pow(t,3)*4+.2,b=Math.cos(w*Math.PI*2*t);d[e]=Math.abs(b*(1-t))}function m(w){const b=new Array(w.length);for(let S=0;S<w.length;S++)b[S]=1-w[S];return b}function y(w){return w.slice(0).reverse()}return{bounce:{In:m(d),Out:d},cosine:{In:i,Out:y(i)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:m(a)},sine:{In:f,Out:m(f)},step:{In:h,Out:m(h)}}})();class mc extends $t{constructor(){const e=Pt(mc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Vh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,hr(this,"volume")}static getDefaults(){return Object.assign($t.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const i=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[t],h=this.context.transport.schedule(c=>{a[t]=c,i.apply(this,a)},o);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,i,a){const o=this.toSeconds(i),h=this.toSeconds(t);return this.triggerAttack(e,o,a),this.triggerRelease(o+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ja extends mc{constructor(){const e=Pt(Ja.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(mc.getDefaults(),{detune:0,onsilence:Yn,portamento:0})}triggerAttack(e,t,i=1){this.log("triggerAttack",e,t,i);const a=this.toSeconds(t);return this._triggerEnvelopeAttack(a,i),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const i=this.toSeconds(t),a=e instanceof Ys?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,i)}else this.frequency.setValueAtTime(a,i);return this}}so([Sl(0)],Ja.prototype,"portamento",void 0);class Op extends Ks{constructor(){super(Pt(Op.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ei({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class va extends Ja{constructor(){const e=Pt(va.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new pc(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Op(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),hr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{envelope:Object.assign(Za(Ks.getDefaults(),Object.keys($t.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Za(pc.getDefaults(),[...Object.keys(Hi.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Yf extends Ja{constructor(){const e=Pt(Yf.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new va({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new va({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new er({context:this.context,units:"frequency"}),this.detune=new er({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new xl({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new ei({context:this.context,gain:0}),hr(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{harmonicity:3,oscillator:Object.assign(Za(pc.getDefaults(),[...Object.keys(Hi.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Za(Ks.getDefaults(),Object.keys($t.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Za(pc.getDefaults(),[...Object.keys(Hi.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Za(Ks.getDefaults(),Object.keys($t.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class $1 extends Yf{constructor(){super(Pt($1.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new o3({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class K1 extends $t{constructor(){const e=Pt(K1.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Jn({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Jn({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Jn({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Jn({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign($t.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Ht(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let h=0;h<e;h++){const f=Math.pow(h/e,2)*19980+20;t[h]=f}const i=new Float32Array(e),a=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(t,i,a),i}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Q1 extends $t{constructor(){const e=Pt(Q1.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new ei({context:this.context}),this.output=new ei({context:this.context}),this._filters=[],this._filters=[],this.Q=new er({context:this.context,units:"positive",value:e.Q}),this.frequency=new er({context:this.context,units:"frequency",value:e.frequency}),this.detune=new er({context:this.context,units:"cents",value:e.detune}),this.gain=new er({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,hr(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign($t.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Ht(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(i=>i.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=vl(e)?e:parseInt(e,10),i=[-12,-24,-48,-96];let a=i.indexOf(t);Ht(a!==-1,`rolloff can only be ${i.join(", ")}`),a+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const h=new K1({context:this.context});h.type=this._type,this.frequency.connect(h.frequency),this.detune.connect(h.detune),this.Q.connect(h.Q),this.gain.connect(h.gain),this._filters[o]=h}this._internalChannels=this._filters,Wf(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new K1({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((o,h)=>i[h]*=o)}),t.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Lg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class J1 extends Ks{constructor(){const e=Pt(J1.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new wp({context:this.context,value:e.exponent}),this._scale=this.output=new Gg({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Ks.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);yl(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class ep extends Ja{constructor(){const e=Pt(ep.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new pc(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Q1(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new J1(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new Op(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),hr(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{envelope:Object.assign(Za(Ks.getDefaults(),Object.keys($t.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Za(Q1.getDefaults(),Object.keys($t.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Za(J1.getDefaults(),Object.keys($t.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Za(pc.getDefaults(),Object.keys(Hi.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Rf extends Yf{constructor(){const e=Pt(Rf.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new xl({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Yf.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class Lp extends va{constructor(){const e=Pt(Lp.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,hr(this,["oscillator","envelope"])}static getDefaults(){return su(Ja.getDefaults(),va.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const i=this.toSeconds(t),a=this.toFrequency(e instanceof Ys?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,i),this.oscillator.frequency.exponentialRampToValueAtTime(a,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}so([l3(0)],Lp.prototype,"octaves",void 0);so([Sl(0)],Lp.prototype,"pitchDecay",void 0);const c3=new Set;function Wg(r){c3.add(r)}function u3(r,e){const t=`registerProcessor("${r}", ${e})`;c3.add(t)}const bC=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Wg(bC);const yC=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Wg(yC);const xC=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Wg(xC);const _C="feedback-comb-filter",wC=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;u3(_C,wC);class Ns extends mc{constructor(){const e=Pt(Ns.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),Ht(!vl(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const i=this._voices.indexOf(this._dummyVoice);this._voices.splice(i,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(mc.getDefaults(),{maxPolyphony:32,options:{},voice:va})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(i=>i.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Ht(e instanceof Ja,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else bp("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,i){e.forEach(a=>{const o=new Z1(this.context,a).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(a,t,i),this._activeVoices.push({midi:o,voice:h,released:!1}),this.log("triggerAttack",a,t))})}_triggerRelease(e,t){e.forEach(i=>{const a=new Z1(this.context,i).toMidi(),o=this._activeVoices.find(({midi:h,released:c})=>h===a&&!c);o&&(o.voice.triggerRelease(t),o.released=!0,this.log("triggerRelease",i,t))})}_scheduleEvent(e,t,i,a){Ht(!this.disposed,"Synth was already disposed"),i<=this.now()?e==="attack"?this._triggerAttack(t,i,a):this._triggerRelease(t,i):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,i,a)},i-this.now())}triggerAttack(e,t,i){Array.isArray(e)||(e=[e]);const a=this.toSeconds(t);return this._scheduleEvent("attack",e,a,i),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const i=this.toSeconds(t);return this._scheduleEvent("release",e,i),this}triggerAttackRelease(e,t,i,a){const o=this.toSeconds(i);if(this.triggerAttack(e,o,a),$s(t)){Ht($s(e),"If the duration is an array, the notes must also be an array"),e=e;for(let h=0;h<e.length;h++){const c=t[Math.min(h,t.length-1)],f=this.toSeconds(c);Ht(f>0,"The duration must be greater than 0"),this.triggerRelease(e[h],o+f)}}else{const h=this.toSeconds(t);Ht(h>0,"The duration must be greater than 0"),this.triggerRelease(e,o+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=Za(e,["onsilence","context"]);return this.options=su(this.options,t),this._voices.forEach(i=>i.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:i})=>{i.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class fd extends mc{constructor(){const e=Pt(fd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(i=>{const a=parseInt(i,10);if(Ht(d1(i)||vl(a)&&isFinite(a),`url key is neither a note or midi pitch: ${i}`),d1(i)){const o=new Ys(this.context,i).toMidi();t[o]=e.urls[i]}else vl(a)&&isFinite(a)&&(t[a]=e.urls[a])}),this._buffers=new zg({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(mc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Yn,onerror:Yn,release:.1,urls:{}})}_findClosest(e){let i=0;for(;i<96;){if(this._buffers.has(e+i))return-i;if(this._buffers.has(e-i))return i;i++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,i=1){return this.log("triggerAttack",e,t,i),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=r3(new Ys(this.context,a).toFrequency()),h=Math.round(o),c=o-h,f=this._findClosest(h),d=h-f,m=this._buffers.get(d),y=n3(f+c),w=new Ap({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);w.start(t,0,m.duration/y,i),$s(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(w),w.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const b=this._activeSources.get(h),S=b.indexOf(w);S!==-1&&b.splice(S,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(i=>{const a=new Ys(this.context,i).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);t=this.toSeconds(t),o.forEach(h=>{h.stop(t)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,i,a=1){const o=this.toSeconds(i);return this.triggerAttack(e,o,a),$s(t)?(Ht($s(e),"notes must be an array when duration is array"),e.forEach((h,c)=>{const f=t[Math.min(c,t.length-1)];this.triggerRelease(h,o+this.toSeconds(f))})):this.triggerRelease(e,o+this.toSeconds(t)),this}add(e,t,i){if(Ht(d1(e)||isFinite(e),`note must be a pitch or midi: ${e}`),d1(e)){const a=new Ys(this.context,e).toMidi();this._buffers.add(a,t,i)}else this._buffers.add(e,t,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}so([Sl(0)],fd.prototype,"attack",void 0);so([Sl(0)],fd.prototype,"release",void 0);class Yg extends $t{constructor(){const e=Pt(Yg.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Jn({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",hr(this,"pan")}static getDefaults(){return Object.assign($t.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const SC="bit-crusher",AC=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;u3(SC,AC);class Kr extends $t{constructor(){const e=Pt(Kr.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new ei({context:this.context}),Kr._allSolos.has(this.context)||Kr._allSolos.set(this.context,new Set),Kr._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign($t.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Kr._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Kr._soloed.has(this.context)||Kr._soloed.set(this.context,new Set),Kr._soloed.get(this.context).add(this)}_removeSolo(){Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).delete(this)}_isSoloed(){return Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).has(this)}_noSolos(){return!Kr._soloed.has(this.context)||Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Kr._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Kr._allSolos=new Map;Kr._soloed=new Map;class Xg extends $t{constructor(){const e=Pt(Xg.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Yg({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Vh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,hr(this,["pan","volume"])}static getDefaults(){return Object.assign($t.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class bh extends $t{constructor(){const e=Pt(bh.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Kr({solo:e.solo,context:this.context}),this._panVol=this.output=new Xg({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),hr(this,["pan","volume"])}static getDefaults(){return Object.assign($t.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return bh.buses.has(e)||bh.buses.set(e,new ei({context:this.context})),bh.buses.get(e)}send(e,t=0){const i=this._getBus(e),a=new ei({context:this.context,units:"decibels",gain:t});return this.connect(a),a.connect(i),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}bh.buses=new Map;const is=$a().transport,h3=$a().destination;$a().destination;$a().listener;const NC=$a().draw,Xs=$a();function CC(){return lr.loaded()}const m1=({cx:r,cy:e,innerRadius:t,outerRadius:i,startAngle:a,endAngle:o,color:h,label:c,chord:f,isSelected:d,isDiatonic:m,isSecondary:y=!1,onClick:w,onDoubleClick:b,ringType:S="major",wheelRotation:N=0,romanNumeral:C,voicingSuggestion:T,segmentId:R="seg",onHover:D})=>{const F=R4(r,e,t,i,a,o),B=(a+o)/2,W=fn.useRef(0),G=fn.useRef(null),[j,V]=fn.useState(!1),K=-N,E=i-t,I=t+E*.5,te=t+E*.18,U=cc(r,e,I,B),ue=cc(r,e,te,B),$=i-6,ie=D4(r,e,$,a+1,o-1),se=`voicing-arc-${R}`,fe=`clip-${R}`,X=(()=>{let tt=.35,Ze=.5;m?(tt=1,Ze=1):y&&(tt=.7,Ze=.65);const Ne=h.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(Ne){const nt=parseInt(Ne[1]),it=Math.round(parseInt(Ne[2])*Ze),ut=parseInt(Ne[3]);let ht=ut;return S==="minor"?ht=Math.max(ut-8,30):S==="diminished"&&(ht=Math.max(ut-15,25)),{fill:`hsl(${nt}, ${it}%, ${ht}%)`,opacity:tt}}return{fill:h,opacity:tt}})(),L=()=>S==="diminished"?"10px":S==="minor"?"12px":"14px",P=m||y,J=P?"#000000":"rgba(255,255,255,0.7)",re=m?"bold":y?"600":"normal",ce=S==="diminished"||S==="minor"?"6px":"8px",pe=S==="major"?P?6:5:S==="minor"?P?4:3.25:P?3.5:3,de=P?1:.95,xe=()=>{V(!0)},Te=async tt=>{tt.preventDefault(),tt.stopPropagation(),V(!1),Xs.state!=="running"&&await cd();const Ze=Date.now(),Ne=Ze-W.current;G.current&&(clearTimeout(G.current),G.current=null),Ne<300&&Ne>0?(W.current=0,b&&b(f)):(W.current=Ze,G.current=setTimeout(()=>{w(f),G.current=null},300))},Ue=()=>{V(!1),G.current&&(clearTimeout(G.current),G.current=null)},Qe=tt=>{tt.stopPropagation(),je.current&&(clearTimeout(je.current),je.current=null),D&&D(null,0,0),w(f)},et=tt=>{tt.stopPropagation(),je.current&&(clearTimeout(je.current),je.current=null),D&&D(null,0,0),b&&b(f)},je=fn.useRef(null),H=tt=>{if(!D)return;const Ze=tt.clientX,Ne=tt.clientY;je.current=setTimeout(()=>{D("Select a chord slot in the timeline, then double-click a chord or chord voicing to add to the timeline.",Ze,Ne)},3e3)},Me=()=>{je.current&&(clearTimeout(je.current),je.current=null),D&&D(null,0,0)};return k.jsxs("g",{className:Mi("cursor-pointer transition-all duration-200",!P&&"hover:opacity-70",j&&"opacity-80"),onClick:Qe,onDoubleClick:et,onTouchStart:xe,onTouchEnd:Te,onTouchCancel:Ue,onMouseEnter:H,onMouseLeave:Me,style:{pointerEvents:"all",WebkitTapHighlightColor:"transparent"},children:[(m||y)&&T&&k.jsx("defs",{children:k.jsx("path",{id:se,d:ie,fill:"none"})}),k.jsx("defs",{children:k.jsx("clipPath",{id:fe,children:k.jsx("path",{d:F})})}),k.jsx("path",{d:F,fill:X.fill,opacity:X.opacity,stroke:C==="I"?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",strokeWidth:C==="I"?2.5:1,className:Mi("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",P&&"hover:brightness-105"),style:{pointerEvents:"all"}}),d&&k.jsx("path",{d:F,fill:"none",stroke:"white",strokeWidth:pe,opacity:de,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${fe})`}),(m||y)&&T&&S==="major"&&k.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:k.jsx("textPath",{href:`#${se}`,startOffset:"50%",textAnchor:"middle",children:T})}),m&&T&&S==="minor"&&k.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:k.jsx("textPath",{href:`#${se}`,startOffset:"50%",textAnchor:"middle",children:T})}),m&&T&&S==="diminished"&&k.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:k.jsx("textPath",{href:`#${se}`,startOffset:"50%",textAnchor:"middle",children:T})}),k.jsx("text",{x:U.x,y:U.y,textAnchor:"middle",dominantBaseline:"middle",fill:J,fontWeight:re,fontSize:L(),className:"pointer-events-none select-none",transform:`rotate(${K}, ${U.x}, ${U.y})`,children:c}),(m||y)&&C&&k.jsx("text",{x:ue.x,y:ue.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:ce,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${K}, ${ue.x}, ${ue.y})`,children:C})]})};const TC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),cb=r=>{const e=EC(r);return e.charAt(0).toUpperCase()+e.slice(1)},f3=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),kC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var OC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LC=he.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:h,...c},f)=>he.createElement("svg",{ref:f,...OC,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:f3("lucide",a),...!o&&!kC(c)&&{"aria-hidden":"true"},...c},[...h.map(([d,m])=>he.createElement(d,m)),...Array.isArray(o)?o:[o]]));const Nn=(r,e)=>{const t=he.forwardRef(({className:i,...a},o)=>he.createElement(LC,{ref:o,iconNode:e,className:f3(`lucide-${TC(cb(r))}`,`lucide-${r}`,i),...a}));return t.displayName=cb(r),t};const MC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jC=Nn("arrow-right",MC);const DC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],_h=Nn("chevron-down",DC);const RC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Um=Nn("chevron-right",RC);const IC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Hm=Nn("chevron-left",IC);const VC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Zg=Nn("chevron-up",VC);const FC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],BC=Nn("circle-question-mark",FC);const qC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zC=Nn("circle",qC);const PC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],UC=Nn("clock",PC);const HC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],GC=Nn("copy",HC);const WC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],YC=Nn("download",WC);const XC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],ZC=Nn("file-plus",XC);const $C=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],KC=Nn("folder-open",$C);const QC=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],JC=Nn("grip-horizontal",QC);const eT=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],d3=Nn("grip-vertical",eT);const tT=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],nT=Nn("hash",tT);const rT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],iT=Nn("layers",rT);const sT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],aT=Nn("loader-circle",sT);const oT=[["path",{d:"M5 12h14",key:"1ays0h"}]],lT=Nn("minus",oT);const cT=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Gm=Nn("music",cT);const uT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],hT=Nn("panel-right-close",uT);const fT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],dT=Nn("panel-right",fT);const pT=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],mT=Nn("pause",pT);const gT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],vT=Nn("play",gT);const bT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],p3=Nn("plus",bT);const yT=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],xT=Nn("repeat",yT);const _T=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],m3=Nn("rotate-ccw",_T);const wT=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],g3=Nn("rotate-cw",wT);const ST=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ub=Nn("save",ST);const AT=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],NT=Nn("skip-back",AT);const CT=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],TT=Nn("skip-forward",CT);const ET=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wm=Nn("trash-2",ET);const kT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],OT=Nn("volume-2",kT);const LT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],MT=Nn("volume-x",LT);const jT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hb=Nn("x",jT);let gc={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},$g="piano",Ef=null,O1=[],tp={},fb=!1,Eo=null;const v3=async()=>{if(!fb){if(console.log("[iOS Audio] Starting unlock sequence..."),"audioSession"in navigator)try{navigator.audioSession.type="playback",console.log("[iOS Audio] Set audioSession.type to playback")}catch(r){console.warn("[iOS Audio] Could not set audioSession type:",r)}Eo||(Eo=document.createElement("audio"),Eo.src="data:audio/mpeg;base64,/+NIxAAAAAANIAAAAAExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/jSMQADwAAADSAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",Eo.loop=!0,Eo.volume=.001,Eo.muted=!1,Eo.setAttribute("playsinline","true"),Eo.setAttribute("x-webkit-airplay","deny"),document.body.appendChild(Eo));try{const r=Eo.play();r!==void 0&&await r,console.log("[iOS Audio] Silent looping audio started successfully")}catch(r){console.warn("[iOS Audio] Silent audio failed:",r)}try{await cd(),console.log("[iOS Audio] Tone.start() completed, state:",Xs.state)}catch(r){console.warn("[iOS Audio] Tone.start() failed:",r)}if(Xs.state!=="running")try{await Xs.resume(),console.log("[iOS Audio] Context resumed, state:",Xs.state)}catch(r){console.warn("[iOS Audio] Context resume failed:",r)}fb=!0,console.log("[iOS Audio] Unlock sequence complete")}},Kg=r=>{r in gc&&($g=r)},b3=r=>{const e=r<=0?-1/0:20*Math.log10(r);try{h3.volume.rampTo(e,.1)}catch(t){console.error("Error setting volume:",t)}},y3=r=>{h3.mute=r},Fh=async()=>{if(Ef)return Ef;Ef=(async()=>{const r="https://tonejs.github.io/audio/salamander/",e=(t,i)=>{if(!gc[t])try{const a=i();a&&(gc[t]=a)}catch(a){console.error(`Failed to init instrument "${t}"`,a)}};e("piano",()=>new fd({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:r}).toDestination()),e("guitar",()=>new Ns(va,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),e("organ",()=>new Ns($1,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("synth",()=>new Ns(Rf,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("epiano",()=>new Ns($1,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),e("strings",()=>new Ns(va,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),e("pad",()=>new Ns(Rf,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),e("brass",()=>new Ns(ep,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),e("marimba",()=>new Ns(va,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),e("bell",()=>new Ns(Rf,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),e("lead",()=>new Ns(va,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),e("bass",()=>new Ns(ep,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),e("choir",()=>new Ns(va,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await CC()})();try{await Ef}catch(r){Ef=null,console.error("Failed to initialize audio",r)}},db=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],ml=async(r,e="1n",t)=>{if(Xs.state!=="running"&&await cd(),Xs.state==="suspended"&&await Xs.resume(),await Fh(),!r||r.length===0)return;const i=r[0],a=db.indexOf(i.replace(/\d/,"")),o=r.map((c,f)=>{if(c.match(/\d/))return c;const d=c,m=db.indexOf(d);if(f===0)return`${d}3`;let y=3;return(m<a||m-a>6)&&(y=4),f>=4&&(y=4),f>=5&&(y=5),`${d}${y}`});let h=gc[$g];if(h||(h=gc.piano),!h){console.error("No instrument available to play!");return}try{h.triggerAttackRelease(o,e,t)}catch(c){console.error("Failed to play chord",c)}},x3=async(r,e=4,t="8n")=>{Xs.state!=="running"&&await cd(),Xs.state==="suspended"&&await Xs.resume(),await Fh();let i=gc[$g];if(i||(i=gc.piano),!i){console.error("No instrument available to play!");return}const a=`${r}${e}`;try{i.triggerAttackRelease(a,t)}catch(o){console.error(`Failed to play note ${a}`,o)}},_3=()=>{Object.values(gc).forEach(t=>t?.releaseAll()),is.stop();const{setPlayingSlot:r,setIsPlaying:e}=Rr.getState();r(null,null),e(!1)},Xf=r=>{const e=Math.floor(r/4),t=Math.floor(r%4),i=Math.floor(r%1*4);return`${e}:${t}:${i}`},Qg=r=>{is.cancel(0),O1=[],tp={},is.timeSignature=4;let e=0;r.sections.forEach(i=>{tp[i.id]=e,i.measures.forEach(a=>{a.beats.forEach(o=>{const h=Xf(e),c=o.duration,f=c*4,d=`${Math.floor(f/16)}:${Math.floor(f%16/4)}:${f%4}`,m=is.schedule(y=>{NC.schedule(()=>{Rr.getState().setPlayingSlot(i.id,o.id)},y),o.chord&&ml(o.chord.notes,d,y)},h);O1.push(m),e+=c})})});const t=is.schedule(()=>{Rr.getState().isLooping||_3()},Xf(e));O1.push(t)},DT=async()=>{await Fh()},w3=async()=>{await Fh(),Xs.state!=="running"&&await Xs.resume();const{tempo:r,currentSong:e}=Rr.getState();is.bpm.value=r,O1.length===0&&Qg(e),is.start()},S3=()=>{is.pause()},A3=r=>{is.bpm.value=r},N3=r=>{const{currentSong:e,playingSectionId:t}=Rr.getState(),i=e.sections.map(m=>m.id);let a=t?i.indexOf(t):-1;a===-1&&(a=0);let o=r==="next"?a+1:a-1;o>=i.length&&(o=0),o<0&&(o=0);const h=i[o],c=tp[h]||0,f=Xf(c);is.position=f;const d=e.sections[o].measures[0]?.beats[0];d&&Rr.getState().setPlayingSlot(h,d.id)},C3=()=>{const{isLooping:r,playingSectionId:e,selectedSectionId:t,currentSong:i}=Rr.getState();if(r){const a=e||t,o=i.sections.find(h=>h.id===a);if(o){const h=tp[o.id]??0;let c=0;o.measures.forEach(d=>d.beats.forEach(m=>c+=m.duration));const f=h+c;is.loopStart=Xf(h),is.loopEnd=Xf(f),is.loop=!0;return}}is.loop=!1},RT=Object.freeze(Object.defineProperty({__proto__:null,initAudio:Fh,pauseSong:S3,playChord:ml,playNote:x3,playSong:w3,preloadAudio:DT,scheduleSong:Qg,setInstrument:Kg,setMute:y3,setTempo:A3,setVolume:b3,skipToSection:N3,stopAudio:_3,toggleLoopMode:C3,unlockAudioForIOS:v3},Symbol.toStringTag,{value:"Module"})),pb=768;function dd(){const[r,e]=he.useState(()=>typeof window<"u"?window.innerWidth<pb:!1);return he.useEffect(()=>{const t=()=>e(window.innerWidth<pb);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),r}const IT=({zoomScale:r,zoomOriginY:e,onZoomChange:t})=>{const{selectedKey:i,setKey:a,wheelRotation:o,wheelMode:h,rotateWheel:c,toggleWheelMode:f,addChordToSlot:d,selectedSectionId:m,selectedSlotId:y,currentSong:w,setSelectedChord:b,selectedChord:S,selectNextSlotAfter:N,setSelectedSlot:C}=Rr(),T=h==="rotating"?o:0,R=jf.indexOf(i),D=he.useRef(null),F=he.useRef(null),[B,W]=he.useState(null),[G,j]=he.useState({x:0,y:0}),V=dd();he.useEffect(()=>{const _e=S?.segmentId??null;W(_e)},[S]);const K=he.useRef(null),E=he.useRef(null),[I,te]=he.useState(!1),U=he.useRef(0),ue=he.useRef(0),[$,ie]=he.useState(!1),se=he.useRef(null),fe=he.useCallback((_e,Ie)=>{if(!E.current)return 0;const Xe=E.current.getBoundingClientRect(),$e=Xe.left+Xe.width/2,Nt=Xe.top+Xe.height/2,vt=_e-$e,Et=Ie-Nt;return Math.atan2(Et,vt)*(180/Math.PI)},[]),we=he.useCallback(_e=>{const Ie=jf.indexOf(i),Xe=_e==="cw"?(Ie+1)%12:(Ie-1+12)%12;a(jf[Xe]),c(_e)},[i,a,c]),X=he.useRef(null),L=he.useRef(!1),P=he.useCallback(_e=>{if(V||!E.current||!K.current)return;const Ie=E.current.getBoundingClientRect(),Xe=Ie.width/2,$e=Ie.height/2,Nt=_e.clientX-Ie.left-Xe,vt=_e.clientY-Ie.top-$e,Et=Math.sqrt(Nt*Nt+vt*vt),Qt=Ie.width/600*70,Zt=Ie.width/600*250;Et>Qt&&Et<=Zt?(te(!0),U.current=fe(_e.clientX,_e.clientY),ue.current=o,_e.preventDefault()):Et>Zt&&r>1&&(ie(!0),se.current={x:_e.clientX,y:_e.clientY},_e.preventDefault())},[fe,o,V,r]),J=he.useCallback(_e=>{if(_e.touches.length!==1)return;const Ie=_e.touches[0];if(X.current={x:Ie.clientX,y:Ie.clientY},L.current=!1,!E.current)return;const Xe=E.current.getBoundingClientRect(),$e=Xe.width/2,Nt=Xe.height/2,vt=Ie.clientX-Xe.left-$e,Et=Ie.clientY-Xe.top-Nt,Qt=Math.sqrt(vt*vt+Et*Et),Zt=Xe.width/600*70;Qt>Zt&&(U.current=fe(Ie.clientX,Ie.clientY),ue.current=o)},[fe,o]),re=he.useCallback(_e=>{if(_e.touches.length!==1||!X.current)return;const Ie=_e.touches[0],Xe=Ie.clientX-X.current.x,$e=Ie.clientY-X.current.y;if(Math.sqrt(Xe*Xe+$e*$e)>10){if(L.current=!0,_e.preventDefault(),!E.current)return;const vt=E.current.getBoundingClientRect(),Et=vt.width/2,Qt=vt.height/2,Zt=Ie.clientX-vt.left,dn=Ie.clientY-vt.top,on=Math.sqrt(Math.pow(Zt-Et,2)+Math.pow(dn-Qt,2)),Ar=vt.width/600*70;if(on>Ar&&U.current!==0){const qn=fe(Ie.clientX,Ie.clientY),pn=qn-U.current;if(Math.abs(pn)>=15){const Cn=Math.round(pn/30);if(Cn!==0){const br=h==="fixed"?Cn>0?"cw":"ccw":Cn>0?"ccw":"cw",Hr=Math.abs(Cn);for(let Gr=0;Gr<Hr;Gr++)we(br);U.current=qn}}}}},[fe,we,h]),ce=he.useCallback(_e=>{if(!I)return;const Ie=fe(_e.clientX,_e.clientY),Xe=Ie-U.current;if(Math.abs(Xe)>=15){const $e=Math.round(Xe/30);if($e!==0){let Nt;h==="fixed"?Nt=$e>0?"cw":"ccw":Nt=$e>0?"ccw":"cw";const vt=Math.abs($e);for(let Et=0;Et<vt;Et++)we(Nt);U.current=Ie}}},[I,fe,we,h]),pe=he.useCallback(()=>{te(!1)},[]);he.useEffect(()=>{if(I)return document.addEventListener("mousemove",ce),document.addEventListener("mouseup",pe),()=>{document.removeEventListener("mousemove",ce),document.removeEventListener("mouseup",pe)}},[I,ce,pe]);const de=he.useCallback((_e,Ie,Xe)=>{if(!K.current||Xe<=1)return{x:0,y:0};const{clientWidth:$e,clientHeight:Nt}=K.current,vt=12,Et=$e*(Xe-1)/2+vt,Qt=Nt*(Xe-1)/2+vt;return{x:Math.max(-Et,Math.min(Et,_e)),y:Math.max(-Qt,Math.min(Qt,Ie))}},[]);he.useEffect(()=>{j(_e=>de(_e.x,_e.y,r))},[r,de]);const xe=he.useCallback(_e=>{if(!$||!se.current)return;const Ie=_e.clientX-se.current.x,Xe=_e.clientY-se.current.y;j($e=>de($e.x+Ie,$e.y+Xe,r)),se.current={x:_e.clientX,y:_e.clientY}},[$,r,de]),Te=he.useCallback(()=>{ie(!1),se.current=null},[]);he.useEffect(()=>{if($)return document.addEventListener("mousemove",xe),document.addEventListener("mouseup",Te),()=>{document.removeEventListener("mousemove",xe),document.removeEventListener("mouseup",Te)}},[$,xe,Te]);const Ue=_e=>({x:(_e[0].clientX+_e[1].clientX)/2,y:(_e[0].clientY+_e[1].clientY)/2}),Qe=he.useCallback(_e=>{if(_e.touches.length===2){_e.preventDefault();const Ie=_e.touches[0].clientX-_e.touches[1].clientX,Xe=_e.touches[0].clientY-_e.touches[1].clientY;D.current=Math.sqrt(Ie*Ie+Xe*Xe),F.current=Ue(_e.touches)}},[]),et=he.useCallback(_e=>{if(_e.touches.length===2&&D.current!==null){_e.preventDefault(),_e.stopPropagation();const Ie=_e.touches[0].clientX-_e.touches[1].clientX,Xe=_e.touches[0].clientY-_e.touches[1].clientY,$e=Math.sqrt(Ie*Ie+Xe*Xe),Nt=$e/D.current,vt=Math.max(1,Math.min(2.5,r*Nt)),Et=vt>1.3?38:50,Qt=Ue(_e.touches);if(F.current){const Zt=Qt.x-F.current.x,dn=Qt.y-F.current.y;j(on=>de(on.x+Zt,on.y+dn,vt))}D.current=$e,F.current=Qt,t(vt,Et)}},[r,t,de]),je=he.useCallback(_e=>{D.current=null,F.current=null,_e.touches.length===0&&_e.preventDefault()},[]),H=he.useCallback(_e=>{if(_e.ctrlKey||_e.metaKey){_e.preventDefault();const Ie=_e.deltaY>0?.9:1.1,Xe=Math.max(1,Math.min(2.5,r*Ie)),$e=Xe>1.3?38:50;t(Xe,$e)}},[r,t]),Me=cg(),tt=600,Ze=tt/2,Ne=tt/2,nt=60,it=nt+8,ut=145,ht=ut,Mt=210,Xt=Mt,It=250,Vt=he.useMemo(()=>N4(i),[i]),Re=he.useMemo(()=>Vt.sharps>0?`${Vt.sharps}`:Vt.flats>0?`${Vt.flats}`:"",[Vt]),Ge=he.useRef(0),st=_e=>{const Ie=_e,Xe=Date.now();Xe-Ge.current<300||(Ge.current=Xe,ml(_e.notes),W(Ie.segmentId??null),b(_e))},rt=_e=>{const Ie=_e;let Xe=null,$e=null;if(m&&y)Xe=m,$e=y;else if(m){const Nt=w.sections.find(vt=>vt.id===m);if(Nt)for(const vt of Nt.measures){for(const Et of vt.beats)if(!Et.chord){Xe=Nt.id,$e=Et.id;break}if($e)break}}if(!Xe||!$e)for(const Nt of w.sections){for(const vt of Nt.measures){for(const Et of vt.beats)if(!Et.chord){Xe=Nt.id,$e=Et.id;break}if($e)break}if($e)break}Xe&&$e&&(d(_e,Xe,$e),N(Xe,$e)||(C(Xe,$e),W(Ie.segmentId??null),b(_e)))},Gt=_e=>(_e-R+12)%12,Ct=(_e,Ie)=>{const Xe=Gt(_e);return Ie==="major"?Xe===0||Xe===1||Xe===11:Ie==="ii"||Ie==="iii"||Ie==="dim"?Xe===0:!1},pt=_e=>Gt(_e)===1,dt=_e=>{const Ie=Gt(_e);return Ie===2||Ie===4},At=(_e,Ie)=>{const Xe=Gt(_e);if(Ie==="major"){if(Xe===0)return"I";if(Xe===1)return"V";if(Xe===11)return"IV";if(Xe===2)return"II";if(Xe===4)return"III"}if(Ie==="ii"){if(Xe===0)return"ii";if(Xe===1)return"vi"}return Ie==="iii"&&Xe===0?"iii":Ie==="dim"&&Xe===0?"vii":""},lt=(_e,Ie)=>{const Xe=Gt(_e);if(Ie==="major"){if(Xe===0)return"maj7, maj9, maj13 or 6";if(Xe===1)return"7, 9, 11, sus4, 13";if(Xe===11)return"maj7, maj9, maj13 or 6";if(Xe===2||Xe===4)return"7, sus4"}if(Ie==="ii"){if(Xe===0)return"m7, m9, m11, m6";if(Xe===1)return"m7, m9, m11"}return Ie==="iii"&&Xe===0?"m7":Ie==="dim"&&Xe===0?"m75 (7)":""},Ft=_e=>{if(B)return B===_e.segmentId;const Ie=S?.segmentId;return Ie?Ie===_e.segmentId:!1},bt=he.useCallback(_e=>{_e.touches.length===2?Qe(_e):_e.touches.length===1&&J(_e)},[Qe,J]),ct=he.useCallback(_e=>{_e.touches.length===2?et(_e):_e.touches.length===1&&re(_e)},[et,re]),Kt=he.useCallback(_e=>{X.current=null,L.current=!1,je(_e)},[je]),[ft,ot]=he.useState(null),Tt=he.useCallback((_e,Ie,Xe)=>{ot(_e?{text:_e,x:Ie,y:Xe}:null)},[]),Rn=ft?{position:"fixed",left:ft.x,top:ft.y,transform:"translate(-50%, -100%) translateY(-12px)",backgroundColor:"rgba(0, 0, 0, 0.9)",color:"white",padding:"8px 12px",borderRadius:"6px",fontSize:"11px",pointerEvents:"none",zIndex:9999,whiteSpace:"normal",textAlign:"center",maxWidth:"220px",lineHeight:"1.4",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"}:{};return k.jsxs("div",{ref:K,className:`relative flex flex-col items-center justify-center w-full h-full max-w-full max-h-full aspect-square p-1 sm:p-2 select-none ${$?"cursor-grabbing":r>1&&!V?"cursor-grab":""}`,onTouchStart:bt,onTouchMove:ct,onTouchEnd:Kt,onWheel:H,onMouseDown:P,style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",touchAction:"none"},children:[ft&&k.jsx("div",{style:Rn,children:ft.text}),k.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`translate(${G.x}px, ${G.y}px) scale(${r})`,transformOrigin:`center ${e}%`},children:k.jsxs("svg",{ref:E,width:"100%",height:"100%",viewBox:`0 0 ${tt} ${tt}`,className:`w-full h-full select-none ${I?"cursor-grabbing":"cursor-grab"}`,onMouseDown:P,style:{touchAction:"none",userSelect:"none",WebkitUserSelect:"none"},children:[k.jsxs("defs",{children:[k.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[k.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),k.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),k.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:k.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),k.jsx("g",{style:{transform:`rotate(${T}deg)`,transformOrigin:`${Ze}px ${Ne}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:x4.map((_e,Ie)=>{const $e=Ie*30-15,Nt=$e+30,vt=Me[_e.major]||Me.C,Et=_e.ii.replace("m",""),Qt=_e.iii.replace("m",""),Zt=_e.diminished.replace("",""),dn=Ct(Ie,"major"),on=dt(Ie),Ar=Ct(Ie,"ii")||pt(Ie),qn=Ct(Ie,"iii"),pn=Ct(Ie,"dim"),Cn={root:_e.major,quality:"major",numeral:At(Ie,"major"),notes:ph(_e.major,"major"),symbol:_e.major,segmentId:`major-${Ie}`,ringType:"major",positionIndex:Ie},br={root:Et,quality:"minor",numeral:At(Ie,"ii"),notes:ph(Et,"minor"),symbol:_e.ii,segmentId:`ii-${Ie}`,ringType:"minor",positionIndex:Ie},Hr={root:Qt,quality:"minor",numeral:At(Ie,"iii"),notes:ph(Qt,"minor"),symbol:_e.iii,segmentId:`iii-${Ie}`,ringType:"minor",positionIndex:Ie},Gr={root:Zt,quality:"diminished",numeral:At(Ie,"dim"),notes:ph(Zt,"diminished"),symbol:_e.diminished,segmentId:`dim-${Ie}`,ringType:"diminished",positionIndex:Ie},Qs=15,Di=$e+-7.5,Ls=Di+Qs,Ri=Ls,Wi=Ri+Qs,Js=15,Yi=$e+(30-Js)/2,nr=Yi+Js,Fo=_e.major,wi=_e.ii,Xi=_e.iii,Ms=_e.diminished;return k.jsxs("g",{children:[k.jsx(m1,{cx:Ze,cy:Ne,innerRadius:it,outerRadius:ut,startAngle:$e,endAngle:Nt,color:vt,label:Fo,chord:Cn,isSelected:Ft(Cn),isDiatonic:dn,isSecondary:on,onClick:st,onDoubleClick:rt,ringType:"major",wheelRotation:T,romanNumeral:dn||on?At(Ie,"major"):void 0,voicingSuggestion:dn||on?lt(Ie,"major"):void 0,segmentId:`major-${Ie}`,onHover:Tt}),k.jsx(m1,{cx:Ze,cy:Ne,innerRadius:ht,outerRadius:Mt,startAngle:Di,endAngle:Ls,color:vt,label:wi,chord:br,isSelected:Ft(br),isDiatonic:Ar,onClick:st,onDoubleClick:rt,ringType:"minor",wheelRotation:T,romanNumeral:Ar?At(Ie,"ii"):void 0,voicingSuggestion:Ar?lt(Ie,"ii"):void 0,segmentId:`ii-${Ie}`,onHover:Tt}),k.jsx(m1,{cx:Ze,cy:Ne,innerRadius:ht,outerRadius:Mt,startAngle:Ri,endAngle:Wi,color:vt,label:Xi,chord:Hr,isSelected:Ft(Hr),isDiatonic:qn,onClick:st,onDoubleClick:rt,ringType:"minor",wheelRotation:T,romanNumeral:qn?At(Ie,"iii"):void 0,voicingSuggestion:qn?lt(Ie,"iii"):void 0,segmentId:`iii-${Ie}`,onHover:Tt}),k.jsx(m1,{cx:Ze,cy:Ne,innerRadius:Xt,outerRadius:It,startAngle:Yi,endAngle:nr,color:vt,label:Ms,chord:Gr,isSelected:Ft(Gr),isDiatonic:pn,onClick:st,onDoubleClick:rt,ringType:"diminished",wheelRotation:T,romanNumeral:pn?At(Ie,"dim"):void 0,voicingSuggestion:pn?lt(Ie,"dim"):void 0,segmentId:`dim-${Ie}`,onHover:Tt})]},_e.major)})}),k.jsx("circle",{cx:Ze,cy:Ne,r:nt,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2",style:{pointerEvents:"none"}}),k.jsx("text",{x:Ze,y:Ne-25,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),k.jsx("text",{x:Ze,y:Ne+3,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:i}),k.jsx("text",{x:Ze,y:Ne+21,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:Re||"No /"}),k.jsxs("g",{transform:`translate(${Ze-22}, ${Ne+40})`,onClick:()=>we("ccw"),onTouchEnd:_e=>{_e.preventDefault(),_e.stopPropagation(),we("ccw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[k.jsx("circle",{r:V?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),k.jsx("g",{transform:V?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:k.jsx(m3,{size:V?12:9,color:"#9898a6"})})]}),k.jsxs("g",{transform:`translate(${Ze+22}, ${Ne+40})`,onClick:()=>we("cw"),onTouchEnd:_e=>{_e.preventDefault(),_e.stopPropagation(),we("cw")},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[k.jsx("circle",{r:V?14:9,fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors",style:{pointerEvents:"all"}}),k.jsx("g",{transform:V?"translate(-6, -6)":"translate(-4.5, -4.5)",style:{pointerEvents:"none"},children:k.jsx(g3,{size:V?12:9,color:"#9898a6"})})]}),k.jsxs("g",{transform:`translate(${Ze}, ${Ne+40})`,onClick:f,onTouchEnd:_e=>{_e.preventDefault(),_e.stopPropagation(),f()},className:"cursor-pointer",style:{pointerEvents:"all",cursor:"pointer"},children:[k.jsx("circle",{r:V?16:11,fill:h==="rotating"?"#252535":"#3f2e2e",className:"transition-colors",style:{pointerEvents:"all",transition:"fill 0.3s ease"},children:k.jsx("title",{children:h==="rotating"?"Lock wheel (C at top)":"Pin current key to top"})}),k.jsxs("g",{style:{pointerEvents:"none",transition:"transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)",transform:h==="rotating"?"rotate(0deg)":`rotate(${R*30}deg)`,transformOrigin:"0px 0px"},children:[k.jsx("polygon",{points:V?"0,-10 4,0 0,1.5 -4,0":"0,-7 2.5,0 0,1 -2.5,0",fill:"#ef4444",stroke:"#b91c1c",strokeWidth:"0.5"}),k.jsx("polygon",{points:V?"0,10 4,0 0,-1.5 -4,0":"0,7 2.5,0 0,-1 -2.5,0",fill:"#f1f5f9",stroke:"#94a3b8",strokeWidth:"0.5"}),k.jsx("circle",{cx:0,cy:0,r:V?2:1.5,fill:h==="rotating"?"#fef2f2":"#6b7280"})]})]})]})})]})};var Mf=Ky();function VT(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return he.useMemo(()=>i=>{e.forEach(a=>a(i))},e)}const Mp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bh(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function Jg(r){return"nodeType"in r}function as(r){var e,t;return r?Bh(r)?r:Jg(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function e2(r){const{Document:e}=as(r);return r instanceof e}function pd(r){return Bh(r)?!1:r instanceof as(r).HTMLElement}function T3(r){return r instanceof as(r).SVGElement}function qh(r){return r?Bh(r)?r.document:Jg(r)?e2(r)?r:pd(r)||T3(r)?r.ownerDocument:document:document:document}const eo=Mp?he.useLayoutEffect:he.useEffect;function jp(r){const e=he.useRef(r);return eo(()=>{e.current=r}),he.useCallback(function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}function FT(){const r=he.useRef(null),e=he.useCallback((i,a)=>{r.current=setInterval(i,a)},[]),t=he.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function Zf(r,e){e===void 0&&(e=[r]);const t=he.useRef(r);return eo(()=>{t.current!==r&&(t.current=r)},e),t}function md(r,e){const t=he.useRef();return he.useMemo(()=>{const i=r(t.current);return t.current=i,i},[...e])}function np(r){const e=jp(r),t=he.useRef(null),i=he.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,i]}function rp(r){const e=he.useRef();return he.useEffect(()=>{e.current=r},[r]),e.current}let sm={};function gd(r,e){return he.useMemo(()=>{if(e)return e;const t=sm[r]==null?0:sm[r]+1;return sm[r]=t,r+"-"+t},[r,e])}function E3(r){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return i.reduce((o,h)=>{const c=Object.entries(h);for(const[f,d]of c){const m=o[f];m!=null&&(o[f]=m+r*d)}return o},{...e})}}const wh=E3(1),$f=E3(-1);function BT(r){return"clientX"in r&&"clientY"in r}function Dp(r){if(!r)return!1;const{KeyboardEvent:e}=as(r.target);return e&&r instanceof e}function qT(r){if(!r)return!1;const{TouchEvent:e}=as(r.target);return e&&r instanceof e}function ip(r){if(qT(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return BT(r)?{x:r.clientX,y:r.clientY}:null}const vc=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[vc.Translate.toString(r),vc.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:i}=r;return e+" "+t+"ms "+i}}}),mb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function zT(r){return r.matches(mb)?r:r.querySelector(mb)}const PT={display:"none"};function UT(r){let{id:e,value:t}=r;return fn.createElement("div",{id:e,style:PT},t)}function HT(r){let{id:e,announcement:t,ariaLiveType:i="assertive"}=r;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return fn.createElement("div",{id:e,style:a,role:"status","aria-live":i,"aria-atomic":!0},t)}function GT(){const[r,e]=he.useState("");return{announce:he.useCallback(i=>{i!=null&&e(i)},[]),announcement:r}}const k3=he.createContext(null);function O3(r){const e=he.useContext(k3);he.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function WT(){const[r]=he.useState(()=>new Set),e=he.useCallback(i=>(r.add(i),()=>r.delete(i)),[r]);return[he.useCallback(i=>{let{type:a,event:o}=i;r.forEach(h=>{var c;return(c=h[a])==null?void 0:c.call(h,o)})},[r]),e]}const YT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},XT={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function ZT(r){let{announcements:e=XT,container:t,hiddenTextDescribedById:i,screenReaderInstructions:a=YT}=r;const{announce:o,announcement:h}=GT(),c=gd("DndLiveRegion"),[f,d]=he.useState(!1);if(he.useEffect(()=>{d(!0)},[]),O3(he.useMemo(()=>({onDragStart(y){let{active:w}=y;o(e.onDragStart({active:w}))},onDragMove(y){let{active:w,over:b}=y;e.onDragMove&&o(e.onDragMove({active:w,over:b}))},onDragOver(y){let{active:w,over:b}=y;o(e.onDragOver({active:w,over:b}))},onDragEnd(y){let{active:w,over:b}=y;o(e.onDragEnd({active:w,over:b}))},onDragCancel(y){let{active:w,over:b}=y;o(e.onDragCancel({active:w,over:b}))}}),[o,e])),!f)return null;const m=fn.createElement(fn.Fragment,null,fn.createElement(UT,{id:i,value:a.draggable}),fn.createElement(HT,{id:c,announcement:h}));return t?Mf.createPortal(m,t):m}var ui;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(ui||(ui={}));function sp(){}function gb(r,e){return he.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function $T(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return he.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const to=Object.freeze({x:0,y:0});function L3(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function KT(r,e){const t=ip(r);if(!t)return"0 0";const i={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return i.x+"% "+i.y+"%"}function M3(r,e){let{data:{value:t}}=r,{data:{value:i}}=e;return t-i}function QT(r,e){let{data:{value:t}}=r,{data:{value:i}}=e;return i-t}function vb(r){let{left:e,top:t,height:i,width:a}=r;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+i},{x:e+a,y:t+i}]}function j3(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}function bb(r,e,t){return e===void 0&&(e=r.left),t===void 0&&(t=r.top),{x:e+r.width*.5,y:t+r.height*.5}}const JT=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=bb(e,e.left,e.top),o=[];for(const h of i){const{id:c}=h,f=t.get(c);if(f){const d=L3(bb(f),a);o.push({id:c,data:{droppableContainer:h,value:d}})}}return o.sort(M3)},e7=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=vb(e),o=[];for(const h of i){const{id:c}=h,f=t.get(c);if(f){const d=vb(f),m=a.reduce((w,b,S)=>w+L3(d[S],b),0),y=Number((m/4).toFixed(4));o.push({id:c,data:{droppableContainer:h,value:y}})}}return o.sort(M3)};function t7(r,e){const t=Math.max(e.top,r.top),i=Math.max(e.left,r.left),a=Math.min(e.left+e.width,r.left+r.width),o=Math.min(e.top+e.height,r.top+r.height),h=a-i,c=o-t;if(i<a&&t<o){const f=e.width*e.height,d=r.width*r.height,m=h*c,y=m/(f+d-m);return Number(y.toFixed(4))}return 0}const n7=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:i}=r;const a=[];for(const o of i){const{id:h}=o,c=t.get(h);if(c){const f=t7(c,e);f>0&&a.push({id:h,data:{droppableContainer:o,value:f}})}}return a.sort(QT)};function r7(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function D3(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:to}function i7(r){return function(t){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return a.reduce((h,c)=>({...h,top:h.top+r*c.y,bottom:h.bottom+r*c.y,left:h.left+r*c.x,right:h.right+r*c.x}),{...t})}}const s7=i7(1);function R3(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function a7(r,e,t){const i=R3(e);if(!i)return r;const{scaleX:a,scaleY:o,x:h,y:c}=i,f=r.left-h-(1-a)*parseFloat(t),d=r.top-c-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),m=a?r.width/a:r.width,y=o?r.height/o:r.height;return{width:m,height:y,top:d,right:f+m,bottom:d+y,left:f}}const o7={ignoreTransform:!1};function zh(r,e){e===void 0&&(e=o7);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:m}=as(r).getComputedStyle(r);d&&(t=a7(t,d,m))}const{top:i,left:a,width:o,height:h,bottom:c,right:f}=t;return{top:i,left:a,width:o,height:h,bottom:c,right:f}}function yb(r){return zh(r,{ignoreTransform:!0})}function l7(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function c7(r,e){return e===void 0&&(e=as(r).getComputedStyle(r)),e.position==="fixed"}function u7(r,e){e===void 0&&(e=as(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function Rp(r,e){const t=[];function i(a){if(e!=null&&t.length>=e||!a)return t;if(e2(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!pd(a)||T3(a)||t.includes(a))return t;const o=as(r).getComputedStyle(a);return a!==r&&u7(a,o)&&t.push(a),c7(a,o)?t:i(a.parentNode)}return r?i(r):t}function I3(r){const[e]=Rp(r,1);return e??null}function am(r){return!Mp||!r?null:Bh(r)?r:Jg(r)?e2(r)||r===qh(r).scrollingElement?window:pd(r)?r:null:null}function V3(r){return Bh(r)?r.scrollX:r.scrollLeft}function F3(r){return Bh(r)?r.scrollY:r.scrollTop}function Ym(r){return{x:V3(r),y:F3(r)}}var yi;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(yi||(yi={}));function B3(r){return!Mp||!r?!1:r===document.scrollingElement}function q3(r){const e={x:0,y:0},t=B3(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},i={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},a=r.scrollTop<=e.y,o=r.scrollLeft<=e.x,h=r.scrollTop>=i.y,c=r.scrollLeft>=i.x;return{isTop:a,isLeft:o,isBottom:h,isRight:c,maxScroll:i,minScroll:e}}const h7={x:.2,y:.2};function f7(r,e,t,i,a){let{top:o,left:h,right:c,bottom:f}=t;i===void 0&&(i=10),a===void 0&&(a=h7);const{isTop:d,isBottom:m,isLeft:y,isRight:w}=q3(r),b={x:0,y:0},S={x:0,y:0},N={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+N.height?(b.y=yi.Backward,S.y=i*Math.abs((e.top+N.height-o)/N.height)):!m&&f>=e.bottom-N.height&&(b.y=yi.Forward,S.y=i*Math.abs((e.bottom-N.height-f)/N.height)),!w&&c>=e.right-N.width?(b.x=yi.Forward,S.x=i*Math.abs((e.right-N.width-c)/N.width)):!y&&h<=e.left+N.width&&(b.x=yi.Backward,S.x=i*Math.abs((e.left+N.width-h)/N.width)),{direction:b,speed:S}}function d7(r){if(r===document.scrollingElement){const{innerWidth:o,innerHeight:h}=window;return{top:0,left:0,right:o,bottom:h,width:o,height:h}}const{top:e,left:t,right:i,bottom:a}=r.getBoundingClientRect();return{top:e,left:t,right:i,bottom:a,width:r.clientWidth,height:r.clientHeight}}function z3(r){return r.reduce((e,t)=>wh(e,Ym(t)),to)}function p7(r){return r.reduce((e,t)=>e+V3(t),0)}function m7(r){return r.reduce((e,t)=>e+F3(t),0)}function P3(r,e){if(e===void 0&&(e=zh),!r)return;const{top:t,left:i,bottom:a,right:o}=e(r);I3(r)&&(a<=0||o<=0||t>=window.innerHeight||i>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const g7=[["x",["left","right"],p7],["y",["top","bottom"],m7]];class t2{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=Rp(t),a=z3(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,h,c]of g7)for(const f of h)Object.defineProperty(this,f,{get:()=>{const d=c(i),m=a[o]-d;return this.rect[f]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class If{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...t)})},this.target=e}add(e,t,i){var a;(a=this.target)==null||a.addEventListener(e,t,i),this.listeners.push([e,t,i])}}function v7(r){const{EventTarget:e}=as(r);return r instanceof e?r:qh(r)}function om(r,e){const t=Math.abs(r.x),i=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+i**2)>e:"x"in e&&"y"in e?t>e.x&&i>e.y:"x"in e?t>e.x:"y"in e?i>e.y:!1}var ga;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(ga||(ga={}));function xb(r){r.preventDefault()}function b7(r){r.stopPropagation()}var _n;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(_n||(_n={}));const U3={start:[_n.Space,_n.Enter],cancel:[_n.Esc],end:[_n.Space,_n.Enter,_n.Tab]},y7=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case _n.Right:return{...t,x:t.x+25};case _n.Left:return{...t,x:t.x-25};case _n.Down:return{...t,y:t.y+25};case _n.Up:return{...t,y:t.y-25}}};class n2{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new If(qh(t)),this.windowListeners=new If(as(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ga.Resize,this.handleCancel),this.windowListeners.add(ga.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ga.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,i=e.node.current;i&&P3(i),t(to)}handleKeyDown(e){if(Dp(e)){const{active:t,context:i,options:a}=this.props,{keyboardCodes:o=U3,coordinateGetter:h=y7,scrollBehavior:c="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:d}=i.current,m=d?{x:d.left,y:d.top}:to;this.referenceCoordinates||(this.referenceCoordinates=m);const y=h(e,{active:t,context:i.current,currentCoordinates:m});if(y){const w=$f(y,m),b={x:0,y:0},{scrollableAncestors:S}=i.current;for(const N of S){const C=e.code,{isTop:T,isRight:R,isLeft:D,isBottom:F,maxScroll:B,minScroll:W}=q3(N),G=d7(N),j={x:Math.min(C===_n.Right?G.right-G.width/2:G.right,Math.max(C===_n.Right?G.left:G.left+G.width/2,y.x)),y:Math.min(C===_n.Down?G.bottom-G.height/2:G.bottom,Math.max(C===_n.Down?G.top:G.top+G.height/2,y.y))},V=C===_n.Right&&!R||C===_n.Left&&!D,K=C===_n.Down&&!F||C===_n.Up&&!T;if(V&&j.x!==y.x){const E=N.scrollLeft+w.x,I=C===_n.Right&&E<=B.x||C===_n.Left&&E>=W.x;if(I&&!w.y){N.scrollTo({left:E,behavior:c});return}I?b.x=N.scrollLeft-E:b.x=C===_n.Right?N.scrollLeft-B.x:N.scrollLeft-W.x,b.x&&N.scrollBy({left:-b.x,behavior:c});break}else if(K&&j.y!==y.y){const E=N.scrollTop+w.y,I=C===_n.Down&&E<=B.y||C===_n.Up&&E>=W.y;if(I&&!w.x){N.scrollTo({top:E,behavior:c});return}I?b.y=N.scrollTop-E:b.y=C===_n.Down?N.scrollTop-B.y:N.scrollTop-W.y,b.y&&N.scrollBy({top:-b.y,behavior:c});break}}this.handleMove(e,wh($f(y,this.referenceCoordinates),b))}}}handleMove(e,t){const{onMove:i}=this.props;e.preventDefault(),i(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}n2.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:i=U3,onActivation:a}=e,{active:o}=t;const{code:h}=r.nativeEvent;if(i.start.includes(h)){const c=o.activatorNode.current;return c&&r.target!==c?!1:(r.preventDefault(),a?.({event:r.nativeEvent}),!0)}return!1}}];function _b(r){return!!(r&&"distance"in r)}function wb(r){return!!(r&&"delay"in r)}class r2{constructor(e,t,i){var a;i===void 0&&(i=v7(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:h}=o;this.props=e,this.events=t,this.document=qh(h),this.documentListeners=new If(this.document),this.listeners=new If(i),this.windowListeners=new If(as(h)),this.initialCoordinates=(a=ip(o))!=null?a:to,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ga.Resize,this.handleCancel),this.windowListeners.add(ga.DragStart,xb),this.windowListeners.add(ga.VisibilityChange,this.handleCancel),this.windowListeners.add(ga.ContextMenu,xb),this.documentListeners.add(ga.Keydown,this.handleKeydown),t){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(wb(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(_b(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:i,onPending:a}=this.props;a(i,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ga.Click,b7,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ga.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:i,initialCoordinates:a,props:o}=this,{onMove:h,options:{activationConstraint:c}}=o;if(!a)return;const f=(t=ip(e))!=null?t:to,d=$f(a,f);if(!i&&c){if(_b(c)){if(c.tolerance!=null&&om(d,c.tolerance))return this.handleCancel();if(om(d,c.distance))return this.handleStart()}if(wb(c)&&om(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),h(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===_n.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const x7={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class i2 extends r2{constructor(e){const{event:t}=e,i=qh(t.target);super(e,x7,i)}}i2.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;return!t.isPrimary||t.button!==0?!1:(i?.({event:t}),!0)}}];const _7={move:{name:"mousemove"},end:{name:"mouseup"}};var Xm;(function(r){r[r.RightClick=2]="RightClick"})(Xm||(Xm={}));class w7 extends r2{constructor(e){super(e,_7,qh(e.event.target))}}w7.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;return t.button===Xm.RightClick?!1:(i?.({event:t}),!0)}}];const lm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class S7 extends r2{constructor(e){super(e,lm)}static setup(){return window.addEventListener(lm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(lm.move.name,e)};function e(){}}}S7.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:i}=e;const{touches:a}=t;return a.length>1?!1:(i?.({event:t}),!0)}}];var Vf;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(Vf||(Vf={}));var ap;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(ap||(ap={}));function A7(r){let{acceleration:e,activator:t=Vf.Pointer,canScroll:i,draggingRect:a,enabled:o,interval:h=5,order:c=ap.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:m,delta:y,threshold:w}=r;const b=C7({delta:y,disabled:!o}),[S,N]=FT(),C=he.useRef({x:0,y:0}),T=he.useRef({x:0,y:0}),R=he.useMemo(()=>{switch(t){case Vf.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Vf.DraggableRect:return a}},[t,a,f]),D=he.useRef(null),F=he.useCallback(()=>{const W=D.current;if(!W)return;const G=C.current.x*T.current.x,j=C.current.y*T.current.y;W.scrollBy(G,j)},[]),B=he.useMemo(()=>c===ap.TreeOrder?[...d].reverse():d,[c,d]);he.useEffect(()=>{if(!o||!d.length||!R){N();return}for(const W of B){if(i?.(W)===!1)continue;const G=d.indexOf(W),j=m[G];if(!j)continue;const{direction:V,speed:K}=f7(W,j,R,e,w);for(const E of["x","y"])b[E][V[E]]||(K[E]=0,V[E]=0);if(K.x>0||K.y>0){N(),D.current=W,S(F,h),C.current=K,T.current=V;return}}C.current={x:0,y:0},T.current={x:0,y:0},N()},[e,F,i,N,o,h,JSON.stringify(R),JSON.stringify(b),S,d,B,m,JSON.stringify(w)])}const N7={x:{[yi.Backward]:!1,[yi.Forward]:!1},y:{[yi.Backward]:!1,[yi.Forward]:!1}};function C7(r){let{delta:e,disabled:t}=r;const i=rp(e);return md(a=>{if(t||!i||!a)return N7;const o={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[yi.Backward]:a.x[yi.Backward]||o.x===-1,[yi.Forward]:a.x[yi.Forward]||o.x===1},y:{[yi.Backward]:a.y[yi.Backward]||o.y===-1,[yi.Forward]:a.y[yi.Forward]||o.y===1}}},[t,e,i])}function T7(r,e){const t=e!=null?r.get(e):void 0,i=t?t.node.current:null;return md(a=>{var o;return e==null?null:(o=i??a)!=null?o:null},[i,e])}function E7(r,e){return he.useMemo(()=>r.reduce((t,i)=>{const{sensor:a}=i,o=a.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,i)}));return[...t,...o]},[]),[r,e])}var Kf;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(Kf||(Kf={}));var Zm;(function(r){r.Optimized="optimized"})(Zm||(Zm={}));const Sb=new Map;function k7(r,e){let{dragging:t,dependencies:i,config:a}=e;const[o,h]=he.useState(null),{frequency:c,measure:f,strategy:d}=a,m=he.useRef(r),y=C(),w=Zf(y),b=he.useCallback(function(T){T===void 0&&(T=[]),!w.current&&h(R=>R===null?T:R.concat(T.filter(D=>!R.includes(D))))},[w]),S=he.useRef(null),N=md(T=>{if(y&&!t)return Sb;if(!T||T===Sb||m.current!==r||o!=null){const R=new Map;for(let D of r){if(!D)continue;if(o&&o.length>0&&!o.includes(D.id)&&D.rect.current){R.set(D.id,D.rect.current);continue}const F=D.node.current,B=F?new t2(f(F),F):null;D.rect.current=B,B&&R.set(D.id,B)}return R}return T},[r,o,t,y,f]);return he.useEffect(()=>{m.current=r},[r]),he.useEffect(()=>{y||b()},[t,y]),he.useEffect(()=>{o&&o.length>0&&h(null)},[JSON.stringify(o)]),he.useEffect(()=>{y||typeof c!="number"||S.current!==null||(S.current=setTimeout(()=>{b(),S.current=null},c))},[c,y,b,...i]),{droppableRects:N,measureDroppableContainers:b,measuringScheduled:o!=null};function C(){switch(d){case Kf.Always:return!1;case Kf.BeforeDragging:return t;default:return!t}}}function s2(r,e){return md(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function O7(r,e){return s2(r,e)}function L7(r){let{callback:e,disabled:t}=r;const i=jp(e),a=he.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(i)},[i,t]);return he.useEffect(()=>()=>a?.disconnect(),[a]),a}function Ip(r){let{callback:e,disabled:t}=r;const i=jp(e),a=he.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(i)},[t]);return he.useEffect(()=>()=>a?.disconnect(),[a]),a}function M7(r){return new t2(zh(r),r)}function Ab(r,e,t){e===void 0&&(e=M7);const[i,a]=he.useState(null);function o(){a(f=>{if(!r)return null;if(r.isConnected===!1){var d;return(d=f??t)!=null?d:null}const m=e(r);return JSON.stringify(f)===JSON.stringify(m)?f:m})}const h=L7({callback(f){if(r)for(const d of f){const{type:m,target:y}=d;if(m==="childList"&&y instanceof HTMLElement&&y.contains(r)){o();break}}}}),c=Ip({callback:o});return eo(()=>{o(),r?(c?.observe(r),h?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),h?.disconnect())},[r]),i}function j7(r){const e=s2(r);return D3(r,e)}const Nb=[];function D7(r){const e=he.useRef(r),t=md(i=>r?i&&i!==Nb&&r&&e.current&&r.parentNode===e.current.parentNode?i:Rp(r):Nb,[r]);return he.useEffect(()=>{e.current=r},[r]),t}function R7(r){const[e,t]=he.useState(null),i=he.useRef(r),a=he.useCallback(o=>{const h=am(o.target);h&&t(c=>c?(c.set(h,Ym(h)),new Map(c)):null)},[]);return he.useEffect(()=>{const o=i.current;if(r!==o){h(o);const c=r.map(f=>{const d=am(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,Ym(d)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),i.current=r}return()=>{h(r),h(o)};function h(c){c.forEach(f=>{const d=am(f);d?.removeEventListener("scroll",a)})}},[a,r]),he.useMemo(()=>r.length?e?Array.from(e.values()).reduce((o,h)=>wh(o,h),to):z3(r):to,[r,e])}function Cb(r,e){e===void 0&&(e=[]);const t=he.useRef(null);return he.useEffect(()=>{t.current=null},e),he.useEffect(()=>{const i=r!==to;i&&!t.current&&(t.current=r),!i&&t.current&&(t.current=null)},[r]),t.current?$f(r,t.current):to}function I7(r){he.useEffect(()=>{if(!Mp)return;const e=r.map(t=>{let{sensor:i}=t;return i.setup==null?void 0:i.setup()});return()=>{for(const t of e)t?.()}},r.map(e=>{let{sensor:t}=e;return t}))}function V7(r,e){return he.useMemo(()=>r.reduce((t,i)=>{let{eventName:a,handler:o}=i;return t[a]=h=>{o(h,e)},t},{}),[r,e])}function H3(r){return he.useMemo(()=>r?l7(r):null,[r])}const Tb=[];function F7(r,e){e===void 0&&(e=zh);const[t]=r,i=H3(t?as(t):null),[a,o]=he.useState(Tb);function h(){o(()=>r.length?r.map(f=>B3(f)?i:new t2(e(f),f)):Tb)}const c=Ip({callback:h});return eo(()=>{c?.disconnect(),h(),r.forEach(f=>c?.observe(f))},[r]),a}function G3(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return pd(e)?e:r}function B7(r){let{measure:e}=r;const[t,i]=he.useState(null),a=he.useCallback(d=>{for(const{target:m}of d)if(pd(m)){i(y=>{const w=e(m);return y?{...y,width:w.width,height:w.height}:w});break}},[e]),o=Ip({callback:a}),h=he.useCallback(d=>{const m=G3(d);o?.disconnect(),m&&o?.observe(m),i(m?e(m):null)},[e,o]),[c,f]=np(h);return he.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const q7=[{sensor:i2,options:{}},{sensor:n2,options:{}}],z7={current:{}},L1={draggable:{measure:yb},droppable:{measure:yb,strategy:Kf.WhileDragging,frequency:Zm.Optimized},dragOverlay:{measure:zh}};class Ff extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,i;return(t=(i=this.get(e))==null?void 0:i.node.current)!=null?t:void 0}}const P7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ff,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:sp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:L1,measureDroppableContainers:sp,windowRect:null,measuringScheduled:!1},W3={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:sp,draggableNodes:new Map,over:null,measureDroppableContainers:sp},vd=he.createContext(W3),Y3=he.createContext(P7);function U7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ff}}}function H7(r,e){switch(e.type){case ui.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case ui.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}};case ui.DragEnd:case ui.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ui.RegisterDroppable:{const{element:t}=e,{id:i}=t,a=new Ff(r.droppable.containers);return a.set(i,t),{...r,droppable:{...r.droppable,containers:a}}}case ui.SetDroppableDisabled:{const{id:t,key:i,disabled:a}=e,o=r.droppable.containers.get(t);if(!o||i!==o.key)return r;const h=new Ff(r.droppable.containers);return h.set(t,{...o,disabled:a}),{...r,droppable:{...r.droppable,containers:h}}}case ui.UnregisterDroppable:{const{id:t,key:i}=e,a=r.droppable.containers.get(t);if(!a||i!==a.key)return r;const o=new Ff(r.droppable.containers);return o.delete(t),{...r,droppable:{...r.droppable,containers:o}}}default:return r}}function G7(r){let{disabled:e}=r;const{active:t,activatorEvent:i,draggableNodes:a}=he.useContext(vd),o=rp(i),h=rp(t?.id);return he.useEffect(()=>{if(!e&&!i&&o&&h!=null){if(!Dp(o)||document.activeElement===o.target)return;const c=a.get(h);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const m of[f.current,d.current]){if(!m)continue;const y=zT(m);if(y){y.focus();break}}})}},[i,e,a,h,o]),null}function X3(r,e){let{transform:t,...i}=e;return r!=null&&r.length?r.reduce((a,o)=>o({transform:a,...i}),t):t}function W7(r){return he.useMemo(()=>({draggable:{...L1.draggable,...r?.draggable},droppable:{...L1.droppable,...r?.droppable},dragOverlay:{...L1.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function Y7(r){let{activeNode:e,measure:t,initialRect:i,config:a=!0}=r;const o=he.useRef(!1),{x:h,y:c}=typeof a=="boolean"?{x:a,y:a}:a;eo(()=>{if(!h&&!c||!e){o.current=!1;return}if(o.current||!i)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const m=t(d),y=D3(m,i);if(h||(y.x=0),c||(y.y=0),o.current=!0,Math.abs(y.x)>0||Math.abs(y.y)>0){const w=I3(d);w&&w.scrollBy({top:y.y,left:y.x})}},[e,h,c,i,t])}const Vp=he.createContext({...to,scaleX:1,scaleY:1});var lc;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(lc||(lc={}));const X7=he.memo(function(e){var t,i,a,o;let{id:h,accessibility:c,autoScroll:f=!0,children:d,sensors:m=q7,collisionDetection:y=n7,measuring:w,modifiers:b,...S}=e;const N=he.useReducer(H7,void 0,U7),[C,T]=N,[R,D]=WT(),[F,B]=he.useState(lc.Uninitialized),W=F===lc.Initialized,{draggable:{active:G,nodes:j,translate:V},droppable:{containers:K}}=C,E=G!=null?j.get(G):null,I=he.useRef({initial:null,translated:null}),te=he.useMemo(()=>{var ft;return G!=null?{id:G,data:(ft=E?.data)!=null?ft:z7,rect:I}:null},[G,E]),U=he.useRef(null),[ue,$]=he.useState(null),[ie,se]=he.useState(null),fe=Zf(S,Object.values(S)),we=gd("DndDescribedBy",h),X=he.useMemo(()=>K.getEnabled(),[K]),L=W7(w),{droppableRects:P,measureDroppableContainers:J,measuringScheduled:re}=k7(X,{dragging:W,dependencies:[V.x,V.y],config:L.droppable}),ce=T7(j,G),pe=he.useMemo(()=>ie?ip(ie):null,[ie]),de=Kt(),xe=O7(ce,L.draggable.measure);Y7({activeNode:G!=null?j.get(G):null,config:de.layoutShiftCompensation,initialRect:xe,measure:L.draggable.measure});const Te=Ab(ce,L.draggable.measure,xe),Ue=Ab(ce?ce.parentElement:null),Qe=he.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:P,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:K,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),et=K.getNodeFor((t=Qe.current.over)==null?void 0:t.id),je=B7({measure:L.dragOverlay.measure}),H=(i=je.nodeRef.current)!=null?i:ce,Me=W?(a=je.rect)!=null?a:Te:null,tt=!!(je.nodeRef.current&&je.rect),Ze=j7(tt?null:Te),Ne=H3(H?as(H):null),nt=D7(W?et??ce:null),it=F7(nt),ut=X3(b,{transform:{x:V.x-Ze.x,y:V.y-Ze.y,scaleX:1,scaleY:1},activatorEvent:ie,active:te,activeNodeRect:Te,containerNodeRect:Ue,draggingNodeRect:Me,over:Qe.current.over,overlayNodeRect:je.rect,scrollableAncestors:nt,scrollableAncestorRects:it,windowRect:Ne}),ht=pe?wh(pe,V):null,Mt=R7(nt),Xt=Cb(Mt),It=Cb(Mt,[Te]),Vt=wh(ut,Xt),Re=Me?s7(Me,ut):null,Ge=te&&Re?y({active:te,collisionRect:Re,droppableRects:P,droppableContainers:X,pointerCoordinates:ht}):null,st=j3(Ge,"id"),[rt,Gt]=he.useState(null),Ct=tt?ut:wh(ut,It),pt=r7(Ct,(o=rt?.rect)!=null?o:null,Te),dt=he.useRef(null),At=he.useCallback((ft,ot)=>{let{sensor:Tt,options:Rn}=ot;if(U.current==null)return;const _e=j.get(U.current);if(!_e)return;const Ie=ft.nativeEvent,Xe=new Tt({active:U.current,activeNode:_e,event:Ie,options:Rn,context:Qe,onAbort(Nt){if(!j.get(Nt))return;const{onDragAbort:Et}=fe.current,Qt={id:Nt};Et?.(Qt),R({type:"onDragAbort",event:Qt})},onPending(Nt,vt,Et,Qt){if(!j.get(Nt))return;const{onDragPending:dn}=fe.current,on={id:Nt,constraint:vt,initialCoordinates:Et,offset:Qt};dn?.(on),R({type:"onDragPending",event:on})},onStart(Nt){const vt=U.current;if(vt==null)return;const Et=j.get(vt);if(!Et)return;const{onDragStart:Qt}=fe.current,Zt={activatorEvent:Ie,active:{id:vt,data:Et.data,rect:I}};Mf.unstable_batchedUpdates(()=>{Qt?.(Zt),B(lc.Initializing),T({type:ui.DragStart,initialCoordinates:Nt,active:vt}),R({type:"onDragStart",event:Zt}),$(dt.current),se(Ie)})},onMove(Nt){T({type:ui.DragMove,coordinates:Nt})},onEnd:$e(ui.DragEnd),onCancel:$e(ui.DragCancel)});dt.current=Xe;function $e(Nt){return async function(){const{active:Et,collisions:Qt,over:Zt,scrollAdjustedTranslate:dn}=Qe.current;let on=null;if(Et&&dn){const{cancelDrop:Ar}=fe.current;on={activatorEvent:Ie,active:Et,collisions:Qt,delta:dn,over:Zt},Nt===ui.DragEnd&&typeof Ar=="function"&&await Promise.resolve(Ar(on))&&(Nt=ui.DragCancel)}U.current=null,Mf.unstable_batchedUpdates(()=>{T({type:Nt}),B(lc.Uninitialized),Gt(null),$(null),se(null),dt.current=null;const Ar=Nt===ui.DragEnd?"onDragEnd":"onDragCancel";if(on){const qn=fe.current[Ar];qn?.(on),R({type:Ar,event:on})}})}}},[j]),lt=he.useCallback((ft,ot)=>(Tt,Rn)=>{const _e=Tt.nativeEvent,Ie=j.get(Rn);if(U.current!==null||!Ie||_e.dndKit||_e.defaultPrevented)return;const Xe={active:Ie};ft(Tt,ot.options,Xe)===!0&&(_e.dndKit={capturedBy:ot.sensor},U.current=Rn,At(Tt,ot))},[j,At]),Ft=E7(m,lt);I7(m),eo(()=>{Te&&F===lc.Initializing&&B(lc.Initialized)},[Te,F]),he.useEffect(()=>{const{onDragMove:ft}=fe.current,{active:ot,activatorEvent:Tt,collisions:Rn,over:_e}=Qe.current;if(!ot||!Tt)return;const Ie={active:ot,activatorEvent:Tt,collisions:Rn,delta:{x:Vt.x,y:Vt.y},over:_e};Mf.unstable_batchedUpdates(()=>{ft?.(Ie),R({type:"onDragMove",event:Ie})})},[Vt.x,Vt.y]),he.useEffect(()=>{const{active:ft,activatorEvent:ot,collisions:Tt,droppableContainers:Rn,scrollAdjustedTranslate:_e}=Qe.current;if(!ft||U.current==null||!ot||!_e)return;const{onDragOver:Ie}=fe.current,Xe=Rn.get(st),$e=Xe&&Xe.rect.current?{id:Xe.id,rect:Xe.rect.current,data:Xe.data,disabled:Xe.disabled}:null,Nt={active:ft,activatorEvent:ot,collisions:Tt,delta:{x:_e.x,y:_e.y},over:$e};Mf.unstable_batchedUpdates(()=>{Gt($e),Ie?.(Nt),R({type:"onDragOver",event:Nt})})},[st]),eo(()=>{Qe.current={activatorEvent:ie,active:te,activeNode:ce,collisionRect:Re,collisions:Ge,droppableRects:P,draggableNodes:j,draggingNode:H,draggingNodeRect:Me,droppableContainers:K,over:rt,scrollableAncestors:nt,scrollAdjustedTranslate:Vt},I.current={initial:Me,translated:Re}},[te,ce,Ge,Re,j,H,Me,P,K,rt,nt,Vt]),A7({...de,delta:V,draggingRect:Re,pointerCoordinates:ht,scrollableAncestors:nt,scrollableAncestorRects:it});const bt=he.useMemo(()=>({active:te,activeNode:ce,activeNodeRect:Te,activatorEvent:ie,collisions:Ge,containerNodeRect:Ue,dragOverlay:je,draggableNodes:j,droppableContainers:K,droppableRects:P,over:rt,measureDroppableContainers:J,scrollableAncestors:nt,scrollableAncestorRects:it,measuringConfiguration:L,measuringScheduled:re,windowRect:Ne}),[te,ce,Te,ie,Ge,Ue,je,j,K,P,rt,J,nt,it,L,re,Ne]),ct=he.useMemo(()=>({activatorEvent:ie,activators:Ft,active:te,activeNodeRect:Te,ariaDescribedById:{draggable:we},dispatch:T,draggableNodes:j,over:rt,measureDroppableContainers:J}),[ie,Ft,te,Te,T,we,j,rt,J]);return fn.createElement(k3.Provider,{value:D},fn.createElement(vd.Provider,{value:ct},fn.createElement(Y3.Provider,{value:bt},fn.createElement(Vp.Provider,{value:pt},d)),fn.createElement(G7,{disabled:c?.restoreFocus===!1})),fn.createElement(ZT,{...c,hiddenTextDescribedById:we}));function Kt(){const ft=ue?.autoScrollEnabled===!1,ot=typeof f=="object"?f.enabled===!1:f===!1,Tt=W&&!ft&&!ot;return typeof f=="object"?{...f,enabled:Tt}:{enabled:Tt}}}),Z7=he.createContext(null),Eb="button",$7="Draggable";function Z3(r){let{id:e,data:t,disabled:i=!1,attributes:a}=r;const o=gd($7),{activators:h,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:m,draggableNodes:y,over:w}=he.useContext(vd),{role:b=Eb,roleDescription:S="draggable",tabIndex:N=0}=a??{},C=f?.id===e,T=he.useContext(C?Vp:Z7),[R,D]=np(),[F,B]=np(),W=V7(h,e),G=Zf(t);eo(()=>(y.set(e,{id:e,key:o,node:R,activatorNode:F,data:G}),()=>{const V=y.get(e);V&&V.key===o&&y.delete(e)}),[y,e]);const j=he.useMemo(()=>({role:b,tabIndex:N,"aria-disabled":i,"aria-pressed":C&&b===Eb?!0:void 0,"aria-roledescription":S,"aria-describedby":m.draggable}),[i,b,N,C,S,m.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:j,isDragging:C,listeners:i?void 0:W,node:R,over:w,setNodeRef:D,setActivatorNodeRef:B,transform:T}}function $3(){return he.useContext(Y3)}const K7="Droppable",Q7={timeout:25};function K3(r){let{data:e,disabled:t=!1,id:i,resizeObserverConfig:a}=r;const o=gd(K7),{active:h,dispatch:c,over:f,measureDroppableContainers:d}=he.useContext(vd),m=he.useRef({disabled:t}),y=he.useRef(!1),w=he.useRef(null),b=he.useRef(null),{disabled:S,updateMeasurementsFor:N,timeout:C}={...Q7,...a},T=Zf(N??i),R=he.useCallback(()=>{if(!y.current){y.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{d(Array.isArray(T.current)?T.current:[T.current]),b.current=null},C)},[C]),D=Ip({callback:R,disabled:S||!h}),F=he.useCallback((j,V)=>{D&&(V&&(D.unobserve(V),y.current=!1),j&&D.observe(j))},[D]),[B,W]=np(F),G=Zf(e);return he.useEffect(()=>{!D||!B.current||(D.disconnect(),y.current=!1,D.observe(B.current))},[B,D]),he.useEffect(()=>(c({type:ui.RegisterDroppable,element:{id:i,key:o,disabled:t,node:B,rect:w,data:G}}),()=>c({type:ui.UnregisterDroppable,key:o,id:i})),[i]),he.useEffect(()=>{t!==m.current.disabled&&(c({type:ui.SetDroppableDisabled,id:i,key:o,disabled:t}),m.current.disabled=t)},[i,o,t,c]),{active:h,rect:w,isOver:f?.id===i,node:B,over:f,setNodeRef:W}}function J7(r){let{animation:e,children:t}=r;const[i,a]=he.useState(null),[o,h]=he.useState(null),c=rp(t);return!t&&!i&&c&&a(c),eo(()=>{if(!o)return;const f=i?.key,d=i?.props.id;if(f==null||d==null){a(null);return}Promise.resolve(e(d,o)).then(()=>{a(null)})},[e,i,o]),fn.createElement(fn.Fragment,null,t,i?he.cloneElement(i,{ref:h}):null)}const eE={x:0,y:0,scaleX:1,scaleY:1};function tE(r){let{children:e}=r;return fn.createElement(vd.Provider,{value:W3},fn.createElement(Vp.Provider,{value:eE},e))}const nE={position:"fixed",touchAction:"none"},rE=r=>Dp(r)?"transform 250ms ease":void 0,iE=he.forwardRef((r,e)=>{let{as:t,activatorEvent:i,adjustScale:a,children:o,className:h,rect:c,style:f,transform:d,transition:m=rE}=r;if(!c)return null;const y=a?d:{...d,scaleX:1,scaleY:1},w={...nE,width:c.width,height:c.height,top:c.top,left:c.left,transform:vc.Transform.toString(y),transformOrigin:a&&i?KT(i,c):void 0,transition:typeof m=="function"?m(i):m,...f};return fn.createElement(t,{className:h,style:w,ref:e},o)}),sE=r=>e=>{let{active:t,dragOverlay:i}=e;const a={},{styles:o,className:h}=r;if(o!=null&&o.active)for(const[c,f]of Object.entries(o.active))f!==void 0&&(a[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,f));if(o!=null&&o.dragOverlay)for(const[c,f]of Object.entries(o.dragOverlay))f!==void 0&&i.node.style.setProperty(c,f);return h!=null&&h.active&&t.node.classList.add(h.active),h!=null&&h.dragOverlay&&i.node.classList.add(h.dragOverlay),function(){for(const[f,d]of Object.entries(a))t.node.style.setProperty(f,d);h!=null&&h.active&&t.node.classList.remove(h.active)}},aE=r=>{let{transform:{initial:e,final:t}}=r;return[{transform:vc.Transform.toString(e)},{transform:vc.Transform.toString(t)}]},oE={duration:250,easing:"ease",keyframes:aE,sideEffects:sE({styles:{active:{opacity:"0"}}})};function lE(r){let{config:e,draggableNodes:t,droppableContainers:i,measuringConfiguration:a}=r;return jp((o,h)=>{if(e===null)return;const c=t.get(o);if(!c)return;const f=c.node.current;if(!f)return;const d=G3(h);if(!d)return;const{transform:m}=as(h).getComputedStyle(h),y=R3(m);if(!y)return;const w=typeof e=="function"?e:cE(e);return P3(f,a.draggable.measure),w({active:{id:o,data:c.data,node:f,rect:a.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:h,rect:a.dragOverlay.measure(d)},droppableContainers:i,measuringConfiguration:a,transform:y})})}function cE(r){const{duration:e,easing:t,sideEffects:i,keyframes:a}={...oE,...r};return o=>{let{active:h,dragOverlay:c,transform:f,...d}=o;if(!e)return;const m={x:c.rect.left-h.rect.left,y:c.rect.top-h.rect.top},y={scaleX:f.scaleX!==1?h.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?h.rect.height*f.scaleY/c.rect.height:1},w={x:f.x-m.x,y:f.y-m.y,...y},b=a({...d,active:h,dragOverlay:c,transform:{initial:f,final:w}}),[S]=b,N=b[b.length-1];if(JSON.stringify(S)===JSON.stringify(N))return;const C=i?.({active:h,dragOverlay:c,...d}),T=c.node.animate(b,{duration:e,easing:t,fill:"forwards"});return new Promise(R=>{T.onfinish=()=>{C?.(),R()}})}}let kb=0;function uE(r){return he.useMemo(()=>{if(r!=null)return kb++,kb},[r])}const hE=fn.memo(r=>{let{adjustScale:e=!1,children:t,dropAnimation:i,style:a,transition:o,modifiers:h,wrapperElement:c="div",className:f,zIndex:d=999}=r;const{activatorEvent:m,active:y,activeNodeRect:w,containerNodeRect:b,draggableNodes:S,droppableContainers:N,dragOverlay:C,over:T,measuringConfiguration:R,scrollableAncestors:D,scrollableAncestorRects:F,windowRect:B}=$3(),W=he.useContext(Vp),G=uE(y?.id),j=X3(h,{activatorEvent:m,active:y,activeNodeRect:w,containerNodeRect:b,draggingNodeRect:C.rect,over:T,overlayNodeRect:C.rect,scrollableAncestors:D,scrollableAncestorRects:F,transform:W,windowRect:B}),V=s2(w),K=lE({config:i,draggableNodes:S,droppableContainers:N,measuringConfiguration:R}),E=V?C.setRef:void 0;return fn.createElement(tE,null,fn.createElement(J7,{animation:K},y&&G?fn.createElement(iE,{key:G,id:y.id,ref:E,as:c,activatorEvent:m,adjustScale:e,className:f,transition:o,rect:V,style:{zIndex:d,...a},transform:j},t):null))});function a2(r,e,t){const i=r.slice();return i.splice(t<0?i.length+t:t,0,i.splice(e,1)[0]),i}function fE(r,e){return r.reduce((t,i,a)=>{const o=e.get(i);return o&&(t[a]=o),t},Array(r.length))}function g1(r){return r!==null&&r>=0}function dE(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function pE(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const v1={scaleX:1,scaleY:1},mE=r=>{var e;let{rects:t,activeNodeRect:i,activeIndex:a,overIndex:o,index:h}=r;const c=(e=t[a])!=null?e:i;if(!c)return null;const f=gE(t,h,a);if(h===a){const d=t[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...v1}:null}return h>a&&h<=o?{x:-c.width-f,y:0,...v1}:h<a&&h>=o?{x:c.width+f,y:0,...v1}:{x:0,y:0,...v1}};function gE(r,e,t){const i=r[e],a=r[e-1],o=r[e+1];return!i||!a&&!o?0:t<e?a?i.left-(a.left+a.width):o.left-(i.left+i.width):o?o.left-(i.left+i.width):i.left-(a.left+a.width)}const Q3=r=>{let{rects:e,activeIndex:t,overIndex:i,index:a}=r;const o=a2(e,i,t),h=e[a],c=o[a];return!c||!h?null:{x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height}},J3="Sortable",e_=fn.createContext({activeIndex:-1,containerId:J3,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Q3,disabled:{draggable:!1,droppable:!1}});function vE(r){let{children:e,id:t,items:i,strategy:a=Q3,disabled:o=!1}=r;const{active:h,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:m}=$3(),y=gd(J3,t),w=c.rect!==null,b=he.useMemo(()=>i.map(W=>typeof W=="object"&&"id"in W?W.id:W),[i]),S=h!=null,N=h?b.indexOf(h.id):-1,C=d?b.indexOf(d.id):-1,T=he.useRef(b),R=!dE(b,T.current),D=C!==-1&&N===-1||R,F=pE(o);eo(()=>{R&&S&&m(b)},[R,b,S,m]),he.useEffect(()=>{T.current=b},[b]);const B=he.useMemo(()=>({activeIndex:N,containerId:y,disabled:F,disableTransforms:D,items:b,overIndex:C,useDragOverlay:w,sortedRects:fE(b,f),strategy:a}),[N,y,F.draggable,F.droppable,D,b,C,f,w,a]);return fn.createElement(e_.Provider,{value:B},e)}const bE=r=>{let{id:e,items:t,activeIndex:i,overIndex:a}=r;return a2(t,i,a).indexOf(e)},yE=r=>{let{containerId:e,isSorting:t,wasDragging:i,index:a,items:o,newIndex:h,previousItems:c,previousContainerId:f,transition:d}=r;return!d||!i||c!==o&&a===h?!1:t?!0:h!==a&&e===f},xE={duration:200,easing:"ease"},t_="transform",_E=vc.Transition.toString({property:t_,duration:0,easing:"linear"}),wE={roleDescription:"sortable"};function SE(r){let{disabled:e,index:t,node:i,rect:a}=r;const[o,h]=he.useState(null),c=he.useRef(t);return eo(()=>{if(!e&&t!==c.current&&i.current){const f=a.current;if(f){const d=zh(i.current,{ignoreTransform:!0}),m={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(m.x||m.y)&&h(m)}}t!==c.current&&(c.current=t)},[e,t,i,a]),he.useEffect(()=>{o&&h(null)},[o]),o}function AE(r){let{animateLayoutChanges:e=yE,attributes:t,disabled:i,data:a,getNewIndex:o=bE,id:h,strategy:c,resizeObserverConfig:f,transition:d=xE}=r;const{items:m,containerId:y,activeIndex:w,disabled:b,disableTransforms:S,sortedRects:N,overIndex:C,useDragOverlay:T,strategy:R}=he.useContext(e_),D=NE(i,b),F=m.indexOf(h),B=he.useMemo(()=>({sortable:{containerId:y,index:F,items:m},...a}),[y,a,F,m]),W=he.useMemo(()=>m.slice(m.indexOf(h)),[m,h]),{rect:G,node:j,isOver:V,setNodeRef:K}=K3({id:h,data:B,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:W,...f}}),{active:E,activatorEvent:I,activeNodeRect:te,attributes:U,setNodeRef:ue,listeners:$,isDragging:ie,over:se,setActivatorNodeRef:fe,transform:we}=Z3({id:h,data:B,attributes:{...wE,...t},disabled:D.draggable}),X=VT(K,ue),L=!!E,P=L&&!S&&g1(w)&&g1(C),J=!T&&ie,re=J&&P?we:null,pe=P?re??(c??R)({rects:N,activeNodeRect:te,activeIndex:w,overIndex:C,index:F}):null,de=g1(w)&&g1(C)?o({id:h,items:m,activeIndex:w,overIndex:C}):F,xe=E?.id,Te=he.useRef({activeId:xe,items:m,newIndex:de,containerId:y}),Ue=m!==Te.current.items,Qe=e({active:E,containerId:y,isDragging:ie,isSorting:L,id:h,index:F,items:m,newIndex:Te.current.newIndex,previousItems:Te.current.items,previousContainerId:Te.current.containerId,transition:d,wasDragging:Te.current.activeId!=null}),et=SE({disabled:!Qe,index:F,node:j,rect:G});return he.useEffect(()=>{L&&Te.current.newIndex!==de&&(Te.current.newIndex=de),y!==Te.current.containerId&&(Te.current.containerId=y),m!==Te.current.items&&(Te.current.items=m)},[L,de,y,m]),he.useEffect(()=>{if(xe===Te.current.activeId)return;if(xe!=null&&Te.current.activeId==null){Te.current.activeId=xe;return}const H=setTimeout(()=>{Te.current.activeId=xe},50);return()=>clearTimeout(H)},[xe]),{active:E,activeIndex:w,attributes:U,data:B,rect:G,index:F,newIndex:de,items:m,isOver:V,isSorting:L,isDragging:ie,listeners:$,node:j,overIndex:C,over:se,setNodeRef:X,setActivatorNodeRef:fe,setDroppableNodeRef:K,setDraggableNodeRef:ue,transform:et??pe,transition:je()};function je(){if(et||Ue&&Te.current.newIndex===F)return _E;if(!(J&&!Dp(I)||!d)&&(L||Qe))return vc.Transition.toString({...d,property:t_})}}function NE(r,e){var t,i;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r?.draggable)!=null?t:e.draggable,droppable:(i=r?.droppable)!=null?i:e.droppable}}function op(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const CE=[_n.Down,_n.Right,_n.Up,_n.Left],TE=(r,e)=>{let{context:{active:t,collisionRect:i,droppableRects:a,droppableContainers:o,over:h,scrollableAncestors:c}}=e;if(CE.includes(r.code)){if(r.preventDefault(),!t||!i)return;const f=[];o.getEnabled().forEach(y=>{if(!y||y!=null&&y.disabled)return;const w=a.get(y.id);if(w)switch(r.code){case _n.Down:i.top<w.top&&f.push(y);break;case _n.Up:i.top>w.top&&f.push(y);break;case _n.Left:i.left>w.left&&f.push(y);break;case _n.Right:i.left<w.left&&f.push(y);break}});const d=e7({collisionRect:i,droppableRects:a,droppableContainers:f});let m=j3(d,"id");if(m===h?.id&&d.length>1&&(m=d[1].id),m!=null){const y=o.get(t.id),w=o.get(m),b=w?a.get(w.id):null,S=w?.node.current;if(S&&b&&y&&w){const C=Rp(S).some((W,G)=>c[G]!==W),T=n_(y,w),R=EE(y,w),D=C||!T?{x:0,y:0}:{x:R?i.width-b.width:0,y:R?i.height-b.height:0},F={x:b.left,y:b.top};return D.x&&D.y?F:$f(F,D)}}}};function n_(r,e){return!op(r)||!op(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function EE(r,e){return!op(r)||!op(e)||!n_(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const kE=({slot:r,sectionId:e,size:t=48,width:i})=>{const{selectedSlots:a,setSelectedSlot:o,toggleSlotSelection:h,selectRangeTo:c,setSelectedSlots:f,playingSectionId:d,playingSlotId:m}=Rr(),y=cg(),w=i??t,b=he.useRef(null),{isOver:S,setNodeRef:N}=K3({id:`slot-${r.id}`,data:{type:"slot",sectionId:e,slotId:r.id}}),{attributes:C,listeners:T,setNodeRef:R,transform:D,isDragging:F}=Z3({id:`chord-${r.id}`,data:{type:"chord",chord:r.chord,originSlotId:r.id,originSectionId:e},disabled:!r.chord}),B=a.some(U=>U.slotId===r.id&&U.sectionId===e),W=d===e&&m===r.id,G=D?{transform:`translate3d(${D.x}px, ${D.y}px, 0)`,zIndex:999}:void 0,j=U=>{if(U.button===0)if(U.stopPropagation(),U.shiftKey)c(e,r.id);else if(U.metaKey||U.ctrlKey)h(e,r.id);else if(B&&a.length>0){const ue=[...a.filter($=>!($.sectionId===e&&$.slotId===r.id)),{sectionId:e,slotId:r.id}];f(ue)}else o(e,r.id)},V=U=>{b.current={x:U.clientX,y:U.clientY}},K=U=>{if(U.stopPropagation(),!!r.chord){if(b.current){const ue=U.clientX-b.current.x,$=U.clientY-b.current.y;if(Math.sqrt(ue*ue+$*$)>5)return}r.chord.notes&&r.chord.notes.length>0&&ml(r.chord.notes)}},I=(()=>{if(!r.chord)return;const U=r.chord.root;if(y[U])return y[U];const ue=Pf(U);for(const $ of Object.keys(y))if(Pf($)===ue)return y[$];return"hsl(230, 60%, 50%)"})(),te=Math.max(8,Math.min(12,t*.22));return k.jsxs("div",{ref:N,onMouseDown:j,onClick:U=>U.stopPropagation(),onDoubleClick:U=>U.stopPropagation(),style:{width:w,height:t},className:Mi("rounded border-2 flex items-center justify-center transition-all relative flex-shrink-0",S?"border-accent-primary bg-accent-glow scale-105":"border-border-medium bg-bg-elevated",B?"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary":"",W?"ring-2 ring-green-500 ring-offset-1 ring-offset-bg-primary shadow-[0_0_15px_rgba(34,197,94,0.5)] scale-105 z-10":"",!r.chord&&"hover:border-text-muted cursor-pointer"),children:[!r.chord&&k.jsx("span",{className:"text-text-muted font-light select-none",style:{fontSize:te+4},children:"+"}),r.chord&&k.jsx("div",{ref:R,...T,...C,onMouseDown:U=>{V(U),T?.onMouseDown?.(U)},onClick:K,style:{...G,backgroundColor:I},className:Mi("w-full h-full rounded flex items-center justify-center font-bold shadow cursor-grab active:cursor-grabbing select-none overflow-hidden",F?"opacity-50":"opacity-100"),children:k.jsx("span",{style:{fontSize:te,color:Qy(I||"")},className:"truncate px-0.5 text-center font-bold",children:r.chord.symbol})})]})},OE=r=>{const[e,t]=r;return e*(4/t)},LE=({measure:r,sectionId:e,index:t,chordSize:i=48,timeSignature:a,scale:o=1})=>{const{setMeasureSubdivision:h}=Rr(),c=Math.max(.1,Math.min(1.6,o)),f=OE(a),d=r.beats.length,m=i*.9,y=Math.max(8,m*c),[w]=a,S=(C=>{const T=[1,C];return C*2<=16&&T.push(C*2),C*4<=16&&T.push(C*4),[...new Set(T)].sort((R,D)=>R-D)})(w),N=C=>{Number.isFinite(C)&&h(e,r.id,C)};return k.jsxs("div",{className:"flex flex-col border-r-2 border-border-medium last:border-r-0 px-1 min-w-[64px]",style:{minWidth:y*Math.max(1,f)+8},children:[k.jsx("div",{className:"text-[8px] text-text-muted mb-0.5 font-mono uppercase tracking-wider text-center",children:t+1}),k.jsx("div",{className:"flex gap-0.5",children:r.beats.map(C=>{const T=Math.max(y*(C.duration||1),y);return k.jsx(kE,{slot:C,sectionId:e,size:i,width:T},C.id)})}),k.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5 mt-1",children:[k.jsx("span",{className:"text-[8px] uppercase tracking-wider text-text-muted leading-tight",children:"Steps"}),k.jsxs("select",{value:d,onChange:C=>N(parseInt(C.target.value,10)),className:"bg-bg-tertiary text-text-primary text-[10px] rounded px-1 py-0.5 border border-border-subtle focus:outline-none",children:[S.map(C=>k.jsx("option",{value:C,className:"bg-bg-secondary text-text-primary",children:C},C)),!S.includes(d)&&k.jsx("option",{value:d,className:"bg-bg-secondary text-text-primary",children:d})]})]})]})},ME=({section:r,chordSize:e=48,scale:t=1,onRequestConfirm:i})=>{const{removeSection:a,duplicateSection:o,updateSection:h,selectedSectionId:c,setSelectedSlot:f,setSectionMeasures:d,setSectionTimeSignature:m,currentSong:y,collapsedSections:w,toggleSectionCollapsed:b}=Rr(),[S,N]=he.useState(!1),[C,T]=he.useState(r.name),R=he.useRef(null);he.useEffect(()=>{S&&R.current&&(R.current.focus(),R.current.select())},[S]);const D=P=>{P.stopPropagation(),T(r.name),N(!0)},F=()=>{const P=C.trim();P&&P!==r.name&&h(r.id,{name:P}),N(!1)},B=P=>{P.key==="Enter"?F():P.key==="Escape"&&(T(r.name),N(!1))},{attributes:W,listeners:G,setNodeRef:j,transform:V,transition:K,isDragging:E}=AE({id:r.id,data:{type:"section",sectionId:r.id}}),I={transform:vc.Transform.toString(V),transition:K},te=P=>{P.stopPropagation(),i({title:"Delete Section",message:`Delete section "${r.name}"?`,confirmLabel:"Delete",isDestructive:!0,onConfirm:()=>a(r.id)})},U=()=>{f(r.id,null)},ue=(t??1)<=.2,$=w[r.id]??!1,ie=r.timeSignature||y.timeSignature||[4,4],se=r.measures.length,fe=P=>{const J=Number.isFinite(P)?P:se;d(r.id,J)},we=P=>{const[J,re]=P.split("/").map(pe=>parseInt(pe,10));if(!J||!re)return;if(r.measures.some(pe=>pe.beats.some(de=>!!de.chord))){i({title:"Change Time Signature",message:"Changing the time signature will clear chords in this section. Continue?",confirmLabel:"Change",isDestructive:!0,onConfirm:()=>m(r.id,[J,re])});return}m(r.id,[J,re])},X=`${ie[0]}/${ie[1]}`,L=[[4,4],[3,4],[5,4],[2,4],[6,8]];return k.jsxs("div",{ref:j,style:I,className:Mi("flex flex-col bg-bg-secondary rounded-lg overflow-hidden border-2 shadow-[0_0_0_2px_rgba(255,255,255,0.12)] transition-all h-full",c===r.id?"border-accent-primary shadow-[0_0_0_2px_rgba(99,102,241,0.35)]":"border-border-medium",E?"opacity-50":"opacity-100"),onClick:U,children:[k.jsxs("div",{className:Mi("flex items-center justify-between bg-bg-elevated border-b border-border-subtle group",ue?"px-1.5 py-1 gap-1.5":"flex-wrap gap-3 px-2 py-1.5"),children:[k.jsxs("div",{className:Mi("flex items-center min-w-0",ue?"gap-0.5":"gap-1.5"),children:[k.jsx("div",{...W,...G,className:"cursor-grab active:cursor-grabbing text-text-muted hover:text-text-primary shrink-0",title:"Drag section",children:k.jsx(d3,{size:ue?10:12})}),S?k.jsx("input",{ref:R,type:"text",value:C,onChange:P=>T(P.target.value),onBlur:F,onKeyDown:B,onClick:P=>P.stopPropagation(),className:Mi("font-medium text-text-primary bg-bg-tertiary border border-border-medium rounded focus:outline-none focus:border-accent-primary",ue?"text-[8px] px-1 py-0 w-16":"text-xs px-1.5 py-0.5 w-24"),maxLength:30}):k.jsx("span",{className:Mi("font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors truncate",ue?"text-[8px] max-w-[60px]":"text-xs max-w-[120px]"),onDoubleClick:D,title:"Double-click to rename",children:r.name})]}),k.jsxs("div",{className:Mi("flex items-center",ue?"gap-1":"gap-2"),children:[k.jsxs("div",{className:Mi("flex items-center text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded",ue?"gap-0 text-[8px] px-0.5 py-0":"gap-0.5 text-[10px] px-1 py-0.5"),onClick:P=>P.stopPropagation(),children:[!ue&&k.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Bars"}),k.jsx("input",{type:"number",min:1,max:32,value:se,onChange:P=>fe(parseInt(P.target.value,10)),className:Mi("bg-transparent text-text-primary focus:outline-none text-center",ue?"w-5 text-[8px]":"w-8 text-xs")})]}),k.jsxs("div",{className:Mi("flex items-center text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded",ue?"gap-0 text-[8px] px-0.5 py-0":"gap-1 text-[10px] px-1.5 py-0.5"),onClick:P=>P.stopPropagation(),children:[!ue&&k.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Meter"}),k.jsx("select",{value:X,onChange:P=>we(P.target.value),className:Mi("bg-transparent text-text-primary focus:outline-none",ue?"text-[8px]":"text-xs"),children:L.map(([P,J])=>k.jsxs("option",{value:`${P}/${J}`,className:"bg-bg-secondary text-text-primary",children:[P,"/",J]},`${P}/${J}`))})]})]}),k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx("button",{onClick:P=>{P.stopPropagation(),b(r.id)},className:Mi("p-1 rounded text-text-muted hover:text-text-primary",ue?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:$?"Expand section":"Collapse section",children:$?k.jsx(_h,{size:ue?12:11}):k.jsx(Zg,{size:ue?12:11})}),k.jsx("button",{onClick:P=>{P.stopPropagation(),o(r.id)},className:Mi("p-1 rounded text-text-muted hover:text-text-primary",ue?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:"Duplicate section",children:k.jsx(GC,{size:ue?12:11})}),k.jsx("button",{onClick:te,className:Mi("p-1 rounded text-text-muted hover:text-red-400",ue?"hover:bg-red-500/15":"hover:bg-red-500/10"),title:"Delete section",children:k.jsx(Wm,{size:ue?12:11})})]})]}),$?k.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-t border-border-subtle bg-bg-secondary text-[10px] text-text-muted",children:[k.jsx("span",{className:"font-semibold text-text-secondary truncate pr-2",children:r.name}),k.jsxs("div",{className:"flex items-center gap-2 uppercase tracking-wider",children:[k.jsxs("span",{children:[se," bars"]}),k.jsx("span",{children:X})]})]}):k.jsx("div",{className:"flex p-1.5 gap-0 overflow-x-auto flex-1",children:r.measures.map((P,J)=>k.jsx(LE,{measure:P,sectionId:r.id,index:J,chordSize:e,timeSignature:ie,scale:t},P.id))})]})},jE=({scale:r,chordSize:e})=>{const{isPlaying:t,currentSong:i}=Rr(),a=he.useRef(null),o=he.useRef(0),h=e*.9,c=Math.max(8,h*r),f=12,d=m=>{let y=m,w=0;for(const b of i.sections){for(const S of b.measures){const N=S.beats.reduce((B,W)=>B+(W.duration||1),0);if(y<N){w+=4;let B=y;for(const W of S.beats){const G=W.duration||1;if(B<G){const V=B/G,K=Math.max(c*G,c);return w+=V*K,w}const j=Math.max(c*G,c);w+=j+2,B-=G}return w}const C=S.beats.reduce((B,W)=>B+Math.max(c*(W.duration||1),c),0),T=Math.max(0,S.beats.length-1)*2,R=8,D=2,F=S===b.measures[b.measures.length-1];w+=C+T+R+(F?0:D),y-=N}w+=f}return w};return he.useEffect(()=>{if(!t)return;const m=()=>{if(a.current){const y=is.position.toString().split(":"),w=parseFloat(y[0]),b=parseFloat(y[1]),S=parseFloat(y[2]),N=w*4+b+S/4,C=d(N);a.current.style.transform=`translateX(${C}px)`}o.current=requestAnimationFrame(m)};return o.current=requestAnimationFrame(m),()=>{o.current&&cancelAnimationFrame(o.current)}},[t,c,i]),t?k.jsx("div",{ref:a,className:"absolute top-0 bottom-0 w-0.5 bg-red-500 z-50 pointer-events-none shadow-[0_0_8px_rgba(239,68,68,0.8)]",style:{left:0},children:k.jsx("div",{className:"absolute -top-1 -left-[4.5px] w-0 h-0 border-l-[5px] border-l-transparent border-r-[5px] border-r-transparent border-t-[6px] border-t-red-500"})}):null},r_=({isOpen:r,onClose:e,onConfirm:t,title:i,message:a,confirmLabel:o="Confirm",cancelLabel:h="Cancel",isDestructive:c=!1})=>(he.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),he.useEffect(()=>{const f=d=>{d.key==="Escape"&&r&&e()};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[r,e]),r?k.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[k.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e}),k.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-sm w-full overflow-hidden flex flex-col scale-100 opacity-100 transition-all",children:[k.jsxs("div",{className:"p-6",children:[k.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:i}),k.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:a})]}),k.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-[#22222e] border-t border-border-subtle",children:[k.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-colors",children:h}),k.jsx("button",{onClick:()=>{t(),e()},className:`px-4 py-2 text-sm font-bold text-white rounded-lg shadow-lg transition-transform active:scale-95 ${c?"bg-red-500 hover:bg-red-600":"bg-accent-primary hover:bg-accent-secondary"}`,children:o})]})]})]}):null),DE=({onAltChange:r})=>(O3({onDragMove:e=>{const t=e.modifiers?.altKey??!1;r(!!t)},onDragEnd:()=>r(!1),onDragCancel:()=>r(!1)}),null),Ob=({height:r=180,scale:e=1})=>{const{currentSong:t,addSection:i,reorderSections:a,addChordToSlot:o,moveChord:h,moveSelection:c}=Rr(),f=Math.max(.1,Math.min(1.6,e)),d=r-40,m=Math.max(32,Math.min(64,d-24)),[y,w]=fn.useState(null),[b,S]=fn.useState(null),[N,C]=fn.useState(!1),[T,R]=fn.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),D=$T(gb(i2,{activationConstraint:{distance:8}}),gb(n2,{coordinateGetter:TE})),F=W=>{const G=W.activatorEvent,j=!!(G&&"altKey"in G&&G.altKey);w(W.active.id),S({...W.active.data.current,copyMode:j}),C(j)},B=W=>{const{active:G,over:j}=W;if(w(null),S(null),C(!1),!!j){if(G.data.current?.type==="section"&&j.data.current?.type==="section"){if(G.id!==j.id){const V=t.sections.findIndex(E=>E.id===G.id),K=t.sections.findIndex(E=>E.id===j.id);a(a2(t.sections,V,K))}return}if(G.data.current?.type==="chord"&&j.data.current?.type==="slot"){const V=G.data.current.originSlotId,K=G.data.current.originSectionId,E=j.data.current.slotId,I=j.data.current.sectionId,te=G.data.current.chord;if(V&&K){if(V===E&&K===I||c({sectionId:K,slotId:V},{sectionId:I,slotId:E},b?.copyMode||N?"copy":"move"))return;const ue=Rr.getState(),$=ue.currentSong.sections.find(ie=>ie.id===I)?.measures.flatMap(ie=>ie.beats).find(ie=>ie.id===E)?.chord;h(K,V,I,E),$?(ue.setSelectedSlot(K,V),ue.setSelectedChord($)):te&&(ue.setSelectedSlot(I,E),ue.setSelectedChord(te))}else o(te,I,E),Rr.getState().setSelectedSlot(I,E),Rr.getState().setSelectedChord(te)}}};return fn.useEffect(()=>{const W=j=>{j.altKey&&C(!0)},G=j=>{j.altKey||C(!1)};return window.addEventListener("keydown",W),window.addEventListener("keyup",G),()=>{window.removeEventListener("keydown",W),window.removeEventListener("keyup",G)}},[]),k.jsxs("div",{className:"w-full h-full flex flex-col",children:[k.jsx("div",{className:"flex-1 overflow-x-auto px-3 py-1.5 overflow-y-hidden",ref:W=>{W&&W.addEventListener("wheel",G=>{G.deltaY!==0&&(G.preventDefault(),W.scrollLeft+=G.deltaY)},{passive:!1})},children:k.jsxs("div",{className:"relative flex gap-3 min-w-max h-full items-stretch",children:[k.jsx(jE,{scale:f,chordSize:m}),k.jsxs(X7,{sensors:D,collisionDetection:JT,onDragStart:F,onDragEnd:B,children:[k.jsx(DE,{onAltChange:C}),k.jsxs(vE,{items:t.sections.map(W=>W.id),strategy:mE,children:[t.sections.map(W=>k.jsx(ME,{section:W,chordSize:m,scale:f,onRequestConfirm:G=>R({...G,isOpen:!0})},W.id)),k.jsxs("button",{onClick:()=>i("chorus"),className:"w-10 rounded-lg border-2 border-dashed border-border-medium hover:border-accent-primary hover:bg-bg-elevated transition-all flex flex-col items-center justify-center text-text-muted hover:text-accent-primary gap-0.5 self-stretch",children:[k.jsx(p3,{size:12}),k.jsx("span",{className:"text-[6px] font-medium uppercase tracking-wider",children:"Add"})]})]}),k.jsxs(hE,{children:[y&&b?.type==="section"?k.jsx("div",{className:"opacity-80 rotate-2 scale-105",children:k.jsx("div",{className:"bg-bg-elevated p-4 rounded-xl border border-accent-primary w-[400px] h-[200px] flex items-center justify-center shadow-2xl",children:k.jsx("span",{className:"font-bold text-xl",children:"Moving Section..."})})}):null,y&&b?.type==="chord"?k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:"w-24 h-24 rounded-lg bg-accent-primary text-white flex items-center justify-center font-bold text-xl shadow-2xl rotate-6 scale-110 cursor-grabbing",children:b.chord.symbol}),(b?.copyMode||N)&&k.jsx("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white text-[11px] font-bold px-2 py-0.5 rounded-full shadow-md border border-white",children:"+"})]}):null]})]})]})}),k.jsx(r_,{isOpen:T.isOpen,onClose:()=>R(W=>({...W,isOpen:!1})),onConfirm:T.onConfirm,title:T.title,message:T.message,confirmLabel:T.confirmLabel,isDestructive:T.isDestructive})]})},RE=({highlightedNotes:r,rootNote:e,color:t="#6366f1",octave:i=4,onNotePlay:a})=>{const o=["C","D","E","F","G","A","B"],h=S=>{const N={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},C=S.replace(/\d+/g,"");return N[C]??-1},c=r.map(S=>h(S)),f=e?h(e):-1,d=S=>{const N=h(S);return N!==-1&&c.includes(N)},m=S=>f===-1?!1:h(S)===f,y=(S,N)=>{a&&a(S,N)},w=()=>{const S=[];for(let C=0;C<2;C++){const T=i+C;o.forEach(R=>{const D=d(R),F=m(R);S.push(k.jsx("div",{className:"h-full rounded-b-md relative border-x border-b border-gray-400 cursor-pointer hover:brightness-95 active:brightness-90 transition-all",style:{width:`${100/14}%`,background:"linear-gradient(180deg, #fafafa 0%, #e8e8e8 70%, #d0d0d0 100%)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.9), inset 0 -2px 4px rgba(0,0,0,0.08)"},onClick:()=>y(R,T),children:D&&k.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"6px",transform:"translateX(-50%)",width:F?"12px":"9px",height:F?"12px":"9px",background:t,border:"2px solid #000",boxShadow:`0 0 6px ${t}80`}})},`white-${C}-${R}`))})}return S},b=()=>{const S=[],N=[{note:"C#",offset:7.14},{note:"D#",offset:14.28},{note:"F#",offset:28.57},{note:"G#",offset:35.71},{note:"A#",offset:42.85}];for(let C=0;C<2;C++){const T=C*50,R=i+C;N.forEach(({note:D,offset:F})=>{const B=d(D),W=m(D),G=T+F;S.push(k.jsx("div",{className:"absolute top-0 rounded-b-md cursor-pointer hover:brightness-125 active:brightness-150 transition-all",style:{left:`${G}%`,width:"5.5%",height:"58%",transform:"translateX(-50%)",background:"linear-gradient(180deg, #333 0%, #1a1a1a 70%, #0a0a0a 100%)",boxShadow:"0 3px 6px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.08)",pointerEvents:"auto"},onClick:()=>y(D,R),children:B&&k.jsx("div",{className:"absolute left-1/2 rounded-full pointer-events-none",style:{bottom:"4px",transform:"translateX(-50%)",width:W?"10px":"8px",height:W?"10px":"8px",background:t,border:"2px solid #fff",boxShadow:`0 0 6px ${t}80`}})},`black-${C}-${D}`))})}return S};return k.jsx("div",{className:"relative w-full rounded-lg select-none overflow-hidden",style:{height:"80px",minHeight:"80px",background:"#1a1a22",boxShadow:"inset 0 2px 8px rgba(0,0,0,0.6)",padding:"3px 2px 2px 2px"},children:k.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[k.jsx("div",{className:"flex w-full h-full gap-[1px]",style:{position:"relative",zIndex:0},children:w()}),k.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:10,pointerEvents:"none"},children:b()})]})})},IE={C:{maj:[{frets:[-1,3,2,0,1,0],fingers:[0,3,2,0,1,0],barres:[],baseFret:1}],m:[{frets:[-1,3,1,0,1,3],fingers:[0,3,1,0,2,4],barres:[],baseFret:1}],7:[{frets:[-1,3,2,3,1,0],fingers:[0,3,2,4,1,0],barres:[],baseFret:1}],maj7:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj9:[{frets:[-1,3,2,0,0,0],fingers:[0,3,2,0,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,3,2,2,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],m7:[{frets:[-1,3,1,3,1,3],fingers:[0,2,1,3,1,4],barres:[1],baseFret:3}],m9:[{frets:[-1,3,1,3,3,3],fingers:[0,2,1,3,4,4],barres:[],baseFret:3}],m11:[{frets:[-1,3,1,3,3,1],fingers:[0,2,1,3,4,1],barres:[1],baseFret:3}],m6:[{frets:[-1,3,1,2,1,3],fingers:[0,3,1,2,1,4],barres:[1],baseFret:1}],sus2:[{frets:[-1,3,0,0,1,3],fingers:[0,2,0,0,1,3],barres:[],baseFret:1}],sus4:[{frets:[-1,3,3,0,1,1],fingers:[0,3,4,0,1,1],barres:[1],baseFret:1}],dim:[{frets:[-1,3,1,-1,1,2],fingers:[0,4,1,0,2,3],barres:[],baseFret:1}],6:[{frets:[-1,3,2,2,1,0],fingers:[0,4,2,3,1,0],barres:[],baseFret:1}],add9:[{frets:[-1,3,2,0,3,0],fingers:[0,2,1,0,3,0],barres:[],baseFret:1}],9:[{frets:[-1,3,2,3,3,0],fingers:[0,2,1,3,4,0],barres:[],baseFret:1}],11:[{frets:[-1,3,2,3,3,3],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],13:[{frets:[-1,3,2,3,3,5],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,3,4,3,4,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},"C#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},Db:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:4}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:4}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:4}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:4}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:4}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:4}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:4}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:4}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:4}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:4}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:4}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:4}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:4}]},D:{maj:[{frets:[-1,-1,0,2,3,2],fingers:[0,0,0,1,3,2],barres:[],baseFret:1}],m:[{frets:[-1,-1,0,2,3,1],fingers:[0,0,0,2,3,1],barres:[],baseFret:1}],7:[{frets:[-1,-1,0,2,1,2],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],maj7:[{frets:[-1,-1,0,2,2,2],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],maj9:[{frets:[-1,-1,0,2,2,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],maj13:[{frets:[-1,-1,0,2,2,4],fingers:[0,0,0,1,1,3],barres:[2],baseFret:1}],m7:[{frets:[-1,-1,0,2,1,1],fingers:[0,0,0,2,1,1],barres:[1],baseFret:1}],m9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],m11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m6:[{frets:[-1,-1,0,2,0,1],fingers:[0,0,0,2,0,1],barres:[],baseFret:1}],sus2:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],sus4:[{frets:[-1,-1,0,2,3,3],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,1,3,1],fingers:[0,0,0,1,4,2],barres:[],baseFret:1}],6:[{frets:[-1,-1,0,2,0,2],fingers:[0,0,0,1,0,2],barres:[],baseFret:1}],add9:[{frets:[-1,-1,0,2,3,0],fingers:[0,0,0,1,2,0],barres:[],baseFret:1}],9:[{frets:[-1,-1,0,2,1,0],fingers:[0,0,0,2,1,0],barres:[],baseFret:1}],11:[{frets:[-1,-1,0,2,1,3],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],13:[{frets:[-1,-1,0,2,1,4],fingers:[0,0,0,2,1,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,1,1,1],fingers:[0,0,0,1,2,3],barres:[],baseFret:1}]},"D#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},Eb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:6}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:6}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:6}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:6}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:6}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:6}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:6}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:6}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:6}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:6}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:6}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:6}],9:[{frets:[-1,1,3,1,1,1],fingers:[0,2,4,1,1,1],barres:[1],baseFret:6}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:6}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:6}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:6}]},E:{maj:[{frets:[0,2,2,1,0,0],fingers:[0,2,3,1,0,0],barres:[],baseFret:1}],m:[{frets:[0,2,2,0,0,0],fingers:[0,2,3,0,0,0],barres:[],baseFret:1}],7:[{frets:[0,2,0,1,0,0],fingers:[0,2,0,1,0,0],barres:[],baseFret:1}],maj7:[{frets:[0,2,1,1,0,0],fingers:[0,3,1,2,0,0],barres:[],baseFret:1}],maj9:[{frets:[0,2,1,1,0,2],fingers:[0,2,1,1,0,3],barres:[1],baseFret:1}],maj13:[{frets:[0,2,1,1,2,2],fingers:[0,2,1,1,3,3],barres:[],baseFret:1}],m7:[{frets:[0,2,0,0,0,0],fingers:[0,1,0,0,0,0],barres:[],baseFret:1}],m9:[{frets:[0,2,0,0,0,2],fingers:[0,2,0,0,0,3],barres:[],baseFret:1}],m11:[{frets:[0,2,0,0,3,0],fingers:[0,2,0,0,4,0],barres:[],baseFret:1}],m6:[{frets:[0,2,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],sus2:[{frets:[0,2,4,4,0,0],fingers:[0,1,3,4,0,0],barres:[],baseFret:1}],sus4:[{frets:[0,2,2,2,0,0],fingers:[0,2,3,4,0,0],barres:[],baseFret:1}],dim:[{frets:[0,1,2,0,2,0],fingers:[0,1,2,0,3,0],barres:[],baseFret:1}],6:[{frets:[0,2,2,1,2,0],fingers:[0,2,3,1,4,0],barres:[],baseFret:1}],add9:[{frets:[0,2,2,1,0,2],fingers:[0,2,3,1,0,4],barres:[],baseFret:1}],9:[{frets:[0,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],11:[{frets:[0,2,0,1,3,0],fingers:[0,2,0,1,4,0],barres:[],baseFret:1}],13:[{frets:[0,2,0,1,2,2],fingers:[0,2,0,1,3,4],barres:[],baseFret:1}],m7b5:[{frets:[0,1,0,0,2,0],fingers:[0,1,0,0,2,0],barres:[],baseFret:1}]},F:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:1}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:1}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,-1,3,2,1,0],fingers:[0,0,3,2,1,0],barres:[],baseFret:1}],maj9:[{frets:[1,0,3,0,1,0],fingers:[1,0,3,0,2,0],barres:[],baseFret:1}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:1}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:1}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:1}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,-1,3,0,1,1],fingers:[0,0,3,0,1,1],barres:[1],baseFret:1}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:1}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:1}],6:[{frets:[1,-1,0,2,1,1],fingers:[1,0,0,3,1,1],barres:[1],baseFret:1}],add9:[{frets:[-1,-1,3,2,1,3],fingers:[0,0,3,2,1,4],barres:[],baseFret:1}],9:[{frets:[1,3,1,2,1,3],fingers:[1,3,1,2,1,4],barres:[1],baseFret:1}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:1}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:1}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:1}]},"F#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},Gb:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:2}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:2}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:2}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:2}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:2}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:2}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:2}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:2}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:2}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:2}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:2}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:2}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:2}]},G:{maj:[{frets:[3,2,0,0,0,3],fingers:[2,1,0,0,0,3],barres:[],baseFret:1}],m:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],7:[{frets:[3,2,0,0,0,1],fingers:[3,2,0,0,0,1],barres:[],baseFret:1}],maj7:[{frets:[3,2,0,0,0,2],fingers:[3,1,0,0,0,2],barres:[],baseFret:1}],maj9:[{frets:[3,0,0,0,0,2],fingers:[2,0,0,0,0,1],barres:[],baseFret:1}],maj13:[{frets:[3,2,0,0,2,2],fingers:[3,1,0,0,2,2],barres:[2],baseFret:1}],m7:[{frets:[3,1,0,0,3,0],fingers:[2,1,0,0,3,0],barres:[],baseFret:1}],m9:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],m11:[{frets:[3,1,0,0,3,3],fingers:[2,1,0,0,3,4],barres:[],baseFret:1}],m6:[{frets:[3,1,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],sus2:[{frets:[3,0,0,0,3,3],fingers:[1,0,0,0,2,3],barres:[],baseFret:1}],sus4:[{frets:[3,3,0,0,1,3],fingers:[2,3,0,0,1,4],barres:[],baseFret:1}],dim:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}],6:[{frets:[3,2,0,0,0,0],fingers:[2,1,0,0,0,0],barres:[],baseFret:1}],add9:[{frets:[3,0,0,0,0,3],fingers:[2,0,0,0,0,3],barres:[],baseFret:1}],9:[{frets:[3,2,0,1,0,1],fingers:[3,2,0,1,0,1],barres:[1],baseFret:1}],11:[{frets:[3,2,0,1,3,1],fingers:[3,2,0,1,4,1],barres:[1],baseFret:1}],13:[{frets:[3,2,0,1,0,5],fingers:[2,1,0,1,0,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,-1,0,3,2,3],fingers:[0,0,0,2,1,3],barres:[],baseFret:1}]},"G#":{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},Ab:{maj:[{frets:[1,3,3,2,1,1],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],m:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],7:[{frets:[1,3,1,2,1,1],fingers:[1,3,1,2,1,1],barres:[1],baseFret:4}],maj7:[{frets:[1,3,2,2,1,1],fingers:[1,4,2,3,1,1],barres:[1],baseFret:4}],maj9:[{frets:[1,3,1,1,1,1],fingers:[1,4,1,1,1,1],barres:[1],baseFret:4}],maj13:[{frets:[1,3,1,2,3,3],fingers:[1,3,1,2,4,4],barres:[],baseFret:4}],m7:[{frets:[1,3,1,1,1,1],fingers:[1,3,1,1,1,1],barres:[1],baseFret:4}],m9:[{frets:[1,3,1,1,1,3],fingers:[1,3,1,1,1,4],barres:[1],baseFret:4}],m11:[{frets:[1,3,1,1,4,1],fingers:[1,2,1,1,4,1],barres:[1],baseFret:4}],m6:[{frets:[1,3,3,1,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],sus2:[{frets:[1,3,3,1,1,1],fingers:[1,3,4,1,1,1],barres:[1],baseFret:4}],sus4:[{frets:[1,3,3,3,1,1],fingers:[1,2,3,4,1,1],barres:[1],baseFret:4}],dim:[{frets:[1,2,3,1,-1,-1],fingers:[1,2,4,1,0,0],barres:[1],baseFret:4}],6:[{frets:[1,3,3,2,3,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}],add9:[{frets:[1,3,3,2,1,3],fingers:[1,3,4,2,1,1],barres:[1],baseFret:4}],9:[{frets:[-1,-1,4,3,2,4],fingers:[0,0,3,2,1,4],barres:[],baseFret:4}],11:[{frets:[1,3,1,2,4,1],fingers:[1,2,1,3,4,1],barres:[1],baseFret:4}],13:[{frets:[1,3,1,2,3,3],fingers:[1,2,1,3,4,4],barres:[],baseFret:4}],m7b5:[{frets:[1,2,3,1,4,1],fingers:[1,2,3,1,4,1],barres:[1],baseFret:4}]},A:{maj:[{frets:[-1,0,2,2,2,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],m:[{frets:[-1,0,2,2,1,0],fingers:[0,0,2,3,1,0],barres:[],baseFret:1}],7:[{frets:[-1,0,2,0,2,0],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}],maj7:[{frets:[-1,0,2,1,2,0],fingers:[0,0,2,1,3,0],barres:[],baseFret:1}],maj9:[{frets:[-1,0,2,1,0,0],fingers:[0,0,2,1,0,0],barres:[],baseFret:1}],maj13:[{frets:[-1,0,2,1,2,4],fingers:[0,0,2,1,3,4],barres:[],baseFret:1}],m7:[{frets:[-1,0,2,0,1,0],fingers:[0,0,2,0,1,0],barres:[],baseFret:1}],m9:[{frets:[-1,0,2,0,1,3],fingers:[0,0,2,0,1,4],barres:[],baseFret:1}],m11:[{frets:[-1,0,0,0,1,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],m6:[{frets:[-1,0,2,2,1,2],fingers:[0,0,2,3,1,4],barres:[],baseFret:1}],sus2:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],sus4:[{frets:[-1,0,2,2,3,0],fingers:[0,0,1,2,3,0],barres:[],baseFret:1}],dim:[{frets:[-1,0,1,2,1,-1],fingers:[0,0,1,3,2,0],barres:[],baseFret:1}],6:[{frets:[-1,0,2,2,2,2],fingers:[0,0,1,1,1,1],barres:[2],baseFret:1}],add9:[{frets:[-1,0,2,2,0,0],fingers:[0,0,1,2,0,0],barres:[],baseFret:1}],9:[{frets:[-1,0,2,4,2,3],fingers:[0,0,1,3,1,2],barres:[2],baseFret:1}],11:[{frets:[-1,0,0,0,2,0],fingers:[0,0,0,0,1,0],barres:[],baseFret:1}],13:[{frets:[-1,0,2,0,2,4],fingers:[0,0,1,0,2,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,0,1,0,1,-1],fingers:[0,0,1,0,2,0],barres:[],baseFret:1}]},"A#":{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},Bb:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:1}],7:[{frets:[-1,1,3,1,3,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:1}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:1}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:1}],m7:[{frets:[-1,1,3,1,2,1],fingers:[0,1,3,1,2,1],barres:[1],baseFret:1}],m9:[{frets:[-1,1,3,1,2,3],fingers:[0,1,3,1,2,4],barres:[1],baseFret:1}],m11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,2,1,4,1],barres:[1],baseFret:1}],m6:[{frets:[-1,1,3,1,3,1],fingers:[0,1,2,1,3,1],barres:[1],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:1}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:1}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:1}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:1}],add9:[{frets:[-1,1,0,3,1,1],fingers:[0,1,0,4,2,3],barres:[],baseFret:1}],9:[{frets:[-1,1,0,1,1,1],fingers:[0,2,0,3,3,3],barres:[1],baseFret:1}],11:[{frets:[-1,1,3,1,4,1],fingers:[0,1,3,1,4,1],barres:[1],baseFret:1}],13:[{frets:[-1,1,3,1,3,3],fingers:[0,1,3,1,4,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:1}]},B:{maj:[{frets:[-1,1,3,3,3,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],m:[{frets:[-1,1,3,3,2,1],fingers:[0,1,3,4,2,1],barres:[1],baseFret:2}],7:[{frets:[-1,2,1,2,0,2],fingers:[0,2,1,3,0,4],barres:[],baseFret:1}],maj7:[{frets:[-1,1,3,2,3,1],fingers:[0,1,3,2,4,1],barres:[1],baseFret:2}],maj9:[{frets:[-1,1,3,1,1,1],fingers:[0,1,4,1,1,1],barres:[1],baseFret:2}],maj13:[{frets:[-1,1,3,2,3,3],fingers:[0,1,3,2,4,4],barres:[],baseFret:2}],m7:[{frets:[-1,2,0,2,0,2],fingers:[0,1,0,2,0,3],barres:[],baseFret:1}],m9:[{frets:[-1,2,0,2,2,2],fingers:[0,1,0,2,3,4],barres:[],baseFret:1}],m11:[{frets:[-1,2,0,2,0,0],fingers:[0,1,0,2,0,0],barres:[],baseFret:1}],m6:[{frets:[-1,2,0,1,0,2],fingers:[0,2,0,1,0,3],barres:[],baseFret:1}],sus2:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],sus4:[{frets:[-1,1,3,3,4,1],fingers:[0,1,2,3,4,1],barres:[1],baseFret:2}],dim:[{frets:[-1,1,2,3,2,-1],fingers:[0,1,2,4,3,0],barres:[],baseFret:2}],6:[{frets:[-1,1,3,3,3,3],fingers:[0,1,2,2,2,2],barres:[3],baseFret:2}],add9:[{frets:[-1,1,3,3,1,1],fingers:[0,1,3,4,1,1],barres:[1],baseFret:2}],9:[{frets:[-1,2,1,2,2,2],fingers:[0,2,1,3,3,3],barres:[],baseFret:1}],11:[{frets:[-1,2,1,2,0,0],fingers:[0,2,1,3,0,0],barres:[],baseFret:1}],13:[{frets:[-1,2,1,2,2,4],fingers:[0,2,1,3,3,4],barres:[],baseFret:1}],m7b5:[{frets:[-1,1,2,1,2,-1],fingers:[0,1,3,2,4,0],barres:[],baseFret:2}]}};function VE(r){return{"C":"C#","D":"Db","D":"D#","E":"Eb","F":"F#","G":"Gb","G":"G#","A":"Ab","A":"A#","B":"Bb"}[r]||r.replace("","#").replace("","b")}function FE(r){return{major:"maj",minor:"m",min:"m",dom7:"7",dominant7:"7",major7:"maj7",minor7:"m7",min7:"m7",suspended2:"sus2",suspended4:"sus4",diminished:"dim","half-diminished":"m7b5","m75":"m7b5",sixth:"6",ninth:"9",added9:"add9"}[r]||r}function i_(r,e){const t=VE(r),i=FE(e),a=IE[t];if(!a)return null;const o=a[i];return!o||o.length===0?null:o[0]}const BE=({root:r,quality:e,color:t="#6366f1"})=>{const i=dd(),a=i_(r,e),o=`${r}${e==="maj"?"":e}`,h=Qy(t);return a?k.jsxs("div",{className:"flex flex-col items-center",children:[k.jsx("span",{className:`${i?"text-xs":"text-[11px]"} font-bold mb-1 text-center`,style:{backgroundColor:t,color:h,padding:"4px 12px",borderRadius:"10px"},children:o}),k.jsx("svg",{viewBox:"0 0 100 120",className:`w-full ${i?"max-w-[110px]":"max-w-[120px]"}`,style:{minHeight:i?110:120},children:k.jsx(qE,{chord:a,color:t})})]}):k.jsxs("div",{className:"flex items-center justify-center text-text-muted text-xs py-4",children:["No guitar diagram available for ",r,e]})},qE=({chord:r,color:e})=>{const{frets:t,fingers:i,barres:a,baseFret:o}=r,h=20,c=25,f=12,d=18,m=4,y=6,w=4.5,b=Array.from({length:y},(R,D)=>h+D*f),S=Array.from({length:m+1},(R,D)=>c+D*d),N=o===1,C=f*(y-1)+16,T=d*m+8;return k.jsxs(k.Fragment,{children:[k.jsx("rect",{x:h-8,y:c-4,width:C,height:T,fill:"#3d2817",rx:3}),N?k.jsx("rect",{x:h-2,y:c-3,width:f*(y-1)+4,height:4,fill:"#f5f5f5",rx:1}):k.jsx("text",{x:h-14,y:c+d/2+4,fontSize:"12",fill:"#e0e0e0",textAnchor:"middle",fontWeight:"700",children:o}),S.map((R,D)=>k.jsx("line",{x1:h,y1:R,x2:h+f*(y-1),y2:R,stroke:"#b8b8b8",strokeWidth:D===0&&!N?2:1},`fret-${D}`)),b.map((R,D)=>k.jsx("line",{x1:R,y1:c,x2:R,y2:c+d*m,stroke:"#d4d4d4",strokeWidth:1.2+(5-D)*.25},`string-${D}`)),a.map((R,D)=>{const F=t.map((j,V)=>({fret:j,idx:V})).filter(({fret:j})=>j===R);if(F.length<2)return null;const B=Math.min(...F.map(j=>j.idx)),W=Math.max(...F.map(j=>j.idx)),G=c+(R-.5)*d;return k.jsx("rect",{x:b[B]-w,y:G-w,width:b[W]-b[B]+w*2,height:w*2,fill:"white",stroke:e,strokeWidth:2,rx:w},`barre-${D}`)}),t.map((R,D)=>{const F=b[D];if(R===-1)return k.jsx("text",{x:F,y:c-10,fontSize:"14",fill:"#ff6b6b",textAnchor:"middle",fontWeight:"bold",children:""},`mute-${D}`);if(R===0)return k.jsx("circle",{cx:F,cy:c-8,r:4,fill:"none",stroke:"var(--color-text-secondary)",strokeWidth:1.5},`open-${D}`);const B=a.includes(R),W=i[D];if(B){const j=t.findIndex(V=>V===R);if(D!==j)return null}const G=c+(R-.5)*d;return k.jsxs("g",{children:[k.jsx("circle",{cx:F,cy:G,r:w,fill:"white",stroke:e,strokeWidth:2}),W>0&&!B&&k.jsx("text",{x:F,y:G+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:W})]},`finger-${D}`)}),a.map((R,D)=>{const F=t.map((j,V)=>({fret:j,idx:V})).filter(({fret:j})=>j===R);if(F.length<2)return null;const B=Math.min(...F.map(j=>j.idx)),W=c+(R-.5)*d,G=i[B];return G>0?k.jsx("text",{x:b[B],y:W+2.5,fontSize:"7",fill:"#1a1a1a",textAnchor:"middle",fontWeight:"bold",children:G},`barre-finger-${D}`):null})]})},zE=({notes:r,rootNote:e,color:t="#6366f1",width:i})=>{const a=dd(),o=C=>{const T=C.replace(/[0-9]/g,"");let R=T[0],D="";T.includes("")||T.includes("#")?D="":(T.includes("")||T.includes("b"))&&(D="");let B={C:-6,D:-5,E:-4,F:-3,G:-2,A:-1,B:0}[R]??0;const W="CDEFGAB".indexOf(R),G="CDEFGAB".indexOf(e[0]);return W<G&&G-W>3&&(B+=7),{line:B,accidental:D}},c=i||(a?260:300),f=a?85:95,d=20,m=d,y=f/2,w=6,b=Math.max(100,c-d*2),S=r.map((C,T)=>{const{line:R,accidental:D}=o(C),F=30,B=b-F-20,W=m+F+T*B/Math.max(r.length-1,1),G=y-R*w/2;return{note:C,x:W,y:G,line:R,accidental:D,needsLedgerLines:R<-4||R>4}}),N=C=>{const T=[];if(C.line<-4)for(let D=-6;D>=C.line;D-=2)D<-4&&T.push(k.jsx("line",{x1:C.x-20/2,y1:y-D*w/2,x2:C.x+20/2,y2:y-D*w/2,stroke:"#555",strokeWidth:"1"},`ledger-below-${D}`));else if(C.line>4)for(let D=6;D<=C.line;D+=2)D>4&&T.push(k.jsx("line",{x1:C.x-20/2,y1:y-D*w/2,x2:C.x+20/2,y2:y-D*w/2,stroke:"#555",strokeWidth:"1"},`ledger-above-${D}`));return T};return k.jsx("div",{className:"flex justify-center items-center w-full",children:k.jsxs("svg",{viewBox:`0 0 ${c} ${f}`,className:"w-full",style:{minHeight:a?60:70},children:[[-2,-1,0,1,2].map(C=>k.jsx("line",{x1:m,y1:y-C*w,x2:m+b,y2:y-C*w,stroke:"#555",strokeWidth:"1.5"},`staff-${C}`)),k.jsx("text",{x:m-8,y:y+10,fontSize:a?"36":"40",fill:t,fontFamily:"serif",fontWeight:"bold",children:""}),S.map(C=>N(C)),S.map((C,T)=>k.jsxs("g",{children:[C.accidental&&k.jsx("text",{x:C.x-12,y:C.y+4,fontSize:a?"14":"16",fill:"#333",fontFamily:"serif",fontWeight:"bold",children:C.accidental}),k.jsx("ellipse",{cx:C.x,cy:C.y,rx:6,ry:4.5,fill:"none",stroke:T===0?t:"#333",strokeWidth:T===0?2.5:2}),k.jsx("ellipse",{cx:C.x,cy:C.y,rx:3.5,ry:2.5,fill:"white"}),k.jsx("text",{x:C.x,y:y+22,fontSize:a?"7":"8",fill:"#666",textAnchor:"middle",fontWeight:"600",children:C.note})]},`note-${T}`))]})})},Lb=()=>k.jsxs(k.Fragment,{children:[k.jsxs("section",{children:[k.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[k.jsx(zC,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-3 text-sm text-gray-300",children:[k.jsx("p",{children:"The Chord Wheel puts chord theory into your hands. No music reading is necessary; simply rotate the transparent disk and analyze any chord progression instantly."}),k.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[k.jsx("li",{children:"Determine which chords belong to a given key"}),k.jsx("li",{children:"Transpose a chord progression to any key"}),k.jsx("li",{children:"Compose your own music"})]})]})]}),k.jsxs("section",{children:[k.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[k.jsx(iT,{size:12}),"Understanding the Rings"]}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[k.jsx("h4",{className:"font-bold text-white mb-2",children:"Inner Ring (Major)"}),k.jsx("p",{className:"text-sm text-gray-400",children:"Contains the 12 major chords arranged in the Circle of Fifths. Upper-case numerals (I, IV, V) denote major chords."})]}),k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[k.jsx("h4",{className:"font-bold text-white mb-2",children:"Middle Ring (Minor)"}),k.jsx("p",{className:"text-sm text-gray-400",children:"Contains 24 minor chords. Lower-case numerals (ii, iii, vi) denote minor chords in a key."})]}),k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[k.jsx("h4",{className:"font-bold text-white mb-2",children:"Outer Ring (Diminished)"}),k.jsx("p",{className:"text-sm text-gray-400",children:"The vii chord for each key. The diminished chord has a harsh, dissonant quality due to the 5."})]})]})]}),k.jsxs("section",{children:[k.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[k.jsx(nT,{size:12}),"Roman Numerals"]}),k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[k.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Roman numerals denote the harmonic progression. Upper-case = major, lower-case = minor."}),k.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center text-sm",children:[k.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[k.jsx("span",{className:"font-bold text-white",children:"I"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"Tonic"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[k.jsx("span",{className:"font-bold text-white",children:"ii"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"Super"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[k.jsx("span",{className:"font-bold text-white",children:"iii"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"Mediant"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[k.jsx("span",{className:"font-bold text-white",children:"IV"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"Subdom"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[k.jsx("span",{className:"font-bold text-white",children:"V"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"Dominant"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[k.jsx("span",{className:"font-bold text-white",children:"vi"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"Relative"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[k.jsx("span",{className:"font-bold text-white",children:"vii"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"Leading"})]})]})]})]}),k.jsxs("section",{children:[k.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[k.jsx(jC,{size:12}),"The Circle of Fifths"]}),k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[k.jsx("p",{children:'Starting with C and moving clockwise (C  G  D  A  E  B  F#  Db  Ab  Eb  Bb  F), each step is a "dominant" (fifth) progression. This cyclical nature is one of the most fundamental principles in music theory.'}),k.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[k.jsx("li",{children:'Modulations often move one "key" clockwise or counter-clockwise'}),k.jsx("li",{children:"Neighboring keys share many chords in common"}),k.jsx("li",{children:"The strong pull of V  I is why songs resolve satisfyingly"})]})]})]}),k.jsxs("section",{children:[k.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Building Chords"}),k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[k.jsxs("div",{children:[k.jsx("h4",{className:"font-semibold text-white mb-2",children:"Triads (3 Notes)"}),k.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Built using "every other note" of the scale: Root, 3rd, 5th'}),k.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[k.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[k.jsx("span",{className:"text-white font-medium",children:"Major"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[k.jsx("span",{className:"text-white font-medium",children:"Minor"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[k.jsx("span",{className:"text-white font-medium",children:"Diminished"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]})]})]}),k.jsxs("div",{children:[k.jsx("h4",{className:"font-semibold text-white mb-2",children:"Seventh Chords (4 Notes)"}),k.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Add the 7th note: 1st, 3rd, 5th, 7th"}),k.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[k.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[k.jsx("span",{className:"text-white font-medium",children:"Major 7th (maj7)"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[k.jsx("span",{className:"text-white font-medium",children:"Dominant 7th (7)"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[k.jsx("span",{className:"text-white font-medium",children:"Minor 7th (m7)"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[k.jsx("span",{className:"text-white font-medium",children:"Half-Dim (m75)"}),k.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]})]})]})]})]}),k.jsxs("section",{children:[k.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Common Progressions"}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[k.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-IV-V (Pop/Rock)"}),k.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - F - G"}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The foundation of rock 'n' roll"})]}),k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[k.jsx("h4",{className:"font-semibold text-white mb-2",children:"ii-V-I (Jazz)"}),k.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: Dm7 - G7 - Cmaj7"}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The most common jazz progression"})]}),k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[k.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-vi-IV-V (50s/Doo-wop)"}),k.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - Am - F - G"}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Also used in countless pop songs"})]}),k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[k.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-V-vi-IV (Modern Pop)"}),k.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - G - Am - F"}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'The "4 chord song" progression'})]})]})]}),k.jsxs("section",{children:[k.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Secondary Dominants (II & III)"}),k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[k.jsxs("p",{children:["The II and III chords (shown with half-highlighting) aren't diatonic but are commonly used. They're called ",k.jsx("strong",{className:"text-white",children:"secondary dominants"}),' because they "act" like dominant V chords:']}),k.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[k.jsxs("li",{children:[k.jsx("strong",{className:"text-white",children:"II"})," (D in key of C) = V of V (leads strongly to G)"]}),k.jsxs("li",{children:[k.jsx("strong",{className:"text-white",children:"III"})," (E in key of C) = V of vi (leads strongly to Am)"]})]}),k.jsx("p",{className:"text-gray-400",children:"Study chord progressions by The Beatles, Rolling Stones, Elvis Costello, and you'll discover these two chords add tremendous variety."})]})]}),k.jsxs("section",{children:[k.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Modes & Relative Minor"}),k.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[k.jsxs("p",{children:["The vi chord (Am in key of C) is special: it's the ",k.jsx("strong",{className:"text-white",children:"relative minor"}),". Songs emphasizing vi as the tonic create a minor mood using the same chords."]}),k.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-[10px] mt-3",children:[k.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[k.jsx("span",{className:"font-bold text-white",children:"I"}),k.jsx("span",{className:"block text-gray-500",children:"Ionian"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[k.jsx("span",{className:"font-bold text-white",children:"ii"}),k.jsx("span",{className:"block text-gray-500",children:"Dorian"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[k.jsx("span",{className:"font-bold text-white",children:"iii"}),k.jsx("span",{className:"block text-gray-500",children:"Phrygian"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[k.jsx("span",{className:"font-bold text-white",children:"IV"}),k.jsx("span",{className:"block text-gray-500",children:"Lydian"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[k.jsx("span",{className:"font-bold text-white",children:"V"}),k.jsx("span",{className:"block text-gray-500",children:"Mixolyd."})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[k.jsx("span",{className:"font-bold text-white",children:"vi"}),k.jsx("span",{className:"block text-gray-500",children:"Aeolian"})]}),k.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[k.jsx("span",{className:"font-bold text-white",children:"vii"}),k.jsx("span",{className:"block text-gray-500",children:"Locrian"})]})]})]})]})]}),PE=({isOpen:r,onClose:e,isEmbedded:t=!1})=>r?t?k.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[k.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:k.jsx(Gm,{size:12,className:"text-white"})}),k.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),k.jsx("button",{onClick:e,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:k.jsx(hb,{size:16})})]}),k.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:k.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:k.jsx(Lb,{})})})]}):k.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:[k.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm pointer-events-none"}),k.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-[85vh] overflow-hidden flex flex-col pointer-events-auto",children:[k.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:k.jsx(Gm,{size:16,className:"text-white"})}),k.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),k.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:k.jsx(hb,{size:20})})]}),k.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:k.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:k.jsx(Lb,{})})}),k.jsx("div",{className:"px-6 py-4 sm:px-8 sm:py-5 border-t border-border-subtle bg-[#22222e] text-center",children:k.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Drag the wheel or use the rotation buttons to change keys. Click any chord to see details."})})]})]}):null,Mb=({variant:r="sidebar"})=>{const{selectedChord:e,selectedKey:t,chordPanelVisible:i,toggleChordPanel:a,selectedSectionId:o,selectedSlotId:h,addChordToSlot:c,setSelectedChord:f,selectNextSlotAfter:d,setSelectedSlot:m}=Rr(),y=cg(),[w,b]=he.useState(null),[S,N]=he.useState([]),[C,T]=he.useState(320),[R,D]=he.useState(!1),[F,B]=he.useState(!1),W=he.useRef(0),G=r==="drawer",[j,V]=he.useState(e),K=e??j,E=dd(),[I,te]=he.useState(!1),[U,ue]=he.useState(!1),[$,ie]=he.useState(!1),[se,fe]=he.useState(0),we=4,X=he.useCallback((je,H)=>{x3(je,H)},[]),L={maj:"Bright, stable major triad  home base sound.",7:"Dominant 7: bluesy tension that wants to resolve.",maj7:"Dreamy, smooth major color  great on I or IV.",maj9:"Airy, modern major flavor; adds sparkle without tension.",maj13:"Lush, extended major pad; orchestral/jazz sheen.",6:"Warm vintage major; softer than maj7 for tonic use.",13:"Dominant with a soulful top; funky/jazz turnaround vibe.",m7:"Soulful, laid-back minor  default jazz ii sound.",m9:"Lush, cinematic minor color with extra depth.",m11:"Spacious, modal minor; great for grooves and vamps.",m6:"Bittersweet/film-noir minor; nice tonic minor option.",sus2:"Open and airy with no third; neutral pop/ambient feel.",sus4:"Suspended tension that likes to resolve to major.",dim:"Tense and unstable; classic passing/leading chord.",m7b5:"Half-diminished; dark ii chord in minor keys.",add9:"Sparkly major with no 7th; modern pop shimmer.",9:"Dominant 9: rich funk/jazz tension with color.",11:"Dominant 11: suspended, modal flavor over V."},P=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],J=je=>{if(!K?.root)return"-";const H=it=>it.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),Me={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},tt=Me[H(K.root)],Ze=Me[H(je)];if(tt===void 0||Ze===void 0)return"-";const Ne=(Ze-tt+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[Ne]??"-"},re=he.useCallback(je=>{G||(je.preventDefault(),D(!0))},[G]);he.useEffect(()=>{if(!R||G)return;const je=Me=>{const tt=window.innerWidth-Me.clientX;T(Math.max(320,Math.min(450,tt)))},H=()=>{D(!1)};return document.addEventListener("mousemove",je),document.addEventListener("mouseup",H),()=>{document.removeEventListener("mousemove",je),document.removeEventListener("mouseup",H)}},[R,G]),he.useEffect(()=>{e&&V(e)},[e]),he.useEffect(()=>{b(null),N([]),fe(0)},[K?.root,K?.quality]);const ce=K&&y[K.root]||"#6366f1",pe=S.length>0?S:K?.notes||[],de=ah(pe,se),xe=S4(pe),Te=je=>{const H=Date.now();if(H-W.current<300||(W.current=H,!K))return;const Me=ph(K.root,je),tt=ah(Me,se);ml(tt),b(je),N(Me)},Ue=je=>{if(W.current=0,!K||!o||!h)return;const H=ph(K.root,je),Me=A4(K.root,je,H,se),tt={...K,quality:je,symbol:Me,notes:H,inversion:se};c(tt,o,h),d(o,h)||(m(o,h),f(tt))},Qe=()=>{if(!K)return"";const je=K.numeral;return{I:"The tonic chord  your home base. Most songs begin and end here. Try adding maj7 or 6 for a jazzier sound.",ii:"The supertonic  a pre-dominant chord that naturally leads to V. The ii-V-I progression is fundamental in jazz and pop.",iii:"The mediant  shares two notes with I. Can substitute for I or lead to vi. Often used for color.",IV:'The subdominant  creates a "plagal" sound. The IV-I is the "Amen" cadence. Adds warmth to choruses.',V:"The dominant  creates tension that resolves to I. Add a 7th for extra pull toward home.",vi:"The relative minor  shares the same notes as I major. The vi-IV-I-V is hugely popular in pop music.","vii":"The leading tone chord  unstable and wants to resolve to I. Often used as a passing chord.",II:"Secondary dominant (V/V)  borrows dominant function to approach V. Common in jazz.",III:"Secondary dominant (V/vi)  leads strongly to vi. Creates a dramatic shift."}[je||""]||"This chord adds color and interest to your progression."},et=()=>{if(!K)return{extensions:[],description:""};let je=K.numeral;if(je&&je.includes("(")){const Me=je.match(/^(.+?)\s*\(/);Me&&(je=Me[1].trim())}return{I:{extensions:["maj7","maj9","maj13","6"],description:"Major 7th or 6th voicings sound rich and resolved"},IV:{extensions:["maj7","maj9","maj13","6"],description:"Same as I  warm major extensions work beautifully"},V:{extensions:["7","9","11","sus4","13"],description:"Dominant 7th adds tension that pulls to I"},ii:{extensions:["m7","m9","m11","m6"],description:"Minor 7th extensions for a smooth jazz sound"},iii:{extensions:["m7"],description:"Keep it simple  m7 is most common for iii"},vi:{extensions:["m7","m9","m11"],description:"Minor extensions add depth and emotion"},"vii":{extensions:["m75"],description:"Half-diminished (7) is the standard voicing"},II:{extensions:["7","sus4"],description:"Dominant voicing as V/V  leads strongly to V"},III:{extensions:["7","sus4"],description:"Dominant voicing as V/vi  leads strongly to vi"}}[je||""]||{extensions:[],description:`This chord doesn't fit in the key of ${t}, but it may add color and interest to your progression.`}};return i?k.jsxs("div",{className:G?`${E?"relative w-full":"fixed inset-x-3 bottom-[88px]"} ${E?"max-h-[60vh]":"max-h-[70vh]"} bg-bg-secondary border-2 border-border-subtle rounded-2xl shadow-2xl overflow-hidden ${E?"":"z-40"} flex`:"h-full flex bg-bg-secondary border-l border-border-subtle shrink-0",style:G?void 0:{width:C,minWidth:C},children:[!G&&k.jsx("div",{className:`w-2 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary transition-colors ${R?"bg-accent-primary/20":""} relative z-[60]`,onMouseDown:re,children:k.jsx(d3,{size:12,className:"text-text-muted"})}),k.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[k.jsxs("div",{className:`${E&&G?"px-5 py-3":"px-4 py-3"} border-b border-border-subtle flex justify-between items-center gap-4 shrink-0 ${G?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[k.jsx("div",{className:"flex items-center overflow-hidden flex-1 min-w-0",style:{gap:"12px"},children:k.jsxs("span",{className:"flex items-center shrink-0",style:{gap:"8px"},children:[k.jsx("span",{className:`${E?"text-lg":"text-base sm:text-lg"} font-bold text-text-primary leading-none`,children:K?`${K.root}${(w||K.quality)==="maj"?"":" "+(w||K.quality)}`:"Chord Details"}),K?.numeral&&k.jsx("span",{className:`${E?"text-sm":"text-xs"} font-serif italic text-text-muted shrink-0`,children:K.numeral})]})}),k.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[K&&k.jsxs("div",{className:"flex items-center gap-0.5 bg-bg-tertiary/50 rounded px-1 py-0.5",title:"Chord inversion - which note is in the bass",children:[k.jsx("button",{onClick:()=>{const je=Math.max(0,se-1);fe(je);const H=ah(pe,je);ml(H)},disabled:se<=0,className:`${E?"w-6 h-6":"w-5 h-5"} flex items-center justify-center hover:bg-accent-primary/20 rounded text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Previous inversion",children:k.jsx(Hm,{size:E?12:10})}),k.jsx("span",{className:`${E?"text-[10px]":"text-[9px]"} font-semibold text-text-secondary min-w-[28px] text-center`,children:Bv(se)}),k.jsx("button",{onClick:()=>{const je=Math.min(xe,se+1);fe(je);const H=ah(pe,je);ml(H)},disabled:se>=xe,className:`${E?"w-6 h-6":"w-5 h-5"} flex items-center justify-center hover:bg-accent-primary/20 rounded text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Next inversion",children:k.jsx(Um,{size:E?12:10})})]}),K&&k.jsx("button",{onClick:()=>B(!0),className:`${E?"w-10 h-10 min-w-[40px] min-h-[40px]":"w-8 h-8"} flex items-center justify-center hover:bg-accent-primary/20 rounded-md text-text-muted hover:text-accent-primary transition-colors touch-feedback`,title:"Chord Wheel Guide",children:k.jsx(BC,{size:E?16:14})}),k.jsx("button",{onClick:a,className:`${E?"p-2 min-w-[40px] min-h-[40px]":"p-1"} hover:bg-bg-tertiary rounded transition-colors touch-feedback flex items-center justify-center`,title:"Hide panel",children:k.jsx(hT,{size:E?18:16,className:"text-text-muted"})})]})]}),K?k.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 overscroll-contain",children:[k.jsxs("div",{className:`${E?"px-5 pt-4 pb-4":"px-5 py-4"} border-b border-border-subtle`,children:[k.jsx(RE,{highlightedNotes:de,rootNote:K.root,color:ce,octave:we,onNotePlay:X}),k.jsx("div",{className:`${E?"mt-4":"mt-5"} w-full`,children:k.jsxs("div",{className:"grid gap-1",style:{gridTemplateColumns:`${E?"56px":"72px"} repeat(${de.length}, minmax(0, 1fr))`},children:[k.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Notes"}),de.map((je,H)=>k.jsx("div",{className:`text-center ${E?"text-xs":"text-sm"} font-bold text-text-primary flex items-center justify-center`,style:{height:"16px"},children:je},`note-${H}`)),k.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Absolute"}),de.map((je,H)=>k.jsx("div",{className:`text-center ${E?"text-[11px]":"text-xs"} text-text-primary font-semibold flex items-center justify-center`,style:{height:"16px"},children:J(je)},`abs-${H}`)),k.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wide text-text-muted flex items-center",style:{height:"16px"},children:"Relative"}),de.map((je,H)=>k.jsx("div",{className:`text-center ${E?"text-[11px]":"text-xs"} text-text-secondary flex items-center justify-center`,style:{height:"16px"},children:C4(t,je).replace(/^1/,"R")},`rel-${H}`))]})})]}),k.jsxs("div",{className:"px-5 py-2 rounded-none",style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a"},children:[k.jsxs("button",{onClick:()=>E&&ie(!$),className:`w-full flex items-center justify-between ${$&&E?"mb-2":"mb-0"} ${E?"cursor-pointer":""} rounded-none`,style:{backgroundColor:"transparent"},children:[k.jsxs("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide whitespace-nowrap`,children:["Guitar & Suggested Voicings for ",K.numeral||K.symbol]}),E&&k.jsx(_h,{size:14,className:`text-text-secondary transition-transform ${$?"rotate-180":""}`})]}),(!E||$)&&k.jsxs("div",{className:"flex flex-row gap-2",style:{marginTop:"8px"},children:[k.jsx("div",{className:"flex justify-center items-start shrink-0",style:{minWidth:"100px"},children:k.jsx(BE,{root:K.root,quality:w||K.quality,color:ce})}),k.jsx("div",{className:"w-px bg-border-subtle self-stretch"}),k.jsxs("div",{className:"flex-1 flex flex-col justify-start pl-1",children:[et().extensions.length>0?k.jsx("div",{className:"grid grid-cols-2 mb-2",style:{gap:E?"8px":"6px"},children:et().extensions.map(je=>k.jsxs("button",{className:`relative group ${E?"px-2 py-2 text-xs min-h-[36px]":"px-1.5 py-1 text-[10px]"} rounded font-semibold transition-colors touch-feedback overflow-hidden text-ellipsis whitespace-nowrap`,style:w===je?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#f0f0f5",border:"1px solid rgba(255,255,255,0.08)"},onClick:()=>Te(je),onDoubleClick:()=>Ue(je),children:[K.root,je,!E&&L[je]&&k.jsxs("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[L[je]?k.jsxs(k.Fragment,{children:[L[je],k.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},je))}):null,k.jsx("p",{className:`${E?"text-xs":"text-[10px]"} text-text-muted leading-relaxed`,children:et().description})]})]}),k.jsxs("div",{className:"flex items-center mt-1 gap-1",children:[k.jsxs("div",{className:"flex flex-col items-center shrink-0",children:[k.jsx("span",{className:"text-[7px] font-semibold uppercase tracking-wide text-text-muted mb-0",children:"Inv"}),k.jsxs("div",{className:"flex items-center gap-0 bg-bg-tertiary/50 rounded",title:"Chord inversion - which note is in the bass",children:[k.jsx("button",{onClick:()=>{const je=Math.max(0,se-1);fe(je);const H=ah(pe,je);ml(H)},disabled:se<=0,className:`${E?"w-5 h-5":"w-4 h-4"} flex items-center justify-center hover:bg-accent-primary/20 rounded text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Previous inversion",children:k.jsx(Hm,{size:E?10:8})}),k.jsx("span",{className:`${E?"text-[9px]":"text-[8px]"} font-semibold text-text-secondary min-w-[20px] text-center`,children:Bv(se)}),k.jsx("button",{onClick:()=>{const je=Math.min(xe,se+1);fe(je);const H=ah(pe,je);ml(H)},disabled:se>=xe,className:`${E?"w-5 h-5":"w-4 h-4"} flex items-center justify-center hover:bg-accent-primary/20 rounded text-text-muted hover:text-accent-primary transition-colors touch-feedback disabled:opacity-40 disabled:cursor-not-allowed`,title:"Next inversion",children:k.jsx(Um,{size:E?10:8})})]})]}),k.jsx("div",{className:"flex-1",children:k.jsx(zE,{notes:de,rootNote:K.root,color:ce})})]})]}),k.jsxs("div",{className:`${E?"px-5 py-3 mt-2":"px-5 py-4"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a"},children:[k.jsxs("button",{onClick:()=>E&&te(!I),className:`w-full flex items-center justify-between ${I&&E?"mb-3":"mb-0"} ${E?"cursor-pointer":""} rounded-none`,style:{backgroundColor:"transparent"},children:[k.jsx("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide`,children:"Voicings"}),E&&k.jsx(_h,{size:14,className:`text-text-secondary transition-transform ${I?"rotate-180":""}`})]}),(!E||I)&&k.jsx("div",{className:`grid ${E?"grid-cols-3":"grid-cols-2 sm:grid-cols-3"} ${E?"gap-3":"gap-2.5"}`,children:P.map((je,H)=>{const tt=H%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return k.jsxs("button",{className:`relative group ${E?"px-3 py-3 min-h-[48px] text-xs":"px-2 py-1.5 text-[10px]"} rounded font-medium transition-colors touch-feedback`,style:w===je?{backgroundColor:"#4f46e5",color:"#ffffff",border:"1px solid #4f46e5"}:{backgroundColor:"#282833",color:"#9898a6",border:"1px solid rgba(255,255,255,0.08)"},onClick:()=>Te(je),onDoubleClick:()=>Ue(je),children:[je,!E&&L[je]&&k.jsxs("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-1000 z-50 w-44 text-left",style:{...tt,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:[L[je]?k.jsxs(k.Fragment,{children:[L[je],k.jsx("div",{className:"h-px bg-white/20 my-1.5"})]}):null,"Double-click to add to timeline"]})]},je)})})]}),k.jsxs("div",{className:`${E?"px-5 py-3 mt-2 pb-4":"px-5 py-4"} rounded-none`,style:{backgroundColor:"#1e1e28",borderBottom:"1px solid #3a3a4a"},children:[k.jsxs("button",{onClick:()=>E&&ue(!U),className:`w-full flex items-center justify-between ${E?"cursor-pointer":"mb-0"} ${U&&E?"mb-3":"mb-0"} rounded-none`,style:{backgroundColor:"transparent"},children:[k.jsx("h3",{className:`${E?"text-[11px]":"text-[10px]"} font-semibold text-text-secondary uppercase tracking-wide ${E?"":"mb-2"}`,children:"Theory"}),E&&k.jsx(_h,{size:14,className:`text-text-secondary transition-transform ${U?"rotate-180":""}`})]}),(!E||U)&&k.jsx("div",{className:`${E?"p-3":"p-4"} bg-bg-elevated rounded-none`,children:k.jsx("p",{className:`${E?"text-sm":"text-xs"} text-text-secondary leading-relaxed`,children:Qe()})})]})]}):k.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:k.jsx("p",{className:`${E?"text-base":"text-sm"} text-text-muted text-center`,children:"Select a chord from the wheel or timeline"})})]}),k.jsx(PE,{isOpen:F,onClose:()=>B(!1)})]}):G?k.jsxs("button",{onClick:a,className:`w-full ${E?"h-16 min-h-[64px]":"h-11"} flex items-center justify-center gap-2 bg-bg-secondary border-2 border-border-subtle rounded-2xl ${E?"text-base":"text-[11px]"} font-bold text-text-primary shadow-lg hover:border-accent-primary transition-all touch-feedback active:scale-[0.97]`,title:"Show chord details",children:[k.jsx(Zg,{size:E?20:14}),k.jsx("span",{children:"Open Chord Details"})]}):k.jsx("button",{onClick:a,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:k.jsx(dT,{size:18,className:"text-text-muted"})})},UE="modulepreload",HE=function(r){return"/chord-wheel-writer/"+r},jb={},M1=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=h?.nonce||h?.getAttribute("nonce");a=f(t.map(d=>{if(d=HE(d),d in jb)return;jb[d]=!0;const m=d.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":UE,m||(w.as="script"),w.crossOrigin="",w.href=d,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((b,S)=>{w.addEventListener("load",b),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return a.then(h=>{for(const c of h||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},GE=()=>{const{currentSong:r,isPlaying:e,tempo:t,volume:i,setTempo:a,setVolume:o,instrument:h,setInstrument:c,isMuted:f,toggleMute:d,toggleLoop:m,isLooping:y,playingSectionId:w,selectedSectionId:b}=Rr(),S=dd(),[N,C]=fn.useState(!1);he.useEffect(()=>{Qg(r)},[r]),he.useEffect(()=>{A3(t)},[t]),he.useEffect(()=>{Kg(h)},[h]),he.useEffect(()=>{C3()},[y,r,w,b]),he.useEffect(()=>{M1(()=>Promise.resolve().then(()=>RT),void 0).then(W=>{C(!0),W.preloadAudio().finally(()=>C(!1))})},[]);const T=async()=>{try{await v3(),e?(S3(),Rr.getState().setIsPlaying(!1)):(C(!0),await w3(),Rr.getState().setIsPlaying(!0))}catch(W){console.error("Playback error:",W)}finally{C(!1)}},R=W=>{N3(W)},D=()=>{m()},F=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}];F.find(W=>W.value===h)||c("piano");const B=W=>{const G=F.findIndex(V=>V.value===h);if(G===-1){c("piano");return}const j=W==="next"?(G+1)%F.length:(G-1+F.length)%F.length;c(F[j].value)};return k.jsxs("div",{className:`${S?"h-11":"h-12"} bg-bg-elevated border-t border-border-subtle flex items-center justify-between ${S?"px-3 gap-2":"px-6"}`,children:[k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx("button",{onClick:()=>R("prev"),className:"p-1.5 text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center",children:k.jsx(NT,{size:16})}),k.jsx("button",{onClick:T,disabled:N,className:`${S?"w-8 h-8":"w-9 h-9"} rounded-full bg-accent-primary hover:bg-indigo-500 disabled:bg-accent-primary/50 flex items-center justify-center text-white shadow-md transition-all hover:scale-105 active:scale-95 touch-feedback`,children:N?k.jsx(aT,{size:S?16:18,className:"animate-spin"}):e?k.jsx(mT,{size:S?16:18,fill:"currentColor"}):k.jsx(vT,{size:S?16:18,fill:"currentColor",className:"ml-0.5"})}),k.jsx("button",{onClick:()=>R("next"),className:"p-1.5 text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center",children:k.jsx(TT,{size:16})}),!S&&k.jsx("button",{onClick:D,className:`p-1.5 transition-colors ml-1 ${y?"text-accent-primary":"text-text-secondary hover:text-text-primary"}`,title:"Loop Section",children:k.jsx(xT,{size:14})})]}),!S&&k.jsx("div",{className:"flex items-center gap-4 text-[11px] text-text-muted",children:k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:"text-text-secondary font-medium",children:"Tempo"}),k.jsx("input",{type:"number",value:t,onChange:W=>a(Number(W.target.value)),className:"w-14 bg-bg-tertiary border border-border-subtle rounded px-2 py-1 text-center text-text-primary text-[11px] font-medium",min:40,max:240}),k.jsx("span",{className:"text-text-muted",children:"BPM"})]})}),k.jsxs("div",{className:`flex items-center ${S?"gap-1.5":"gap-4"}`,children:[k.jsxs("div",{className:"flex items-center gap-1",children:[!S&&k.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-7",children:[k.jsx("button",{onClick:()=>B("prev"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:k.jsx(Hm,{size:12})}),k.jsx("button",{onClick:()=>B("next"),className:"px-1 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:k.jsx(Um,{size:12})})]}),S&&k.jsx(Gm,{size:14,className:"text-text-muted"}),k.jsx("select",{value:h,onChange:W=>c(W.target.value),className:`bg-bg-tertiary border border-border-subtle rounded ${S?"px-1.5 h-7 text-[11px] min-w-[70px]":"px-2 h-7 text-[10px] min-w-[130px]"} text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer`,children:F.map(W=>k.jsx("option",{value:W.value,children:W.label},W.value))})]}),k.jsxs("div",{className:`flex items-center ${S?"":"gap-2 w-28"}`,children:[k.jsx("button",{onClick:d,className:`${S?"p-1.5":"p-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback flex items-center justify-center rounded`,title:f?"Unmute":"Mute",children:f||i===0?k.jsx(MT,{size:S?16:14}):k.jsx(OT,{size:S?16:14})}),!S&&k.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:i,onChange:W=>{f&&d(),o(Number(W.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})},WE=({className:r="",size:e=24})=>k.jsx("div",{className:`relative flex items-center justify-center ${r}`,style:{width:e,height:e},children:k.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-full h-full overflow-visible",xmlns:"http://www.w3.org/2000/svg",children:[k.jsx("defs",{children:k.jsxs("linearGradient",{id:"rainbow-style",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[k.jsx("stop",{offset:"0%",stopColor:"hsl(0, 90%, 65%)"}),"    ",k.jsx("stop",{offset:"20%",stopColor:"hsl(35, 95%, 60%)"}),"   ",k.jsx("stop",{offset:"40%",stopColor:"hsl(55, 95%, 55%)"}),"   ",k.jsx("stop",{offset:"60%",stopColor:"hsl(140, 90%, 50%)"}),"  ",k.jsx("stop",{offset:"80%",stopColor:"hsl(210, 90%, 55%)"}),"  ",k.jsx("stop",{offset:"100%",stopColor:"hsl(280, 85%, 60%)"})," "]})}),k.jsx("circle",{cx:"6",cy:"18",r:"3.5",fill:"url(#rainbow-style)",stroke:"none"}),k.jsx("circle",{cx:"18",cy:"16",r:"3.5",fill:"url(#rainbow-style)",stroke:"none"}),k.jsx("path",{d:"M9 18 V5 L21 3 V16",stroke:"url(#rainbow-style)",fill:"none"})]})});function Bn(r){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(r)}var no=Uint8Array,Zs=Uint16Array,o2=Int32Array,l2=new no([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c2=new no([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Db=new no([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s_=function(r,e){for(var t=new Zs(31),i=0;i<31;++i)t[i]=e+=1<<r[i-1];for(var a=new o2(t[30]),i=1;i<30;++i)for(var o=t[i];o<t[i+1];++o)a[o]=o-t[i]<<5|i;return{b:t,r:a}},a_=s_(l2,2),YE=a_.b,$m=a_.r;YE[28]=258,$m[258]=28;var XE=s_(c2,0),Rb=XE.r,Km=new Zs(32768);for(var cr=0;cr<32768;++cr){var sc=(cr&43690)>>1|(cr&21845)<<1;sc=(sc&52428)>>2|(sc&13107)<<2,sc=(sc&61680)>>4|(sc&3855)<<4,Km[cr]=((sc&65280)>>8|(sc&255)<<8)>>1}var Bf=(function(r,e,t){for(var i=r.length,a=0,o=new Zs(e);a<i;++a)r[a]&&++o[r[a]-1];var h=new Zs(e);for(a=1;a<e;++a)h[a]=h[a-1]+o[a-1]<<1;var c;if(t){c=new Zs(1<<e);var f=15-e;for(a=0;a<i;++a)if(r[a])for(var d=a<<4|r[a],m=e-r[a],y=h[r[a]-1]++<<m,w=y|(1<<m)-1;y<=w;++y)c[Km[y]>>f]=d}else for(c=new Zs(i),a=0;a<i;++a)r[a]&&(c[a]=Km[h[r[a]-1]++]>>15-r[a]);return c}),cu=new no(288);for(var cr=0;cr<144;++cr)cu[cr]=8;for(var cr=144;cr<256;++cr)cu[cr]=9;for(var cr=256;cr<280;++cr)cu[cr]=7;for(var cr=280;cr<288;++cr)cu[cr]=8;var lp=new no(32);for(var cr=0;cr<32;++cr)lp[cr]=5;var ZE=Bf(cu,9,0),$E=Bf(lp,5,0),o_=function(r){return(r+7)/8|0},KE=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new no(r.subarray(e,t))},hl=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8},kf=function(r,e,t){t<<=e&7;var i=e/8|0;r[i]|=t,r[i+1]|=t>>8,r[i+2]|=t>>16},cm=function(r,e){for(var t=[],i=0;i<r.length;++i)r[i]&&t.push({s:i,f:r[i]});var a=t.length,o=t.slice();if(!a)return{t:c_,l:0};if(a==1){var h=new no(t[0].s+1);return h[t[0].s]=1,{t:h,l:1}}t.sort(function(B,W){return B.f-W.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,m=1,y=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};m!=a-1;)c=t[t[d].f<t[y].f?d++:y++],f=t[d!=m&&t[d].f<t[y].f?d++:y++],t[m++]={s:-1,f:c.f+f.f,l:c,r:f};for(var w=o[0].s,i=1;i<a;++i)o[i].s>w&&(w=o[i].s);var b=new Zs(w+1),S=Qm(t[m-1],b,0);if(S>e){var i=0,N=0,C=S-e,T=1<<C;for(o.sort(function(W,G){return b[G.s]-b[W.s]||W.f-G.f});i<a;++i){var R=o[i].s;if(b[R]>e)N+=T-(1<<S-b[R]),b[R]=e;else break}for(N>>=C;N>0;){var D=o[i].s;b[D]<e?N-=1<<e-b[D]++-1:++i}for(;i>=0&&N;--i){var F=o[i].s;b[F]==e&&(--b[F],++N)}S=e}return{t:new no(b),l:S}},Qm=function(r,e,t){return r.s==-1?Math.max(Qm(r.l,e,t+1),Qm(r.r,e,t+1)):e[r.s]=t},Ib=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Zs(++e),i=0,a=r[0],o=1,h=function(f){t[i++]=f},c=1;c<=e;++c)if(r[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)h(32754);o>2&&(h(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(h(a),--o;o>6;o-=6)h(8304);o>2&&(h(o-3<<5|8208),o=0)}for(;o--;)h(a);o=1,a=r[c]}return{c:t.subarray(0,i),n:e}},Of=function(r,e){for(var t=0,i=0;i<e.length;++i)t+=r[i]*e[i];return t},l_=function(r,e,t){var i=t.length,a=o_(e+2);r[a]=i&255,r[a+1]=i>>8,r[a+2]=r[a]^255,r[a+3]=r[a+1]^255;for(var o=0;o<i;++o)r[a+o+4]=t[o];return(a+4+i)*8},Vb=function(r,e,t,i,a,o,h,c,f,d,m){hl(e,m++,t),++a[256];for(var y=cm(a,15),w=y.t,b=y.l,S=cm(o,15),N=S.t,C=S.l,T=Ib(w),R=T.c,D=T.n,F=Ib(N),B=F.c,W=F.n,G=new Zs(19),j=0;j<R.length;++j)++G[R[j]&31];for(var j=0;j<B.length;++j)++G[B[j]&31];for(var V=cm(G,7),K=V.t,E=V.l,I=19;I>4&&!K[Db[I-1]];--I);var te=d+5<<3,U=Of(a,cu)+Of(o,lp)+h,ue=Of(a,w)+Of(o,N)+h+14+3*I+Of(G,K)+2*G[16]+3*G[17]+7*G[18];if(f>=0&&te<=U&&te<=ue)return l_(e,m,r.subarray(f,f+d));var $,ie,se,fe;if(hl(e,m,1+(ue<U)),m+=2,ue<U){$=Bf(w,b,0),ie=w,se=Bf(N,C,0),fe=N;var we=Bf(K,E,0);hl(e,m,D-257),hl(e,m+5,W-1),hl(e,m+10,I-4),m+=14;for(var j=0;j<I;++j)hl(e,m+3*j,K[Db[j]]);m+=3*I;for(var X=[R,B],L=0;L<2;++L)for(var P=X[L],j=0;j<P.length;++j){var J=P[j]&31;hl(e,m,we[J]),m+=K[J],J>15&&(hl(e,m,P[j]>>5&127),m+=P[j]>>12)}}else $=ZE,ie=cu,se=$E,fe=lp;for(var j=0;j<c;++j){var re=i[j];if(re>255){var J=re>>18&31;kf(e,m,$[J+257]),m+=ie[J+257],J>7&&(hl(e,m,re>>23&31),m+=l2[J]);var ce=re&31;kf(e,m,se[ce]),m+=fe[ce],ce>3&&(kf(e,m,re>>5&8191),m+=c2[ce])}else kf(e,m,$[re]),m+=ie[re]}return kf(e,m,$[256]),m+ie[256]},QE=new o2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),c_=new no(0),JE=function(r,e,t,i,a,o){var h=o.z||r.length,c=new no(i+h+5*(1+Math.ceil(h/7e3))+a),f=c.subarray(i,c.length-a),d=o.l,m=(o.r||0)&7;if(e){m&&(f[0]=o.r>>3);for(var y=QE[e-1],w=y>>13,b=y&8191,S=(1<<t)-1,N=o.p||new Zs(32768),C=o.h||new Zs(S+1),T=Math.ceil(t/3),R=2*T,D=function(je){return(r[je]^r[je+1]<<T^r[je+2]<<R)&S},F=new o2(25e3),B=new Zs(288),W=new Zs(32),G=0,j=0,V=o.i||0,K=0,E=o.w||0,I=0;V+2<h;++V){var te=D(V),U=V&32767,ue=C[te];if(N[U]=ue,C[te]=U,E<=V){var $=h-V;if((G>7e3||K>24576)&&($>423||!d)){m=Vb(r,f,0,F,B,W,j,K,I,V-I,m),K=G=j=0,I=V;for(var ie=0;ie<286;++ie)B[ie]=0;for(var ie=0;ie<30;++ie)W[ie]=0}var se=2,fe=0,we=b,X=U-ue&32767;if($>2&&te==D(V-X))for(var L=Math.min(w,$)-1,P=Math.min(32767,V),J=Math.min(258,$);X<=P&&--we&&U!=ue;){if(r[V+se]==r[V+se-X]){for(var re=0;re<J&&r[V+re]==r[V+re-X];++re);if(re>se){if(se=re,fe=X,re>L)break;for(var ce=Math.min(X,re-2),pe=0,ie=0;ie<ce;++ie){var de=V-X+ie&32767,xe=N[de],Te=de-xe&32767;Te>pe&&(pe=Te,ue=de)}}}U=ue,ue=N[U],X+=U-ue&32767}if(fe){F[K++]=268435456|$m[se]<<18|Rb[fe];var Ue=$m[se]&31,Qe=Rb[fe]&31;j+=l2[Ue]+c2[Qe],++B[257+Ue],++W[Qe],E=V+se,++G}else F[K++]=r[V],++B[r[V]]}}for(V=Math.max(V,E);V<h;++V)F[K++]=r[V],++B[r[V]];m=Vb(r,f,d,F,B,W,j,K,I,V-I,m),d||(o.r=m&7|f[m/8|0]<<3,m-=7,o.h=C,o.p=N,o.i=V,o.w=E)}else{for(var V=o.w||0;V<h+d;V+=65535){var et=V+65535;et>=h&&(f[m/8|0]=d,et=h),m=l_(f,m+1,r.subarray(V,et))}o.i=h}return KE(c,0,i+o_(m)+a)},u_=function(){var r=1,e=0;return{p:function(t){for(var i=r,a=e,o=t.length|0,h=0;h!=o;){for(var c=Math.min(h+2655,o);h<c;++h)a+=i+=t[h];i=(i&65535)+15*(i>>16),a=(a&65535)+15*(a>>16)}r=i,e=a},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},ek=function(r,e,t,i,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),h=new no(o.length+r.length);h.set(o),h.set(r,o.length),r=h,a.w=o.length}return JE(r,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,i,a)},h_=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},tk=function(r,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=i<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var a=u_();a.p(e.dictionary),h_(r,2,a.d())}};function Jm(r,e){e||(e={});var t=u_();t.p(r);var i=ek(r,e,e.dictionary?6:2,4);return tk(i,e),h_(i,i.length-4,t.d()),i}var nk=typeof TextDecoder<"u"&&new TextDecoder,rk=0;try{nk.decode(c_,{stream:!0}),rk=1}catch{}function ik(r){if(Array.isArray(r))return r}function sk(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var i,a,o,h,c=[],f=!0,d=!1;try{if(o=(t=t.call(r)).next,e!==0)for(;!(f=(i=o.call(t)).done)&&(c.push(i.value),c.length!==e);f=!0);}catch(m){d=!0,a=m}finally{try{if(!f&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(d)throw a}}return c}}function Fb(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=Array(e);t<e;t++)i[t]=r[t];return i}function ak(r,e){if(r){if(typeof r=="string")return Fb(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Fb(r,e):void 0}}function ok(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bb(r,e){return ik(r)||sk(r,e)||ak(r,e)||ok()}function qb(r,e="utf8"){return new TextDecoder(e).decode(r)}const lk=new TextEncoder;function ck(r){return lk.encode(r)}const uk=1024*8,hk=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),um={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class u2{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=uk,t={}){let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let h=a;(ArrayBuffer.isView(e)||e instanceof u2)&&(e.byteLength!==e.buffer.byteLength&&(h=e.byteOffset+a),e=e.buffer),i?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,a=new Uint8Array(i);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=um[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+i);if(this.littleEndian===hk&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+i));c.reverse();const f=new um[t](c.buffer);return this.offset+=i,f.reverse(),f}const h=new um[t](o);return this.offset+=i,h}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return qb(this.readBytes(e))}decodeText(e=1,t="utf8"){return qb(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(ck(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ph(r){let e=r.length;for(;--e>=0;)r[e]=0}const fk=3,dk=258,f_=29,pk=256,mk=pk+1+f_,d_=30,gk=512,vk=new Array((mk+2)*2);Ph(vk);const bk=new Array(d_*2);Ph(bk);const yk=new Array(gk);Ph(yk);const xk=new Array(dk-fk+1);Ph(xk);const _k=new Array(f_);Ph(_k);const wk=new Array(d_);Ph(wk);const Sk=(r,e,t,i)=>{let a=r&65535|0,o=r>>>16&65535|0,h=0;for(;t!==0;){h=t>2e3?2e3:t,t-=h;do a=a+e[i++]|0,o=o+a|0;while(--h);a%=65521,o%=65521}return a|o<<16|0};var eg=Sk;const Ak=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var i=0;i<8;i++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},Nk=new Uint32Array(Ak()),Ck=(r,e,t,i)=>{const a=Nk,o=i+t;r^=-1;for(let h=i;h<o;h++)r=r>>>8^a[(r^e[h])&255];return r^-1};var ko=Ck,tg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},p_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Tk=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var Ek=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)Tk(t,i)&&(r[i]=t[i])}}return r},kk=r=>{let e=0;for(let i=0,a=r.length;i<a;i++)e+=r[i].length;const t=new Uint8Array(e);for(let i=0,a=0,o=r.length;i<o;i++){let h=r[i];t.set(h,a),a+=h.length}return t},m_={assign:Ek,flattenChunks:kk};let g_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g_=!1}const Qf=new Uint8Array(256);for(let r=0;r<256;r++)Qf[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Qf[254]=Qf[254]=1;var Ok=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,i,a,o,h=r.length,c=0;for(a=0;a<h;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<h&&(i=r.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=r.charCodeAt(a),(t&64512)===55296&&a+1<h&&(i=r.charCodeAt(a+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const Lk=(r,e)=>{if(e<65534&&r.subarray&&g_)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(r[i]);return t};var Mk=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let i,a;const o=new Array(t*2);for(a=0,i=0;i<t;){let h=r[i++];if(h<128){o[a++]=h;continue}let c=Qf[h];if(c>4){o[a++]=65533,i+=c-1;continue}for(h&=c===2?31:c===3?15:7;c>1&&i<t;)h=h<<6|r[i++]&63,c--;if(c>1){o[a++]=65533;continue}h<65536?o[a++]=h:(h-=65536,o[a++]=55296|h>>10&1023,o[a++]=56320|h&1023)}return Lk(o,a)},jk=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Qf[r[t]]>e?t:e},ng={string2buf:Ok,buf2string:Mk,utf8border:jk};function Dk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Rk=Dk;const b1=16209,Ik=16191;var Vk=function(e,t){let i,a,o,h,c,f,d,m,y,w,b,S,N,C,T,R,D,F,B,W,G,j,V,K;const E=e.state;i=e.next_in,V=e.input,a=i+(e.avail_in-5),o=e.next_out,K=e.output,h=o-(t-e.avail_out),c=o+(e.avail_out-257),f=E.dmax,d=E.wsize,m=E.whave,y=E.wnext,w=E.window,b=E.hold,S=E.bits,N=E.lencode,C=E.distcode,T=(1<<E.lenbits)-1,R=(1<<E.distbits)-1;e:do{S<15&&(b+=V[i++]<<S,S+=8,b+=V[i++]<<S,S+=8),D=N[b&T];t:for(;;){if(F=D>>>24,b>>>=F,S-=F,F=D>>>16&255,F===0)K[o++]=D&65535;else if(F&16){B=D&65535,F&=15,F&&(S<F&&(b+=V[i++]<<S,S+=8),B+=b&(1<<F)-1,b>>>=F,S-=F),S<15&&(b+=V[i++]<<S,S+=8,b+=V[i++]<<S,S+=8),D=C[b&R];n:for(;;){if(F=D>>>24,b>>>=F,S-=F,F=D>>>16&255,F&16){if(W=D&65535,F&=15,S<F&&(b+=V[i++]<<S,S+=8,S<F&&(b+=V[i++]<<S,S+=8)),W+=b&(1<<F)-1,W>f){e.msg="invalid distance too far back",E.mode=b1;break e}if(b>>>=F,S-=F,F=o-h,W>F){if(F=W-F,F>m&&E.sane){e.msg="invalid distance too far back",E.mode=b1;break e}if(G=0,j=w,y===0){if(G+=d-F,F<B){B-=F;do K[o++]=w[G++];while(--F);G=o-W,j=K}}else if(y<F){if(G+=d+y-F,F-=y,F<B){B-=F;do K[o++]=w[G++];while(--F);if(G=0,y<B){F=y,B-=F;do K[o++]=w[G++];while(--F);G=o-W,j=K}}}else if(G+=y-F,F<B){B-=F;do K[o++]=w[G++];while(--F);G=o-W,j=K}for(;B>2;)K[o++]=j[G++],K[o++]=j[G++],K[o++]=j[G++],B-=3;B&&(K[o++]=j[G++],B>1&&(K[o++]=j[G++]))}else{G=o-W;do K[o++]=K[G++],K[o++]=K[G++],K[o++]=K[G++],B-=3;while(B>2);B&&(K[o++]=K[G++],B>1&&(K[o++]=K[G++]))}}else if((F&64)===0){D=C[(D&65535)+(b&(1<<F)-1)];continue n}else{e.msg="invalid distance code",E.mode=b1;break e}break}}else if((F&64)===0){D=N[(D&65535)+(b&(1<<F)-1)];continue t}else if(F&32){E.mode=Ik;break e}else{e.msg="invalid literal/length code",E.mode=b1;break e}break}}while(i<a&&o<c);B=S>>3,i-=B,S-=B<<3,b&=(1<<S)-1,e.next_in=i,e.next_out=o,e.avail_in=i<a?5+(a-i):5-(i-a),e.avail_out=o<c?257+(c-o):257-(o-c),E.hold=b,E.bits=S};const oh=15,zb=852,Pb=592,Ub=0,hm=1,Hb=2,Fk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Bk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),zk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Pk=(r,e,t,i,a,o,h,c)=>{const f=c.bits;let d=0,m=0,y=0,w=0,b=0,S=0,N=0,C=0,T=0,R=0,D,F,B,W,G,j=null,V;const K=new Uint16Array(oh+1),E=new Uint16Array(oh+1);let I=null,te,U,ue;for(d=0;d<=oh;d++)K[d]=0;for(m=0;m<i;m++)K[e[t+m]]++;for(b=f,w=oh;w>=1&&K[w]===0;w--);if(b>w&&(b=w),w===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(y=1;y<w&&K[y]===0;y++);for(b<y&&(b=y),C=1,d=1;d<=oh;d++)if(C<<=1,C-=K[d],C<0)return-1;if(C>0&&(r===Ub||w!==1))return-1;for(E[1]=0,d=1;d<oh;d++)E[d+1]=E[d]+K[d];for(m=0;m<i;m++)e[t+m]!==0&&(h[E[e[t+m]]++]=m);if(r===Ub?(j=I=h,V=20):r===hm?(j=Fk,I=Bk,V=257):(j=qk,I=zk,V=0),R=0,m=0,d=y,G=o,S=b,N=0,B=-1,T=1<<b,W=T-1,r===hm&&T>zb||r===Hb&&T>Pb)return 1;for(;;){te=d-N,h[m]+1<V?(U=0,ue=h[m]):h[m]>=V?(U=I[h[m]-V],ue=j[h[m]-V]):(U=96,ue=0),D=1<<d-N,F=1<<S,y=F;do F-=D,a[G+(R>>N)+F]=te<<24|U<<16|ue|0;while(F!==0);for(D=1<<d-1;R&D;)D>>=1;if(D!==0?(R&=D-1,R+=D):R=0,m++,--K[d]===0){if(d===w)break;d=e[t+h[m]]}if(d>b&&(R&W)!==B){for(N===0&&(N=b),G+=y,S=d-N,C=1<<S;S+N<w&&(C-=K[S+N],!(C<=0));)S++,C<<=1;if(T+=1<<S,r===hm&&T>zb||r===Hb&&T>Pb)return 1;B=R&W,a[B]=b<<24|S<<16|G-o|0}}return R!==0&&(a[G+R]=d-N<<24|64<<16|0),c.bits=b,0};var qf=Pk;const Uk=0,v_=1,b_=2,{Z_FINISH:Gb,Z_BLOCK:Hk,Z_TREES:y1,Z_OK:uu,Z_STREAM_END:Gk,Z_NEED_DICT:Wk,Z_STREAM_ERROR:ya,Z_DATA_ERROR:y_,Z_MEM_ERROR:x_,Z_BUF_ERROR:Yk,Z_DEFLATED:Wb}=p_,Fp=16180,Yb=16181,Xb=16182,Zb=16183,$b=16184,Kb=16185,Qb=16186,Jb=16187,ey=16188,ty=16189,cp=16190,fl=16191,fm=16192,ny=16193,dm=16194,ry=16195,iy=16196,sy=16197,ay=16198,x1=16199,_1=16200,oy=16201,ly=16202,cy=16203,uy=16204,hy=16205,pm=16206,fy=16207,dy=16208,gr=16209,__=16210,w_=16211,Xk=852,Zk=592,$k=15,Kk=$k,py=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function Qk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pu=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<Fp||e.mode>w_?1:0},S_=r=>{if(pu(r))return ya;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=Fp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Xk),e.distcode=e.distdyn=new Int32Array(Zk),e.sane=1,e.back=-1,uu},A_=r=>{if(pu(r))return ya;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,S_(r)},N_=(r,e)=>{let t;if(pu(r))return ya;const i=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ya:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,A_(r))},C_=(r,e)=>{if(!r)return ya;const t=new Qk;r.state=t,t.strm=r,t.window=null,t.mode=Fp;const i=N_(r,e);return i!==uu&&(r.state=null),i},Jk=r=>C_(r,Kk);let my=!0,mm,gm;const eO=r=>{if(my){mm=new Int32Array(512),gm=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(qf(v_,r.lens,0,288,mm,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;qf(b_,r.lens,0,32,gm,0,r.work,{bits:5}),my=!1}r.lencode=mm,r.lenbits=9,r.distcode=gm,r.distbits=5},T_=(r,e,t,i)=>{let a;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>i&&(a=i),o.window.set(e.subarray(t-i,t-i+a),o.wnext),i-=a,i?(o.window.set(e.subarray(t-i,t),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},tO=(r,e)=>{let t,i,a,o,h,c,f,d,m,y,w,b,S,N,C=0,T,R,D,F,B,W,G,j;const V=new Uint8Array(4);let K,E;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pu(r)||!r.output||!r.input&&r.avail_in!==0)return ya;t=r.state,t.mode===fl&&(t.mode=fm),h=r.next_out,a=r.output,f=r.avail_out,o=r.next_in,i=r.input,c=r.avail_in,d=t.hold,m=t.bits,y=c,w=f,j=uu;e:for(;;)switch(t.mode){case Fp:if(t.wrap===0){t.mode=fm;break}for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,V[0]=d&255,V[1]=d>>>8&255,t.check=ko(t.check,V,2,0),d=0,m=0,t.mode=Yb;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",t.mode=gr;break}if((d&15)!==Wb){r.msg="unknown compression method",t.mode=gr;break}if(d>>>=4,m-=4,G=(d&15)+8,t.wbits===0&&(t.wbits=G),G>15||G>t.wbits){r.msg="invalid window size",t.mode=gr;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=d&512?ty:fl,d=0,m=0;break;case Yb:for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.flags=d,(t.flags&255)!==Wb){r.msg="unknown compression method",t.mode=gr;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=gr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(V[0]=d&255,V[1]=d>>>8&255,t.check=ko(t.check,V,2,0)),d=0,m=0,t.mode=Xb;case Xb:for(;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(V[0]=d&255,V[1]=d>>>8&255,V[2]=d>>>16&255,V[3]=d>>>24&255,t.check=ko(t.check,V,4,0)),d=0,m=0,t.mode=Zb;case Zb:for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(V[0]=d&255,V[1]=d>>>8&255,t.check=ko(t.check,V,2,0)),d=0,m=0,t.mode=$b;case $b:if(t.flags&1024){for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(V[0]=d&255,V[1]=d>>>8&255,t.check=ko(t.check,V,2,0)),d=0,m=0}else t.head&&(t.head.extra=null);t.mode=Kb;case Kb:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&(G=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(o,o+b),G)),t.flags&512&&t.wrap&4&&(t.check=ko(t.check,i,b,o)),c-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=Qb;case Qb:if(t.flags&2048){if(c===0)break e;b=0;do G=i[o+b++],t.head&&G&&t.length<65536&&(t.head.name+=String.fromCharCode(G));while(G&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=ko(t.check,i,b,o)),c-=b,o+=b,G)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Jb;case Jb:if(t.flags&4096){if(c===0)break e;b=0;do G=i[o+b++],t.head&&G&&t.length<65536&&(t.head.comment+=String.fromCharCode(G));while(G&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=ko(t.check,i,b,o)),c-=b,o+=b,G)break e}else t.head&&(t.head.comment=null);t.mode=ey;case ey:if(t.flags&512){for(;m<16;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.check&65535)){r.msg="header crc mismatch",t.mode=gr;break}d=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=fl;break;case ty:for(;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}r.adler=t.check=py(d),d=0,m=0,t.mode=cp;case cp:if(t.havedict===0)return r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,Wk;r.adler=t.check=1,t.mode=fl;case fl:if(e===Hk||e===y1)break e;case fm:if(t.last){d>>>=m&7,m-=m&7,t.mode=pm;break}for(;m<3;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}switch(t.last=d&1,d>>>=1,m-=1,d&3){case 0:t.mode=ny;break;case 1:if(eO(t),t.mode=x1,e===y1){d>>>=2,m-=2;break e}break;case 2:t.mode=iy;break;case 3:r.msg="invalid block type",t.mode=gr}d>>>=2,m-=2;break;case ny:for(d>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",t.mode=gr;break}if(t.length=d&65535,d=0,m=0,t.mode=dm,e===y1)break e;case dm:t.mode=ry;case ry:if(b=t.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break e;a.set(i.subarray(o,o+b),h),c-=b,o+=b,f-=b,h+=b,t.length-=b;break}t.mode=fl;break;case iy:for(;m<14;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.nlen=(d&31)+257,d>>>=5,m-=5,t.ndist=(d&31)+1,d>>>=5,m-=5,t.ncode=(d&15)+4,d>>>=4,m-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=gr;break}t.have=0,t.mode=sy;case sy:for(;t.have<t.ncode;){for(;m<3;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.lens[I[t.have++]]=d&7,d>>>=3,m-=3}for(;t.have<19;)t.lens[I[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,K={bits:t.lenbits},j=qf(Uk,t.lens,0,19,t.lencode,0,t.work,K),t.lenbits=K.bits,j){r.msg="invalid code lengths set",t.mode=gr;break}t.have=0,t.mode=ay;case ay:for(;t.have<t.nlen+t.ndist;){for(;C=t.lencode[d&(1<<t.lenbits)-1],T=C>>>24,R=C>>>16&255,D=C&65535,!(T<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(D<16)d>>>=T,m-=T,t.lens[t.have++]=D;else{if(D===16){for(E=T+2;m<E;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(d>>>=T,m-=T,t.have===0){r.msg="invalid bit length repeat",t.mode=gr;break}G=t.lens[t.have-1],b=3+(d&3),d>>>=2,m-=2}else if(D===17){for(E=T+3;m<E;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=T,m-=T,G=0,b=3+(d&7),d>>>=3,m-=3}else{for(E=T+7;m<E;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=T,m-=T,G=0,b=11+(d&127),d>>>=7,m-=7}if(t.have+b>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=gr;break}for(;b--;)t.lens[t.have++]=G}}if(t.mode===gr)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=gr;break}if(t.lenbits=9,K={bits:t.lenbits},j=qf(v_,t.lens,0,t.nlen,t.lencode,0,t.work,K),t.lenbits=K.bits,j){r.msg="invalid literal/lengths set",t.mode=gr;break}if(t.distbits=6,t.distcode=t.distdyn,K={bits:t.distbits},j=qf(b_,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,K),t.distbits=K.bits,j){r.msg="invalid distances set",t.mode=gr;break}if(t.mode=x1,e===y1)break e;case x1:t.mode=_1;case _1:if(c>=6&&f>=258){r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,Vk(r,w),h=r.next_out,a=r.output,f=r.avail_out,o=r.next_in,i=r.input,c=r.avail_in,d=t.hold,m=t.bits,t.mode===fl&&(t.back=-1);break}for(t.back=0;C=t.lencode[d&(1<<t.lenbits)-1],T=C>>>24,R=C>>>16&255,D=C&65535,!(T<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(R&&(R&240)===0){for(F=T,B=R,W=D;C=t.lencode[W+((d&(1<<F+B)-1)>>F)],T=C>>>24,R=C>>>16&255,D=C&65535,!(F+T<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=F,m-=F,t.back+=F}if(d>>>=T,m-=T,t.back+=T,t.length=D,R===0){t.mode=hy;break}if(R&32){t.back=-1,t.mode=fl;break}if(R&64){r.msg="invalid literal/length code",t.mode=gr;break}t.extra=R&15,t.mode=oy;case oy:if(t.extra){for(E=t.extra;m<E;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=ly;case ly:for(;C=t.distcode[d&(1<<t.distbits)-1],T=C>>>24,R=C>>>16&255,D=C&65535,!(T<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if((R&240)===0){for(F=T,B=R,W=D;C=t.distcode[W+((d&(1<<F+B)-1)>>F)],T=C>>>24,R=C>>>16&255,D=C&65535,!(F+T<=m);){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}d>>>=F,m-=F,t.back+=F}if(d>>>=T,m-=T,t.back+=T,R&64){r.msg="invalid distance code",t.mode=gr;break}t.offset=D,t.extra=R&15,t.mode=cy;case cy:if(t.extra){for(E=t.extra;m<E;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=gr;break}t.mode=uy;case uy:if(f===0)break e;if(b=w-f,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=gr;break}b>t.wnext?(b-=t.wnext,S=t.wsize-b):S=t.wnext-b,b>t.length&&(b=t.length),N=t.window}else N=a,S=h-t.offset,b=t.length;b>f&&(b=f),f-=b,t.length-=b;do a[h++]=N[S++];while(--b);t.length===0&&(t.mode=_1);break;case hy:if(f===0)break e;a[h++]=t.length,f--,t.mode=_1;break;case pm:if(t.wrap){for(;m<32;){if(c===0)break e;c--,d|=i[o++]<<m,m+=8}if(w-=f,r.total_out+=w,t.total+=w,t.wrap&4&&w&&(r.adler=t.check=t.flags?ko(t.check,a,w,h-w):eg(t.check,a,w,h-w)),w=f,t.wrap&4&&(t.flags?d:py(d))!==t.check){r.msg="incorrect data check",t.mode=gr;break}d=0,m=0}t.mode=fy;case fy:if(t.wrap&&t.flags){for(;m<32;){if(c===0)break e;c--,d+=i[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=gr;break}d=0,m=0}t.mode=dy;case dy:j=Gk;break e;case gr:j=y_;break e;case __:return x_;case w_:default:return ya}return r.next_out=h,r.avail_out=f,r.next_in=o,r.avail_in=c,t.hold=d,t.bits=m,(t.wsize||w!==r.avail_out&&t.mode<gr&&(t.mode<pm||e!==Gb))&&T_(r,r.output,r.next_out,w-r.avail_out),y-=r.avail_in,w-=r.avail_out,r.total_in+=y,r.total_out+=w,t.total+=w,t.wrap&4&&w&&(r.adler=t.check=t.flags?ko(t.check,a,w,r.next_out-w):eg(t.check,a,w,r.next_out-w)),r.data_type=t.bits+(t.last?64:0)+(t.mode===fl?128:0)+(t.mode===x1||t.mode===dm?256:0),(y===0&&w===0||e===Gb)&&j===uu&&(j=Yk),j},nO=r=>{if(pu(r))return ya;let e=r.state;return e.window&&(e.window=null),r.state=null,uu},rO=(r,e)=>{if(pu(r))return ya;const t=r.state;return(t.wrap&2)===0?ya:(t.head=e,e.done=!1,uu)},iO=(r,e)=>{const t=e.length;let i,a,o;return pu(r)||(i=r.state,i.wrap!==0&&i.mode!==cp)?ya:i.mode===cp&&(a=1,a=eg(a,e,t,0),a!==i.check)?y_:(o=T_(r,e,t,t),o?(i.mode=__,x_):(i.havedict=1,uu))};var sO=A_,aO=N_,oO=S_,lO=Jk,cO=C_,uO=tO,hO=nO,fO=rO,dO=iO,pO="pako inflate (from Nodeca project)",pl={inflateReset:sO,inflateReset2:aO,inflateResetKeep:oO,inflateInit:lO,inflateInit2:cO,inflate:uO,inflateEnd:hO,inflateGetHeader:fO,inflateSetDictionary:dO,inflateInfo:pO};function mO(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gO=mO;const E_=Object.prototype.toString,{Z_NO_FLUSH:vO,Z_FINISH:bO,Z_OK:Jf,Z_STREAM_END:vm,Z_NEED_DICT:bm,Z_STREAM_ERROR:yO,Z_DATA_ERROR:gy,Z_MEM_ERROR:xO}=p_;function bd(r){this.options=m_.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Rk,this.strm.avail_out=0;let t=pl.inflateInit2(this.strm,e.windowBits);if(t!==Jf)throw new Error(tg[t]);if(this.header=new gO,pl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ng.string2buf(e.dictionary):E_.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=pl.inflateSetDictionary(this.strm,e.dictionary),t!==Jf)))throw new Error(tg[t])}bd.prototype.push=function(r,e){const t=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let o,h,c;if(this.ended)return!1;for(e===~~e?h=e:h=e===!0?bO:vO,E_.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),o=pl.inflate(t,h),o===bm&&a&&(o=pl.inflateSetDictionary(t,a),o===Jf?o=pl.inflate(t,h):o===gy&&(o=bm));t.avail_in>0&&o===vm&&t.state.wrap>0&&r[t.next_in]!==0;)pl.inflateReset(t),o=pl.inflate(t,h);switch(o){case yO:case gy:case bm:case xO:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===vm))if(this.options.to==="string"){let f=ng.utf8border(t.output,t.next_out),d=t.next_out-f,m=ng.buf2string(t.output,f);t.next_out=d,t.avail_out=i-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Jf&&c===0)){if(o===vm)return o=pl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};bd.prototype.onData=function(r){this.chunks.push(r)};bd.prototype.onEnd=function(r){r===Jf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m_.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function _O(r,e){const t=new bd(e);if(t.push(r),t.err)throw t.msg||tg[t.err];return t.result}var wO=bd,SO=_O,AO={Inflate:wO,inflate:SO};const{Inflate:NO,inflate:CO}=AO;var vy=NO,TO=CO;const k_=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;k_[r]=e}const by=4294967295;function EO(r,e,t){let i=r;for(let a=0;a<t;a++)i=k_[(i^e[a])&255]^i>>>8;return i}function kO(r,e){return(EO(by,r,e)^by)>>>0}function yy(r,e,t){const i=r.readUint32(),a=kO(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(a!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${a}`)}function O_(r,e,t){for(let i=0;i<t;i++)e[i]=r[i]}function L_(r,e,t,i){let a=0;for(;a<i;a++)e[a]=r[a];for(;a<t;a++)e[a]=r[a]+e[a-i]&255}function M_(r,e,t,i){let a=0;if(t.length===0)for(;a<i;a++)e[a]=r[a];else for(;a<i;a++)e[a]=r[a]+t[a]&255}function j_(r,e,t,i,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=r[o]+(t[o]>>1)&255;for(;o<i;o++)e[o]=r[o]+(e[o-a]+t[o]>>1)&255}}function D_(r,e,t,i,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=r[o];for(;o<i;o++)e[o]=r[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=r[o]+t[o]&255;for(;o<i;o++)e[o]=r[o]+OO(e[o-a],t[o],t[o-a])&255}}function OO(r,e,t){const i=r+e-t,a=Math.abs(i-r),o=Math.abs(i-e),h=Math.abs(i-t);return a<=o&&a<=h?r:o<=h?e:t}function LO(r,e,t,i,a,o){switch(r){case 0:O_(e,t,a);break;case 1:L_(e,t,a,o);break;case 2:M_(e,t,i,a);break;case 3:j_(e,t,i,a,o);break;case 4:D_(e,t,i,a,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const MO=new Uint16Array([255]),jO=new Uint8Array(MO.buffer),DO=jO[0]===255;function RO(r){const{data:e,width:t,height:i,channels:a,depth:o}=r,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(i*t*c);let d=0;for(let m=0;m<7;m++){const y=h[m],w=Math.ceil((t-y.x)/y.xStep),b=Math.ceil((i-y.y)/y.yStep);if(w<=0||b<=0)continue;const S=w*c,N=new Uint8Array(S);for(let C=0;C<b;C++){const T=e[d++],R=e.subarray(d,d+S);d+=S;const D=new Uint8Array(S);LO(T,R,D,N,S,c),N.set(D);for(let F=0;F<w;F++){const B=y.x+F*y.xStep,W=y.y+C*y.yStep;if(!(B>=t||W>=i))for(let G=0;G<c;G++)f[(W*t+B)*c+G]=D[F*c+G]}}}if(o===16){const m=new Uint16Array(f.buffer);if(DO)for(let y=0;y<m.length;y++)m[y]=IO(m[y]);return m}else return f}function IO(r){return(r&255)<<8|r>>8&255}const VO=new Uint16Array([255]),FO=new Uint8Array(VO.buffer),BO=FO[0]===255,qO=new Uint8Array(0);function xy(r){const{data:e,width:t,height:i,channels:a,depth:o}=r,h=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(i*c);let d=qO,m=0,y,w;for(let b=0;b<i;b++){switch(y=e.subarray(m+1,m+1+c),w=f.subarray(b*c,(b+1)*c),e[m]){case 0:O_(y,w,c);break;case 1:L_(y,w,c,h);break;case 2:M_(y,w,d,c);break;case 3:j_(y,w,d,c,h);break;case 4:D_(y,w,d,c,h);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}d=w,m+=c+1}if(o===16){const b=new Uint16Array(f.buffer);if(BO)for(let S=0;S<b.length;S++)b[S]=zO(b[S]);return b}else return f}function zO(r){return(r&255)<<8|r>>8&255}const j1=Uint8Array.of(137,80,78,71,13,10,26,10);function _y(r){if(!PO(r.readBytes(j1.length)))throw new Error("wrong PNG signature")}function PO(r){if(r.length<j1.length)return!1;for(let e=0;e<j1.length;e++)if(r[e]!==j1[e])return!1;return!0}const UO="tEXt",HO=0,R_=new TextDecoder("latin1");function GO(r){if(YO(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const WO=/^[\u0000-\u00FF]*$/;function YO(r){if(!WO.test(r))throw new Error("invalid latin1 text")}function XO(r,e,t){const i=I_(e);r[i]=ZO(e,t-i.length-1)}function I_(r){for(r.mark();r.readByte()!==HO;);const e=r.offset;r.reset();const t=R_.decode(r.readBytes(e-r.offset-1));return r.skip(1),GO(t),t}function ZO(r,e){return R_.decode(r.readBytes(e))}const Gs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},ym={UNKNOWN:-1,DEFLATE:0},wy={UNKNOWN:-1,ADAPTIVE:0},xm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},w1={NONE:0,BACKGROUND:1,PREVIOUS:2},_m={SOURCE:0,OVER:1};class $O extends u2{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new vy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ym.UNKNOWN,this._filterMethod=wy.UNKNOWN,this._interlaceMethod=xm.UNKNOWN,this._colorType=Gs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(_y(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(_y(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case UO:XO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?yy(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const i=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=i+e;break}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?yy(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=KO(this.readUint8());const t=this.readUint8();this._colorType=t;let i;switch(t){case Gs.GREYSCALE:i=1;break;case Gs.TRUECOLOUR:i=3;break;case Gs.INDEXED_COLOUR:i=1;break;case Gs.GREYSCALE_ALPHA:i=2;break;case Gs.TRUECOLOUR_ALPHA:i=4;break;case Gs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==ym.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<t;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,i=this.offset+this.byteOffset;if(i+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,i,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Gs.GREYSCALE:case Gs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Gs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const i=this.readByte();this._palette[t].push(i)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Gs.UNKNOWN:case Gs.GREYSCALE_ALPHA:case Gs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=I_(this),i=this.readUint8();if(i!==ym.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:TO(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:t,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(e);if(i){if(i.data=xy({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)t.data=i.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(i,a,t),this.addFrameDataToCanvas(t,i)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,i){switch(e.disposeOp){case w1.NONE:break;case w1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const h=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[h+c]=0}break;case w1.PREVIOUS:i.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const i=1<<this._png.depth,a=(o,h)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+h)*this._png.channels,f=(o*t.width+h)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case _m.SOURCE:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case _m.OVER:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++){const m=t.data[f+this._png.channels-1]/i,y=d%(this._png.channels-1)===0?1:t.data[f+d],w=Math.floor(m*y+(1-m)*e.data[c+d]);e.data[c+d]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==wy.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===xm.NO_INTERLACE)this._png.data=xy({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===xm.ADAM7)this._png.data=RO({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:w1.NONE,blendOp:_m.SOURCE,data:e}),this._inflator=new vy,this._writingDataChunks=!1}}function KO(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var Sy;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(Sy||(Sy={}));function QO(r,e){return new $O(r,e).decode()}var Yt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function wm(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var Qn={log:wm,warn:function(r){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):wm.call(null,arguments))},error:function(r){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):wm(r))}};function Sm(r,e,t){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){Jc(i.response,e,t)},i.onerror=function(){Qn.error("could not download file")},i.send()}function Ay(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function S1(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Jc=Yt.saveAs||((typeof window>"u"?"undefined":Bn(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var i=Yt.URL||Yt.webkitURL,a=document.createElement("a");e=e||r.name||"download",a.download=e,a.rel="noopener",typeof r=="string"?(a.href=r,a.origin!==location.origin?Ay(a.href)?Sm(r,e,t):S1(a,a.target="_blank"):S1(a)):(a.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){S1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(Ay(r))Sm(r,e,t);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){S1(i)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Bn(o)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(r,t),e)}:function(r,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof r=="string")return Sm(r,e,t);var a=r.type==="application/octet-stream",o=/constructor/i.test(Yt.HTMLElement)||Yt.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||a&&o)&&(typeof FileReader>"u"?"undefined":Bn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=h?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=m:location=m,i=null},c.readAsDataURL(r)}else{var f=Yt.URL||Yt.webkitURL,d=f.createObjectURL(r);i?i.location=d:location.href=d,i=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function V_(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],i=0;i<t.length;i++){var a=t[i].re,o=t[i].process,h=a.exec(r);h&&(e=o(h),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var D1=Yt.atob.bind(Yt),Ny=Yt.btoa.bind(Yt);function Am(r,e){var t=r[0],i=r[1],a=r[2],o=r[3];t=qi(t,i,a,o,e[0],7,-680876936),o=qi(o,t,i,a,e[1],12,-389564586),a=qi(a,o,t,i,e[2],17,606105819),i=qi(i,a,o,t,e[3],22,-1044525330),t=qi(t,i,a,o,e[4],7,-176418897),o=qi(o,t,i,a,e[5],12,1200080426),a=qi(a,o,t,i,e[6],17,-1473231341),i=qi(i,a,o,t,e[7],22,-45705983),t=qi(t,i,a,o,e[8],7,1770035416),o=qi(o,t,i,a,e[9],12,-1958414417),a=qi(a,o,t,i,e[10],17,-42063),i=qi(i,a,o,t,e[11],22,-1990404162),t=qi(t,i,a,o,e[12],7,1804603682),o=qi(o,t,i,a,e[13],12,-40341101),a=qi(a,o,t,i,e[14],17,-1502002290),t=zi(t,i=qi(i,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=zi(o,t,i,a,e[6],9,-1069501632),a=zi(a,o,t,i,e[11],14,643717713),i=zi(i,a,o,t,e[0],20,-373897302),t=zi(t,i,a,o,e[5],5,-701558691),o=zi(o,t,i,a,e[10],9,38016083),a=zi(a,o,t,i,e[15],14,-660478335),i=zi(i,a,o,t,e[4],20,-405537848),t=zi(t,i,a,o,e[9],5,568446438),o=zi(o,t,i,a,e[14],9,-1019803690),a=zi(a,o,t,i,e[3],14,-187363961),i=zi(i,a,o,t,e[8],20,1163531501),t=zi(t,i,a,o,e[13],5,-1444681467),o=zi(o,t,i,a,e[2],9,-51403784),a=zi(a,o,t,i,e[7],14,1735328473),t=Pi(t,i=zi(i,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Pi(o,t,i,a,e[8],11,-2022574463),a=Pi(a,o,t,i,e[11],16,1839030562),i=Pi(i,a,o,t,e[14],23,-35309556),t=Pi(t,i,a,o,e[1],4,-1530992060),o=Pi(o,t,i,a,e[4],11,1272893353),a=Pi(a,o,t,i,e[7],16,-155497632),i=Pi(i,a,o,t,e[10],23,-1094730640),t=Pi(t,i,a,o,e[13],4,681279174),o=Pi(o,t,i,a,e[0],11,-358537222),a=Pi(a,o,t,i,e[3],16,-722521979),i=Pi(i,a,o,t,e[6],23,76029189),t=Pi(t,i,a,o,e[9],4,-640364487),o=Pi(o,t,i,a,e[12],11,-421815835),a=Pi(a,o,t,i,e[15],16,530742520),t=Ui(t,i=Pi(i,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Ui(o,t,i,a,e[7],10,1126891415),a=Ui(a,o,t,i,e[14],15,-1416354905),i=Ui(i,a,o,t,e[5],21,-57434055),t=Ui(t,i,a,o,e[12],6,1700485571),o=Ui(o,t,i,a,e[3],10,-1894986606),a=Ui(a,o,t,i,e[10],15,-1051523),i=Ui(i,a,o,t,e[1],21,-2054922799),t=Ui(t,i,a,o,e[8],6,1873313359),o=Ui(o,t,i,a,e[15],10,-30611744),a=Ui(a,o,t,i,e[6],15,-1560198380),i=Ui(i,a,o,t,e[13],21,1309151649),t=Ui(t,i,a,o,e[4],6,-145523070),o=Ui(o,t,i,a,e[11],10,-1120210379),a=Ui(a,o,t,i,e[2],15,718787259),i=Ui(i,a,o,t,e[9],21,-343485551),r[0]=uc(t,r[0]),r[1]=uc(i,r[1]),r[2]=uc(a,r[2]),r[3]=uc(o,r[3])}function Bp(r,e,t,i,a,o){return e=uc(uc(e,r),uc(i,o)),uc(e<<a|e>>>32-a,t)}function qi(r,e,t,i,a,o,h){return Bp(e&t|~e&i,r,e,a,o,h)}function zi(r,e,t,i,a,o,h){return Bp(e&i|t&~i,r,e,a,o,h)}function Pi(r,e,t,i,a,o,h){return Bp(e^t^i,r,e,a,o,h)}function Ui(r,e,t,i,a,o,h){return Bp(t^(e|~i),r,e,a,o,h)}function F_(r){var e,t=r.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Am(i,JO(r.substring(e-64,e)));r=r.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)a[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Am(i,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,Am(i,a),i}function JO(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var Cy="0123456789abcdef".split("");function eL(r){for(var e="",t=0;t<4;t++)e+=Cy[r>>8*t+4&15]+Cy[r>>8*t&15];return e}function tL(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function rg(r){return F_(r).map(tL).join("")}var nL=(function(r){for(var e=0;e<r.length;e++)r[e]=eL(r[e]);return r.join("")})(F_("hello"))!="5d41402abc4b2a76b9719d911017c592";function uc(r,e){if(nL){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}function ig(r,e){var t,i,a,o;if(r!==t){for(var h=(a=r,o=1+(256/r.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var m=c[f];d=(d+m+h.charCodeAt(f))%256,c[f]=c[d],c[d]=m}t=r,i=c}else c=i;var y=e.length,w=0,b=0,S="";for(f=0;f<y;f++)b=(b+(m=c[w=(w+1)%256]))%256,c[w]=c[b],c[b]=m,h=c[(c[w]+c[b])%256],S+=String.fromCharCode(e.charCodeAt(f)^h);return S}var Ty={print:4,modify:8,copy:16,"annot-forms":32};function fh(r,e,t,i){this.v=1,this.r=2;var a=192;r.forEach(function(c){if(Ty.perm!==void 0)throw new Error("Invalid permission: "+c);a+=Ty[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),h=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,h),this.P=-(1+(255^a)),this.encryptionKey=rg(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=ig(this.encryptionKey,this.padding)}function dh(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,i=0;i<t;i++){var a=r.charCodeAt(i);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):r[i]}return e}function Ey(r){if(Bn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,a){if(a=a||!1,typeof t!="string"||typeof i!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[i,!!a],o},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var h=e[t][o];try{h[0].apply(r,i)}catch(c){Yt.console&&Qn.error("jsPDF PubSub Error",c.message,c)}h[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function up(r){if(!(this instanceof up))return new up(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function B_(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function tu(r,e,t,i,a){if(!(this instanceof tu))return new tu(r,e,t,i,a);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,B_.call(this,i,a)}function yh(r,e,t,i,a){if(!(this instanceof yh))return new yh(r,e,t,i,a);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,B_.call(this,i,a)}function Lt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],a=arguments[2],o=arguments[3],h=[],c=1,f=16,d="S",m=null;Bn(r=r||{})==="object"&&(t=r.orientation,i=r.unit||i,a=r.format||a,o=r.compress||r.compressPdf||o,(m=r.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(f=r.floatPrecision),d=r.defaultPathOperation||"S"),h=r.filters||(o===!0?["FlateEncode"]:h),i=i||"mm",t=(""+(t||"P")).toLowerCase();var y=r.putOnlyUsedFonts||!1,w={},b={internal:{},__private__:{}};b.__private__.PubSub=Ey;var S="1.3",N=b.__private__.getPdfVersion=function(){return S};b.__private__.setPdfVersion=function(_){S=_};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return C};var T=b.__private__.getPageFormat=function(_){return C[_]};a=a||"a4";var R="compat",D="advanced",F=R;function B(){this.saveGraphicsState(),H(new $e(st,0,0,-st,0,Ta()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),d="n",F=D}function W(){this.restoreGraphicsState(),d="S",F=R}var G=b.__private__.combineFontStyleAndFontWeight=function(_,q){if(_=="bold"&&q=="normal"||_=="bold"&&q==400||_=="normal"&&q=="italic"||_=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(_=q==400||q==="normal"?_==="italic"?"italic":"normal":q!=700&&q!=="bold"||_!=="normal"?(q==700?"bold":q)+""+_:"bold"),_};b.advancedAPI=function(_){var q=F===R;return q&&B.call(this),typeof _!="function"||(_(this),q&&W.call(this)),this},b.compatAPI=function(_){var q=F===D;return q&&W.call(this),typeof _!="function"||(_(this),q&&B.call(this)),this},b.isAdvancedAPI=function(){return F===D};var j,V=function(_){if(F!==D)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=b.roundToPrecision=b.__private__.roundToPrecision=function(_,q){var le=e||q;if(isNaN(_)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(le).replace(/0+$/,"")};j=b.hpf=b.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return K(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return K(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return K(_,16)};var E=b.f2=b.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return K(_,2)},I=b.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return K(_,3)},te=b.scale=b.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return F===R?_*st:F===D?_:void 0},U=function(_){return te((function(q){return F===R?Ta()-q:F===D?q:void 0})(_))};b.__private__.setPrecision=b.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var ue,$="00000000000000000000000000000000",ie=b.__private__.getFileId=function(){return $},se=b.__private__.setFileId=function(_){return $=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():$.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Ir=new fh(m.userPermissions,m.userPassword,m.ownerPassword,$)),$};b.setFileId=function(_){return se(_),this},b.getFileId=function(){return ie()};var fe=b.__private__.convertDateToPDFDate=function(_){var q=_.getTimezoneOffset(),le=q<0?"+":"-",ge=Math.floor(Math.abs(q/60)),Se=Math.abs(q%60),ze=[le,J(ge),"'",J(Se),"'"].join("");return["D:",_.getFullYear(),J(_.getMonth()+1),J(_.getDate()),J(_.getHours()),J(_.getMinutes()),J(_.getSeconds()),ze].join("")},we=b.__private__.convertPDFDateToDate=function(_){var q=parseInt(_.substr(2,4),10),le=parseInt(_.substr(6,2),10)-1,ge=parseInt(_.substr(8,2),10),Se=parseInt(_.substr(10,2),10),ze=parseInt(_.substr(12,2),10),Ke=parseInt(_.substr(14,2),10);return new Date(q,le,ge,Se,ze,Ke,0)},X=b.__private__.setCreationDate=function(_){var q;if(_===void 0&&(_=new Date),_ instanceof Date)q=fe(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=_}return ue=q},L=b.__private__.getCreationDate=function(_){var q=ue;return _==="jsDate"&&(q=we(ue)),q};b.setCreationDate=function(_){return X(_),this},b.getCreationDate=function(_){return L(_)};var P,J=b.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},re=b.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ce=0,pe=[],de=[],xe=0,Te=[],Ue=[],Qe=!1,et=de;b.__private__.setCustomOutputDestination=function(_){Qe=!0,et=_};var je=function(_){Qe||(et=_)};b.__private__.resetCustomOutputDestination=function(){Qe=!1,et=de};var H=b.__private__.out=function(_){return _=_.toString(),xe+=_.length+1,et.push(_),et},Me=b.__private__.write=function(_){return H(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},tt=b.__private__.getArrayBuffer=function(_){for(var q=_.length,le=new ArrayBuffer(q),ge=new Uint8Array(le);q--;)ge[q]=_.charCodeAt(q);return le},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Ze};var Ne=r.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(_){return Ne=F===D?_/st:_,this};var nt,it=b.__private__.getFontSize=b.getFontSize=function(){return F===R?Ne:Ne*st},ut=r.R2L||!1;b.__private__.setR2L=b.setR2L=function(_){return ut=_,this},b.__private__.getR2L=b.getR2L=function(){return ut};var ht,Mt=b.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))nt=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');nt=_}else nt=parseInt(_,10)};b.__private__.getZoomMode=function(){return nt};var Xt,It=b.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');ht=_};b.__private__.getPageMode=function(){return ht};var Vt=b.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Xt=_};b.__private__.getLayoutMode=function(){return Xt},b.__private__.setDisplayMode=b.setDisplayMode=function(_,q,le){return Mt(_),Vt(q),It(le),this};var Re={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(_){if(Object.keys(Re).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Re[_]},b.__private__.getDocumentProperties=function(){return Re},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(_){for(var q in Re)Re.hasOwnProperty(q)&&_[q]&&(Re[q]=_[q]);return this},b.__private__.setDocumentProperty=function(_,q){if(Object.keys(Re).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Re[_]=q};var Ge,st,rt,Gt,Ct,pt={},dt={},At=[],lt={},Ft={},bt={},ct={},Kt=null,ft=0,ot=[],Tt=new Ey(b),Rn=r.hotfixes||[],_e={},Ie={},Xe=[],$e=function _(q,le,ge,Se,ze,Ke){if(!(this instanceof _))return new _(q,le,ge,Se,ze,Ke);isNaN(q)&&(q=1),isNaN(le)&&(le=0),isNaN(ge)&&(ge=0),isNaN(Se)&&(Se=1),isNaN(ze)&&(ze=0),isNaN(Ke)&&(Ke=0),this._matrix=[q,le,ge,Se,ze,Ke]};Object.defineProperty($e.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty($e.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty($e.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty($e.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty($e.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty($e.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty($e.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty($e.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty($e.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty($e.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty($e.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty($e.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty($e.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($e.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($e.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($e.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$e.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(_)},$e.prototype.multiply=function(_){var q=_.sx*this.sx+_.shy*this.shx,le=_.sx*this.shy+_.shy*this.sy,ge=_.shx*this.sx+_.sy*this.shx,Se=_.shx*this.shy+_.sy*this.sy,ze=_.tx*this.sx+_.ty*this.shx+this.tx,Ke=_.tx*this.shy+_.ty*this.sy+this.ty;return new $e(q,le,ge,Se,ze,Ke)},$e.prototype.decompose=function(){var _=this.sx,q=this.shy,le=this.shx,ge=this.sy,Se=this.tx,ze=this.ty,Ke=Math.sqrt(_*_+q*q),xt=(_/=Ke)*le+(q/=Ke)*ge;le-=_*xt,ge-=q*xt;var kt=Math.sqrt(le*le+ge*ge);return xt/=kt,_*(ge/=kt)<q*(le/=kt)&&(_=-_,q=-q,xt=-xt,Ke=-Ke),{scale:new $e(Ke,0,0,kt,0,0),translate:new $e(1,0,0,1,Se,ze),rotate:new $e(_,q,-q,_,0,0),skew:new $e(1,0,xt,1,0,0)}},$e.prototype.toString=function(_){return this.join(" ")},$e.prototype.inversed=function(){var _=this.sx,q=this.shy,le=this.shx,ge=this.sy,Se=this.tx,ze=this.ty,Ke=1/(_*ge-q*le),xt=ge*Ke,kt=-q*Ke,Ut=-le*Ke,Jt=_*Ke;return new $e(xt,kt,Ut,Jt,-xt*Se-Ut*ze,-kt*Se-Jt*ze)},$e.prototype.applyToPoint=function(_){var q=_.x*this.sx+_.y*this.shx+this.tx,le=_.x*this.shy+_.y*this.sy+this.ty;return new cs(q,le)},$e.prototype.applyToRectangle=function(_){var q=this.applyToPoint(_),le=this.applyToPoint(new cs(_.x+_.w,_.y+_.h));return new wa(q.x,q.y,le.x-q.x,le.y-q.y)},$e.prototype.clone=function(){var _=this.sx,q=this.shy,le=this.shx,ge=this.sy,Se=this.tx,ze=this.ty;return new $e(_,q,le,ge,Se,ze)},b.Matrix=$e;var Nt=b.matrixMult=function(_,q){return q.multiply(_)},vt=new $e(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=vt;var Et=function(_,q){if(!Ft[_]){var le=(q instanceof tu?"Sh":"P")+(Object.keys(lt).length+1).toString(10);q.id=le,Ft[_]=le,lt[le]=q,Tt.publish("addPattern",q)}};b.ShadingPattern=tu,b.TilingPattern=yh,b.addShadingPattern=function(_,q){return V("addShadingPattern()"),Et(_,q),this},b.beginTilingPattern=function(_){V("beginTilingPattern()"),Uo(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},b.endTilingPattern=function(_,q){V("endTilingPattern()"),q.stream=Ue[P].join(`
`),Et(_,q),Tt.publish("endTilingPattern",q),Xe.pop().restore()};var Qt,Zt=b.__private__.newObject=function(){var _=dn();return on(_,!0),_},dn=b.__private__.newObjectDeferred=function(){return ce++,pe[ce]=function(){return xe},ce},on=function(_,q){return q=typeof q=="boolean"&&q,pe[_]=xe,q&&H(_+" 0 obj"),_},Ar=b.__private__.newAdditionalObject=function(){var _={objId:dn(),content:""};return Te.push(_),_},qn=dn(),pn=dn(),Cn=b.__private__.decodeColorString=function(_){var q=_.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length!==5||q[4]!=="k"&&q[4]!=="K"||(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var le=parseFloat(q[0]);q=[le,le,le,"r"]}for(var ge="#",Se=0;Se<3;Se++)ge+=("0"+Math.floor(255*parseFloat(q[Se])).toString(16)).slice(-2);return ge},br=b.__private__.encodeColorString=function(_){var q;typeof _=="string"&&(_={ch1:_});var le=_.ch1,ge=_.ch2,Se=_.ch3,ze=_.ch4,Ke=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var xt=new V_(le);if(xt.ok)le=xt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var kt=parseInt(le.substr(1),16);le=kt>>16&255,ge=kt>>8&255,Se=255&kt}if(ge===void 0||ze===void 0&&le===ge&&ge===Se)q=typeof le=="string"?le+" "+Ke[0]:_.precision===2?E(le/255)+" "+Ke[0]:I(le/255)+" "+Ke[0];else if(ze===void 0||Bn(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return["1.","1.","1.",Ke[1]].join(" ");q=typeof le=="string"?[le,ge,Se,Ke[1]].join(" "):_.precision===2?[E(le/255),E(ge/255),E(Se/255),Ke[1]].join(" "):[I(le/255),I(ge/255),I(Se/255),Ke[1]].join(" ")}else q=typeof le=="string"?[le,ge,Se,ze,Ke[2]].join(" "):_.precision===2?[E(le),E(ge),E(Se),E(ze),Ke[2]].join(" "):[I(le),I(ge),I(Se),I(ze),Ke[2]].join(" ");return q},Hr=b.__private__.getFilters=function(){return h},Gr=b.__private__.putStream=function(_){var q=(_=_||{}).data||"",le=_.filters||Hr(),ge=_.alreadyAppliedFilters||[],Se=_.addLength1||!1,ze=q.length,Ke=_.objectId,xt=function(Vr){return Vr};if(m!==null&&Ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(xt=Ir.encryptor(Ke,0));var kt={};le===!0&&(le=["FlateEncode"]);var Ut=_.additionalKeyValues||[],Jt=(kt=Lt.API.processDataByFilters!==void 0?Lt.API.processDataByFilters(q,le):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(kt.data.length!==0&&(Ut.push({key:"Length",value:kt.data.length}),Se===!0&&Ut.push({key:"Length1",value:ze})),Jt.length!=0)if(Jt.split("/").length-1==1)Ut.push({key:"Filter",value:Jt});else{Ut.push({key:"Filter",value:"["+Jt+"]"});for(var bn=0;bn<Ut.length;bn+=1)if(Ut[bn].key==="DecodeParms"){for(var rr=[],yr=0;yr<kt.reverseChain.split("/").length-1;yr+=1)rr.push("null");rr.push(Ut[bn].value),Ut[bn].value="["+rr.join(" ")+"]"}}H("<<");for(var zn=0;zn<Ut.length;zn++)H("/"+Ut[zn].key+" "+Ut[zn].value);H(">>"),kt.data.length!==0&&(H("stream"),H(xt(kt.data)),H("endstream"))},Qs=b.__private__.putPage=function(_){var q=_.number,le=_.data,ge=_.objId,Se=_.contentsObjId;on(ge,!0),H("<</Type /Page"),H("/Parent "+_.rootDictionaryObjId+" 0 R"),H("/Resources "+_.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(j(_.mediaBox.bottomLeftX))+" "+parseFloat(j(_.mediaBox.bottomLeftY))+" "+j(_.mediaBox.topRightX)+" "+j(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&H("/CropBox ["+j(_.cropBox.bottomLeftX)+" "+j(_.cropBox.bottomLeftY)+" "+j(_.cropBox.topRightX)+" "+j(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&H("/BleedBox ["+j(_.bleedBox.bottomLeftX)+" "+j(_.bleedBox.bottomLeftY)+" "+j(_.bleedBox.topRightX)+" "+j(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&H("/TrimBox ["+j(_.trimBox.bottomLeftX)+" "+j(_.trimBox.bottomLeftY)+" "+j(_.trimBox.topRightX)+" "+j(_.trimBox.topRightY)+"]"),_.artBox!==null&&H("/ArtBox ["+j(_.artBox.bottomLeftX)+" "+j(_.artBox.bottomLeftY)+" "+j(_.artBox.topRightX)+" "+j(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&H("/UserUnit "+_.userUnit),Tt.publish("putPage",{objId:ge,pageContext:ot[q],pageNumber:q,page:le}),H("/Contents "+Se+" 0 R"),H(">>"),H("endobj");var ze=le.join(`
`);return F===D&&(ze+=`
Q`),on(Se,!0),Gr({data:ze,filters:Hr(),objectId:Se}),H("endobj"),ge},os=b.__private__.putPages=function(){var _,q,le=[];for(_=1;_<=ft;_++)ot[_].objId=dn(),ot[_].contentsObjId=dn();for(_=1;_<=ft;_++)le.push(Qs({number:_,data:Ue[_],objId:ot[_].objId,contentsObjId:ot[_].contentsObjId,mediaBox:ot[_].mediaBox,cropBox:ot[_].cropBox,bleedBox:ot[_].bleedBox,trimBox:ot[_].trimBox,artBox:ot[_].artBox,userUnit:ot[_].userUnit,rootDictionaryObjId:qn,resourceDictionaryObjId:pn}));on(qn,!0),H("<</Type /Pages");var ge="/Kids [";for(q=0;q<ft;q++)ge+=le[q]+" 0 R ";H(ge+"]"),H("/Count "+ft),H(">>"),H("endobj"),Tt.publish("postPutPages")},Di=function(_){Tt.publish("putFont",{font:_,out:H,newObject:Zt,putStream:Gr}),_.isAlreadyPutted!==!0&&(_.objectNumber=Zt(),H("<<"),H("/Type /Font"),H("/BaseFont /"+dh(_.postScriptName)),H("/Subtype /Type1"),typeof _.encoding=="string"&&H("/Encoding /"+_.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Ls=function(_){_.objectNumber=Zt();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[j(_.x),j(_.y),j(_.x+_.width),j(_.y+_.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var le=_.pages[1].join(`
`);Gr({data:le,additionalKeyValues:q,objectId:_.objectNumber}),H("endobj")},Ri=function(_,q){q||(q=21);var le=Zt(),ge=(function(Ke,xt){var kt,Ut=[],Jt=1/(xt-1);for(kt=0;kt<1;kt+=Jt)Ut.push(kt);if(Ut.push(1),Ke[0].offset!=0){var bn={offset:0,color:Ke[0].color};Ke.unshift(bn)}if(Ke[Ke.length-1].offset!=1){var rr={offset:1,color:Ke[Ke.length-1].color};Ke.push(rr)}for(var yr="",zn=0,Vr=0;Vr<Ut.length;Vr++){for(kt=Ut[Vr];kt>Ke[zn+1].offset;)zn++;var Cr=Ke[zn].offset,ni=(kt-Cr)/(Ke[zn+1].offset-Cr),Ea=Ke[zn].color,Is=Ke[zn+1].color;yr+=re(Math.round((1-ni)*Ea[0]+ni*Is[0]).toString(16))+re(Math.round((1-ni)*Ea[1]+ni*Is[1]).toString(16))+re(Math.round((1-ni)*Ea[2]+ni*Is[2]).toString(16))}return yr.trim()})(_.colors,q),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+q+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gr({data:ge,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),H("endobj"),_.objectNumber=Zt(),H("<< /ShadingType "+_.type),H("/ColorSpace /DeviceRGB");var ze="/Coords ["+j(parseFloat(_.coords[0]))+" "+j(parseFloat(_.coords[1]))+" ";_.type===2?ze+=j(parseFloat(_.coords[2]))+" "+j(parseFloat(_.coords[3])):ze+=j(parseFloat(_.coords[2]))+" "+j(parseFloat(_.coords[3]))+" "+j(parseFloat(_.coords[4]))+" "+j(parseFloat(_.coords[5])),H(ze+="]"),_.matrix&&H("/Matrix ["+_.matrix.toString()+"]"),H("/Function "+le+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},Wi=function(_,q){var le=dn(),ge=Zt();q.push({resourcesOid:le,objectOid:ge}),_.objectNumber=ge;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+_.boundingBox.map(j).join(" ")+"]"}),Se.push({key:"XStep",value:j(_.xStep)}),Se.push({key:"YStep",value:j(_.yStep)}),Se.push({key:"Resources",value:le+" 0 R"}),_.matrix&&Se.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),Gr({data:_.stream,additionalKeyValues:Se,objectId:_.objectNumber}),H("endobj")},Js=function(_){for(var q in _.objectNumber=Zt(),H("<<"),_)switch(q){case"opacity":H("/ca "+E(_[q]));break;case"stroke-opacity":H("/CA "+E(_[q]))}H(">>"),H("endobj")},Yi=function(_){on(_.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var q in H("/Font <<"),pt)pt.hasOwnProperty(q)&&(y===!1||y===!0&&w.hasOwnProperty(q))&&H("/"+q+" "+pt[q].objectNumber+" 0 R");H(">>")})(),(function(){if(Object.keys(lt).length>0){for(var q in H("/Shading <<"),lt)lt.hasOwnProperty(q)&&lt[q]instanceof tu&&lt[q].objectNumber>=0&&H("/"+q+" "+lt[q].objectNumber+" 0 R");Tt.publish("putShadingPatternDict"),H(">>")}})(),(function(q){if(Object.keys(lt).length>0){for(var le in H("/Pattern <<"),lt)lt.hasOwnProperty(le)&&lt[le]instanceof b.TilingPattern&&lt[le].objectNumber>=0&&lt[le].objectNumber<q&&H("/"+le+" "+lt[le].objectNumber+" 0 R");Tt.publish("putTilingPatternDict"),H(">>")}})(_.objectOid),(function(){if(Object.keys(bt).length>0){var q;for(q in H("/ExtGState <<"),bt)bt.hasOwnProperty(q)&&bt[q].objectNumber>=0&&H("/"+q+" "+bt[q].objectNumber+" 0 R");Tt.publish("putGStateDict"),H(">>")}})(),(function(){for(var q in H("/XObject <<"),_e)_e.hasOwnProperty(q)&&_e[q].objectNumber>=0&&H("/"+q+" "+_e[q].objectNumber+" 0 R");Tt.publish("putXobjectDict"),H(">>")})(),H(">>"),H("endobj")},nr=function(_){dt[_.fontName]=dt[_.fontName]||{},dt[_.fontName][_.fontStyle]=_.id},Fo=function(_,q,le,ge,Se){var ze={id:"F"+(Object.keys(pt).length+1).toString(10),postScriptName:_,fontName:q,fontStyle:le,encoding:ge,isStandardFont:Se||!1,metadata:{}};return Tt.publish("addFont",{font:ze,instance:this}),pt[ze.id]=ze,nr(ze),ze.id},wi=b.__private__.pdfEscape=b.pdfEscape=function(_,q){return(function(le,ge){var Se,ze,Ke,xt,kt,Ut,Jt,bn,rr;if(Ke=(ge=ge||{}).sourceEncoding||"Unicode",kt=ge.outputEncoding,(ge.autoencode||kt)&&pt[Ge].metadata&&pt[Ge].metadata[Ke]&&pt[Ge].metadata[Ke].encoding&&(xt=pt[Ge].metadata[Ke].encoding,!kt&&pt[Ge].encoding&&(kt=pt[Ge].encoding),!kt&&xt.codePages&&(kt=xt.codePages[0]),typeof kt=="string"&&(kt=xt[kt]),kt)){for(Jt=!1,Ut=[],Se=0,ze=le.length;Se<ze;Se++)(bn=kt[le.charCodeAt(Se)])?Ut.push(String.fromCharCode(bn)):Ut.push(le[Se]),Ut[Se].charCodeAt(0)>>8&&(Jt=!0);le=Ut.join("")}for(Se=le.length;Jt===void 0&&Se!==0;)le.charCodeAt(Se-1)>>8&&(Jt=!0),Se--;if(!Jt)return le;for(Ut=ge.noBOM?[]:[254,255],Se=0,ze=le.length;Se<ze;Se++){if((rr=(bn=le.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ut.push(rr),Ut.push(bn-(rr<<8))}return String.fromCharCode.apply(void 0,Ut)})(_,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xi=b.__private__.beginPage=function(_){Ue[++ft]=[],ot[ft]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},wc(ft),je(Ue[P])},Ms=function(_,q){var le,ge,Se;switch(t=q||t,typeof _=="string"&&(le=T(_.toLowerCase()),Array.isArray(le)&&(ge=le[0],Se=le[1])),Array.isArray(_)&&(ge=_[0]*st,Se=_[1]*st),isNaN(ge)&&(ge=a[0],Se=a[1]),(ge>14400||Se>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Se=Math.min(14400,Se)),a=[ge,Se],t.substr(0,1)){case"l":Se>ge&&(a=[Se,ge]);break;case"p":ge>Se&&(a=[Se,ge])}Xi(a),Bt(qo),H(Ki),Cl!==0&&H(Cl+" J"),Wr!==0&&H(Wr+" j"),Tt.publish("addPage",{pageNumber:ft})},_c=function(_){_>0&&_<=ft&&(Ue.splice(_,1),ot.splice(_,1),ft--,P>ft&&(P=ft),this.setPage(P))},wc=function(_){_>0&&_<=ft&&(P=_)},Sc=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ue.length-1},gu=function(_,q,le){var ge,Se=void 0;return le=le||{},_=_!==void 0?_:pt[Ge].fontName,q=q!==void 0?q:pt[Ge].fontStyle,ge=_.toLowerCase(),dt[ge]!==void 0&&dt[ge][q]!==void 0?Se=dt[ge][q]:dt[_]!==void 0&&dt[_][q]!==void 0?Se=dt[_][q]:le.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+_+"', '"+q+"'. Refer to getFontList() for available fonts."),Se||le.noFallback||(Se=dt.times[q])==null&&(Se=dt.times.normal),Se},Zi=b.__private__.putInfo=function(){var _=Zt(),q=function(ge){return ge};for(var le in m!==null&&(q=Ir.encryptor(_,0)),H("<<"),H("/Producer ("+wi(q("jsPDF "+Lt.version))+")"),Re)Re.hasOwnProperty(le)&&Re[le]&&H("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+wi(q(Re[le]))+")");H("/CreationDate ("+wi(q(ue))+")"),H(">>"),H("endobj")},xa=b.__private__.putCatalog=function(_){var q=(_=_||{}).rootDictionaryObjId||qn;switch(Zt(),H("<<"),H("/Type /Catalog"),H("/Pages "+q+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+nt;le.substr(le.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&H("/OpenAction [3 0 R /XYZ null null "+E(nt)+"]")}switch(Xt||(Xt="continuous"),Xt){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}ht&&H("/PageMode /"+ht),Tt.publish("putCatalog"),H(">>"),H("endobj")},js=b.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(ce+1)),H("/Root "+ce+" 0 R"),H("/Info "+(ce-1)+" 0 R"),m!==null&&H("/Encrypt "+Ir.oid+" 0 R"),H("/ID [ <"+$+"> <"+$+"> ]"),H(">>")},Tn=b.__private__.putHeader=function(){H("%PDF-"+S),H("%")},Ac=b.__private__.putXRef=function(){var _="0000000000";H("xref"),H("0 "+(ce+1)),H("0000000000 65535 f ");for(var q=1;q<=ce;q++)typeof pe[q]=="function"?H((_+pe[q]()).slice(-10)+" 00000 n "):pe[q]!==void 0?H((_+pe[q]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},ea=b.__private__.buildDocument=function(){var _;ce=0,xe=0,de=[],pe=[],Te=[],qn=dn(),pn=dn(),je(de),Tt.publish("buildDocument"),Tn(),os(),(function(){Tt.publish("putAdditionalObjects");for(var le=0;le<Te.length;le++){var ge=Te[le];on(ge.objId,!0),H(ge.content),H("endobj")}Tt.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var le in pt)pt.hasOwnProperty(le)&&(y===!1||y===!0&&w.hasOwnProperty(le))&&Di(pt[le])})(),(function(){var le;for(le in bt)bt.hasOwnProperty(le)&&Js(bt[le])})(),(function(){for(var le in _e)_e.hasOwnProperty(le)&&Ls(_e[le])})(),(function(le){var ge;for(ge in lt)lt.hasOwnProperty(ge)&&(lt[ge]instanceof tu?Ri(lt[ge]):lt[ge]instanceof yh&&Wi(lt[ge],le))})(_),Tt.publish("putResources"),_.forEach(Yi),Yi({resourcesOid:pn,objectOid:Number.MAX_SAFE_INTEGER}),Tt.publish("postPutResources"),m!==null&&(Ir.oid=Zt(),H("<<"),H("/Filter /Standard"),H("/V "+Ir.v),H("/R "+Ir.r),H("/U <"+Ir.toHexString(Ir.U)+">"),H("/O <"+Ir.toHexString(Ir.O)+">"),H("/P "+Ir.P),H(">>"),H("endobj")),Zi(),xa();var q=xe;return Ac(),js(),H("startxref"),H(""+q),H("%%EOF"),je(Ue[P]),de.join(`
`)},lo=b.__private__.getBlob=function(_){return new Blob([tt(_)],{type:"application/pdf"})},Nc=b.output=b.__private__.output=(Qt=function(_,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",_){case void 0:return ea();case"save":b.save(q.filename);break;case"arraybuffer":return tt(ea());case"blob":return lo(ea());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(lo(ea()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",ge=ea();try{le=Ny(ge)}catch{le=Ny(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+q.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Se=q.pdfObjectUrl,ze="");var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",xt=Yt.open();return xt!==null&&xt.document.write(Ke),xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',Ut=Yt.open();if(Ut!==null){Ut.document.write(kt);var Jt=this;Ut.document.documentElement.querySelector("#pdfViewer").onload=function(){Ut.document.title=q.filename,Ut.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Jt.output("bloburl"))}}return Ut}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',rr=Yt.open();if(rr!==null&&(rr.document.write(bn),rr.document.title=q.filename),rr||typeof safari>"u")return rr;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",q);default:return null}},Qt.foo=function(){try{return Qt.apply(this,arguments)}catch(le){var _=le.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var q="Error in function "+_.split(`
`)[0].split("<")[0]+": "+le.message;if(!Yt.console)throw new Error(q);Yt.console.error(q,le),Yt.alert&&alert(q)}},Qt.foo.bar=Qt,Qt.foo),Si=function(_){return Array.isArray(Rn)===!0&&Rn.indexOf(_)>-1};switch(i){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=Si("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);st=i}var Ir=null;X(),se();var Nr=b.__private__.getPageInfo=b.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ot[_].objId,pageNumber:_,pageContext:ot[_]}},Al=b.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in ot)if(ot[q].objId===_)break;return Nr(q)},vu=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:ot[P].objId,pageNumber:P,pageContext:ot[P]}};b.addPage=function(){return Ms.apply(this,arguments),this},b.setPage=function(){return wc.apply(this,arguments),je.call(this,Ue[P]),this},b.insertPage=function(_){return this.addPage(),this.movePage(P,_),this},b.movePage=function(_,q){var le,ge;if(_>q){le=Ue[_],ge=ot[_];for(var Se=_;Se>q;Se--)Ue[Se]=Ue[Se-1],ot[Se]=ot[Se-1];Ue[q]=le,ot[q]=ge,this.setPage(q)}else if(_<q){le=Ue[_],ge=ot[_];for(var ze=_;ze<q;ze++)Ue[ze]=Ue[ze+1],ot[ze]=ot[ze+1];Ue[q]=le,ot[q]=ge,this.setPage(q)}return this},b.deletePage=function(){return _c.apply(this,arguments),this},b.__private__.text=b.text=function(_,q,le,ge,Se){var ze,Ke,xt,kt,Ut,Jt,bn,rr,yr,zn=(ge=ge||{}).scope||this;if(typeof _=="number"&&typeof q=="number"&&(typeof le=="string"||Array.isArray(le))){var Vr=le;le=q,q=_,_=Vr}if(arguments[3]instanceof $e==0?(xt=arguments[4],kt=arguments[5],Bn(bn=arguments[3])==="object"&&bn!==null||(typeof xt=="string"&&(kt=xt,xt=null),typeof bn=="string"&&(kt=bn,bn=null),typeof bn=="number"&&(xt=bn,bn=null),ge={flags:bn,angle:xt,align:kt})):(V("The transform parameter of text() with a Matrix value"),yr=Se),isNaN(q)||isNaN(le)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return zn;var Cr,ni="",Ea=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:_a,Is=zn.internal.scaleFactor;function ka(En){return En=En.split("	").join(Array(ge.TabLen||9).join(" ")),wi(En,bn)}function Dc(En){for(var yn,Pn=En.concat(),_r=[],ua=Pn.length;ua--;)typeof(yn=Pn.shift())=="string"?_r.push(yn):Array.isArray(En)&&(yn.length===1||yn[1]===void 0&&yn[2]===void 0)?_r.push(yn[0]):_r.push([yn[0],yn[1],yn[2]]);return _r}function El(En,yn){var Pn;if(typeof En=="string")Pn=yn(En)[0];else if(Array.isArray(En)){for(var _r,ua,qs=En.concat(),Yo=[],Vc=qs.length;Vc--;)typeof(_r=qs.shift())=="string"?Yo.push(yn(_r)[0]):Array.isArray(_r)&&typeof _r[0]=="string"&&(ua=yn(_r[0],_r[1],_r[2]),Yo.push([ua[0],ua[1],ua[2]]));Pn=Yo}return Pn}var ra=!1,Vs=!0;if(typeof _=="string")ra=!0;else if(Array.isArray(_)){var Go=_.concat();Ke=[];for(var Oa,Yr=Go.length;Yr--;)(typeof(Oa=Go.shift())!="string"||Array.isArray(Oa)&&typeof Oa[0]!="string")&&(Vs=!1);ra=Vs}if(ra===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var uo=Ne/zn.internal.scaleFactor,ho=uo*(Ea-1);switch(ge.baseline){case"bottom":le-=ho;break;case"top":le+=uo-ho;break;case"hanging":le+=uo-2*ho;break;case"middle":le+=uo/2-ho}if((Jt=ge.maxWidth||0)>0&&(typeof _=="string"?_=zn.splitTextToSize(_,Jt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(En,yn){return En.concat(zn.splitTextToSize(yn,Jt))},[]))),ze={text:_,x:q,y:le,options:ge,mutex:{pdfEscape:wi,activeFontKey:Ge,fonts:pt,activeFontSize:Ne}},Tt.publish("preProcessText",ze),_=ze.text,xt=(ge=ze.options).angle,yr instanceof $e==0&&xt&&typeof xt=="number"){xt*=Math.PI/180,ge.rotationDirection===0&&(xt=-xt),F===D&&(xt=-xt);var kl=Math.cos(xt),ia=Math.sin(xt);yr=new $e(kl,ia,-ia,kl,0,0)}else xt&&xt instanceof $e&&(yr=xt);F!==D||yr||(yr=vt),(Ut=ge.charSpace||ls)!==void 0&&(ni+=j(te(Ut))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rr=ge.horizontalScale)!==void 0&&(ni+=j(100*rr)+` Tz
`),ge.lang;var Ni=-1,La=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Ol=zn.internal.getCurrentPageInfo().pageContext;switch(La){case 0:case!1:case"fill":Ni=0;break;case 1:case!0:case"stroke":Ni=1;break;case 2:case"fillThenStroke":Ni=2;break;case 3:case"invisible":Ni=3;break;case 4:case"fillAndAddForClipping":Ni=4;break;case 5:case"strokeAndAddPathForClipping":Ni=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ni=6;break;case 7:case"addToPathForClipping":Ni=7}var Rc=Ol.usedRenderingMode!==void 0?Ol.usedRenderingMode:-1;Ni!==-1?ni+=Ni+` Tr
`:Rc!==-1&&(ni+=`0 Tr
`),Ni!==-1&&(Ol.usedRenderingMode=Ni),kt=ge.align||"left";var Qi,Fs=Ne*Ea,Ma=zn.internal.pageSize.getWidth(),Ic=pt[Ge];Ut=ge.charSpace||ls,Jt=ge.maxWidth||0,bn=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var Bs=[],fo=function(En){return zn.getStringUnitWidth(En,{font:Ic,charSpace:Ut,fontSize:Ne,doKerning:!1})*Ne/Is};if(Object.prototype.toString.call(_)==="[object Array]"){var Vi;Ke=Dc(_),kt!=="left"&&(Qi=Ke.map(fo));var Ci,sa=0;if(kt==="right"){q-=Qi[0],_=[],Yr=Ke.length;for(var aa=0;aa<Yr;aa++)aa===0?(Ci=$i(q),Vi=ti(le)):(Ci=te(sa-Qi[aa]),Vi=-Fs),_.push([Ke[aa],Ci,Vi]),sa=Qi[aa]}else if(kt==="center"){q-=Qi[0]/2,_=[],Yr=Ke.length;for(var ja=0;ja<Yr;ja++)ja===0?(Ci=$i(q),Vi=ti(le)):(Ci=te((sa-Qi[ja])/2),Vi=-Fs),_.push([Ke[ja],Ci,Vi]),sa=Qi[ja]}else if(kt==="left"){_=[],Yr=Ke.length;for(var Ll=0;Ll<Yr;Ll++)_.push(Ke[Ll])}else if(kt==="justify"&&Ic.encoding==="Identity-H"){_=[],Yr=Ke.length,Jt=Jt!==0?Jt:Ma;for(var Ml=0,xr=0;xr<Yr;xr++)if(Vi=xr===0?ti(le):-Fs,Ci=xr===0?$i(q):Ml,xr<Yr-1){var Cu=te((Jt-Qi[xr])/(Ke[xr].split(" ").length-1)),oa=Ke[xr].split(" ");_.push([oa[0]+" ",Ci,Vi]),Ml=0;for(var la=1;la<oa.length;la++){var ri=(fo(oa[la-1]+" "+oa[la])-fo(oa[la]))*Is+Cu;la==oa.length-1?_.push([oa[la],ri,0]):_.push([oa[la]+" ",ri,0]),Ml-=ri}}else _.push([Ke[xr],Ci,Vi]);_.push(["",Ml,0])}else{if(kt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Yr=Ke.length,Jt=Jt!==0?Jt:Ma,xr=0;xr<Yr;xr++){Vi=xr===0?ti(le):-Fs,Ci=xr===0?$i(q):0;var Da=Ke[xr].split(" ").length-1,jl=Da>0?(Jt-Qi[xr])/Da:0;xr<Yr-1?Bs.push(j(te(jl))):Bs.push(0),_.push([Ke[xr],Ci,Vi])}}}(typeof ge.R2L=="boolean"?ge.R2L:ut)===!0&&(_=El(_,function(En,yn,Pn){return[En.split("").reverse().join(""),yn,Pn]})),ze={text:_,x:q,y:le,options:ge,mutex:{pdfEscape:wi,activeFontKey:Ge,fonts:pt,activeFontSize:Ne}},Tt.publish("postProcessText",ze),_=ze.text,Cr=ze.mutex.isHex||!1;var Dl=pt[Ge].encoding;Dl!=="WinAnsiEncoding"&&Dl!=="StandardEncoding"||(_=El(_,function(En,yn,Pn){return[ka(En),yn,Pn]})),Ke=Dc(_),_=[];for(var Ra,Ia,ca,Wo=Array.isArray(Ke[0])?1:0,Ji="",Va=function(En,yn,Pn){var _r="";return Pn instanceof $e?(Pn=typeof ge.angle=="number"?Nt(Pn,new $e(1,0,0,1,En,yn)):Nt(new $e(1,0,0,1,En,yn),Pn),F===D&&(Pn=Nt(new $e(1,0,0,-1,0,0),Pn)),_r=Pn.join(" ")+` Tm
`):_r=j(En)+" "+j(yn)+` Td
`,_r},fi=0;fi<Ke.length;fi++){switch(Ji="",Wo){case 1:ca=(Cr?"<":"(")+Ke[fi][0]+(Cr?">":")"),Ra=parseFloat(Ke[fi][1]),Ia=parseFloat(Ke[fi][2]);break;case 0:ca=(Cr?"<":"(")+Ke[fi]+(Cr?">":")"),Ra=$i(q),Ia=ti(le)}Bs!==void 0&&Bs[fi]!==void 0&&(Ji=Bs[fi]+` Tw
`),fi===0?_.push(Ji+Va(Ra,Ia,yr)+ca):Wo===0?_.push(Ji+ca):Wo===1&&_.push(Ji+Va(Ra,Ia,yr)+ca)}_=Wo===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var us=`BT
/`;return us+=Ge+" "+Ne+` Tf
`,us+=j(Ne*Ea)+` TL
`,us+=ta+`
`,us+=ni,us+=_,H(us+="ET"),w[Ge]=!0,zn};var Cc=b.__private__.clip=b.clip=function(_){return H(_==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Cc("evenodd")},b.__private__.discardPath=b.discardPath=function(){return H("n"),this};var Ai=b.__private__.isValidStyle=function(_){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(q=!0),q};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(_){return Ai(_)&&(d=_),this};var Tc=b.__private__.getStyle=b.getStyle=function(_){var q=d;switch(_){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=_}return q},Ec=b.close=function(){return H("h"),this};b.stroke=function(){return H("S"),this},b.fill=function(_){return Ds("f",_),this},b.fillEvenOdd=function(_){return Ds("f*",_),this},b.fillStroke=function(_){return Ds("B",_),this},b.fillStrokeEvenOdd=function(_){return Ds("B*",_),this};var Ds=function(_,q){Bn(q)==="object"?yu(q,_):H(_)},Bo=function(_){_===null||F===D&&_===void 0||(_=Tc(_),H(_))};function bu(_,q,le,ge,Se){var ze=new yh(q||this.boundingBox,le||this.xStep,ge||this.yStep,this.gState,Se||this.matrix);ze.stream=this.stream;var Ke=_+"$$"+this.cloneIndex+++"$$";return Et(Ke,ze),ze}var yu=function(_,q){var le=Ft[_.key],ge=lt[le];if(ge instanceof tu)H("q"),H(kc(q)),ge.gState&&b.setGState(ge.gState),H(_.matrix.toString()+" cm"),H("/"+le+" sh"),H("Q");else if(ge instanceof yh){var Se=new $e(1,0,0,-1,0,Ta());_.matrix&&(Se=Se.multiply(_.matrix||vt),le=bu.call(ge,_.key,_.boundingBox,_.xStep,_.yStep,Se).id),H("q"),H("/Pattern cs"),H("/"+le+" scn"),ge.gState&&b.setGState(ge.gState),H(q),H("Q")}},kc=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Oc=b.moveTo=function(_,q){return H(j(te(_))+" "+j(U(q))+" m"),this},xu=b.lineTo=function(_,q){return H(j(te(_))+" "+j(U(q))+" l"),this},Ii=b.curveTo=function(_,q,le,ge,Se,ze){return H([j(te(_)),j(U(q)),j(te(le)),j(U(ge)),j(te(Se)),j(U(ze)),"c"].join(" ")),this};b.__private__.line=b.line=function(_,q,le,ge,Se){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(ge)||!Ai(Se))throw new Error("Invalid arguments passed to jsPDF.line");return F===R?this.lines([[le-_,ge-q]],_,q,[1,1],Se||"S"):this.lines([[le-_,ge-q]],_,q,[1,1]).stroke()},b.__private__.lines=b.lines=function(_,q,le,ge,Se,ze){var Ke,xt,kt,Ut,Jt,bn,rr,yr,zn,Vr,Cr,ni;if(typeof _=="number"&&(ni=le,le=q,q=_,_=ni),ge=ge||[1,1],ze=ze||!1,isNaN(q)||isNaN(le)||!Array.isArray(_)||!Array.isArray(ge)||!Ai(Se)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Oc(q,le),Ke=ge[0],xt=ge[1],Ut=_.length,Vr=q,Cr=le,kt=0;kt<Ut;kt++)(Jt=_[kt]).length===2?(Vr=Jt[0]*Ke+Vr,Cr=Jt[1]*xt+Cr,xu(Vr,Cr)):(bn=Jt[0]*Ke+Vr,rr=Jt[1]*xt+Cr,yr=Jt[2]*Ke+Vr,zn=Jt[3]*xt+Cr,Vr=Jt[4]*Ke+Vr,Cr=Jt[5]*xt+Cr,Ii(bn,rr,yr,zn,Vr,Cr));return ze&&Ec(),Bo(Se),this},b.path=function(_){for(var q=0;q<_.length;q++){var le=_[q],ge=le.c;switch(le.op){case"m":Oc(ge[0],ge[1]);break;case"l":xu(ge[0],ge[1]);break;case"c":Ii.apply(this,ge);break;case"h":Ec()}}return this},b.__private__.rect=b.rect=function(_,q,le,ge,Se){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(ge)||!Ai(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return F===R&&(ge=-ge),H([j(te(_)),j(U(q)),j(te(le)),j(te(ge)),"re"].join(" ")),Bo(Se),this},b.__private__.triangle=b.triangle=function(_,q,le,ge,Se,ze,Ke){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(ge)||isNaN(Se)||isNaN(ze)||!Ai(Ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-_,ge-q],[Se-le,ze-ge],[_-Se,q-ze]],_,q,[1,1],Ke,!0),this},b.__private__.roundedRect=b.roundedRect=function(_,q,le,ge,Se,ze,Ke){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(ge)||isNaN(Se)||isNaN(ze)||!Ai(Ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*le),ze=Math.min(ze,.5*ge),this.lines([[le-2*Se,0],[Se*xt,0,Se,ze-ze*xt,Se,ze],[0,ge-2*ze],[0,ze*xt,-Se*xt,ze,-Se,ze],[2*Se-le,0],[-Se*xt,0,-Se,-ze*xt,-Se,-ze],[0,2*ze-ge],[0,-ze*xt,Se*xt,-ze,Se,-ze]],_+Se,q,[1,1],Ke,!0),this},b.__private__.ellipse=b.ellipse=function(_,q,le,ge,Se){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(ge)||!Ai(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*le,Ke=4/3*(Math.SQRT2-1)*ge;return Oc(_+le,q),Ii(_+le,q-Ke,_+ze,q-ge,_,q-ge),Ii(_-ze,q-ge,_-le,q-Ke,_-le,q),Ii(_-le,q+Ke,_-ze,q+ge,_,q+ge),Ii(_+ze,q+ge,_+le,q+Ke,_+le,q),Bo(Se),this},b.__private__.circle=b.circle=function(_,q,le,ge){if(isNaN(_)||isNaN(q)||isNaN(le)||!Ai(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,q,le,le,ge)},b.setFont=function(_,q,le){return le&&(q=G(q,le)),Ge=gu(_,q,{disableWarning:!1}),this};var Rs=b.__private__.getFont=b.getFont=function(){return pt[gu.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var _,q,le={};for(_ in dt)if(dt.hasOwnProperty(_))for(q in le[_]=[],dt[_])dt[_].hasOwnProperty(q)&&le[_].push(q);return le},b.addFont=function(_,q,le,ge,Se){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(le=G(le,ge)),Fo.call(this,_,q,le,Se=Se||"Identity-H")};var _a,qo=r.lineWidth||.200025,co=b.__private__.getLineWidth=b.getLineWidth=function(){return qo},Bt=b.__private__.setLineWidth=b.setLineWidth=function(_){return qo=_,H(j(te(_))+" w"),this};b.__private__.setLineDash=Lt.API.setLineDash=Lt.API.setLineDashPattern=function(_,q){if(_=_||[],q=q||0,isNaN(q)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(le){return j(te(le))}).join(" "),q=j(te(q)),H("["+_+"] "+q+" d"),this};var _u=b.__private__.getLineHeight=b.getLineHeight=function(){return Ne*_a};b.__private__.getLineHeight=b.getLineHeight=function(){return Ne*_a};var Lc=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(_a=_),this},wu=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return _a};Lc(r.lineHeight);var $i=b.__private__.getHorizontalCoordinate=function(_){return te(_)},ti=b.__private__.getVerticalCoordinate=function(_){return F===D?_:ot[P].mediaBox.topRightY-ot[P].mediaBox.bottomLeftY-te(_)},Mc=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(_){return j($i(_))},zo=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(_){return j(ti(_))},Ki=r.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Cn(Ki)},b.__private__.setStrokeColor=b.setDrawColor=function(_,q,le,ge){return Ki=br({ch1:_,ch2:q,ch3:le,ch4:ge,pdfColorType:"draw",precision:2}),H(Ki),this};var Po=r.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Cn(Po)},b.__private__.setFillColor=b.setFillColor=function(_,q,le,ge){return Po=br({ch1:_,ch2:q,ch3:le,ch4:ge,pdfColorType:"fill",precision:2}),H(Po),this};var ta=r.textColor||"0 g",Su=b.__private__.getTextColor=b.getTextColor=function(){return Cn(ta)};b.__private__.setTextColor=b.setTextColor=function(_,q,le,ge){return ta=br({ch1:_,ch2:q,ch3:le,ch4:ge,pdfColorType:"text",precision:3}),this};var ls=r.charSpace,Nl=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(ls||0)};b.__private__.setCharSpace=b.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ls=_,this};var Cl=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(_){var q=b.CapJoinStyles[_];if(q===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cl=q,H(q+" J"),this};var Wr=0;b.__private__.setLineJoin=b.setLineJoin=function(_){var q=b.CapJoinStyles[_];if(q===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Wr=q,H(q+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(j(te(_))+" M"),this},b.GState=up,b.setGState=function(_){(_=typeof _=="string"?bt[ct[_]]:na(null,_)).equals(Kt)||(H("/"+_.id+" gs"),Kt=_)};var na=function(_,q){if(!_||!ct[_]){var le=!1;for(var ge in bt)if(bt.hasOwnProperty(ge)&&bt[ge].equals(q)){le=!0;break}if(le)q=bt[ge];else{var Se="GS"+(Object.keys(bt).length+1).toString(10);bt[Se]=q,q.id=Se}return _&&(ct[_]=q.id),Tt.publish("addGState",q),q}};b.addGState=function(_,q){return na(_,q),this},b.saveGraphicsState=function(){return H("q"),At.push({key:Ge,size:Ne,color:ta}),this},b.restoreGraphicsState=function(){H("Q");var _=At.pop();return Ge=_.key,Ne=_.size,ta=_.color,Kt=null,this},b.setCurrentTransformationMatrix=function(_){return H(_.toString()+" cm"),this},b.comment=function(_){return H("#"+_),this};var cs=function(_,q){var le=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(ze){isNaN(ze)||(le=parseFloat(ze))}});var ge=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(ze){isNaN(ze)||(ge=parseFloat(ze))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(ze){Se=ze.toString()}}),this},wa=function(_,q,le,ge){cs.call(this,_,q),this.type="rect";var Se=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Ke){isNaN(Ke)||(Se=parseFloat(Ke))}});var ze=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(Ke){isNaN(Ke)||(ze=parseFloat(Ke))}}),this},Tl=function(){this.page=ft,this.currentPage=P,this.pages=Ue.slice(0),this.pagesContext=ot.slice(0),this.x=rt,this.y=Gt,this.matrix=Ct,this.width=Aa(P),this.height=jc(P),this.outputDestination=et,this.id="",this.objectNumber=-1};Tl.prototype.restore=function(){ft=this.page,P=this.currentPage,ot=this.pagesContext,Ue=this.pages,rt=this.x,Gt=this.y,Ct=this.matrix,Ho(P,this.width),Na(P,this.height),et=this.outputDestination};var Uo=function(_,q,le,ge,Se){Xe.push(new Tl),ft=P=0,Ue=[],rt=_,Gt=q,Ct=Se,Xi([le,ge])};for(var Sa in b.beginFormObject=function(_,q,le,ge,Se){return Uo(_,q,le,ge,Se),this},b.endFormObject=function(_){return(function(q){if(Ie[q])Xe.pop().restore();else{var le=new Tl,ge="Xo"+(Object.keys(_e).length+1).toString(10);le.id=ge,Ie[q]=ge,_e[ge]=le,Tt.publish("addFormObject",le),Xe.pop().restore()}})(_),this},b.doFormObject=function(_,q){var le=_e[Ie[_]];return H("q"),H(q.toString()+" cm"),H("/"+le.id+" Do"),H("Q"),this},b.getFormObject=function(_){var q=_e[Ie[_]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},b.save=function(_,q){return _=_||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(Jc(lo(ea()),_),typeof Jc.unload=="function"&&Yt.setTimeout&&setTimeout(Jc.unload,911),this):new Promise(function(le,ge){try{var Se=Jc(lo(ea()),_);typeof Jc.unload=="function"&&Yt.setTimeout&&setTimeout(Jc.unload,911),le(Se)}catch(ze){ge(ze.message)}})},Lt.API)Lt.API.hasOwnProperty(Sa)&&(Sa==="events"&&Lt.API.events.length?(function(_,q){var le,ge,Se;for(Se=q.length-1;Se!==-1;Se--)le=q[Se][0],ge=q[Se][1],_.subscribe.apply(_,[le].concat(typeof ge=="function"?[ge]:ge))})(Tt,Lt.API.events):b[Sa]=Lt.API[Sa]);function Aa(_){return ot[_].mediaBox.topRightX-ot[_].mediaBox.bottomLeftX}function Ho(_,q){ot[_].mediaBox.topRightX=q+ot[_].mediaBox.bottomLeftX}function jc(_){return ot[_].mediaBox.topRightY-ot[_].mediaBox.bottomLeftY}function Na(_,q){ot[_].mediaBox.topRightY=q+ot[_].mediaBox.bottomLeftY}var Ca=b.getPageWidth=function(_){return Aa(_=_||P)/st},Au=b.setPageWidth=function(_,q){Ho(_,q*st)},Ta=b.getPageHeight=function(_){return jc(_=_||P)/st},Nu=b.setPageHeight=function(_,q){Na(_,q*st)};return b.internal={pdfEscape:wi,getStyle:Tc,getFont:Rs,getFontSize:it,getCharSpace:Nl,getTextColor:Su,getLineHeight:_u,getLineHeightFactor:wu,getLineWidth:co,write:Me,getHorizontalCoordinate:$i,getVerticalCoordinate:ti,getCoordinateString:Mc,getVerticalCoordinateString:zo,collections:{},newObject:Zt,newAdditionalObject:Ar,newObjectDeferred:dn,newObjectDeferredBegin:on,getFilters:Hr,putStream:Gr,events:Tt,scaleFactor:st,pageSize:{getWidth:function(){return Ca(P)},setWidth:function(_){Au(P,_)},getHeight:function(){return Ta(P)},setHeight:function(_){Nu(P,_)}},encryptionOptions:m,encryption:Ir,getEncryptor:function(_){return m!==null?Ir.encryptor(_,0):function(q){return q}},output:Nc,getNumberOfPages:Sc,get pages(){return Ue},out:H,f2:E,f3:I,getPageInfo:Nr,getPageInfoByObjId:Al,getCurrentPageInfo:vu,getPDFVersion:N,Point:cs,Rectangle:wa,Matrix:$e,hasHotfix:Si},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ca(P)},set:function(_){Au(P,_)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ta(P)},set:function(_){Nu(P,_)},enumerable:!0,configurable:!0}),(function(_){for(var q=0,le=Ze.length;q<le;q++){var ge=Fo.call(this,_[q][0],_[q][1],_[q][2],Ze[q][3],!0);y===!1&&(w[ge]=!0);var Se=_[q][0].split("-");nr({id:ge,fontName:Se[0],fontStyle:Se[1]||""})}Tt.publish("addFonts",{fonts:pt,dictionary:dt})}).call(b,Ze),Ge="F1",Ms(a,t),Tt.publish("initialized"),b}fh.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},fh.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fh.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},fh.prototype.processOwnerPassword=function(r,e){return ig(rg(e).substr(0,5),r)},fh.prototype.encryptor=function(r,e){var t=rg(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return ig(t,i)}},up.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Bn(r)!==Bn(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;i++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},Lt.API={events:[]},Lt.version="3.0.4";var jr=Lt.API,h2=1,mu=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lh=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},nn=function(r){return r.toFixed(2)},ac=function(r){return r.toFixed(5)};jr.__acroform__={};var Os=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},ky=function(r){return r*h2},Oo=function(r){var e=new z_,t=St.internal.getHeight(r)||0,i=St.internal.getWidth(r)||0;return e.BBox=[0,0,Number(nn(i)),Number(nn(t))],e},rL=jr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},iL=jr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},sL=jr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},qr=jr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sL(r,e-1)},zr=jr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rL(r,e-1)},Pr=jr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iL(r,e-1)},aL=jr.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,a=r[0],o=r[1],h=r[2],c=r[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=i(o+c)||0,f.upperRight_X=t(a+h)||0,f.upperRight_Y=i(o)||0,[Number(nn(f.lowerLeft_X)),Number(nn(f.lowerLeft_Y)),Number(nn(f.upperRight_X)),Number(nn(f.upperRight_Y))]},oL=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,i=sg(r,t),a=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+a+" "+nn(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Oo(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},sg=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,i={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=r.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var o=t,h=St.internal.getHeight(r)||0;h=h<0?-h:h;var c=St.internal.getWidth(r)||0;c=c<0?-c:c;var f=function(E,I,te){if(E+1<a.length){var U=I+" "+a[E+1][0];return A1(U,r,te).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,m,y=A1("3",r,o).height,w=r.multiline?h-o:(h-y)/2,b=w+=2,S=0,N=0,C=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+A1(e,r,o=12).width+", FieldWidth:"+c+`
`;break}for(var T="",R=0,D=0;D<a.length;D++)if(a.hasOwnProperty(D)){var F=!1;if(a[D].length!==1&&C!==a[D].length-1){if((y+2)*(R+2)+2>h)continue e;T+=a[D][C],F=!0,N=D,D--}else{T=(T+=a[D][C]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var B=parseInt(D),W=f(B,T,o),G=D>=a.length-1;if(W&&!G){T+=" ",C=0;continue}if(W||G){if(G)N=B;else if(r.multiline&&(y+2)*(R+2)+2>h)continue e}else{if(!r.multiline||(y+2)*(R+2)+2>h)continue e;N=B}}for(var j="",V=S;V<=N;V++){var K=a[V];if(r.multiline){if(V===N){j+=K[C]+" ",C=(C+1)%K.length;continue}if(V===S){j+=K[K.length-1]+" ";continue}}j+=K[0]+" "}switch(j=j.substr(j.length-1)==" "?j.substr(0,j.length-1):j,m=A1(j,r,o).width,r.textAlign){case"right":d=c-m-2;break;case"center":d=(c-m)/2;break;default:d=2}e+=nn(d)+" "+nn(b)+` Td
`,e+="("+mu(j)+`) Tj
`,e+=-nn(d)+` 0 Td
`,b=-(o+2),m=0,S=F?N:N+1,R++,T=""}break}return i.text=e,i.fontSize=o,i},A1=function(r,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(r,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},lL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},cL=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},uL=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ao.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(lL)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");h2=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new P_,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];o.objId=void 0,o.hasAnnotation&&cL(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(i,a){var o=!i;for(var h in i||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(h)){var c=i[h],f=[],d=c.Rect;if(c.Rect&&(c.Rect=aL(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=St.createDefaultAppearanceStream(c),Bn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=oL(c);f.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var y="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var b=c.appearanceStreamContent[w];if(y+="/"+w+" ",y+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var h in b)if(b.hasOwnProperty(h)){var S=b[h];typeof S=="function"&&(S=S.call(a,c)),y+="/"+h+" "+S+" ",a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S)}}else typeof(S=b)=="function"&&(S=S.call(a,c)),y+="/"+h+" "+S,a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S);y+=">>"}f.push({key:"AP",value:`<<
`+y+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(N,C){for(var T in N)if(N.hasOwnProperty(T)){var R=T,D=N[T];C.internal.newObjectDeferredBegin(D.objId,!0),Bn(D)==="object"&&typeof D.putStream=="function"&&D.putStream(),delete N[R]}})(a.internal.acroformPlugin.xForms,a)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},q_=jr.__acroform__.arrayToPdfArray=function(r,e,t){var i=function(h){return h};if(Array.isArray(r)){for(var a="[",o=0;o<r.length;o++)switch(o!==0&&(a+=" "),Bn(r[o])){case"boolean":case"number":case"object":a+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),a+="("+mu(i(r[o].toString()))+")"):a+=r[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Nm=function(r,e,t){var i=function(a){return a};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+mu(i(r))+")"},Lo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Lo.prototype.toString=function(){return this.objId+" 0 R"},Lo.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},Lo.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],a=this[i];a&&(Array.isArray(a)?r.push({key:i,value:q_(a,this.objId,this.scope)}):a instanceof Lo?(a.scope=this.scope,r.push({key:i,value:a.objId+" 0 R"})):typeof a!="function"&&r.push({key:i,value:a}))}return r};var z_=function(){Lo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Os(z_,Lo);var P_=function(){Lo.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+mu(t(r))+")"}},set:function(t){r=t}})};Os(P_,Lo);var ao=function r(){Lo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qr(e,3)},set:function(T){T?this.F=zr(e,3):this.F=Pr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');t=T}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(T){i=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(T){i[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(T){i[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(T){i[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(T){i[3]=T}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof hp)return;o="FieldObject"+r.FieldNum++}var T=function(R){return R};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+mu(T(o))+")"},set:function(T){o=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(T){o=T}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(T){h=T}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(T){f=T}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/h2:d},set:function(T){d=T}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(T){m=T}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof hp||this instanceof au))return Nm(y,this.objId,this.scope)},set:function(T){T=T.toString(),y=T}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof xi==0?Nm(w,this.objId,this.scope):w},set:function(T){T=T.toString(),w=this instanceof xi==0?T.substr(0,1)==="("?lh(T.substr(1,T.length-2)):lh(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xi==1?lh(w.substr(1,w.length-1)):w},set:function(T){T=T.toString(),w=this instanceof xi==1?"/"+T:T}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof xi==0?Nm(b,this.objId,this.scope):b},set:function(T){T=T.toString(),b=this instanceof xi==0?T.substr(0,1)==="("?lh(T.substr(1,T.length-2)):lh(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xi==1?lh(b.substr(1,b.length-1)):b},set:function(T){T=T.toString(),b=this instanceof xi==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(T){T=!!T,N=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(T){S=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,1)},set:function(T){T?this.Ff=zr(this.Ff,1):this.Ff=Pr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,2)},set:function(T){T?this.Ff=zr(this.Ff,2):this.Ff=Pr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,3)},set:function(T){T?this.Ff=zr(this.Ff,3):this.Ff=Pr(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');C=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(C){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};Os(ao,Lo);var Sh=function(){ao.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return q_(e,this.objId,this.scope)},set:function(t){var i,a;a=[],typeof(i=t)=="string"&&(a=(function(o,h,c){c||(c=1);for(var f,d=[];f=h.exec(o);)d.push(f[c]);return d})(i,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,18)},set:function(t){t?this.Ff=zr(this.Ff,18):this.Ff=Pr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=zr(this.Ff,19):this.Ff=Pr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,20)},set:function(t){t?(this.Ff=zr(this.Ff,20),e.sort()):this.Ff=Pr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,22)},set:function(t){t?this.Ff=zr(this.Ff,22):this.Ff=Pr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,23)},set:function(t){t?this.Ff=zr(this.Ff,23):this.Ff=Pr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,27)},set:function(t){t?this.Ff=zr(this.Ff,27):this.Ff=Pr(this.Ff,27)}}),this.hasAppearanceStream=!1};Os(Sh,ao);var Ah=function(){Sh.call(this),this.fontName="helvetica",this.combo=!1};Os(Ah,Sh);var Nh=function(){Ah.call(this),this.combo=!0};Os(Nh,Ah);var R1=function(){Nh.call(this),this.edit=!0};Os(R1,Nh);var xi=function(){ao.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,15)},set:function(t){t?this.Ff=zr(this.Ff,15):this.Ff=Pr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,16)},set:function(t){t?this.Ff=zr(this.Ff,16):this.Ff=Pr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,17)},set:function(t){t?this.Ff=zr(this.Ff,17):this.Ff=Pr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,26)},set:function(t){t?this.Ff=zr(this.Ff,26):this.Ff=Pr(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,a=[];for(i in a.push("<<"),e)a.push("/"+i+" ("+mu(t(e[i]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Bn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Os(xi,ao);var I1=function(){xi.call(this),this.pushButton=!0};Os(I1,xi);var Ch=function(){xi.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Os(Ch,xi);var hp=function(){var r,e;ao.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,h=[];for(o in h.push("<<"),i)h.push("/"+o+" ("+mu(a(i[o]))+")");return h.push(">>"),h.join(`
`)},set:function(a){Bn(a)==="object"&&(i=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(a){typeof a=="string"&&(i.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Os(hp,ao),Ch.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Ch.prototype.createOption=function(r){var e=new hp;return e.Parent=this,e.optionName=r,this.Kids.push(e),hL.call(this.scope,e),e};var V1=function(){xi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};Os(V1,xi);var au=function(){ao.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,13)},set:function(e){e?this.Ff=zr(this.Ff,13):this.Ff=Pr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,21)},set:function(e){e?this.Ff=zr(this.Ff,21):this.Ff=Pr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,23)},set:function(e){e?this.Ff=zr(this.Ff,23):this.Ff=Pr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,24)},set:function(e){e?this.Ff=zr(this.Ff,24):this.Ff=Pr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,25)},set:function(e){e?this.Ff=zr(this.Ff,25):this.Ff=Pr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,26)},set:function(e){e?this.Ff=zr(this.Ff,26):this.Ff=Pr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Os(au,ao);var F1=function(){au.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,14)},set:function(r){r?this.Ff=zr(this.Ff,14):this.Ff=Pr(this.Ff,14)}}),this.password=!0};Os(F1,au);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=Oo(r);e.scope=r.scope;var t=[],i=r.scope.internal.getFont(r.fontName,r.fontStyle).id,a=r.scope.__private__.encodeColorString(r.color),o=sg(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+nn(St.internal.getWidth(r))+" "+nn(St.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+nn(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=Oo(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),a=[],o=St.internal.getHeight(r),h=St.internal.getWidth(r),c=sg(r,r.caption);return a.push("1 g"),a.push("0 0 "+nn(h)+" "+nn(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+nn(h-1)+" "+nn(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+nn(c.fontSize)+" Tf "+i),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(r){var e=Oo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+nn(St.internal.getWidth(r))+" "+nn(St.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=St.RadioButton.Circle.YesNormal,e.D[r]=St.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=Oo(r);e.scope=r.scope;var t=[],i=St.internal.getWidth(r)<=St.internal.getHeight(r)?St.internal.getWidth(r)/4:St.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=St.internal.Bezier_C,o=Number((i*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+ac(St.internal.getWidth(r)/2)+" "+ac(St.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Oo(r);e.scope=r.scope;var t=[],i=St.internal.getWidth(r)<=St.internal.getHeight(r)?St.internal.getWidth(r)/4:St.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*St.internal.Bezier_C).toFixed(5)),h=Number((i*St.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ac(St.internal.getWidth(r)/2)+" "+ac(St.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+ac(St.internal.getWidth(r)/2)+" "+ac(St.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+h+" "+h+" "+i+" 0 "+i+" c"),t.push("-"+h+" "+i+" -"+i+" "+h+" -"+i+" 0 c"),t.push("-"+i+" -"+h+" -"+h+" -"+i+" 0 -"+i+" c"),t.push(h+" -"+i+" "+i+" -"+h+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=Oo(r);e.scope=r.scope;var t=[],i=St.internal.getWidth(r)<=St.internal.getHeight(r)?St.internal.getWidth(r)/4:St.internal.getHeight(r)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),o=Number((a*St.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+ac(St.internal.getWidth(r)/2)+" "+ac(St.internal.getHeight(r)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=St.RadioButton.Cross.YesNormal,e.D[r]=St.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=Oo(r);e.scope=r.scope;var t=[],i=St.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+nn(St.internal.getWidth(r)-2)+" "+nn(St.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(nn(i.x1.x)+" "+nn(i.x1.y)+" m"),t.push(nn(i.x2.x)+" "+nn(i.x2.y)+" l"),t.push(nn(i.x4.x)+" "+nn(i.x4.y)+" m"),t.push(nn(i.x3.x)+" "+nn(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=Oo(r);e.scope=r.scope;var t=St.internal.calculateCross(r),i=[];return i.push("0.749023 g"),i.push("0 0 "+nn(St.internal.getWidth(r))+" "+nn(St.internal.getHeight(r))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+nn(St.internal.getWidth(r)-2)+" "+nn(St.internal.getHeight(r)-2)+" re"),i.push("W"),i.push("n"),i.push(nn(t.x1.x)+" "+nn(t.x1.y)+" m"),i.push(nn(t.x2.x)+" "+nn(t.x2.y)+" l"),i.push(nn(t.x4.x)+" "+nn(t.x4.y)+" m"),i.push(nn(t.x3.x)+" "+nn(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=Oo(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+nn(St.internal.getWidth(r))+" "+nn(St.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};St.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=St.internal.getWidth(r),t=St.internal.getHeight(r),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},St.internal.getWidth=function(r){var e=0;return Bn(r)==="object"&&(e=ky(r.Rect[2])),e},St.internal.getHeight=function(r){var e=0;return Bn(r)==="object"&&(e=ky(r.Rect[3])),e};var hL=jr.addField=function(r){if(uL(this,r),!(r instanceof ao))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};jr.AcroFormChoiceField=Sh,jr.AcroFormListBox=Ah,jr.AcroFormComboBox=Nh,jr.AcroFormEditBox=R1,jr.AcroFormButton=xi,jr.AcroFormPushButton=I1,jr.AcroFormRadioButton=Ch,jr.AcroFormCheckBox=V1,jr.AcroFormTextField=au,jr.AcroFormPasswordField=F1,jr.AcroFormAppearance=St,jr.AcroForm={ChoiceField:Sh,ListBox:Ah,ComboBox:Nh,EditBox:R1,Button:xi,PushButton:I1,RadioButton:Ch,CheckBox:V1,TextField:au,PasswordField:F1,Appearance:St},Lt.AcroForm={ChoiceField:Sh,ListBox:Ah,ComboBox:Nh,EditBox:R1,Button:xi,PushButton:I1,RadioButton:Ch,CheckBox:V1,TextField:au,PasswordField:F1,Appearance:St};Lt.AcroForm;function U_(r){return r.reduce(function(e,t,i){return e[t]=i,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=r.__addimage__.getImageFileTypeByImageData=function(E,I){var te,U,ue,$,ie,se=t;if((I=I||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(W(E))for(ie in i)for(ue=i[ie],te=0;te<ue.length;te+=1){for($=!0,U=0;U<ue[te].length;U+=1)if(ue[te][U]!==void 0&&ue[te][U]!==E[U]){$=!1;break}if($===!0){se=ie;break}}else for(ie in i)for(ue=i[ie],te=0;te<ue.length;te+=1){for($=!0,U=0;U<ue[te].length;U+=1)if(ue[te][U]!==void 0&&ue[te][U]!==E.charCodeAt(U)){$=!1;break}if($===!0){se=ie;break}}return se===t&&I!==t&&(se=I),se},o=function E(I){for(var te=this.internal.write,U=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var $=[];if($.push({key:"Type",value:"/XObject"}),$.push({key:"Subtype",value:"/Image"}),$.push({key:"Width",value:I.width}),$.push({key:"Height",value:I.height}),I.colorSpace===T.INDEXED?$.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):($.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===T.DEVICE_CMYK&&$.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),$.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&$.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var ie="",se=0,fe=I.transparency.length;se<fe;se++)ie+=I.transparency[se]+" "+I.transparency[se]+" ";$.push({key:"Mask",value:"["+ie+"]"})}I.sMask!==void 0&&$.push({key:"SMask",value:I.objectId+1+" 0 R"});var we=I.filter!==void 0?["/"+I.filter]:void 0;if(U({data:I.data,additionalKeyValues:$,alreadyAppliedFilters:we,objectId:I.objectId}),te("endobj"),"sMask"in I&&I.sMask!==void 0){var X,L=(X=I.sMaskBitsPerComponent)!==null&&X!==void 0?X:I.bitsPerComponent,P={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:I.sMask};"filter"in I&&(P.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(I.width),P.filter=I.filter),E.call(this,P)}if(I.colorSpace===T.INDEXED){var J=this.internal.newObject();U({data:j(new Uint8Array(I.palette)),objectId:J}),te("endobj")}},h=function(){var E=this.internal.collections[e+"images"];for(var I in E)o.call(this,E[I])},c=function(){var E,I=this.internal.collections[e+"images"],te=this.internal.write;for(var U in I)te("/I"+(E=I[U]).index,E.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var E=this.internal.collections[e+"images"];return f.call(this),E},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},y=function(E){return typeof r["process"+E.toUpperCase()]=="function"},w=function(E){return Bn(E)==="object"&&E.nodeType===1},b=function(E,I){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var te=""+E.getAttribute("src");if(te.indexOf("data:image/")===0)return D1(unescape(te).split("base64,").pop());var U=r.loadFile(te,!0);if(U!==void 0)return U}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ue;switch(I){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return D1(E.toDataURL(ue,1).split("base64,").pop())}},S=function(E){var I=this.internal.collections[e+"images"];if(I){for(var te in I)if(E===I[te].alias)return I[te]}},N=function(E,I,te){return E||I||(E=-96,I=-96),E<0&&(E=-1*te.width*72/E/this.internal.scaleFactor),I<0&&(I=-1*te.height*72/I/this.internal.scaleFactor),E===0&&(E=I*te.width/te.height),I===0&&(I=E*te.height/te.width),[E,I]},C=function(E,I,te,U,ue,$){var ie=N.call(this,te,U,ue),se=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,we=d.call(this);if(te=ie[0],U=ie[1],we[ue.index]=ue,$){$*=Math.PI/180;var X=Math.cos($),L=Math.sin($),P=function(re){return re.toFixed(4)},J=[P(X),P(L),P(-1*L),P(X),0,0,"cm"]}this.internal.write("q"),$?(this.internal.write([1,"0","0",1,se(E),fe(I+U),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([se(te),"0","0",se(U),"0","0","cm"].join(" "))):this.internal.write([se(te),"0","0",se(U),se(E),fe(I+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},T=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},D=r.__addimage__.sHashCode=function(E){var I,te,U=0;if(typeof E=="string")for(te=E.length,I=0;I<te;I++)U=(U<<5)-U+E.charCodeAt(I),U|=0;else if(W(E))for(te=E.byteLength/2,I=0;I<te;I++)U=(U<<5)-U+E[I],U|=0;return U},F=r.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var I=!0;return E.length===0&&(I=!1),E.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(I=!1),I},B=r.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var I=E.indexOf(",");return I<0?null:E.substring(0,I).trim().endsWith("base64")?E.substring(I+1):null};r.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var W=r.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},G=r.__addimage__.binaryStringToUint8Array=function(E){for(var I=E.length,te=new Uint8Array(I),U=0;U<I;U++)te[U]=E.charCodeAt(U);return te},j=r.__addimage__.arrayBufferToBinaryString=function(E){for(var I="",te=W(E)?E:new Uint8Array(E),U=0;U<te.length;U+=8192)I+=String.fromCharCode.apply(null,te.subarray(U,U+8192));return I};r.addImage=function(){var E,I,te,U,ue,$,ie,se,fe;if(typeof arguments[1]=="number"?(I=t,te=arguments[1],U=arguments[2],ue=arguments[3],$=arguments[4],ie=arguments[5],se=arguments[6],fe=arguments[7]):(I=arguments[1],te=arguments[2],U=arguments[3],ue=arguments[4],$=arguments[5],ie=arguments[6],se=arguments[7],fe=arguments[8]),Bn(E=arguments[0])==="object"&&!w(E)&&"imageData"in E){var we=E;E=we.imageData,I=we.format||I||t,te=we.x||te||0,U=we.y||U||0,ue=we.w||we.width||ue,$=we.h||we.height||$,ie=we.alias||ie,se=we.compression||se,fe=we.rotation||we.angle||fe}var X=this.internal.getFilters();if(se===void 0&&X.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(te)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var L=V.call(this,E,I,ie,se);return C.call(this,te,U,ue,$,L,fe),this};var V=function(E,I,te,U){var ue,$,ie;if(typeof E=="string"&&a(E)===t){E=unescape(E);var se=K(E,!1);(se!==""||(se=r.loadFile(E,!0))!==void 0)&&(E=se)}if(w(E)&&(E=b(E,I)),I=a(E,I),!y(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((ie=te)==null||ie.length===0)&&(te=(function(fe){return typeof fe=="string"||W(fe)?D(fe):W(fe.data)?D(fe.data):null})(E)),(ue=S.call(this,te))||(E instanceof Uint8Array||I==="RGBA"||($=E,E=G(E)),ue=this["process"+I.toUpperCase()](E,m.call(this),te,(function(fe){return fe&&typeof fe=="string"&&(fe=fe.toUpperCase()),fe in r.image_compression?fe:R.NONE})(U),$)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},K=r.__addimage__.convertBase64ToBinaryString=function(E,I){I=typeof I!="boolean"||I;var te,U="";if(typeof E=="string"){var ue;te=(ue=B(E))!==null&&ue!==void 0?ue:E;try{U=D1(te)}catch($){if(I)throw F(te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+$.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};r.getImageProperties=function(E){var I,te,U="";if(w(E)&&(E=b(E)),typeof E=="string"&&a(E)===t&&((U=K(E,!1))===""&&(U=r.loadFile(E)||""),E=U),te=a(E),!y(te))throw new Error("addImage does not support files of type '"+te+"', please ensure that a plugin for '"+te+"' support is added.");if(E instanceof Uint8Array||(E=G(E)),!(I=this["process"+te.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=te,I}})(Lt.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Lt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var i,a,o,h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,m=!1,y=0;y<d.length&&!m;y++)switch((i=d[y]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){i=d[w];var b=this.internal.pdfEscape,S=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(N.objId),R=i.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+h(i.bounds.x)+" "+c(i.bounds.y+i.bounds.h)+" "+h(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y)+"] ")+"/Contents ("+b(T(i.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(T(R))+") >>",N.content=o;var D=N.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+h(i.bounds.x+30)+" "+c(i.bounds.y+i.bounds.h)+" "+h(i.bounds.x+i.bounds.w+30)+" "+c(i.bounds.y)+"] ")+" /Parent "+D,i.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(N.objId,"0 R",C.objId,"0 R");break;case"freetext":a="/Rect ["+h(i.bounds.x)+" "+c(i.bounds.y)+" "+h(i.bounds.x+i.bounds.w)+" "+c(i.bounds.y+i.bounds.h)+"] ";var F=i.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+b(S(i.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(i.options.name){var B=this.annotations._nameMap[i.options.name];i.options.pageNumber=B.page,i.options.top=B.y}else i.options.top||(i.options.top=0);if(a="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",o="",i.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+b(S(i.options.url))+") >>";else if(i.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,o+=" /FitV "+i.options.left+"]";break;default:var W=c(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),o+=" /XYZ "+i.options.left+" "+W+" "+i.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},r.link=function(t,i,a,o,h){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(i),w:f(t+a),h:d(i+o)},options:h,type:"link"})},r.textWithLink=function(t,i,a,o){var h,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var m=this.splitTextToSize(t,c).length;h=Math.ceil(d*m)}else c=f,h=d;return this.text(t,i,a,o),a+=.2*d,o.align==="center"&&(i-=f/2),o.align==="right"&&(i-=f),this.link(i,a-d,c,h,o),f},r.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}})(Lt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},h=r.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},c=r.__arabicParser__.isArabicEndLetter=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length<=2},f=r.__arabicParser__.isArabicAlfLetter=function(N){return h(N)&&a.indexOf(N.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=1};var d=r.__arabicParser__.arabicLetterHasFinalForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length>=3};var m=r.__arabicParser__.arabicLetterHasMedialForm=function(N){return h(N)&&o(N)&&e[N.charCodeAt(0)].length==4},y=r.__arabicParser__.resolveLigatures=function(N){var C=0,T=t,R="",D=0;for(C=0;C<N.length;C+=1)T[N.charCodeAt(C)]!==void 0?(D++,typeof(T=T[N.charCodeAt(C)])=="number"&&(R+=String.fromCharCode(T),T=t,D=0),C===N.length-1&&(T=t,R+=N.charAt(C-(D-1)),C-=D-1,D=0)):(T=t,R+=N.charAt(C-D),C-=D,D=0);return R};r.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&i[N.charCodeAt(0)]!==void 0};var w=r.__arabicParser__.getCorrectForm=function(N,C,T){return h(N)?o(N)===!1?-1:!d(N)||!h(C)&&!h(T)||!h(T)&&c(C)||c(N)&&!h(C)||c(N)&&f(C)||c(N)&&c(C)?0:m(N)&&h(C)&&!c(C)&&h(T)&&d(T)?3:c(N)||!h(T)?1:2:-1},b=function(N){var C=0,T=0,R=0,D="",F="",B="",W=(N=N||"").split("\\s+"),G=[];for(C=0;C<W.length;C+=1){for(G.push(""),T=0;T<W[C].length;T+=1)D=W[C][T],F=W[C][T-1],B=W[C][T+1],h(D)?(R=w(D,F,B),G[C]+=R!==-1?String.fromCharCode(e[D.charCodeAt(0)][R]):D):G[C]+=D;G[C]=y(G[C])}return G.join(" ")},S=r.__arabicParser__.processArabic=r.processArabic=function(){var N,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(C)){var R=0;for(T=[],R=0;R<C.length;R+=1)Array.isArray(C[R])?T.push([b(C[R][0]),C[R][1],C[R][2]]):T.push([b(C[R])]);N=T}else N=b(C);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};r.events.push(["preProcessText",S])})(Lt.API),Lt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(c){h=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var a;if((t=t||"2d")!=="2d")return null;for(a in i)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=i[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Lt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(N){y=N}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(N){w=N}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(N){b=N}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(N){S=N}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(f){return i.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},r.getTextDimensions=function(f,d){i.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),y=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,b=0,S=0,N=0,C=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var T=d.maxWidth;T>0?typeof f=="string"?f=this.splitTextToSize(f,T):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(D,F){return D.concat(C.splitTextToSize(F,T))},[])):f=Array.isArray(f)?f:[f];for(var R=0;R<f.length;R++)b<(N=this.getStringUnitWidth(f[R],{font:y})*m)&&(b=N);return b!==0&&(S=f.length),{w:b/=w,h:Math.max((S*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/w,0)}},r.cellAddPage=function(){i.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=r.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,y=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=y.top,b&&w&&(this.printHeaderRow(f.lineNumber,!0),f.y+=w[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-m,f.y+m,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+m,{align:"center",baseline:"top",maxWidth:f.width-m-m}):this.text(f.text,f.x+m,f.y+m,{align:"left",baseline:"top",maxWidth:f.width-m-m})),this.internal.__cell__.lastCell=f,this};r.table=function(f,d,m,y,w){if(i.call(this),!m)throw new Error("No data for PDF table.");var b,S,N,C,T=[],R=[],D=[],F={},B={},W=[],G=[],j=(w=w||{}).autoSize||!1,V=w.printHeaders!==!1,K=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,E=w.margins||Object.assign({width:this.getPageWidth()},e),I=typeof w.padding=="number"?w.padding:3,te=w.headerBackgroundColor||"#c8c8c8",U=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=te,this.internal.__cell__.headerTextColor=U,this.setFontSize(K),y==null)R=T=Object.keys(m[0]),D=T.map(function(){return"left"});else if(Array.isArray(y)&&Bn(y[0])==="object")for(T=y.map(function(we){return we.name}),R=y.map(function(we){return we.prompt||we.name||""}),D=y.map(function(we){return we.align||"left"}),b=0;b<y.length;b+=1)B[y[b].name]=.7499990551181103*y[b].width;else Array.isArray(y)&&typeof y[0]=="string"&&(R=T=y,D=T.map(function(){return"left"}));if(j||Array.isArray(y)&&typeof y[0]=="string")for(b=0;b<T.length;b+=1){for(F[C=T[b]]=m.map(function(we){return we[C]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(R[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=F[C],this.setFont(void 0,"normal"),N=0;N<S.length;N+=1)W.push(this.getTextDimensions(S[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[C]=Math.max.apply(null,W)+I+I,W=[]}if(V){var ue={};for(b=0;b<T.length;b+=1)ue[T[b]]={},ue[T[b]].text=R[b],ue[T[b]].align=D[b];var $=c.call(this,ue,B);G=T.map(function(we){return new o(f,d,B[we],$,ue[we].text,void 0,ue[we].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var ie=y.reduce(function(we,X){return we[X.name]=X.align,we},{});for(b=0;b<m.length;b+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:b,data:m[b]},this);var se=c.call(this,m[b],B);for(N=0;N<T.length;N+=1){var fe=m[b][T[N]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:b,col:N,data:fe},this),h.call(this,new o(f,d,B[T[N]],se,fe,b+2,ie[T[N]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var m=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(f).map(function(b){var S=f[b];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,d[b]-m-m)},this).map(function(b){return this.getLineHeightFactor()*b.length*y/w+m+m},this).reduce(function(b,S){return Math.max(b,S)},0)};r.setTableHeaderRow=function(f){i.call(this),this.internal.__cell__.tableHeaderRow=f},r.printHeaderRow=function(f,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){m=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,w.push(m)),m.lineNumber=f;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,m),this.setTextColor(S)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),t=!1}})(Lt.API);var H_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},G_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ag=U_(G_),W_=[100,200,300,400,500,600,700,800,900],fL=U_(W_);function Cm(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return H_[o=o||"normal"]?o:"normal"})(r.style),i=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),a=(function(o){return typeof ag[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:t,weight:i,stretch:a,src:r.src||[],ref:r.ref||{name:e,style:[a,t,i].join(" ")}}}function Oy(r,e,t,i){var a;for(a=t;a>=0&&a<e.length;a+=i)if(r[e[a]])return r[e[a]];for(a=t;a>=0&&a<e.length;a-=i)if(r[e[a]])return r[e[a]]}var dL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ly={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function My(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function jy(r){return r.trimLeft()}function pL(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function mL(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var N1,Dy,Ry,ch,C1,Iy,Vy,Fy,Tm=["times"];function By(r,e,t,i,a){var o=4,h=zy;switch(a){case Lt.API.image_compression.FAST:o=1,h=qy;break;case Lt.API.image_compression.MEDIUM:o=6,h=Py;break;case Lt.API.image_compression.SLOW:o=9,h=Uy}r=(function(f,d,m,y){for(var w,b=f.length/d,S=new Uint8Array(f.length+b),N=[gL,qy,zy,Py,Uy],C=0;C<b;C+=1){var T=C*d,R=f.subarray(T,T+d);if(y)S.set(y(R,m,w),T+C);else{for(var D=N.length,F=[],B=0;B<D;B+=1)F[B]=N[B](R,m,w);var W=bL(F.concat());S.set(F[W],T+C)}w=R}return S})(r,e,Math.ceil(t*i/8),h);var c=Jm(r,{level:o});return Lt.API.__addimage__.arrayBufferToBinaryString(c)}function gL(r){var e=Array.apply([],r);return e.unshift(0),e}function qy(r,e){var t=r.length,i=[];i[0]=1;for(var a=0;a<t;a+=1){var o=r[a-e]||0;i[a+1]=r[a]-o+256&255}return i}function zy(r,e,t){var i=r.length,a=[];a[0]=2;for(var o=0;o<i;o+=1){var h=t&&t[o]||0;a[o+1]=r[o]-h+256&255}return a}function Py(r,e,t){var i=r.length,a=[];a[0]=3;for(var o=0;o<i;o+=1){var h=r[o-e]||0,c=t&&t[o]||0;a[o+1]=r[o]+256-(h+c>>>1)&255}return a}function Uy(r,e,t){var i=r.length,a=[];a[0]=4;for(var o=0;o<i;o+=1){var h=vL(r[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=r[o]-h+256&255}return a}function vL(r,e,t){if(r===e&&e===t)return r;var i=Math.abs(e-t),a=Math.abs(r-t),o=Math.abs(r+e-t-t);return i<=a&&i<=o?r:a<=o?e:t}function bL(r){var e=r.map(function(t){return t.reduce(function(i,a){return i+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Em(r,e,t){var i=e*t,a=Math.floor(i/8),o=16-(i-8*a+t),h=(1<<t)-1;return Y_(r,a)>>o&h}function Hy(r,e,t,i){var a=t*i,o=Math.floor(a/8),h=16-(a-8*o+i),c=(1<<i)-1,f=(e&c)<<h;(function(d,m,y){if(m+1<d.byteLength)d.setUint16(m,y,!1);else{var w=y>>8&255;d.setUint8(m,w)}})(r,o,Y_(r,o)&~(c<<h)&65535|f)}function Y_(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function yL(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,i=r[e++]|r[e++]<<8,a=r[e++],o=a>>7,h=1<<1+(7&a);r[e++],r[e++];var c=null,f=null;o&&(c=e,f=h,e+=3*h);var d=!0,m=[],y=0,w=null,b=0,S=null;for(this.width=t,this.height=i;d&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,S=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=r[e++];y=r[e++]|r[e++]<<8,w=r[e++],1&N||(w=null),b=N>>2&7,e++;break;case 254:for(;;){if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var C=r[e++]|r[e++]<<8,T=r[e++]|r[e++]<<8,R=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,F=r[e++],B=F>>6&1,W=1<<1+(7&F),G=c,j=f,V=!1;F>>7&&(V=!0,G=e,j=W,e+=3*W);var K=e;for(e++;;){var E;if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}m.push({x:C,y:T,width:R,height:D,has_local_palette:V,palette_offset:G,palette_size:j,data_offset:K,data_length:e-K,transparent_index:w,interlaced:!!B,delay:y,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return S},this.frameInfo=function(I){if(I<0||I>=m.length)throw new Error("Frame index out of range.");return m[I]},this.decodeAndBlitFrameBGRA=function(I,te){var U=this.frameInfo(I),ue=U.width*U.height,$=new Uint8Array(ue);Gy(r,U.data_offset,$,ue);var ie=U.palette_offset,se=U.transparent_index;se===null&&(se=256);var fe=U.width,we=t-fe,X=fe,L=4*(U.y*t+U.x),P=4*((U.y+U.height)*t+U.x),J=L,re=4*we;U.interlaced===!0&&(re+=4*t*7);for(var ce=8,pe=0,de=$.length;pe<de;++pe){var xe=$[pe];if(X===0&&(X=fe,(J+=re)>=P&&(re=4*we+4*t*(ce-1),J=L+(fe+we)*(ce<<1),ce>>=1)),xe===se)J+=4;else{var Te=r[ie+3*xe],Ue=r[ie+3*xe+1],Qe=r[ie+3*xe+2];te[J++]=Qe,te[J++]=Ue,te[J++]=Te,te[J++]=255}--X}},this.decodeAndBlitFrameRGBA=function(I,te){var U=this.frameInfo(I),ue=U.width*U.height,$=new Uint8Array(ue);Gy(r,U.data_offset,$,ue);var ie=U.palette_offset,se=U.transparent_index;se===null&&(se=256);var fe=U.width,we=t-fe,X=fe,L=4*(U.y*t+U.x),P=4*((U.y+U.height)*t+U.x),J=L,re=4*we;U.interlaced===!0&&(re+=4*t*7);for(var ce=8,pe=0,de=$.length;pe<de;++pe){var xe=$[pe];if(X===0&&(X=fe,(J+=re)>=P&&(re=4*we+4*t*(ce-1),J=L+(fe+we)*(ce<<1),ce>>=1)),xe===se)J+=4;else{var Te=r[ie+3*xe],Ue=r[ie+3*xe+1],Qe=r[ie+3*xe+2];te[J++]=Te,te[J++]=Ue,te[J++]=Qe,te[J++]=255}--X}}}function Gy(r,e,t,i){for(var a=r[e++],o=1<<a,h=o+1,c=h+1,f=a+1,d=(1<<f)-1,m=0,y=0,w=0,b=r[e++],S=new Int32Array(4096),N=null;;){for(;m<16&&b!==0;)y|=r[e++]<<m,m+=8,b===1?b=r[e++]:--b;if(m<f)break;var C=y&d;if(y>>=f,m-=f,C!==o){if(C===h)break;for(var T=C<c?C:N,R=0,D=T;D>o;)D=S[D]>>8,++R;var F=D;if(w+R+(T!==C?1:0)>i)return void Qn.log("Warning, gif stream longer than expected.");t[w++]=F;var B=w+=R;for(T!==C&&(t[w++]=F),D=T;R--;)D=S[D],t[--B]=255&D,D>>=8;N!==null&&c<4096&&(S[c++]=N<<8|F,c>=d+1&&f<12&&(++f,d=d<<1|1)),N=C}else c=h+1,d=(1<<(f=a+1))-1,N=null}return w!==i&&Qn.log("Warning, gif stream shorter than expected."),t}function km(r){var e,t,i,a,o,h=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),m=new Array(64),y=new Array(65535),w=new Array(65535),b=new Array(64),S=new Array(64),N=[],C=0,T=7,R=new Array(64),D=new Array(64),F=new Array(64),B=new Array(256),W=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function $(L,P){for(var J=0,re=0,ce=new Array,pe=1;pe<=16;pe++){for(var de=1;de<=L[pe];de++)ce[P[re]]=[],ce[P[re]][0]=J,ce[P[re]][1]=pe,re++,J++;J*=2}return ce}function ie(L){for(var P=L[0],J=L[1]-1;J>=0;)P&1<<J&&(C|=1<<T),J--,--T<0&&(C==255?(se(255),se(0)):se(C),T=7,C=0)}function se(L){N.push(L)}function fe(L){se(L>>8&255),se(255&L)}function we(L,P,J,re,ce){for(var pe,de=ce[0],xe=ce[240],Te=(function(Ne,nt){var it,ut,ht,Mt,Xt,It,Vt,Re,Ge,st,rt=0;for(Ge=0;Ge<8;++Ge){it=Ne[rt],ut=Ne[rt+1],ht=Ne[rt+2],Mt=Ne[rt+3],Xt=Ne[rt+4],It=Ne[rt+5],Vt=Ne[rt+6];var Gt=it+(Re=Ne[rt+7]),Ct=it-Re,pt=ut+Vt,dt=ut-Vt,At=ht+It,lt=ht-It,Ft=Mt+Xt,bt=Mt-Xt,ct=Gt+Ft,Kt=Gt-Ft,ft=pt+At,ot=pt-At;Ne[rt]=ct+ft,Ne[rt+4]=ct-ft;var Tt=.707106781*(ot+Kt);Ne[rt+2]=Kt+Tt,Ne[rt+6]=Kt-Tt;var Rn=.382683433*((ct=bt+lt)-(ot=dt+Ct)),_e=.5411961*ct+Rn,Ie=1.306562965*ot+Rn,Xe=.707106781*(ft=lt+dt),$e=Ct+Xe,Nt=Ct-Xe;Ne[rt+5]=Nt+_e,Ne[rt+3]=Nt-_e,Ne[rt+1]=$e+Ie,Ne[rt+7]=$e-Ie,rt+=8}for(rt=0,Ge=0;Ge<8;++Ge){it=Ne[rt],ut=Ne[rt+8],ht=Ne[rt+16],Mt=Ne[rt+24],Xt=Ne[rt+32],It=Ne[rt+40],Vt=Ne[rt+48];var vt=it+(Re=Ne[rt+56]),Et=it-Re,Qt=ut+Vt,Zt=ut-Vt,dn=ht+It,on=ht-It,Ar=Mt+Xt,qn=Mt-Xt,pn=vt+Ar,Cn=vt-Ar,br=Qt+dn,Hr=Qt-dn;Ne[rt]=pn+br,Ne[rt+32]=pn-br;var Gr=.707106781*(Hr+Cn);Ne[rt+16]=Cn+Gr,Ne[rt+48]=Cn-Gr;var Qs=.382683433*((pn=qn+on)-(Hr=Zt+Et)),os=.5411961*pn+Qs,Di=1.306562965*Hr+Qs,Ls=.707106781*(br=on+Zt),Ri=Et+Ls,Wi=Et-Ls;Ne[rt+40]=Wi+os,Ne[rt+24]=Wi-os,Ne[rt+8]=Ri+Di,Ne[rt+56]=Ri-Di,rt++}for(Ge=0;Ge<64;++Ge)st=Ne[Ge]*nt[Ge],b[Ge]=st>0?st+.5|0:st-.5|0;return b})(L,P),Ue=0;Ue<64;++Ue)S[G[Ue]]=Te[Ue];var Qe=S[0]-J;J=S[0],Qe==0?ie(re[0]):(ie(re[w[pe=32767+Qe]]),ie(y[pe]));for(var et=63;et>0&&S[et]==0;)et--;if(et==0)return ie(de),J;for(var je,H=1;H<=et;){for(var Me=H;S[H]==0&&H<=et;)++H;var tt=H-Me;if(tt>=16){je=tt>>4;for(var Ze=1;Ze<=je;++Ze)ie(xe);tt&=15}pe=32767+S[H],ie(ce[(tt<<4)+w[pe]]),ie(y[pe]),H++}return et!=63&&ie(de),J}function X(L){L=Math.min(Math.max(L,1),100),o!=L&&((function(P){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var ce=h((J[re]*P+50)/100);ce=Math.min(Math.max(ce,1),255),c[G[re]]=ce}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var xe=h((pe[de]*P+50)/100);xe=Math.min(Math.max(xe,1),255),f[G[de]]=xe}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ue=0,Qe=0;Qe<8;Qe++)for(var et=0;et<8;et++)d[Ue]=1/(c[G[Ue]]*Te[Qe]*Te[et]*8),m[Ue]=1/(f[G[Ue]]*Te[Qe]*Te[et]*8),Ue++})(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,P){P&&X(P),N=new Array,C=0,T=7,fe(65496),fe(65504),fe(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),fe(1),fe(1),se(0),se(0),(function(){fe(65499),fe(132),se(0);for(var ut=0;ut<64;ut++)se(c[ut]);se(1);for(var ht=0;ht<64;ht++)se(f[ht])})(),(function(ut,ht){fe(65472),fe(17),se(8),fe(ht),fe(ut),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)})(L.width,L.height),(function(){fe(65476),fe(418),se(0);for(var ut=0;ut<16;ut++)se(j[ut+1]);for(var ht=0;ht<=11;ht++)se(V[ht]);se(16);for(var Mt=0;Mt<16;Mt++)se(K[Mt+1]);for(var Xt=0;Xt<=161;Xt++)se(E[Xt]);se(1);for(var It=0;It<16;It++)se(I[It+1]);for(var Vt=0;Vt<=11;Vt++)se(te[Vt]);se(17);for(var Re=0;Re<16;Re++)se(U[Re+1]);for(var Ge=0;Ge<=161;Ge++)se(ue[Ge])})(),fe(65498),fe(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var J=0,re=0,ce=0;C=0,T=7,this.encode.displayName="_encode_";for(var pe,de,xe,Te,Ue,Qe,et,je,H,Me=L.data,tt=L.width,Ze=L.height,Ne=4*tt,nt=0;nt<Ze;){for(pe=0;pe<Ne;){for(Ue=Ne*nt+pe,et=-1,je=0,H=0;H<64;H++)Qe=Ue+(je=H>>3)*Ne+(et=4*(7&H)),nt+je>=Ze&&(Qe-=Ne*(nt+1+je-Ze)),pe+et>=Ne&&(Qe-=pe+et-Ne+4),de=Me[Qe++],xe=Me[Qe++],Te=Me[Qe++],R[H]=(W[de]+W[xe+256|0]+W[Te+512|0]>>16)-128,D[H]=(W[de+768|0]+W[xe+1024|0]+W[Te+1280|0]>>16)-128,F[H]=(W[de+1280|0]+W[xe+1536|0]+W[Te+1792|0]>>16)-128;J=we(R,d,J,e,i),re=we(D,m,re,t,a),ce=we(F,m,ce,t,a),pe+=32}nt+=8}if(T>=0){var it=[];it[1]=T+1,it[0]=(1<<T+1)-1,ie(it)}return fe(65497),new Uint8Array(N)},r=r||50,(function(){for(var L=String.fromCharCode,P=0;P<256;P++)B[P]=L(P)})(),e=$(j,V),t=$(I,te),i=$(K,E),a=$(U,ue),(function(){for(var L=1,P=2,J=1;J<=15;J++){for(var re=L;re<P;re++)w[32767+re]=J,y[32767+re]=[],y[32767+re][1]=J,y[32767+re][0]=re;for(var ce=-(P-1);ce<=-L;ce++)w[32767+ce]=J,y[32767+ce]=[],y[32767+ce][1]=J,y[32767+ce][0]=P-1+ce;L<<=1,P<<=1}})(),(function(){for(var L=0;L<256;L++)W[L]=19595*L,W[L+256|0]=38470*L,W[L+512|0]=7471*L+32768,W[L+768|0]=-11059*L,W[L+1024|0]=-21709*L,W[L+1280|0]=32768*L+8421375,W[L+1536|0]=-27439*L,W[L+1792|0]=-5329*L})(),X(r)}function Wa(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Wy(r){function e(V){if(!V)throw Error("assert :P")}function t(V,K,E){for(var I=0;4>I;I++)if(V[K+I]!=E.charCodeAt(I))return!0;return!1}function i(V,K,E,I,te){for(var U=0;U<te;U++)V[K+U]=E[I+U]}function a(V,K,E,I){for(var te=0;te<I;te++)V[K+te]=E}function o(V){return new Int32Array(V)}function h(V,K){for(var E=[],I=0;I<V;I++)E.push(new K);return E}function c(V,K){var E=[];return(function I(te,U,ue){for(var $=ue[U],ie=0;ie<$&&(te.push(ue.length>U+1?[]:new K),!(ue.length<U+1));ie++)I(te[ie],U+1,ue)})(E,0,V),E}var f=function(){var V=this;function K(p,v){for(var A=1<<v-1>>>0;p&A;)A>>>=1;return A?(p&A-1)+A:p}function E(p,v,A,O,z){e(!(O%A));do p[v+(O-=A)]=z;while(0<O)}function I(p,v,A,O,z){if(e(2328>=z),512>=z)var Y=o(512);else if((Y=o(z))==null)return 0;return(function(Z,ee,ne,oe,ve,ke){var ae,ye,Ce=ee,Be=1<<ne,Ee=o(16),Fe=o(16);for(e(ve!=0),e(oe!=null),e(Z!=null),e(0<ne),ye=0;ye<ve;++ye){if(15<oe[ye])return 0;++Ee[oe[ye]]}if(Ee[0]==ve)return 0;for(Fe[1]=0,ae=1;15>ae;++ae){if(Ee[ae]>1<<ae)return 0;Fe[ae+1]=Fe[ae]+Ee[ae]}for(ye=0;ye<ve;++ye)ae=oe[ye],0<oe[ye]&&(ke[Fe[ae]++]=ye);if(Fe[15]==1)return(oe=new te).g=0,oe.value=ke[0],E(Z,Ce,1,Be,oe),Be;var Pe,Je=-1,Ye=Be-1,wt=0,mt=1,Wt=1,yt=1<<ne;for(ye=0,ae=1,ve=2;ae<=ne;++ae,ve<<=1){if(mt+=Wt<<=1,0>(Wt-=Ee[ae]))return 0;for(;0<Ee[ae];--Ee[ae])(oe=new te).g=ae,oe.value=ke[ye++],E(Z,Ce+wt,ve,yt,oe),wt=K(wt,ae)}for(ae=ne+1,ve=2;15>=ae;++ae,ve<<=1){if(mt+=Wt<<=1,0>(Wt-=Ee[ae]))return 0;for(;0<Ee[ae];--Ee[ae]){if(oe=new te,(wt&Ye)!=Je){for(Ce+=yt,Pe=1<<(Je=ae)-ne;15>Je&&!(0>=(Pe-=Ee[Je]));)++Je,Pe<<=1;Be+=yt=1<<(Pe=Je-ne),Z[ee+(Je=wt&Ye)].g=Pe+ne,Z[ee+Je].value=Ce-ee-Je}oe.g=ae-ne,oe.value=ke[ye++],E(Z,Ce+(wt>>ne),ve,yt,oe),wt=K(wt,ae)}}return mt!=2*Fe[15]-1?0:Be})(p,v,A,O,z,Y)}function te(){this.value=this.g=0}function U(){this.value=this.g=0}function ue(){this.G=h(5,te),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(fo,U)}function $(p,v,A,O){e(p!=null),e(v!=null),e(2147483648>O),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=A,p.Jd=v,p.Yc=A+O,p.Zc=4<=O?A+O-4+1:A,de(p)}function ie(p,v){for(var A=0;0<v--;)A|=Te(p,128)<<v;return A}function se(p,v){var A=ie(p,v);return xe(p)?-A:A}function fe(p,v,A,O){var z,Y=0;for(e(p!=null),e(v!=null),e(4294967288>O),p.Sb=O,p.Ra=0,p.u=0,p.h=0,4<O&&(O=4),z=0;z<O;++z)Y+=v[A+z]<<8*z;p.Ra=Y,p.bb=O,p.oa=v,p.pa=A}function we(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<sa-8>>>0,++p.bb,p.u-=8;re(p)&&(p.h=1,p.u=0)}function X(p,v){if(e(0<=v),!p.h&&v<=Ci){var A=J(p)&Vi[v];return p.u+=v,we(p),A}return p.h=1,p.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(p){return p.Ra>>>(p.u&sa-1)>>>0}function re(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>sa}function ce(p,v){p.u=v,p.h=re(p)}function pe(p){p.u>=aa&&(e(p.u>=aa),we(p))}function de(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function xe(p){return ie(p,1)}function Te(p,v){var A=p.Ca;0>p.b&&de(p);var O=p.b,z=A*v>>>8,Y=(p.I>>>O>z)+0;for(Y?(A-=z,p.I-=z+1<<O>>>0):A=z+1,O=A,z=0;256<=O;)z+=8,O>>=8;return O=7^z+ja[O],p.b-=O,p.Ca=(A<<O)-1,Y}function Ue(p,v,A){p[v+0]=A>>24&255,p[v+1]=A>>16&255,p[v+2]=A>>8&255,p[v+3]=255&A}function Qe(p,v){return p[v+0]|p[v+1]<<8}function et(p,v){return Qe(p,v)|p[v+2]<<16}function je(p,v){return Qe(p,v)|Qe(p,v+2)<<16}function H(p,v){var A=1<<v;return e(p!=null),e(0<v),p.X=o(A),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function Me(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),i(v.X,0,p.X,0,1<<v.Xa)}function tt(){this.X=[],this.Xa=this.Mb=0}function Ze(p,v,A,O){e(A!=null),e(O!=null);var z=A[0],Y=O[0];return z==0&&(z=(p*Y+v/2)/v),Y==0&&(Y=(v*z+p/2)/p),0>=z||0>=Y?0:(A[0]=z,O[0]=Y,1)}function Ne(p,v){return p+(1<<v)-1>>>v}function nt(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function it(p,v){V[v]=function(A,O,z,Y,Z,ee,ne){var oe;for(oe=0;oe<Z;++oe){var ve=V[p](ee[ne+oe-1],z,Y+oe);ee[ne+oe]=nt(A[O+oe],ve)}}}function ut(){this.ud=this.hd=this.jd=0}function ht(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Mt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Xt(p,v){return Mt(p+(p-v+.5>>1))}function It(p,v,A){return Math.abs(v-A)-Math.abs(p-A)}function Vt(p,v,A,O,z,Y,Z){for(O=Y[Z-1],A=0;A<z;++A)Y[Z+A]=O=nt(p[v+A],O)}function Re(p,v,A,O,z){var Y;for(Y=0;Y<A;++Y){var Z=p[v+Y],ee=Z>>8&255,ne=16711935&(ne=(ne=16711935&Z)+((ee<<16)+ee));O[z+Y]=(4278255360&Z)+ne>>>0}}function Ge(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function st(p,v,A,O,z,Y){var Z;for(Z=0;Z<O;++Z){var ee=v[A+Z],ne=ee>>>8,oe=ee,ve=255&(ve=(ve=ee>>>16)+((p.jd<<24>>24)*(ne<<24>>24)>>>5));oe=255&(oe=(oe+=(p.hd<<24>>24)*(ne<<24>>24)>>>5)+((p.ud<<24>>24)*(ve<<24>>24)>>>5)),z[Y+Z]=(4278255360&ee)+(ve<<16)+oe}}function rt(p,v,A,O,z){V[v]=function(Y,Z,ee,ne,oe,ve,ke,ae,ye){for(ne=ke;ne<ae;++ne)for(ke=0;ke<ye;++ke)oe[ve++]=z(ee[O(Y[Z++])])},V[p]=function(Y,Z,ee,ne,oe,ve,ke){var ae=8>>Y.b,ye=Y.Ea,Ce=Y.K[0],Be=Y.w;if(8>ae)for(Y=(1<<Y.b)-1,Be=(1<<ae)-1;Z<ee;++Z){var Ee,Fe=0;for(Ee=0;Ee<ye;++Ee)Ee&Y||(Fe=O(ne[oe++])),ve[ke++]=z(Ce[Fe&Be]),Fe>>=ae}else V["VP8LMapColor"+A](ne,oe,Ce,Be,ve,ke,Z,ee,ye)}}function Gt(p,v,A,O,z){for(A=v+A;v<A;){var Y=p[v++];O[z++]=Y>>16&255,O[z++]=Y>>8&255,O[z++]=255&Y}}function Ct(p,v,A,O,z){for(A=v+A;v<A;){var Y=p[v++];O[z++]=Y>>16&255,O[z++]=Y>>8&255,O[z++]=255&Y,O[z++]=Y>>24&255}}function pt(p,v,A,O,z){for(A=v+A;v<A;){var Y=(Z=p[v++])>>16&240|Z>>12&15,Z=240&Z|Z>>28&15;O[z++]=Y,O[z++]=Z}}function dt(p,v,A,O,z){for(A=v+A;v<A;){var Y=(Z=p[v++])>>16&248|Z>>13&7,Z=Z>>5&224|Z>>3&31;O[z++]=Y,O[z++]=Z}}function At(p,v,A,O,z){for(A=v+A;v<A;){var Y=p[v++];O[z++]=255&Y,O[z++]=Y>>8&255,O[z++]=Y>>16&255}}function lt(p,v,A,O,z,Y){if(Y==0)for(A=v+A;v<A;)Ue(O,((Y=p[v++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),z+=32;else i(O,z,p,v,A)}function Ft(p,v){V[v][0]=V[p+"0"],V[v][1]=V[p+"1"],V[v][2]=V[p+"2"],V[v][3]=V[p+"3"],V[v][4]=V[p+"4"],V[v][5]=V[p+"5"],V[v][6]=V[p+"6"],V[v][7]=V[p+"7"],V[v][8]=V[p+"8"],V[v][9]=V[p+"9"],V[v][10]=V[p+"10"],V[v][11]=V[p+"11"],V[v][12]=V[p+"12"],V[v][13]=V[p+"13"],V[v][14]=V[p+"0"],V[v][15]=V[p+"0"]}function bt(p){return p==Uc||p==Lu||p==Il||p==Mu}function ct(){this.eb=[],this.size=this.A=this.fb=0}function Kt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ft(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ct,this.f.kb=new Kt,this.sd=null}function ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Rn(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function _e(p,v){var A=p.T,O=v.ba.f.RGBA,z=O.eb,Y=O.fb+p.ka*O.A,Z=ai[v.ba.S],ee=p.y,ne=p.O,oe=p.f,ve=p.N,ke=p.ea,ae=p.W,ye=v.cc,Ce=v.dc,Be=v.Mc,Ee=v.Nc,Fe=p.ka,Pe=p.ka+p.T,Je=p.U,Ye=Je+1>>1;for(Fe==0?Z(ee,ne,null,null,oe,ve,ke,ae,oe,ve,ke,ae,z,Y,null,null,Je):(Z(v.ec,v.fc,ee,ne,ye,Ce,Be,Ee,oe,ve,ke,ae,z,Y-O.A,z,Y,Je),++A);Fe+2<Pe;Fe+=2)ye=oe,Ce=ve,Be=ke,Ee=ae,ve+=p.Rc,ae+=p.Rc,Y+=2*O.A,Z(ee,(ne+=2*p.fa)-p.fa,ee,ne,ye,Ce,Be,Ee,oe,ve,ke,ae,z,Y-O.A,z,Y,Je);return ne+=p.fa,p.j+Pe<p.o?(i(v.ec,v.fc,ee,ne,Je),i(v.cc,v.dc,oe,ve,Ye),i(v.Mc,v.Nc,ke,ae,Ye),A--):1&Pe||Z(ee,ne,null,null,oe,ve,ke,ae,oe,ve,ke,ae,z,Y+O.A,null,null,Je),A}function Ie(p,v,A){var O=p.F,z=[p.J];if(O!=null){var Y=p.U,Z=v.ba.S,ee=Z==Pc||Z==Il;v=v.ba.f.RGBA;var ne=[0],oe=p.ka;ne[0]=p.T,p.Kb&&(oe==0?--ne[0]:(--oe,z[0]-=p.width),p.j+p.ka+p.T==p.o&&(ne[0]=p.o-p.j-oe));var ve=v.eb;oe=v.fb+oe*v.A,p=Fc(O,z[0],p.width,Y,ne,ve,oe+(ee?0:3),v.A),e(A==ne),p&&bt(Z)&&Xo(ve,oe,ee,Y,ne,v.A)}return 0}function Xe(p){var v=p.ma,A=v.ba.S,O=11>A,z=A==pi||A==fs||A==Pc||A==Rl||A==12||bt(A);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Ma(v.Oa,p,z?11:12))return 0;if(z&&bt(A)&&Dc(),p.da)alert("todo:use_scaling");else{if(O){if(v.Ib=Rn,p.Kb){if(A=p.U+1>>1,v.memory=o(p.U+2*A),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+A,v.Ib=_e,Dc()}}else alert("todo:EmitYUV");z&&(v.Jb=Ie,O&&Is())}if(O&&!xo){for(p=0;256>p;++p)oi[p]=89858*(p-128)+Bl>>bs,qp[p]=-22014*(p-128)+Bl,Ad[p]=-45773*(p-128),Vu[p]=113618*(p-128)+Bl>>bs;for(p=Qo;p<yo;++p)v=76283*(p-16)+Bl>>bs,zp[p-Qo]=Zi(v,255),Pp[p-Qo]=Zi(v+8>>4,15);xo=1}return 1}function $e(p){var v=p.ma,A=p.U,O=p.T;return e(!(1&p.ka)),0>=A||0>=O?0:(A=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,A),v.Dc+=A,1)}function Nt(p){p.ma.memory=null}function vt(p,v,A,O){return X(p,8)!=47?0:(v[0]=X(p,14)+1,A[0]=X(p,14)+1,O[0]=X(p,1),X(p,3)!=0?0:!p.h)}function Et(p,v){if(4>p)return p+1;var A=p-2>>1;return(2+(1&p)<<A)+X(v,A)+1}function Qt(p,v){return 120<v?v-120:1<=(A=((A=ps[v-1])>>4)*p+(8-(15&A)))?A:1;var A}function Zt(p,v,A){var O=J(A),z=p[v+=255&O].g-8;return 0<z&&(ce(A,A.u+8),O=J(A),v+=p[v].value,v+=O&(1<<z)-1),ce(A,A.u+p[v].g),p[v].value}function dn(p,v,A){return A.g+=p.g,A.value+=p.value<<v>>>0,e(8>=A.g),p.g}function on(p,v,A){var O=p.xc;return e((v=O==0?0:p.vc[p.md*(A>>O)+(v>>O)])<p.Wb),p.Ya[v]}function Ar(p,v,A,O){var z=p.ab,Y=p.c*v,Z=p.C;v=Z+v;var ee=A,ne=O;for(O=p.Ta,A=p.Ua;0<z--;){var oe=p.gc[z],ve=Z,ke=v,ae=ee,ye=ne,Ce=(ne=O,ee=A,oe.Ea);switch(e(ve<ke),e(ke<=oe.nc),oe.hc){case 2:xr(ae,ye,(ke-ve)*Ce,ne,ee);break;case 0:var Be=ve,Ee=ke,Fe=ne,Pe=ee,Je=(yt=oe).Ea;Be==0&&(Ll(ae,ye,null,null,1,Fe,Pe),Vt(ae,ye+1,0,0,Je-1,Fe,Pe+1),ye+=Je,Pe+=Je,++Be);for(var Ye=1<<yt.b,wt=Ye-1,mt=Ne(Je,yt.b),Wt=yt.K,yt=yt.w+(Be>>yt.b)*mt;Be<Ee;){var ln=Wt,$n=yt,en=1;for(Ml(ae,ye,Fe,Pe-Je,1,Fe,Pe);en<Je;){var gt=(en&~wt)+Ye;gt>Je&&(gt=Je),(0,Da[ln[$n++]>>8&15])(ae,ye+ +en,Fe,Pe+en-Je,gt-en,Fe,Pe+en),en=gt}ye+=Je,Pe+=Je,++Be&wt||(yt+=mt)}ke!=oe.nc&&i(ne,ee-Ce,ne,ee+(ke-ve-1)*Ce,Ce);break;case 1:for(Ce=ae,Ee=ye,Je=(ae=oe.Ea)-(Pe=ae&~(Fe=(ye=1<<oe.b)-1)),Be=Ne(ae,oe.b),Ye=oe.K,oe=oe.w+(ve>>oe.b)*Be;ve<ke;){for(wt=Ye,mt=oe,Wt=new ut,yt=Ee+Pe,ln=Ee+ae;Ee<yt;)Ge(wt[mt++],Wt),jl(Wt,Ce,Ee,ye,ne,ee),Ee+=ye,ee+=ye;Ee<ln&&(Ge(wt[mt++],Wt),jl(Wt,Ce,Ee,Je,ne,ee),Ee+=Je,ee+=Je),++ve&Fe||(oe+=Be)}break;case 3:if(ae==ne&&ye==ee&&0<oe.b){for(Ee=ne,ae=Ce=ee+(ke-ve)*Ce-(Pe=(ke-ve)*Ne(oe.Ea,oe.b)),ye=ne,Fe=ee,Be=[],Pe=(Je=Pe)-1;0<=Pe;--Pe)Be[Pe]=ye[Fe+Pe];for(Pe=Je-1;0<=Pe;--Pe)Ee[ae+Pe]=Be[Pe];Cu(oe,ve,ke,ne,Ce,ne,ee)}else Cu(oe,ve,ke,ae,ye,ne,ee)}ee=O,ne=A}ne!=A&&i(O,A,ee,ne,Y)}function qn(p,v){var A=p.V,O=p.Ba+p.c*p.C,z=v-p.C;if(e(v<=p.l.o),e(16>=z),0<z){var Y=p.l,Z=p.Ta,ee=p.Ua,ne=Y.width;if(Ar(p,z,A,O),z=ee=[ee],e((A=p.C)<(O=v)),e(Y.v<Y.va),O>Y.o&&(O=Y.o),A<Y.j){var oe=Y.j-A;A=Y.j,z[0]+=oe*ne}if(A>=O?A=0:(z[0]+=4*Y.v,Y.ka=A-Y.j,Y.U=Y.va-Y.v,Y.T=O-A,A=1),A){if(ee=ee[0],11>(A=p.ca).S){var ve=A.f.RGBA,ke=(O=A.S,z=Y.U,Y=Y.T,oe=ve.eb,ve.A),ae=Y;for(ve=ve.fb+p.Ma*ve.A;0<ae--;){var ye=Z,Ce=ee,Be=z,Ee=oe,Fe=ve;switch(O){case ku:Dl(ye,Ce,Be,Ee,Fe);break;case pi:Ra(ye,Ce,Be,Ee,Fe);break;case Uc:Ra(ye,Ce,Be,Ee,Fe),Xo(Ee,Fe,0,Be,1,0);break;case Ou:Wo(ye,Ce,Be,Ee,Fe);break;case fs:lt(ye,Ce,Be,Ee,Fe,1);break;case Lu:lt(ye,Ce,Be,Ee,Fe,1),Xo(Ee,Fe,0,Be,1,0);break;case Pc:lt(ye,Ce,Be,Ee,Fe,0);break;case Il:lt(ye,Ce,Be,Ee,Fe,0),Xo(Ee,Fe,1,Be,1,0);break;case Rl:Ia(ye,Ce,Be,Ee,Fe);break;case Mu:Ia(ye,Ce,Be,Ee,Fe),hs(Ee,Fe,Be,1,0);break;case po:ca(ye,Ce,Be,Ee,Fe);break;default:e(0)}ee+=ne,ve+=ke}p.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=A.height)}}p.C=v,e(p.C<=p.i)}function pn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var A=p.Ya[v].G,O=p.Ya[v].H;if(0<A[1][O[1]+0].g||0<A[2][O[2]+0].g||0<A[3][O[3]+0].g)return 0}return 1}function Cn(p,v,A,O,z,Y){if(p.Z!=0){var Z=p.qd,ee=p.rd;for(e(Ba[p.Z]!=null);v<A;++v)Ba[p.Z](Z,ee,O,z,O,z,Y),Z=O,ee=z,z+=Y;p.qd=Z,p.rd=ee}}function br(p,v){var A=p.l.ma,O=A.Z==0||A.Z==1?p.l.j:p.C;if(O=p.C<O?O:p.C,e(v<=p.l.o),v>O){var z=p.l.width,Y=A.ca,Z=A.tb+z*O,ee=p.V,ne=p.Ba+p.c*O,oe=p.gc;e(p.ab==1),e(oe[0].hc==3),la(oe[0],O,v,ee,ne,Y,Z),Cn(A,O,v,Y,Z,z)}p.C=p.Ma=v}function Hr(p,v,A,O,z,Y,Z){var ee=p.$/O,ne=p.$%O,oe=p.m,ve=p.s,ke=A+p.$,ae=ke;z=A+O*z;var ye=A+O*Y,Ce=280+ve.ua,Be=p.Pb?ee:16777216,Ee=0<ve.ua?ve.Wa:null,Fe=ve.wc,Pe=ke<ye?on(ve,ne,ee):null;e(p.C<Y),e(ye<=z);var Je=!1;e:for(;;){for(;Je||ke<ye;){var Ye=0;if(ee>=Be){var wt=ke-A;e((Be=p).Pb),Be.wd=Be.m,Be.xd=wt,0<Be.s.ua&&Me(Be.s.Wa,Be.s.vb),Be=ee+mo}if(ne&Fe||(Pe=on(ve,ne,ee)),e(Pe!=null),Pe.Qb&&(v[ke]=Pe.qb,Je=!0),!Je)if(pe(oe),Pe.jc){Ye=oe,wt=v;var mt=ke,Wt=Pe.pd[J(Ye)&fo-1];e(Pe.jc),256>Wt.g?(ce(Ye,Ye.u+Wt.g),wt[mt]=Wt.value,Ye=0):(ce(Ye,Ye.u+Wt.g-256),e(256<=Wt.value),Ye=Wt.value),Ye==0&&(Je=!0)}else Ye=Zt(Pe.G[0],Pe.H[0],oe);if(oe.h)break;if(Je||256>Ye){if(!Je)if(Pe.nd)v[ke]=(Pe.qb|Ye<<8)>>>0;else{if(pe(oe),Je=Zt(Pe.G[1],Pe.H[1],oe),pe(oe),wt=Zt(Pe.G[2],Pe.H[2],oe),mt=Zt(Pe.G[3],Pe.H[3],oe),oe.h)break;v[ke]=(mt<<24|Je<<16|Ye<<8|wt)>>>0}if(Je=!1,++ke,++ne>=O&&(ne=0,++ee,Z!=null&&ee<=Y&&!(ee%16)&&Z(p,ee),Ee!=null))for(;ae<ke;)Ye=v[ae++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye}else if(280>Ye){if(Ye=Et(Ye-256,oe),wt=Zt(Pe.G[4],Pe.H[4],oe),pe(oe),wt=Qt(O,wt=Et(wt,oe)),oe.h)break;if(ke-A<wt||z-ke<Ye)break e;for(mt=0;mt<Ye;++mt)v[ke+mt]=v[ke+mt-wt];for(ke+=Ye,ne+=Ye;ne>=O;)ne-=O,++ee,Z!=null&&ee<=Y&&!(ee%16)&&Z(p,ee);if(e(ke<=z),ne&Fe&&(Pe=on(ve,ne,ee)),Ee!=null)for(;ae<ke;)Ye=v[ae++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye}else{if(!(Ye<Ce))break e;for(Je=Ye-280,e(Ee!=null);ae<ke;)Ye=v[ae++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye;Ye=ke,e(!(Je>>>(wt=Ee).Xa)),v[Ye]=wt.X[Je],Je=!0}Je||e(oe.h==re(oe))}if(p.Pb&&oe.h&&ke<z)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Me(p.s.vb,p.s.Wa);else{if(oe.h)break e;Z?.(p,ee>Y?Y:ee),p.a=0,p.$=ke-A}return 1}return p.a=3,0}function Gr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function Qs(){var p=new Ut;return p==null?null:(p.a=0,p.xb=Yh,Ft("Predictor","VP8LPredictors"),Ft("Predictor","VP8LPredictors_C"),Ft("PredictorAdd","VP8LPredictorsAdd"),Ft("PredictorAdd","VP8LPredictorsAdd_C"),xr=Re,jl=st,Dl=Gt,Ra=Ct,Ia=pt,ca=dt,Wo=At,V.VP8LMapColor32b=oa,V.VP8LMapColor8b=ri,p)}function os(p,v,A,O,z){var Y=1,Z=[p],ee=[v],ne=O.m,oe=O.s,ve=null,ke=0;e:for(;;){if(A)for(;Y&&X(ne,1);){var ae=Z,ye=ee,Ce=O,Be=1,Ee=Ce.m,Fe=Ce.gc[Ce.ab],Pe=X(Ee,2);if(Ce.Oc&1<<Pe)Y=0;else{switch(Ce.Oc|=1<<Pe,Fe.hc=Pe,Fe.Ea=ae[0],Fe.nc=ye[0],Fe.K=[null],++Ce.ab,e(4>=Ce.ab),Pe){case 0:case 1:Fe.b=X(Ee,3)+2,Be=os(Ne(Fe.Ea,Fe.b),Ne(Fe.nc,Fe.b),0,Ce,Fe.K),Fe.K=Fe.K[0];break;case 3:var Je,Ye=X(Ee,8)+1,wt=16<Ye?0:4<Ye?1:2<Ye?2:3;if(ae[0]=Ne(Fe.Ea,wt),Fe.b=wt,Je=Be=os(Ye,1,0,Ce,Fe.K)){var mt,Wt=Ye,yt=Fe,ln=1<<(8>>yt.b),$n=o(ln);if($n==null)Je=0;else{var en=yt.K[0],gt=yt.w;for($n[0]=yt.K[0][0],mt=1;mt<1*Wt;++mt)$n[mt]=nt(en[gt+mt],$n[mt-1]);for(;mt<4*ln;++mt)$n[mt]=0;yt.K[0]=null,yt.K[0]=$n,Je=1}}Be=Je;break;case 2:break;default:e(0)}Y=Be}}if(Z=Z[0],ee=ee[0],Y&&X(ne,1)&&!(Y=1<=(ke=X(ne,4))&&11>=ke)){O.a=3;break e}var at;if(at=Y)t:{var ir,qt,rn,Mn=O,Fr=Z,li=ee,Un=ke,Tr=A,mi=Mn.m,Er=Mn.s,an=[null],wn=1,sr=0,kn=ms[Un];n:for(;;){if(Tr&&X(mi,1)){var Br=X(mi,3)+2,ar=Ne(Fr,Br),Sn=Ne(li,Br),Sr=ar*Sn;if(!os(ar,Sn,0,Mn,an))break n;for(an=an[0],Er.xc=Br,ir=0;ir<Sr;++ir){var jn=an[ir]>>8&65535;an[ir]=jn,jn>=wn&&(wn=jn+1)}}if(mi.h)break n;for(qt=0;5>qt;++qt){var kr=$o[qt];!qt&&0<Un&&(kr+=1<<Un),sr<kr&&(sr=kr)}var Or=h(wn*kn,te),In=wn,xn=h(In,ue);if(xn==null)var gi=null;else e(65536>=In),gi=xn;var dr=o(sr);if(gi==null||dr==null||Or==null){Mn.a=1;break n}var jt=Or;for(ir=rn=0;ir<wn;++ir){var Dt=gi[ir],An=Dt.G,Fi=Dt.H,ys=0,Ei=1,Lr=0;for(qt=0;5>qt;++qt){kr=$o[qt],An[qt]=jt,Fi[qt]=rn,!qt&&0<Un&&(kr+=1<<Un);i:{var _o,wo=kr,Bu=Mn,Hn=dr,Zh=jt,$h=rn,qu=0,qa=Bu.m,Up=X(qa,1);if(a(Hn,0,0,wo),Up){var Kh=X(qa,1)+1,Qh=X(qa,1),zu=X(qa,Qh==0?1:8);Hn[zu]=1,Kh==2&&(Hn[zu=X(qa,8)]=1);var Xr=1}else{var pr=o(19),Yc=X(qa,4)+4;if(19<Yc){Bu.a=3;var So=0;break i}for(_o=0;_o<Yc;++_o)pr[Hc[_o]]=X(qa,3);var zl=void 0,Jo=void 0,fa=Bu,Pu=pr,Pl=wo,Uu=Hn,Hu=0,za=fa.m,Jh=8,ef=h(128,te);r:for(;I(ef,0,7,Pu,19);){if(X(za,1)){var Nd=2+2*X(za,3);if((zl=2+X(za,Nd))>Pl)break r}else zl=Pl;for(Jo=0;Jo<Pl&&zl--;){pe(za);var tf=ef[0+(127&J(za))];ce(za,za.u+tf.g);var Ao=tf.value;if(16>Ao)Uu[Jo++]=Ao,Ao!=0&&(Jh=Ao);else{var Cd=Ao==16,Td=Ao-16,Ed=Vl[Td],nf=X(za,ds[Td])+Ed;if(Jo+nf>Pl)break r;for(var kd=Cd?Jh:0;0<nf--;)Uu[Jo++]=kd}}Hu=1;break r}Hu||(fa.a=3),Xr=Hu}(Xr=Xr&&!qa.h)&&(qu=I(Zh,$h,8,Hn,wo)),Xr&&qu!=0?So=qu:(Bu.a=3,So=0)}if(So==0)break n;if(Ei&&ju[qt]==1&&(Ei=jt[rn].g==0),ys+=jt[rn].g,rn+=So,3>=qt){var el,Gu=dr[0];for(el=1;el<kr;++el)dr[el]>Gu&&(Gu=dr[el]);Lr+=Gu}}if(Dt.nd=Ei,Dt.Qb=0,Ei&&(Dt.qb=(An[3][Fi[3]+0].value<<24|An[1][Fi[1]+0].value<<16|An[2][Fi[2]+0].value)>>>0,ys==0&&256>An[0][Fi[0]+0].value&&(Dt.Qb=1,Dt.qb+=An[0][Fi[0]+0].value<<8)),Dt.jc=!Dt.Qb&&6>Lr,Dt.jc){var Xc,da=Dt;for(Xc=0;Xc<fo;++Xc){var Pa=Xc,Ua=da.pd[Pa],Wu=da.G[0][da.H[0]+Pa];256<=Wu.value?(Ua.g=Wu.g+256,Ua.value=Wu.value):(Ua.g=0,Ua.value=0,Pa>>=dn(Wu,8,Ua),Pa>>=dn(da.G[1][da.H[1]+Pa],16,Ua),Pa>>=dn(da.G[2][da.H[2]+Pa],0,Ua),dn(da.G[3][da.H[3]+Pa],24,Ua))}}}Er.vc=an,Er.Wb=wn,Er.Ya=gi,Er.yc=Or,at=1;break t}at=0}if(!(Y=at)){O.a=3;break e}if(0<ke){if(oe.ua=1<<ke,!H(oe.Wa,ke)){O.a=1,Y=0;break e}}else oe.ua=0;var Yu=O,tl=Z,Od=ee,Ul=Yu.s,Hl=Ul.xc;if(Yu.c=tl,Yu.i=Od,Ul.md=Ne(tl,Hl),Ul.wc=Hl==0?-1:(1<<Hl)-1,A){O.xb=go;break e}if((ve=o(Z*ee))==null){O.a=1,Y=0;break e}Y=(Y=Hr(O,ve,0,Z,ee,ee,null))&&!ne.h;break e}return Y?(z!=null?z[0]=ve:(e(ve==null),e(A)),O.$=0,A||Gr(oe)):Gr(oe),Y}function Di(p,v){var A=p.c*p.i,O=A+v+16*v;return e(p.c<=v),p.V=o(O),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+A+v,1)}function Ls(p,v){var A=p.C,O=v-A,z=p.V,Y=p.Ba+p.c*A;for(e(v<=p.l.o);0<O;){var Z=16<O?16:O,ee=p.l.ma,ne=p.l.width,oe=ne*Z,ve=ee.ca,ke=ee.tb+ne*A,ae=p.Ta,ye=p.Ua;Ar(p,Z,z,Y),es(ae,ye,ve,ke,oe),Cn(ee,A,A+Z,ve,ke,ne),O-=Z,z+=Z*p.c,A+=Z}e(A==v),p.C=p.Ma=v}function Ri(){this.ub=this.yd=this.td=this.Rb=0}function Wi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Js(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Yi(){this.Yb=(function(){var p=[];return(function v(A,O,z){for(var Y=z[O],Z=0;Z<Y&&(A.push(z.length>O+1?[]:0),!(z.length<O+1));Z++)v(A[Z],O+1,z)})(p,0,[3,11]),p})()}function nr(){this.jb=o(3),this.Wc=c([4,8],Yi),this.Xc=c([4,17],Yi)}function Fo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function wi(){this.ld=this.La=this.dd=this.tc=0}function Xi(){this.Na=this.la=0}function Ms(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function _c(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wc(){this.uc=this.M=this.Nb=0,this.wa=Array(new wi),this.Y=0,this.ya=Array(new _c),this.aa=0,this.l=new xa}function Sc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function gu(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Ri,this.Kc=new Wi,this.ed=new Fo,this.Qa=new Js,this.Ic=this.$c=this.Aa=0,this.D=new wc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,L),this.ia=0,this.pb=h(4,Ms),this.Pa=new nr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Sc),this.Hd=0,this.rb=Array(new Xi),this.sb=0,this.wa=Array(new wi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new _c),this.L=this.aa=0,this.gd=c([4,2],wi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zi(p,v){return 0>p?0:p>v?v:p}function xa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function js(){var p=new gu;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,ts||(ts=lo)),p}function Tn(p,v,A){return p.a==0&&(p.a=v,p.sc=A,p.cb=0),0}function Ac(p,v,A){return 3<=A&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function ea(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return Tn(p,2,"null VP8Io passed to VP8GetHeaders()");var A=v.data,O=v.w,z=v.ha;if(4>z)return Tn(p,7,"Truncated header.");var Y=A[O+0]|A[O+1]<<8|A[O+2]<<16,Z=p.Od;if(Z.Rb=!(1&Y),Z.td=Y>>1&7,Z.yd=Y>>4&1,Z.ub=Y>>5,3<Z.td)return Tn(p,3,"Incorrect keyframe parameters.");if(!Z.yd)return Tn(p,4,"Frame not displayable.");O+=3,z-=3;var ee=p.Kc;if(Z.Rb){if(7>z)return Tn(p,7,"cannot parse picture header");if(!Ac(A,O,z))return Tn(p,3,"Bad code word");ee.c=16383&(A[O+4]<<8|A[O+3]),ee.Td=A[O+4]>>6,ee.i=16383&(A[O+6]<<8|A[O+5]),ee.Ud=A[O+6]>>6,O+=7,z-=7,p.za=ee.c+15>>4,p.Ub=ee.i+15>>4,v.width=ee.c,v.height=ee.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((Y=p.Pa).jb,0,255,Y.jb.length),e((Y=p.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,a(Y.Zb,0,0,Y.Zb.length),a(Y.Lb,0,0,Y.Lb)}if(Z.ub>z)return Tn(p,7,"bad partition length");$(Y=p.m,A,O,Z.ub),O+=Z.ub,z-=Z.ub,Z.Rb&&(ee.Ld=xe(Y),ee.Kd=xe(Y)),ee=p.Qa;var ne,oe=p.Pa;if(e(Y!=null),e(ee!=null),ee.Cb=xe(Y),ee.Cb){if(ee.Bb=xe(Y),xe(Y)){for(ee.Fb=xe(Y),ne=0;4>ne;++ne)ee.Zb[ne]=xe(Y)?se(Y,7):0;for(ne=0;4>ne;++ne)ee.Lb[ne]=xe(Y)?se(Y,6):0}if(ee.Bb)for(ne=0;3>ne;++ne)oe.jb[ne]=xe(Y)?ie(Y,8):255}else ee.Bb=0;if(Y.Ka)return Tn(p,3,"cannot parse segment header");if((ee=p.ed).zd=xe(Y),ee.Tb=ie(Y,6),ee.wb=ie(Y,3),ee.Pc=xe(Y),ee.Pc&&xe(Y)){for(oe=0;4>oe;++oe)xe(Y)&&(ee.vd[oe]=se(Y,6));for(oe=0;4>oe;++oe)xe(Y)&&(ee.od[oe]=se(Y,6))}if(p.L=ee.Tb==0?0:ee.zd?1:2,Y.Ka)return Tn(p,3,"cannot parse filter header");var ve=z;if(z=ne=O,O=ne+ve,ee=ve,p.Xb=(1<<ie(p.m,2))-1,ve<3*(oe=p.Xb))A=7;else{for(ne+=3*oe,ee-=3*oe,ve=0;ve<oe;++ve){var ke=A[z+0]|A[z+1]<<8|A[z+2]<<16;ke>ee&&(ke=ee),$(p.Jc[+ve],A,ne,ke),ne+=ke,ee-=ke,z+=3}$(p.Jc[+oe],A,ne,ee),A=ne<O?0:5}if(A!=0)return Tn(p,A,"cannot parse partitions");for(A=ie(ne=p.m,7),z=xe(ne)?se(ne,4):0,O=xe(ne)?se(ne,4):0,ee=xe(ne)?se(ne,4):0,oe=xe(ne)?se(ne,4):0,ne=xe(ne)?se(ne,4):0,ve=p.Qa,ke=0;4>ke;++ke){if(ve.Cb){var ae=ve.Zb[ke];ve.Fb||(ae+=A)}else{if(0<ke){p.pb[ke]=p.pb[0];continue}ae=A}var ye=p.pb[ke];ye.Sc[0]=gs[Zi(ae+z,127)],ye.Sc[1]=vs[Zi(ae+0,127)],ye.Eb[0]=2*gs[Zi(ae+O,127)],ye.Eb[1]=101581*vs[Zi(ae+ee,127)]>>16,8>ye.Eb[1]&&(ye.Eb[1]=8),ye.Qc[0]=gs[Zi(ae+oe,117)],ye.Qc[1]=vs[Zi(ae+ne,127)],ye.lc=ae+ne}if(!Z.Rb)return Tn(p,4,"Not a key frame.");for(xe(Y),Z=p.Pa,A=0;4>A;++A){for(z=0;8>z;++z)for(O=0;3>O;++O)for(ee=0;11>ee;++ee)oe=Te(Y,Zn[A][z][O][ee])?ie(Y,8):Sd[A][z][O][ee],Z.Wc[A][z].Yb[O][ee]=oe;for(z=0;17>z;++z)Z.Xc[A][z]=Z.Wc[A][cn[z]]}return p.kc=xe(Y),p.kc&&(p.Bd=ie(Y,8)),p.cb=1}function lo(p,v,A,O,z,Y,Z){var ee=v[z].Yb[A];for(A=0;16>z;++z){if(!Te(p,ee[A+0]))return z;for(;!Te(p,ee[A+1]);)if(ee=v[++z].Yb[0],A=0,z==16)return 16;var ne=v[z+1].Yb;if(Te(p,ee[A+2])){var oe=p,ve=0;if(Te(oe,(ae=ee)[(ke=A)+3]))if(Te(oe,ae[ke+6])){for(ee=0,ke=2*(ve=Te(oe,ae[ke+8]))+(ae=Te(oe,ae[ke+9+ve])),ve=0,ae=wd[ke];ae[ee];++ee)ve+=ve+Te(oe,ae[ee]);ve+=3+(8<<ke)}else Te(oe,ae[ke+7])?(ve=7+2*Te(oe,165),ve+=Te(oe,145)):ve=5+Te(oe,159);else ve=Te(oe,ae[ke+4])?3+Te(oe,ae[ke+5]):2;ee=ne[2]}else ve=1,ee=ne[1];ne=Z+Wh[z],0>(oe=p).b&&de(oe);var ke,ae=oe.b,ye=(ke=oe.Ca>>1)-(oe.I>>ae)>>31;--oe.b,oe.Ca+=ye,oe.Ca|=1,oe.I-=(ke+1&ye)<<ae,Y[ne]=((ve^ye)-ye)*O[(0<z)+0]}return 16}function Nc(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Si(p,v,A,O,z){z=p[v+A+32*O]+(z>>3),p[v+A+32*O]=-256&z?0>z?0:255:z}function Ir(p,v,A,O,z,Y){Si(p,v,0,A,O+z),Si(p,v,1,A,O+Y),Si(p,v,2,A,O-Y),Si(p,v,3,A,O-z)}function Nr(p){return(20091*p>>16)+p}function Al(p,v,A,O){var z,Y=0,Z=o(16);for(z=0;4>z;++z){var ee=p[v+0]+p[v+8],ne=p[v+0]-p[v+8],oe=(35468*p[v+4]>>16)-Nr(p[v+12]),ve=Nr(p[v+4])+(35468*p[v+12]>>16);Z[Y+0]=ee+ve,Z[Y+1]=ne+oe,Z[Y+2]=ne-oe,Z[Y+3]=ee-ve,Y+=4,v++}for(z=Y=0;4>z;++z)ee=(p=Z[Y+0]+4)+Z[Y+8],ne=p-Z[Y+8],oe=(35468*Z[Y+4]>>16)-Nr(Z[Y+12]),Si(A,O,0,0,ee+(ve=Nr(Z[Y+4])+(35468*Z[Y+12]>>16))),Si(A,O,1,0,ne+oe),Si(A,O,2,0,ne-oe),Si(A,O,3,0,ee-ve),Y++,O+=32}function vu(p,v,A,O){var z=p[v+0]+4,Y=35468*p[v+4]>>16,Z=Nr(p[v+4]),ee=35468*p[v+1]>>16;Ir(A,O,0,z+Z,p=Nr(p[v+1]),ee),Ir(A,O,1,z+Y,p,ee),Ir(A,O,2,z-Y,p,ee),Ir(A,O,3,z-Z,p,ee)}function Cc(p,v,A,O,z){Al(p,v,A,O),z&&Al(p,v+16,A,O+4)}function Ai(p,v,A,O){Va(p,v+0,A,O,1),Va(p,v+32,A,O+128,1)}function Tc(p,v,A,O){var z;for(p=p[v+0]+4,z=0;4>z;++z)for(v=0;4>v;++v)Si(A,O,v,z,p)}function Ec(p,v,A,O){p[v+0]&&En(p,v+0,A,O),p[v+16]&&En(p,v+16,A,O+4),p[v+32]&&En(p,v+32,A,O+128),p[v+48]&&En(p,v+48,A,O+128+4)}function Ds(p,v,A,O){var z,Y=o(16);for(z=0;4>z;++z){var Z=p[v+0+z]+p[v+12+z],ee=p[v+4+z]+p[v+8+z],ne=p[v+4+z]-p[v+8+z],oe=p[v+0+z]-p[v+12+z];Y[0+z]=Z+ee,Y[8+z]=Z-ee,Y[4+z]=oe+ne,Y[12+z]=oe-ne}for(z=0;4>z;++z)Z=(p=Y[0+4*z]+3)+Y[3+4*z],ee=Y[1+4*z]+Y[2+4*z],ne=Y[1+4*z]-Y[2+4*z],oe=p-Y[3+4*z],A[O+0]=Z+ee>>3,A[O+16]=oe+ne>>3,A[O+32]=Z-ee>>3,A[O+48]=oe-ne>>3,O+=64}function Bo(p,v,A){var O,z=v-32,Y=di,Z=255-p[z-1];for(O=0;O<A;++O){var ee,ne=Y,oe=Z+p[v-1];for(ee=0;ee<A;++ee)p[v+ee]=ne[oe+p[z+ee]];v+=32}}function bu(p,v){Bo(p,v,4)}function yu(p,v){Bo(p,v,8)}function kc(p,v){Bo(p,v,16)}function Oc(p,v){var A;for(A=0;16>A;++A)i(p,v+32*A,p,v-32,16)}function xu(p,v){var A;for(A=16;0<A;--A)a(p,v,p[v-1],16),v+=32}function Ii(p,v,A){var O;for(O=0;16>O;++O)a(v,A+32*O,p,16)}function Rs(p,v){var A,O=16;for(A=0;16>A;++A)O+=p[v-1+32*A]+p[v+A-32];Ii(O>>5,p,v)}function _a(p,v){var A,O=8;for(A=0;16>A;++A)O+=p[v-1+32*A];Ii(O>>4,p,v)}function qo(p,v){var A,O=8;for(A=0;16>A;++A)O+=p[v+A-32];Ii(O>>4,p,v)}function co(p,v){Ii(128,p,v)}function Bt(p,v,A){return p+2*v+A+2>>2}function _u(p,v){var A,O=v-32;for(O=new Uint8Array([Bt(p[O-1],p[O+0],p[O+1]),Bt(p[O+0],p[O+1],p[O+2]),Bt(p[O+1],p[O+2],p[O+3]),Bt(p[O+2],p[O+3],p[O+4])]),A=0;4>A;++A)i(p,v+32*A,O,0,O.length)}function Lc(p,v){var A=p[v-1],O=p[v-1+32],z=p[v-1+64],Y=p[v-1+96];Ue(p,v+0,16843009*Bt(p[v-1-32],A,O)),Ue(p,v+32,16843009*Bt(A,O,z)),Ue(p,v+64,16843009*Bt(O,z,Y)),Ue(p,v+96,16843009*Bt(z,Y,Y))}function wu(p,v){var A,O=4;for(A=0;4>A;++A)O+=p[v+A-32]+p[v-1+32*A];for(O>>=3,A=0;4>A;++A)a(p,v+32*A,O,4)}function $i(p,v){var A=p[v-1+0],O=p[v-1+32],z=p[v-1+64],Y=p[v-1-32],Z=p[v+0-32],ee=p[v+1-32],ne=p[v+2-32],oe=p[v+3-32];p[v+0+96]=Bt(O,z,p[v-1+96]),p[v+1+96]=p[v+0+64]=Bt(A,O,z),p[v+2+96]=p[v+1+64]=p[v+0+32]=Bt(Y,A,O),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Bt(Z,Y,A),p[v+3+64]=p[v+2+32]=p[v+1+0]=Bt(ee,Z,Y),p[v+3+32]=p[v+2+0]=Bt(ne,ee,Z),p[v+3+0]=Bt(oe,ne,ee)}function ti(p,v){var A=p[v+1-32],O=p[v+2-32],z=p[v+3-32],Y=p[v+4-32],Z=p[v+5-32],ee=p[v+6-32],ne=p[v+7-32];p[v+0+0]=Bt(p[v+0-32],A,O),p[v+1+0]=p[v+0+32]=Bt(A,O,z),p[v+2+0]=p[v+1+32]=p[v+0+64]=Bt(O,z,Y),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Bt(z,Y,Z),p[v+3+32]=p[v+2+64]=p[v+1+96]=Bt(Y,Z,ee),p[v+3+64]=p[v+2+96]=Bt(Z,ee,ne),p[v+3+96]=Bt(ee,ne,ne)}function Mc(p,v){var A=p[v-1+0],O=p[v-1+32],z=p[v-1+64],Y=p[v-1-32],Z=p[v+0-32],ee=p[v+1-32],ne=p[v+2-32],oe=p[v+3-32];p[v+0+0]=p[v+1+64]=Y+Z+1>>1,p[v+1+0]=p[v+2+64]=Z+ee+1>>1,p[v+2+0]=p[v+3+64]=ee+ne+1>>1,p[v+3+0]=ne+oe+1>>1,p[v+0+96]=Bt(z,O,A),p[v+0+64]=Bt(O,A,Y),p[v+0+32]=p[v+1+96]=Bt(A,Y,Z),p[v+1+32]=p[v+2+96]=Bt(Y,Z,ee),p[v+2+32]=p[v+3+96]=Bt(Z,ee,ne),p[v+3+32]=Bt(ee,ne,oe)}function zo(p,v){var A=p[v+0-32],O=p[v+1-32],z=p[v+2-32],Y=p[v+3-32],Z=p[v+4-32],ee=p[v+5-32],ne=p[v+6-32],oe=p[v+7-32];p[v+0+0]=A+O+1>>1,p[v+1+0]=p[v+0+64]=O+z+1>>1,p[v+2+0]=p[v+1+64]=z+Y+1>>1,p[v+3+0]=p[v+2+64]=Y+Z+1>>1,p[v+0+32]=Bt(A,O,z),p[v+1+32]=p[v+0+96]=Bt(O,z,Y),p[v+2+32]=p[v+1+96]=Bt(z,Y,Z),p[v+3+32]=p[v+2+96]=Bt(Y,Z,ee),p[v+3+64]=Bt(Z,ee,ne),p[v+3+96]=Bt(ee,ne,oe)}function Ki(p,v){var A=p[v-1+0],O=p[v-1+32],z=p[v-1+64],Y=p[v-1+96];p[v+0+0]=A+O+1>>1,p[v+2+0]=p[v+0+32]=O+z+1>>1,p[v+2+32]=p[v+0+64]=z+Y+1>>1,p[v+1+0]=Bt(A,O,z),p[v+3+0]=p[v+1+32]=Bt(O,z,Y),p[v+3+32]=p[v+1+64]=Bt(z,Y,Y),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=Y}function Po(p,v){var A=p[v-1+0],O=p[v-1+32],z=p[v-1+64],Y=p[v-1+96],Z=p[v-1-32],ee=p[v+0-32],ne=p[v+1-32],oe=p[v+2-32];p[v+0+0]=p[v+2+32]=A+Z+1>>1,p[v+0+32]=p[v+2+64]=O+A+1>>1,p[v+0+64]=p[v+2+96]=z+O+1>>1,p[v+0+96]=Y+z+1>>1,p[v+3+0]=Bt(ee,ne,oe),p[v+2+0]=Bt(Z,ee,ne),p[v+1+0]=p[v+3+32]=Bt(A,Z,ee),p[v+1+32]=p[v+3+64]=Bt(O,A,Z),p[v+1+64]=p[v+3+96]=Bt(z,O,A),p[v+1+96]=Bt(Y,z,O)}function ta(p,v){var A;for(A=0;8>A;++A)i(p,v+32*A,p,v-32,8)}function Su(p,v){var A;for(A=0;8>A;++A)a(p,v,p[v-1],8),v+=32}function ls(p,v,A){var O;for(O=0;8>O;++O)a(v,A+32*O,p,8)}function Nl(p,v){var A,O=8;for(A=0;8>A;++A)O+=p[v+A-32]+p[v-1+32*A];ls(O>>4,p,v)}function Cl(p,v){var A,O=4;for(A=0;8>A;++A)O+=p[v+A-32];ls(O>>3,p,v)}function Wr(p,v){var A,O=4;for(A=0;8>A;++A)O+=p[v-1+32*A];ls(O>>3,p,v)}function na(p,v){ls(128,p,v)}function cs(p,v,A){var O=p[v-A],z=p[v+0],Y=3*(z-O)+Fa[1020+p[v-2*A]-p[v+A]],Z=zc[112+(Y+4>>3)];p[v-A]=di[255+O+zc[112+(Y+3>>3)]],p[v+0]=di[255+z-Z]}function wa(p,v,A,O){var z=p[v+0],Y=p[v+A];return ii[255+p[v-2*A]-p[v-A]]>O||ii[255+Y-z]>O}function Tl(p,v,A,O){return 4*ii[255+p[v-A]-p[v+0]]+ii[255+p[v-2*A]-p[v+A]]<=O}function Uo(p,v,A,O,z){var Y=p[v-3*A],Z=p[v-2*A],ee=p[v-A],ne=p[v+0],oe=p[v+A],ve=p[v+2*A],ke=p[v+3*A];return 4*ii[255+ee-ne]+ii[255+Z-oe]>O?0:ii[255+p[v-4*A]-Y]<=z&&ii[255+Y-Z]<=z&&ii[255+Z-ee]<=z&&ii[255+ke-ve]<=z&&ii[255+ve-oe]<=z&&ii[255+oe-ne]<=z}function Sa(p,v,A,O){var z=2*O+1;for(O=0;16>O;++O)Tl(p,v+O,A,z)&&cs(p,v+O,A)}function Aa(p,v,A,O){var z=2*O+1;for(O=0;16>O;++O)Tl(p,v+O*A,1,z)&&cs(p,v+O*A,1)}function Ho(p,v,A,O){var z;for(z=3;0<z;--z)Sa(p,v+=4*A,A,O)}function jc(p,v,A,O){var z;for(z=3;0<z;--z)Aa(p,v+=4,A,O)}function Na(p,v,A,O,z,Y,Z,ee){for(Y=2*Y+1;0<z--;){if(Uo(p,v,A,Y,Z))if(wa(p,v,A,ee))cs(p,v,A);else{var ne=p,oe=v,ve=A,ke=ne[oe-2*ve],ae=ne[oe-ve],ye=ne[oe+0],Ce=ne[oe+ve],Be=ne[oe+2*ve],Ee=27*(Pe=Fa[1020+3*(ye-ae)+Fa[1020+ke-Ce]])+63>>7,Fe=18*Pe+63>>7,Pe=9*Pe+63>>7;ne[oe-3*ve]=di[255+ne[oe-3*ve]+Pe],ne[oe-2*ve]=di[255+ke+Fe],ne[oe-ve]=di[255+ae+Ee],ne[oe+0]=di[255+ye-Ee],ne[oe+ve]=di[255+Ce-Fe],ne[oe+2*ve]=di[255+Be-Pe]}v+=O}}function Ca(p,v,A,O,z,Y,Z,ee){for(Y=2*Y+1;0<z--;){if(Uo(p,v,A,Y,Z))if(wa(p,v,A,ee))cs(p,v,A);else{var ne=p,oe=v,ve=A,ke=ne[oe-ve],ae=ne[oe+0],ye=ne[oe+ve],Ce=zc[112+(4+(Be=3*(ae-ke))>>3)],Be=zc[112+(Be+3>>3)],Ee=Ce+1>>1;ne[oe-2*ve]=di[255+ne[oe-2*ve]+Ee],ne[oe-ve]=di[255+ke+Be],ne[oe+0]=di[255+ae-Ce],ne[oe+ve]=di[255+ye-Ee]}v+=O}}function Au(p,v,A,O,z,Y){Na(p,v,A,1,16,O,z,Y)}function Ta(p,v,A,O,z,Y){Na(p,v,1,A,16,O,z,Y)}function Nu(p,v,A,O,z,Y){var Z;for(Z=3;0<Z;--Z)Ca(p,v+=4*A,A,1,16,O,z,Y)}function _(p,v,A,O,z,Y){var Z;for(Z=3;0<Z;--Z)Ca(p,v+=4,1,A,16,O,z,Y)}function q(p,v,A,O,z,Y,Z,ee){Na(p,v,z,1,8,Y,Z,ee),Na(A,O,z,1,8,Y,Z,ee)}function le(p,v,A,O,z,Y,Z,ee){Na(p,v,1,z,8,Y,Z,ee),Na(A,O,1,z,8,Y,Z,ee)}function ge(p,v,A,O,z,Y,Z,ee){Ca(p,v+4*z,z,1,8,Y,Z,ee),Ca(A,O+4*z,z,1,8,Y,Z,ee)}function Se(p,v,A,O,z,Y,Z,ee){Ca(p,v+4,1,z,8,Y,Z,ee),Ca(A,O+4,1,z,8,Y,Z,ee)}function ze(){this.ba=new ft,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ke(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function kt(){this.ua=0,this.Wa=new tt,this.vb=new tt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new te}function Ut(){this.xb=this.a=0,this.l=new xa,this.ca=new ft,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new kt,this.ab=0,this.gc=h(4,xt),this.Oc=0}function Jt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bn(p,v,A,O,z,Y,Z){for(p=p==null?0:p[v+0],v=0;v<Z;++v)z[Y+v]=p+A[O+v]&255,p=z[Y+v]}function rr(p,v,A,O,z,Y,Z){var ee;if(p==null)bn(null,null,A,O,z,Y,Z);else for(ee=0;ee<Z;++ee)z[Y+ee]=p[v+ee]+A[O+ee]&255}function yr(p,v,A,O,z,Y,Z){if(p==null)bn(null,null,A,O,z,Y,Z);else{var ee,ne=p[v+0],oe=ne,ve=ne;for(ee=0;ee<Z;++ee)oe=ve+(ne=p[v+ee])-oe,ve=A[O+ee]+(-256&oe?0>oe?0:255:oe)&255,oe=ne,z[Y+ee]=ve}}function zn(p,v,A,O){var z=v.width,Y=v.o;if(e(p!=null&&v!=null),0>A||0>=O||A+O>Y)return null;if(!p.Cc){if(p.ga==null){var Z;if(p.ga=new Jt,(Z=p.ga==null)||(Z=v.width*v.o,e(p.Gb.length==0),p.Gb=o(Z),p.Uc=0,p.Gb==null?Z=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,Z=1),Z=!Z),!Z){Z=p.ga;var ee=p.Fa,ne=p.P,oe=p.qc,ve=p.mb,ke=p.nb,ae=ne+1,ye=oe-1,Ce=Z.l;if(e(ee!=null&&ve!=null&&v!=null),Ba[0]=null,Ba[1]=bn,Ba[2]=rr,Ba[3]=yr,Z.ca=ve,Z.tb=ke,Z.c=v.width,Z.i=v.height,e(0<Z.c&&0<Z.i),1>=oe)v=0;else if(Z.$a=3&ee[ne+0],Z.Z=ee[ne+0]>>2&3,Z.Lc=ee[ne+0]>>4&3,ne=ee[ne+0]>>6&3,0>Z.$a||1<Z.$a||4<=Z.Z||1<Z.Lc||ne)v=0;else if(Ce.put=$e,Ce.ac=Xe,Ce.bc=Nt,Ce.ma=Z,Ce.width=v.width,Ce.height=v.height,Ce.Da=v.Da,Ce.v=v.v,Ce.va=v.va,Ce.j=v.j,Ce.o=v.o,Z.$a)e:{e(Z.$a==1),v=Qs();t:for(;;){if(v==null){v=0;break e}if(e(Z!=null),Z.mc=v,v.c=Z.c,v.i=Z.i,v.l=Z.l,v.l.ma=Z,v.l.width=Z.c,v.l.height=Z.i,v.a=0,fe(v.m,ee,ae,ye),!os(Z.c,Z.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&pn(v.s)?(Z.ic=1,ee=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(ee),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(Z.ic=0,v=Di(v,Z.c)),!v))break t;v=1;break e}Z.mc=null,v=0}else v=ye>=Z.c*Z.i;Z=!v}if(Z)return null;p.ga.Lc!=1?p.Ga=0:O=Y-A}e(p.ga!=null),e(A+O<=Y);e:{if(v=(ee=p.ga).c,Y=ee.l.o,ee.$a==0){if(ae=p.rc,ye=p.Vc,Ce=p.Fa,ne=p.P+1+A*v,oe=p.mb,ve=p.nb+A*v,e(ne<=p.P+p.qc),ee.Z!=0)for(e(Ba[ee.Z]!=null),Z=0;Z<O;++Z)Ba[ee.Z](ae,ye,Ce,ne,oe,ve,v),ae=oe,ye=ve,ve+=v,ne+=v;else for(Z=0;Z<O;++Z)i(oe,ve,Ce,ne,v),ae=oe,ye=ve,ve+=v,ne+=v;p.rc=ae,p.Vc=ye}else{if(e(ee.mc!=null),v=A+O,e((Z=ee.mc)!=null),e(v<=Z.i),Z.C>=v)v=1;else if(ee.ic||Is(),ee.ic){ee=Z.V,ae=Z.Ba,ye=Z.c;var Be=Z.i,Ee=(Ce=1,ne=Z.$/ye,oe=Z.$%ye,ve=Z.m,ke=Z.s,Z.$),Fe=ye*Be,Pe=ye*v,Je=ke.wc,Ye=Ee<Pe?on(ke,oe,ne):null;e(Ee<=Fe),e(v<=Be),e(pn(ke));t:for(;;){for(;!ve.h&&Ee<Pe;){if(oe&Je||(Ye=on(ke,oe,ne)),e(Ye!=null),pe(ve),256>(Be=Zt(Ye.G[0],Ye.H[0],ve)))ee[ae+Ee]=Be,++Ee,++oe>=ye&&(oe=0,++ne<=v&&!(ne%16)&&br(Z,ne));else{if(!(280>Be)){Ce=0;break t}Be=Et(Be-256,ve);var wt,mt=Zt(Ye.G[4],Ye.H[4],ve);if(pe(ve),!(Ee>=(mt=Qt(ye,mt=Et(mt,ve)))&&Fe-Ee>=Be)){Ce=0;break t}for(wt=0;wt<Be;++wt)ee[ae+Ee+wt]=ee[ae+Ee+wt-mt];for(Ee+=Be,oe+=Be;oe>=ye;)oe-=ye,++ne<=v&&!(ne%16)&&br(Z,ne);Ee<Pe&&oe&Je&&(Ye=on(ke,oe,ne))}e(ve.h==re(ve))}br(Z,ne>v?v:ne);break t}!Ce||ve.h&&Ee<Fe?(Ce=0,Z.a=ve.h?5:3):Z.$=Ee,v=Ce}else v=Hr(Z,Z.V,Z.Ba,Z.c,Z.i,v,Ls);if(!v){O=0;break e}}A+O>=Y&&(p.Cc=1),O=1}if(!O)return null;if(p.Cc&&((O=p.ga)!=null&&(O.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+A*z}function Vr(p,v,A,O,z,Y){for(;0<z--;){var Z,ee=p,ne=v+(A?1:0),oe=p,ve=v+(A?0:3);for(Z=0;Z<O;++Z){var ke=oe[ve+4*Z];ke!=255&&(ke*=32897,ee[ne+4*Z+0]=ee[ne+4*Z+0]*ke>>23,ee[ne+4*Z+1]=ee[ne+4*Z+1]*ke>>23,ee[ne+4*Z+2]=ee[ne+4*Z+2]*ke>>23)}v+=Y}}function Cr(p,v,A,O,z){for(;0<O--;){var Y;for(Y=0;Y<A;++Y){var Z=p[v+2*Y+0],ee=15&(oe=p[v+2*Y+1]),ne=4369*ee,oe=(240&oe|oe>>4)*ne>>16;p[v+2*Y+0]=(240&Z|Z>>4)*ne>>16&240|(15&Z|Z<<4)*ne>>16>>4&15,p[v+2*Y+1]=240&oe|ee}v+=z}}function ni(p,v,A,O,z,Y,Z,ee){var ne,oe,ve=255;for(oe=0;oe<z;++oe){for(ne=0;ne<O;++ne){var ke=p[v+ne];Y[Z+4*ne]=ke,ve&=ke}v+=A,Z+=ee}return ve!=255}function Ea(p,v,A,O,z){var Y;for(Y=0;Y<z;++Y)A[O+Y]=p[v+Y]>>8}function Is(){Xo=Vr,hs=Cr,Fc=ni,es=Ea}function ka(p,v,A){V[p]=function(O,z,Y,Z,ee,ne,oe,ve,ke,ae,ye,Ce,Be,Ee,Fe,Pe,Je){var Ye,wt=Je-1>>1,mt=ee[ne+0]|oe[ve+0]<<16,Wt=ke[ae+0]|ye[Ce+0]<<16;e(O!=null);var yt=3*mt+Wt+131074>>2;for(v(O[z+0],255&yt,yt>>16,Be,Ee),Y!=null&&(yt=3*Wt+mt+131074>>2,v(Y[Z+0],255&yt,yt>>16,Fe,Pe)),Ye=1;Ye<=wt;++Ye){var ln=ee[ne+Ye]|oe[ve+Ye]<<16,$n=ke[ae+Ye]|ye[Ce+Ye]<<16,en=mt+ln+Wt+$n+524296,gt=en+2*(ln+Wt)>>3;yt=gt+mt>>1,mt=(en=en+2*(mt+$n)>>3)+ln>>1,v(O[z+2*Ye-1],255&yt,yt>>16,Be,Ee+(2*Ye-1)*A),v(O[z+2*Ye-0],255&mt,mt>>16,Be,Ee+(2*Ye-0)*A),Y!=null&&(yt=en+Wt>>1,mt=gt+$n>>1,v(Y[Z+2*Ye-1],255&yt,yt>>16,Fe,Pe+(2*Ye-1)*A),v(Y[Z+2*Ye+0],255&mt,mt>>16,Fe,Pe+(2*Ye+0)*A)),mt=ln,Wt=$n}1&Je||(yt=3*mt+Wt+131074>>2,v(O[z+Je-1],255&yt,yt>>16,Be,Ee+(Je-1)*A),Y!=null&&(yt=3*Wt+mt+131074>>2,v(Y[Z+Je-1],255&yt,yt>>16,Fe,Pe+(Je-1)*A)))}}function Dc(){ai[ku]=Ko,ai[pi]=Fl,ai[Ou]=Xh,ai[fs]=Ru,ai[Pc]=vo,ai[Rl]=ha,ai[po]=bo,ai[Uc]=Fl,ai[Lu]=Ru,ai[Il]=vo,ai[Mu]=ha}function El(p){return p&-16384?0>p?0:255:p>>Iu}function ra(p,v){return El((19077*p>>8)+(26149*v>>8)-14234)}function Vs(p,v,A){return El((19077*p>>8)-(6419*v>>8)-(13320*A>>8)+8708)}function Go(p,v){return El((19077*p>>8)+(33050*v>>8)-17685)}function Oa(p,v,A,O,z){O[z+0]=ra(p,A),O[z+1]=Vs(p,v,A),O[z+2]=Go(p,v)}function Yr(p,v,A,O,z){O[z+0]=Go(p,v),O[z+1]=Vs(p,v,A),O[z+2]=ra(p,A)}function uo(p,v,A,O,z){var Y=Vs(p,v,A);v=Y<<3&224|Go(p,v)>>3,O[z+0]=248&ra(p,A)|Y>>5,O[z+1]=v}function ho(p,v,A,O,z){var Y=240&Go(p,v)|15;O[z+0]=240&ra(p,A)|Vs(p,v,A)>>4,O[z+1]=Y}function kl(p,v,A,O,z){O[z+0]=255,Oa(p,v,A,O,z+1)}function ia(p,v,A,O,z){Yr(p,v,A,O,z),O[z+3]=255}function Ni(p,v,A,O,z){Oa(p,v,A,O,z),O[z+3]=255}function La(p,v,A){V[p]=function(O,z,Y,Z,ee,ne,oe,ve,ke){for(var ae=ve+(-2&ke)*A;ve!=ae;)v(O[z+0],Y[Z+0],ee[ne+0],oe,ve),v(O[z+1],Y[Z+0],ee[ne+0],oe,ve+A),z+=2,++Z,++ne,ve+=2*A;1&ke&&v(O[z+0],Y[Z+0],ee[ne+0],oe,ve)}}function Ol(p,v,A){return A==0?p==0?v==0?6:5:v==0?4:0:A}function Rc(p,v,A,O,z){switch(p>>>30){case 3:Va(v,A,O,z,0);break;case 2:fi(v,A,O,z);break;case 1:En(v,A,O,z)}}function Qi(p,v){var A,O,z=v.M,Y=v.Nb,Z=p.oc,ee=p.pc+40,ne=p.oc,oe=p.pc+584,ve=p.oc,ke=p.pc+600;for(A=0;16>A;++A)Z[ee+32*A-1]=129;for(A=0;8>A;++A)ne[oe+32*A-1]=129,ve[ke+32*A-1]=129;for(0<z?Z[ee-1-32]=ne[oe-1-32]=ve[ke-1-32]=129:(a(Z,ee-32-1,127,21),a(ne,oe-32-1,127,9),a(ve,ke-32-1,127,9)),O=0;O<p.za;++O){var ae=v.ya[v.aa+O];if(0<O){for(A=-1;16>A;++A)i(Z,ee+32*A-4,Z,ee+32*A+12,4);for(A=-1;8>A;++A)i(ne,oe+32*A-4,ne,oe+32*A+4,4),i(ve,ke+32*A-4,ve,ke+32*A+4,4)}var ye=p.Gd,Ce=p.Hd+O,Be=ae.ad,Ee=ae.Hc;if(0<z&&(i(Z,ee-32,ye[Ce].y,0,16),i(ne,oe-32,ye[Ce].f,0,8),i(ve,ke-32,ye[Ce].ea,0,8)),ae.Za){var Fe=Z,Pe=ee-32+16;for(0<z&&(O>=p.za-1?a(Fe,Pe,ye[Ce].y[15],4):i(Fe,Pe,ye[Ce+1].y,0,4)),A=0;4>A;A++)Fe[Pe+128+A]=Fe[Pe+256+A]=Fe[Pe+384+A]=Fe[Pe+0+A];for(A=0;16>A;++A,Ee<<=2)Fe=Z,Pe=ee+wr[A],fr[ae.Ob[A]](Fe,Pe),Rc(Ee,Be,16*+A,Fe,Pe)}else if(Fe=Ol(O,z,ae.Ob[0]),Ti[Fe](Z,ee),Ee!=0)for(A=0;16>A;++A,Ee<<=2)Rc(Ee,Be,16*+A,Z,ee+wr[A]);for(A=ae.Gc,Fe=Ol(O,z,ae.Dd),zs[Fe](ne,oe),zs[Fe](ve,ke),Ee=Be,Fe=ne,Pe=oe,255&(ae=0|A)&&(170&ae?us(Ee,256,Fe,Pe):yn(Ee,256,Fe,Pe)),ae=ve,Ee=ke,255&(A>>=8)&&(170&A?us(Be,320,ae,Ee):yn(Be,320,ae,Ee)),z<p.Ub-1&&(i(ye[Ce].y,0,Z,ee+480,16),i(ye[Ce].f,0,ne,oe+224,8),i(ye[Ce].ea,0,ve,ke+224,8)),A=8*Y*p.B,ye=p.sa,Ce=p.ta+16*O+16*Y*p.R,Be=p.qa,ae=p.ra+8*O+A,Ee=p.Ha,Fe=p.Ia+8*O+A,A=0;16>A;++A)i(ye,Ce+A*p.R,Z,ee+32*A,16);for(A=0;8>A;++A)i(Be,ae+A*p.B,ne,oe+32*A,8),i(Ee,Fe+A*p.B,ve,ke+32*A,8)}}function Fs(p,v,A,O,z,Y,Z,ee,ne){var oe=[0],ve=[0],ke=0,ae=ne!=null?ne.kd:0,ye=ne??new Ke;if(p==null||12>A)return 7;ye.data=p,ye.w=v,ye.ha=A,v=[v],A=[A],ye.gb=[ye.gb];e:{var Ce=v,Be=A,Ee=ye.gb;if(e(p!=null),e(Be!=null),e(Ee!=null),Ee[0]=0,12<=Be[0]&&!t(p,Ce[0],"RIFF")){if(t(p,Ce[0]+8,"WEBP")){Ee=3;break e}var Fe=je(p,Ce[0]+4);if(12>Fe||4294967286<Fe){Ee=3;break e}if(ae&&Fe>Be[0]-8){Ee=7;break e}Ee[0]=Fe,Ce[0]+=12,Be[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Fe=0<ye.gb[0],A=A[0];;){e:{var Pe=p;Be=v,Ee=A;var Je=oe,Ye=ve,wt=Ce=[0];if((yt=ke=[ke])[0]=0,8>Ee[0])Ee=7;else{if(!t(Pe,Be[0],"VP8X")){if(je(Pe,Be[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var mt=je(Pe,Be[0]+8),Wt=1+et(Pe,Be[0]+12);if(2147483648<=Wt*(Pe=1+et(Pe,Be[0]+15))){Ee=3;break e}wt!=null&&(wt[0]=mt),Je!=null&&(Je[0]=Wt),Ye!=null&&(Ye[0]=Pe),Be[0]+=18,Ee[0]-=18,yt[0]=1}Ee=0}}if(ke=ke[0],Ce=Ce[0],Ee!=0)return Ee;if(Be=!!(2&Ce),!Fe&&ke)return 3;if(Y!=null&&(Y[0]=!!(16&Ce)),Z!=null&&(Z[0]=Be),ee!=null&&(ee[0]=0),Z=oe[0],Ce=ve[0],ke&&Be&&ne==null){Ee=0;break}if(4>A){Ee=7;break}if(Fe&&ke||!Fe&&!ke&&!t(p,v[0],"ALPH")){A=[A],ye.na=[ye.na],ye.P=[ye.P],ye.Sa=[ye.Sa];e:{mt=p,Ee=v,Fe=A;var yt=ye.gb;Je=ye.na,Ye=ye.P,wt=ye.Sa,Wt=22,e(mt!=null),e(Fe!=null),Pe=Ee[0];var ln=Fe[0];for(e(Je!=null),e(wt!=null),Je[0]=null,Ye[0]=null,wt[0]=0;;){if(Ee[0]=Pe,Fe[0]=ln,8>ln){Ee=7;break e}var $n=je(mt,Pe+4);if(4294967286<$n){Ee=3;break e}var en=8+$n+1&-2;if(Wt+=en,0<yt&&Wt>yt){Ee=3;break e}if(!t(mt,Pe,"VP8 ")||!t(mt,Pe,"VP8L")){Ee=0;break e}if(ln[0]<en){Ee=7;break e}t(mt,Pe,"ALPH")||(Je[0]=mt,Ye[0]=Pe+8,wt[0]=$n),Pe+=en,ln-=en}}if(A=A[0],ye.na=ye.na[0],ye.P=ye.P[0],ye.Sa=ye.Sa[0],Ee!=0)break}A=[A],ye.Ja=[ye.Ja],ye.xa=[ye.xa];e:if(yt=p,Ee=v,Fe=A,Je=ye.gb[0],Ye=ye.Ja,wt=ye.xa,mt=Ee[0],Pe=!t(yt,mt,"VP8 "),Wt=!t(yt,mt,"VP8L"),e(yt!=null),e(Fe!=null),e(Ye!=null),e(wt!=null),8>Fe[0])Ee=7;else{if(Pe||Wt){if(yt=je(yt,mt+4),12<=Je&&yt>Je-12){Ee=3;break e}if(ae&&yt>Fe[0]-8){Ee=7;break e}Ye[0]=yt,Ee[0]+=8,Fe[0]-=8,wt[0]=Wt}else wt[0]=5<=Fe[0]&&yt[mt+0]==47&&!(yt[mt+4]>>5),Ye[0]=Fe[0];Ee=0}if(A=A[0],ye.Ja=ye.Ja[0],ye.xa=ye.xa[0],v=v[0],Ee!=0)break;if(4294967286<ye.Ja)return 3;if(ee==null||Be||(ee[0]=ye.xa?2:1),Z=[Z],Ce=[Ce],ye.xa){if(5>A){Ee=7;break}ee=Z,ae=Ce,Be=Y,p==null||5>A?p=0:5<=A&&p[v+0]==47&&!(p[v+4]>>5)?(Fe=[0],yt=[0],Je=[0],fe(Ye=new P,p,v,A),vt(Ye,Fe,yt,Je)?(ee!=null&&(ee[0]=Fe[0]),ae!=null&&(ae[0]=yt[0]),Be!=null&&(Be[0]=Je[0]),p=1):p=0):p=0}else{if(10>A){Ee=7;break}ee=Ce,p==null||10>A||!Ac(p,v+3,A-3)?p=0:(ae=p[v+0]|p[v+1]<<8|p[v+2]<<16,Be=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=ye.Ja||!Be||!p?p=0:(Z&&(Z[0]=Be),ee&&(ee[0]=p),p=1))}if(!p||(Z=Z[0],Ce=Ce[0],ke&&(oe[0]!=Z||ve[0]!=Ce)))return 3;ne!=null&&(ne[0]=ye,ne.offset=v-ne.w,e(4294967286>v-ne.w),e(ne.offset==ne.ha-A));break}return Ee==0||Ee==7&&ke&&ne==null?(Y!=null&&(Y[0]|=ye.na!=null&&0<ye.na.length),O!=null&&(O[0]=Z),z!=null&&(z[0]=Ce),0):Ee}function Ma(p,v,A){var O=v.width,z=v.height,Y=0,Z=0,ee=O,ne=z;if(v.Da=p!=null&&0<p.Da,v.Da&&(ee=p.cd,ne=p.bd,Y=p.v,Z=p.j,11>A||(Y&=-2,Z&=-2),0>Y||0>Z||0>=ee||0>=ne||Y+ee>O||Z+ne>z))return 0;if(v.v=Y,v.j=Z,v.va=Y+ee,v.o=Z+ne,v.U=ee,v.T=ne,v.da=p!=null&&0<p.da,v.da){if(!Ze(ee,ne,A=[p.ib],Y=[p.hb]))return 0;v.ib=A[0],v.hb=Y[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*O/4&&v.hb<3*z/4,v.Kb=0),1}function Ic(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Bs(p,v,A,O){if(O==null||0>=p||0>=v)return 2;if(A!=null){if(A.Da){var z=A.cd,Y=A.bd,Z=-2&A.v,ee=-2&A.j;if(0>Z||0>ee||0>=z||0>=Y||Z+z>p||ee+Y>v)return 2;p=z,v=Y}if(A.da){if(!Ze(p,v,z=[A.ib],Y=[A.hb]))return 2;p=z[0],v=Y[0]}}O.width=p,O.height=v;e:{var ne=O.width,oe=O.height;if(p=O.S,0>=ne||0>=oe||!(p>=ku&&13>p))p=2;else{if(0>=O.Rd&&O.sd==null){Z=Y=z=v=0;var ve=(ee=ne*Fu[p])*oe;if(11>p||(Y=(oe+1)/2*(v=(ne+1)/2),p==12&&(Z=(z=ne)*oe)),(oe=o(ve+2*Y+Z))==null){p=1;break e}O.sd=oe,11>p?((ne=O.f.RGBA).eb=oe,ne.fb=0,ne.A=ee,ne.size=ve):((ne=O.f.kb).y=oe,ne.O=0,ne.fa=ee,ne.Fd=ve,ne.f=oe,ne.N=0+ve,ne.Ab=v,ne.Cd=Y,ne.ea=oe,ne.W=0+ve+Y,ne.Db=v,ne.Ed=Y,p==12&&(ne.F=oe,ne.J=0+ve+2*Y),ne.Tc=Z,ne.lb=z)}if(v=1,z=O.S,Y=O.width,Z=O.height,z>=ku&&13>z)if(11>z)p=O.f.RGBA,v&=(ee=Math.abs(p.A))*(Z-1)+Y<=p.size,v&=ee>=Y*Fu[z],v&=p.eb!=null;else{p=O.f.kb,ee=(Y+1)/2,ve=(Z+1)/2,ne=Math.abs(p.fa),oe=Math.abs(p.Ab);var ke=Math.abs(p.Db),ae=Math.abs(p.lb),ye=ae*(Z-1)+Y;v&=ne*(Z-1)+Y<=p.Fd,v&=oe*(ve-1)+ee<=p.Cd,v=(v&=ke*(ve-1)+ee<=p.Ed)&ne>=Y&oe>=ee&ke>=ee,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,z==12&&(v&=ae>=Y,v&=ye<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||A!=null&&A.fd&&(p=Ic(O)),p}var fo=64,Vi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ci=24,sa=32,aa=8,ja=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];it("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(p){return p},V.Predictor2=function(p,v,A){return v[A+0]},V.Predictor3=function(p,v,A){return v[A+1]},V.Predictor4=function(p,v,A){return v[A-1]},V.Predictor5=function(p,v,A){return ht(ht(p,v[A+1]),v[A+0])},V.Predictor6=function(p,v,A){return ht(p,v[A-1])},V.Predictor7=function(p,v,A){return ht(p,v[A+0])},V.Predictor8=function(p,v,A){return ht(v[A-1],v[A+0])},V.Predictor9=function(p,v,A){return ht(v[A+0],v[A+1])},V.Predictor10=function(p,v,A){return ht(ht(p,v[A-1]),ht(v[A+0],v[A+1]))},V.Predictor11=function(p,v,A){var O=v[A+0];return 0>=It(O>>24&255,p>>24&255,(v=v[A-1])>>24&255)+It(O>>16&255,p>>16&255,v>>16&255)+It(O>>8&255,p>>8&255,v>>8&255)+It(255&O,255&p,255&v)?O:p},V.Predictor12=function(p,v,A){var O=v[A+0];return(Mt((p>>24&255)+(O>>24&255)-((v=v[A-1])>>24&255))<<24|Mt((p>>16&255)+(O>>16&255)-(v>>16&255))<<16|Mt((p>>8&255)+(O>>8&255)-(v>>8&255))<<8|Mt((255&p)+(255&O)-(255&v)))>>>0},V.Predictor13=function(p,v,A){var O=v[A-1];return(Xt((p=ht(p,v[A+0]))>>24&255,O>>24&255)<<24|Xt(p>>16&255,O>>16&255)<<16|Xt(p>>8&255,O>>8&255)<<8|Xt(255&p,255&O))>>>0};var Ll=V.PredictorAdd0;V.PredictorAdd1=Vt,it("Predictor2","PredictorAdd2"),it("Predictor3","PredictorAdd3"),it("Predictor4","PredictorAdd4"),it("Predictor5","PredictorAdd5"),it("Predictor6","PredictorAdd6"),it("Predictor7","PredictorAdd7"),it("Predictor8","PredictorAdd8"),it("Predictor9","PredictorAdd9"),it("Predictor10","PredictorAdd10"),it("Predictor11","PredictorAdd11"),it("Predictor12","PredictorAdd12"),it("Predictor13","PredictorAdd13");var Ml=V.PredictorAdd2;rt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),rt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var xr,Cu=V.ColorIndexInverseTransform,oa=V.MapARGB,la=V.VP8LColorIndexInverseTransformAlpha,ri=V.MapAlpha,Da=V.VP8LPredictorsAdd=[];Da.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var jl,Dl,Ra,Ia,ca,Wo,Ji,Va,fi,us,En,yn,Pn,_r,ua,qs,Yo,Vc,Uh,yd,xd,_d,Hh,Gh,Xo,hs,Fc,es,Zo=o(511),Tu=o(2041),Bc=o(225),qc=o(767),Eu=0,Fa=Tu,zc=Bc,di=qc,ii=Zo,ku=0,pi=1,Ou=2,fs=3,Pc=4,Rl=5,po=6,Uc=7,Lu=8,Il=9,Mu=10,ds=[2,3,7],Vl=[3,3,11],$o=[280,256,256,256,40],ju=[0,1,1,1,0],Hc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ps=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ms=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mo=8,gs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ts=null,wd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Wh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Du=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],si=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Zn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ti=[],fr=[],zs=[],go=1,Yh=2,Ba=[],ai=[];ka("UpsampleRgbLinePair",Oa,3),ka("UpsampleBgrLinePair",Yr,3),ka("UpsampleRgbaLinePair",Ni,4),ka("UpsampleBgraLinePair",ia,4),ka("UpsampleArgbLinePair",kl,4),ka("UpsampleRgba4444LinePair",ho,2),ka("UpsampleRgb565LinePair",uo,2);var Ko=V.UpsampleRgbLinePair,Xh=V.UpsampleBgrLinePair,Fl=V.UpsampleRgbaLinePair,Ru=V.UpsampleBgraLinePair,vo=V.UpsampleArgbLinePair,ha=V.UpsampleRgba4444LinePair,bo=V.UpsampleRgb565LinePair,bs=16,Bl=1<<bs-1,Qo=-227,yo=482,Iu=6,xo=0,oi=o(256),Vu=o(256),Ad=o(256),qp=o(256),zp=o(yo-Qo),Pp=o(yo-Qo);La("YuvToRgbRow",Oa,3),La("YuvToBgrRow",Yr,3),La("YuvToRgbaRow",Ni,4),La("YuvToBgraRow",ia,4),La("YuvToArgbRow",kl,4),La("YuvToRgba4444Row",ho,2),La("YuvToRgb565Row",uo,2);var wr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ql=[0,2,8],Gc=[8,7,6,4,4,2,2,2,1,1,1,1],Wc=1;this.WebPDecodeRGBA=function(p,v,A,O,z){var Y=pi,Z=new ze,ee=new ft;Z.ba=ee,ee.S=Y,ee.width=[ee.width],ee.height=[ee.height];var ne=ee.width,oe=ee.height,ve=new ot;if(ve==null||p==null)var ke=2;else e(ve!=null),ke=Fs(p,v,A,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(ke!=0?ne=0:(ne!=null&&(ne[0]=ve.width[0]),oe!=null&&(oe[0]=ve.height[0]),ne=1),ne){ee.width=ee.width[0],ee.height=ee.height[0],O!=null&&(O[0]=ee.width),z!=null&&(z[0]=ee.height);e:{if(O=new xa,(z=new Ke).data=p,z.w=v,z.ha=A,z.kd=1,v=[0],e(z!=null),((p=Fs(z.data,z.w,z.ha,null,null,null,v,null,z))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(Z!=null),O.data=z.data,O.w=z.w+z.offset,O.ha=z.ha-z.offset,O.put=$e,O.ac=Xe,O.bc=Nt,O.ma=Z,z.xa){if((p=Qs())==null){Z=1;break e}if((function(ae,ye){var Ce=[0],Be=[0],Ee=[0];t:for(;;){if(ae==null)return 0;if(ye==null)return ae.a=2,0;if(ae.l=ye,ae.a=0,fe(ae.m,ye.data,ye.w,ye.ha),!vt(ae.m,Ce,Be,Ee)){ae.a=3;break t}if(ae.xb=Yh,ye.width=Ce[0],ye.height=Be[0],!os(Ce[0],Be[0],1,ae,null))break t;return 1}return e(ae.a!=0),0})(p,O)){if(O=(v=Bs(O.width,O.height,Z.Oa,Z.ba))==0){t:{O=p;n:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((A=O.l)!=null),e((z=A.ma)!=null),O.xb!=0){if(O.ca=z.ba,O.tb=z.tb,e(O.ca!=null),!Ma(z.Oa,A,fs)){O.a=2;break n}if(!Di(O,A.width)||A.da)break n;if((A.da||bt(O.ca.S))&&Is(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Is()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!H(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!Hr(O,O.V,O.Ba,O.c,O.i,A.o,qn))break n;z.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(v=p.a)}else v=p.a}else{if((p=new js)==null){Z=1;break e}if(p.Fa=z.na,p.P=z.P,p.qc=z.Sa,ea(p,O)){if((v=Bs(O.width,O.height,Z.Oa,Z.ba))==0){if(p.Aa=0,A=Z.Oa,e((z=p)!=null),A!=null){if(0<(ne=0>(ne=A.Md)?0:100<ne?255:255*ne/100)){for(oe=ve=0;4>oe;++oe)12>(ke=z.pb[oe]).lc&&(ke.ia=ne*Gc[0>ke.lc?0:ke.lc]>>3),ve|=ke.ia;ve&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=A.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(ae,ye){if(ae==null)return 0;if(ye==null)return Tn(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!ea(ae,ye))return 0;if(e(ae.cb),ye.ac==null||ye.ac(ye)){ye.ob&&(ae.L=0);var Ce=ql[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=ye.v-Ce>>4,ae.zb=ye.j-Ce>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=ye.o+15+Ce>>4,ae.Hb=ye.va+15+Ce>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var Be=ae.ed;for(Ce=0;4>Ce;++Ce){var Ee;if(ae.Qa.Cb){var Fe=ae.Qa.Lb[Ce];ae.Qa.Fb||(Fe+=Be.Tb)}else Fe=Be.Tb;for(Ee=0;1>=Ee;++Ee){var Pe=ae.gd[Ce][Ee],Je=Fe;if(Be.Pc&&(Je+=Be.vd[0],Ee&&(Je+=Be.od[0])),0<(Je=0>Je?0:63<Je?63:Je)){var Ye=Je;0<Be.wb&&(Ye=4<Be.wb?Ye>>2:Ye>>1)>9-Be.wb&&(Ye=9-Be.wb),1>Ye&&(Ye=1),Pe.dd=Ye,Pe.tc=2*Je+Ye,Pe.ld=40<=Je?2:15<=Je?1:0}else Pe.tc=0;Pe.La=Ee}}}Ce=0}else Tn(ae,6,"Frame setup failed"),Ce=ae.a;if(Ce=Ce==0){if(Ce){ae.$c=0,0<ae.Aa||(ae.Ic=Wc);t:{Ce=ae.Ic,Be=4*(Ye=ae.za);var wt=32*Ye,mt=Ye+1,Wt=0<ae.L?Ye*(0<ae.Aa?2:1):0,yt=(ae.Aa==2?2:1)*Ye;if((Pe=Be+832+(Ee=3*(16*Ce+ql[ae.L])/2*wt)+(Fe=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=Pe)Ce=0;else{if(Pe>ae.Vb){if(ae.Vb=0,ae.Ec=o(Pe),ae.Fc=0,ae.Ec==null){Ce=Tn(ae,1,"no memory during frame initialization.");break t}ae.Vb=Pe}Pe=ae.Ec,Je=ae.Fc,ae.Ac=Pe,ae.Bc=Je,Je+=Be,ae.Gd=h(wt,Sc),ae.Hd=0,ae.rb=h(mt+1,Xi),ae.sb=1,ae.wa=Wt?h(Wt,wi):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=Ye),e(!0),ae.oc=Pe,ae.pc=Je,Je+=832,ae.ya=h(yt,_c),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=Ye),ae.R=16*Ye,ae.B=8*Ye,Ye=(wt=ql[ae.L])*ae.R,wt=wt/2*ae.B,ae.sa=Pe,ae.ta=Je+Ye,ae.qa=ae.sa,ae.ra=ae.ta+16*Ce*ae.R+wt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Ce*ae.B+wt,ae.$c=0,Je+=Ee,ae.mb=Fe?Pe:null,ae.nb=Fe?Je:null,e(Je+Fe<=ae.Fc+ae.Vb),Nc(ae),a(ae.Ac,ae.Bc,0,Be),Ce=1}}if(Ce){if(ye.ka=0,ye.y=ae.sa,ye.O=ae.ta,ye.f=ae.qa,ye.N=ae.ra,ye.ea=ae.Ha,ye.Vd=ae.Ia,ye.fa=ae.R,ye.Rc=ae.B,ye.F=null,ye.J=0,!Eu){for(Ce=-255;255>=Ce;++Ce)Zo[255+Ce]=0>Ce?-Ce:Ce;for(Ce=-1020;1020>=Ce;++Ce)Tu[1020+Ce]=-128>Ce?-128:127<Ce?127:Ce;for(Ce=-112;112>=Ce;++Ce)Bc[112+Ce]=-16>Ce?-16:15<Ce?15:Ce;for(Ce=-255;510>=Ce;++Ce)qc[255+Ce]=0>Ce?0:255<Ce?255:Ce;Eu=1}Ji=Ds,Va=Cc,us=Ai,En=Tc,yn=Ec,fi=vu,Pn=Au,_r=Ta,ua=q,qs=le,Yo=Nu,Vc=_,Uh=ge,yd=Se,xd=Sa,_d=Aa,Hh=Ho,Gh=jc,fr[0]=wu,fr[1]=bu,fr[2]=_u,fr[3]=Lc,fr[4]=$i,fr[5]=Mc,fr[6]=ti,fr[7]=zo,fr[8]=Po,fr[9]=Ki,Ti[0]=Rs,Ti[1]=kc,Ti[2]=Oc,Ti[3]=xu,Ti[4]=_a,Ti[5]=qo,Ti[6]=co,zs[0]=Nl,zs[1]=yu,zs[2]=ta,zs[3]=Su,zs[4]=Wr,zs[5]=Cl,zs[6]=na,Ce=1}else Ce=0}Ce&&(Ce=(function(ln,$n){for(ln.M=0;ln.M<ln.Va;++ln.M){var en,gt=ln.Jc[ln.M&ln.Xb],at=ln.m,ir=ln;for(en=0;en<ir.za;++en){var qt=at,rn=ir,Mn=rn.Ac,Fr=rn.Bc+4*en,li=rn.zc,Un=rn.ya[rn.aa+en];if(rn.Qa.Bb?Un.$b=Te(qt,rn.Pa.jb[0])?2+Te(qt,rn.Pa.jb[2]):Te(qt,rn.Pa.jb[1]):Un.$b=0,rn.kc&&(Un.Ad=Te(qt,rn.Bd)),Un.Za=!Te(qt,145)+0,Un.Za){var Tr=Un.Ob,mi=0;for(rn=0;4>rn;++rn){var Er,an=li[0+rn];for(Er=0;4>Er;++Er){an=si[Mn[Fr+Er]][an];for(var wn=Du[Te(qt,an[0])];0<wn;)wn=Du[2*wn+Te(qt,an[wn])];an=-wn,Mn[Fr+Er]=an}i(Tr,mi,Mn,Fr,4),mi+=4,li[0+rn]=an}}else an=Te(qt,156)?Te(qt,128)?1:3:Te(qt,163)?2:0,Un.Ob[0]=an,a(Mn,Fr,an,4),a(li,0,an,4);Un.Dd=Te(qt,142)?Te(qt,114)?Te(qt,183)?1:3:2:0}if(ir.m.Ka)return Tn(ln,7,"Premature end-of-partition0 encountered.");for(;ln.ja<ln.za;++ln.ja){if(ir=gt,qt=(at=ln).rb[at.sb-1],Mn=at.rb[at.sb+at.ja],en=at.ya[at.aa+at.ja],Fr=at.kc?en.Ad:0)qt.la=Mn.la=0,en.Za||(qt.Na=Mn.Na=0),en.Hc=0,en.Gc=0,en.ia=0;else{var sr,kn;if(qt=Mn,Mn=ir,Fr=at.Pa.Xc,li=at.ya[at.aa+at.ja],Un=at.pb[li.$b],rn=li.ad,Tr=0,mi=at.rb[at.sb-1],an=Er=0,a(rn,Tr,0,384),li.Za)var Br=0,ar=Fr[3];else{wn=o(16);var Sn=qt.Na+mi.Na;if(Sn=ts(Mn,Fr[1],Sn,Un.Eb,0,wn,0),qt.Na=mi.Na=(0<Sn)+0,1<Sn)Ji(wn,0,rn,Tr);else{var Sr=wn[0]+3>>3;for(wn=0;256>wn;wn+=16)rn[Tr+wn]=Sr}Br=1,ar=Fr[0]}var jn=15&qt.la,kr=15&mi.la;for(wn=0;4>wn;++wn){var Or=1&kr;for(Sr=kn=0;4>Sr;++Sr)jn=jn>>1|(Or=(Sn=ts(Mn,ar,Sn=Or+(1&jn),Un.Sc,Br,rn,Tr))>Br)<<7,kn=kn<<2|(3<Sn?3:1<Sn?2:rn[Tr+0]!=0),Tr+=16;jn>>=4,kr=kr>>1|Or<<7,Er=(Er<<8|kn)>>>0}for(ar=jn,Br=kr>>4,sr=0;4>sr;sr+=2){for(kn=0,jn=qt.la>>4+sr,kr=mi.la>>4+sr,wn=0;2>wn;++wn){for(Or=1&kr,Sr=0;2>Sr;++Sr)Sn=Or+(1&jn),jn=jn>>1|(Or=0<(Sn=ts(Mn,Fr[2],Sn,Un.Qc,0,rn,Tr)))<<3,kn=kn<<2|(3<Sn?3:1<Sn?2:rn[Tr+0]!=0),Tr+=16;jn>>=2,kr=kr>>1|Or<<5}an|=kn<<4*sr,ar|=jn<<4<<sr,Br|=(240&kr)<<sr}qt.la=ar,mi.la=Br,li.Hc=Er,li.Gc=an,li.ia=43690&an?0:Un.ia,Fr=!(Er|an)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[en.$b][en.Za],at.wa[at.Y+at.ja].La|=!Fr),ir.Ka)return Tn(ln,7,"Premature end-of-file encountered.")}if(Nc(ln),at=$n,ir=1,en=(gt=ln).D,qt=0<gt.L&&gt.M>=gt.zb&&gt.M<=gt.Va,gt.Aa==0)t:{if(en.M=gt.M,en.uc=qt,Qi(gt,en),ir=1,en=(kn=gt.D).Nb,qt=(an=ql[gt.L])*gt.R,Mn=an/2*gt.B,wn=16*en*gt.R,Sr=8*en*gt.B,Fr=gt.sa,li=gt.ta-qt+wn,Un=gt.qa,rn=gt.ra-Mn+Sr,Tr=gt.Ha,mi=gt.Ia-Mn+Sr,kr=(jn=kn.M)==0,Er=jn>=gt.Va-1,gt.Aa==2&&Qi(gt,kn),kn.uc)for(Or=(Sn=gt).D.M,e(Sn.D.uc),kn=Sn.yb;kn<Sn.Hb;++kn){Br=kn,ar=Or;var In=(xn=(Lr=Sn).D).Nb;sr=Lr.R;var xn=xn.wa[xn.Y+Br],gi=Lr.sa,dr=Lr.ta+16*In*sr+16*Br,jt=xn.dd,Dt=xn.tc;if(Dt!=0)if(e(3<=Dt),Lr.L==1)0<Br&&_d(gi,dr,sr,Dt+4),xn.La&&Gh(gi,dr,sr,Dt),0<ar&&xd(gi,dr,sr,Dt+4),xn.La&&Hh(gi,dr,sr,Dt);else{var An=Lr.B,Fi=Lr.qa,ys=Lr.ra+8*In*An+8*Br,Ei=Lr.Ha,Lr=Lr.Ia+8*In*An+8*Br;In=xn.ld,0<Br&&(_r(gi,dr,sr,Dt+4,jt,In),qs(Fi,ys,Ei,Lr,An,Dt+4,jt,In)),xn.La&&(Vc(gi,dr,sr,Dt,jt,In),yd(Fi,ys,Ei,Lr,An,Dt,jt,In)),0<ar&&(Pn(gi,dr,sr,Dt+4,jt,In),ua(Fi,ys,Ei,Lr,An,Dt+4,jt,In)),xn.La&&(Yo(gi,dr,sr,Dt,jt,In),Uh(Fi,ys,Ei,Lr,An,Dt,jt,In))}}if(gt.ia&&alert("todo:DitherRow"),at.put!=null){if(kn=16*jn,jn=16*(jn+1),kr?(at.y=gt.sa,at.O=gt.ta+wn,at.f=gt.qa,at.N=gt.ra+Sr,at.ea=gt.Ha,at.W=gt.Ia+Sr):(kn-=an,at.y=Fr,at.O=li,at.f=Un,at.N=rn,at.ea=Tr,at.W=mi),Er||(jn-=an),jn>at.o&&(jn=at.o),at.F=null,at.J=null,gt.Fa!=null&&0<gt.Fa.length&&kn<jn&&(at.J=zn(gt,at,kn,jn-kn),at.F=gt.mb,at.F==null&&at.F.length==0)){ir=Tn(gt,3,"Could not decode alpha data.");break t}kn<at.j&&(an=at.j-kn,kn=at.j,e(!(1&an)),at.O+=gt.R*an,at.N+=gt.B*(an>>1),at.W+=gt.B*(an>>1),at.F!=null&&(at.J+=at.width*an)),kn<jn&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=kn-at.j,at.U=at.va-at.v,at.T=jn-kn,ir=at.put(at))}en+1!=gt.Ic||Er||(i(gt.sa,gt.ta-qt,Fr,li+16*gt.R,qt),i(gt.qa,gt.ra-Mn,Un,rn+8*gt.B,Mn),i(gt.Ha,gt.Ia-Mn,Tr,mi+8*gt.B,Mn))}if(!ir)return Tn(ln,6,"Output aborted.")}return 1})(ae,ye)),ye.bc!=null&&ye.bc(ye),Ce&=1}return Ce?(ae.cb=0,Ce):0})(p,O)||(v=p.a)}}else v=p.a}v==0&&Z.Oa!=null&&Z.Oa.fd&&(v=Ic(Z.ba))}Z=v}Y=Z!=0?null:11>Y?ee.f.RGBA.eb:ee.f.kb.y}else Y=null;return Y};var Fu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(V,K){for(var E="",I=0;I<4;I++)E+=String.fromCharCode(V[K++]);return E}function m(V,K){return V[K+0]|V[K+1]<<8}function y(V,K){return(V[K+0]|V[K+1]<<8|V[K+2]<<16)>>>0}function w(V,K){return(V[K+0]|V[K+1]<<8|V[K+2]<<16|V[K+3]<<24)>>>0}new f;var b=[0],S=[0],N=[],C=new f,T=r,R=(function(V,K){var E={},I=0,te=!1,U=0,ue=0;if(E.frames=[],!(function(L,P){for(var J=0;J<4;J++)if(L[P+J]!="RIFF".charCodeAt(J))return!0;return!1})(V,K)){for(w(V,K+=4),K+=8;K<V.length;){var $=d(V,K),ie=w(V,K+=4);K+=4;var se=ie+(1&ie);switch($){case"VP8 ":case"VP8L":E.frames[I]===void 0&&(E.frames[I]={}),(X=E.frames[I]).src_off=te?ue:K-8,X.src_size=U+ie+8,I++,te&&(te=!1,U=0,ue=0);break;case"VP8X":(X=E.header={}).feature_flags=V[K];var fe=K+4;X.canvas_width=1+y(V,fe),fe+=3,X.canvas_height=1+y(V,fe),fe+=3;break;case"ALPH":te=!0,U=se+8,ue=K-8;break;case"ANIM":(X=E.header).bgcolor=w(V,K),fe=K+4,X.loop_count=m(V,fe),fe+=2;break;case"ANMF":var we,X;(X=E.frames[I]={}).offset_x=2*y(V,K),K+=3,X.offset_y=2*y(V,K),K+=3,X.width=1+y(V,K),K+=3,X.height=1+y(V,K),K+=3,X.duration=y(V,K),K+=3,we=V[K++],X.dispose=1&we,X.blend=we>>1&1}$!="ANMF"&&(K+=se)}return E}})(T,0);R.response=T,R.rgbaoutput=!0,R.dataurl=!1;var D=R.header?R.header:null,F=R.frames?R.frames:null;if(D){D.loop_counter=D.loop_count,b=[D.canvas_height],S=[D.canvas_width];for(var B=0;B<F.length&&F[B].blend!=0;B++);}var W=F[0],G=C.WebPDecodeRGBA(T,W.src_off,W.src_size,S,b);W.rgba=G,W.imgwidth=S[0],W.imgheight=b[0];for(var j=0;j<S[0]*b[0]*4;j++)N[j]=G[j];return this.width=S,this.height=b,this.data=N,this}(function(r){var e,t,i,a,o,h,c,f,d,m=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new f,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new h,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new h,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new y(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,h=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new m}]);var y=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var P=L;Object.defineProperty(this,"pdf",{get:function(){return P}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(H){J=!!H}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(H){re=!!H}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(H){isNaN(H)||(ce=H)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(H){isNaN(H)||(pe=H)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(H){var Me;typeof H=="number"?Me=[H,H,H,H]:((Me=new Array(4))[0]=H[0],Me[1]=H.length>=2?H[1]:Me[0],Me[2]=H.length>=3?H[2]:Me[0],Me[3]=H.length>=4?H[3]:Me[1]),d.margin=Me}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(H){de=H}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(H){xe=H}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(H){Te=H}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(H){H instanceof m&&(d=H)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(H){d.path=H}});var Ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ue},set:function(H){Ue=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var Me;Me=w(H),this.ctx.fillStyle=Me.style,this.ctx.isFillTransparent=Me.a===0,this.ctx.fillOpacity=Me.a,this.pdf.setFillColor(Me.r,Me.g,Me.b,{a:Me.a}),this.pdf.setTextColor(Me.r,Me.g,Me.b,{a:Me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var Me=w(H);this.ctx.strokeStyle=Me.style,this.ctx.isStrokeTransparent=Me.a===0,this.ctx.strokeOpacity=Me.a,Me.a===0?this.pdf.setDrawColor(255,255,255):(Me.a,this.pdf.setDrawColor(Me.r,Me.g,Me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var Qe=null,et=null,je=null;Object.defineProperty(this,"fontFaces",{get:function(){return je},set:function(H){Qe=null,et=null,je=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var Me;if(this.ctx.font=H,(Me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var tt=Me[1];Me[2];var Ze=Me[3],Ne=Me[4];Me[5];var nt=Me[6],it=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(it==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:it==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var ut=(function(rt){var Gt,Ct,pt=[],dt=rt.trim();if(dt==="")return Tm;if(dt in Ly)return[Ly[dt]];for(;dt!=="";){switch(Ct=null,Gt=(dt=jy(dt)).charAt(0)){case'"':case"'":Ct=pL(dt.substring(1),Gt);break;default:Ct=mL(dt)}if(Ct===null||(pt.push(Ct[0]),(dt=jy(Ct[1]))!==""&&dt.charAt(0)!==","))return Tm;dt=dt.replace(/^,/,"")}return pt})(nt);if(this.fontFaces){var ht=(function(rt,Gt){var Ct=rt.getFontList(),pt=JSON.stringify(Ct);if(Qe===null||et!==pt){var dt=(function(At){var lt=[];return Object.keys(At).forEach(function(Ft){At[Ft].forEach(function(bt){var ct=null;switch(bt){case"bold":ct={family:Ft,weight:"bold"};break;case"italic":ct={family:Ft,style:"italic"};break;case"bolditalic":ct={family:Ft,weight:"bold",style:"italic"};break;case"":case"normal":ct={family:Ft}}ct!==null&&(ct.ref={name:Ft,style:bt},lt.push(ct))})}),lt})(Ct);Qe=(function(At){for(var lt={},Ft=0;Ft<At.length;++Ft){var bt=Cm(At[Ft]),ct=bt.family,Kt=bt.stretch,ft=bt.style,ot=bt.weight;lt[ct]=lt[ct]||{},lt[ct][Kt]=lt[ct][Kt]||{},lt[ct][Kt][ft]=lt[ct][Kt][ft]||{},lt[ct][Kt][ft][ot]=bt}return lt})(dt.concat(Gt)),et=pt}return Qe})(this.pdf,this.fontFaces),Mt=ut.map(function(rt){return{family:rt,stretch:"normal",weight:Ze,style:tt}}),Xt=(function(rt,Gt,Ct){for(var pt=(Ct=Ct||{}).defaultFontFamily||"times",dt=Object.assign({},dL,Ct.genericFontFamilies||{}),At=null,lt=null,Ft=0;Ft<Gt.length;++Ft)if(dt[(At=Cm(Gt[Ft])).family]&&(At.family=dt[At.family]),rt.hasOwnProperty(At.family)){lt=rt[At.family];break}if(!(lt=lt||rt[pt]))throw new Error("Could not find a font-family for the rule '"+My(At)+"' and default family '"+pt+"'.");if(lt=(function(bt,ct){if(ct[bt])return ct[bt];var Kt=ag[bt],ft=Kt<=ag.normal?-1:1,ot=Oy(ct,G_,Kt,ft);if(!ot)throw new Error("Could not find a matching font-stretch value for "+bt);return ot})(At.stretch,lt),lt=(function(bt,ct){if(ct[bt])return ct[bt];for(var Kt=H_[bt],ft=0;ft<Kt.length;++ft)if(ct[Kt[ft]])return ct[Kt[ft]];throw new Error("Could not find a matching font-style for "+bt)})(At.style,lt),!(lt=(function(bt,ct){if(ct[bt])return ct[bt];if(bt===400&&ct[500])return ct[500];if(bt===500&&ct[400])return ct[400];var Kt=fL[bt],ft=Oy(ct,W_,Kt,bt<400?-1:1);if(!ft)throw new Error("Could not find a matching font-weight for value "+bt);return ft})(At.weight,lt)))throw new Error("Failed to resolve a font for the rule '"+My(At)+"'.");return lt})(ht,Mt);this.pdf.setFont(Xt.ref.name,Xt.ref.style)}else{var It="";(Ze==="bold"||parseInt(Ze,10)>=700||tt==="bold")&&(It="bold"),tt==="italic"&&(It+="italic"),It.length===0&&(It="normal");for(var Vt="",Re={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ge=0;Ge<ut.length;Ge++){if(this.pdf.internal.getFont(ut[Ge],It,{noFallback:!0,disableWarning:!0})!==void 0){Vt=ut[Ge];break}if(It==="bolditalic"&&this.pdf.internal.getFont(ut[Ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Vt=ut[Ge],It="bold";else if(this.pdf.internal.getFont(ut[Ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Vt=ut[Ge],It="normal";break}}if(Vt===""){for(var st=0;st<ut.length;st++)if(Re[ut[st]]){Vt=Re[ut[st]];break}}Vt=Vt===""?"Times":Vt,this.pdf.setFont(Vt,It)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};y.prototype.setLineDash=function(L){this.lineDash=L},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){F.call(this,"fill",!1)},y.prototype.stroke=function(){F.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(L,P){if(isNaN(L)||isNaN(P))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new h(L,P));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new h(L,P)},y.prototype.closePath=function(){var L=new h(0,0),P=0;for(P=this.path.length-1;P!==-1;P--)if(this.path[P].type==="begin"&&Bn(this.path[P+1])==="object"&&typeof this.path[P+1].x=="number"){L=new h(this.path[P+1].x,this.path[P+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(L.x,L.y)},y.prototype.lineTo=function(L,P){if(isNaN(L)||isNaN(P))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new h(L,P));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new h(J.x,J.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},y.prototype.quadraticCurveTo=function(L,P,J,re){if(isNaN(J)||isNaN(re)||isNaN(L)||isNaN(P))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new h(J,re)),pe=this.ctx.transform.applyToPoint(new h(L,P));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new h(ce.x,ce.y)},y.prototype.bezierCurveTo=function(L,P,J,re,ce,pe){if(isNaN(ce)||isNaN(pe)||isNaN(L)||isNaN(P)||isNaN(J)||isNaN(re))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new h(ce,pe)),xe=this.ctx.transform.applyToPoint(new h(L,P)),Te=this.ctx.transform.applyToPoint(new h(J,re));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Te.x,y2:Te.y,x:de.x,y:de.y}),this.ctx.lastPoint=new h(de.x,de.y)},y.prototype.arc=function(L,P,J,re,ce,pe){if(isNaN(L)||isNaN(P)||isNaN(J)||isNaN(re)||isNaN(ce))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new h(L,P));L=de.x,P=de.y;var xe=this.ctx.transform.applyToPoint(new h(0,J)),Te=this.ctx.transform.applyToPoint(new h(0,0));J=Math.sqrt(Math.pow(xe.x-Te.x,2)+Math.pow(xe.y-Te.y,2))}Math.abs(ce-re)>=2*Math.PI&&(re=0,ce=2*Math.PI),this.path.push({type:"arc",x:L,y:P,radius:J,startAngle:re,endAngle:ce,counterclockwise:pe})},y.prototype.arcTo=function(L,P,J,re,ce){throw new Error("arcTo not implemented.")},y.prototype.rect=function(L,P,J,re){if(isNaN(L)||isNaN(P)||isNaN(J)||isNaN(re))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,P),this.lineTo(L+J,P),this.lineTo(L+J,P+re),this.lineTo(L,P+re),this.lineTo(L,P),this.lineTo(L+J,P),this.lineTo(L,P)},y.prototype.fillRect=function(L,P,J,re){if(isNaN(L)||isNaN(P)||isNaN(J)||isNaN(re))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,P,J,re),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},y.prototype.strokeRect=function(L,P,J,re){if(isNaN(L)||isNaN(P)||isNaN(J)||isNaN(re))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(L,P,J,re),this.stroke())},y.prototype.clearRect=function(L,P,J,re){if(isNaN(L)||isNaN(P)||isNaN(J)||isNaN(re))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,P,J,re))},y.prototype.save=function(L){L=typeof L!="boolean"||L;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(P),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},y.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var P=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(P),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(L){var P,J,re,ce;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))P=0,J=0,re=0,ce=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(pe!==null)P=parseInt(pe[1]),J=parseInt(pe[2]),re=parseInt(pe[3]),ce=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)P=parseInt(pe[1]),J=parseInt(pe[2]),re=parseInt(pe[3]),ce=parseFloat(pe[4]);else{if(ce=1,typeof L=="string"&&L.charAt(0)!=="#"){var de=new V_(L);L=de.ok?de.toHex():"#000000"}L.length===4?(P=L.substring(1,2),P+=P,J=L.substring(2,3),J+=J,re=L.substring(3,4),re+=re):(P=L.substring(1,3),J=L.substring(3,5),re=L.substring(5,7)),P=parseInt(P,16),J=parseInt(J,16),re=parseInt(re,16)}}return{r:P,g:J,b:re,a:ce,style:L}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(L,P,J,re){if(isNaN(P)||isNaN(J)||typeof L!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!b.call(this)){var ce=se(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;I.call(this,{text:L,x:P,y:J,scale:pe,angle:ce,align:this.textAlign,maxWidth:re})}},y.prototype.strokeText=function(L,P,J,re){if(isNaN(P)||isNaN(J)||typeof L!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){re=isNaN(re)?void 0:re;var ce=se(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;I.call(this,{text:L,x:P,y:J,scale:pe,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:re})}},y.prototype.measureText=function(L){if(typeof L!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var P=this.pdf,J=this.pdf.internal.scaleFactor,re=P.internal.getFontSize(),ce=P.getStringUnitWidth(L)*re/P.internal.scaleFactor;return new function(pe){var de=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:ce*=Math.round(96*J/72*1e4)/1e4})},y.prototype.scale=function(L,P){if(isNaN(L)||isNaN(P))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(L,0,0,P,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},y.prototype.rotate=function(L){if(isNaN(L))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var P=new f(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(P)},y.prototype.translate=function(L,P){if(isNaN(L)||isNaN(P))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,L,P);this.ctx.transform=this.ctx.transform.multiply(J)},y.prototype.transform=function(L,P,J,re,ce,pe){if(isNaN(L)||isNaN(P)||isNaN(J)||isNaN(re)||isNaN(ce)||isNaN(pe))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new f(L,P,J,re,ce,pe);this.ctx.transform=this.ctx.transform.multiply(de)},y.prototype.setTransform=function(L,P,J,re,ce,pe){L=isNaN(L)?1:L,P=isNaN(P)?0:P,J=isNaN(J)?0:J,re=isNaN(re)?1:re,ce=isNaN(ce)?0:ce,pe=isNaN(pe)?0:pe,this.ctx.transform=new f(L,P,J,re,ce,pe)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(L,P,J,re,ce,pe,de,xe,Te){var Ue=this.pdf.getImageProperties(L),Qe=1,et=1,je=1,H=1;re!==void 0&&xe!==void 0&&(je=xe/re,H=Te/ce,Qe=Ue.width/re*xe/re,et=Ue.height/ce*Te/ce),pe===void 0&&(pe=P,de=J,P=0,J=0),re!==void 0&&xe===void 0&&(xe=re,Te=ce),re===void 0&&xe===void 0&&(xe=Ue.width,Te=Ue.height);var Me=this.ctx.transform.decompose(),tt=se(Me.rotate.shx),Ze=new f,Ne=(Ze=(Ze=(Ze=Ze.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new c(pe-P*je,de-J*H,re*Qe,ce*et));if(this.autoPaging){for(var nt,it=C.call(this,Ne),ut=[],ht=0;ht<it.length;ht+=1)ut.indexOf(it[ht])===-1&&ut.push(it[ht]);D(ut);for(var Mt=ut[0],Xt=ut[ut.length-1],It=Mt;It<Xt+1;It++){this.pdf.setPage(It);var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Re=It===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=It===1?0:Ge+(It-2)*st;if(this.ctx.clip_path.length!==0){var Gt=this.path;nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(nt,this.posX+this.margin[3],-rt+Re+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=Gt}var Ct=JSON.parse(JSON.stringify(Ne));Ct=R([Ct],this.posX+this.margin[3],-rt+Re+this.ctx.prevPageLastElemOffset)[0];var pt=(It>Mt||It<Xt)&&N.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,st,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Ct.x,Ct.y,Ct.w,Ct.h,null,null,tt),pt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,tt)};var C=function(L,P,J){var re=[];P=P||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":re.push(Math.floor((L.y+ce)/J)+1);break;case"arc":re.push(Math.floor((L.y+ce-L.radius)/J)+1),re.push(Math.floor((L.y+ce+L.radius)/J)+1);break;case"qct":var pe=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);re.push(Math.floor((pe.y+ce)/J)+1),re.push(Math.floor((pe.y+pe.h+ce)/J)+1);break;case"bct":var de=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);re.push(Math.floor((de.y+ce)/J)+1),re.push(Math.floor((de.y+de.h+ce)/J)+1);break;case"rect":re.push(Math.floor((L.y+ce)/J)+1),re.push(Math.floor((L.y+L.h+ce)/J)+1)}for(var xe=0;xe<re.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<re[xe];)T.call(this);return re},T=function(){var L=this.fillStyle,P=this.strokeStyle,J=this.font,re=this.lineCap,ce=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=P,this.font=J,this.lineCap=re,this.lineWidth=ce,this.lineJoin=pe},R=function(L,P,J){for(var re=0;re<L.length;re++)switch(L[re].type){case"bct":L[re].x2+=P,L[re].y2+=J;case"qct":L[re].x1+=P,L[re].y1+=J;default:L[re].x+=P,L[re].y+=J}return L},D=function(L){return L.sort(function(P,J){return P-J})},F=function(L,P){var J=this.fillStyle,re=this.strokeStyle,ce=this.lineCap,pe=this.lineWidth,de=Math.abs(pe*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Te,Ue,Qe=JSON.parse(JSON.stringify(this.path)),et=JSON.parse(JSON.stringify(this.path)),je=[],H=0;H<et.length;H++)if(et[H].x!==void 0)for(var Me=C.call(this,et[H]),tt=0;tt<Me.length;tt+=1)je.indexOf(Me[tt])===-1&&je.push(Me[tt]);for(var Ze=0;Ze<je.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<je[Ze];)T.call(this);D(je);for(var Ne=je[0],nt=je[je.length-1],it=Ne;it<nt+1;it++){this.pdf.setPage(it),this.fillStyle=J,this.strokeStyle=re,this.lineCap=ce,this.lineWidth=de,this.lineJoin=xe;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=it===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=it===1?0:Mt+(it-2)*Xt;if(this.ctx.clip_path.length!==0){var Vt=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(Te,this.posX+this.margin[3],-It+ht+this.ctx.prevPageLastElemOffset),B.call(this,L,!0),this.path=Vt}if(Ue=JSON.parse(JSON.stringify(Qe)),this.path=R(Ue,this.posX+this.margin[3],-It+ht+this.ctx.prevPageLastElemOffset),P===!1||it===0){var Re=(it>Ne||it<nt)&&N.call(this);Re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Xt,null).clip().discardPath()),B.call(this,L,P),Re&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}this.path=Qe}else this.lineWidth=de,B.call(this,L,P),this.lineWidth=pe},B=function(L,P){if((L!=="stroke"||P||!S.call(this))&&(L==="stroke"||P||!b.call(this))){for(var J,re,ce=[],pe=this.path,de=0;de<pe.length;de++){var xe=pe[de];switch(xe.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:xe,deltas:[],abs:[]});break;case"lt":var Te=ce.length;if(pe[de-1]&&!isNaN(pe[de-1].x)&&(J=[xe.x-pe[de-1].x,xe.y-pe[de-1].y],Te>0)){for(;Te>=0;Te--)if(ce[Te-1].close!==!0&&ce[Te-1].begin!==!0){ce[Te-1].deltas.push(J),ce[Te-1].abs.push(xe);break}}break;case"bct":J=[xe.x1-pe[de-1].x,xe.y1-pe[de-1].y,xe.x2-pe[de-1].x,xe.y2-pe[de-1].y,xe.x-pe[de-1].x,xe.y-pe[de-1].y],ce[ce.length-1].deltas.push(J);break;case"qct":var Ue=pe[de-1].x+2/3*(xe.x1-pe[de-1].x),Qe=pe[de-1].y+2/3*(xe.y1-pe[de-1].y),et=xe.x+2/3*(xe.x1-xe.x),je=xe.y+2/3*(xe.y1-xe.y),H=xe.x,Me=xe.y;J=[Ue-pe[de-1].x,Qe-pe[de-1].y,et-pe[de-1].x,je-pe[de-1].y,H-pe[de-1].x,Me-pe[de-1].y],ce[ce.length-1].deltas.push(J);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(xe)}}re=P?null:L==="stroke"?"stroke":"fill";for(var tt=!1,Ze=0;Ze<ce.length;Ze++)if(ce[Ze].arc)for(var Ne=ce[Ze].abs,nt=0;nt<Ne.length;nt++){var it=Ne[nt];it.type==="arc"?j.call(this,it.x,it.y,it.radius,it.startAngle,it.endAngle,it.counterclockwise,void 0,P,!tt):te.call(this,it.x,it.y),tt=!0}else if(ce[Ze].close===!0)this.pdf.internal.out("h"),tt=!1;else if(ce[Ze].begin!==!0){var ut=ce[Ze].start.x,ht=ce[Ze].start.y;U.call(this,ce[Ze].deltas,ut,ht),tt=!0}re&&V.call(this,re),P&&K.call(this)}},W=function(L){var P=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=P*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-J;case"top":return L+P-J;case"hanging":return L+P-2*J;case"middle":return L+P/2-J;default:return L}},G=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(P,J){this.colorStops.push([P,J])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(L,P,J,re,ce,pe,de,xe,Te){for(var Ue=$.call(this,J,re,ce,pe),Qe=0;Qe<Ue.length;Qe++){var et=Ue[Qe];Qe===0&&(Te?E.call(this,et.x1+L,et.y1+P):te.call(this,et.x1+L,et.y1+P)),ue.call(this,L,P,et.x2,et.y2,et.x3,et.y3,et.x4,et.y4)}xe?K.call(this):V.call(this,de)},V=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(L,P){this.pdf.internal.out(t(L)+" "+i(P)+" m")},I=function(L){var P;switch(L.align){case"right":case"end":P="right";break;case"center":P="center";break;default:P="left"}var J,re,ce,pe=this.pdf.getTextDimensions(L.text),de=W.call(this,L.y),xe=G.call(this,de)-pe.h,Te=this.ctx.transform.applyToPoint(new h(L.x,de));if(this.autoPaging){var Ue=this.ctx.transform.decompose(),Qe=new f;Qe=(Qe=(Qe=Qe.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale);for(var et=this.ctx.transform.applyToRectangle(new c(L.x,de,pe.w,pe.h)),je=Qe.applyToRectangle(new c(L.x,xe,pe.w,pe.h)),H=C.call(this,je),Me=[],tt=0;tt<H.length;tt+=1)Me.indexOf(H[tt])===-1&&Me.push(H[tt]);D(Me);for(var Ze=Me[0],Ne=Me[Me.length-1],nt=Ze;nt<Ne+1;nt++){this.pdf.setPage(nt);var it=nt===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[2],Mt=ht-this.margin[0],Xt=this.pdf.internal.pageSize.width-this.margin[1],It=Xt-this.margin[3],Vt=nt===1?0:ut+(nt-2)*Mt;if(this.ctx.clip_path.length!==0){var Re=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(J,this.posX+this.margin[3],-1*Vt+it),B.call(this,"fill",!0),this.path=Re}var Ge=R([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Vt+it+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*L.scale),ce=this.lineWidth,this.lineWidth=ce*L.scale);var st=this.autoPaging!=="text";if(st||Ge.y+Ge.h<=ht){if(st||Ge.y>=it&&Ge.x<=Xt){var rt=st?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Xt-Ge.x)[0],Gt=R([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Vt+it+this.ctx.prevPageLastElemOffset)[0],Ct=st&&(nt>Ze||nt<Ne)&&N.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,Mt,null).clip().discardPath()),this.pdf.text(rt,Gt.x,Gt.y,{angle:L.angle,align:P,renderingMode:L.renderingMode}),Ct&&this.pdf.restoreGraphicsState()}}else Ge.y<ht&&(this.ctx.prevPageLastElemOffset+=ht-Ge.y);L.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ce)}}else L.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*L.scale),ce=this.lineWidth,this.lineWidth=ce*L.scale),this.pdf.text(L.text,Te.x+this.posX,Te.y+this.posY,{angle:L.angle,align:P,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=ce)},te=function(L,P,J,re){J=J||0,re=re||0,this.pdf.internal.out(t(L+J)+" "+i(P+re)+" l")},U=function(L,P,J){return this.pdf.lines(L,P,J,null,null)},ue=function(L,P,J,re,ce,pe,de,xe){this.pdf.internal.out([e(a(J+L)),e(o(re+P)),e(a(ce+L)),e(o(pe+P)),e(a(de+L)),e(o(xe+P)),"c"].join(" "))},$=function(L,P,J,re){for(var ce=2*Math.PI,pe=Math.PI/2;P>J;)P-=ce;var de=Math.abs(J-P);de<ce&&re&&(de=ce-de);for(var xe=[],Te=re?-1:1,Ue=P;de>1e-5;){var Qe=Ue+Te*Math.min(de,pe);xe.push(ie.call(this,L,Ue,Qe)),de-=Math.abs(Qe-Ue),Ue=Qe}return xe},ie=function(L,P,J){var re=(J-P)/2,ce=L*Math.cos(re),pe=L*Math.sin(re),de=ce,xe=-pe,Te=de*de+xe*xe,Ue=Te+de*ce+xe*pe,Qe=4/3*(Math.sqrt(2*Te*Ue)-Ue)/(de*pe-xe*ce),et=de-Qe*xe,je=xe+Qe*de,H=et,Me=-je,tt=re+P,Ze=Math.cos(tt),Ne=Math.sin(tt);return{x1:L*Math.cos(P),y1:L*Math.sin(P),x2:et*Ze-je*Ne,y2:et*Ne+je*Ze,x3:H*Ze-Me*Ne,y3:H*Ne+Me*Ze,x4:L*Math.cos(J),y4:L*Math.sin(J)}},se=function(L){return 180*L/Math.PI},fe=function(L,P,J,re,ce,pe){var de=L+.5*(J-L),xe=P+.5*(re-P),Te=ce+.5*(J-ce),Ue=pe+.5*(re-pe),Qe=Math.min(L,ce,de,Te),et=Math.max(L,ce,de,Te),je=Math.min(P,pe,xe,Ue),H=Math.max(P,pe,xe,Ue);return new c(Qe,je,et-Qe,H-je)},we=function(L,P,J,re,ce,pe,de,xe){var Te,Ue,Qe,et,je,H,Me,tt,Ze,Ne,nt,it,ut,ht,Mt=J-L,Xt=re-P,It=ce-J,Vt=pe-re,Re=de-ce,Ge=xe-pe;for(Ue=0;Ue<41;Ue++)Ze=(Me=(Qe=L+(Te=Ue/40)*Mt)+Te*((je=J+Te*It)-Qe))+Te*(je+Te*(ce+Te*Re-je)-Me),Ne=(tt=(et=P+Te*Xt)+Te*((H=re+Te*Vt)-et))+Te*(H+Te*(pe+Te*Ge-H)-tt),Ue==0?(nt=Ze,it=Ne,ut=Ze,ht=Ne):(nt=Math.min(nt,Ze),it=Math.min(it,Ne),ut=Math.max(ut,Ze),ht=Math.max(ht,Ne));return new c(Math.round(nt),Math.round(it),Math.round(ut-nt),Math.round(ht-it))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,P,J=(L=this.ctx.lineDash,P=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:P}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Lt.API),(function(r){var e=function(h){var c,f,d,m,y,w,b,S,N,C;for(f=[],d=0,m=(h+=c="\0\0\0\0".slice(h.length%4||4)).length;m>d;d+=4)(y=(h.charCodeAt(d)<<24)+(h.charCodeAt(d+1)<<16)+(h.charCodeAt(d+2)<<8)+h.charCodeAt(d+3))!==0?(w=(y=((y=((y=((y=(y-(C=y%85))/85)-(N=y%85))/85)-(S=y%85))/85)-(b=y%85))/85)%85,f.push(w+33,b+33,S+33,N+33,C+33)):f.push(122);return(function(T,R){for(var D=R;D>0;D--)T.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(h){var c,f,d,m,y,w=String,b="length",S=255,N="charCodeAt",C="slice",T="replace";for(h[C](-2),h=h[C](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),d=[],m=0,y=(h+=c="uuuuu"[C](h[b]%5||5))[b];y>m;m+=5)f=52200625*(h[N](m)-33)+614125*(h[N](m+1)-33)+7225*(h[N](m+2)-33)+85*(h[N](m+3)-33)+(h[N](m+4)-33),d.push(S&f>>24,S&f>>16,S&f>>8,S&f);return(function(R,D){for(var F=D;F>0;F--)R.pop()})(d,c[b]),w.fromCharCode.apply(w,d)},i=function(h){return h.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(h){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),c.test(h)===!1)return"";for(var f="",d=0;d<h.length;d+=2)f+=String.fromCharCode("0x"+(h[d]+h[d+1]));return f},o=function(h){for(var c=new Uint8Array(h.length),f=h.length;f--;)c[f]=h.charCodeAt(f);return(c=Jm(c)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};r.processDataByFilters=function(h,c){var f=0,d=h||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=i(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(Lt.API),(function(r){r.loadFile=function(e,t,i){return(function(a,o,h){o=o!==!1,h=typeof h=="function"?h:function(){};var c=void 0;try{c=(function(f,d,m){var y=new XMLHttpRequest,w=0,b=function(S){var N=S.length,C=[],T=String.fromCharCode;for(w=0;w<N;w+=1)C.push(T(255&S.charCodeAt(w)));return C.join("")};if(y.open("GET",f,!d),y.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(y.onload=function(){y.status===200?m(b(this.responseText)):m(void 0)}),y.send(null),d&&y.status===200)return b(y.responseText)})(a,o,h)}catch{}return c})(e,t,i)},r.loadImageFile=r.loadFile})(Lt.API),(function(r){function e(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):M1(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):M1(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var i=function(c){var f=Bn(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var m in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[m]=f.style[m];return d},o=function c(f,d){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)d!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(c(y,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m},h=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),d);return(m=m.setProgress(1,c,1,[c])).set(f)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(c,f){return c.__proto__=f||h.prototype,c},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},h.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,m=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var b=0;b<m.length;++b){var S=m[b],N=S.src.find(function(C){return C.format==="truetype"});N&&d.addFont(N.url,S.ref.name,S.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),f(this.prop.container,w)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},h.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},h.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},h.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(c){if(i(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in h.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},h.prototype.get=function(c,f){return this.then(function(){var d=c in h.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},h.prototype.setMargin=function(c){return this.then(function(){switch(i(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},h.prototype.setPageSize=function(c){function f(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(c=c||Lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},h.prototype.setProgress=function(c,f,d,m){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(c,f,d,m){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},h.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(m,y){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,m),w}).then(m,y).then(function(w){return d.updateProgress(1),w})})},h.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),f&&(f=f.bind(m));var y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:h.convert(Object.assign({},m),Promise.prototype),w=d.call(y,c,f);return h.convert(w,m.__proto__)},h.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},h.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},h.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return h.convert(f,this)},h.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},h.prototype.error=function(c){return this.then(function(){throw new Error(c)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,Lt.getPageSize=function(c,f,d){if(Bn(c)==="object"){var m=c;c=m.orientation,f=m.unit||f,d=m.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var y,w=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+f}var S,N=0,C=0;if(b.hasOwnProperty(w))N=b[w][1]/y,C=b[w][0]/y;else try{N=d[1],C=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",C>N&&(S=C,C=N,N=S);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",N>C&&(S=C,C=N,N=S)}return{width:C,height:N,unit:f,k:y,orientation:c}},r.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(Cm):null;var d=new h(f);return f.worker?d:d.from(c).doCallback()}})(Lt.API),Lt.API.addJS=function(r){return Ry=r,this.internal.events.subscribe("postPutResources",function(){N1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(N1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Dy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ry+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){N1!==void 0&&Dy!==void 0&&this.internal.out("/Names <</JavaScript "+N1+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var h=a[o],c=i.exec(h);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(h)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(o=0;o<d;o++){var y=t.internal.newObject();m.push(y);var w=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<m.length;o++)t.internal.write("(page_"+(o+1)+")"+m[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,a,o){var h={title:a,options:o,children:[]};return i==null&&(i=this.root),i.children.push(h),h},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var a=0;a<i.children.length;a++)this.genIds_r(i.children[a])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<i.children.length;o++){var h=i.children[o];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(i)),o>0&&this.line("/Prev "+this.makeRef(i.children[o-1])),o<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[o+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var c=this.count=this.count_r({count:0},h);if(c>0&&this.line("/Count "+c),h.options&&h.options.pageNumber){var f=t.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,a){for(var o=0;o<a.children.length;o++)i.count++,this.count_r(i,a.children[o]);return i.count}}])})(Lt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,i,a,o,h,c){var f,d=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=h||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(y){for(var w,b=256*y.charCodeAt(4)+y.charCodeAt(5),S=y.length,N={width:0,height:0,numcomponents:1},C=4;C<S;C+=2){if(C+=b,e.indexOf(y.charCodeAt(C+1))!==-1){w=256*y.charCodeAt(C+5)+y.charCodeAt(C+6),N={width:256*y.charCodeAt(C+7)+y.charCodeAt(C+8),height:w,numcomponents:y.charCodeAt(C+9)};break}b=256*y.charCodeAt(C+2)+y.charCodeAt(C+3)}return N})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:i,alias:a}}return m}})(Lt.API),Lt.API.processPNG=function(r,e,t,i){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var a,o=QO(r,{checkCrc:!0}),h=o.width,c=o.height,f=o.channels,d=o.palette,m=o.depth;a=d&&f===1?(function(j){for(var V=j.width,K=j.height,E=j.data,I=j.palette,te=j.depth,U=!1,ue=[],$=[],ie=void 0,se=!1,fe=0,we=0;we<I.length;we++){var X=Bb(I[we],4),L=X[0],P=X[1],J=X[2],re=X[3];ue.push(L,P,J),re!=null&&(re===0?(fe++,$.length<1&&$.push(we)):re<255&&(se=!0))}if(se||fe>1){U=!0,$=void 0;var ce=V*K;ie=new Uint8Array(ce);for(var pe=new DataView(E.buffer),de=0;de<ce;de++){var xe=Em(pe,de,te),Te=Bb(I[xe],4)[3];ie[de]=Te}}else fe===0&&($=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:U?8:void 0,colorBytes:E,alphaBytes:ie,needSMask:U,palette:ue,mask:$}})(o):f===2||f===4?(function(j){for(var V=j.data,K=j.width,E=j.height,I=j.channels,te=j.depth,U=I===2?"DeviceGray":"DeviceRGB",ue=I-1,$=K*E,ie=ue,se=$*ie,fe=1*$,we=Math.ceil(se*te/8),X=Math.ceil(fe*te/8),L=new Uint8Array(we),P=new Uint8Array(X),J=new DataView(V.buffer),re=new DataView(L.buffer),ce=new DataView(P.buffer),pe=!1,de=0;de<$;de++){for(var xe=de*I,Te=0;Te<ie;Te++)Hy(re,Em(J,xe+Te,te),de*ie+Te,te);var Ue=Em(J,xe+ie,te);Ue<(1<<te)-1&&(pe=!0),Hy(ce,Ue,1*de,te)}return{colorSpace:U,colorsPerPixel:ue,sMaskBitsPerComponent:pe?te:void 0,colorBytes:L,alphaBytes:P,needSMask:pe}})(o):(function(j){var V=j.data,K=j.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:V instanceof Uint16Array?(function(E){for(var I=E.length,te=new Uint8Array(2*I),U=new DataView(te.buffer,te.byteOffset,te.byteLength),ue=0;ue<I;ue++)U.setUint16(2*ue,E[ue],!1);return te})(V):V,needSMask:!1}})(o);var y,w,b,S=a,N=S.colorSpace,C=S.colorsPerPixel,T=S.sMaskBitsPerComponent,R=S.colorBytes,D=S.alphaBytes,F=S.needSMask,B=S.palette,W=S.mask,G=null;return i!==Lt.API.image_compression.NONE&&typeof Jm=="function"?(G=(function(j){var V;switch(j){case Lt.API.image_compression.FAST:V=11;break;case Lt.API.image_compression.MEDIUM:V=13;break;case Lt.API.image_compression.SLOW:V=14;break;default:V=12}return V})(i),y=this.decode.FLATE_DECODE,w="/Predictor ".concat(G," /Colors ").concat(C," /BitsPerComponent ").concat(m," /Columns ").concat(h),r=By(R,Math.ceil(h*C*m/8),C,m,i),F&&(b=By(D,Math.ceil(h*T/8),1,T,i))):(y=void 0,w=void 0,r=R,F&&(b=D)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:r,index:e,filter:y,decodeParameters:w,transparency:W,palette:B,sMask:b,predictor:G,width:h,height:c,bitsPerComponent:m,sMaskBitsPerComponent:T,colorSpace:N}}},(function(r){r.processGIF89A=function(e,t,i,a){var o=new yL(e),h=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:h,height:c},m=new km(100).encode(d,100);return r.processJPEG.call(this,m,t,i,a)},r.processGIF87A=r.processGIF89A})(Lt.API),Wa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:i,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wa.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Qn.log("bit decode error:"+t)}},Wa.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),h=i*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[h+4*c]=f.blue,this.data[h+4*c+1]=f.green,this.data[h+4*c+2]=f.red,this.data[h+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Wa.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,a=0;a<r;a++){var o=this.datav.getUint8(this.pos++,!0),h=i*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[h]=d.blue,this.data[h+1]=d.green,this.data[h+2]=d.red,this.data[h+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[h+4]=d.blue,this.data[h+4+1]=d.green,this.data[h+4+2]=d.red,this.data[h+4+3]=255}e!==0&&(this.pos+=4-e)}},Wa.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*i;if(a<this.palette.length){var h=this.palette[a];this.data[o]=h.red,this.data[o+1]=h.green,this.data[o+2]=h.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},Wa.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,m=i*this.width*4+4*a;this.data[m]=f,this.data[m+1]=c,this.data[m+2]=h,this.data[m+3]=d}this.pos+=r}},Wa.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,o=0;o<this.width;o++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(h&e)/e*255|0,f=(h>>5&t)/t*255|0,d=(h>>11)/e*255|0,m=a*this.width*4+4*o;this.data[m]=d,this.data[m+1]=f,this.data[m+2]=c,this.data[m+3]=255}this.pos+=r}},Wa.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=i,this.data[h+3]=255}this.pos+=this.width%4}},Wa.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=i,this.data[c+3]=h}},Wa.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,i,a){var o=new Wa(e,!1),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new km(100).encode(f,100);return r.processJPEG.call(this,d,t,i,a)}})(Lt.API),Wy.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,i,a){var o=new Wy(e),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new km(100).encode(f,100);return r.processJPEG.call(this,d,t,i,a)}})(Lt.API),Lt.API.processRGBA=function(r,e,t){for(var i=r.data,a=i.length,o=new Uint8Array(a/4*3),h=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var m=i[d],y=i[d+1],w=i[d+2],b=i[d+3];o[c++]=m,o[c++]=y,o[c++]=w,h[f++]=b}var S=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:S,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Lt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ch=Lt.API,C1=ch.getCharWidthsArray=function(r,e){var t,i,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),h=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,y=e.doKerning!==!1,w=0,b=r.length,S=0,N=c[0]||f,C=[];for(t=0;t<b;t++)i=r.charCodeAt(t),typeof a.metadata.widthOfString=="function"?C.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(i))+h*(1e3/o)||0)/1e3):(w=y&&Bn(d[i])==="object"&&!isNaN(parseInt(d[i][S],10))?d[i][S]/m:0,C.push((c[i]||N)/f+w)),S=i;return C},Iy=ch.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return ch.processArabic&&(r=ch.processArabic(r)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(r,t,a)/t:C1.apply(this,arguments).reduce(function(o,h){return o+h},0)},Vy=function(r,e,t,i){for(var a=[],o=0,h=r.length,c=0;o!==h&&c+e[o]<t;)c+=e[o],o++;a.push(r.slice(0,o));var f=o;for(c=0;o!==h;)c+e[o]>i&&(a.push(r.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(r.slice(f,o)),a},Fy=function(r,e,t){t||(t={});var i,a,o,h,c,f,d,m=[],y=[m],w=t.textIndent||0,b=0,S=0,N=r.split(" "),C=C1.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?N[0].length+2:t.lineIndent||0){var T=Array(f).join(" "),R=[];N.map(function(F){(F=F.split(/\s*\n/)).length>1?R=R.concat(F.map(function(B,W){return(W&&B.length?`
`:"")+B})):R.push(F[0])}),N=R,f=Iy.apply(this,[T,t])}for(o=0,h=N.length;o<h;o++){var D=0;if(i=N[o],f&&i[0]==`
`&&(i=i.substr(1),D=1),w+b+(S=(a=C1.apply(this,[i,t])).reduce(function(F,B){return F+B},0))>e||D){if(S>e){for(c=Vy.apply(this,[i,a,e-(w+b),e]),m.push(c.shift()),m=[c.pop()];c.length;)y.push([c.shift()]);S=a.slice(i.length-(m[0]?m[0].length:0)).reduce(function(F,B){return F+B},0)}else m=[i];y.push(m),w=S+f,b=C}else m.push(i),w+=b+S,b=C}return d=f?function(F,B){return(B?T:"")+F.join(" ")}:function(F){return F.join(" ")},y.map(d)},ch.splitTextToSize=function(r,e,t){var i,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var y=this.internal.getFont(m.fontName,m.fontStyle),w="Unicode";return y.metadata[w]?{widths:y.metadata[w].widths||{0:1},kerning:y.metadata[w].kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(r)?r:String(r).split(/\r?\n/);var h=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=i.length;c<f;c++)d=d.concat(Fy.apply(this,[i[c],h,o]));return d},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},a={},o=0;o<16;o++)i[t[o]]=e[o],a[e[o]]=t[o];var h=function(w){return"0x"+parseInt(w,10).toString(16)},c=r.__fontmetrics__.compress=function(w){var b,S,N,C,T=["{"];for(var R in w){if(b=w[R],isNaN(parseInt(R,10))?S="'"+R+"'":(R=parseInt(R,10),S=(S=h(R).slice(2)).slice(0,-1)+a[S.slice(-1)]),typeof b=="number")b<0?(N=h(b).slice(3),C="-"):(N=h(b).slice(2),C=""),N=C+N.slice(0,-1)+a[N.slice(-1)];else{if(Bn(b)!=="object")throw new Error("Don't know what to do with value type "+Bn(b)+".");N=c(b)}T.push(S+N)}return T.push("}"),T.join("")},f=r.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,S,N,C,T={},R=1,D=T,F=[],B="",W="",G=w.length-1,j=1;j<G;j+=1)(C=w[j])=="'"?b?(N=b.join(""),b=void 0):b=[]:b?b.push(C):C=="{"?(F.push([D,N]),D={},N=void 0):C=="}"?((S=F.pop())[0][S[1]]=D,N=void 0,D=S[0]):C=="-"?R=-1:N===void 0?i.hasOwnProperty(C)?(B+=i[C],N=parseInt(B,16)*R,R=1,B=""):B+=C:i.hasOwnProperty(C)?(W+=i[C],D[N]=parseInt(W,16)*R,R=1,N=void 0,W=""):W+=C;return T},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},y={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(w){var b=w.font,S=y.Unicode[b.postScriptName];S&&(b.metadata.Unicode={},b.metadata.Unicode.widths=S.widths,b.metadata.Unicode.kerning=S.kerning);var N=m.Unicode[b.postScriptName];N&&(b.metadata.Unicode.encoding=N,b.encoding=N.codePages[0])}])})(Lt.API),(function(r){var e=function(t){for(var i=t.length,a=new Uint8Array(i),o=0;o<i;o++)a[o]=t.charCodeAt(o);return a};r.API.events.push(["addFont",function(t){var i=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(i=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(h,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(D1(c)),h.metadata=r.API.TTFFont.open(c),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(a,i)}}])})(Lt),Lt.API.addSvgAsImage=function(r,e,t,i,a,o,h,c){if(isNaN(e)||isNaN(t))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(a))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},y=this;return(Yt.canvg?Promise.resolve(Yt.canvg):M1(()=>import("./index.es-Dyc4Uk7H.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(d,r,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){y.addImage(f.toDataURL("image/jpeg",1),e,t,i,a,h,c)})},Lt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(e,t);return this},Lt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var i,a,o,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(h),f=[],d=0,m=0,y=0;function w(S,N){var C,T=!1;for(C=0;C<S.length;C+=1)S[C]===N&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var b=c.length;for(y=0;y<b;y+=1)t[c[y]].value=t[c[y]].defaultValue,t[c[y]].explicitSet=!1}if(Bn(r)==="object"){for(a in r)if(o=r[a],w(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&w(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(i=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(m=0;m<o[d].length;m+=1)typeof o[d][m]!="number"&&(i=!1);i===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,N=[];for(S in t)t[S].explicitSet===!0&&(t[S].type==="name"?N.push("/"+S+" /"+t[S].value):N.push("/"+S+" "+t[S].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(i)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+h.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+h+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(i,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Lt.API),(function(r){var e=r.API,t=e.pdfEscape16=function(o,h){for(var c,f=h.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],y=0,w=o.length;y<w;++y){if(c=h.metadata.characterToGlyph(o.charCodeAt(y)),h.metadata.glyIdsUsed.push(c),h.metadata.toUnicode[c]=o.charCodeAt(y),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(h.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(d[4-c.length],c)}return m.join("")},i=function(o){var h,c,f,d,m,y,w;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],y=0,w=(c=Object.keys(o).sort(function(b,S){return b-S})).length;y<w;y++)h=c[y],f.length>=100&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[h]!==void 0&&o[h]!==null&&typeof o[h].toString=="function"&&(d=("0000"+o[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),f.push("<"+h+"><"+d+">"));return f.length&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="Identity-H"){for(var y=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",S=0;S<w.length;S++)b+=String.fromCharCode(w[S]);var N=d();m({data:b,addLength1:!0,objectId:N}),f("endobj");var C=d();m({data:i(c.metadata.toUnicode),addLength1:!0,objectId:C}),f("endobj");var T=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+dh(c.fontName)),f("/FontFile2 "+N+" 0 R"),f("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var R=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+dh(c.fontName)),f("/FontDescriptor "+T+" 0 R"),f("/W "+r.API.PDFObject.convert(y)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+C+" 0 R"),f("/BaseFont /"+dh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+R+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var y=c.metadata.rawData,w="",b=0;b<y.length;b++)w+=String.fromCharCode(y[b]);var S=d();m({data:w,addLength1:!0,objectId:S}),f("endobj");var N=d();m({data:i(c.metadata.toUnicode),addLength1:!0,objectId:N}),f("endobj");var C=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+S+" 0 R"),f("/Flags 96"),f("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+dh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var T=0;T<c.metadata.hmtx.widths.length;T++)c.metadata.hmtx.widths[T]=parseInt(c.metadata.hmtx.widths[T]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+dh(c.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var h,c=o.text||"",f=o.x,d=o.y,m=o.options||{},y=o.mutex||{},w=y.pdfEscape,b=y.activeFontKey,S=y.fonts,N=b,C="",T=0,R="",D=S[N].encoding;if(S[N].encoding!=="Identity-H")return{text:c,x:f,y:d,options:m,mutex:y};for(R=c,N=b,Array.isArray(c)&&(R=c[0]),T=0;T<R.length;T+=1)S[N].metadata.hasOwnProperty("cmap")&&(h=S[N].metadata.cmap.unicode.codeMap[R[T].charCodeAt(0)]),h||R[T].charCodeAt(0)<256&&S[N].metadata.hasOwnProperty("Unicode")?C+=R[T]:C+="";var F="";return parseInt(N.slice(1))<14||D==="WinAnsiEncoding"?F=w(C,N).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):D==="Identity-H"&&(F=t(C,S[N])),y.isHex=!0,{text:F,x:f,y:d,options:m,mutex:y}};e.events.push(["postProcessText",function(o){var h=o.text||"",c=[],f={text:h,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(h)){var d=0;for(d=0;d<h.length;d+=1)Array.isArray(h[d])&&h[d].length===3?c.push([a(Object.assign({},f,{text:h[d][0]})).text,h[d][1],h[d][2]]):c.push(a(Object.assign({},f,{text:h[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:h})).text}])})(Lt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Lt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(i){var a,o,h,c,f,d,m,y=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,D=0;this.__bidiEngine__={};var F=function(E){var I=E.charCodeAt(),te=I>>8,U=N[te];return U!==void 0?y[256*U+(255&I)]:te===252||te===253?"AL":T.test(te)?"L":te===8?"R":"N"},B=function(E){for(var I,te=0;te<E.length;te++){if((I=F(E.charAt(te)))==="L")return!1;if(I==="R")return!0}return!1},W=function(E,I,te,U){var ue,$,ie,se,fe=I[U];switch(fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(fe="AN");break;case"AL":R=!0,fe="R";break;case"WS":case"BN":fe="N";break;case"CS":U<1||U+1>=I.length||(ue=te[U-1])!=="EN"&&ue!=="AN"||($=I[U+1])!=="EN"&&$!=="AN"?fe="N":R&&($="AN"),fe=$===ue?$:"N";break;case"ES":fe=(ue=U>0?te[U-1]:"B")==="EN"&&U+1<I.length&&I[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&te[U-1]==="EN"){fe="EN";break}if(R){fe="N";break}for(ie=U+1,se=I.length;ie<se&&I[ie]==="ET";)ie++;fe=ie<se&&I[ie]==="EN"?"EN":"N";break;case"NSM":if(h&&!c){for(se=I.length,ie=U+1;ie<se&&I[ie]==="NSM";)ie++;if(ie<se){var we=E[U],X=we>=1425&&we<=2303||we===64286;if(ue=I[ie],X&&(ue==="R"||ue==="AL")){fe="R";break}}}fe=U<1||(ue=I[U-1])==="B"?"N":te[U-1];break;case"B":R=!1,a=!0,fe=D;break;case"S":o=!0,fe="N"}return fe},G=function(E,I,te){var U=E.split("");return te&&j(U,te,{hiLevel:D}),U.reverse(),I&&I.reverse(),U.join("")},j=function(E,I,te){var U,ue,$,ie,se,fe=-1,we=E.length,X=0,L=[],P=D?b:w,J=[];for(R=!1,a=!1,o=!1,ue=0;ue<we;ue++)J[ue]=F(E[ue]);for($=0;$<we;$++){if(se=X,L[$]=W(E,J,L,$),U=240&(X=P[se][S[L[$]]]),X&=15,I[$]=ie=P[X][5],U>0)if(U===16){for(ue=fe;ue<$;ue++)I[ue]=1;fe=-1}else fe=-1;if(P[X][6])fe===-1&&(fe=$);else if(fe>-1){for(ue=fe;ue<$;ue++)I[ue]=ie;fe=-1}J[$]==="B"&&(I[$]=0),te.hiLevel|=ie}o&&(function(re,ce,pe){for(var de=0;de<pe;de++)if(re[de]==="S"){ce[de]=D;for(var xe=de-1;xe>=0&&re[xe]==="WS";xe--)ce[xe]=D}})(J,I,we)},V=function(E,I,te,U,ue){if(!(ue.hiLevel<E)){if(E===1&&D===1&&!a)return I.reverse(),void(te&&te.reverse());for(var $,ie,se,fe,we=I.length,X=0;X<we;){if(U[X]>=E){for(se=X+1;se<we&&U[se]>=E;)se++;for(fe=X,ie=se-1;fe<ie;fe++,ie--)$=I[fe],I[fe]=I[ie],I[ie]=$,te&&($=te[fe],te[fe]=te[ie],te[ie]=$);X=se}X++}}},K=function(E,I,te){var U=E.split(""),ue={hiLevel:D};return te||(te=[]),j(U,te,ue),(function($,ie,se){if(se.hiLevel!==0&&m)for(var fe,we=0;we<$.length;we++)ie[we]===1&&(fe=C.indexOf($[we]))>=0&&($[we]=C[fe+1])})(U,te,ue),V(2,U,I,te,ue),V(1,U,I,te,ue),U.join("")};return this.__bidiEngine__.doBidiReorder=function(E,I,te){if((function(ue,$){if($)for(var ie=0;ie<ue.length;ie++)$[ie]=ie;c===void 0&&(c=B(ue)),d===void 0&&(d=B(ue))})(E,I),h||!f||d)if(h&&f&&c^d)D=c?1:0,E=G(E,I,te);else if(!h&&f&&d)D=c?1:0,E=K(E,I,te),E=G(E,I);else if(!h||c||f||d){if(h&&!f&&c^d)E=G(E,I),c?(D=0,E=K(E,I,te)):(D=1,E=K(E,I,te),E=G(E,I));else if(h&&c&&!f&&d)D=1,E=K(E,I,te),E=G(E,I);else if(!h&&!f&&c^d){var U=m;c?(D=1,E=K(E,I,te),D=0,m=!1,E=K(E,I,te),m=U):(D=0,E=K(E,I,te),E=G(E,I),D=1,m=!1,E=K(E,I,te),m=U,E=G(E,I))}}else D=0,E=K(E,I,te);else D=c?1:0,E=K(E,I,te);return E},this.__bidiEngine__.setOptions=function(E){E&&(h=E.isInputVisual,f=E.isOutputVisual,c=E.isInputRtl,d=E.isOutputRtl,m=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(i){var a=i.text;i.x,i.y;var o=i.options||{};i.mutex,o.lang;var h=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(h=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?h.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):h.push([t.doBidiReorder(a[c])]);i.text=h}else i.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(Lt),Lt.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new bc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new DL(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new xL(this.contents),this.head=new wL(this),this.name=new TL(this),this.cmap=new X_(this),this.toUnicode={},this.hhea=new SL(this),this.maxp=new EL(this),this.hmtx=new kL(this),this.post=new NL(this),this.os2=new AL(this),this.loca=new jL(this),this.glyf=new OL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,i,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,c,f,d;for(d=[],h=0,c=(f=this.bbox).length;h<c;h++)e=f[h],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(i=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,i){var a,o,h,c;for(h=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),h+=this.widthOfGlyph(this.characterToGlyph(a))+i*(1e3/t)||0;return h*(t/1e3)},r.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},r})();var oo,bc=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},r.prototype.writeString=function(e){var t,i,a;for(a=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,i,a,o,h,c,f;return e=this.readByte(),t=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),h=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^a)+16777216*(255^o)+65536*(255^h)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*a+16777216*o+65536*h+256*c+f},r.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},r.prototype.write=function(e){var t,i,a,o;for(o=[],i=0,a=e.length;i<a;i++)t=e[i],o.push(this.writeByte(t));return o},r})(),xL=(function(){var r;function e(t){var i,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,a,o,h,c,f,d,m,y,w,b,S,N;for(N in b=Object.keys(t).length,f=Math.log(2),y=16*Math.floor(Math.log(b)/f),h=Math.floor(y/f),m=16*b-y,(a=new bc).writeInt(this.scalarType),a.writeShort(b),a.writeShort(y),a.writeShort(h),a.writeShort(m),o=16*b,d=a.pos+o,c=null,S=[],t)for(w=t[N],a.writeString(N),a.writeInt(r(w)),a.writeInt(d),a.writeInt(w.length),S=S.concat(w),N==="head"&&(c=d),d+=w.length;d%4;)S.push(0),d++;return a.write(S),i=2981146554-r(a.data),a.pos=c+8,a.writeUInt32(i),a.data},r=function(t){var i,a,o,h;for(t=Z_.call(t);t.length%4;)t.push(0);for(o=new bc(t),a=0,i=0,h=t.length;i<h;i=i+=4)a+=o.readUInt32();return 4294967295&a},e})(),_L={}.hasOwnProperty,Vo=function(r,e){for(var t in e)_L.call(e,t)&&(r[t]=e[t]);function i(){this.constructor=r}return i.prototype=e.prototype,r.prototype=new i,r.__super__=e.prototype,r};oo=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var wL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new bc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),Yy=(function(){function r(e,t){var i,a,o,h,c,f,d,m,y,w,b,S,N,C,T,R,D;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),y=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),w=b/2,e.pos+=6,o=(function(){var F,B;for(B=[],f=F=0;0<=w?F<w:F>w;f=0<=w?++F:--F)B.push(e.readUInt16());return B})(),e.pos+=2,N=(function(){var F,B;for(B=[],f=F=0;0<=w?F<w:F>w;f=0<=w?++F:--F)B.push(e.readUInt16());return B})(),d=(function(){var F,B;for(B=[],f=F=0;0<=w?F<w:F>w;f=0<=w?++F:--F)B.push(e.readUInt16());return B})(),m=(function(){var F,B;for(B=[],f=F=0;0<=w?F<w:F>w;f=0<=w?++F:--F)B.push(e.readUInt16());return B})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var F,B;for(B=[],f=F=0;0<=a?F<a:F>a;f=0<=a?++F:--F)B.push(e.readUInt16());return B})(),f=T=0,D=o.length;T<D;f=++T)for(C=o[f],i=R=S=N[f];S<=C?R<=C:R>=C;i=S<=C?++R:--R)m[f]===0?h=i+d[f]:(h=c[m[f]/2+(i-S)-(w-f)]||0)!==0&&(h+=d[f]),this.codeMap[i]=65535&h}e.pos=y}return r.encode=function(e,t){var i,a,o,h,c,f,d,m,y,w,b,S,N,C,T,R,D,F,B,W,G,j,V,K,E,I,te,U,ue,$,ie,se,fe,we,X,L,P,J,re,ce,pe,de,xe,Te,Ue,Qe;switch(U=new bc,h=Object.keys(e).sort(function(et,je){return et-je}),t){case"macroman":for(N=0,C=(function(){var et=[];for(S=0;S<256;++S)et.push(0);return et})(),R={0:0},o={},ue=0,fe=h.length;ue<fe;ue++)R[xe=e[a=h[ue]]]==null&&(R[xe]=++N),o[a]={old:e[a],new:R[e[a]]},C[a]=R[e[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(C),{charMap:o,subtable:U.data,maxGlyphID:N+1};case"unicode":for(I=[],y=[],D=0,R={},i={},T=d=null,$=0,we=h.length;$<we;$++)R[B=e[a=h[$]]]==null&&(R[B]=++D),i[a]={old:B,new:R[B]},c=R[B]-a,T!=null&&c===d||(T&&y.push(T),I.push(a),d=c),T=a;for(T&&y.push(T),y.push(65535),I.push(65535),K=2*(V=I.length),j=2*Math.pow(Math.log(V)/Math.LN2,2),w=Math.log(j/2)/Math.LN2,G=2*V-j,f=[],W=[],b=[],S=ie=0,X=I.length;ie<X;S=++ie){if(E=I[S],m=y[S],E===65535){f.push(0),W.push(0);break}if(E-(te=i[E].new)>=32768)for(f.push(0),W.push(2*(b.length+V-S)),a=se=E;E<=m?se<=m:se>=m;a=E<=m?++se:--se)b.push(i[a].new);else f.push(te-E),W.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*V+2*b.length),U.writeUInt16(0),U.writeUInt16(K),U.writeUInt16(j),U.writeUInt16(w),U.writeUInt16(G),pe=0,L=y.length;pe<L;pe++)a=y[pe],U.writeUInt16(a);for(U.writeUInt16(0),de=0,P=I.length;de<P;de++)a=I[de],U.writeUInt16(a);for(Te=0,J=f.length;Te<J;Te++)c=f[Te],U.writeUInt16(c);for(Ue=0,re=W.length;Ue<re;Ue++)F=W[Ue],U.writeUInt16(F);for(Qe=0,ce=b.length;Qe<ce;Qe++)N=b[Qe],U.writeUInt16(N);return{charMap:i,subtable:U.data,maxGlyphID:D+1}}},r})(),X_=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,i,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)t=new Yy(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var i,a;return t==null&&(t="macroman"),i=Yy.encode(e,t),(a=new bc).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},r})(),SL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),AL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i})(),this.charRange=(function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),NL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="post",r.prototype.parse=function(e){var t,i,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(i=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var h,c,f;for(f=[],o=h=0,c=this.file.maxp.numGlyphs;0<=c?h<c:h>c;o=0<=c?++h:--h)f.push(e.readUInt32());return f}).call(this)}},r})(),CL=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},TL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="name",r.prototype.parse=function(e){var t,i,a,o,h,c,f,d,m,y,w;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),i=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=m=0,y=i.length;m<y;o=++m)a=i[o],e.pos=a.offset,d=e.readString(a.length),h=new CL(d,a),f[w=a.nameID]==null&&(f[w]=[]),f[a.nameID].push(h);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r})(),EL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),kL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,i,a,o,h,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)m.push(e.readInt16());return m})(),this.widths=(function(){var d,m,y,w;for(w=[],d=0,m=(y=this.metrics).length;d<m;d++)o=y[d],w.push(o.advance);return w}).call(this),i=this.widths[this.widths.length-1],f=[],t=h=0;0<=a?h<a:h>a;t=0<=a?++h:--h)f.push(this.widths.push(i));return f},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),Z_=[].slice,OL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,i,a,o,h,c,f,d,m,y;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,i=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,h=(c=new bc(t.read(a))).readShort(),d=c.readShort(),y=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[e]=h===-1?new ML(c,d,y,f,m):new LL(c,h,d,y,f,m),this.cache[e]))},r.prototype.encode=function(e,t,i){var a,o,h,c,f;for(h=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(h.length),a&&(h=h.concat(a.encode(i)));return o.push(h.length),{table:h,offsets:o}},r})(),LL=(function(){function r(e,t,i,a,o,h){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=a,this.xMax=o,this.yMax=h,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),ML=(function(){function r(e,t,i,a,o){var h,c;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;c=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&c;)h.pos+=1&c?4:2,128&c?h.pos+=8:64&c?h.pos+=4:8&c&&(h.pos+=2)}return r.prototype.encode=function(){var e,t,i;for(t=new bc(Z_.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),jL=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return Vo(r,oo),r.prototype.tag="loca",r.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(e.readUInt32());return o}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,h=0;h<i.length;++h)if(i[h]=a,o<t.length&&t[o]==h){++o,i[h]=a;var c=this.offsets[h],f=this.offsets[h+1]-c;f>0&&(a+=f)}for(var d=new Array(4*i.length),m=0;m<i.length;++m)d[4*m+3]=255&i[m],d[4*m+2]=(65280&i[m])>>8,d[4*m+1]=(16711680&i[m])>>16,d[4*m]=(4278190080&i[m])>>24;return d},r})(),DL=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,i,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)i=o[t],e[t]=a[i];return e},r.prototype.glyphsFor=function(e){var t,i,a,o,h,c,f;for(a={},h=0,c=e.length;h<c;h++)a[o=e[h]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(i=a[o])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))i=f[o],a[o]=i;return a},r.prototype.encode=function(e,t){var i,a,o,h,c,f,d,m,y,w,b,S,N,C,T;for(a in i=X_.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(e),b={0:0},T=i.charMap)b[(f=T[a]).old]=f.new;for(S in w=i.maxGlyphID,h)S in b||(b[S]=w++);return m=(function(R){var D,F;for(D in F={},R)F[R[D]]=D;return F})(b),y=Object.keys(m).sort(function(R,D){return R-D}),N=(function(){var R,D,F;for(F=[],R=0,D=y.length;R<D;R++)c=y[R],F.push(m[c]);return F})(),o=this.font.glyf.encode(h,N,b),d=this.font.loca.encode(o.offsets,N),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},r})();Lt.API.PDFObject=(function(){var r;function e(){}return r=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,a,o,h;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)i=t[c],d.push(e.convert(i));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)h=t[a],o.push("/"+a+" "+e.convert(h));return o.push(">>"),o.join(`
`)}return""+t},e})();const f2="chordWheelSongs",og="chordWheelCurrentSongId",zf=()=>{try{const r=localStorage.getItem(f2);return r?JSON.parse(r).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(r){return console.error("Error loading saved songs:",r),[]}},Xy=r=>{try{const e=zf(),t=e.findIndex(a=>a.id===r.id),i={...r,updatedAt:new Date().toISOString(),createdAt:r.createdAt instanceof Date?r.createdAt.toISOString():r.createdAt};t>=0?e[t]=i:e.push({...i,createdAt:new Date().toISOString()}),localStorage.setItem(f2,JSON.stringify(e)),localStorage.setItem(og,r.id)}catch(e){console.error("Error saving song:",e)}},RL=r=>{try{const t=zf().filter(i=>i.id!==r);localStorage.setItem(f2,JSON.stringify(t)),localStorage.getItem(og)===r&&localStorage.removeItem(og)}catch(e){console.error("Error deleting song:",e)}};var Om,Zy;function IL(){if(Zy)return Om;Zy=1,Om=e;const r=["auxclick","click","contextmenu","dblclick","keydown","keyup","mousedown","mouseup","touchend"];function e(){const t=window.webkitAudioContext;if(!(navigator.maxTouchPoints>0&&t!=null))return;let a="blocked",o="blocked",h,c,f;const d=new t().sampleRate,m=y(d);r.forEach(C=>{window.addEventListener(C,w,{capture:!0,passive:!0})});function y(C){const T=new ArrayBuffer(10),R=new DataView(T);return R.setUint32(0,C,!0),R.setUint32(4,C,!0),R.setUint16(8,1,!0),`data:audio/wav;base64,UklGRisAAABXQVZFZm10IBAAAAABAAEA${window.btoa(String.fromCharCode(...new Uint8Array(T))).slice(0,13)}AgAZGF0YQcAAACAgICAgICAAAA=`}function w(C){a==="blocked"&&(a="pending",b()),o==="blocked"&&(o="pending",S())}function b(){h=document.createElement("audio"),h.setAttribute("x-webkit-airplay","deny"),h.preload="auto",h.loop=!0,h.src=m,h.load(),h.play().then(()=>{a="allowed",N()},()=>{a="blocked",h.pause(),h.removeAttribute("src"),h.load(),h=null})}function S(){c=new t,f=c.createBufferSource(),f.buffer=c.createBuffer(1,1,22050),f.connect(c.destination),f.start(),c.state==="running"?(o="allowed",N()):(o="blocked",f.disconnect(c.destination),f=null,c.close(),c=null)}function N(){a!=="allowed"||o!=="allowed"||r.forEach(C=>{window.removeEventListener(C,w,{capture:!0,passive:!0})})}}return Om}var VL=IL();const FL=$y(VL);FL();function BL(){const{currentSong:r,selectedKey:e,timelineVisible:t,toggleTimeline:i,selectedSectionId:a,selectedSlotId:o,clearSlot:h,clearTimeline:c,setTitle:f,loadSong:d,newSong:m,instrument:y,volume:w,isMuted:b,undo:S,redo:N,canUndo:C,canRedo:T}=Rr();he.useEffect(()=>{Kg(y)},[y]),he.useEffect(()=>{b3(w)},[w]),he.useEffect(()=>{y3(b)},[b]);const[R,D]=he.useState(200),[F,B]=he.useState(!1),[W,G]=he.useState(.6),[j,V]=he.useState(1),[K,E]=he.useState(50),[I,te]=he.useState(720),[U,ue]=he.useState(()=>typeof window<"u"?window.innerWidth<768:!1),[$,ie]=he.useState(()=>typeof window<"u"?window.innerHeight<window.innerWidth&&window.innerWidth<1024:!1),se=he.useRef(!1),fe=he.useRef(!1);he.useEffect(()=>{const Re=()=>{const Ge=window.innerWidth,st=window.innerHeight,rt=Ge<768,Gt=st<Ge&&Ge<1024&&rt;if(ue(rt),ie(Gt),rt)if(Gt){const dt=Ge*.5,At=16,lt=Math.min(560,Math.max(280,dt-At,st-120)),Ft=Math.min(lt*1.2,dt-At+12,st-120+12,560);te(Ft)}else{const ct=(st-56-64-80)*.8,Kt=Math.min(Math.min(Ge-12,ct),560),ft=Math.min(Kt*1.2,Ge-12+12,ct+24,560);te(Math.max(260,ft))}else{const bt=Math.max(360,st-48-56-140-50),ct=Math.min(720,Math.max(320,Math.min(Ge-120,bt)));te(ct)}const Ct=Rr.getState();rt&&!fe.current&&(Ct.timelineVisible&&Ct.toggleTimeline(),Ct.chordPanelVisible&&Ct.toggleChordPanel(),fe.current=!0),!rt&&se.current&&!Ct.chordPanelVisible&&(Ct.toggleChordPanel(),se.current=!1)};return Re(),window.addEventListener("resize",Re),window.addEventListener("orientationchange",Re),()=>{window.removeEventListener("resize",Re),window.removeEventListener("orientationchange",Re)}},[]);const we=he.useCallback((Re,Ge)=>{V(Re),E(Ge)},[]),X=he.useCallback(()=>{const Re=Math.min(2.5,j+.3);V(Re),E(Re>1.3?38:50)},[j]),L=he.useCallback(()=>{const Re=Math.max(.2,j-.15);V(Re),E(Re>1.3?38:50)},[j]),[P,J]=he.useState(!1),[re,ce]=he.useState(r.title),pe=he.useMemo(()=>{const Re=r.sections.reduce((Ct,pt)=>{const dt=pt.measures.reduce((At,lt)=>At+lt.beats.reduce((Ft,bt)=>Ft+bt.duration,0),0);return Ct+dt},0),Ge=r.tempo/60,st=Re/Ge,rt=Math.floor(st/60),Gt=Math.floor(st%60);return`${rt}:${Gt.toString().padStart(2,"0")}`},[r.sections,r.tempo]),[de,xe]=he.useState(!1);he.useEffect(()=>{const Re=async()=>{try{await cd(),await Fh(),xe(!0)}catch(st){console.error("Audio initialization failed:",st)}},Ge=()=>{de||Re()};return document.addEventListener("touchstart",Ge,{once:!0}),document.addEventListener("click",Ge,{once:!0}),()=>{document.removeEventListener("touchstart",Ge),document.removeEventListener("click",Ge)}},[de]),he.useEffect(()=>{const Re=Ge=>{if((Ge.key==="Delete"||Ge.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;Ge.preventDefault(),h(a,o)}};return window.addEventListener("keydown",Re),()=>window.removeEventListener("keydown",Re)},[a,o,h]),he.useEffect(()=>{const Re=Ge=>{const st=Ge.target;st?.tagName==="INPUT"||st?.tagName==="TEXTAREA"||st?.isContentEditable||Ge.metaKey&&Ge.key.toLowerCase()==="z"&&(Ge.preventDefault(),Ge.shiftKey?T&&N():C&&S())};return window.addEventListener("keydown",Re),()=>window.removeEventListener("keydown",Re)},[S,N,C,T]);const Te=()=>{ce(r.title),J(!0)},Ue=()=>{f(re.trim()||"Untitled Song"),J(!1)},[Qe,et]=he.useState(!1),[je,H]=he.useState([]),Me=he.useRef(null);he.useEffect(()=>{H(zf())},[]),he.useEffect(()=>{const Re=Ge=>{Me.current&&!Me.current.contains(Ge.target)&&et(!1)};return document.addEventListener("mousedown",Re),()=>document.removeEventListener("mousedown",Re)},[]);const tt=()=>{if(r.title==="Untitled Song"||!r.title.trim()){const Re=prompt("Please name your song:",r.title);if(Re===null)return;const Ge=Re.trim()||"Untitled Song";f(Ge);const st={...r,title:Ge};Xy(st)}else Xy(r);H(zf()),et(!1)},Ze=Re=>{d(Re),et(!1)},[Ne,nt]=he.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),it=()=>{nt({isOpen:!0,title:"New Song",message:"Start a new song? Unsaved changes will be lost.",confirmLabel:"Start New",isDestructive:!0,onConfirm:()=>{m(),et(!1)}})},ut=(Re,Ge,st)=>{st.stopPropagation(),nt({isOpen:!0,title:"Delete Song",message:`Are you sure you want to delete "${Ge}"? This cannot be undone.`,confirmLabel:"Delete",isDestructive:!0,onConfirm:()=>{RL(Re),H(zf())}})},ht=Re=>{Re.key==="Enter"?Ue():Re.key==="Escape"&&(ce(r.title),J(!1))},Mt=he.useCallback(Re=>{Re.preventDefault(),B(!0)},[]);he.useEffect(()=>{if(!F)return;const Re=st=>{const Gt=window.innerHeight-st.clientY-56;D(Math.max(100,Math.min(350,Gt)))},Ge=()=>{B(!1)};return document.addEventListener("mousemove",Re),document.addEventListener("mouseup",Ge),()=>{document.removeEventListener("mousemove",Re),document.removeEventListener("mouseup",Ge)}},[F]);const Xt=()=>{const Re=new Lt;Re.setFontSize(24),Re.setFont("helvetica","bold"),Re.text(r.title,20,20),Re.setFontSize(12),Re.setFont("helvetica","normal"),Re.text(`Key: ${e} | Tempo: ${r.tempo} BPM`,20,30);let Ge=50;const st=new Set;if(r.sections.forEach(dt=>{Ge>270&&(Re.addPage(),Ge=20),Re.setFontSize(14),Re.setFont("helvetica","bold"),Re.text(`[${dt.name}]`,20,Ge),Ge+=10;const lt=dt.measures.map(Ft=>{const bt=Ft.beats.length;return Ft.beats.forEach(ct=>{if(ct.chord){const Kt=ct.chord.root,ot={major:"maj",minor:"m",diminished:"dim",augmented:"aug",major7:"maj7",minor7:"m7",dominant7:"7",halfDiminished7:"m7b5",sus2:"sus2",sus4:"sus4"}[ct.chord.quality]||ct.chord.quality||"maj";st.add(`${Kt}|${ot}`)}}),bt===1?`${Ft.beats[0]?.chord?.symbol||""}   `:bt===2?Ft.beats.map(ct=>`${ct.chord?.symbol||""} `).join(" "):Ft.beats.map(ct=>ct.chord?.symbol||"").join(" ")}).join("  |  ");Re.setFontSize(12),Re.setFont("helvetica","normal"),Re.text(lt||"(No chords)",20,Ge),Ge+=15}),st.size>0){const dt=Array.from(st),At=245,lt=5,ct=dt.length*(22+lt)>At,Kt=ct?18:22,ft=ct?18:20,ot=ct?22:25,Tt=ct?155:170;let Rn=0,_e=35;const Ie=ct?Math.ceil(dt.length/2):dt.length;dt.forEach((Xe,$e)=>{const[Nt,vt]=Xe.split("|"),Et=i_(Nt,vt);if(!Et)return;ct&&$e===Ie&&(Rn=1,_e=35);const Qt=Rn*ot,Zt=`${Nt}${vt==="maj"?"":vt}`;Re.setFontSize(ct?6:7),Re.setFont("helvetica","bold"),Re.setTextColor(0,0,0),Re.text(Zt,Tt+Qt+ft/2+2,_e,{align:"center"}),It(Re,Et,Tt+Qt,_e+3,ct),_e+=Kt+lt})}const rt=Re.output("blob"),Gt=`${r.title.replace(/\s+/g,"-").toLowerCase()}.pdf`,Ct=URL.createObjectURL(rt),pt=document.createElement("a");pt.href=Ct,pt.download=Gt,document.body.appendChild(pt),pt.click(),document.body.removeChild(pt),URL.revokeObjectURL(Ct)},It=(Re,Ge,st,rt,Gt=!1)=>{const{frets:Ct,barres:pt,baseFret:dt}=Ge,At=Gt?2.5:3,lt=Gt?3:4,Ft=4,bt=6,ct=Gt?1:1.2,Kt=Array.from({length:bt},(_e,Ie)=>st+Ie*At),ft=Array.from({length:Ft+1},(_e,Ie)=>rt+Ie*lt),ot=dt===1,Tt=At*(bt-1),Rn=lt*Ft;Re.setDrawColor(0,0,0),ot?(Re.setLineWidth(1),Re.line(st,rt,st+Tt,rt)):(Re.setLineWidth(.3),Re.line(st,rt,st+Tt,rt),Re.setFontSize(Gt?6:7),Re.setFont("helvetica","bold"),Re.text(dt.toString(),st-3,rt+lt/2+1)),Re.setLineWidth(.2),ft.slice(1).forEach(_e=>{Re.line(st,_e,st+Tt,_e)}),Kt.forEach(_e=>{Re.line(_e,rt,_e,rt+Rn)}),pt.forEach(_e=>{const Ie=Ct.map((vt,Et)=>({fret:vt,idx:Et})).filter(({fret:vt})=>vt===_e);if(Ie.length<2)return;const Xe=Math.min(...Ie.map(vt=>vt.idx)),$e=Math.max(...Ie.map(vt=>vt.idx)),Nt=rt+(_e-.5)*lt;Re.setLineWidth(ct*1.4),Re.line(Kt[Xe],Nt,Kt[$e],Nt),Re.setLineWidth(.2)}),Ct.forEach((_e,Ie)=>{const Xe=Kt[Ie];if(_e===-1){Re.setFontSize(Gt?6:7),Re.setFont("helvetica","bold"),Re.text("x",Xe,rt-1,{align:"center"});return}if(_e===0){Re.setLineWidth(.3),Re.circle(Xe,rt-1.5,.8,"S");return}if(pt.includes(_e)){const vt=Ct.findIndex(Et=>Et===_e);if(Ie!==vt)return}const Nt=rt+(_e-.5)*lt;Re.setFillColor(0,0,0),Re.circle(Xe,Nt,ct,"F")})},Vt=Math.max(80,R-42);return k.jsxs("div",{className:"h-full w-full flex flex-col bg-bg-primary text-text-primary overflow-hidden",children:[k.jsxs("header",{className:`${U?"h-14":"h-12"} border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center ${U?"px-4":"px-3"} bg-bg-secondary shrink-0 z-20 sticky top-0`,children:[k.jsx("div",{className:"flex items-center gap-2 shrink-0",children:k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"relative",children:k.jsx(WE,{size:U?32:24})}),k.jsx("span",{className:`font-bold ${U?"text-xs":"text-sm"} tracking-tight hidden sm:block text-text-muted`,children:"Songwriter's Wheel"})]})}),k.jsx("div",{className:"flex items-center justify-center overflow-hidden",children:P?k.jsx("input",{type:"text",value:re,onChange:Re=>ce(Re.target.value),onBlur:Ue,onKeyDown:ht,autoFocus:!0,className:`bg-bg-tertiary border border-border-medium rounded px-3 py-1 ${U?"text-xs":"text-sm"} font-medium text-text-primary focus:outline-none focus:border-accent-primary text-center ${U?"w-40":"w-56"} max-w-[70vw]`,maxLength:50}):k.jsx("span",{onDoubleClick:Te,className:`${U?"text-xs":"text-sm"} font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-2 py-1 rounded text-center truncate max-w-[70vw]`,title:"Double-click to edit title",children:r.title})}),k.jsxs("div",{className:`flex items-center ${U?"gap-3":"gap-4"} shrink-0 justify-self-end`,children:[!U&&k.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[k.jsx(UC,{size:11,className:"shrink-0"}),k.jsx("span",{className:"leading-none",children:pe})]}),k.jsxs("div",{className:`flex items-center gap-2 p-[10px] ${U?"text-xs":"text-[10px]"} text-text-muted`,children:[k.jsx("span",{className:"uppercase font-bold",children:"Key"}),k.jsx("span",{className:`font-bold text-accent-primary ${U?"text-base":"text-sm"}`,children:e})]}),k.jsxs("div",{className:"relative",ref:Me,children:[k.jsxs("button",{onClick:()=>et(!Qe),className:`flex items-center gap-1.5 ${U?"text-xs px-2 py-1.5 min-w-[44px]":"text-[11px] px-2 py-1"} text-text-secondary hover:text-text-primary transition-colors touch-feedback`,children:[k.jsx(ub,{size:U?16:12}),k.jsx("span",{className:"hidden sm:inline",children:"Save"}),k.jsx(_h,{size:U?12:10,className:`transition-transform ${Qe?"rotate-180":""}`})]}),Qe&&k.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[k.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[k.jsxs("button",{onClick:tt,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[k.jsx(ub,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),k.jsxs("button",{onClick:it,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[k.jsx(ZC,{size:14,className:"text-green-400"}),"New Song"]})]}),k.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:je.length===0?k.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):k.jsxs("div",{className:"p-1.5",children:[k.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),je.map(Re=>k.jsxs("div",{onClick:()=>Ze(Re),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${Re.id===r.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[k.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[k.jsx(KC,{size:12,className:"shrink-0"}),k.jsx("span",{className:"truncate",children:Re.title})]}),k.jsx("button",{onClick:Ge=>ut(Re.id,Re.title,Ge),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:k.jsx(Wm,{size:10})})]},Re.id))]})})]})]}),k.jsxs("button",{onClick:Xt,className:`flex items-center gap-1.5 ${U?"text-xs px-3 py-1.5 min-w-[44px]":"text-[11px] px-2.5 py-1"} bg-text-primary text-bg-primary rounded font-medium hover:bg-white transition-colors touch-feedback`,children:[k.jsx(YC,{size:U?16:12}),k.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),k.jsxs("div",{className:`flex-1 flex ${U?$?"flex-row":"flex-col":"flex-row"} overflow-hidden min-h-0`,children:[k.jsxs("div",{className:`flex flex-col min-w-0 min-h-0 ${U&&$?"w-1/2":"flex-1"} overflow-hidden bg-gradient-to-b from-bg-primary to-bg-secondary/30`,children:[k.jsxs("div",{className:`flex-1 flex flex-col ${U&&!$?"justify-center":""} overflow-hidden`,children:[!U||$?k.jsx("div",{className:`flex justify-end ${U?"px-4 py-2":"px-3 py-2 md:py-1.5"} shrink-0 w-full`,children:k.jsxs("div",{className:`flex items-center ${U?"gap-2":"gap-1"} bg-bg-secondary/80 backdrop-blur-sm rounded-full ${U?"px-3 py-2":"px-2 py-1"} border border-border-subtle shadow-lg`,children:[k.jsx("button",{onClick:L,disabled:j<=.2,className:`${U?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom out",children:k.jsx(lT,{size:U?18:12})}),k.jsxs("span",{className:`${U?"text-xs w-12":"text-[9px] w-8"} text-text-muted text-center font-medium`,children:[Math.round(j*100),"%"]}),k.jsx("button",{onClick:X,disabled:j>=2.5,className:`${U?"w-11 h-11":"w-6 h-6"} flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors touch-feedback active:scale-95`,title:"Zoom in",children:k.jsx(p3,{size:U?18:12})})]})}):null,k.jsx("div",{className:`flex-1 flex items-center justify-center overflow-hidden ${U&&!$?"px-2 py-0":"px-3 pb-3"}`,children:k.jsx("div",{className:"relative flex items-center justify-center",style:{width:`${I}px`,height:`${I}px`,maxWidth:"100%",maxHeight:U&&!$?"100%":void 0},children:k.jsx(IT,{zoomScale:j,zoomOriginY:K,onZoomChange:we})})})]}),U?null:t?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:`bg-bg-secondary border-t border-border-subtle flex items-center justify-center group transition-colors ${F?"bg-accent-primary/20":""}`,style:{height:"16px"},children:k.jsx("div",{className:"flex-1 h-full cursor-ns-resize flex items-center justify-center hover:bg-bg-tertiary transition-colors",onMouseDown:Mt,children:k.jsx(JC,{size:10,className:"text-text-muted group-hover:text-text-secondary"})})}),k.jsxs("div",{className:"shrink-0 bg-bg-secondary overflow-hidden",style:{height:R},children:[k.jsxs("div",{className:"flex items-center justify-between px-3 border-b border-border-subtle bg-bg-secondary/90 backdrop-blur-sm",style:{paddingTop:"4px",paddingBottom:"4px"},children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[k.jsx("span",{className:"uppercase font-bold tracking-wider text-[9px]",children:"Scale"}),k.jsx("input",{type:"range",min:.01,max:1.6,step:.01,value:W,onChange:Re=>G(parseFloat(Re.target.value)),className:"w-32",style:{accentColor:"#8b5cf6"},"aria-label":"Timeline scale"}),k.jsxs("span",{className:"text-[10px] text-text-secondary w-12 text-right",children:[Math.round(W*100),"%"]})]}),k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsxs("button",{onClick:S,disabled:!C,className:`flex items-center gap-1 ${U?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Undo (Z)",children:[k.jsx(m3,{size:U?14:12}),k.jsx("span",{className:"uppercase font-bold tracking-wider",children:U?"":"Undo"})]}),k.jsxs("button",{onClick:N,disabled:!T,className:`flex items-center gap-1 ${U?"text-xs px-3 py-2 min-h-[44px]":"text-[10px] px-2 py-1"} rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle touch-feedback`,title:"Redo (Z)",children:[k.jsx(g3,{size:U?14:12}),k.jsx("span",{className:"uppercase font-bold tracking-wider",children:U?"":"Redo"})]})]})]}),k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsxs("button",{onClick:()=>{nt({isOpen:!0,title:"Clear Timeline",message:"Are you sure you want to clear all chords from the timeline? This action cannot be undone.",confirmLabel:"Clear",isDestructive:!0,onConfirm:c})},className:`${U?"text-xs min-h-[44px] px-3":"text-[10px] px-2 py-1"} text-text-muted hover:text-red-400 rounded hover:bg-red-400/10 transition-colors flex items-center gap-1 touch-feedback`,title:"Clear all chords from timeline",children:[k.jsx(Wm,{size:U?14:12}),k.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Clear"})]}),k.jsxs("button",{onClick:i,className:`${U?"text-xs min-h-[44px] px-3":"text-[10px] px-2 py-1"} text-text-muted hover:text-text-primary rounded hover:bg-bg-tertiary transition-colors flex items-center gap-1 touch-feedback`,title:"Hide timeline",children:[k.jsx(_h,{size:U?14:12}),k.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]})]}),k.jsx(Ob,{height:Vt,scale:W})]})]}):k.jsx("div",{className:`${U?"h-12":"h-7"} bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0`,children:k.jsxs("button",{onClick:i,className:`${U?"px-4 min-h-[48px]":"px-3 h-full"} flex items-center gap-1 ${U?"text-xs":"text-[9px]"} text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors touch-feedback`,title:"Show timeline",children:[k.jsx(Zg,{size:U?14:12}),k.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})})]}),U&&$?k.jsx("div",{className:"w-1/2 flex flex-col overflow-hidden border-l border-border-subtle bg-bg-secondary",children:k.jsx(Ob,{height:300,scale:.8})}):U?null:k.jsx(Mb,{variant:"sidebar"})]}),U&&!$&&k.jsx("div",{className:"shrink-0 px-4 pb-3 bg-bg-primary border-t border-border-subtle",children:k.jsx(Mb,{variant:"drawer"})}),k.jsx("div",{className:"shrink-0 z-30 relative",style:{paddingBottom:U?"env(safe-area-inset-bottom)":void 0},children:k.jsx(GE,{})}),k.jsx(r_,{isOpen:Ne.isOpen,onClose:()=>nt(Re=>({...Re,isOpen:!1})),onConfirm:Ne.onConfirm,title:Ne.title,message:Ne.message,confirmLabel:Ne.confirmLabel,isDestructive:Ne.isDestructive})]})}h4.createRoot(document.getElementById("root")).render(k.jsx(he.StrictMode,{children:k.jsx(BL,{})}));export{Bn as _,qL as c,$y as g};
