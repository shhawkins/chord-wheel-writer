(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();var eL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function N3(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Fm={exports:{}},yf={};var dv;function C3(){if(dv)return yf;dv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,o){var h=null;if(o!==void 0&&(h=""+o),a.key!==void 0&&(h=""+a.key),"key"in a){o={};for(var c in a)c!=="key"&&(o[c]=a[c])}else o=a;return a=o.ref,{$$typeof:i,type:r,key:h,ref:a!==void 0?a:null,props:o}}return yf.Fragment=e,yf.jsx=t,yf.jsxs=t,yf}var pv;function T3(){return pv||(pv=1,Fm.exports=C3()),Fm.exports}var M=T3(),Pm={exports:{}},Ht={};var mv;function E3(){if(mv)return Ht;mv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),h=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function y(Y){return Y===null||typeof Y!="object"?null:(Y=w&&Y[w]||Y["@@iterator"],typeof Y=="function"?Y:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function T(Y,C,z){this.props=Y,this.context=C,this.refs=E,this.updater=z||N}T.prototype.isReactComponent={},T.prototype.setState=function(Y,C){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,C,"setState")},T.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function U(){}U.prototype=T.prototype;function P(Y,C,z){this.props=Y,this.context=C,this.refs=E,this.updater=z||N}var F=P.prototype=new U;F.constructor=P,A(F,T.prototype),F.isPureReactComponent=!0;var q=Array.isArray;function te(){}var G={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function I(Y,C,z){var X=z.ref;return{$$typeof:i,type:Y,key:C,ref:X!==void 0?X:null,props:z}}function Z(Y,C){return I(Y.type,C,Y.props)}function L(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===i}function j(Y){var C={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(z){return C[z]})}var $=/\/+/g;function ee(Y,C){return typeof Y=="object"&&Y!==null&&Y.key!=null?j(""+Y.key):C.toString(36)}function ue(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(te,te):(Y.status="pending",Y.then(function(C){Y.status==="pending"&&(Y.status="fulfilled",Y.value=C)},function(C){Y.status==="pending"&&(Y.status="rejected",Y.reason=C)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function Q(Y,C,z,X,ie){var ae=typeof Y;(ae==="undefined"||ae==="boolean")&&(Y=null);var fe=!1;if(Y===null)fe=!0;else switch(ae){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(Y.$$typeof){case i:case e:fe=!0;break;case m:return fe=Y._init,Q(fe(Y._payload),C,z,X,ie)}}if(fe)return ie=ie(Y),fe=X===""?"."+ee(Y,0):X,q(ie)?(z="",fe!=null&&(z=fe.replace($,"$&/")+"/"),Q(ie,C,z,"",function(Ce){return Ce})):ie!=null&&(L(ie)&&(ie=Z(ie,z+(ie.key==null||Y&&Y.key===ie.key?"":(""+ie.key).replace($,"$&/")+"/")+fe)),C.push(ie)),1;fe=0;var pe=X===""?".":X+":";if(q(Y))for(var xe=0;xe<Y.length;xe++)X=Y[xe],ae=pe+ee(X,xe),fe+=Q(X,C,z,ae,ie);else if(xe=y(Y),typeof xe=="function")for(Y=xe.call(Y),xe=0;!(X=Y.next()).done;)X=X.value,ae=pe+ee(X,xe++),fe+=Q(X,C,z,ae,ie);else if(ae==="object"){if(typeof Y.then=="function")return Q(ue(Y),C,z,X,ie);throw C=String(Y),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return fe}function re(Y,C,z){if(Y==null)return Y;var X=[],ie=0;return Q(Y,X,"","",function(ae){return C.call(z,ae,ie++)}),X}function ce(Y){if(Y._status===-1){var C=Y._result;C=C(),C.then(function(z){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=z)},function(z){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=z)}),Y._status===-1&&(Y._status=0,Y._result=C)}if(Y._status===1)return Y._result.default;throw Y._result}var de=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(C))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},Ae={map:re,forEach:function(Y,C,z){re(Y,function(){C.apply(this,arguments)},z)},count:function(Y){var C=0;return re(Y,function(){C++}),C},toArray:function(Y){return re(Y,function(C){return C})||[]},only:function(Y){if(!L(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Ht.Activity=b,Ht.Children=Ae,Ht.Component=T,Ht.Fragment=t,Ht.Profiler=a,Ht.PureComponent=P,Ht.StrictMode=r,Ht.Suspense=f,Ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Ht.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return G.H.useMemoCache(Y)}},Ht.cache=function(Y){return function(){return Y.apply(null,arguments)}},Ht.cacheSignal=function(){return null},Ht.cloneElement=function(Y,C,z){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var X=A({},Y.props),ie=Y.key;if(C!=null)for(ae in C.key!==void 0&&(ie=""+C.key),C)!D.call(C,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&C.ref===void 0||(X[ae]=C[ae]);var ae=arguments.length-2;if(ae===1)X.children=z;else if(1<ae){for(var fe=Array(ae),pe=0;pe<ae;pe++)fe[pe]=arguments[pe+2];X.children=fe}return I(Y.type,ie,X)},Ht.createContext=function(Y){return Y={$$typeof:h,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:o,_context:Y},Y},Ht.createElement=function(Y,C,z){var X,ie={},ae=null;if(C!=null)for(X in C.key!==void 0&&(ae=""+C.key),C)D.call(C,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ie[X]=C[X]);var fe=arguments.length-2;if(fe===1)ie.children=z;else if(1<fe){for(var pe=Array(fe),xe=0;xe<fe;xe++)pe[xe]=arguments[xe+2];ie.children=pe}if(Y&&Y.defaultProps)for(X in fe=Y.defaultProps,fe)ie[X]===void 0&&(ie[X]=fe[X]);return I(Y,ae,ie)},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(Y){return{$$typeof:c,render:Y}},Ht.isValidElement=L,Ht.lazy=function(Y){return{$$typeof:m,_payload:{_status:-1,_result:Y},_init:ce}},Ht.memo=function(Y,C){return{$$typeof:d,type:Y,compare:C===void 0?null:C}},Ht.startTransition=function(Y){var C=G.T,z={};G.T=z;try{var X=Y(),ie=G.S;ie!==null&&ie(z,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(te,de)}catch(ae){de(ae)}finally{C!==null&&z.types!==null&&(C.types=z.types),G.T=C}},Ht.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Ht.use=function(Y){return G.H.use(Y)},Ht.useActionState=function(Y,C,z){return G.H.useActionState(Y,C,z)},Ht.useCallback=function(Y,C){return G.H.useCallback(Y,C)},Ht.useContext=function(Y){return G.H.useContext(Y)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(Y,C){return G.H.useDeferredValue(Y,C)},Ht.useEffect=function(Y,C){return G.H.useEffect(Y,C)},Ht.useEffectEvent=function(Y){return G.H.useEffectEvent(Y)},Ht.useId=function(){return G.H.useId()},Ht.useImperativeHandle=function(Y,C,z){return G.H.useImperativeHandle(Y,C,z)},Ht.useInsertionEffect=function(Y,C){return G.H.useInsertionEffect(Y,C)},Ht.useLayoutEffect=function(Y,C){return G.H.useLayoutEffect(Y,C)},Ht.useMemo=function(Y,C){return G.H.useMemo(Y,C)},Ht.useOptimistic=function(Y,C){return G.H.useOptimistic(Y,C)},Ht.useReducer=function(Y,C,z){return G.H.useReducer(Y,C,z)},Ht.useRef=function(Y){return G.H.useRef(Y)},Ht.useState=function(Y){return G.H.useState(Y)},Ht.useSyncExternalStore=function(Y,C,z){return G.H.useSyncExternalStore(Y,C,z)},Ht.useTransition=function(){return G.H.useTransition()},Ht.version="19.2.0",Ht}var gv;function Z0(){return gv||(gv=1,Pm.exports=E3()),Pm.exports}var be=Z0();const An=N3(be);var Um={exports:{}},bf={},Vm={exports:{}},Hm={};var vv;function k3(){return vv||(vv=1,(function(i){function e(Q,re){var ce=Q.length;Q.push(re);e:for(;0<ce;){var de=ce-1>>>1,Ae=Q[de];if(0<a(Ae,re))Q[de]=re,Q[ce]=Ae,ce=de;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var re=Q[0],ce=Q.pop();if(ce!==re){Q[0]=ce;e:for(var de=0,Ae=Q.length,Y=Ae>>>1;de<Y;){var C=2*(de+1)-1,z=Q[C],X=C+1,ie=Q[X];if(0>a(z,ce))X<Ae&&0>a(ie,z)?(Q[de]=ie,Q[X]=ce,de=X):(Q[de]=z,Q[C]=ce,de=C);else if(X<Ae&&0>a(ie,ce))Q[de]=ie,Q[X]=ce,de=X;else break e}}return re}function a(Q,re){var ce=Q.sortIndex-re.sortIndex;return ce!==0?ce:Q.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var h=Date,c=h.now();i.unstable_now=function(){return h.now()-c}}var f=[],d=[],m=1,b=null,w=3,y=!1,N=!1,A=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function F(Q){for(var re=t(d);re!==null;){if(re.callback===null)r(d);else if(re.startTime<=Q)r(d),re.sortIndex=re.expirationTime,e(f,re);else break;re=t(d)}}function q(Q){if(A=!1,F(Q),!N)if(t(f)!==null)N=!0,te||(te=!0,j());else{var re=t(d);re!==null&&ue(q,re.startTime-Q)}}var te=!1,G=-1,D=5,I=-1;function Z(){return E?!0:!(i.unstable_now()-I<D)}function L(){if(E=!1,te){var Q=i.unstable_now();I=Q;var re=!0;try{e:{N=!1,A&&(A=!1,U(G),G=-1),y=!0;var ce=w;try{t:{for(F(Q),b=t(f);b!==null&&!(b.expirationTime>Q&&Z());){var de=b.callback;if(typeof de=="function"){b.callback=null,w=b.priorityLevel;var Ae=de(b.expirationTime<=Q);if(Q=i.unstable_now(),typeof Ae=="function"){b.callback=Ae,F(Q),re=!0;break t}b===t(f)&&r(f),F(Q)}else r(f);b=t(f)}if(b!==null)re=!0;else{var Y=t(d);Y!==null&&ue(q,Y.startTime-Q),re=!1}}break e}finally{b=null,w=ce,y=!1}re=void 0}}finally{re?j():te=!1}}}var j;if(typeof P=="function")j=function(){P(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ee=$.port2;$.port1.onmessage=L,j=function(){ee.postMessage(null)}}else j=function(){T(L,0)};function ue(Q,re){G=T(function(){Q(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var ce=w;w=re;try{return Q()}finally{w=ce}},i.unstable_requestPaint=function(){E=!0},i.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=w;w=Q;try{return re()}finally{w=ce}},i.unstable_scheduleCallback=function(Q,re,ce){var de=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?de+ce:de):ce=de,Q){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ce+Ae,Q={id:m++,callback:re,priorityLevel:Q,startTime:ce,expirationTime:Ae,sortIndex:-1},ce>de?(Q.sortIndex=ce,e(d,Q),t(f)===null&&Q===t(d)&&(A?(U(G),G=-1):A=!0,ue(q,ce-de))):(Q.sortIndex=Ae,e(f,Q),N||y||(N=!0,te||(te=!0,j()))),Q},i.unstable_shouldYield=Z,i.unstable_wrapCallback=function(Q){var re=w;return function(){var ce=w;w=re;try{return Q.apply(this,arguments)}finally{w=ce}}}})(Hm)),Hm}var yv;function O3(){return yv||(yv=1,Vm.exports=k3()),Vm.exports}var Gm={exports:{}},Mr={};var bv;function L3(){if(bv)return Mr;bv=1;var i=Z0();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:d,implementation:m}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mr.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,m)},Mr.flushSync=function(f){var d=h.T,m=r.p;try{if(h.T=null,r.p=2,f)return f()}finally{h.T=d,r.p=m,r.d.f()}},Mr.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Mr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Mr.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,b=c(m,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:y}):m==="script"&&r.d.X(f,{crossOrigin:b,integrity:w,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Mr.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Mr.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,b=c(m,d.crossOrigin);r.d.L(f,m,{crossOrigin:b,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Mr.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Mr.requestFormReset=function(f){r.d.r(f)},Mr.unstable_batchedUpdates=function(f,d){return f(d)},Mr.useFormState=function(f,d,m){return h.H.useFormState(f,d,m)},Mr.useFormStatus=function(){return h.H.useHostTransitionStatus()},Mr.version="19.2.0",Mr}var _v;function Lb(){if(_v)return Gm.exports;_v=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gm.exports=L3(),Gm.exports}var xv;function M3(){if(xv)return bf;xv=1;var i=O3(),e=Z0(),t=Lb();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function c(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(o(n)!==n)throw Error(r(188))}function d(n){var s=n.alternate;if(!s){if(s=o(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,u=s;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return f(g),n;if(_===u)return f(g),s;_=_.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=_;else{for(var O=!1,K=g.child;K;){if(K===l){O=!0,l=g,u=_;break}if(K===u){O=!0,u=g,l=_;break}K=K.sibling}if(!O){for(K=_.child;K;){if(K===l){O=!0,l=_,u=g;break}if(K===u){O=!0,u=_,l=g;break}K=K.sibling}if(!O)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),P=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var $=Symbol.for("react.client.reference");function ee(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===$?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case q:return"Suspense";case te:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case P:return n.displayName||"Context";case U:return(n._context.displayName||"Context")+".Consumer";case F:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case G:return s=n.displayName||null,s!==null?s:ee(n.type)||"Memo";case D:s=n._payload,n=n._init;try{return ee(n(s))}catch{}}return null}var ue=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},de=[],Ae=-1;function Y(n){return{current:n}}function C(n){0>Ae||(n.current=de[Ae],de[Ae]=null,Ae--)}function z(n,s){Ae++,de[Ae]=n.current,n.current=s}var X=Y(null),ie=Y(null),ae=Y(null),fe=Y(null);function pe(n,s){switch(z(ae,s),z(ie,n),z(X,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?I5(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=I5(s),n=B5(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}C(X),z(X,n)}function xe(){C(X),C(ie),C(ae)}function Ce(n){n.memoizedState!==null&&z(fe,n);var s=X.current,l=B5(s,n.type);s!==l&&(z(ie,n),z(X,l))}function He(n){ie.current===n&&(C(X),C(ie)),fe.current===n&&(C(fe),pf._currentValue=ce)}var Ze,Je;function it(n){if(Ze===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ze=s&&s[1]||"",Je=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+n+Je}var H=!1;function Me(n,s){if(!n||H)return"";H=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(De){var Le=De}Reflect.construct(n,[],Ve)}else{try{Ve.call()}catch(De){Le=De}n.call(Ve.prototype)}}else{try{throw Error()}catch(De){Le=De}(Ve=n())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(De){if(De&&Le&&typeof De.stack=="string")return[De.stack,Le.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),O=_[0],K=_[1];if(O&&K){var he=O.split(`
`),Oe=K.split(`
`);for(g=u=0;u<he.length&&!he[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Oe.length&&!Oe[g].includes("DetermineComponentFrameRoot");)g++;if(u===he.length||g===Oe.length)for(u=he.length-1,g=Oe.length-1;1<=u&&0<=g&&he[u]!==Oe[g];)g--;for(;1<=u&&0<=g;u--,g--)if(he[u]!==Oe[g]){if(u!==1||g!==1)do if(u--,g--,0>g||he[u]!==Oe[g]){var Be=`
`+he[u].replace(" at new "," at ");return n.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",n.displayName)),Be}while(1<=u&&0<=g);break}}}finally{H=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?it(l):""}function st(n,s){switch(n.tag){case 26:case 27:case 5:return it(n.type);case 16:return it("Lazy");case 13:return n.child!==s&&s!==null?it("Suspense Fallback"):it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return Me(n.type,!1);case 11:return Me(n.type.render,!1);case 1:return Me(n.type,!0);case 31:return it("Activity");default:return""}}function $e(n){try{var s="",l=null;do s+=st(n,l),l=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ge=Object.prototype.hasOwnProperty,qe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,et=i.unstable_shouldYield,nt=i.unstable_requestPaint,Ie=i.unstable_now,ze=i.unstable_getCurrentPriorityLevel,Ge=i.unstable_ImmediatePriority,rt=i.unstable_UserBlockingPriority,at=i.unstable_NormalPriority,Qe=i.unstable_LowPriority,ht=i.unstable_IdlePriority,ot=i.log,Nn=i.unstable_setDisableYieldValue,Ft=null,wt=null;function At(n){if(typeof ot=="function"&&Nn(n),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Ft,n)}catch{}}var Pt=Math.clz32?Math.clz32:Nt,bt=Math.log,on=Math.LN2;function Nt(n){return n>>>=0,n===0?32:31-(bt(n)/on|0)|0}var kt=256,ln=262144,yt=4194304;function lt(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ot(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,_=n.suspendedLanes,O=n.pingedLanes;n=n.warmLanes;var K=u&134217727;return K!==0?(u=K&~_,u!==0?g=lt(u):(O&=K,O!==0?g=lt(O):l||(l=K&~n,l!==0&&(g=lt(l))))):(K=u&~_,K!==0?g=lt(K):O!==0?g=lt(O):l||(l=u&~n,l!==0&&(g=lt(l)))),g===0?0:s!==0&&s!==g&&(s&_)===0&&(_=g&-g,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:g}function Jn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function cn(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mn(){var n=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),n}function Dn(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function ft(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function _n(n,s,l,u,g,_){var O=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var K=n.entanglements,he=n.expirationTimes,Oe=n.hiddenUpdates;for(l=O&~l;0<l;){var Be=31-Pt(l),Ve=1<<Be;K[Be]=0,he[Be]=-1;var Le=Oe[Be];if(Le!==null)for(Oe[Be]=null,Be=0;Be<Le.length;Be++){var De=Le[Be];De!==null&&(De.lane&=-536870913)}l&=~Ve}u!==0&&mi(n,u,0),_!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=_&~(O&~s))}function mi(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Pt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function jn(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-Pt(l),g=1<<u;g&s|n[u]&s&&(n[u]|=s),l&=~g}}function Hn(n,s){var l=s&-s;return l=(l&42)!==0?1:un(l),(l&(n.suspendedLanes|s))!==0?0:l}function un(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Rn(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cn(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:av(n.type))}function Er(n,s){var l=re.p;try{return re.p=n,s()}finally{re.p=l}}var Mi=Math.random().toString(36).slice(2),Tn="__reactFiber$"+Mi,$n="__reactProps$"+Mi,or="__reactContainer$"+Mi,zr="__reactEvents$"+Mi,Jr="__reactListeners$"+Mi,Do="__reactHandles$"+Mi,ws="__reactResources$"+Mi,Ss="__reactMarker$"+Mi;function io(n){delete n[Tn],delete n[$n],delete n[zr],delete n[Jr],delete n[Do]}function As(n){var s=n[Tn];if(s)return s;for(var l=n.parentNode;l;){if(s=l[or]||l[Tn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=H5(n);n!==null;){if(l=n[Tn])return l;n=H5(n)}return s}n=l,l=n.parentNode}return null}function Ns(n){if(n=n[Tn]||n[or]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function jo(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ys(n){var s=n[ws];return s||(s=n[ws]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function gi(n){n[Ss]=!0}var gc=new Set,Fr={};function Cs(n,s){pa(n,s),pa(n+"Capture",s)}function pa(n,s){for(Fr[n]=s,n=0;n<s.length;n++)gc.add(s[n])}var vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yc={},bc={};function fu(n){return ge.call(bc,n)?!0:ge.call(yc,n)?!1:vc.test(n)?bc[n]=!0:(yc[n]=!0,!1)}function Pr(n,s,l){if(fu(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function ma(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function Ts(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}function mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _c(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ws(n,s,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return g.call(this)},set:function(O){l=""+O,_.call(this,O)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(O){l=""+O},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ro(n){if(!n._valueTracker){var s=_c(n)?"checked":"value";n._valueTracker=Ws(n,s,""+n[s])}}function xc(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=_c(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function vr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Di=/[\n"\\]/g;function wi(n){return n.replace(Di,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _l(n,s,l,u,g,_,O,K){n.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?n.type=O:n.removeAttribute("type"),s!=null?O==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+mn(s)):n.value!==""+mn(s)&&(n.value=""+mn(s)):O!=="submit"&&O!=="reset"||n.removeAttribute("value"),s!=null?wc(n,O,mn(s)):l!=null?wc(n,O,mn(l)):u!=null&&n.removeAttribute("value"),g==null&&_!=null&&(n.defaultChecked=!!_),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?n.name=""+mn(K):n.removeAttribute("name")}function du(n,s,l,u,g,_,O,K){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){ro(n);return}l=l!=null?""+mn(l):"",s=s!=null?""+mn(s):l,K||s===n.value||(n.value=s),n.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=K?n.checked:!!u,n.defaultChecked=!!u,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(n.name=O),ro(n)}function wc(n,s,l){s==="number"&&vr(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function yr(n,s,l,u){if(n=n.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=s.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+mn(l),s=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}s!==null||n[g].disabled||(s=n[g])}s!==null&&(s.selected=!0)}}function Sc(n,s,l){if(s!=null&&(s=""+mn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+mn(l):""}function Ac(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(ue(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=mn(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),ro(n)}function Es(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Ro=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pu(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||Ro.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function mu(n,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&pu(n,g,u)}else for(var _ in s)s.hasOwnProperty(_)&&pu(n,_,s[_])}function Nc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kr(n){return gu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function ks(){}var ga=null;function Io(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var so=null,Lt=null;function vu(n){var s=Ns(n);if(s&&(n=s.stateNode)){var l=n[$n]||null;e:switch(n=s.stateNode,s.type){case"input":if(_l(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wi(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var g=u[$n]||null;if(!g)throw Error(r(90));_l(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&xc(u)}break e;case"textarea":Sc(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&yr(n,!!l.multiple,s,!1)}}}var Tc=!1;function yu(n,s,l){if(Tc)return n(s,l);Tc=!0;try{var u=n(s);return u}finally{if(Tc=!1,(so!==null||Lt!==null)&&(Dd(),so&&(s=so,n=Lt,Lt=so=null,vu(s),n)))for(s=0;s<n.length;s++)vu(n[s])}}function Ur(n,s){var l=n.stateNode;if(l===null)return null;var u=l[$n]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ec=!1;if(Ki)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{Ec=!1}var Vr=null,qo=null,Xs=null;function bu(){if(Xs)return Xs;var n,s=qo,l=s.length,u,g="value"in Vr?Vr.value:Vr.textContent,_=g.length;for(n=0;n<l&&s[n]===g[n];n++);var O=l-n;for(u=1;u<=O&&s[l-u]===g[_-u];u++);return Xs=g.slice(n,1<u?1-u:void 0)}function $r(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function xl(){return!0}function wl(){return!1}function Pi(n){function s(l,u,g,_,O){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var K in n)n.hasOwnProperty(K)&&(l=n[K],this[K]=l?l(_):_[K]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?xl:wl,this.isPropagationStopped=wl,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),s}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=Pi(Zs),va=b({},Zs,{view:0,detail:0}),Sl=Pi(va),zo,ya,ba,Fo=b({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rt,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ba&&(ba&&n.type==="mousemove"?(zo=n.screenX-ba.screenX,ya=n.screenY-ba.screenY):ya=zo=0,ba=n),zo)},movementY:function(n){return"movementY"in n?n.movementY:ya}}),kc=Pi(Fo),_a=b({},Fo,{dataTransfer:0}),xa=Pi(_a),_u=b({},va,{relatedTarget:0}),wa=Pi(_u),xu=b({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),x=Pi(xu),R=b({},Zs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),le=Pi(R),me=b({},Zs,{data:0}),we=Pi(me),Fe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _t(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=pt[n])?!!s[n]:!1}function Rt(){return _t}var Ut=b({},va,{key:function(n){if(n.key){var s=Fe[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=$r(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Xe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rt,charCode:function(n){return n.type==="keypress"?$r(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$r(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),nn=Pi(Ut),ei=b({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vi=Pi(ei),In=b({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rt}),ji=Pi(In),Si=b({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qi=Pi(Si),Sa=b({},Fo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Os=Pi(Sa),Aa=b({},Zs,{newState:0,oldState:0}),Oc=Pi(Aa),Al=[9,13,27,32],Ks=Ki&&"CompositionEvent"in window,Ls=null;Ki&&"documentMode"in document&&(Ls=document.documentMode);var Po=Ki&&"TextEvent"in window&&!Ls,Na=Ki&&(!Ks||Ls&&8<Ls&&11>=Ls),Ui=" ",ao=!1;function oo(n,s){switch(n){case"keyup":return Al.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nl(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qs=!1;function br(n,s){switch(n){case"compositionend":return Nl(s);case"keypress":return s.which!==32?null:(ao=!0,Ui);case"textInput":return n=s.data,n===Ui&&ao?null:n;default:return null}}function Ca(n,s){if(Qs)return n==="compositionend"||!Ks&&oo(n,s)?(n=bu(),Xs=qo=Vr=null,Qs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Na&&s.locale!=="ko"?null:s.data;default:return null}}var Cl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Cl[n.type]:s==="textarea"}function Hr(n,s,l,u){so?Lt?Lt.push(u):Lt=[u]:so=u,s=Fd(s,"onChange"),0<s.length&&(l=new es("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var Ms=null,Ta=null;function Mc(n){O5(n,0)}function Ds(n){var s=jo(n);if(xc(s))return n}function lo(n,s){if(n==="change")return s}var Or=!1;if(Ki){var _r;if(Ki){var Js="oninput"in document;if(!Js){var $s=document.createElement("div");$s.setAttribute("oninput","return;"),Js=typeof $s.oninput=="function"}_r=Js}else _r=!1;Or=_r&&(!document.documentMode||9<document.documentMode)}function Ea(){Ms&&(Ms.detachEvent("onpropertychange",Tl),Ta=Ms=null)}function Tl(n){if(n.propertyName==="value"&&Ds(Ta)){var s=[];Hr(s,Ta,n,Io(n)),yu(Mc,s)}}function El(n,s,l){n==="focusin"?(Ea(),Ms=s,Ta=l,Ms.attachEvent("onpropertychange",Tl)):n==="focusout"&&Ea()}function yi(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ds(Ta)}function wu(n,s){if(n==="click")return Ds(s)}function ea(n,s){if(n==="input"||n==="change")return Ds(s)}function ta(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Ji=typeof Object.is=="function"?Object.is:ta;function ka(n,s){if(Ji(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!ge.call(s,g)||!Ji(n[g],s[g]))return!1}return!0}function kl(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ol(n,s){var l=kl(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=kl(l)}}function Oa(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Oa(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function La(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=vr(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=vr(n.document)}return s}function na(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Uo=Ki&&"documentMode"in document&&11>=document.documentMode,Gr=null,Ma=null,lr=null,ts=!1;function gn(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ts||Gr==null||Gr!==vr(u)||(u=Gr,"selectionStart"in u&&na(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),lr&&ka(lr,u)||(lr=u,u=Fd(Ma,"onSelect"),0<u.length&&(s=new es("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=Gr)))}function rn(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Bn={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},bi={},ia={};Ki&&(ia=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function js(n){if(bi[n])return bi[n];if(!Bn[n])return n;var s=Bn[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in ia)return bi[n]=s[l];return n}var Vo=js("animationend"),Dc=js("animationiteration"),Ih=js("animationstart"),cd=js("transitionrun"),ud=js("transitionstart"),hd=js("transitioncancel"),Bh=js("transitionend"),qh=new Map,Ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ho.push("scrollEnd");function ns(n,s){qh.set(n,s),Cs(s,[n])}var jc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Yr=[],Go=0,Su=0;function Rc(){for(var n=Go,s=Su=Go=0;s<n;){var l=Yr[s];Yr[s++]=null;var u=Yr[s];Yr[s++]=null;var g=Yr[s];Yr[s++]=null;var _=Yr[s];if(Yr[s++]=null,u!==null&&g!==null){var O=u.pending;O===null?g.next=g:(g.next=O.next,O.next=g),u.pending=g}_!==0&&Bc(l,g,_)}}function Ic(n,s,l,u){Yr[Go++]=n,Yr[Go++]=s,Yr[Go++]=l,Yr[Go++]=u,Su|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Au(n,s,l,u){return Ic(n,s,l,u),cr(n)}function Da(n,s){return Ic(n,null,null,s),cr(n)}function Bc(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,_=n.return;_!==null;)_.childLanes|=l,u=_.alternate,u!==null&&(u.childLanes|=l),_.tag===22&&(n=_.stateNode,n===null||n._visibility&1||(g=!0)),n=_,_=_.return;return n.tag===3?(_=n.stateNode,g&&s!==null&&(g=31-Pt(l),n=_.hiddenUpdates,u=n[g],u===null?n[g]=[s]:u.push(s),s.lane=l|536870912),_):null}function cr(n){if(50<of)throw of=0,um=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var $i={};function Nu(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(n,s,l,u){return new Nu(n,s,l,u)}function Cu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function is(n,s){var l=n.alternate;return l===null?(l=ur(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function qc(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ll(n,s,l,u,g,_){var O=0;if(u=n,typeof n=="function")Cu(n)&&(O=1);else if(typeof n=="string")O=d3(n,l,X.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=ur(31,l,s,g),n.elementType=I,n.lanes=_,n;case A:return co(l.children,g,_,s);case E:O=8,g|=24;break;case T:return n=ur(12,l,s,g|2),n.elementType=T,n.lanes=_,n;case q:return n=ur(13,l,s,g),n.elementType=q,n.lanes=_,n;case te:return n=ur(19,l,s,g),n.elementType=te,n.lanes=_,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case P:O=10;break e;case U:O=9;break e;case F:O=11;break e;case G:O=14;break e;case D:O=16,u=null;break e}O=29,l=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=ur(O,l,s,g),s.elementType=n,s.type=u,s.lanes=_,s}function co(n,s,l,u){return n=ur(7,n,u,s),n.lanes=l,n}function zc(n,s,l){return n=ur(6,n,null,s),n.lanes=l,n}function Tu(n){var s=ur(18,null,null,0);return s.stateNode=n,s}function Ml(n,s,l){return s=ur(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Eu=new WeakMap;function rs(n,s){if(typeof n=="object"&&n!==null){var l=Eu.get(n);return l!==void 0?l:(s={value:n,source:s,stack:$e(s)},Eu.set(n,s),s)}return{value:n,source:s,stack:$e(s)}}var Dl=[],Yo=0,ku=null,Fc=0,ss=[],as=0,uo=null,os=1,ls="";function Wr(n,s){Dl[Yo++]=Fc,Dl[Yo++]=ku,ku=n,Fc=s}function fd(n,s,l){ss[as++]=os,ss[as++]=ls,ss[as++]=uo,uo=n;var u=os;n=ls;var g=32-Pt(u)-1;u&=~(1<<g),l+=1;var _=32-Pt(s)+g;if(30<_){var O=g-g%5;_=(u&(1<<O)-1).toString(32),u>>=O,g-=O,os=1<<32-Pt(s)+g|l<<g|u,ls=_+n}else os=1<<_|l<<g|u,ls=n}function zh(n){n.return!==null&&(Wr(n,1),fd(n,1,0))}function Ou(n){for(;n===ku;)ku=Dl[--Yo],Dl[Yo]=null,Fc=Dl[--Yo],Dl[Yo]=null;for(;n===uo;)uo=ss[--as],ss[as]=null,ls=ss[--as],ss[as]=null,os=ss[--as],ss[as]=null}function dd(n,s){ss[as++]=os,ss[as++]=ls,ss[as++]=uo,os=s.id,ls=s.overflow,uo=n}var er=null,Gn=null,Kt=!1,xr=null,ci=!1,Rs=Error(r(519));function ho(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jl(rs(s,n)),Rs}function Fh(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[Tn]=n,s[$n]=u,l){case"dialog":Jt("cancel",s),Jt("close",s);break;case"iframe":case"object":case"embed":Jt("load",s);break;case"video":case"audio":for(l=0;l<cf.length;l++)Jt(cf[l],s);break;case"source":Jt("error",s);break;case"img":case"image":case"link":Jt("error",s),Jt("load",s);break;case"details":Jt("toggle",s);break;case"input":Jt("invalid",s),du(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Jt("invalid",s);break;case"textarea":Jt("invalid",s),Ac(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||j5(s.textContent,l)?(u.popover!=null&&(Jt("beforetoggle",s),Jt("toggle",s)),u.onScroll!=null&&Jt("scroll",s),u.onScrollEnd!=null&&Jt("scrollend",s),u.onClick!=null&&(s.onclick=ks),s=!0):s=!1,s||ho(n,!0)}function ja(n){for(er=n.return;er;)switch(er.tag){case 5:case 31:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:er=er.return}}function tr(n){if(n!==er)return!1;if(!Kt)return ja(n),Kt=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Nm(n.type,n.memoizedProps)),l=!l),l&&Gn&&ho(n),ja(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Gn=V5(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Gn=V5(n)}else s===27?(s=Gn,Xl(n.type)?(n=Om,Om=null,Gn=n):Gn=s):Gn=er?oa(n.stateNode.nextSibling):null;return!0}function Wo(){Gn=er=null,Kt=!1}function Ph(){var n=xr;return n!==null&&(ps===null?ps=n:ps.push.apply(ps,n),xr=null),n}function jl(n){xr===null?xr=[n]:xr.push(n)}var Lu=Y(null),fo=null,ra=null;function po(n,s,l){z(Lu,s._currentValue),s._currentValue=l}function cs(n){n._currentValue=Lu.current,C(Lu)}function Rl(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function Xo(n,s,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var _=g.dependencies;if(_!==null){var O=g.child;_=_.firstContext;e:for(;_!==null;){var K=_;_=g;for(var he=0;he<s.length;he++)if(K.context===s[he]){_.lanes|=l,K=_.alternate,K!==null&&(K.lanes|=l),Rl(_.return,l,n),u||(O=null);break e}_=K.next}}else if(g.tag===18){if(O=g.return,O===null)throw Error(r(341));O.lanes|=l,_=O.alternate,_!==null&&(_.lanes|=l),Rl(O,l,n),O=null}else O=g.child;if(O!==null)O.return=g;else for(O=g;O!==null;){if(O===n){O=null;break}if(g=O.sibling,g!==null){g.return=O.return,O=g;break}O=O.return}g=O}}function mo(n,s,l,u){n=null;for(var g=s,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var O=g.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var K=g.type;Ji(g.pendingProps.value,O.value)||(n!==null?n.push(K):n=[K])}}else if(g===fe.current){if(O=g.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(pf):n=[pf])}g=g.return}n!==null&&Xo(s,n,l,u),s.flags|=262144}function Mu(n){for(n=n.firstContext;n!==null;){if(!Ji(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function go(n){fo=n,ra=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nr(n){return pd(fo,n)}function Du(n,s){return fo===null&&go(n),pd(n,s)}function pd(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ra===null){if(n===null)throw Error(r(308));ra=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ra=ra.next=s;return l}var k1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},O1=i.unstable_scheduleCallback,L1=i.unstable_NormalPriority,_i={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Il(){return{controller:new k1,data:new Map,refCount:0}}function Pc(n){n.refCount--,n.refCount===0&&O1(L1,function(){n.controller.abort()})}var Uc=null,ju=0,p=0,v=null;function S(n,s){if(Uc===null){var l=Uc=[];ju=0,p=gm(),v={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ju++,s.then(k,k),s}function k(){if(--ju===0&&Uc!==null){v!==null&&(v.status="fulfilled");var n=Uc;Uc=null,p=0,v=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function B(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var V=Q.S;Q.S=function(n,s){r5=Ie(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&S(n,s),V!==null&&V(n,s)};var W=Y(null);function J(){var n=W.current;return n!==null?n:Wn.pooledCache}function ne(n,s){s===null?z(W,W.current):z(W,s.pool)}function oe(){var n=J();return n===null?null:{parent:_i._currentValue,pool:n}}var ve=Error(r(460)),Ee=Error(r(474)),se=Error(r(542)),_e={then:function(){}};function Ne(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Re(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(ks,ks),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ke(n),n;default:if(typeof s.status=="string")s.then(ks,ks);else{if(n=Wn,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ke(n),n}throw je=s,ve}}function Te(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(je=l,ve):l}}var je=null;function Pe(){if(je===null)throw Error(r(459));var n=je;return je=null,n}function Ke(n){if(n===ve||n===se)throw Error(r(483))}var We=null,gt=0;function ct(n){var s=gt;return gt+=1,We===null&&(We=[]),Re(We,n,s)}function Bt(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function dt(n,s){throw s.$$typeof===w?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Zt(n){function s(Se,ye){if(n){var ke=Se.deletions;ke===null?(Se.deletions=[ye],Se.flags|=16):ke.push(ye)}}function l(Se,ye){if(!n)return null;for(;ye!==null;)s(Se,ye),ye=ye.sibling;return null}function u(Se){for(var ye=new Map;Se!==null;)Se.key!==null?ye.set(Se.key,Se):ye.set(Se.index,Se),Se=Se.sibling;return ye}function g(Se,ye){return Se=is(Se,ye),Se.index=0,Se.sibling=null,Se}function _(Se,ye,ke){return Se.index=ke,n?(ke=Se.alternate,ke!==null?(ke=ke.index,ke<ye?(Se.flags|=67108866,ye):ke):(Se.flags|=67108866,ye)):(Se.flags|=1048576,ye)}function O(Se){return n&&Se.alternate===null&&(Se.flags|=67108866),Se}function K(Se,ye,ke,Ue){return ye===null||ye.tag!==6?(ye=zc(ke,Se.mode,Ue),ye.return=Se,ye):(ye=g(ye,ke),ye.return=Se,ye)}function he(Se,ye,ke,Ue){var Et=ke.type;return Et===A?Be(Se,ye,ke.props.children,Ue,ke.key):ye!==null&&(ye.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===D&&Te(Et)===ye.type)?(ye=g(ye,ke.props),Bt(ye,ke),ye.return=Se,ye):(ye=Ll(ke.type,ke.key,ke.props,null,Se.mode,Ue),Bt(ye,ke),ye.return=Se,ye)}function Oe(Se,ye,ke,Ue){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==ke.containerInfo||ye.stateNode.implementation!==ke.implementation?(ye=Ml(ke,Se.mode,Ue),ye.return=Se,ye):(ye=g(ye,ke.children||[]),ye.return=Se,ye)}function Be(Se,ye,ke,Ue,Et){return ye===null||ye.tag!==7?(ye=co(ke,Se.mode,Ue,Et),ye.return=Se,ye):(ye=g(ye,ke),ye.return=Se,ye)}function Ve(Se,ye,ke){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=zc(""+ye,Se.mode,ke),ye.return=Se,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case y:return ke=Ll(ye.type,ye.key,ye.props,null,Se.mode,ke),Bt(ke,ye),ke.return=Se,ke;case N:return ye=Ml(ye,Se.mode,ke),ye.return=Se,ye;case D:return ye=Te(ye),Ve(Se,ye,ke)}if(ue(ye)||j(ye))return ye=co(ye,Se.mode,ke,null),ye.return=Se,ye;if(typeof ye.then=="function")return Ve(Se,ct(ye),ke);if(ye.$$typeof===P)return Ve(Se,Du(Se,ye),ke);dt(Se,ye)}return null}function Le(Se,ye,ke,Ue){var Et=ye!==null?ye.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return Et!==null?null:K(Se,ye,""+ke,Ue);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:return ke.key===Et?he(Se,ye,ke,Ue):null;case N:return ke.key===Et?Oe(Se,ye,ke,Ue):null;case D:return ke=Te(ke),Le(Se,ye,ke,Ue)}if(ue(ke)||j(ke))return Et!==null?null:Be(Se,ye,ke,Ue,null);if(typeof ke.then=="function")return Le(Se,ye,ct(ke),Ue);if(ke.$$typeof===P)return Le(Se,ye,Du(Se,ke),Ue);dt(Se,ke)}return null}function De(Se,ye,ke,Ue,Et){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return Se=Se.get(ke)||null,K(ye,Se,""+Ue,Et);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case y:return Se=Se.get(Ue.key===null?ke:Ue.key)||null,he(ye,Se,Ue,Et);case N:return Se=Se.get(Ue.key===null?ke:Ue.key)||null,Oe(ye,Se,Ue,Et);case D:return Ue=Te(Ue),De(Se,ye,ke,Ue,Et)}if(ue(Ue)||j(Ue))return Se=Se.get(ke)||null,Be(ye,Se,Ue,Et,null);if(typeof Ue.then=="function")return De(Se,ye,ke,ct(Ue),Et);if(Ue.$$typeof===P)return De(Se,ye,ke,Du(ye,Ue),Et);dt(ye,Ue)}return null}function mt(Se,ye,ke,Ue){for(var Et=null,yn=null,xt=ye,Wt=ye=0,en=null;xt!==null&&Wt<ke.length;Wt++){xt.index>Wt?(en=xt,xt=null):en=xt.sibling;var bn=Le(Se,xt,ke[Wt],Ue);if(bn===null){xt===null&&(xt=en);break}n&&xt&&bn.alternate===null&&s(Se,xt),ye=_(bn,ye,Wt),yn===null?Et=bn:yn.sibling=bn,yn=bn,xt=en}if(Wt===ke.length)return l(Se,xt),Kt&&Wr(Se,Wt),Et;if(xt===null){for(;Wt<ke.length;Wt++)xt=Ve(Se,ke[Wt],Ue),xt!==null&&(ye=_(xt,ye,Wt),yn===null?Et=xt:yn.sibling=xt,yn=xt);return Kt&&Wr(Se,Wt),Et}for(xt=u(xt);Wt<ke.length;Wt++)en=De(xt,Se,Wt,ke[Wt],Ue),en!==null&&(n&&en.alternate!==null&&xt.delete(en.key===null?Wt:en.key),ye=_(en,ye,Wt),yn===null?Et=en:yn.sibling=en,yn=en);return n&&xt.forEach(function($l){return s(Se,$l)}),Kt&&Wr(Se,Wt),Et}function Dt(Se,ye,ke,Ue){if(ke==null)throw Error(r(151));for(var Et=null,yn=null,xt=ye,Wt=ye=0,en=null,bn=ke.next();xt!==null&&!bn.done;Wt++,bn=ke.next()){xt.index>Wt?(en=xt,xt=null):en=xt.sibling;var $l=Le(Se,xt,bn.value,Ue);if($l===null){xt===null&&(xt=en);break}n&&xt&&$l.alternate===null&&s(Se,xt),ye=_($l,ye,Wt),yn===null?Et=$l:yn.sibling=$l,yn=$l,xt=en}if(bn.done)return l(Se,xt),Kt&&Wr(Se,Wt),Et;if(xt===null){for(;!bn.done;Wt++,bn=ke.next())bn=Ve(Se,bn.value,Ue),bn!==null&&(ye=_(bn,ye,Wt),yn===null?Et=bn:yn.sibling=bn,yn=bn);return Kt&&Wr(Se,Wt),Et}for(xt=u(xt);!bn.done;Wt++,bn=ke.next())bn=De(xt,Se,Wt,bn.value,Ue),bn!==null&&(n&&bn.alternate!==null&&xt.delete(bn.key===null?Wt:bn.key),ye=_(bn,ye,Wt),yn===null?Et=bn:yn.sibling=bn,yn=bn);return n&&xt.forEach(function(A3){return s(Se,A3)}),Kt&&Wr(Se,Wt),Et}function Pn(Se,ye,ke,Ue){if(typeof ke=="object"&&ke!==null&&ke.type===A&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:e:{for(var Et=ke.key;ye!==null;){if(ye.key===Et){if(Et=ke.type,Et===A){if(ye.tag===7){l(Se,ye.sibling),Ue=g(ye,ke.props.children),Ue.return=Se,Se=Ue;break e}}else if(ye.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===D&&Te(Et)===ye.type){l(Se,ye.sibling),Ue=g(ye,ke.props),Bt(Ue,ke),Ue.return=Se,Se=Ue;break e}l(Se,ye);break}else s(Se,ye);ye=ye.sibling}ke.type===A?(Ue=co(ke.props.children,Se.mode,Ue,ke.key),Ue.return=Se,Se=Ue):(Ue=Ll(ke.type,ke.key,ke.props,null,Se.mode,Ue),Bt(Ue,ke),Ue.return=Se,Se=Ue)}return O(Se);case N:e:{for(Et=ke.key;ye!==null;){if(ye.key===Et)if(ye.tag===4&&ye.stateNode.containerInfo===ke.containerInfo&&ye.stateNode.implementation===ke.implementation){l(Se,ye.sibling),Ue=g(ye,ke.children||[]),Ue.return=Se,Se=Ue;break e}else{l(Se,ye);break}else s(Se,ye);ye=ye.sibling}Ue=Ml(ke,Se.mode,Ue),Ue.return=Se,Se=Ue}return O(Se);case D:return ke=Te(ke),Pn(Se,ye,ke,Ue)}if(ue(ke))return mt(Se,ye,ke,Ue);if(j(ke)){if(Et=j(ke),typeof Et!="function")throw Error(r(150));return ke=Et.call(ke),Dt(Se,ye,ke,Ue)}if(typeof ke.then=="function")return Pn(Se,ye,ct(ke),Ue);if(ke.$$typeof===P)return Pn(Se,ye,Du(Se,ke),Ue);dt(Se,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,ye!==null&&ye.tag===6?(l(Se,ye.sibling),Ue=g(ye,ke),Ue.return=Se,Se=Ue):(l(Se,ye),Ue=zc(ke,Se.mode,Ue),Ue.return=Se,Se=Ue),O(Se)):l(Se,ye)}return function(Se,ye,ke,Ue){try{gt=0;var Et=Pn(Se,ye,ke,Ue);return We=null,Et}catch(xt){if(xt===ve||xt===se)throw xt;var yn=ur(29,xt,null,Se.mode);return yn.lanes=Ue,yn.return=Se,yn}finally{}}}var Yn=Zt(!0),Vt=Zt(!1),ut=!1;function tt(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ti(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Mt(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Yt(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Sn&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=cr(n),Bc(n,null,l),s}return Ic(n,u,s,l),cr(n)}function xn(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,jn(n,l)}}function Ri(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var O={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=O:_=_.next=O,l=l.next}while(l!==null);_===null?g=_=s:_=_.next=s}else g=_=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var ir=!1;function qn(){if(ir){var n=v;if(n!==null)throw n}}function Ai(n,s,l,u){ir=!1;var g=n.updateQueue;ut=!1;var _=g.firstBaseUpdate,O=g.lastBaseUpdate,K=g.shared.pending;if(K!==null){g.shared.pending=null;var he=K,Oe=he.next;he.next=null,O===null?_=Oe:O.next=Oe,O=he;var Be=n.alternate;Be!==null&&(Be=Be.updateQueue,K=Be.lastBaseUpdate,K!==O&&(K===null?Be.firstBaseUpdate=Oe:K.next=Oe,Be.lastBaseUpdate=he))}if(_!==null){var Ve=g.baseState;O=0,Be=Oe=he=null,K=_;do{var Le=K.lane&-536870913,De=Le!==K.lane;if(De?($t&Le)===Le:(u&Le)===Le){Le!==0&&Le===p&&(ir=!0),Be!==null&&(Be=Be.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var mt=n,Dt=K;Le=s;var Pn=l;switch(Dt.tag){case 1:if(mt=Dt.payload,typeof mt=="function"){Ve=mt.call(Pn,Ve,Le);break e}Ve=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Dt.payload,Le=typeof mt=="function"?mt.call(Pn,Ve,Le):mt,Le==null)break e;Ve=b({},Ve,Le);break e;case 2:ut=!0}}Le=K.callback,Le!==null&&(n.flags|=64,De&&(n.flags|=8192),De=g.callbacks,De===null?g.callbacks=[Le]:De.push(Le))}else De={lane:Le,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Be===null?(Oe=Be=De,he=Ve):Be=Be.next=De,O|=Le;if(K=K.next,K===null){if(K=g.shared.pending,K===null)break;De=K,K=De.next,De.next=null,g.lastBaseUpdate=De,g.shared.pending=null}}while(!0);Be===null&&(he=Ve),g.baseState=he,g.firstBaseUpdate=Oe,g.lastBaseUpdate=Be,_===null&&(g.shared.lanes=0),Vl|=O,n.lanes=O,n.memoizedState=Ve}}function hr(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Ni(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)hr(l[n],s)}var Xt=Y(null),hn=Y(0);function ni(n,s){n=rl,z(hn,n),z(Xt,s),rl=n|s.baseLanes}function vn(){z(hn,rl),z(Xt,Xt.current)}function Ii(){rl=hn.current,C(Xt),C(hn)}var ii=Y(null),fn=null;function xi(n){var s=n.alternate;z(sn,sn.current&1),z(ii,n),fn===null&&(s===null||Xt.current!==null||s.memoizedState!==null)&&(fn=n)}function wn(n){z(sn,sn.current),z(ii,n),fn===null&&(fn=n)}function Ci(n){n.tag===22?(z(sn,sn.current),z(ii,n),fn===null&&(fn=n)):Ti()}function Ti(){z(sn,sn.current),z(ii,ii.current)}function En(n){C(ii),fn===n&&(fn=null),C(sn)}var sn=Y(0);function fr(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Em(l)||km(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ui=0,Ct=null,Tt=null,dn=null,Lr=!1,us=!1,wr=!1,Ei=0,vo=0,yo=null,Ru=0;function zn(){throw Error(r(321))}function Uh(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!Ji(n[l],s[l]))return!1;return!0}function Vh(n,s,l,u,g,_){return ui=_,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=n===null||n.memoizedState===null?m2:z1,wr=!1,_=l(u,g),wr=!1,us&&(_=Ra(s,l,u,g)),Iu(n),_}function Iu(n){Q.H=Qh;var s=Tt!==null&&Tt.next!==null;if(ui=0,dn=Tt=Ct=null,Lr=!1,vo=0,yo=null,s)throw Error(r(300));n===null||Hi||(n=n.dependencies,n!==null&&Mu(n)&&(Hi=!0))}function Ra(n,s,l,u){Ct=n;var g=0;do{if(us&&(yo=null),vo=0,us=!1,25<=g)throw Error(r(301));if(g+=1,dn=Tt=null,n.updateQueue!=null){var _=n.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Q.H=g2,_=s(l,u)}while(us);return _}function M1(){var n=Q.H,s=n.useState()[0];return s=typeof s.then=="function"?bo(s):s,n=n.useState()[0],(Tt!==null?Tt.memoizedState:null)!==n&&(Ct.flags|=1024),s}function Hh(){var n=Ei!==0;return Ei=0,n}function Gh(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Bu(n){if(Lr){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Lr=!1}ui=0,dn=Tt=Ct=null,us=!1,vo=Ei=0,yo=null}function Vi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Ct.memoizedState=dn=n:dn=dn.next=n,dn}function hi(){if(Tt===null){var n=Ct.alternate;n=n!==null?n.memoizedState:null}else n=Tt.next;var s=dn===null?Ct.memoizedState:dn.next;if(s!==null)dn=s,Tt=n;else{if(n===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Tt=n,n={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},dn===null?Ct.memoizedState=dn=n:dn=dn.next=n}return dn}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bo(n){var s=vo;return vo+=1,yo===null&&(yo=[]),n=Re(yo,n,s),s=Ct,(dn===null?s.memoizedState:dn.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?m2:z1),n}function Bl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return bo(n);if(n.$$typeof===P)return nr(n)}throw Error(r(438,String(n)))}function Zo(n){var s=null,l=Ct.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Vc(),Ct.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=Z;return s.index++,l}function sa(n,s){return typeof s=="function"?s(n):s}function qu(n){var s=hi();return ql(s,Tt,n)}function ql(n,s,l){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=n.baseQueue,_=u.pending;if(_!==null){if(g!==null){var O=g.next;g.next=_.next,_.next=O}s.baseQueue=g=_,u.pending=null}if(_=n.baseState,g===null)n.memoizedState=_;else{s=g.next;var K=O=null,he=null,Oe=s,Be=!1;do{var Ve=Oe.lane&-536870913;if(Ve!==Oe.lane?($t&Ve)===Ve:(ui&Ve)===Ve){var Le=Oe.revertLane;if(Le===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),Ve===p&&(Be=!0);else if((ui&Le)===Le){Oe=Oe.next,Le===p&&(Be=!0);continue}else Ve={lane:0,revertLane:Oe.revertLane,gesture:null,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},he===null?(K=he=Ve,O=_):he=he.next=Ve,Ct.lanes|=Le,Vl|=Le;Ve=Oe.action,wr&&l(_,Ve),_=Oe.hasEagerState?Oe.eagerState:l(_,Ve)}else Le={lane:Ve,revertLane:Oe.revertLane,gesture:Oe.gesture,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null},he===null?(K=he=Le,O=_):he=he.next=Le,Ct.lanes|=Ve,Vl|=Ve;Oe=Oe.next}while(Oe!==null&&Oe!==s);if(he===null?O=_:he.next=K,!Ji(_,n.memoizedState)&&(Hi=!0,Be&&(l=v,l!==null)))throw l;n.memoizedState=_,n.baseState=O,n.baseQueue=he,u.lastRenderedState=_}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function zu(n){var s=hi(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,_=s.memoizedState;if(g!==null){l.pending=null;var O=g=g.next;do _=n(_,O.action),O=O.next;while(O!==g);Ji(_,s.memoizedState)||(Hi=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,u]}function Fu(n,s,l){var u=Ct,g=hi(),_=Kt;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var O=!Ji((Tt||g).memoizedState,l);if(O&&(g.memoizedState=l,Hi=!0),g=g.queue,D1(Wh.bind(null,u,g,n),[n]),g.getSnapshot!==s||O||dn!==null&&dn.memoizedState.tag&1){if(u.flags|=2048,Qo(9,{destroy:void 0},Yh.bind(null,u,g,l,s),null),Wn===null)throw Error(r(349));_||(ui&127)!==0||Ia(u,s,l)}return l}function Ia(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Ct.updateQueue,s===null?(s=Vc(),Ct.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function Yh(n,s,l,u){s.value=l,s.getSnapshot=u,md(s)&&Xh(n)}function Wh(n,s,l){return l(function(){md(s)&&Xh(n)})}function md(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!Ji(n,l)}catch{return!0}}function Xh(n){var s=Da(n,2);s!==null&&ms(s,n,2)}function _o(n){var s=Vi();if(typeof n=="function"){var l=n;if(n=l(),wr){At(!0);try{l()}finally{At(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:n},s}function gd(n,s,l,u){return n.baseState=l,ql(n,Tt,typeof u=="function"?u:sa)}function vd(n,s,l,u,g){if(xd(n))throw Error(r(485));if(n=s.action,n!==null){var _={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){_.listeners.push(O)}};Q.T!==null?l(!0):_.isTransition=!1,u(_),l=s.pending,l===null?(_.next=s.pending=_,yd(s,_)):(_.next=l.next,s.pending=l.next=_)}}function yd(n,s){var l=s.action,u=s.payload,g=n.state;if(s.isTransition){var _=Q.T,O={};Q.T=O;try{var K=l(g,u),he=Q.S;he!==null&&he(O,K),Zh(n,s,K)}catch(Oe){Ko(n,s,Oe)}finally{_!==null&&O.types!==null&&(_.types=O.types),Q.T=_}}else try{_=l(g,u),Zh(n,s,_)}catch(Oe){Ko(n,s,Oe)}}function Zh(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){bd(n,s,u)},function(u){return Ko(n,s,u)}):bd(n,s,l)}function bd(n,s,l){s.status="fulfilled",s.value=l,Pu(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,yd(n,l)))}function Ko(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,Pu(s),s=s.next;while(s!==u)}n.action=null}function Pu(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function Hc(n,s){return s}function aa(n,s){if(Kt){var l=Wn.formState;if(l!==null){e:{var u=Ct;if(Kt){if(Gn){t:{for(var g=Gn,_=ci;g.nodeType!==8;){if(!_){g=null;break t}if(g=oa(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){Gn=oa(g.nextSibling),u=g.data==="F!";break e}}ho(u)}u=!1}u&&(s=l[0])}}return l=Vi(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:s},l.queue=u,l=f2.bind(null,Ct,u),u.dispatch=l,u=_o(!1),_=q1.bind(null,Ct,!1,u.queue),u=Vi(),g={state:s,dispatch:null,action:n,pending:null},u.queue=g,l=vd.bind(null,Ct,g,_,l),g.dispatch=l,u.memoizedState=n,[s,l,!1]}function Ba(n){var s=hi();return qa(s,Tt,n)}function qa(n,s,l){if(s=ql(n,s,Hc)[0],n=qu(sa)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=bo(s)}catch(O){throw O===ve?se:O}else u=s;s=hi();var g=s.queue,_=g.dispatch;return l!==s.memoizedState&&(Ct.flags|=2048,Qo(9,{destroy:void 0},Uu.bind(null,g,l),null)),[u,_,n]}function Uu(n,s){n.action=s}function Vu(n){var s=hi(),l=Tt;if(l!==null)return qa(s,l,n);hi(),s=s.memoizedState,l=hi();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function Qo(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=Vc(),Ct.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function _d(){return hi().memoizedState}function zl(n,s,l,u){var g=Vi();Ct.flags|=n,g.memoizedState=Qo(1|s,{destroy:void 0},l,u===void 0?null:u)}function Fl(n,s,l,u){var g=hi();u=u===void 0?null:u;var _=g.memoizedState.inst;Tt!==null&&u!==null&&Uh(u,Tt.memoizedState.deps)?g.memoizedState=Qo(s,_,l,u):(Ct.flags|=n,g.memoizedState=Qo(1|s,_,l,u))}function Jg(n,s){zl(8390656,8,n,s)}function D1(n,s){Fl(2048,8,n,s)}function yw(n){Ct.flags|=4;var s=Ct.updateQueue;if(s===null)s=Vc(),Ct.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function $g(n){var s=hi().memoizedState;return yw({ref:s,nextImpl:n}),function(){if((Sn&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function e2(n,s){return Fl(4,2,n,s)}function t2(n,s){return Fl(4,4,n,s)}function n2(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function i2(n,s,l){l=l!=null?l.concat([n]):null,Fl(4,4,n2.bind(null,s,n),l)}function j1(){}function r2(n,s){var l=hi();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Uh(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function s2(n,s){var l=hi();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Uh(s,u[1]))return u[0];if(u=n(),wr){At(!0);try{n()}finally{At(!1)}}return l.memoizedState=[u,s],u}function R1(n,s,l){return l===void 0||(ui&1073741824)!==0&&($t&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=a5(),Ct.lanes|=n,Vl|=n,l)}function a2(n,s,l,u){return Ji(l,s)?l:Xt.current!==null?(n=R1(n,l,u),Ji(n,s)||(Hi=!0),n):(ui&42)===0||(ui&1073741824)!==0&&($t&261930)===0?(Hi=!0,n.memoizedState=l):(n=a5(),Ct.lanes|=n,Vl|=n,s)}function o2(n,s,l,u,g){var _=re.p;re.p=_!==0&&8>_?_:8;var O=Q.T,K={};Q.T=K,q1(n,!1,s,l);try{var he=g(),Oe=Q.S;if(Oe!==null&&Oe(K,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Be=B(he,u);Kh(n,s,Be,qs(n))}else Kh(n,s,u,qs(n))}catch(Ve){Kh(n,s,{then:function(){},status:"rejected",reason:Ve},qs())}finally{re.p=_,O!==null&&K.types!==null&&(O.types=K.types),Q.T=O}}function bw(){}function I1(n,s,l,u){if(n.tag!==5)throw Error(r(476));var g=l2(n).queue;o2(n,g,s,ce,l===null?bw:function(){return c2(n),l(u)})}function l2(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:ce},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function c2(n){var s=l2(n);s.next===null&&(s=n.alternate.memoizedState),Kh(n,s.next.queue,{},qs())}function B1(){return nr(pf)}function u2(){return hi().memoizedState}function h2(){return hi().memoizedState}function _w(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=qs();n=Mt(l);var u=Yt(s,n,l);u!==null&&(ms(u,s,l),xn(u,s,l)),s={cache:Il()},n.payload=s;return}s=s.return}}function xw(n,s,l){var u=qs();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},xd(n)?d2(s,l):(l=Au(n,s,l,u),l!==null&&(ms(l,n,u),p2(l,s,u)))}function f2(n,s,l){var u=qs();Kh(n,s,l,u)}function Kh(n,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(xd(n))d2(s,g);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var O=s.lastRenderedState,K=_(O,l);if(g.hasEagerState=!0,g.eagerState=K,Ji(K,O))return Ic(n,s,g,0),Wn===null&&Rc(),!1}catch{}finally{}if(l=Au(n,s,g,u),l!==null)return ms(l,n,u),p2(l,s,u),!0}return!1}function q1(n,s,l,u){if(u={lane:2,revertLane:gm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},xd(n)){if(s)throw Error(r(479))}else s=Au(n,l,u,2),s!==null&&ms(s,n,2)}function xd(n){var s=n.alternate;return n===Ct||s!==null&&s===Ct}function d2(n,s){us=Lr=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function p2(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,jn(n,l)}}var Qh={readContext:nr,use:Bl,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn,useHostTransitionStatus:zn,useFormState:zn,useActionState:zn,useOptimistic:zn,useMemoCache:zn,useCacheRefresh:zn};Qh.useEffectEvent=zn;var m2={readContext:nr,use:Bl,useCallback:function(n,s){return Vi().memoizedState=[n,s===void 0?null:s],n},useContext:nr,useEffect:Jg,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,zl(4194308,4,n2.bind(null,s,n),l)},useLayoutEffect:function(n,s){return zl(4194308,4,n,s)},useInsertionEffect:function(n,s){zl(4,2,n,s)},useMemo:function(n,s){var l=Vi();s=s===void 0?null:s;var u=n();if(wr){At(!0);try{n()}finally{At(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=Vi();if(l!==void 0){var g=l(s);if(wr){At(!0);try{l(s)}finally{At(!1)}}}else g=s;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=xw.bind(null,Ct,n),[u.memoizedState,n]},useRef:function(n){var s=Vi();return n={current:n},s.memoizedState=n},useState:function(n){n=_o(n);var s=n.queue,l=f2.bind(null,Ct,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:j1,useDeferredValue:function(n,s){var l=Vi();return R1(l,n,s)},useTransition:function(){var n=_o(!1);return n=o2.bind(null,Ct,n.queue,!0,!1),Vi().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=Ct,g=Vi();if(Kt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Wn===null)throw Error(r(349));($t&127)!==0||Ia(u,s,l)}g.memoizedState=l;var _={value:l,getSnapshot:s};return g.queue=_,Jg(Wh.bind(null,u,_,n),[n]),u.flags|=2048,Qo(9,{destroy:void 0},Yh.bind(null,u,_,l,s),null),l},useId:function(){var n=Vi(),s=Wn.identifierPrefix;if(Kt){var l=ls,u=os;l=(u&~(1<<32-Pt(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Ei++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=Ru++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:B1,useFormState:aa,useActionState:aa,useOptimistic:function(n){var s=Vi();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=q1.bind(null,Ct,!0,l),l.dispatch=s,[n,s]},useMemoCache:Zo,useCacheRefresh:function(){return Vi().memoizedState=_w.bind(null,Ct)},useEffectEvent:function(n){var s=Vi(),l={impl:n};return s.memoizedState=l,function(){if((Sn&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},z1={readContext:nr,use:Bl,useCallback:r2,useContext:nr,useEffect:D1,useImperativeHandle:i2,useInsertionEffect:e2,useLayoutEffect:t2,useMemo:s2,useReducer:qu,useRef:_d,useState:function(){return qu(sa)},useDebugValue:j1,useDeferredValue:function(n,s){var l=hi();return a2(l,Tt.memoizedState,n,s)},useTransition:function(){var n=qu(sa)[0],s=hi().memoizedState;return[typeof n=="boolean"?n:bo(n),s]},useSyncExternalStore:Fu,useId:u2,useHostTransitionStatus:B1,useFormState:Ba,useActionState:Ba,useOptimistic:function(n,s){var l=hi();return gd(l,Tt,n,s)},useMemoCache:Zo,useCacheRefresh:h2};z1.useEffectEvent=$g;var g2={readContext:nr,use:Bl,useCallback:r2,useContext:nr,useEffect:D1,useImperativeHandle:i2,useInsertionEffect:e2,useLayoutEffect:t2,useMemo:s2,useReducer:zu,useRef:_d,useState:function(){return zu(sa)},useDebugValue:j1,useDeferredValue:function(n,s){var l=hi();return Tt===null?R1(l,n,s):a2(l,Tt.memoizedState,n,s)},useTransition:function(){var n=zu(sa)[0],s=hi().memoizedState;return[typeof n=="boolean"?n:bo(n),s]},useSyncExternalStore:Fu,useId:u2,useHostTransitionStatus:B1,useFormState:Vu,useActionState:Vu,useOptimistic:function(n,s){var l=hi();return Tt!==null?gd(l,Tt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Zo,useCacheRefresh:h2};g2.useEffectEvent=$g;function F1(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:b({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var P1={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=qs(),g=Mt(u);g.payload=s,l!=null&&(g.callback=l),s=Yt(n,g,u),s!==null&&(ms(s,n,u),xn(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=qs(),g=Mt(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Yt(n,g,u),s!==null&&(ms(s,n,u),xn(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=qs(),u=Mt(l);u.tag=2,s!=null&&(u.callback=s),s=Yt(n,u,l),s!==null&&(ms(s,n,l),xn(s,n,l))}};function v2(n,s,l,u,g,_,O){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,_,O):s.prototype&&s.prototype.isPureReactComponent?!ka(l,u)||!ka(g,_):!0}function y2(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&P1.enqueueReplaceState(s,s.state,null)}function Gc(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=b({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function b2(n){jc(n)}function _2(n){console.error(n)}function x2(n){jc(n)}function wd(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function w2(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function U1(n,s,l){return l=Mt(l),l.tag=3,l.payload={element:null},l.callback=function(){wd(n,s)},l}function S2(n){return n=Mt(n),n.tag=3,n}function A2(n,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=u.value;n.payload=function(){return g(_)},n.callback=function(){w2(s,l,u)}}var O=l.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(n.callback=function(){w2(s,l,u),typeof g!="function"&&(Hl===null?Hl=new Set([this]):Hl.add(this));var K=u.stack;this.componentDidCatch(u.value,{componentStack:K!==null?K:""})})}function ww(n,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&mo(s,l,g,!0),l=ii.current,l!==null){switch(l.tag){case 31:case 13:return fn===null?jd():l.alternate===null&&ki===0&&(ki=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===_e?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),dm(n,u,g)),!1;case 22:return l.flags|=65536,u===_e?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),dm(n,u,g)),!1}throw Error(r(435,l.tag))}return dm(n,u,g),jd(),!1}if(Kt)return s=ii.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==Rs&&(n=Error(r(422),{cause:u}),jl(rs(n,l)))):(u!==Rs&&(s=Error(r(423),{cause:u}),jl(rs(s,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=rs(u,l),g=U1(n.stateNode,u,g),Ri(n,g),ki!==4&&(ki=2)),!1;var _=Error(r(520),{cause:u});if(_=rs(_,l),af===null?af=[_]:af.push(_),ki!==4&&(ki=2),s===null)return!0;u=rs(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=U1(l.stateNode,u,n),Ri(l,n),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Hl===null||!Hl.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=S2(g),A2(g,n,l,u),Ri(l,g),!1}l=l.return}while(l!==null);return!1}var V1=Error(r(461)),Hi=!1;function Sr(n,s,l,u){s.child=n===null?Vt(s,null,l,u):Yn(s,n.child,l,u)}function N2(n,s,l,u,g){l=l.render;var _=s.ref;if("ref"in u){var O={};for(var K in u)K!=="ref"&&(O[K]=u[K])}else O=u;return go(s),u=Vh(n,s,l,O,_,g),K=Hh(),n!==null&&!Hi?(Gh(n,s,g),Jo(n,s,g)):(Kt&&K&&zh(s),s.flags|=1,Sr(n,s,u,g),s.child)}function C2(n,s,l,u,g){if(n===null){var _=l.type;return typeof _=="function"&&!Cu(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,T2(n,s,_,u,g)):(n=Ll(l.type,null,u,s,s.mode,g),n.ref=s.ref,n.return=s,s.child=n)}if(_=n.child,!Q1(n,g)){var O=_.memoizedProps;if(l=l.compare,l=l!==null?l:ka,l(O,u)&&n.ref===s.ref)return Jo(n,s,g)}return s.flags|=1,n=is(_,u),n.ref=s.ref,n.return=s,s.child=n}function T2(n,s,l,u,g){if(n!==null){var _=n.memoizedProps;if(ka(_,u)&&n.ref===s.ref)if(Hi=!1,s.pendingProps=u=_,Q1(n,g))(n.flags&131072)!==0&&(Hi=!0);else return s.lanes=n.lanes,Jo(n,s,g)}return H1(n,s,l,u,g)}function E2(n,s,l,u){var g=u.children,_=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,n!==null){for(u=s.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~_}else u=0,s.child=null;return k2(n,s,_,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ne(s,_!==null?_.cachePool:null),_!==null?ni(s,_):vn(),Ci(s);else return u=s.lanes=536870912,k2(n,s,_!==null?_.baseLanes|l:l,l,u)}else _!==null?(ne(s,_.cachePool),ni(s,_),Ti(),s.memoizedState=null):(n!==null&&ne(s,null),vn(),Ti());return Sr(n,s,g,l),s.child}function Jh(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function k2(n,s,l,u,g){var _=J();return _=_===null?null:{parent:_i._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},n!==null&&ne(s,null),vn(),Ci(s),n!==null&&mo(n,s,u,!0),s.childLanes=g,null}function Sd(n,s){return s=Nd({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function O2(n,s,l){return Yn(s,n.child,null,l),n=Sd(s,s.pendingProps),n.flags|=2,En(s),s.memoizedState=null,n}function Sw(n,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Kt){if(u.mode==="hidden")return n=Sd(s,u),s.lanes=536870912,Jh(null,n);if(wn(s),(n=Gn)?(n=U5(n,ci),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:uo!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},l=Tu(n),l.return=s,s.child=l,er=s,Gn=null)):n=null,n===null)throw ho(s);return s.lanes=536870912,null}return Sd(s,u)}var _=n.memoizedState;if(_!==null){var O=_.dehydrated;if(wn(s),g)if(s.flags&256)s.flags&=-257,s=O2(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Hi||mo(n,s,l,!1),g=(l&n.childLanes)!==0,Hi||g){if(u=Wn,u!==null&&(O=Hn(u,l),O!==0&&O!==_.retryLane))throw _.retryLane=O,Da(n,O),ms(u,n,O),V1;jd(),s=O2(n,s,l)}else n=_.treeContext,Gn=oa(O.nextSibling),er=s,Kt=!0,xr=null,ci=!1,n!==null&&dd(s,n),s=Sd(s,u),s.flags|=4096;return s}return n=is(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Ad(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function H1(n,s,l,u,g){return go(s),l=Vh(n,s,l,u,void 0,g),u=Hh(),n!==null&&!Hi?(Gh(n,s,g),Jo(n,s,g)):(Kt&&u&&zh(s),s.flags|=1,Sr(n,s,l,g),s.child)}function L2(n,s,l,u,g,_){return go(s),s.updateQueue=null,l=Ra(s,u,l,g),Iu(n),u=Hh(),n!==null&&!Hi?(Gh(n,s,_),Jo(n,s,_)):(Kt&&u&&zh(s),s.flags|=1,Sr(n,s,l,_),s.child)}function M2(n,s,l,u,g){if(go(s),s.stateNode===null){var _=$i,O=l.contextType;typeof O=="object"&&O!==null&&(_=nr(O)),_=new l(u,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=P1,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=u,_.state=s.memoizedState,_.refs={},tt(s),O=l.contextType,_.context=typeof O=="object"&&O!==null?nr(O):$i,_.state=s.memoizedState,O=l.getDerivedStateFromProps,typeof O=="function"&&(F1(s,l,O,u),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&P1.enqueueReplaceState(_,_.state,null),Ai(s,u,_,g),qn(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){_=s.stateNode;var K=s.memoizedProps,he=Gc(l,K);_.props=he;var Oe=_.context,Be=l.contextType;O=$i,typeof Be=="object"&&Be!==null&&(O=nr(Be));var Ve=l.getDerivedStateFromProps;Be=typeof Ve=="function"||typeof _.getSnapshotBeforeUpdate=="function",K=s.pendingProps!==K,Be||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(K||Oe!==O)&&y2(s,_,u,O),ut=!1;var Le=s.memoizedState;_.state=Le,Ai(s,u,_,g),qn(),Oe=s.memoizedState,K||Le!==Oe||ut?(typeof Ve=="function"&&(F1(s,l,Ve,u),Oe=s.memoizedState),(he=ut||v2(s,l,he,u,Le,Oe,O))?(Be||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Oe),_.props=u,_.state=Oe,_.context=O,u=he):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{_=s.stateNode,ti(n,s),O=s.memoizedProps,Be=Gc(l,O),_.props=Be,Ve=s.pendingProps,Le=_.context,Oe=l.contextType,he=$i,typeof Oe=="object"&&Oe!==null&&(he=nr(Oe)),K=l.getDerivedStateFromProps,(Oe=typeof K=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==Ve||Le!==he)&&y2(s,_,u,he),ut=!1,Le=s.memoizedState,_.state=Le,Ai(s,u,_,g),qn();var De=s.memoizedState;O!==Ve||Le!==De||ut||n!==null&&n.dependencies!==null&&Mu(n.dependencies)?(typeof K=="function"&&(F1(s,l,K,u),De=s.memoizedState),(Be=ut||v2(s,l,Be,u,Le,De,he)||n!==null&&n.dependencies!==null&&Mu(n.dependencies))?(Oe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,De,he),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,De,he)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===n.memoizedProps&&Le===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===n.memoizedProps&&Le===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=De),_.props=u,_.state=De,_.context=he,u=Be):(typeof _.componentDidUpdate!="function"||O===n.memoizedProps&&Le===n.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===n.memoizedProps&&Le===n.memoizedState||(s.flags|=1024),u=!1)}return _=u,Ad(n,s),u=(s.flags&128)!==0,_||u?(_=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,n!==null&&u?(s.child=Yn(s,n.child,null,g),s.child=Yn(s,null,l,g)):Sr(n,s,l,g),s.memoizedState=_.state,n=s.child):n=Jo(n,s,g),n}function D2(n,s,l,u){return Wo(),s.flags|=256,Sr(n,s,l,u),s.child}var G1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Y1(n){return{baseLanes:n,cachePool:oe()}}function W1(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=Bs),n}function j2(n,s,l){var u=s.pendingProps,g=!1,_=(s.flags&128)!==0,O;if((O=_)||(O=n!==null&&n.memoizedState===null?!1:(sn.current&2)!==0),O&&(g=!0,s.flags&=-129),O=(s.flags&32)!==0,s.flags&=-33,n===null){if(Kt){if(g?xi(s):Ti(),(n=Gn)?(n=U5(n,ci),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:uo!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},l=Tu(n),l.return=s,s.child=l,er=s,Gn=null)):n=null,n===null)throw ho(s);return km(n)?s.lanes=32:s.lanes=536870912,null}var K=u.children;return u=u.fallback,g?(Ti(),g=s.mode,K=Nd({mode:"hidden",children:K},g),u=co(u,g,l,null),K.return=s,u.return=s,K.sibling=u,s.child=K,u=s.child,u.memoizedState=Y1(l),u.childLanes=W1(n,O,l),s.memoizedState=G1,Jh(null,u)):(xi(s),X1(s,K))}var he=n.memoizedState;if(he!==null&&(K=he.dehydrated,K!==null)){if(_)s.flags&256?(xi(s),s.flags&=-257,s=Z1(n,s,l)):s.memoizedState!==null?(Ti(),s.child=n.child,s.flags|=128,s=null):(Ti(),K=u.fallback,g=s.mode,u=Nd({mode:"visible",children:u.children},g),K=co(K,g,l,null),K.flags|=2,u.return=s,K.return=s,u.sibling=K,s.child=u,Yn(s,n.child,null,l),u=s.child,u.memoizedState=Y1(l),u.childLanes=W1(n,O,l),s.memoizedState=G1,s=Jh(null,u));else if(xi(s),km(K)){if(O=K.nextSibling&&K.nextSibling.dataset,O)var Oe=O.dgst;O=Oe,u=Error(r(419)),u.stack="",u.digest=O,jl({value:u,source:null,stack:null}),s=Z1(n,s,l)}else if(Hi||mo(n,s,l,!1),O=(l&n.childLanes)!==0,Hi||O){if(O=Wn,O!==null&&(u=Hn(O,l),u!==0&&u!==he.retryLane))throw he.retryLane=u,Da(n,u),ms(O,n,u),V1;Em(K)||jd(),s=Z1(n,s,l)}else Em(K)?(s.flags|=192,s.child=n.child,s=null):(n=he.treeContext,Gn=oa(K.nextSibling),er=s,Kt=!0,xr=null,ci=!1,n!==null&&dd(s,n),s=X1(s,u.children),s.flags|=4096);return s}return g?(Ti(),K=u.fallback,g=s.mode,he=n.child,Oe=he.sibling,u=is(he,{mode:"hidden",children:u.children}),u.subtreeFlags=he.subtreeFlags&65011712,Oe!==null?K=is(Oe,K):(K=co(K,g,l,null),K.flags|=2),K.return=s,u.return=s,u.sibling=K,s.child=u,Jh(null,u),u=s.child,K=n.child.memoizedState,K===null?K=Y1(l):(g=K.cachePool,g!==null?(he=_i._currentValue,g=g.parent!==he?{parent:he,pool:he}:g):g=oe(),K={baseLanes:K.baseLanes|l,cachePool:g}),u.memoizedState=K,u.childLanes=W1(n,O,l),s.memoizedState=G1,Jh(n.child,u)):(xi(s),l=n.child,n=l.sibling,l=is(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(O=s.deletions,O===null?(s.deletions=[n],s.flags|=16):O.push(n)),s.child=l,s.memoizedState=null,l)}function X1(n,s){return s=Nd({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Nd(n,s){return n=ur(22,n,null,s),n.lanes=0,n}function Z1(n,s,l){return Yn(s,n.child,null,l),n=X1(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function R2(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Rl(n.return,s,l)}function K1(n,s,l,u,g,_){var O=n.memoizedState;O===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:_}:(O.isBackwards=s,O.rendering=null,O.renderingStartTime=0,O.last=u,O.tail=l,O.tailMode=g,O.treeForkCount=_)}function I2(n,s,l){var u=s.pendingProps,g=u.revealOrder,_=u.tail;u=u.children;var O=sn.current,K=(O&2)!==0;if(K?(O=O&1|2,s.flags|=128):O&=1,z(sn,O),Sr(n,s,u,l),u=Kt?Fc:0,!K&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&R2(n,l,s);else if(n.tag===19)R2(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)n=l.alternate,n!==null&&fr(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),K1(s,!1,g,l,_,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(n=g.alternate,n!==null&&fr(n)===null){s.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}K1(s,!0,l,null,_,u);break;case"together":K1(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Jo(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),Vl|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(mo(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=is(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=is(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Q1(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Mu(n)))}function Aw(n,s,l){switch(s.tag){case 3:pe(s,s.stateNode.containerInfo),po(s,_i,n.memoizedState.cache),Wo();break;case 27:case 5:Ce(s);break;case 4:pe(s,s.stateNode.containerInfo);break;case 10:po(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,wn(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(xi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?j2(n,s,l):(xi(s),n=Jo(n,s,l),n!==null?n.sibling:null);xi(s);break;case 19:var g=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(mo(n,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return I2(n,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),z(sn,sn.current),u)break;return null;case 22:return s.lanes=0,E2(n,s,l,s.pendingProps);case 24:po(s,_i,n.memoizedState.cache)}return Jo(n,s,l)}function B2(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)Hi=!0;else{if(!Q1(n,l)&&(s.flags&128)===0)return Hi=!1,Aw(n,s,l);Hi=(n.flags&131072)!==0}else Hi=!1,Kt&&(s.flags&1048576)!==0&&fd(s,Fc,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Te(s.elementType),s.type=n,typeof n=="function")Cu(n)?(u=Gc(n,u),s.tag=1,s=M2(null,s,n,u,l)):(s.tag=0,s=H1(null,s,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===F){s.tag=11,s=N2(null,s,n,u,l);break e}else if(g===G){s.tag=14,s=C2(null,s,n,u,l);break e}}throw s=ee(n)||n,Error(r(306,s,""))}}return s;case 0:return H1(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=Gc(u,s.pendingProps),M2(n,s,u,g,l);case 3:e:{if(pe(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var _=s.memoizedState;g=_.element,ti(n,s),Ai(s,u,null,l);var O=s.memoizedState;if(u=O.cache,po(s,_i,u),u!==_.cache&&Xo(s,[_i],l,!0),qn(),u=O.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:O.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=D2(n,s,u,l);break e}else if(u!==g){g=rs(Error(r(424)),s),jl(g),s=D2(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Gn=oa(n.firstChild),er=s,Kt=!0,xr=null,ci=!0,l=Vt(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Wo(),u===g){s=Jo(n,s,l);break e}Sr(n,s,u,l)}s=s.child}return s;case 26:return Ad(n,s),n===null?(l=X5(s.type,null,s.pendingProps,null))?s.memoizedState=l:Kt||(l=s.type,n=s.pendingProps,u=Pd(ae.current).createElement(l),u[Tn]=s,u[$n]=n,Ar(u,l,n),gi(u),s.stateNode=u):s.memoizedState=X5(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ce(s),n===null&&Kt&&(u=s.stateNode=G5(s.type,s.pendingProps,ae.current),er=s,ci=!0,g=Gn,Xl(s.type)?(Om=g,Gn=oa(u.firstChild)):Gn=g),Sr(n,s,s.pendingProps.children,l),Ad(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Kt&&((g=u=Gn)&&(u=e3(u,s.type,s.pendingProps,ci),u!==null?(s.stateNode=u,er=s,Gn=oa(u.firstChild),ci=!1,g=!0):g=!1),g||ho(s)),Ce(s),g=s.type,_=s.pendingProps,O=n!==null?n.memoizedProps:null,u=_.children,Nm(g,_)?u=null:O!==null&&Nm(g,O)&&(s.flags|=32),s.memoizedState!==null&&(g=Vh(n,s,M1,null,null,l),pf._currentValue=g),Ad(n,s),Sr(n,s,u,l),s.child;case 6:return n===null&&Kt&&((n=l=Gn)&&(l=t3(l,s.pendingProps,ci),l!==null?(s.stateNode=l,er=s,Gn=null,n=!0):n=!1),n||ho(s)),null;case 13:return j2(n,s,l);case 4:return pe(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Yn(s,null,u,l):Sr(n,s,u,l),s.child;case 11:return N2(n,s,s.type,s.pendingProps,l);case 7:return Sr(n,s,s.pendingProps,l),s.child;case 8:return Sr(n,s,s.pendingProps.children,l),s.child;case 12:return Sr(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,po(s,s.type,u.value),Sr(n,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,go(s),g=nr(g),u=u(g),s.flags|=1,Sr(n,s,u,l),s.child;case 14:return C2(n,s,s.type,s.pendingProps,l);case 15:return T2(n,s,s.type,s.pendingProps,l);case 19:return I2(n,s,l);case 31:return Sw(n,s,l);case 22:return E2(n,s,l,s.pendingProps);case 24:return go(s),u=nr(_i),n===null?(g=J(),g===null&&(g=Wn,_=Il(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),s.memoizedState={parent:u,cache:g},tt(s),po(s,_i,g)):((n.lanes&l)!==0&&(ti(n,s),Ai(s,null,null,l),qn()),g=n.memoizedState,_=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),po(s,_i,u)):(u=_.cache,po(s,_i,u),u!==g.cache&&Xo(s,[_i],l,!0))),Sr(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function $o(n){n.flags|=4}function J1(n,s,l,u,g){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(u5())n.flags|=8192;else throw je=_e,Ee}else n.flags&=-16777217}function q2(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!$5(s))if(u5())n.flags|=8192;else throw je=_e,Ee}function Cd(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Mn():536870912,n.lanes|=s,Wu|=s)}function $h(n,s){if(!Kt)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ri(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function Nw(n,s,l){var u=s.pendingProps;switch(Ou(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(s),null;case 1:return ri(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),cs(_i),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(tr(s)?$o(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ph())),ri(s),null;case 26:var g=s.type,_=s.memoizedState;return n===null?($o(s),_!==null?(ri(s),q2(s,_)):(ri(s),J1(s,g,null,u,l))):_?_!==n.memoizedState?($o(s),ri(s),q2(s,_)):(ri(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&$o(s),ri(s),J1(s,g,n,u,l)),null;case 27:if(He(s),l=ae.current,g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&$o(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ri(s),null}n=X.current,tr(s)?Fh(s):(n=G5(g,u,l),s.stateNode=n,$o(s))}return ri(s),null;case 5:if(He(s),g=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&$o(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return ri(s),null}if(_=X.current,tr(s))Fh(s);else{var O=Pd(ae.current);switch(_){case 1:_=O.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:_=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":_=O.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":_=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":_=O.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof u.is=="string"?O.createElement("select",{is:u.is}):O.createElement("select"),u.multiple?_.multiple=!0:u.size&&(_.size=u.size);break;default:_=typeof u.is=="string"?O.createElement(g,{is:u.is}):O.createElement(g)}}_[Tn]=s,_[$n]=u;e:for(O=s.child;O!==null;){if(O.tag===5||O.tag===6)_.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===s)break e;for(;O.sibling===null;){if(O.return===null||O.return===s)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}s.stateNode=_;e:switch(Ar(_,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&$o(s)}}return ri(s),J1(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&$o(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=ae.current,tr(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,g=er,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[Tn]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||j5(n.nodeValue,l)),n||ho(s,!0)}else n=Pd(n).createTextNode(u),n[Tn]=s,s.stateNode=n}return ri(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(u=tr(s),l!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Tn]=s}else Wo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ri(s),n=!1}else l=Ph(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(En(s),s):(En(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ri(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=tr(s),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Tn]=s}else Wo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ri(s),g=!1}else g=Ph(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(En(s),s):(En(s),null)}return En(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==g&&(u.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),Cd(s,s.updateQueue),ri(s),null);case 4:return xe(),n===null&&_m(s.stateNode.containerInfo),ri(s),null;case 10:return cs(s.type),ri(s),null;case 19:if(C(sn),u=s.memoizedState,u===null)return ri(s),null;if(g=(s.flags&128)!==0,_=u.rendering,_===null)if(g)$h(u,!1);else{if(ki!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(_=fr(n),_!==null){for(s.flags|=128,$h(u,!1),n=_.updateQueue,s.updateQueue=n,Cd(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)qc(l,n),l=l.sibling;return z(sn,sn.current&1|2),Kt&&Wr(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Ie()>Ld&&(s.flags|=128,g=!0,$h(u,!1),s.lanes=4194304)}else{if(!g)if(n=fr(_),n!==null){if(s.flags|=128,g=!0,n=n.updateQueue,s.updateQueue=n,Cd(s,n),$h(u,!0),u.tail===null&&u.tailMode==="hidden"&&!_.alternate&&!Kt)return ri(s),null}else 2*Ie()-u.renderingStartTime>Ld&&l!==536870912&&(s.flags|=128,g=!0,$h(u,!1),s.lanes=4194304);u.isBackwards?(_.sibling=s.child,s.child=_):(n=u.last,n!==null?n.sibling=_:s.child=_,u.last=_)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ie(),n.sibling=null,l=sn.current,z(sn,g?l&1|2:l&1),Kt&&Wr(s,u.treeForkCount),n):(ri(s),null);case 22:case 23:return En(s),Ii(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(ri(s),s.subtreeFlags&6&&(s.flags|=8192)):ri(s),l=s.updateQueue,l!==null&&Cd(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&C(W),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),cs(_i),ri(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Cw(n,s){switch(Ou(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return cs(_i),xe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return He(s),null;case 31:if(s.memoizedState!==null){if(En(s),s.alternate===null)throw Error(r(340));Wo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(En(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Wo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return C(sn),null;case 4:return xe(),null;case 10:return cs(s.type),null;case 22:case 23:return En(s),Ii(),n!==null&&C(W),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return cs(_i),null;case 25:return null;default:return null}}function z2(n,s){switch(Ou(s),s.tag){case 3:cs(_i),xe();break;case 26:case 27:case 5:He(s);break;case 4:xe();break;case 31:s.memoizedState!==null&&En(s);break;case 13:En(s);break;case 19:C(sn);break;case 10:cs(s.type);break;case 22:case 23:En(s),Ii(),n!==null&&C(W);break;case 24:cs(_i)}}function ef(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var _=l.create,O=l.inst;u=_(),O.destroy=u}l=l.next}while(l!==g)}}catch(K){On(s,s.return,K)}}function Pl(n,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var _=g.next;u=_;do{if((u.tag&n)===n){var O=u.inst,K=O.destroy;if(K!==void 0){O.destroy=void 0,g=s;var he=l,Oe=K;try{Oe()}catch(Be){On(g,he,Be)}}}u=u.next}while(u!==_)}}catch(Be){On(s,s.return,Be)}}function F2(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Ni(s,l)}catch(u){On(n,n.return,u)}}}function P2(n,s,l){l.props=Gc(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){On(n,s,u)}}function tf(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){On(n,s,g)}}function xo(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){On(n,s,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){On(n,s,g)}else l.current=null}function U2(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){On(n,n.return,g)}}function $1(n,s,l){try{var u=n.stateNode;Xw(u,n.type,l,s),u[$n]=s}catch(g){On(n,n.return,g)}}function V2(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xl(n.type)||n.tag===4}function em(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||V2(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xl(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function tm(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=ks));else if(u!==4&&(u===27&&Xl(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(tm(n,s,l),n=n.sibling;n!==null;)tm(n,s,l),n=n.sibling}function Td(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&Xl(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Td(n,s,l),n=n.sibling;n!==null;)Td(n,s,l),n=n.sibling}function H2(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Ar(s,u,l),s[Tn]=n,s[$n]=l}catch(_){On(n,n.return,_)}}var el=!1,Gi=!1,nm=!1,G2=typeof WeakSet=="function"?WeakSet:Set,dr=null;function Tw(n,s){if(n=n.containerInfo,Sm=Xd,n=La(n),na(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var O=0,K=-1,he=-1,Oe=0,Be=0,Ve=n,Le=null;t:for(;;){for(var De;Ve!==l||g!==0&&Ve.nodeType!==3||(K=O+g),Ve!==_||u!==0&&Ve.nodeType!==3||(he=O+u),Ve.nodeType===3&&(O+=Ve.nodeValue.length),(De=Ve.firstChild)!==null;)Le=Ve,Ve=De;for(;;){if(Ve===n)break t;if(Le===l&&++Oe===g&&(K=O),Le===_&&++Be===u&&(he=O),(De=Ve.nextSibling)!==null)break;Ve=Le,Le=Ve.parentNode}Ve=De}l=K===-1||he===-1?null:{start:K,end:he}}else l=null}l=l||{start:0,end:0}}else l=null;for(Am={focusedElem:n,selectionRange:l},Xd=!1,dr=s;dr!==null;)if(s=dr,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,dr=n;else for(;dr!==null;){switch(s=dr,_=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&_!==null){n=void 0,l=s,g=_.memoizedProps,_=_.memoizedState,u=l.stateNode;try{var mt=Gc(l.type,g);n=u.getSnapshotBeforeUpdate(mt,_),u.__reactInternalSnapshotBeforeUpdate=n}catch(Dt){On(l,l.return,Dt)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Tm(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Tm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,dr=n;break}dr=s.return}}function Y2(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:nl(n,l),u&4&&ef(5,l);break;case 1:if(nl(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(O){On(l,l.return,O)}else{var g=Gc(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(g,s,n.__reactInternalSnapshotBeforeUpdate)}catch(O){On(l,l.return,O)}}u&64&&F2(l),u&512&&tf(l,l.return);break;case 3:if(nl(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ni(n,s)}catch(O){On(l,l.return,O)}}break;case 27:s===null&&u&4&&H2(l);case 26:case 5:nl(n,l),s===null&&u&4&&U2(l),u&512&&tf(l,l.return);break;case 12:nl(n,l);break;case 31:nl(n,l),u&4&&Z2(n,l);break;case 13:nl(n,l),u&4&&K2(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=Iw.bind(null,l),n3(n,l))));break;case 22:if(u=l.memoizedState!==null||el,!u){s=s!==null&&s.memoizedState!==null||Gi,g=el;var _=Gi;el=u,(Gi=s)&&!_?il(n,l,(l.subtreeFlags&8772)!==0):nl(n,l),el=g,Gi=_}break;case 30:break;default:nl(n,l)}}function W2(n){var s=n.alternate;s!==null&&(n.alternate=null,W2(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&io(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var fi=null,hs=!1;function tl(n,s,l){for(l=l.child;l!==null;)X2(n,s,l),l=l.sibling}function X2(n,s,l){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Ft,l)}catch{}switch(l.tag){case 26:Gi||xo(l,s),tl(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Gi||xo(l,s);var u=fi,g=hs;Xl(l.type)&&(fi=l.stateNode,hs=!1),tl(n,s,l),hf(l.stateNode),fi=u,hs=g;break;case 5:Gi||xo(l,s);case 6:if(u=fi,g=hs,fi=null,tl(n,s,l),fi=u,hs=g,fi!==null)if(hs)try{(fi.nodeType===9?fi.body:fi.nodeName==="HTML"?fi.ownerDocument.body:fi).removeChild(l.stateNode)}catch(_){On(l,s,_)}else try{fi.removeChild(l.stateNode)}catch(_){On(l,s,_)}break;case 18:fi!==null&&(hs?(n=fi,F5(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),th(n)):F5(fi,l.stateNode));break;case 4:u=fi,g=hs,fi=l.stateNode.containerInfo,hs=!0,tl(n,s,l),fi=u,hs=g;break;case 0:case 11:case 14:case 15:Pl(2,l,s),Gi||Pl(4,l,s),tl(n,s,l);break;case 1:Gi||(xo(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&P2(l,s,u)),tl(n,s,l);break;case 21:tl(n,s,l);break;case 22:Gi=(u=Gi)||l.memoizedState!==null,tl(n,s,l),Gi=u;break;default:tl(n,s,l)}}function Z2(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{th(n)}catch(l){On(s,s.return,l)}}}function K2(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{th(n)}catch(l){On(s,s.return,l)}}function Ew(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new G2),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new G2),s;default:throw Error(r(435,n.tag))}}function Ed(n,s){var l=Ew(n);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=Bw.bind(null,n,u);u.then(g,g)}})}function fs(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],_=n,O=s,K=O;e:for(;K!==null;){switch(K.tag){case 27:if(Xl(K.type)){fi=K.stateNode,hs=!1;break e}break;case 5:fi=K.stateNode,hs=!1;break e;case 3:case 4:fi=K.stateNode.containerInfo,hs=!0;break e}K=K.return}if(fi===null)throw Error(r(160));X2(_,O,g),fi=null,hs=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Q2(s,n),s=s.sibling}var za=null;function Q2(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:fs(s,n),ds(n),u&4&&(Pl(3,n,n.return),ef(3,n),Pl(5,n,n.return));break;case 1:fs(s,n),ds(n),u&512&&(Gi||l===null||xo(l,l.return)),u&64&&el&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=za;if(fs(s,n),ds(n),u&512&&(Gi||l===null||xo(l,l.return)),u&4){var _=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":_=g.getElementsByTagName("title")[0],(!_||_[Ss]||_[Tn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(u),g.head.insertBefore(_,g.querySelector("head > title"))),Ar(_,u,l),_[Tn]=n,gi(_),u=_;break e;case"link":var O=Q5("link","href",g).get(u+(l.href||""));if(O){for(var K=0;K<O.length;K++)if(_=O[K],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){O.splice(K,1);break t}}_=g.createElement(u),Ar(_,u,l),g.head.appendChild(_);break;case"meta":if(O=Q5("meta","content",g).get(u+(l.content||""))){for(K=0;K<O.length;K++)if(_=O[K],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){O.splice(K,1);break t}}_=g.createElement(u),Ar(_,u,l),g.head.appendChild(_);break;default:throw Error(r(468,u))}_[Tn]=n,gi(_),u=_}n.stateNode=u}else J5(g,n.type,n.stateNode);else n.stateNode=K5(g,u,n.memoizedProps);else _!==u?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,u===null?J5(g,n.type,n.stateNode):K5(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&$1(n,n.memoizedProps,l.memoizedProps)}break;case 27:fs(s,n),ds(n),u&512&&(Gi||l===null||xo(l,l.return)),l!==null&&u&4&&$1(n,n.memoizedProps,l.memoizedProps);break;case 5:if(fs(s,n),ds(n),u&512&&(Gi||l===null||xo(l,l.return)),n.flags&32){g=n.stateNode;try{Es(g,"")}catch(mt){On(n,n.return,mt)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,$1(n,g,l!==null?l.memoizedProps:g)),u&1024&&(nm=!0);break;case 6:if(fs(s,n),ds(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(mt){On(n,n.return,mt)}}break;case 3:if(Hd=null,g=za,za=Ud(s.containerInfo),fs(s,n),za=g,ds(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{th(s.containerInfo)}catch(mt){On(n,n.return,mt)}nm&&(nm=!1,J2(n));break;case 4:u=za,za=Ud(n.stateNode.containerInfo),fs(s,n),ds(n),za=u;break;case 12:fs(s,n),ds(n);break;case 31:fs(s,n),ds(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ed(n,u)));break;case 13:fs(s,n),ds(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Od=Ie()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ed(n,u)));break;case 22:g=n.memoizedState!==null;var he=l!==null&&l.memoizedState!==null,Oe=el,Be=Gi;if(el=Oe||g,Gi=Be||he,fs(s,n),Gi=Be,el=Oe,ds(n),u&8192)e:for(s=n.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||he||el||Gi||Yc(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){he=l=s;try{if(_=he.stateNode,g)O=_.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{K=he.stateNode;var Ve=he.memoizedProps.style,Le=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;K.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(mt){On(he,he.return,mt)}}}else if(s.tag===6){if(l===null){he=s;try{he.stateNode.nodeValue=g?"":he.memoizedProps}catch(mt){On(he,he.return,mt)}}}else if(s.tag===18){if(l===null){he=s;try{var De=he.stateNode;g?P5(De,!0):P5(he.stateNode,!1)}catch(mt){On(he,he.return,mt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ed(n,l))));break;case 19:fs(s,n),ds(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ed(n,u)));break;case 30:break;case 21:break;default:fs(s,n),ds(n)}}function ds(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(V2(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,_=em(n);Td(n,_,g);break;case 5:var O=l.stateNode;l.flags&32&&(Es(O,""),l.flags&=-33);var K=em(n);Td(n,K,O);break;case 3:case 4:var he=l.stateNode.containerInfo,Oe=em(n);tm(n,Oe,he);break;default:throw Error(r(161))}}catch(Be){On(n,n.return,Be)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function J2(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;J2(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function nl(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Y2(n,s.alternate,s),s=s.sibling}function Yc(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Pl(4,s,s.return),Yc(s);break;case 1:xo(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&P2(s,s.return,l),Yc(s);break;case 27:hf(s.stateNode);case 26:case 5:xo(s,s.return),Yc(s);break;case 22:s.memoizedState===null&&Yc(s);break;case 30:Yc(s);break;default:Yc(s)}n=n.sibling}}function il(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=n,_=s,O=_.flags;switch(_.tag){case 0:case 11:case 15:il(g,_,l),ef(4,_);break;case 1:if(il(g,_,l),u=_,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Oe){On(u,u.return,Oe)}if(u=_,g=u.updateQueue,g!==null){var K=u.stateNode;try{var he=g.shared.hiddenCallbacks;if(he!==null)for(g.shared.hiddenCallbacks=null,g=0;g<he.length;g++)hr(he[g],K)}catch(Oe){On(u,u.return,Oe)}}l&&O&64&&F2(_),tf(_,_.return);break;case 27:H2(_);case 26:case 5:il(g,_,l),l&&u===null&&O&4&&U2(_),tf(_,_.return);break;case 12:il(g,_,l);break;case 31:il(g,_,l),l&&O&4&&Z2(g,_);break;case 13:il(g,_,l),l&&O&4&&K2(g,_);break;case 22:_.memoizedState===null&&il(g,_,l),tf(_,_.return);break;case 30:break;default:il(g,_,l)}s=s.sibling}}function im(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Pc(l))}function rm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pc(n))}function Fa(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$2(n,s,l,u),s=s.sibling}function $2(n,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Fa(n,s,l,u),g&2048&&ef(9,s);break;case 1:Fa(n,s,l,u);break;case 3:Fa(n,s,l,u),g&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Pc(n)));break;case 12:if(g&2048){Fa(n,s,l,u),n=s.stateNode;try{var _=s.memoizedProps,O=_.id,K=_.onPostCommit;typeof K=="function"&&K(O,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(he){On(s,s.return,he)}}else Fa(n,s,l,u);break;case 31:Fa(n,s,l,u);break;case 13:Fa(n,s,l,u);break;case 23:break;case 22:_=s.stateNode,O=s.alternate,s.memoizedState!==null?_._visibility&2?Fa(n,s,l,u):nf(n,s):_._visibility&2?Fa(n,s,l,u):(_._visibility|=2,Hu(n,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&im(O,s);break;case 24:Fa(n,s,l,u),g&2048&&rm(s.alternate,s);break;default:Fa(n,s,l,u)}}function Hu(n,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=n,O=s,K=l,he=u,Oe=O.flags;switch(O.tag){case 0:case 11:case 15:Hu(_,O,K,he,g),ef(8,O);break;case 23:break;case 22:var Be=O.stateNode;O.memoizedState!==null?Be._visibility&2?Hu(_,O,K,he,g):nf(_,O):(Be._visibility|=2,Hu(_,O,K,he,g)),g&&Oe&2048&&im(O.alternate,O);break;case 24:Hu(_,O,K,he,g),g&&Oe&2048&&rm(O.alternate,O);break;default:Hu(_,O,K,he,g)}s=s.sibling}}function nf(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,g=u.flags;switch(u.tag){case 22:nf(l,u),g&2048&&im(u.alternate,u);break;case 24:nf(l,u),g&2048&&rm(u.alternate,u);break;default:nf(l,u)}s=s.sibling}}var rf=8192;function Gu(n,s,l){if(n.subtreeFlags&rf)for(n=n.child;n!==null;)e5(n,s,l),n=n.sibling}function e5(n,s,l){switch(n.tag){case 26:Gu(n,s,l),n.flags&rf&&n.memoizedState!==null&&p3(l,za,n.memoizedState,n.memoizedProps);break;case 5:Gu(n,s,l);break;case 3:case 4:var u=za;za=Ud(n.stateNode.containerInfo),Gu(n,s,l),za=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=rf,rf=16777216,Gu(n,s,l),rf=u):Gu(n,s,l));break;default:Gu(n,s,l)}}function t5(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function sf(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];dr=u,i5(u,n)}t5(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)n5(n),n=n.sibling}function n5(n){switch(n.tag){case 0:case 11:case 15:sf(n),n.flags&2048&&Pl(9,n,n.return);break;case 3:sf(n);break;case 12:sf(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,kd(n)):sf(n);break;default:sf(n)}}function kd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];dr=u,i5(u,n)}t5(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Pl(8,s,s.return),kd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,kd(s));break;default:kd(s)}n=n.sibling}}function i5(n,s){for(;dr!==null;){var l=dr;switch(l.tag){case 0:case 11:case 15:Pl(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Pc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,dr=u;else e:for(l=n;dr!==null;){u=dr;var g=u.sibling,_=u.return;if(W2(u),u===l){dr=null;break e}if(g!==null){g.return=_,dr=g;break e}dr=_}}}var kw={getCacheForType:function(n){var s=nr(_i),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return nr(_i).controller.signal}},Ow=typeof WeakMap=="function"?WeakMap:Map,Sn=0,Wn=null,Qt=null,$t=0,kn=0,Is=null,Ul=!1,Yu=!1,sm=!1,rl=0,ki=0,Vl=0,Wc=0,am=0,Bs=0,Wu=0,af=null,ps=null,om=!1,Od=0,r5=0,Ld=1/0,Md=null,Hl=null,rr=0,Gl=null,Xu=null,sl=0,lm=0,cm=null,s5=null,of=0,um=null;function qs(){return(Sn&2)!==0&&$t!==0?$t&-$t:Q.T!==null?gm():Cn()}function a5(){if(Bs===0)if(($t&536870912)===0||Kt){var n=ln;ln<<=1,(ln&3932160)===0&&(ln=262144),Bs=n}else Bs=536870912;return n=ii.current,n!==null&&(n.flags|=32),Bs}function ms(n,s,l){(n===Wn&&(kn===2||kn===9)||n.cancelPendingCommit!==null)&&(Zu(n,0),Yl(n,$t,Bs,!1)),ft(n,l),((Sn&2)===0||n!==Wn)&&(n===Wn&&((Sn&2)===0&&(Wc|=l),ki===4&&Yl(n,$t,Bs,!1)),wo(n))}function o5(n,s,l){if((Sn&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&n.expiredLanes)===0||Jn(n,s),g=u?Dw(n,s):fm(n,s,!0),_=u;do{if(g===0){Yu&&!u&&Yl(n,s,0,!1);break}else{if(l=n.current.alternate,_&&!Lw(l)){g=fm(n,s,!1),_=!1;continue}if(g===2){if(_=s,n.errorRecoveryDisabledLanes&_)var O=0;else O=n.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){s=O;e:{var K=n;g=af;var he=K.current.memoizedState.isDehydrated;if(he&&(Zu(K,O).flags|=256),O=fm(K,O,!1),O!==2){if(sm&&!he){K.errorRecoveryDisabledLanes|=_,Wc|=_,g=4;break e}_=ps,ps=g,_!==null&&(ps===null?ps=_:ps.push.apply(ps,_))}g=O}if(_=!1,g!==2)continue}}if(g===1){Zu(n,0),Yl(n,s,0,!0);break}e:{switch(u=n,_=g,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yl(u,s,Bs,!Ul);break e;case 2:ps=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=Od+300-Ie(),10<g)){if(Yl(u,s,Bs,!Ul),Ot(u,0,!0)!==0)break e;sl=s,u.timeoutHandle=q5(l5.bind(null,u,l,ps,Md,om,s,Bs,Wc,Wu,Ul,_,"Throttled",-0,0),g);break e}l5(u,l,ps,Md,om,s,Bs,Wc,Wu,Ul,_,null,-0,0)}}break}while(!0);wo(n)}function l5(n,s,l,u,g,_,O,K,he,Oe,Be,Ve,Le,De){if(n.timeoutHandle=-1,Ve=s.subtreeFlags,Ve&8192||(Ve&16785408)===16785408){Ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ks},e5(s,_,Ve);var mt=(_&62914560)===_?Od-Ie():(_&4194048)===_?r5-Ie():0;if(mt=m3(Ve,mt),mt!==null){sl=_,n.cancelPendingCommit=mt(g5.bind(null,n,s,_,l,u,g,O,K,he,Be,Ve,null,Le,De)),Yl(n,_,O,!Oe);return}}g5(n,s,_,l,u,g,O,K,he)}function Lw(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],_=g.getSnapshot;g=g.value;try{if(!Ji(_(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yl(n,s,l,u){s&=~am,s&=~Wc,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var g=s;0<g;){var _=31-Pt(g),O=1<<_;u[_]=-1,g&=~O}l!==0&&mi(n,l,s)}function Dd(){return(Sn&6)===0?(lf(0),!1):!0}function hm(){if(Qt!==null){if(kn===0)var n=Qt.return;else n=Qt,ra=fo=null,Bu(n),We=null,gt=0,n=Qt;for(;n!==null;)z2(n.alternate,n),n=n.return;Qt=null}}function Zu(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,Qw(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),sl=0,hm(),Wn=n,Qt=l=is(n.current,null),$t=s,kn=0,Is=null,Ul=!1,Yu=Jn(n,s),sm=!1,Wu=Bs=am=Wc=Vl=ki=0,ps=af=null,om=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var g=31-Pt(u),_=1<<g;s|=n[g],u&=~_}return rl=s,Rc(),l}function c5(n,s){Ct=null,Q.H=Qh,s===ve||s===se?(s=Pe(),kn=3):s===Ee?(s=Pe(),kn=4):kn=s===V1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Is=s,Qt===null&&(ki=1,wd(n,rs(s,n.current)))}function u5(){var n=ii.current;return n===null?!0:($t&4194048)===$t?fn===null:($t&62914560)===$t||($t&536870912)!==0?n===fn:!1}function h5(){var n=Q.H;return Q.H=Qh,n===null?Qh:n}function f5(){var n=Q.A;return Q.A=kw,n}function jd(){ki=4,Ul||($t&4194048)!==$t&&ii.current!==null||(Yu=!0),(Vl&134217727)===0&&(Wc&134217727)===0||Wn===null||Yl(Wn,$t,Bs,!1)}function fm(n,s,l){var u=Sn;Sn|=2;var g=h5(),_=f5();(Wn!==n||$t!==s)&&(Md=null,Zu(n,s)),s=!1;var O=ki;e:do try{if(kn!==0&&Qt!==null){var K=Qt,he=Is;switch(kn){case 8:hm(),O=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(s=!0);var Oe=kn;if(kn=0,Is=null,Ku(n,K,he,Oe),l&&Yu){O=0;break e}break;default:Oe=kn,kn=0,Is=null,Ku(n,K,he,Oe)}}Mw(),O=ki;break}catch(Be){c5(n,Be)}while(!0);return s&&n.shellSuspendCounter++,ra=fo=null,Sn=u,Q.H=g,Q.A=_,Qt===null&&(Wn=null,$t=0,Rc()),O}function Mw(){for(;Qt!==null;)d5(Qt)}function Dw(n,s){var l=Sn;Sn|=2;var u=h5(),g=f5();Wn!==n||$t!==s?(Md=null,Ld=Ie()+500,Zu(n,s)):Yu=Jn(n,s);e:do try{if(kn!==0&&Qt!==null){s=Qt;var _=Is;t:switch(kn){case 1:kn=0,Is=null,Ku(n,s,_,1);break;case 2:case 9:if(Ne(_)){kn=0,Is=null,p5(s);break}s=function(){kn!==2&&kn!==9||Wn!==n||(kn=7),wo(n)},_.then(s,s);break e;case 3:kn=7;break e;case 4:kn=5;break e;case 7:Ne(_)?(kn=0,Is=null,p5(s)):(kn=0,Is=null,Ku(n,s,_,7));break;case 5:var O=null;switch(Qt.tag){case 26:O=Qt.memoizedState;case 5:case 27:var K=Qt;if(O?$5(O):K.stateNode.complete){kn=0,Is=null;var he=K.sibling;if(he!==null)Qt=he;else{var Oe=K.return;Oe!==null?(Qt=Oe,Rd(Oe)):Qt=null}break t}}kn=0,Is=null,Ku(n,s,_,5);break;case 6:kn=0,Is=null,Ku(n,s,_,6);break;case 8:hm(),ki=6;break e;default:throw Error(r(462))}}jw();break}catch(Be){c5(n,Be)}while(!0);return ra=fo=null,Q.H=u,Q.A=g,Sn=l,Qt!==null?0:(Wn=null,$t=0,Rc(),ki)}function jw(){for(;Qt!==null&&!et();)d5(Qt)}function d5(n){var s=B2(n.alternate,n,rl);n.memoizedProps=n.pendingProps,s===null?Rd(n):Qt=s}function p5(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=L2(l,s,s.pendingProps,s.type,void 0,$t);break;case 11:s=L2(l,s,s.pendingProps,s.type.render,s.ref,$t);break;case 5:Bu(s);default:z2(l,s),s=Qt=qc(s,rl),s=B2(l,s,rl)}n.memoizedProps=n.pendingProps,s===null?Rd(n):Qt=s}function Ku(n,s,l,u){ra=fo=null,Bu(s),We=null,gt=0;var g=s.return;try{if(ww(n,g,s,l,$t)){ki=1,wd(n,rs(l,n.current)),Qt=null;return}}catch(_){if(g!==null)throw Qt=g,_;ki=1,wd(n,rs(l,n.current)),Qt=null;return}s.flags&32768?(Kt||u===1?n=!0:Yu||($t&536870912)!==0?n=!1:(Ul=n=!0,(u===2||u===9||u===3||u===6)&&(u=ii.current,u!==null&&u.tag===13&&(u.flags|=16384))),m5(s,n)):Rd(s)}function Rd(n){var s=n;do{if((s.flags&32768)!==0){m5(s,Ul);return}n=s.return;var l=Nw(s.alternate,s,rl);if(l!==null){Qt=l;return}if(s=s.sibling,s!==null){Qt=s;return}Qt=s=n}while(s!==null);ki===0&&(ki=5)}function m5(n,s){do{var l=Cw(n.alternate,n);if(l!==null){l.flags&=32767,Qt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){Qt=n;return}Qt=n=l}while(n!==null);ki=6,Qt=null}function g5(n,s,l,u,g,_,O,K,he){n.cancelPendingCommit=null;do Id();while(rr!==0);if((Sn&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Su,_n(n,l,_,O,K,he),n===Wn&&(Qt=Wn=null,$t=0),Xu=s,Gl=n,sl=l,lm=_,cm=g,s5=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,qw(at,function(){return x5(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,g=re.p,re.p=2,O=Sn,Sn|=4;try{Tw(n,s,l)}finally{Sn=O,re.p=g,Q.T=u}}rr=1,v5(),y5(),b5()}}function v5(){if(rr===1){rr=0;var n=Gl,s=Xu,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var u=re.p;re.p=2;var g=Sn;Sn|=4;try{Q2(s,n);var _=Am,O=La(n.containerInfo),K=_.focusedElem,he=_.selectionRange;if(O!==K&&K&&K.ownerDocument&&Oa(K.ownerDocument.documentElement,K)){if(he!==null&&na(K)){var Oe=he.start,Be=he.end;if(Be===void 0&&(Be=Oe),"selectionStart"in K)K.selectionStart=Oe,K.selectionEnd=Math.min(Be,K.value.length);else{var Ve=K.ownerDocument||document,Le=Ve&&Ve.defaultView||window;if(Le.getSelection){var De=Le.getSelection(),mt=K.textContent.length,Dt=Math.min(he.start,mt),Pn=he.end===void 0?Dt:Math.min(he.end,mt);!De.extend&&Dt>Pn&&(O=Pn,Pn=Dt,Dt=O);var Se=Ol(K,Dt),ye=Ol(K,Pn);if(Se&&ye&&(De.rangeCount!==1||De.anchorNode!==Se.node||De.anchorOffset!==Se.offset||De.focusNode!==ye.node||De.focusOffset!==ye.offset)){var ke=Ve.createRange();ke.setStart(Se.node,Se.offset),De.removeAllRanges(),Dt>Pn?(De.addRange(ke),De.extend(ye.node,ye.offset)):(ke.setEnd(ye.node,ye.offset),De.addRange(ke))}}}}for(Ve=[],De=K;De=De.parentNode;)De.nodeType===1&&Ve.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Ve.length;K++){var Ue=Ve[K];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}Xd=!!Sm,Am=Sm=null}finally{Sn=g,re.p=u,Q.T=l}}n.current=s,rr=2}}function y5(){if(rr===2){rr=0;var n=Gl,s=Xu,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var u=re.p;re.p=2;var g=Sn;Sn|=4;try{Y2(n,s.alternate,s)}finally{Sn=g,re.p=u,Q.T=l}}rr=3}}function b5(){if(rr===4||rr===3){rr=0,nt();var n=Gl,s=Xu,l=sl,u=s5;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?rr=5:(rr=0,Xu=Gl=null,_5(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Hl=null),Rn(l),s=s.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Ft,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Q.T,g=re.p,re.p=2,Q.T=null;try{for(var _=n.onRecoverableError,O=0;O<u.length;O++){var K=u[O];_(K.value,{componentStack:K.stack})}}finally{Q.T=s,re.p=g}}(sl&3)!==0&&Id(),wo(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===um?of++:(of=0,um=n):of=0,lf(0)}}function _5(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Pc(s)))}function Id(){return v5(),y5(),b5(),x5()}function x5(){if(rr!==5)return!1;var n=Gl,s=lm;lm=0;var l=Rn(sl),u=Q.T,g=re.p;try{re.p=32>l?32:l,Q.T=null,l=cm,cm=null;var _=Gl,O=sl;if(rr=0,Xu=Gl=null,sl=0,(Sn&6)!==0)throw Error(r(331));var K=Sn;if(Sn|=4,n5(_.current),$2(_,_.current,O,l),Sn=K,lf(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Ft,_)}catch{}return!0}finally{re.p=g,Q.T=u,_5(n,s)}}function w5(n,s,l){s=rs(l,s),s=U1(n.stateNode,s,2),n=Yt(n,s,2),n!==null&&(ft(n,2),wo(n))}function On(n,s,l){if(n.tag===3)w5(n,n,l);else for(;s!==null;){if(s.tag===3){w5(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Hl===null||!Hl.has(u))){n=rs(l,n),l=S2(2),u=Yt(s,l,2),u!==null&&(A2(l,u,s,n),ft(u,2),wo(u));break}}s=s.return}}function dm(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new Ow;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(sm=!0,g.add(l),n=Rw.bind(null,n,s,l),s.then(n,n))}function Rw(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Wn===n&&($t&l)===l&&(ki===4||ki===3&&($t&62914560)===$t&&300>Ie()-Od?(Sn&2)===0&&Zu(n,0):am|=l,Wu===$t&&(Wu=0)),wo(n)}function S5(n,s){s===0&&(s=Mn()),n=Da(n,s),n!==null&&(ft(n,s),wo(n))}function Iw(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),S5(n,l)}function Bw(n,s){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),S5(n,l)}function qw(n,s){return qe(n,s)}var Bd=null,Qu=null,pm=!1,qd=!1,mm=!1,Wl=0;function wo(n){n!==Qu&&n.next===null&&(Qu===null?Bd=Qu=n:Qu=Qu.next=n),qd=!0,pm||(pm=!0,Fw())}function lf(n,s){if(!mm&&qd){mm=!0;do for(var l=!1,u=Bd;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var _=0;else{var O=u.suspendedLanes,K=u.pingedLanes;_=(1<<31-Pt(42|n)+1)-1,_&=g&~(O&~K),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,T5(u,_))}else _=$t,_=Ot(u,u===Wn?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||Jn(u,_)||(l=!0,T5(u,_));u=u.next}while(l);mm=!1}}function zw(){A5()}function A5(){qd=pm=!1;var n=0;Wl!==0&&Kw()&&(n=Wl);for(var s=Ie(),l=null,u=Bd;u!==null;){var g=u.next,_=N5(u,s);_===0?(u.next=null,l===null?Bd=g:l.next=g,g===null&&(Qu=l)):(l=u,(n!==0||(_&3)!==0)&&(qd=!0)),u=g}rr!==0&&rr!==5||lf(n),Wl!==0&&(Wl=0)}function N5(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,_=n.pendingLanes&-62914561;0<_;){var O=31-Pt(_),K=1<<O,he=g[O];he===-1?((K&l)===0||(K&u)!==0)&&(g[O]=cn(K,s)):he<=s&&(n.expiredLanes|=K),_&=~K}if(s=Wn,l=$t,l=Ot(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(kn===2||kn===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ye(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Jn(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&Ye(u),Rn(l)){case 2:case 8:l=rt;break;case 32:l=at;break;case 268435456:l=ht;break;default:l=at}return u=C5.bind(null,n),l=qe(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&Ye(u),n.callbackPriority=2,n.callbackNode=null,2}function C5(n,s){if(rr!==0&&rr!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Id()&&n.callbackNode!==l)return null;var u=$t;return u=Ot(n,n===Wn?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(o5(n,u,s),N5(n,Ie()),n.callbackNode!=null&&n.callbackNode===l?C5.bind(null,n):null)}function T5(n,s){if(Id())return null;o5(n,s,!0)}function Fw(){Jw(function(){(Sn&6)!==0?qe(Ge,zw):A5()})}function gm(){if(Wl===0){var n=p;n===0&&(n=kt,kt<<=1,(kt&261888)===0&&(kt=256)),Wl=n}return Wl}function E5(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:kr(""+n)}function k5(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function Pw(n,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var _=E5((g[$n]||null).action),O=u.submitter;O&&(s=(s=O[$n]||null)?E5(s.formAction):O.getAttribute("formAction"),s!==null&&(_=s,O=null));var K=new es("action","action",null,u,g);n.push({event:K,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Wl!==0){var he=O?k5(g,O):new FormData(g);I1(l,{pending:!0,data:he,method:g.method,action:_},null,he)}}else typeof _=="function"&&(K.preventDefault(),he=O?k5(g,O):new FormData(g),I1(l,{pending:!0,data:he,method:g.method,action:_},_,he))},currentTarget:g}]})}}for(var vm=0;vm<Ho.length;vm++){var ym=Ho[vm],Uw=ym.toLowerCase(),Vw=ym[0].toUpperCase()+ym.slice(1);ns(Uw,"on"+Vw)}ns(Vo,"onAnimationEnd"),ns(Dc,"onAnimationIteration"),ns(Ih,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(cd,"onTransitionRun"),ns(ud,"onTransitionStart"),ns(hd,"onTransitionCancel"),ns(Bh,"onTransitionEnd"),pa("onMouseEnter",["mouseout","mouseover"]),pa("onMouseLeave",["mouseout","mouseover"]),pa("onPointerEnter",["pointerout","pointerover"]),pa("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cf));function O5(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;e:{var _=void 0;if(s)for(var O=u.length-1;0<=O;O--){var K=u[O],he=K.instance,Oe=K.currentTarget;if(K=K.listener,he!==_&&g.isPropagationStopped())break e;_=K,g.currentTarget=Oe;try{_(g)}catch(Be){jc(Be)}g.currentTarget=null,_=he}else for(O=0;O<u.length;O++){if(K=u[O],he=K.instance,Oe=K.currentTarget,K=K.listener,he!==_&&g.isPropagationStopped())break e;_=K,g.currentTarget=Oe;try{_(g)}catch(Be){jc(Be)}g.currentTarget=null,_=he}}}}function Jt(n,s){var l=s[zr];l===void 0&&(l=s[zr]=new Set);var u=n+"__bubble";l.has(u)||(L5(s,n,2,!1),l.add(u))}function bm(n,s,l){var u=0;s&&(u|=4),L5(l,n,u,s)}var zd="_reactListening"+Math.random().toString(36).slice(2);function _m(n){if(!n[zd]){n[zd]=!0,gc.forEach(function(l){l!=="selectionchange"&&(Hw.has(l)||bm(l,!1,n),bm(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[zd]||(s[zd]=!0,bm("selectionchange",!1,s))}}function L5(n,s,l,u){switch(av(s)){case 2:var g=y3;break;case 8:g=b3;break;default:g=Rm}l=g.bind(null,s,l,n),g=void 0,!Ec||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(s,l,{capture:!0,passive:g}):n.addEventListener(s,l,!0):g!==void 0?n.addEventListener(s,l,{passive:g}):n.addEventListener(s,l,!1)}function xm(n,s,l,u,g){var _=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var O=u.tag;if(O===3||O===4){var K=u.stateNode.containerInfo;if(K===g)break;if(O===4)for(O=u.return;O!==null;){var he=O.tag;if((he===3||he===4)&&O.stateNode.containerInfo===g)return;O=O.return}for(;K!==null;){if(O=As(K),O===null)return;if(he=O.tag,he===5||he===6||he===26||he===27){u=_=O;continue e}K=K.parentNode}}u=u.return}yu(function(){var Oe=_,Be=Io(l),Ve=[];e:{var Le=qh.get(n);if(Le!==void 0){var De=es,mt=n;switch(n){case"keypress":if($r(l)===0)break e;case"keydown":case"keyup":De=nn;break;case"focusin":mt="focus",De=wa;break;case"focusout":mt="blur",De=wa;break;case"beforeblur":case"afterblur":De=wa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=xa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=ji;break;case Vo:case Dc:case Ih:De=x;break;case Bh:De=Qi;break;case"scroll":case"scrollend":De=Sl;break;case"wheel":De=Os;break;case"copy":case"cut":case"paste":De=le;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=vi;break;case"toggle":case"beforetoggle":De=Oc}var Dt=(s&4)!==0,Pn=!Dt&&(n==="scroll"||n==="scrollend"),Se=Dt?Le!==null?Le+"Capture":null:Le;Dt=[];for(var ye=Oe,ke;ye!==null;){var Ue=ye;if(ke=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||ke===null||Se===null||(Ue=Ur(ye,Se),Ue!=null&&Dt.push(uf(ye,Ue,ke))),Pn)break;ye=ye.return}0<Dt.length&&(Le=new De(Le,mt,null,l,Be),Ve.push({event:Le,listeners:Dt}))}}if((s&7)===0){e:{if(Le=n==="mouseover"||n==="pointerover",De=n==="mouseout"||n==="pointerout",Le&&l!==ga&&(mt=l.relatedTarget||l.fromElement)&&(As(mt)||mt[or]))break e;if((De||Le)&&(Le=Be.window===Be?Be:(Le=Be.ownerDocument)?Le.defaultView||Le.parentWindow:window,De?(mt=l.relatedTarget||l.toElement,De=Oe,mt=mt?As(mt):null,mt!==null&&(Pn=o(mt),Dt=mt.tag,mt!==Pn||Dt!==5&&Dt!==27&&Dt!==6)&&(mt=null)):(De=null,mt=Oe),De!==mt)){if(Dt=kc,Ue="onMouseLeave",Se="onMouseEnter",ye="mouse",(n==="pointerout"||n==="pointerover")&&(Dt=vi,Ue="onPointerLeave",Se="onPointerEnter",ye="pointer"),Pn=De==null?Le:jo(De),ke=mt==null?Le:jo(mt),Le=new Dt(Ue,ye+"leave",De,l,Be),Le.target=Pn,Le.relatedTarget=ke,Ue=null,As(Be)===Oe&&(Dt=new Dt(Se,ye+"enter",mt,l,Be),Dt.target=ke,Dt.relatedTarget=Pn,Ue=Dt),Pn=Ue,De&&mt)t:{for(Dt=Gw,Se=De,ye=mt,ke=0,Ue=Se;Ue;Ue=Dt(Ue))ke++;Ue=0;for(var Et=ye;Et;Et=Dt(Et))Ue++;for(;0<ke-Ue;)Se=Dt(Se),ke--;for(;0<Ue-ke;)ye=Dt(ye),Ue--;for(;ke--;){if(Se===ye||ye!==null&&Se===ye.alternate){Dt=Se;break t}Se=Dt(Se),ye=Dt(ye)}Dt=null}else Dt=null;De!==null&&M5(Ve,Le,De,Dt,!1),mt!==null&&Pn!==null&&M5(Ve,Pn,mt,Dt,!0)}}e:{if(Le=Oe?jo(Oe):window,De=Le.nodeName&&Le.nodeName.toLowerCase(),De==="select"||De==="input"&&Le.type==="file")var yn=lo;else if(Lc(Le))if(Or)yn=ea;else{yn=yi;var xt=El}else De=Le.nodeName,!De||De.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Oe&&Nc(Oe.elementType)&&(yn=lo):yn=wu;if(yn&&(yn=yn(n,Oe))){Hr(Ve,yn,l,Be);break e}xt&&xt(n,Le,Oe),n==="focusout"&&Oe&&Le.type==="number"&&Oe.memoizedProps.value!=null&&wc(Le,"number",Le.value)}switch(xt=Oe?jo(Oe):window,n){case"focusin":(Lc(xt)||xt.contentEditable==="true")&&(Gr=xt,Ma=Oe,lr=null);break;case"focusout":lr=Ma=Gr=null;break;case"mousedown":ts=!0;break;case"contextmenu":case"mouseup":case"dragend":ts=!1,gn(Ve,l,Be);break;case"selectionchange":if(Uo)break;case"keydown":case"keyup":gn(Ve,l,Be)}var Wt;if(Ks)e:{switch(n){case"compositionstart":var en="onCompositionStart";break e;case"compositionend":en="onCompositionEnd";break e;case"compositionupdate":en="onCompositionUpdate";break e}en=void 0}else Qs?oo(n,l)&&(en="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(en="onCompositionStart");en&&(Na&&l.locale!=="ko"&&(Qs||en!=="onCompositionStart"?en==="onCompositionEnd"&&Qs&&(Wt=bu()):(Vr=Be,qo="value"in Vr?Vr.value:Vr.textContent,Qs=!0)),xt=Fd(Oe,en),0<xt.length&&(en=new we(en,n,null,l,Be),Ve.push({event:en,listeners:xt}),Wt?en.data=Wt:(Wt=Nl(l),Wt!==null&&(en.data=Wt)))),(Wt=Po?br(n,l):Ca(n,l))&&(en=Fd(Oe,"onBeforeInput"),0<en.length&&(xt=new we("onBeforeInput","beforeinput",null,l,Be),Ve.push({event:xt,listeners:en}),xt.data=Wt)),Pw(Ve,n,Oe,l,Be)}O5(Ve,s)})}function uf(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Fd(n,s){for(var l=s+"Capture",u=[];n!==null;){var g=n,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=Ur(n,l),g!=null&&u.unshift(uf(n,g,_)),g=Ur(n,s),g!=null&&u.push(uf(n,g,_))),n.tag===3)return u;n=n.return}return[]}function Gw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function M5(n,s,l,u,g){for(var _=s._reactName,O=[];l!==null&&l!==u;){var K=l,he=K.alternate,Oe=K.stateNode;if(K=K.tag,he!==null&&he===u)break;K!==5&&K!==26&&K!==27||Oe===null||(he=Oe,g?(Oe=Ur(l,_),Oe!=null&&O.unshift(uf(l,Oe,he))):g||(Oe=Ur(l,_),Oe!=null&&O.push(uf(l,Oe,he)))),l=l.return}O.length!==0&&n.push({event:s,listeners:O})}var Yw=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function D5(n){return(typeof n=="string"?n:""+n).replace(Yw,`
`).replace(Ww,"")}function j5(n,s){return s=D5(s),D5(n)===s}function Fn(n,s,l,u,g,_){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Es(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Es(n,""+u);break;case"className":ma(n,"class",u);break;case"tabIndex":ma(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ma(n,l,u);break;case"style":mu(n,u,_);break;case"data":if(s!=="object"){ma(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=kr(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&Fn(n,s,"name",g.name,g,null),Fn(n,s,"formEncType",g.formEncType,g,null),Fn(n,s,"formMethod",g.formMethod,g,null),Fn(n,s,"formTarget",g.formTarget,g,null)):(Fn(n,s,"encType",g.encType,g,null),Fn(n,s,"method",g.method,g,null),Fn(n,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=kr(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=ks);break;case"onScroll":u!=null&&Jt("scroll",n);break;case"onScrollEnd":u!=null&&Jt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=kr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Jt("beforetoggle",n),Jt("toggle",n),Pr(n,"popover",u);break;case"xlinkActuate":Ts(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ts(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ts(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ts(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ts(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ts(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ts(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ts(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ts(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Pr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Cc.get(l)||l,Pr(n,l,u))}}function wm(n,s,l,u,g,_){switch(l){case"style":mu(n,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Es(n,u):(typeof u=="number"||typeof u=="bigint")&&Es(n,""+u);break;case"onScroll":u!=null&&Jt("scroll",n);break;case"onScrollEnd":u!=null&&Jt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=ks);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),_=n[$n]||null,_=_!=null?_[l]:null,typeof _=="function"&&n.removeEventListener(s,_,g),typeof u=="function")){typeof _!="function"&&_!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,g);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Pr(n,l,u)}}}function Ar(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",n),Jt("load",n);var u=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var O=l[_];if(O!=null)switch(_){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Fn(n,s,_,O,l,null)}}g&&Fn(n,s,"srcSet",l.srcSet,l,null),u&&Fn(n,s,"src",l.src,l,null);return;case"input":Jt("invalid",n);var K=_=O=g=null,he=null,Oe=null;for(u in l)if(l.hasOwnProperty(u)){var Be=l[u];if(Be!=null)switch(u){case"name":g=Be;break;case"type":O=Be;break;case"checked":he=Be;break;case"defaultChecked":Oe=Be;break;case"value":_=Be;break;case"defaultValue":K=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,s));break;default:Fn(n,s,u,Be,l,null)}}du(n,_,K,he,Oe,O,g,!1);return;case"select":Jt("invalid",n),u=O=_=null;for(g in l)if(l.hasOwnProperty(g)&&(K=l[g],K!=null))switch(g){case"value":_=K;break;case"defaultValue":O=K;break;case"multiple":u=K;default:Fn(n,s,g,K,l,null)}s=_,l=O,n.multiple=!!u,s!=null?yr(n,!!u,s,!1):l!=null&&yr(n,!!u,l,!0);return;case"textarea":Jt("invalid",n),_=g=u=null;for(O in l)if(l.hasOwnProperty(O)&&(K=l[O],K!=null))switch(O){case"value":u=K;break;case"defaultValue":g=K;break;case"children":_=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:Fn(n,s,O,K,l,null)}Ac(n,u,g,_);return;case"option":for(he in l)if(l.hasOwnProperty(he)&&(u=l[he],u!=null))switch(he){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Fn(n,s,he,u,l,null)}return;case"dialog":Jt("beforetoggle",n),Jt("toggle",n),Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":Jt("load",n);break;case"video":case"audio":for(u=0;u<cf.length;u++)Jt(cf[u],n);break;case"image":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"embed":case"source":case"link":Jt("error",n),Jt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Oe in l)if(l.hasOwnProperty(Oe)&&(u=l[Oe],u!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Fn(n,s,Oe,u,l,null)}return;default:if(Nc(s)){for(Be in l)l.hasOwnProperty(Be)&&(u=l[Be],u!==void 0&&wm(n,s,Be,u,l,void 0));return}}for(K in l)l.hasOwnProperty(K)&&(u=l[K],u!=null&&Fn(n,s,K,u,l,null))}function Xw(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,O=null,K=null,he=null,Oe=null,Be=null;for(De in l){var Ve=l[De];if(l.hasOwnProperty(De)&&Ve!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":he=Ve;default:u.hasOwnProperty(De)||Fn(n,s,De,null,u,Ve)}}for(var Le in u){var De=u[Le];if(Ve=l[Le],u.hasOwnProperty(Le)&&(De!=null||Ve!=null))switch(Le){case"type":_=De;break;case"name":g=De;break;case"checked":Oe=De;break;case"defaultChecked":Be=De;break;case"value":O=De;break;case"defaultValue":K=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,s));break;default:De!==Ve&&Fn(n,s,Le,De,u,Ve)}}_l(n,O,K,he,Oe,Be,_,g);return;case"select":De=O=K=Le=null;for(_ in l)if(he=l[_],l.hasOwnProperty(_)&&he!=null)switch(_){case"value":break;case"multiple":De=he;default:u.hasOwnProperty(_)||Fn(n,s,_,null,u,he)}for(g in u)if(_=u[g],he=l[g],u.hasOwnProperty(g)&&(_!=null||he!=null))switch(g){case"value":Le=_;break;case"defaultValue":K=_;break;case"multiple":O=_;default:_!==he&&Fn(n,s,g,_,u,he)}s=K,l=O,u=De,Le!=null?yr(n,!!l,Le,!1):!!u!=!!l&&(s!=null?yr(n,!!l,s,!0):yr(n,!!l,l?[]:"",!1));return;case"textarea":De=Le=null;for(K in l)if(g=l[K],l.hasOwnProperty(K)&&g!=null&&!u.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Fn(n,s,K,null,u,g)}for(O in u)if(g=u[O],_=l[O],u.hasOwnProperty(O)&&(g!=null||_!=null))switch(O){case"value":Le=g;break;case"defaultValue":De=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==_&&Fn(n,s,O,g,u,_)}Sc(n,Le,De);return;case"option":for(var mt in l)if(Le=l[mt],l.hasOwnProperty(mt)&&Le!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":n.selected=!1;break;default:Fn(n,s,mt,null,u,Le)}for(he in u)if(Le=u[he],De=l[he],u.hasOwnProperty(he)&&Le!==De&&(Le!=null||De!=null))switch(he){case"selected":n.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:Fn(n,s,he,Le,u,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Dt in l)Le=l[Dt],l.hasOwnProperty(Dt)&&Le!=null&&!u.hasOwnProperty(Dt)&&Fn(n,s,Dt,null,u,Le);for(Oe in u)if(Le=u[Oe],De=l[Oe],u.hasOwnProperty(Oe)&&Le!==De&&(Le!=null||De!=null))switch(Oe){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,s));break;default:Fn(n,s,Oe,Le,u,De)}return;default:if(Nc(s)){for(var Pn in l)Le=l[Pn],l.hasOwnProperty(Pn)&&Le!==void 0&&!u.hasOwnProperty(Pn)&&wm(n,s,Pn,void 0,u,Le);for(Be in u)Le=u[Be],De=l[Be],!u.hasOwnProperty(Be)||Le===De||Le===void 0&&De===void 0||wm(n,s,Be,Le,u,De);return}}for(var Se in l)Le=l[Se],l.hasOwnProperty(Se)&&Le!=null&&!u.hasOwnProperty(Se)&&Fn(n,s,Se,null,u,Le);for(Ve in u)Le=u[Ve],De=l[Ve],!u.hasOwnProperty(Ve)||Le===De||Le==null&&De==null||Fn(n,s,Ve,Le,u,De)}function R5(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],_=g.transferSize,O=g.initiatorType,K=g.duration;if(_&&K&&R5(O)){for(O=0,K=g.responseEnd,u+=1;u<l.length;u++){var he=l[u],Oe=he.startTime;if(Oe>K)break;var Be=he.transferSize,Ve=he.initiatorType;Be&&R5(Ve)&&(he=he.responseEnd,O+=Be*(he<K?1:(K-Oe)/(he-Oe)))}if(--u,s+=8*(_+O)/(g.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Sm=null,Am=null;function Pd(n){return n.nodeType===9?n:n.ownerDocument}function I5(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B5(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Nm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cm=null;function Kw(){var n=window.event;return n&&n.type==="popstate"?n===Cm?!1:(Cm=n,!0):(Cm=null,!1)}var q5=typeof setTimeout=="function"?setTimeout:void 0,Qw=typeof clearTimeout=="function"?clearTimeout:void 0,z5=typeof Promise=="function"?Promise:void 0,Jw=typeof queueMicrotask=="function"?queueMicrotask:typeof z5<"u"?function(n){return z5.resolve(null).then(n).catch($w)}:q5;function $w(n){setTimeout(function(){throw n})}function Xl(n){return n==="head"}function F5(n,s){var l=s,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),th(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")hf(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,hf(l);for(var _=l.firstChild;_;){var O=_.nextSibling,K=_.nodeName;_[Ss]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=O}}else l==="body"&&hf(n.ownerDocument.body);l=g}while(l);th(s)}function P5(n,s){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function Tm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Tm(l),io(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function e3(n,s,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ss])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(_=n.getAttribute("rel"),_==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(_!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(_=n.getAttribute("src"),(_!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===_)return n}else return n;if(n=oa(n.nextSibling),n===null)break}return null}function t3(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=oa(n.nextSibling),n===null))return null;return n}function U5(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=oa(n.nextSibling),n===null))return null;return n}function Em(n){return n.data==="$?"||n.data==="$~"}function km(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function n3(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function oa(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Om=null;function V5(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return oa(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function H5(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function G5(n,s,l){switch(s=Pd(l),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function hf(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);io(n)}var la=new Map,Y5=new Set;function Ud(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var al=re.d;re.d={f:i3,r:r3,D:s3,C:a3,L:o3,m:l3,X:u3,S:c3,M:h3};function i3(){var n=al.f(),s=Dd();return n||s}function r3(n){var s=Ns(n);s!==null&&s.tag===5&&s.type==="form"?c2(s):al.r(n)}var Ju=typeof document>"u"?null:document;function W5(n,s,l){var u=Ju;if(u&&typeof s=="string"&&s){var g=wi(s);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Y5.has(g)||(Y5.add(g),n={rel:n,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),Ar(s,"link",n),gi(s),u.head.appendChild(s)))}}function s3(n){al.D(n),W5("dns-prefetch",n,null)}function a3(n,s){al.C(n,s),W5("preconnect",n,s)}function o3(n,s,l){al.L(n,s,l);var u=Ju;if(u&&n&&s){var g='link[rel="preload"][as="'+wi(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+wi(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+wi(l.imageSizes)+'"]')):g+='[href="'+wi(n)+'"]';var _=g;switch(s){case"style":_=$u(n);break;case"script":_=eh(n)}la.has(_)||(n=b({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),la.set(_,n),u.querySelector(g)!==null||s==="style"&&u.querySelector(ff(_))||s==="script"&&u.querySelector(df(_))||(s=u.createElement("link"),Ar(s,"link",n),gi(s),u.head.appendChild(s)))}}function l3(n,s){al.m(n,s);var l=Ju;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+wi(u)+'"][href="'+wi(n)+'"]',_=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=eh(n)}if(!la.has(_)&&(n=b({rel:"modulepreload",href:n},s),la.set(_,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(df(_)))return}u=l.createElement("link"),Ar(u,"link",n),gi(u),l.head.appendChild(u)}}}function c3(n,s,l){al.S(n,s,l);var u=Ju;if(u&&n){var g=Ys(u).hoistableStyles,_=$u(n);s=s||"default";var O=g.get(_);if(!O){var K={loading:0,preload:null};if(O=u.querySelector(ff(_)))K.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},l),(l=la.get(_))&&Lm(n,l);var he=O=u.createElement("link");gi(he),Ar(he,"link",n),he._p=new Promise(function(Oe,Be){he.onload=Oe,he.onerror=Be}),he.addEventListener("load",function(){K.loading|=1}),he.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Vd(O,s,u)}O={type:"stylesheet",instance:O,count:1,state:K},g.set(_,O)}}}function u3(n,s){al.X(n,s);var l=Ju;if(l&&n){var u=Ys(l).hoistableScripts,g=eh(n),_=u.get(g);_||(_=l.querySelector(df(g)),_||(n=b({src:n,async:!0},s),(s=la.get(g))&&Mm(n,s),_=l.createElement("script"),gi(_),Ar(_,"link",n),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(g,_))}}function h3(n,s){al.M(n,s);var l=Ju;if(l&&n){var u=Ys(l).hoistableScripts,g=eh(n),_=u.get(g);_||(_=l.querySelector(df(g)),_||(n=b({src:n,async:!0,type:"module"},s),(s=la.get(g))&&Mm(n,s),_=l.createElement("script"),gi(_),Ar(_,"link",n),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(g,_))}}function X5(n,s,l,u){var g=(g=ae.current)?Ud(g):null;if(!g)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=$u(l.href),l=Ys(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=$u(l.href);var _=Ys(g).hoistableStyles,O=_.get(n);if(O||(g=g.ownerDocument||g,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(n,O),(_=g.querySelector(ff(n)))&&!_._p&&(O.instance=_,O.state.loading=5),la.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},la.set(n,l),_||f3(g,n,l,O.state))),s&&u===null)throw Error(r(528,""));return O}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=eh(l),l=Ys(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function $u(n){return'href="'+wi(n)+'"'}function ff(n){return'link[rel="stylesheet"]['+n+"]"}function Z5(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function f3(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ar(s,"link",l),gi(s),n.head.appendChild(s))}function eh(n){return'[src="'+wi(n)+'"]'}function df(n){return"script[async]"+n}function K5(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+wi(l.href)+'"]');if(u)return s.instance=u,gi(u),u;var g=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),gi(u),Ar(u,"style",g),Vd(u,l.precedence,n),s.instance=u;case"stylesheet":g=$u(l.href);var _=n.querySelector(ff(g));if(_)return s.state.loading|=4,s.instance=_,gi(_),_;u=Z5(l),(g=la.get(g))&&Lm(u,g),_=(n.ownerDocument||n).createElement("link"),gi(_);var O=_;return O._p=new Promise(function(K,he){O.onload=K,O.onerror=he}),Ar(_,"link",u),s.state.loading|=4,Vd(_,l.precedence,n),s.instance=_;case"script":return _=eh(l.src),(g=n.querySelector(df(_)))?(s.instance=g,gi(g),g):(u=l,(g=la.get(_))&&(u=b({},l),Mm(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),gi(g),Ar(g,"link",u),n.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Vd(u,l.precedence,n));return s.instance}function Vd(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,_=g,O=0;O<u.length;O++){var K=u[O];if(K.dataset.precedence===s)_=K;else if(_!==g)break}_?_.parentNode.insertBefore(n,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function Lm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Mm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Hd=null;function Q5(n,s,l){if(Hd===null){var u=new Map,g=Hd=new Map;g.set(l,u)}else g=Hd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var _=l[g];if(!(_[Ss]||_[Tn]||n==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var O=_.getAttribute(s)||"";O=n+O;var K=u.get(O);K?K.push(_):u.set(O,[_])}}return u}function J5(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function d3(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function $5(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function p3(n,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=$u(u.href),_=s.querySelector(ff(g));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Gd.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=_,gi(_);return}_=s.ownerDocument||s,u=Z5(u),(g=la.get(g))&&Lm(u,g),_=_.createElement("link"),gi(_);var O=_;O._p=new Promise(function(K,he){O.onload=K,O.onerror=he}),Ar(_,"link",u),l.instance=_}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Gd.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var Dm=0;function m3(n,s){return n.stylesheets&&n.count===0&&Wd(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&Wd(n,n.stylesheets),n.unsuspend){var _=n.unsuspend;n.unsuspend=null,_()}},6e4+s);0<n.imgBytes&&Dm===0&&(Dm=62500*Zw());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Wd(n,n.stylesheets),n.unsuspend)){var _=n.unsuspend;n.unsuspend=null,_()}},(n.imgBytes>Dm?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Gd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Yd=null;function Wd(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Yd=new Map,s.forEach(g3,n),Yd=null,Gd.call(n))}function g3(n,s){if(!(s.state.loading&4)){var l=Yd.get(n);if(l)var u=l.get(null);else{l=new Map,Yd.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var O=g[_];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(l.set(O.dataset.precedence,O),u=O)}u&&l.set(null,u)}g=s.instance,O=g.getAttribute("data-precedence"),_=l.get(O)||u,_===u&&l.set(null,g),l.set(O,g),this.count++,u=Gd.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),_?_.parentNode.insertBefore(g,_.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),s.state.loading|=4}}var pf={$$typeof:P,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function v3(n,s,l,u,g,_,O,K,he){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dn(0),this.hiddenUpdates=Dn(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function ev(n,s,l,u,g,_,O,K,he,Oe,Be,Ve){return n=new v3(n,s,l,O,he,Oe,Be,Ve,K),s=1,_===!0&&(s|=24),_=ur(3,null,null,s),n.current=_,_.stateNode=n,s=Il(),s.refCount++,n.pooledCache=s,s.refCount++,_.memoizedState={element:u,isDehydrated:l,cache:s},tt(_),n}function tv(n){return n?(n=$i,n):$i}function nv(n,s,l,u,g,_){g=tv(g),u.context===null?u.context=g:u.pendingContext=g,u=Mt(s),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=Yt(n,u,s),l!==null&&(ms(l,n,s),xn(l,n,s))}function iv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function jm(n,s){iv(n,s),(n=n.alternate)&&iv(n,s)}function rv(n){if(n.tag===13||n.tag===31){var s=Da(n,67108864);s!==null&&ms(s,n,67108864),jm(n,67108864)}}function sv(n){if(n.tag===13||n.tag===31){var s=qs();s=un(s);var l=Da(n,s);l!==null&&ms(l,n,s),jm(n,s)}}var Xd=!0;function y3(n,s,l,u){var g=Q.T;Q.T=null;var _=re.p;try{re.p=2,Rm(n,s,l,u)}finally{re.p=_,Q.T=g}}function b3(n,s,l,u){var g=Q.T;Q.T=null;var _=re.p;try{re.p=8,Rm(n,s,l,u)}finally{re.p=_,Q.T=g}}function Rm(n,s,l,u){if(Xd){var g=Im(u);if(g===null)xm(n,s,u,Zd,l),ov(n,u);else if(x3(g,n,s,l,u))u.stopPropagation();else if(ov(n,u),s&4&&-1<_3.indexOf(n)){for(;g!==null;){var _=Ns(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var O=lt(_.pendingLanes);if(O!==0){var K=_;for(K.pendingLanes|=2,K.entangledLanes|=2;O;){var he=1<<31-Pt(O);K.entanglements[1]|=he,O&=~he}wo(_),(Sn&6)===0&&(Ld=Ie()+500,lf(0))}}break;case 31:case 13:K=Da(_,2),K!==null&&ms(K,_,2),Dd(),jm(_,2)}if(_=Im(u),_===null&&xm(n,s,u,Zd,l),_===g)break;g=_}g!==null&&u.stopPropagation()}else xm(n,s,u,null,l)}}function Im(n){return n=Io(n),Bm(n)}var Zd=null;function Bm(n){if(Zd=null,n=As(n),n!==null){var s=o(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=h(s),n!==null)return n;n=null}else if(l===31){if(n=c(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Zd=n,null}function av(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case Ge:return 2;case rt:return 8;case at:case Qe:return 32;case ht:return 268435456;default:return 32}default:return 32}}var qm=!1,Zl=null,Kl=null,Ql=null,mf=new Map,gf=new Map,Jl=[],_3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ov(n,s){switch(n){case"focusin":case"focusout":Zl=null;break;case"dragenter":case"dragleave":Kl=null;break;case"mouseover":case"mouseout":Ql=null;break;case"pointerover":case"pointerout":mf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(s.pointerId)}}function vf(n,s,l,u,g,_){return n===null||n.nativeEvent!==_?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:_,targetContainers:[g]},s!==null&&(s=Ns(s),s!==null&&rv(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),n)}function x3(n,s,l,u,g){switch(s){case"focusin":return Zl=vf(Zl,n,s,l,u,g),!0;case"dragenter":return Kl=vf(Kl,n,s,l,u,g),!0;case"mouseover":return Ql=vf(Ql,n,s,l,u,g),!0;case"pointerover":var _=g.pointerId;return mf.set(_,vf(mf.get(_)||null,n,s,l,u,g)),!0;case"gotpointercapture":return _=g.pointerId,gf.set(_,vf(gf.get(_)||null,n,s,l,u,g)),!0}return!1}function lv(n){var s=As(n.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=h(l),s!==null){n.blockedOn=s,Er(n.priority,function(){sv(l)});return}}else if(s===31){if(s=c(l),s!==null){n.blockedOn=s,Er(n.priority,function(){sv(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Kd(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Im(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);ga=u,l.target.dispatchEvent(u),ga=null}else return s=Ns(l),s!==null&&rv(s),n.blockedOn=l,!1;s.shift()}return!0}function cv(n,s,l){Kd(n)&&l.delete(s)}function w3(){qm=!1,Zl!==null&&Kd(Zl)&&(Zl=null),Kl!==null&&Kd(Kl)&&(Kl=null),Ql!==null&&Kd(Ql)&&(Ql=null),mf.forEach(cv),gf.forEach(cv)}function Qd(n,s){n.blockedOn===s&&(n.blockedOn=null,qm||(qm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,w3)))}var Jd=null;function uv(n){Jd!==n&&(Jd=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jd===n&&(Jd=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],g=n[s+2];if(typeof u!="function"){if(Bm(u||l)===null)continue;break}var _=Ns(l);_!==null&&(n.splice(s,3),s-=3,I1(_,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function th(n){function s(he){return Qd(he,n)}Zl!==null&&Qd(Zl,n),Kl!==null&&Qd(Kl,n),Ql!==null&&Qd(Ql,n),mf.forEach(s),gf.forEach(s);for(var l=0;l<Jl.length;l++){var u=Jl[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Jl.length&&(l=Jl[0],l.blockedOn===null);)lv(l),l.blockedOn===null&&Jl.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],_=l[u+1],O=g[$n]||null;if(typeof _=="function")O||uv(l);else if(O){var K=null;if(_&&_.hasAttribute("formAction")){if(g=_,O=_[$n]||null)K=O.formAction;else if(Bm(g)!==null)continue}else K=O.action;typeof K=="function"?l[u+1]=K:(l.splice(u,3),u-=3),uv(l)}}}function hv(){function n(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(O){return g=O})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function zm(n){this._internalRoot=n}$d.prototype.render=zm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=qs();nv(l,u,n,s,null,null)},$d.prototype.unmount=zm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;nv(n.current,2,null,n,null,null),Dd(),s[or]=null}};function $d(n){this._internalRoot=n}$d.prototype.unstable_scheduleHydration=function(n){if(n){var s=Cn();n={blockedOn:null,target:n,priority:s};for(var l=0;l<Jl.length&&s!==0&&s<Jl[l].priority;l++);Jl.splice(l,0,n),l===0&&lv(n)}};var fv=e.version;if(fv!=="19.2.0")throw Error(r(527,fv,"19.2.0"));re.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=d(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var S3={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ep.isDisabled&&ep.supportsFiber)try{Ft=ep.inject(S3),wt=ep}catch{}}return bf.createRoot=function(n,s){if(!a(n))throw Error(r(299));var l=!1,u="",g=b2,_=_2,O=x2;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError)),s=ev(n,1,!1,null,null,l,u,null,g,_,O,hv),n[or]=s.current,_m(n),new zm(s)},bf.hydrateRoot=function(n,s,l){if(!a(n))throw Error(r(299));var u=!1,g="",_=b2,O=_2,K=x2,he=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.formState!==void 0&&(he=l.formState)),s=ev(n,1,!0,s,l??null,u,g,he,_,O,K,hv),s.context=tv(null),l=s.current,u=qs(),u=un(u),g=Mt(u),g.callback=null,Yt(l,g,u),l=u,s.current.lanes=l,ft(s,l),wo(s),n[or]=s.current,_m(n),new $d(s)},bf.version="19.2.0",bf}var wv;function D3(){if(wv)return Um.exports;wv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Um.exports=M3(),Um.exports}var j3=D3();const Sv=i=>{let e;const t=new Set,r=(d,m)=>{const b=typeof d=="function"?d(e):d;if(!Object.is(b,e)){const w=e;e=m??(typeof b!="object"||b===null)?b:Object.assign({},e,b),t.forEach(y=>y(e,w))}},a=()=>e,c={setState:r,getState:a,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=i(r,a,c);return c},R3=(i=>i?Sv(i):Sv),I3=i=>i;function B3(i,e=I3){const t=An.useSyncExternalStore(i.subscribe,An.useCallback(()=>e(i.getState()),[i,e]),An.useCallback(()=>e(i.getInitialState()),[i,e]));return An.useDebugValue(t),t}const q3=i=>{const e=R3(i),t=r=>B3(e,r);return Object.assign(t,e),t},z3=(i=>q3);function F3(i,e){let t;try{t=i()}catch{return}return{getItem:a=>{var o;const h=f=>f===null?null:JSON.parse(f,void 0),c=(o=t.getItem(a))!=null?o:null;return c instanceof Promise?c.then(h):h(c)},setItem:(a,o)=>t.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>t.removeItem(a)}}const _0=i=>e=>{try{const t=i(e);return t instanceof Promise?t:{then(r){return _0(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return _0(r)(t)}}}},P3=(i,e)=>(t,r,a)=>{let o={storage:F3(()=>localStorage),partialize:A=>A,version:0,merge:(A,E)=>({...E,...A}),...e},h=!1;const c=new Set,f=new Set;let d=o.storage;if(!d)return i((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),t(...A)},r,a);const m=()=>{const A=o.partialize({...r()});return d.setItem(o.name,{state:A,version:o.version})},b=a.setState;a.setState=(A,E)=>(b(A,E),m());const w=i((...A)=>(t(...A),m()),r,a);a.getInitialState=()=>w;let y;const N=()=>{var A,E;if(!d)return;h=!1,c.forEach(U=>{var P;return U((P=r())!=null?P:w)});const T=((E=o.onRehydrateStorage)==null?void 0:E.call(o,(A=r())!=null?A:w))||void 0;return _0(d.getItem.bind(d))(o.name).then(U=>{if(U)if(typeof U.version=="number"&&U.version!==o.version){if(o.migrate){const P=o.migrate(U.state,U.version);return P instanceof Promise?P.then(F=>[!0,F]):[!0,P]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,U.state];return[!1,void 0]}).then(U=>{var P;const[F,q]=U;if(y=o.merge(q,(P=r())!=null?P:w),t(y,!0),F)return m()}).then(()=>{T?.(y,void 0),y=r(),h=!0,f.forEach(U=>U(y))}).catch(U=>{T?.(void 0,U)})};return a.persist={setOptions:A=>{o={...o,...A},A.storage&&(d=A.storage)},clearStorage:()=>{d?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>N(),hasHydrated:()=>h,onHydrate:A=>(c.add(A),()=>{c.delete(A)}),onFinishHydration:A=>(f.add(A),()=>{f.delete(A)})},o.skipHydration||N(),y||w},U3=P3,Kc=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],Cf=["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"],V3=[{major:"C",ii:"Dm",iii:"Em",diminished:"B"},{major:"G",ii:"Am",iii:"Bm",diminished:"F#"},{major:"D",ii:"Em",iii:"F#m",diminished:"C#"},{major:"A",ii:"Bm",iii:"C#m",diminished:"G#"},{major:"E",ii:"F#m",iii:"G#m",diminished:"D#"},{major:"B",ii:"C#m",iii:"D#m",diminished:"A#"},{major:"F#",ii:"G#m",iii:"A#m",diminished:"E#"},{major:"Db",ii:"Ebm",iii:"Fm",diminished:"C"},{major:"Ab",ii:"Bbm",iii:"Cm",diminished:"G"},{major:"Eb",ii:"Fm",iii:"Gm",diminished:"D"},{major:"Bb",ii:"Cm",iii:"Dm",diminished:"A"},{major:"F",ii:"Gm",iii:"Am",diminished:"E"}];function hl(i){return i.includes("b")&&{Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#",Cb:"B",Fb:"E"}[i]||i}const H3={7:"dominant7",9:"dominant9",11:"dominant11",13:"dominant13",maj7:"major7",maj9:"major9",maj11:"major11",maj13:"major13",6:"major6",add9:"add9",m7:"minor7",m9:"minor9",m11:"minor11",m13:"minor13",m6:"minor6",dim:"diminished",dim7:"diminished7",m7b5:"halfDiminished7","m75":"halfDiminished7",7:"halfDiminished7",sus2:"sus2",sus4:"sus4","7sus4":"dominant7sus4"},G3={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],sus2:[0,2,7],sus4:[0,5,7],major6:[0,4,7,9],minor6:[0,3,7,9],major7:[0,4,7,11],minor7:[0,3,7,10],dominant7:[0,4,7,10],diminished7:[0,3,6,9],halfDiminished7:[0,3,6,10],dominant7sus4:[0,5,7,10],add9:[0,4,7,14],major9:[0,4,7,11,14],minor9:[0,3,7,10,14],dominant9:[0,4,7,10,14],major11:[0,4,7,11,14,17],minor11:[0,3,7,10,14,17],dominant11:[0,4,7,10,14,17],major13:[0,4,7,11,14,21],minor13:[0,3,7,10,14,21],dominant13:[0,4,7,10,14,21]};function ch(i,e){const t=hl(i),r=Kc.indexOf(t);if(r===-1)return[];const a=H3[e]||e,o=G3[a];return o?o.map(h=>Kc[(r+h)%12]):(console.warn(`Unknown chord quality: ${e} (resolved to ${a})`),Kc.slice(r,r+1).concat([Kc[(r+4)%12],Kc[(r+7)%12]]))}function Y3(i){const e=["G","D","A","E","B","F#","C#"],t=["F","Bb","Eb","Ab","Db","Gb","Cb"],r=e.indexOf(i),a=t.indexOf(i);return r>=0?{sharps:r+1,flats:0}:a>=0?{sharps:0,flats:a+1}:{sharps:0,flats:0}}function K0(){return{C:"hsl(48, 95%, 58%)",G:"hsl(72, 75%, 50%)",D:"hsl(95, 65%, 48%)",A:"hsl(160, 60%, 45%)",E:"hsl(185, 70%, 50%)",B:"hsl(205, 75%, 55%)","F#":"hsl(235, 60%, 58%)",Gb:"hsl(235, 60%, 58%)",Db:"hsl(265, 55%, 55%)",Ab:"hsl(285, 50%, 52%)",Eb:"hsl(315, 60%, 55%)",Bb:"hsl(350, 70%, 58%)",F:"hsl(28, 85%, 55%)"}}function W3(i,e){const t=hl(i),r=hl(e),a=Kc.indexOf(t),o=Kc.indexOf(r);if(a===-1||o===-1)return"?";let h=(o-a+12)%12;return{0:"1",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[h]||"?"}function X3(i){const e=i.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);return e?parseInt(e[3])>55?"#000000":"#ffffff":"#000000"}const Cr=[];for(let i=0;i<256;++i)Cr.push((i+256).toString(16).slice(1));function Z3(i,e=0){return(Cr[i[e+0]]+Cr[i[e+1]]+Cr[i[e+2]]+Cr[i[e+3]]+"-"+Cr[i[e+4]]+Cr[i[e+5]]+"-"+Cr[i[e+6]]+Cr[i[e+7]]+"-"+Cr[i[e+8]]+Cr[i[e+9]]+"-"+Cr[i[e+10]]+Cr[i[e+11]]+Cr[i[e+12]]+Cr[i[e+13]]+Cr[i[e+14]]+Cr[i[e+15]]).toLowerCase()}let Ym;const K3=new Uint8Array(16);function Q3(){if(!Ym){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ym=crypto.getRandomValues.bind(crypto)}return Ym(K3)}const J3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Av={randomUUID:J3};function $3(i,e,t){i=i||{};const r=i.random??i.rng?.()??Q3();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Z3(r)}function Ua(i,e,t){return Av.randomUUID&&!i?Av.randomUUID():$3(i)}const vs=[4,4],x0=(i=vs)=>{const[e,t]=i;return!e||!t?4:e*(4/t)},uh=i=>{const e=x0(i);return{id:Ua(),beats:[{id:Ua(),chord:null,duration:e}]}},So=i=>i?`${i.sectionId}:${i.slotId}`:"",Q0=i=>{const e=[];return i.forEach(t=>{t.measures.forEach(r=>{r.beats.forEach(a=>{e.push({sectionId:t.id,slotId:a.id,chord:a.chord??null})})})}),e},Xc=(i,e)=>{if(!e)return null;for(const t of i)if(t.id===e.sectionId){for(const r of t.measures)for(const a of r.beats)if(a.id===e.slotId)return a.chord??null}return null},Nv=(i,e)=>e?Q0(i).findIndex(r=>r.sectionId===e.sectionId&&r.slotId===e.slotId):-1,e4=(i,e,t)=>{const r=Q0(i),a=r.findIndex(f=>f.sectionId===e.sectionId&&f.slotId===e.slotId),o=r.findIndex(f=>f.sectionId===t.sectionId&&f.slotId===t.slotId);if(a===-1||o===-1)return[];const[h,c]=a<=o?[a,o]:[o,a];return r.slice(h,c+1).map(({sectionId:f,slotId:d})=>({sectionId:f,slotId:d}))},vp=(i,e)=>e?i.some(t=>t.id===e.sectionId&&t.measures.some(r=>r.beats.some(a=>a.id===e.slotId))):!1,sh=(i,e,t,r,a)=>{const o=e&&t?{sectionId:e,slotId:t}:null,h=r.filter(m=>vp(i,m)),c=vp(i,o),f=h[h.length-1]||(c?o:null),d=a&&vp(i,a);return{selectedSectionId:f?.sectionId??null,selectedSlotId:f?.slotId??null,selectedSlots:h,selectionAnchor:d?a:h[0]??f??null}},w0=100,Af=i=>typeof structuredClone=="function"?structuredClone(i):JSON.parse(JSON.stringify(i)),Nr=i=>{const e=Af(i.currentSong),t=[...i.historyPast,e].slice(-w0);return{historyPast:t,historyFuture:[],canUndo:t.length>0,canRedo:!1}},Cv=(i,e,t,r,a)=>{const o=sh(i.sections,e,t,r,a),h=o.selectedSectionId&&o.selectedSlotId?{sectionId:o.selectedSectionId,slotId:o.selectedSlotId}:null,c=h?Xc(i.sections,h):null;return{...o,selectedChord:c}},t4=(i,e,t)=>{let r=!1;for(const a of i)for(const o of a.measures)for(const h of o.beats){if(r)return{sectionId:a.id,slotId:h.id};a.id===e&&h.id===t&&(r=!0)}return null},_f={id:"default",title:"Untitled Song",artist:"",key:"C",tempo:120,timeSignature:[4,4],sections:[{id:"verse-1",name:"Verse 1",type:"verse",timeSignature:vs,measures:Array(4).fill(null).map(()=>uh(vs))},{id:"chorus-1",name:"Chorus",type:"chorus",timeSignature:vs,measures:Array(4).fill(null).map(()=>uh(vs))}],notes:"",createdAt:new Date,updatedAt:new Date},ha=z3()(U3(i=>({currentSong:_f,historyPast:[],historyFuture:[],canUndo:!1,canRedo:!1,selectedKey:"C",wheelRotation:0,wheelMode:"fixed",chordPanelVisible:!0,timelineVisible:!0,collapsedSections:{},selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,isPlaying:!1,tempo:120,volume:.8,instrument:"piano",isMuted:!1,setKey:e=>i({selectedKey:e}),rotateWheel:e=>i(t=>({wheelRotation:t.wheelMode==="rotating"?t.wheelRotation+(e==="cw"?-30:30):0})),toggleWheelMode:()=>i(e=>{const t=e.wheelMode==="rotating"?"fixed":"rotating";let r=0;if(t==="rotating"){const a=Cf.indexOf(e.selectedKey);a!==-1&&(r=-(a*30))}return{wheelMode:t,wheelRotation:r}}),toggleChordPanel:()=>i(e=>({chordPanelVisible:!e.chordPanelVisible})),toggleTimeline:()=>i(e=>({timelineVisible:!e.timelineVisible})),toggleSectionCollapsed:e=>i(t=>{const r={...t.collapsedSections,[e]:!t.collapsedSections?.[e]};return r[e]||delete r[e],{collapsedSections:r}}),setSelectedChord:e=>i({selectedChord:e}),setSelectedSlot:(e,t)=>i(r=>{if(!e||!t)return{selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,selectedChord:null};const a={sectionId:e,slotId:t},o=Xc(r.currentSong.sections,a);return{selectedSectionId:e,selectedSlotId:t,selectedSlots:[a],selectionAnchor:a,selectedChord:o??null}}),setSelectedSlots:e=>i(t=>{const r=e.filter(Boolean),a=r[r.length-1]??null,o=Xc(t.currentSong.sections,a);return{selectedSlots:r,selectedSectionId:a?.sectionId??null,selectedSlotId:a?.slotId??null,selectionAnchor:r[0]??a??null,selectedChord:o??null}}),toggleSlotSelection:(e,t)=>i(r=>{const a=r.selectedSlots.some(d=>d.sectionId===e&&d.slotId===t),o=a?r.selectedSlots.filter(d=>!(d.sectionId===e&&d.slotId===t)):[...r.selectedSlots,{sectionId:e,slotId:t}],h=o[o.length-1]??null,c=Xc(r.currentSong.sections,h),f=a&&r.selectionAnchor&&So(r.selectionAnchor)===So({sectionId:e,slotId:t});return{selectedSlots:o,selectedSectionId:h?.sectionId??null,selectedSlotId:h?.slotId??null,selectionAnchor:f?o[0]??h??null:r.selectionAnchor??h??null,selectedChord:c??null}}),selectRangeTo:(e,t)=>i(r=>{const a={sectionId:e,slotId:t},o=r.selectionAnchor||r.selectedSlots[r.selectedSlots.length-1]||(r.selectedSectionId&&r.selectedSlotId?{sectionId:r.selectedSectionId,slotId:r.selectedSlotId}:a),c=vp(r.currentSong.sections,o)?o:a,f=e4(r.currentSong.sections,c,a),d=f.length?f:[a],m=Xc(r.currentSong.sections,a);return{selectedSlots:d,selectedSectionId:a.sectionId,selectedSlotId:a.slotId,selectionAnchor:c,selectedChord:m??null}}),moveSelection:(e,t,r="move")=>{let a=!1;return i(o=>{const h=Q0(o.currentSong.sections),c=Nv(o.currentSong.sections,e),f=Nv(o.currentSong.sections,t);if(c===-1||f===-1)return{};const m=(o.selectedSlots.length?o.selectedSlots:[e]).map(D=>{const I=h.findIndex(Z=>Z.sectionId===D.sectionId&&Z.slotId===D.slotId);return I>=0?{idx:I,slot:h[I]}:null}).filter(D=>!!D).sort((D,I)=>D.idx-I.idx);if(!m.length)return{};const b=f-c,w=m.map(({idx:D})=>D+b);if(w.some(D=>D<0||D>=h.length))return{};const y=w.map(D=>h[D]);if(m.length===1&&r==="move"){const D=m[0].slot,I=y[0],Z=Nr(o),L=o.currentSong.sections.map(Q=>({...Q,measures:Q.measures.map(re=>({...re,beats:re.beats.map(ce=>ce.id===D.slotId&&Q.id===D.sectionId?{...ce,chord:I.chord}:ce.id===I.slotId&&Q.id===I.sectionId?{...ce,chord:D.chord}:ce)}))}));a=!0;const j=o.selectionAnchor&&So(o.selectionAnchor)===So(e),$=sh(L,t.sectionId,t.slotId,[{sectionId:I.sectionId,slotId:I.slotId}],j?{sectionId:I.sectionId,slotId:I.slotId}:o.selectionAnchor),ee=$.selectedSectionId&&$.selectedSlotId?{sectionId:$.selectedSectionId,slotId:$.selectedSlotId}:null,ue=Xc(L,ee);return{...Z,currentSong:{...o.currentSong,sections:L},selectedSectionId:$.selectedSectionId,selectedSlotId:$.selectedSlotId,selectedSlots:$.selectedSlots,selectionAnchor:$.selectionAnchor,selectedChord:ue??null}}const N=new Map;m.forEach((D,I)=>{N.set(So(y[I]),D.slot.chord??null)});const A=new Set;r==="move"&&m.forEach((D,I)=>{const Z=So(D.slot),L=So(y[I]);Z!==L&&A.add(Z)});const E=Nr(o),T=o.currentSong.sections.map(D=>({...D,measures:D.measures.map(I=>({...I,beats:I.beats.map(Z=>{const L=So({sectionId:D.id,slotId:Z.id});return N.has(L)?{...Z,chord:N.get(L)??null}:A.has(L)?{...Z,chord:null}:Z})}))}));a=!0;const U=So(o.selectionAnchor),P=m.find(D=>So(D.slot)===U),F=P?{sectionId:y[m.indexOf(P)].sectionId,slotId:y[m.indexOf(P)].slotId}:o.selectionAnchor,q=sh(T,t.sectionId,t.slotId,y.map(D=>({sectionId:D.sectionId,slotId:D.slotId})),F??null),te=q.selectedSectionId&&q.selectedSlotId?{sectionId:q.selectedSectionId,slotId:q.selectedSlotId}:null,G=Xc(T,te);return{...E,currentSong:{...o.currentSong,sections:T},selectedSectionId:q.selectedSectionId,selectedSlotId:q.selectedSlotId,selectedSlots:q.selectedSlots,selectionAnchor:q.selectionAnchor,selectedChord:G??null}}),a},selectNextSlotAfter:(e,t)=>{let r=!1;return i(a=>{const o=t4(a.currentSong.sections,e,t);if(!o)return{};const h=a.currentSong.sections.find(c=>c.id===o.sectionId)?.measures.flatMap(c=>c.beats).find(c=>c.id===o.slotId)?.chord??null;return r=!0,{selectedSectionId:o.sectionId,selectedSlotId:o.slotId,selectedChord:h,selectedSlots:[{sectionId:o.sectionId,slotId:o.slotId}],selectionAnchor:{sectionId:o.sectionId,slotId:o.slotId}}}),r},setTempo:e=>i(t=>({...Nr(t),tempo:e,currentSong:{...t.currentSong,tempo:e}})),setVolume:e=>i({volume:e}),setInstrument:e=>i({instrument:e}),setIsPlaying:e=>i({isPlaying:e}),toggleMute:()=>i(e=>({isMuted:!e.isMuted})),setTitle:e=>i(t=>({...Nr(t),currentSong:{...t.currentSong,title:e}})),loadSong:e=>i(t=>{const r=e.key||"C",a=e.tempo??_f.tempo;let o=0;if(t.wheelMode==="rotating"){const c=Cf.indexOf(r);c!==-1&&(o=-(c*30))}return{...Nr(t),currentSong:{...e,tempo:a},selectedKey:r,wheelRotation:o,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:a}}),newSong:()=>i(e=>({...Nr(e),currentSong:{..._f,id:Ua(),title:"Untitled Song",createdAt:new Date,updatedAt:new Date,tempo:_f.tempo,sections:[{id:Ua(),name:"Verse 1",type:"verse",timeSignature:vs,measures:Array(4).fill(null).map(()=>uh(vs))},{id:Ua(),name:"Chorus",type:"chorus",timeSignature:vs,measures:Array(4).fill(null).map(()=>uh(vs))}]},selectedKey:"C",wheelRotation:0,selectedChord:null,selectedSectionId:null,selectedSlotId:null,selectedSlots:[],selectionAnchor:null,collapsedSections:{},tempo:_f.tempo})),addSection:e=>i(t=>{const r={id:Ua(),name:e.charAt(0).toUpperCase()+e.slice(1),type:e,timeSignature:t.currentSong.timeSignature||vs,measures:Array(4).fill(null).map(()=>uh(t.currentSong.timeSignature||vs))};return{...Nr(t),currentSong:{...t.currentSong,sections:[...t.currentSong.sections,r]}}}),updateSection:(e,t)=>i(r=>({...Nr(r),currentSong:{...r.currentSong,sections:r.currentSong.sections.map(o=>o.id===e?{...o,...t}:o)}})),removeSection:e=>i(t=>{const r=Nr(t),{[e]:a,...o}=t.collapsedSections||{};return{...r,currentSong:{...t.currentSong,sections:t.currentSong.sections.filter(h=>h.id!==e)},collapsedSections:o}}),duplicateSection:e=>i(t=>{const r=t.currentSong.sections.find(f=>f.id===e);if(!r)return{};const a=Nr(t),o={...r,id:Ua(),name:`${r.name} (Copy)`,timeSignature:r.timeSignature||t.currentSong.timeSignature||vs,measures:r.measures.map(f=>({...f,id:Ua(),beats:f.beats.map(d=>({...d,id:Ua()}))}))},h=t.currentSong.sections.findIndex(f=>f.id===e),c=[...t.currentSong.sections];return c.splice(h+1,0,o),{...a,currentSong:{...t.currentSong,sections:c}}}),reorderSections:e=>i(t=>({...Nr(t),currentSong:{...t.currentSong,sections:e}})),setSectionMeasures:(e,t)=>i(r=>{const a=Math.max(1,Math.min(32,Math.round(t))),o=r.currentSong.sections.map(f=>{if(f.id!==e)return f;const d=f.timeSignature||r.currentSong.timeSignature||vs;let m=[...f.measures];if(m.length<a)for(;m.length<a;)m.push(uh(d));else m.length>a&&(m=m.slice(0,a));return{...f,measures:m}}),h=sh(o,r.selectedSectionId,r.selectedSlotId,r.selectedSlots,r.selectionAnchor);return{...Nr(r),currentSong:{...r.currentSong,sections:o},...h}}),setSectionTimeSignature:(e,t)=>i(r=>{const a=r.currentSong.sections.map(c=>{if(c.id!==e)return c;const f=x0(t);return{...c,timeSignature:t,measures:c.measures.map(d=>({...d,beats:[{id:Ua(),chord:null,duration:f}]}))}}),o=sh(a,r.selectedSectionId,r.selectedSlotId,r.selectedSlots,r.selectionAnchor);return{...Nr(r),currentSong:{...r.currentSong,sections:a},...o}}),setMeasureSubdivision:(e,t,r)=>i(a=>{const o=Math.max(1,Math.min(16,Math.round(r))),h=a.currentSong.sections.map(d=>{if(d.id!==e)return d;const m=d.timeSignature||a.currentSong.timeSignature||vs,b=x0(m);return{...d,measures:d.measures.map(w=>{if(w.id!==t)return w;const y=b/o,N=Array.from({length:o}).map((A,E)=>{const T=w.beats[E];return{id:T?.id??Ua(),chord:T?.chord??null,duration:y}});return{...w,beats:N}})}}),c=sh(h,a.selectedSectionId,a.selectedSlotId,a.selectedSlots,a.selectionAnchor);return{...Nr(a),currentSong:{...a.currentSong,sections:h},...c}}),addChordToSlot:(e,t,r)=>i(a=>{const o=Nr(a),h=a.currentSong.sections.map(c=>c.id!==t?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==r?d:{...d,chord:e})}))});return{...o,currentSong:{...a.currentSong,sections:h}}}),clearSlot:(e,t)=>i(r=>{if(!r.currentSong.sections.some(c=>c.id===e&&c.measures.some(f=>f.beats.some(d=>d.id===t&&d.chord))))return{};const o=Nr(r),h=r.currentSong.sections.map(c=>c.id!==e?c:{...c,measures:c.measures.map(f=>({...f,beats:f.beats.map(d=>d.id!==t?d:{...d,chord:null})}))});return{...o,currentSong:{...r.currentSong,sections:h}}}),moveChord:(e,t,r,a)=>i(o=>{let h=null,c=null;if(o.currentSong.sections.forEach(m=>{m.measures.forEach(b=>{b.beats.forEach(w=>{w.id===t&&(h=w.chord),w.id===a&&(c=w.chord)})})}),!h&&!c)return{};const f=Nr(o),d=o.currentSong.sections.map(m=>({...m,measures:m.measures.map(b=>({...b,beats:b.beats.map(w=>w.id===t?{...w,chord:c}:w.id===a?{...w,chord:h}:w)}))}));return{...f,currentSong:{...o.currentSong,sections:d}}}),undo:()=>i(e=>{if(!e.historyPast.length)return{};const t=e.historyPast[e.historyPast.length-1],r=e.historyPast.slice(0,-1),a=[Af(e.currentSong),...e.historyFuture].slice(0,w0),o=Cv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Af(t),historyPast:r,historyFuture:a,canUndo:r.length>0,canRedo:a.length>0,tempo:t.tempo??e.tempo,...o}}),redo:()=>i(e=>{if(!e.historyFuture.length)return{};const t=e.historyFuture[0],r=e.historyFuture.slice(1),a=[...e.historyPast,Af(e.currentSong)].slice(-w0),o=Cv(t,e.selectedSectionId,e.selectedSlotId,e.selectedSlots,e.selectionAnchor);return{currentSong:Af(t),historyPast:a,historyFuture:r,canUndo:a.length>0,canRedo:r.length>0,tempo:t.tempo??e.tempo,...o}})}),{name:"songwriter-wheel-storage",partialize:i=>({currentSong:i.currentSong,tempo:i.tempo,volume:i.volume,instrument:i.instrument,isMuted:i.isMuted})}));function sc(i,e,t,r){const a=(r-90)*Math.PI/180;return{x:i+t*Math.cos(a),y:e+t*Math.sin(a)}}function n4(i,e,t,r,a){const o=sc(i,e,t,r),h=sc(i,e,t,a),c=a-r<=180?"0":"1";return["M",o.x,o.y,"A",t,t,0,c,1,h.x,h.y].join(" ")}function i4(i,e,t,r,a,o){const h=sc(i,e,r,o),c=sc(i,e,r,a),f=sc(i,e,t,o),d=sc(i,e,t,a),m=o-a<=180?"0":"1";return["M",h.x,h.y,"A",r,r,0,m,0,c.x,c.y,"L",d.x,d.y,"A",t,t,0,m,1,f.x,f.y,"Z"].join(" ")}function Mb(i){var e,t,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(t=Mb(i[e]))&&(r&&(r+=" "),r+=t)}else for(t in i)i[t]&&(r&&(r+=" "),r+=t);return r}function Fs(){for(var i,e,t=0,r="",a=arguments.length;t<a;t++)(i=arguments[t])&&(e=Mb(i))&&(r&&(r+=" "),r+=e);return r}const tp=({cx:i,cy:e,innerRadius:t,outerRadius:r,startAngle:a,endAngle:o,color:h,label:c,chord:f,isSelected:d,isDiatonic:m,isSecondary:b=!1,onClick:w,onDoubleClick:y,ringType:N="major",wheelRotation:A=0,romanNumeral:E,voicingSuggestion:T,segmentId:U="seg"})=>{const P=i4(i,e,t,r,a,o),F=(a+o)/2,q=-A,te=r-t,G=t+te*.5,D=t+te*.18,I=sc(i,e,G,F),Z=sc(i,e,D,F),L=r-6,j=n4(i,e,L,a+1,o-1),$=`voicing-arc-${U}`,ee=`clip-${U}`,Q=(()=>{let X=.35,ie=.5;m?(X=1,ie=1):b&&(X=.7,ie=.65);const ae=h.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(ae){const fe=parseInt(ae[1]),pe=Math.round(parseInt(ae[2])*ie),xe=parseInt(ae[3]);let Ce=xe;return N==="minor"?Ce=Math.max(xe-8,30):N==="diminished"&&(Ce=Math.max(xe-15,25)),{fill:`hsl(${fe}, ${pe}%, ${Ce}%)`,opacity:X}}return{fill:h,opacity:X}})(),re=()=>N==="diminished"?"10px":N==="minor"?"12px":"14px",ce=m||b,de=ce?"#000000":"rgba(255,255,255,0.7)",Ae=m?"bold":b?"600":"normal",Y=N==="diminished"||N==="minor"?"6px":"8px",C=N==="major"?ce?6:5:N==="minor"?ce?4:3.25:ce?3.5:3,z=ce?1:.95;return M.jsxs("g",{className:Fs("cursor-pointer transition-all duration-200",!ce&&"hover:opacity-70"),onClick:X=>{X.stopPropagation(),w(f)},onDoubleClick:X=>{X.stopPropagation(),y&&y(f)},children:[(m||b)&&T&&M.jsx("defs",{children:M.jsx("path",{id:$,d:j,fill:"none"})}),M.jsx("defs",{children:M.jsx("clipPath",{id:ee,children:M.jsx("path",{d:P})})}),M.jsx("path",{d:P,fill:Q.fill,opacity:Q.opacity,stroke:"rgba(0,0,0,0.3)",strokeWidth:"1",className:Fs("transition-all duration-200 hover:brightness-110",d&&"brightness-125 stroke-white stroke-2",ce&&"hover:brightness-105")}),d&&M.jsx("path",{d:P,fill:"none",stroke:"white",strokeWidth:C,opacity:z,filter:"url(#segment-glow)",strokeLinecap:"round",strokeLinejoin:"round",pointerEvents:"none",clipPath:`url(#${ee})`}),(m||b)&&T&&N==="major"&&M.jsx("text",{fill:"rgba(0,0,0,0.6)",fontSize:"6px",className:"pointer-events-none select-none",children:M.jsx("textPath",{href:`#${$}`,startOffset:"50%",textAnchor:"middle",children:T})}),m&&T&&N==="minor"&&M.jsx("text",{fill:"rgba(0,0,0,0.55)",fontSize:"5px",className:"pointer-events-none select-none",children:M.jsx("textPath",{href:`#${$}`,startOffset:"50%",textAnchor:"middle",children:T})}),m&&T&&N==="diminished"&&M.jsx("text",{fill:"rgba(0,0,0,0.5)",fontSize:"5px",className:"pointer-events-none select-none",children:M.jsx("textPath",{href:`#${$}`,startOffset:"50%",textAnchor:"middle",children:T})}),M.jsx("text",{x:I.x,y:I.y,textAnchor:"middle",dominantBaseline:"middle",fill:de,fontWeight:Ae,fontSize:re(),className:"pointer-events-none select-none",transform:`rotate(${q}, ${I.x}, ${I.y})`,children:c}),(m||b)&&E&&M.jsx("text",{x:Z.x,y:Z.y,textAnchor:"middle",dominantBaseline:"middle",fill:"rgba(0,0,0,0.6)",fontSize:Y,fontStyle:"italic",className:"pointer-events-none select-none",transform:`rotate(${q}, ${Z.x}, ${Z.y})`,children:E})]})};const r4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s4=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Tv=i=>{const e=s4(i);return e.charAt(0).toUpperCase()+e.slice(1)},Db=(...i)=>i.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),a4=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var o4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const l4=be.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:h,...c},f)=>be.createElement("svg",{ref:f,...o4,width:e,height:e,stroke:i,strokeWidth:r?Number(t)*24/Number(e):t,className:Db("lucide",a),...!o&&!a4(c)&&{"aria-hidden":"true"},...c},[...h.map(([d,m])=>be.createElement(d,m)),...Array.isArray(o)?o:[o]]));const pn=(i,e)=>{const t=be.forwardRef(({className:r,...a},o)=>be.createElement(l4,{ref:o,iconNode:e,className:Db(`lucide-${r4(Tv(i))}`,`lucide-${i}`,r),...a}));return t.displayName=Tv(i),t};const c4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],u4=pn("arrow-right",c4);const h4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],S0=pn("chevron-down",h4);const f4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],d4=pn("chevron-right",f4);const p4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],m4=pn("chevron-left",p4);const g4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],J0=pn("chevron-up",g4);const v4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],y4=pn("circle-question-mark",v4);const b4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_4=pn("circle",b4);const x4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],w4=pn("clock",x4);const S4=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ev=pn("compass",S4);const A4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],N4=pn("copy",A4);const C4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],T4=pn("download",C4);const E4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],k4=pn("file-plus",E4);const O4=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],L4=pn("folder-open",O4);const M4=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],D4=pn("grip-horizontal",M4);const j4=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],jb=pn("grip-vertical",j4);const R4=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],I4=pn("hash",R4);const B4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],q4=pn("layers",B4);const z4=[["path",{d:"M5 12h14",key:"1ays0h"}]],F4=pn("minus",z4);const P4=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],A0=pn("music",P4);const U4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],V4=pn("panel-right-close",U4);const H4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}]],G4=pn("panel-right",H4);const Y4=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],W4=pn("pause",Y4);const X4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Z4=pn("play",X4);const K4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rb=pn("plus",K4);const Q4=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],J4=pn("repeat",Q4);const $4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ib=pn("rotate-ccw",$4);const eS=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Bb=pn("rotate-cw",eS);const tS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kv=pn("save",tS);const nS=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],iS=pn("skip-back",nS);const rS=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],sS=pn("skip-forward",rS);const aS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qb=pn("trash-2",aS);const oS=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],lS=pn("volume-2",oS);const cS=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],uS=pn("volume-x",cS);const hS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ov=pn("x",hS),zb="15.1.22",Lv=(i,e,t)=>({endTime:e,insertTime:t,type:"exponentialRampToValue",value:i}),Mv=(i,e,t)=>({endTime:e,insertTime:t,type:"linearRampToValue",value:i}),N0=(i,e)=>({startTime:e,type:"setValue",value:i}),Fb=(i,e,t)=>({duration:t,startTime:e,type:"setValueCurve",values:i}),Pb=(i,e,{startTime:t,target:r,timeConstant:a})=>r+(e-r)*Math.exp((t-i)/a),hh=i=>i.type==="exponentialRampToValue",Ep=i=>i.type==="linearRampToValue",ic=i=>hh(i)||Ep(i),$0=i=>i.type==="setValue",cl=i=>i.type==="setValueCurve",kp=(i,e,t,r)=>{const a=i[e];return a===void 0?r:ic(a)||$0(a)?a.value:cl(a)?a.values[a.values.length-1]:Pb(t,kp(i,e-1,a.startTime,r),a)},Dv=(i,e,t,r,a)=>t===void 0?[r.insertTime,a]:ic(t)?[t.endTime,t.value]:$0(t)?[t.startTime,t.value]:cl(t)?[t.startTime+t.duration,t.values[t.values.length-1]]:[t.startTime,kp(i,e-1,t.startTime,a)],C0=i=>i.type==="cancelAndHold",T0=i=>i.type==="cancelScheduledValues",ec=i=>C0(i)||T0(i)?i.cancelTime:hh(i)||Ep(i)?i.endTime:i.startTime,jv=(i,e,t,{endTime:r,value:a})=>t===a?a:0<t&&0<a||t<0&&a<0?t*(a/t)**((i-e)/(r-e)):0,Rv=(i,e,t,{endTime:r,value:a})=>t+(i-e)/(r-e)*(a-t),fS=(i,e)=>{const t=Math.floor(e),r=Math.ceil(e);return t===r?i[t]:(1-(e-t))*i[t]+(1-(r-e))*i[r]},dS=(i,{duration:e,startTime:t,values:r})=>{const a=(i-t)/e*(r.length-1);return fS(r,a)},np=i=>i.type==="setTarget";class pS{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const t=ec(e);if(C0(e)||T0(e)){const r=this._automationEvents.findIndex(o=>T0(e)&&cl(o)?o.startTime+o.duration>=t:ec(o)>=t),a=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),C0(e)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&ic(a)){if(o!==void 0&&np(o))throw new Error("The internal list is malformed.");const h=o===void 0?a.insertTime:cl(o)?o.startTime+o.duration:ec(o),c=o===void 0?this._defaultValue:cl(o)?o.values[o.values.length-1]:o.value,f=hh(a)?jv(t,h,c,a):Rv(t,h,c,a),d=hh(a)?Lv(f,t,this._currenTime):Mv(f,t,this._currenTime);this._automationEvents.push(d)}if(o!==void 0&&np(o)&&this._automationEvents.push(N0(this.getValue(t),t)),o!==void 0&&cl(o)&&o.startTime+o.duration>t){const h=t-o.startTime,c=(o.values.length-1)/o.duration,f=Math.max(2,1+Math.ceil(h*c)),d=h/(f-1)*c,m=o.values.slice(0,f);if(d<1)for(let b=1;b<f;b+=1){const w=d*b%1;m[b]=o.values[b-1]*(1-w)+o.values[b]*w}this._automationEvents[this._automationEvents.length-1]=Fb(m,o.startTime,h)}}}else{const r=this._automationEvents.findIndex(h=>ec(h)>t),a=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(a!==void 0&&cl(a)&&ec(a)+a.duration>t)return!1;const o=hh(e)?Lv(e.value,e.endTime,this._currenTime):Ep(e)?Mv(e.value,t,this._currenTime):e;if(r===-1)this._automationEvents.push(o);else{if(cl(e)&&t+e.duration>ec(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,o)}}return!0}flush(e){const t=this._automationEvents.findIndex(r=>ec(r)>e);if(t>1){const r=this._automationEvents.slice(t-1),a=r[0];np(a)&&r.unshift(N0(kp(this._automationEvents,t-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const t=this._automationEvents.findIndex(h=>ec(h)>e),r=this._automationEvents[t],a=(t===-1?this._automationEvents.length:t)-1,o=this._automationEvents[a];if(o!==void 0&&np(o)&&(r===void 0||!ic(r)||r.insertTime>e))return Pb(e,kp(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&$0(o)&&(r===void 0||!ic(r)))return o.value;if(o!==void 0&&cl(o)&&(r===void 0||!ic(r)||o.startTime+o.duration>e))return e<o.startTime+o.duration?dS(e,o):o.values[o.values.length-1];if(o!==void 0&&ic(o)&&(r===void 0||!ic(r)))return o.value;if(r!==void 0&&hh(r)){const[h,c]=Dv(this._automationEvents,a,o,r,this._defaultValue);return jv(e,h,c,r)}if(r!==void 0&&Ep(r)){const[h,c]=Dv(this._automationEvents,a,o,r,this._defaultValue);return Rv(e,h,c,r)}return this._defaultValue}}const mS=i=>({cancelTime:i,type:"cancelAndHold"}),gS=i=>({cancelTime:i,type:"cancelScheduledValues"}),vS=(i,e)=>({endTime:e,type:"exponentialRampToValue",value:i}),yS=(i,e)=>({endTime:e,type:"linearRampToValue",value:i}),bS=(i,e,t)=>({startTime:e,target:i,timeConstant:t,type:"setTarget"}),_S=()=>new DOMException("","AbortError"),xS=i=>(e,t,[r,a,o],h)=>{i(e[a],[t,r,o],c=>c[0]===t&&c[1]===r,h)},wS=i=>(e,t,r)=>{const a=[];for(let o=0;o<r.numberOfInputs;o+=1)a.push(new Set);i.set(e,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:t})},SS=i=>(e,t)=>{i.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})},xh=new WeakSet,Ub=new WeakMap,eg=new WeakMap,Vb=new WeakMap,tg=new WeakMap,e1=new WeakMap,Hb=new WeakMap,E0=new WeakMap,k0=new WeakMap,O0=new WeakMap,Gb={construct(){return Gb}},AS=i=>{try{const e=new Proxy(i,Gb);new e}catch{return!1}return!0},Iv=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Bv=(i,e)=>{const t=[];let r=i.replace(/^[\s]+/,""),a=r.match(Iv);for(;a!==null;){const o=a[1].slice(1,-1),h=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,e).toString());t.push(h),r=r.slice(a[0].length).replace(/^[\s]+/,""),a=r.match(Iv)}return[t.join(";"),r]},qv=i=>{if(i!==void 0&&!Array.isArray(i))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},zv=i=>{if(!AS(i))throw new TypeError("The given value for processorCtor should be a constructor.");if(i.prototype===null||typeof i.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},NS=(i,e,t,r,a,o,h,c,f,d,m,b,w)=>{let y=0;return(N,A,E={credentials:"omit"})=>{const T=m.get(N);if(T!==void 0&&T.has(A))return Promise.resolve();const U=d.get(N);if(U!==void 0){const q=U.get(A);if(q!==void 0)return q}const P=o(N),F=P.audioWorklet===void 0?a(A).then(([q,te])=>{const[G,D]=Bv(q,te),I=`${G};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${D}
})})(window,'_AWGS')`;return t(I)}).then(()=>{const q=w._AWGS.pop();if(q===void 0)throw new SyntaxError;r(P.currentTime,P.sampleRate,()=>q(class{},void 0,(te,G)=>{if(te.trim()==="")throw e();const D=k0.get(P);if(D!==void 0){if(D.has(te))throw e();zv(G),qv(G.parameterDescriptors),D.set(te,G)}else zv(G),qv(G.parameterDescriptors),k0.set(P,new Map([[te,G]]))},P.sampleRate,void 0,void 0))}):Promise.all([a(A),Promise.resolve(i(b,b))]).then(([[q,te],G])=>{const D=y+1;y=D;const[I,Z]=Bv(q,te),ee=`${I};((AudioWorkletProcessor,registerProcessor)=>{${Z}
})(${G?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${G?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${G?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${D}',class extends AudioWorkletProcessor{process(){return !1}})`,ue=new Blob([ee],{type:"application/javascript; charset=utf-8"}),Q=URL.createObjectURL(ue);return P.audioWorklet.addModule(Q,E).then(()=>{if(c(P))return P;const re=h(P);return re.audioWorklet.addModule(Q,E).then(()=>re)}).then(re=>{if(f===null)throw new SyntaxError;try{new f(re,`__sac${D}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(Q))});return U===void 0?d.set(N,new Map([[A,F]])):U.set(A,F),F.then(()=>{const q=m.get(N);q===void 0?m.set(N,new Set([A])):q.add(A)}).finally(()=>{const q=d.get(N);q!==void 0&&q.delete(A)}),F}},Wa=(i,e)=>{const t=i.get(e);if(t===void 0)throw new Error("A value with the given key could not be found.");return t},t1=(i,e)=>{const t=Array.from(i).filter(e);if(t.length>1)throw Error("More than one element was found.");if(t.length===0)throw Error("No element was found.");const[r]=t;return i.delete(r),r},Yb=(i,e,t,r)=>{const a=Wa(i,e),o=t1(a,h=>h[0]===t&&h[1]===r);return a.size===0&&i.delete(e),o},Yf=i=>Wa(Hb,i),wh=i=>{if(xh.has(i))throw new Error("The AudioNode is already stored.");xh.add(i),Yf(i).forEach(e=>e(!0))},Wb=i=>"port"in i,Wf=i=>{if(!xh.has(i))throw new Error("The AudioNode is not stored.");xh.delete(i),Yf(i).forEach(e=>e(!1))},L0=(i,e)=>{!Wb(i)&&e.every(t=>t.size===0)&&Wf(i)},CS=(i,e,t,r,a,o,h,c,f,d,m,b,w)=>{const y=new WeakMap;return(N,A,E,T,U)=>{const{activeInputs:P,passiveInputs:F}=o(A),{outputs:q}=o(N),te=c(N),G=D=>{const I=f(A),Z=f(N);if(D){const L=Yb(F,N,E,T);i(P,N,L,!1),!U&&!b(N)&&t(Z,I,E,T),w(A)&&wh(A)}else{const L=r(P,N,E,T);e(F,T,L,!1),!U&&!b(N)&&a(Z,I,E,T);const j=h(A);if(j===0)m(A)&&L0(A,P);else{const $=y.get(A);$!==void 0&&clearTimeout($),y.set(A,setTimeout(()=>{m(A)&&L0(A,P)},j*1e3))}}};return d(q,[A,E,T],D=>D[0]===A&&D[1]===E&&D[2]===T,!0)?(te.add(G),m(N)?i(P,N,[E,T,G],!0):e(F,T,[N,E,G],!0),!0):!1}},TS=i=>(e,t,[r,a,o],h)=>{const c=e.get(r);c===void 0?e.set(r,new Set([[a,t,o]])):i(c,[a,t,o],f=>f[0]===a&&f[1]===t,h)},ES=i=>(e,t)=>{const r=i(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(r).connect(e.destination);const a=()=>{t.removeEventListener("ended",a),t.disconnect(r),r.disconnect()};t.addEventListener("ended",a)},kS=i=>(e,t)=>{i(e).add(t)},OS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},LS=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...OS,...f},b=r(d,m),w=o(d)?e():null;super(c,!1,b,w),this._nativeAnalyserNode=b}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const f=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=f,t()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const f=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=f,t()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},qr=(i,e)=>i.context===e,MS=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!qr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=i(h,d)}return r.set(h,c),await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},Op=i=>{try{i.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},ko=()=>new DOMException("","IndexSizeError"),ng=i=>{i.getChannelData=(e=>t=>{try{return e.call(i,t)}catch(r){throw r.code===12?ko():r}})(i.getChannelData)},DS={numberOfChannels:1},jS=(i,e,t,r,a,o,h,c)=>{let f=null;return class Xb{constructor(m){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:b,numberOfChannels:w,sampleRate:y}={...DS,...m};f===null&&(f=new a(1,1,44100));const N=r!==null&&e(o,o)?new r({length:b,numberOfChannels:w,sampleRate:y}):f.createBuffer(w,b,y);if(N.numberOfChannels===0)throw t();return typeof N.copyFromChannel!="function"?(h(N),ng(N)):e(Op,()=>Op(N))||c(N),i.add(N),N}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===Xb.prototype||i.has(m)}}},ys=-34028234663852886e22,Xr=-ys,fl=i=>xh.has(i),RS={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},IS=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const b=o(d),w={...RS,...m},y=a(b,w),N=h(b),A=N?e():null;super(d,!1,y,A),this._audioBufferSourceNodeRenderer=A,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=y,this._onended=null,this._playbackRate=t(this,N,y.playbackRate,Xr,ys)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const m=typeof d=="function"?c(this,d):null;this._nativeAudioBufferSourceNode.onended=m;const b=this._nativeAudioBufferSourceNode.onended;this._onended=b!==null&&b===m?d:b}get playbackRate(){return this._playbackRate}start(d=0,m=0,b){if(this._nativeAudioBufferSourceNode.start(d,m,b),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=b===void 0?[d,m]:[d,m,b]),this.context.state!=="closed"){wh(this);const w=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",w),fl(this)&&Wf(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",w)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},BS=(i,e,t,r,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let b=t(d);const w=qr(b,m);if(!w){const y={buffer:b.buffer,channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,loop:b.loop,loopEnd:b.loopEnd,loopStart:b.loopStart,playbackRate:b.playbackRate.value};b=e(m,y),h!==null&&b.start(...h),c!==null&&b.stop(c)}return o.set(m,b),w?await i(m,d.playbackRate,b.playbackRate):await r(m,d.playbackRate,b.playbackRate),await a(d,m,b),b};return{set start(d){h=d},set stop(d){c=d},render(d,m){const b=o.get(m);return b!==void 0?Promise.resolve(b):f(d,m)}}},qS=i=>"playbackRate"in i,zS=i=>"frequency"in i&&"gain"in i,FS=i=>"offset"in i,PS=i=>!("frequency"in i)&&"gain"in i,US=i=>"detune"in i&&"frequency"in i&&!("gain"in i),VS=i=>"pan"in i,Zr=i=>Wa(Ub,i),Xf=i=>Wa(Vb,i),M0=(i,e)=>{const{activeInputs:t}=Zr(i);t.forEach(a=>a.forEach(([o])=>{e.includes(i)||M0(o,[...e,i])}));const r=qS(i)?[i.playbackRate]:Wb(i)?Array.from(i.parameters.values()):zS(i)?[i.Q,i.detune,i.frequency,i.gain]:FS(i)?[i.offset]:PS(i)?[i.gain]:US(i)?[i.detune,i.frequency]:VS(i)?[i.pan]:[];for(const a of r){const o=Xf(a);o!==void 0&&o.activeInputs.forEach(([h])=>M0(h,e))}fl(i)&&Wf(i)},Zb=i=>{M0(i.destination,[])},HS=i=>i===void 0||typeof i=="number"||typeof i=="string"&&(i==="balanced"||i==="interactive"||i==="playback"),GS=(i,e,t,r,a,o,h,c,f)=>class extends i{constructor(m={}){if(f===null)throw new Error("Missing the native AudioContext constructor.");let b;try{b=new f(m)}catch(N){throw N.code===12&&N.message==="sampleRate is not in range"?t():N}if(b===null)throw r();if(!HS(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&b.sampleRate!==m.sampleRate)throw t();super(b,2);const{latencyHint:w}=m,{sampleRate:y}=b;if(this._baseLatency=typeof b.baseLatency=="number"?b.baseLatency:w==="balanced"?512/y:w==="interactive"||w===void 0?256/y:w==="playback"?1024/y:Math.max(2,Math.min(128,Math.round(w*y/128)))*128/y,this._nativeAudioContext=b,f.name==="webkitAudioContext"?(this._nativeGainNode=b.createGain(),this._nativeOscillatorNode=b.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(b.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,b.state==="running"){this._state="suspended";const N=()=>{this._state==="suspended"&&(this._state=null),b.removeEventListener("statechange",N)};b.addEventListener("statechange",N)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Zb(this)}))}createMediaElementSource(m){return new a(this,{mediaElement:m})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(m){return new h(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new c(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,b)=>{const w=()=>{this._nativeAudioContext.removeEventListener("statechange",w),this._nativeAudioContext.state==="running"?m():this.resume().then(m,b)};this._nativeAudioContext.addEventListener("statechange",w)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?e():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?e():m})}},YS=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const b=o(d),w=h(b),y=a(b,m,w),N=w?e(c):null;super(d,!1,y,N),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=y}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw t();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},WS=i=>{const e=new WeakMap,t=async(r,a)=>{const o=a.destination;return e.set(a,o),await i(r,a,o),o};return{render(r,a){const o=e.get(a);return o!==void 0?Promise.resolve(o):t(r,a)}}},XS=(i,e,t,r,a,o,h,c)=>(f,d)=>{const m=d.listener,b=()=>{const q=new Float32Array(1),te=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),G=h(d);let D=!1,I=[0,0,-1,0,1,0],Z=[0,0,0];const L=()=>{if(D)return;D=!0;const ue=r(d,256,9,0);ue.onaudioprocess=({inputBuffer:Q})=>{const re=[o(Q,q,0),o(Q,q,1),o(Q,q,2),o(Q,q,3),o(Q,q,4),o(Q,q,5)];re.some((de,Ae)=>de!==I[Ae])&&(m.setOrientation(...re),I=re);const ce=[o(Q,q,6),o(Q,q,7),o(Q,q,8)];ce.some((de,Ae)=>de!==Z[Ae])&&(m.setPosition(...ce),Z=ce)},te.connect(ue)},j=ue=>Q=>{Q!==I[ue]&&(I[ue]=Q,m.setOrientation(...I))},$=ue=>Q=>{Q!==Z[ue]&&(Z[ue]=Q,m.setPosition(...Z))},ee=(ue,Q,re)=>{const ce=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Q});ce.connect(te,0,ue),ce.start(),Object.defineProperty(ce.offset,"defaultValue",{get(){return Q}});const de=i({context:f},G,ce.offset,Xr,ys);return c(de,"value",Ae=>()=>Ae.call(de),Ae=>Y=>{try{Ae.call(de,Y)}catch(C){if(C.code!==9)throw C}L(),G&&re(Y)}),de.cancelAndHoldAtTime=(Ae=>G?()=>{throw a()}:(...Y)=>{const C=Ae.apply(de,Y);return L(),C})(de.cancelAndHoldAtTime),de.cancelScheduledValues=(Ae=>G?()=>{throw a()}:(...Y)=>{const C=Ae.apply(de,Y);return L(),C})(de.cancelScheduledValues),de.exponentialRampToValueAtTime=(Ae=>G?()=>{throw a()}:(...Y)=>{const C=Ae.apply(de,Y);return L(),C})(de.exponentialRampToValueAtTime),de.linearRampToValueAtTime=(Ae=>G?()=>{throw a()}:(...Y)=>{const C=Ae.apply(de,Y);return L(),C})(de.linearRampToValueAtTime),de.setTargetAtTime=(Ae=>G?()=>{throw a()}:(...Y)=>{const C=Ae.apply(de,Y);return L(),C})(de.setTargetAtTime),de.setValueAtTime=(Ae=>G?()=>{throw a()}:(...Y)=>{const C=Ae.apply(de,Y);return L(),C})(de.setValueAtTime),de.setValueCurveAtTime=(Ae=>G?()=>{throw a()}:(...Y)=>{const C=Ae.apply(de,Y);return L(),C})(de.setValueCurveAtTime),de};return{forwardX:ee(0,0,j(0)),forwardY:ee(1,0,j(1)),forwardZ:ee(2,-1,j(2)),positionX:ee(6,0,$(0)),positionY:ee(7,0,$(1)),positionZ:ee(8,0,$(2)),upX:ee(3,0,j(3)),upY:ee(4,1,j(4)),upZ:ee(5,0,j(5))}},{forwardX:w,forwardY:y,forwardZ:N,positionX:A,positionY:E,positionZ:T,upX:U,upY:P,upZ:F}=m.forwardX===void 0?b():m;return{get forwardX(){return w},get forwardY(){return y},get forwardZ(){return N},get positionX(){return A},get positionY(){return E},get positionZ(){return T},get upX(){return U},get upY(){return P},get upZ(){return F}}},Lp=i=>"context"in i,Zf=i=>Lp(i[0]),ou=(i,e,t,r)=>{for(const a of i)if(t(a)){if(r)return!1;throw Error("The set contains at least one similar element.")}return i.add(e),!0},Fv=(i,e,[t,r],a)=>{ou(i,[e,t,r],o=>o[0]===e&&o[1]===t,a)},Pv=(i,[e,t,r],a)=>{const o=i.get(e);o===void 0?i.set(e,new Set([[t,r]])):ou(o,[t,r],h=>h[0]===t,a)},Nh=i=>"inputs"in i,Mp=(i,e,t,r)=>{if(Nh(e)){const a=e.inputs[r];return i.connect(a,t,0),[a,t,0]}return i.connect(e,t,r),[e,t,r]},Kb=(i,e,t)=>{for(const r of i)if(r[0]===e&&r[1]===t)return i.delete(r),r;return null},ZS=(i,e,t)=>t1(i,r=>r[0]===e&&r[1]===t),Qb=(i,e)=>{if(!Yf(i).delete(e))throw new Error("Missing the expected event listener.")},Jb=(i,e,t)=>{const r=Wa(i,e),a=t1(r,o=>o[0]===t);return r.size===0&&i.delete(e),a},Dp=(i,e,t,r)=>{Nh(e)?i.disconnect(e.inputs[r],t,0):i.disconnect(e,t,r)},oi=i=>Wa(eg,i),Rf=i=>Wa(tg,i),iu=i=>E0.has(i),yp=i=>!xh.has(i),Uv=(i,e)=>new Promise(t=>{if(e!==null)t(!0);else{const r=i.createScriptProcessor(256,1,1),a=i.createGain(),o=i.createBuffer(1,2,44100),h=o.getChannelData(0);h[0]=1,h[1]=1;const c=i.createBufferSource();c.buffer=o,c.loop=!0,c.connect(r).connect(i.destination),c.connect(a),c.disconnect(a),r.onaudioprocess=f=>{const d=f.inputBuffer.getChannelData(0);Array.prototype.some.call(d,m=>m===1)?t(!0):t(!1),c.stop(),r.onaudioprocess=null,c.disconnect(r),r.disconnect(i.destination)},c.start()}}),Wm=(i,e)=>{const t=new Map;for(const r of i)for(const a of r){const o=t.get(a);t.set(a,o===void 0?1:o+1)}t.forEach((r,a)=>e(a,r))},jp=i=>"context"in i,KS=i=>{const e=new Map;i.connect=(t=>(r,a=0,o=0)=>{const h=jp(r)?t(r,a,o):t(r,a),c=e.get(r);return c===void 0?e.set(r,[{input:o,output:a}]):c.every(f=>f.input!==o||f.output!==a)&&c.push({input:o,output:a}),h})(i.connect.bind(i)),i.disconnect=(t=>(r,a,o)=>{if(t.apply(i),r===void 0)e.clear();else if(typeof r=="number")for(const[h,c]of e){const f=c.filter(d=>d.output!==r);f.length===0?e.delete(h):e.set(h,f)}else if(e.has(r))if(a===void 0)e.delete(r);else{const h=e.get(r);if(h!==void 0){const c=h.filter(f=>f.output!==a&&(f.input!==o||o===void 0));c.length===0?e.delete(r):e.set(r,c)}}for(const[h,c]of e)c.forEach(f=>{jp(h)?i.connect(h,f.output,f.input):i.connect(h,f.output)})})(i.disconnect)},QS=(i,e,t,r)=>{const{activeInputs:a,passiveInputs:o}=Xf(e),{outputs:h}=Zr(i),c=Yf(i),f=d=>{const m=oi(i),b=Rf(e);if(d){const w=Jb(o,i,t);Fv(a,i,w,!1),!r&&!iu(i)&&m.connect(b,t)}else{const w=ZS(a,i,t);Pv(o,w,!1),!r&&!iu(i)&&m.disconnect(b,t)}};return ou(h,[e,t],d=>d[0]===e&&d[1]===t,!0)?(c.add(f),fl(i)?Fv(a,i,[t,f],!0):Pv(o,[i,t,f],!0),!0):!1},JS=(i,e,t,r)=>{const{activeInputs:a,passiveInputs:o}=Zr(e),h=Kb(a[r],i,t);return h===null?[Yb(o,i,t,r)[2],!1]:[h[2],!0]},$S=(i,e,t)=>{const{activeInputs:r,passiveInputs:a}=Xf(e),o=Kb(r,i,t);return o===null?[Jb(a,i,t)[1],!1]:[o[2],!0]},ig=(i,e,t,r,a)=>{const[o,h]=JS(i,t,r,a);if(o!==null&&(Qb(i,o),h&&!e&&!iu(i)&&Dp(oi(i),oi(t),r,a)),fl(t)){const{activeInputs:c}=Zr(t);L0(t,c)}},rg=(i,e,t,r)=>{const[a,o]=$S(i,t,r);a!==null&&(Qb(i,a),o&&!e&&!iu(i)&&oi(i).disconnect(Rf(t),r))},e6=(i,e)=>{const t=Zr(i),r=[];for(const a of t.outputs)Zf(a)?ig(i,e,...a):rg(i,e,...a),r.push(a[0]);return t.outputs.clear(),r},t6=(i,e,t)=>{const r=Zr(i),a=[];for(const o of r.outputs)o[1]===t&&(Zf(o)?ig(i,e,...o):rg(i,e,...o),a.push(o[0]),r.outputs.delete(o));return a},n6=(i,e,t,r,a)=>{const o=Zr(i);return Array.from(o.outputs).filter(h=>h[0]===t&&(r===void 0||h[1]===r)&&(a===void 0||h[2]===a)).map(h=>(Zf(h)?ig(i,e,...h):rg(i,e,...h),o.outputs.delete(h),h[0]))},i6=(i,e,t,r,a,o,h,c,f,d,m,b,w,y,N,A)=>class extends d{constructor(T,U,P,F){super(P),this._context=T,this._nativeAudioNode=P;const q=m(T);b(q)&&t(Uv,()=>Uv(q,A))!==!0&&KS(P),eg.set(this,P),Hb.set(this,new Set),T.state!=="closed"&&U&&wh(this),i(this,F,P)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(T){this._nativeAudioNode.channelCount=T}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(T){this._nativeAudioNode.channelCountMode=T}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(T){this._nativeAudioNode.channelInterpretation=T}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(T,U=0,P=0){if(U<0||U>=this._nativeAudioNode.numberOfOutputs)throw a();const F=m(this._context),q=N(F);if(w(T)||y(T))throw o();if(Lp(T)){const D=oi(T);try{const Z=Mp(this._nativeAudioNode,D,U,P),L=yp(this);(q||L)&&this._nativeAudioNode.disconnect(...Z),this.context.state!=="closed"&&!L&&yp(T)&&wh(T)}catch(Z){throw Z.code===12?o():Z}if(e(this,T,U,P,q)){const Z=f([this],T);Wm(Z,r(q))}return T}const te=Rf(T);if(te.name==="playbackRate"&&te.maxValue===1024)throw h();try{this._nativeAudioNode.connect(te,U),(q||yp(this))&&this._nativeAudioNode.disconnect(te,U)}catch(D){throw D.code===12?o():D}if(QS(this,T,U,q)){const D=f([this],T);Wm(D,r(q))}}disconnect(T,U,P){let F;const q=m(this._context),te=N(q);if(T===void 0)F=e6(this,te);else if(typeof T=="number"){if(T<0||T>=this.numberOfOutputs)throw a();F=t6(this,te,T)}else{if(U!==void 0&&(U<0||U>=this.numberOfOutputs)||Lp(T)&&P!==void 0&&(P<0||P>=T.numberOfInputs))throw a();if(F=n6(this,te,T,U,P),F.length===0)throw o()}for(const G of F){const D=f([this],G);Wm(D,c)}}},r6=(i,e,t,r,a,o,h,c,f,d,m,b,w)=>(y,N,A,E=null,T=null)=>{const U=A.value,P=new pS(U),F=N?r(P):null,q={get defaultValue(){return U},get maxValue(){return E===null?A.maxValue:E},get minValue(){return T===null?A.minValue:T},get value(){return A.value},set value(te){A.value=te,q.setValueAtTime(te,y.context.currentTime)},cancelAndHoldAtTime(te){if(typeof A.cancelAndHoldAtTime=="function")F===null&&P.flush(y.context.currentTime),P.add(a(te)),A.cancelAndHoldAtTime(te);else{const G=Array.from(P).pop();F===null&&P.flush(y.context.currentTime),P.add(a(te));const D=Array.from(P).pop();A.cancelScheduledValues(te),G!==D&&D!==void 0&&(D.type==="exponentialRampToValue"?A.exponentialRampToValueAtTime(D.value,D.endTime):D.type==="linearRampToValue"?A.linearRampToValueAtTime(D.value,D.endTime):D.type==="setValue"?A.setValueAtTime(D.value,D.startTime):D.type==="setValueCurve"&&A.setValueCurveAtTime(D.values,D.startTime,D.duration))}return q},cancelScheduledValues(te){return F===null&&P.flush(y.context.currentTime),P.add(o(te)),A.cancelScheduledValues(te),q},exponentialRampToValueAtTime(te,G){if(te===0)throw new RangeError;if(!Number.isFinite(G)||G<0)throw new RangeError;const D=y.context.currentTime;return F===null&&P.flush(D),Array.from(P).length===0&&(P.add(d(U,D)),A.setValueAtTime(U,D)),P.add(h(te,G)),A.exponentialRampToValueAtTime(te,G),q},linearRampToValueAtTime(te,G){const D=y.context.currentTime;return F===null&&P.flush(D),Array.from(P).length===0&&(P.add(d(U,D)),A.setValueAtTime(U,D)),P.add(c(te,G)),A.linearRampToValueAtTime(te,G),q},setTargetAtTime(te,G,D){return F===null&&P.flush(y.context.currentTime),P.add(f(te,G,D)),A.setTargetAtTime(te,G,D),q},setValueAtTime(te,G){return F===null&&P.flush(y.context.currentTime),P.add(d(te,G)),A.setValueAtTime(te,G),q},setValueCurveAtTime(te,G,D){const I=te instanceof Float32Array?te:new Float32Array(te);if(b!==null&&b.name==="webkitAudioContext"){const Z=G+D,L=y.context.sampleRate,j=Math.ceil(G*L),$=Math.floor(Z*L),ee=$-j,ue=new Float32Array(ee);for(let re=0;re<ee;re+=1){const ce=(I.length-1)/D*((j+re)/L-G),de=Math.floor(ce),Ae=Math.ceil(ce);ue[re]=de===Ae?I[de]:(1-(ce-de))*I[de]+(1-(Ae-ce))*I[Ae]}F===null&&P.flush(y.context.currentTime),P.add(m(ue,G,D)),A.setValueCurveAtTime(ue,G,D);const Q=$/L;Q<Z&&w(q,ue[ue.length-1],Q),w(q,I[I.length-1],Z)}else F===null&&P.flush(y.context.currentTime),P.add(m(I,G,D)),A.setValueCurveAtTime(I,G,D);return q}};return t.set(q,A),e.set(q,y),i(q,F),q},s6=i=>({replay(e){for(const t of i)if(t.type==="exponentialRampToValue"){const{endTime:r,value:a}=t;e.exponentialRampToValueAtTime(a,r)}else if(t.type==="linearRampToValue"){const{endTime:r,value:a}=t;e.linearRampToValueAtTime(a,r)}else if(t.type==="setTarget"){const{startTime:r,target:a,timeConstant:o}=t;e.setTargetAtTime(a,r,o)}else if(t.type==="setValue"){const{startTime:r,value:a}=t;e.setValueAtTime(a,r)}else if(t.type==="setValueCurve"){const{duration:r,startTime:a,values:o}=t;e.setValueCurveAtTime(o,a,r)}else throw new Error("Can't apply an unknown automation.")}});class $b{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach((r,a)=>e.call(t,r,a,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const a6={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},o6=(i,e,t,r,a,o,h,c,f,d,m,b,w,y)=>class extends e{constructor(A,E,T){var U;const P=c(A),F=f(P),q=m({...a6,...T});w(q);const te=k0.get(P),G=te?.get(E),D=F||P.state!=="closed"?P:(U=h(P))!==null&&U!==void 0?U:P,I=a(D,F?null:A.baseLatency,d,E,G,q),Z=F?r(E,q,G):null;super(A,!0,I,Z);const L=[];I.parameters.forEach(($,ee)=>{const ue=t(this,F,$);L.push([ee,ue])}),this._nativeAudioWorkletNode=I,this._onprocessorerror=null,this._parameters=new $b(L),F&&i(P,this);const{activeInputs:j}=o(this);b(I,j)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(A){const E=typeof A=="function"?y(this,A):null;this._nativeAudioWorkletNode.onprocessorerror=E;const T=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=T!==null&&T===E?A:T}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Rp(i,e,t,r,a){if(typeof i.copyFromChannel=="function")e[t].byteLength===0&&(e[t]=new Float32Array(128)),i.copyFromChannel(e[t],r,a);else{const o=i.getChannelData(r);if(e[t].byteLength===0)e[t]=o.slice(a,a+128);else{const h=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);e[t].set(h)}}}const e_=(i,e,t,r,a)=>{typeof i.copyToChannel=="function"?e[t].byteLength!==0&&i.copyToChannel(e[t],r,a):e[t].byteLength!==0&&i.getChannelData(r).set(e[t],a)},Ip=(i,e)=>{const t=[];for(let r=0;r<i;r+=1){const a=[],o=typeof e=="number"?e:e[r];for(let h=0;h<o;h+=1)a.push(new Float32Array(128));t.push(a)}return t},l6=(i,e)=>{const t=Wa(O0,i),r=oi(e);return Wa(t,r)},c6=async(i,e,t,r,a,o,h)=>{const c=e===null?Math.ceil(i.context.length/128)*128:e.length,f=r.channelCount*r.numberOfInputs,d=a.reduce((E,T)=>E+T,0),m=d===0?null:t.createBuffer(d,c,t.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const b=Zr(i),w=await l6(t,i),y=Ip(r.numberOfInputs,r.channelCount),N=Ip(r.numberOfOutputs,a),A=Array.from(i.parameters.keys()).reduce((E,T)=>({...E,[T]:new Float32Array(128)}),{});for(let E=0;E<c;E+=128){if(r.numberOfInputs>0&&e!==null)for(let T=0;T<r.numberOfInputs;T+=1)for(let U=0;U<r.channelCount;U+=1)Rp(e,y[T],U,U,E);o.parameterDescriptors!==void 0&&e!==null&&o.parameterDescriptors.forEach(({name:T},U)=>{Rp(e,A,T,f+U,E)});for(let T=0;T<r.numberOfInputs;T+=1)for(let U=0;U<a[T];U+=1)N[T][U].byteLength===0&&(N[T][U]=new Float32Array(128));try{const T=y.map((P,F)=>b.activeInputs[F].size===0?[]:P),U=h(E/t.sampleRate,t.sampleRate,()=>w.process(T,N,A));if(m!==null)for(let P=0,F=0;P<r.numberOfOutputs;P+=1){for(let q=0;q<a[P];q+=1)e_(m,N[P],q,F+q,E);F+=a[P]}if(!U)break}catch(T){i.dispatchEvent(new ErrorEvent("processorerror",{colno:T.colno,filename:T.filename,lineno:T.lineno,message:T.message}));break}}return m},u6=(i,e,t,r,a,o,h,c,f,d,m,b,w,y,N,A)=>(E,T,U)=>{const P=new WeakMap;let F=null;const q=async(te,G)=>{let D=m(te),I=null;const Z=qr(D,G),L=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(b===null){const j=L.reduce((Q,re)=>Q+re,0),$=a(G,{channelCount:Math.max(1,j),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,j)}),ee=[];for(let Q=0;Q<te.numberOfOutputs;Q+=1)ee.push(r(G,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:L[Q]}));const ue=h(G,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1});ue.connect=e.bind(null,ee),ue.disconnect=f.bind(null,ee),I=[$,ee,ue]}else Z||(D=new b(G,E));if(P.set(G,I===null?D:I[2]),I!==null){if(F===null){if(U===void 0)throw new Error("Missing the processor constructor.");if(w===null)throw new Error("Missing the native OfflineAudioContext constructor.");const re=te.channelCount*te.numberOfInputs,ce=U.parameterDescriptors===void 0?0:U.parameterDescriptors.length,de=re+ce;F=c6(te,de===0?null:await(async()=>{const Y=new w(de,Math.ceil(te.context.length/128)*128,G.sampleRate),C=[],z=[];for(let ae=0;ae<T.numberOfInputs;ae+=1)C.push(h(Y,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),z.push(a(Y,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const X=await Promise.all(Array.from(te.parameters.values()).map(async ae=>{const fe=o(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ae.value});return await y(Y,ae,fe.offset),fe})),ie=r(Y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,re+ce)});for(let ae=0;ae<T.numberOfInputs;ae+=1){C[ae].connect(z[ae]);for(let fe=0;fe<T.channelCount;fe+=1)z[ae].connect(ie,fe,ae*T.channelCount+fe)}for(const[ae,fe]of X.entries())fe.connect(ie,0,re+ae),fe.start(0);return ie.connect(Y.destination),await Promise.all(C.map(ae=>N(te,Y,ae))),A(Y)})(),G,T,L,U,d)}const j=await F,$=t(G,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[ee,ue,Q]=I;j!==null&&($.buffer=j,$.start(0)),$.connect(ee);for(let re=0,ce=0;re<te.numberOfOutputs;re+=1){const de=ue[re];for(let Ae=0;Ae<L[re];Ae+=1)ee.connect(de,ce+Ae,Ae);ce+=L[re]}return Q}if(Z)for(const[j,$]of te.parameters.entries())await i(G,$,D.parameters.get(j));else for(const[j,$]of te.parameters.entries())await y(G,$,D.parameters.get(j));return await N(te,G,D),D};return{render(te,G){c(G,te);const D=P.get(G);return D!==void 0?Promise.resolve(D):q(te,G)}}},h6=(i,e,t,r,a,o,h,c,f,d,m,b,w,y,N,A,E,T,U,P)=>class extends N{constructor(q,te){super(q,te),this._nativeContext=q,this._audioWorklet=i===void 0?void 0:{addModule:(G,D)=>i(this,G,D)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new a(this)}createBuffer(q,te,G){return new t({length:te,numberOfChannels:q,sampleRate:G})}createBufferSource(){return new r(this)}createChannelMerger(q=6){return new o(this,{numberOfInputs:q})}createChannelSplitter(q=6){return new h(this,{numberOfOutputs:q})}createConstantSource(){return new c(this)}createConvolver(){return new f(this)}createDelay(q=1){return new m(this,{maxDelayTime:q})}createDynamicsCompressor(){return new b(this)}createGain(){return new w(this)}createIIRFilter(q,te){return new y(this,{feedback:te,feedforward:q})}createOscillator(){return new A(this)}createPanner(){return new E(this)}createPeriodicWave(q,te,G={disableNormalization:!1}){return new T(this,{...G,imag:te,real:q})}createStereoPanner(){return new U(this)}createWaveShaper(){return new P(this)}decodeAudioData(q,te,G){return d(this._nativeContext,q).then(D=>(typeof te=="function"&&te(D),D),D=>{throw typeof G=="function"&&G(D),D})}},f6={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},d6=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const b=o(d),w={...f6,...m},y=a(b,w),N=h(b),A=N?t():null;super(d,!1,y,A),this._Q=e(this,N,y.Q,Xr,ys),this._detune=e(this,N,y.detune,1200*Math.log2(Xr),-1200*Math.log2(Xr)),this._frequency=e(this,N,y.frequency,d.sampleRate/2,0),this._gain=e(this,N,y.gain,40*Math.log10(Xr),ys),this._nativeBiquadFilterNode=y,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,m,b){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,m,b)}catch(w){throw w.code===11?r():w}if(d.length!==m.length||m.length!==b.length)throw r()}},p6=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=qr(d,f);if(!m){const b={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=e(f,b)}return o.set(f,d),m?(await i(f,c.Q,d.Q),await i(f,c.detune,d.detune),await i(f,c.frequency,d.frequency),await i(f,c.gain,d.gain)):(await r(f,c.Q,d.Q),await r(f,c.detune,d.detune),await r(f,c.frequency,d.frequency),await r(f,c.gain,d.gain)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},m6=(i,e)=>(t,r)=>{const a=e.get(t);if(a!==void 0)return a;const o=i.get(t);if(o!==void 0)return o;try{const h=r();return h instanceof Promise?(i.set(t,h),h.catch(()=>!1).then(c=>(i.delete(t),e.set(t,c),c))):(e.set(t,h),h)}catch{return e.set(t,!1),!1}},g6={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},v6=(i,e,t,r,a)=>class extends i{constructor(h,c){const f=r(h),d={...g6,...c},m=t(f,d),b=a(f)?e():null;super(h,!1,m,b)}},y6=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!qr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=i(h,d)}return r.set(h,c),await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},b6={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},_6=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m=o({...b6,...f}),b=t(d,m),w=a(d)?e():null;super(c,!1,b,w)}},x6=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!qr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=i(h,d)}return r.set(h,c),await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},w6=i=>(e,t,r)=>i(t,e,r),S6=i=>(e,t,r=0,a=0)=>{const o=e[r];if(o===void 0)throw i();return jp(t)?o.connect(t,0,a):o.connect(t,0)},A6=i=>(e,t)=>{const r=i(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=e.createBuffer(1,2,44100);return r.buffer=a,r.loop=!0,r.connect(t),r.start(),()=>{r.stop(),r.disconnect(t)}},N6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},C6=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...N6,...d},w=r(m,b),y=o(m),N=y?t():null;super(f,!1,w,N),this._constantSourceNodeRenderer=N,this._nativeConstantSourceNode=w,this._offset=e(this,y,w.offset,Xr,ys),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeConstantSourceNode.onended=d;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===d?f:m}start(f=0){if(this._nativeConstantSourceNode.start(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=f),this.context.state!=="closed"){wh(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),fl(this)&&Wf(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(f=0){this._nativeConstantSourceNode.stop(f),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=f)}},T6=(i,e,t,r,a)=>()=>{const o=new WeakMap;let h=null,c=null;const f=async(d,m)=>{let b=t(d);const w=qr(b,m);if(!w){const y={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,offset:b.offset.value};b=e(m,y),h!==null&&b.start(h),c!==null&&b.stop(c)}return o.set(m,b),w?await i(m,d.offset,b.offset):await r(m,d.offset,b.offset),await a(d,m,b),b};return{set start(d){h=d},set stop(d){c=d},render(d,m){const b=o.get(m);return b!==void 0?Promise.resolve(b):f(d,m)}}},E6=i=>e=>(i[0]=e,i[0]),k6={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},O6=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m={...k6,...f},b=t(d,m),y=a(d)?e():null;super(c,!1,b,y),this._isBufferNullified=!1,this._nativeConvolverNode=b,m.buffer!==null&&o(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const f=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=f.createBuffer(1,1,f.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},L6=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!qr(c,h)){const d={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=i(h,d)}return r.set(h,c),Nh(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},M6=(i,e)=>(t,r,a)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(t,r,a)}catch(o){throw o.name==="SyntaxError"?i():o}},D6=()=>new DOMException("","DataCloneError"),Vv=i=>{const{port1:e,port2:t}=new MessageChannel;return new Promise(r=>{const a=()=>{t.onmessage=null,e.close(),t.close(),r()};t.onmessage=()=>a();try{e.postMessage(i,[i])}catch{}finally{a()}})},j6=(i,e,t,r,a,o,h,c,f,d,m)=>(b,w)=>{const y=h(b)?b:o(b);if(a.has(w)){const N=t();return Promise.reject(N)}try{a.add(w)}catch{}return e(f,()=>f(y))?y.decodeAudioData(w).then(N=>(Vv(w).catch(()=>{}),e(c,()=>c(N))||m(N),i.add(N),N)):new Promise((N,A)=>{const E=async()=>{try{await Vv(w)}catch{}},T=U=>{A(U),E()};try{y.decodeAudioData(w,U=>{typeof U.copyFromChannel!="function"&&(d(U),ng(U)),i.add(U),E().then(()=>N(U))},U=>{T(U===null?r():U)})}catch(U){T(U)}})},R6=(i,e,t,r,a,o,h,c)=>(f,d)=>{const m=e.get(f);if(m===void 0)throw new Error("Missing the expected cycle count.");const b=o(f.context),w=c(b);if(m===d){if(e.delete(f),!w&&h(f)){const y=r(f),{outputs:N}=t(f);for(const A of N)if(Zf(A)){const E=r(A[0]);i(y,E,A[1],A[2])}else{const E=a(A[0]);y.connect(E,A[1])}}}else e.set(f,m-d)},I6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},B6=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...I6,...d},w=r(m,b),y=o(m),N=y?t(b.maxDelayTime):null;super(f,!1,w,N),this._delayTime=e(this,y,w.delayTime),h(this,b.maxDelayTime)}get delayTime(){return this._delayTime}},q6=(i,e,t,r,a)=>o=>{const h=new WeakMap,c=async(f,d)=>{let m=t(f);const b=qr(m,d);if(!b){const w={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:o};m=e(d,w)}return h.set(d,m),b?await i(d,f.delayTime,m.delayTime):await r(d,f.delayTime,m.delayTime),await a(f,d,m),m};return{render(f,d){const m=h.get(d);return m!==void 0?Promise.resolve(m):c(f,d)}}},z6=i=>(e,t,r,a)=>i(e[a],o=>o[0]===t&&o[1]===r),F6=i=>(e,t)=>{i(e).delete(t)},P6=i=>"delayTime"in i,U6=(i,e,t)=>function r(a,o){const h=Lp(o)?o:t(i,o);if(P6(h))return[];if(a[0]===h)return[a];if(a.includes(h))return[];const{outputs:c}=e(h);return Array.from(c).map(f=>r([...a,h],f[0])).reduce((f,d)=>f.concat(d),[])},ip=(i,e,t)=>{const r=e[t];if(r===void 0)throw i();return r},V6=i=>(e,t=void 0,r=void 0,a=0)=>t===void 0?e.forEach(o=>o.disconnect()):typeof t=="number"?ip(i,e,t).disconnect():jp(t)?r===void 0?e.forEach(o=>o.disconnect(t)):a===void 0?ip(i,e,r).disconnect(t,0):ip(i,e,r).disconnect(t,0,a):r===void 0?e.forEach(o=>o.disconnect(t)):ip(i,e,r).disconnect(t,0),H6={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},G6=(i,e,t,r,a,o,h,c)=>class extends i{constructor(d,m){const b=o(d),w={...H6,...m},y=r(b,w),N=h(b),A=N?t():null;super(d,!1,y,A),this._attack=e(this,N,y.attack),this._knee=e(this,N,y.knee),this._nativeDynamicsCompressorNode=y,this._ratio=e(this,N,y.ratio),this._release=e(this,N,y.release),this._threshold=e(this,N,y.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=m,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Y6=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=qr(d,f);if(!m){const b={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=e(f,b)}return o.set(f,d),m?(await i(f,c.attack,d.attack),await i(f,c.knee,d.knee),await i(f,c.ratio,d.ratio),await i(f,c.release,d.release),await i(f,c.threshold,d.threshold)):(await r(f,c.attack,d.attack),await r(f,c.knee,d.knee),await r(f,c.ratio,d.ratio),await r(f,c.release,d.release),await r(f,c.threshold,d.threshold)),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},W6=()=>new DOMException("","EncodingError"),X6=i=>e=>new Promise((t,r)=>{if(i===null){r(new SyntaxError);return}const a=i.document.head;if(a===null)r(new SyntaxError);else{const o=i.document.createElement("script"),h=new Blob([e],{type:"application/javascript"}),c=URL.createObjectURL(h),f=i.onerror,d=()=>{i.onerror=f,URL.revokeObjectURL(c)};i.onerror=(m,b,w,y,N)=>{if(b===c||b===i.location.href&&w===1&&y===1)return d(),r(N),!1;if(f!==null)return f(m,b,w,y,N)},o.onerror=()=>{d(),r(new SyntaxError)},o.onload=()=>{d(),t()},o.src=c,o.type="module",a.appendChild(o)}}),Z6=i=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(t,r,a){if(r!==null){let o=this._listeners.get(r);o===void 0&&(o=i(this,r),typeof r=="function"&&this._listeners.set(r,o)),this._nativeEventTarget.addEventListener(t,o,a)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,r,a){const o=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(t,o===void 0?null:o,a)}},K6=i=>(e,t,r)=>{Object.defineProperties(i,{currentFrame:{configurable:!0,get(){return Math.round(e*t)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{i!==null&&(delete i.currentFrame,delete i.currentTime)}},Q6=i=>async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw i()},J6={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},$6=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...J6,...f},b=r(d,m),w=o(d),y=w?t():null;super(c,!1,b,y),this._gain=e(this,w,b.gain,Xr,ys)}get gain(){return this._gain}},eA=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=qr(d,f);if(!m){const b={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=e(f,b)}return o.set(f,d),m?await i(f,c.gain,d.gain):await r(f,c.gain,d.gain),await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},tA=(i,e)=>t=>e(i,t),nA=i=>e=>{const t=i(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer},iA=i=>e=>{var t;return(t=i.get(e))!==null&&t!==void 0?t:0},rA=i=>e=>{const t=i(e);if(t.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},sA=i=>e=>i.get(e),gr=()=>new DOMException("","InvalidStateError"),aA=i=>e=>{const t=i.get(e);if(t===void 0)throw gr();return t},oA=(i,e)=>t=>{let r=i.get(t);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),i.set(t,r),r},lA=i=>e=>{const t=i.get(e);if(t===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return t},n1=()=>new DOMException("","InvalidAccessError"),cA=i=>{i.getFrequencyResponse=(e=>(t,r,a)=>{if(t.length!==r.length||r.length!==a.length)throw n1();return e.call(i,t,r,a)})(i.getFrequencyResponse)},uA={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},hA=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=r(c),m=a(d),b={...uA,...f},w=e(d,m?null:c.baseLatency,b),y=m?t(b.feedback,b.feedforward):null;super(c,!1,w,y),cA(w),this._nativeIIRFilterNode=w,o(this,1)}getFrequencyResponse(c,f,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,f,d)}},t_=(i,e,t,r,a,o,h,c,f,d,m)=>{const b=d.length;let w=c;for(let y=0;y<b;y+=1){let N=t[0]*d[y];for(let A=1;A<a;A+=1){const E=w-A&f-1;N+=t[A]*o[E],N-=i[A]*h[E]}for(let A=a;A<r;A+=1)N+=t[A]*o[w-A&f-1];for(let A=a;A<e;A+=1)N-=i[A]*h[w-A&f-1];o[w]=d[y],h[w]=N,w=w+1&f-1,m[y]=N}return w},fA=(i,e,t,r)=>{const a=t instanceof Float64Array?t:new Float64Array(t),o=r instanceof Float64Array?r:new Float64Array(r),h=a.length,c=o.length,f=Math.min(h,c);if(a[0]!==1){for(let N=0;N<h;N+=1)o[N]/=a[0];for(let N=1;N<c;N+=1)a[N]/=a[0]}const d=32,m=new Float32Array(d),b=new Float32Array(d),w=e.createBuffer(i.numberOfChannels,i.length,i.sampleRate),y=i.numberOfChannels;for(let N=0;N<y;N+=1){const A=i.getChannelData(N),E=w.getChannelData(N);m.fill(0),b.fill(0),t_(a,h,o,c,f,m,b,0,d,A,E)}return w},dA=(i,e,t,r,a)=>(o,h)=>{const c=new WeakMap;let f=null;const d=async(m,b)=>{let w=null,y=e(m);const N=qr(y,b);if(b.createIIRFilter===void 0?w=i(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):N||(y=b.createIIRFilter(h,o)),c.set(b,w===null?y:w),w!==null){if(f===null){if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");const E=new t(m.context.destination.channelCount,m.context.length,b.sampleRate);f=(async()=>{await r(m,E,E.destination);const T=await a(E);return fA(T,b,o,h)})()}const A=await f;return w.buffer=A,w.start(0),w}return await r(m,b,y),y};return{render(m,b){const w=c.get(b);return w!==void 0?Promise.resolve(w):d(m,b)}}},pA=(i,e,t,r,a,o)=>h=>(c,f)=>{const d=i.get(c);if(d===void 0){if(!h&&o(c)){const m=r(c),{outputs:b}=t(c);for(const w of b)if(Zf(w)){const y=r(w[0]);e(m,y,w[1],w[2])}else{const y=a(w[0]);m.disconnect(y,w[1])}}i.set(c,f)}else i.set(c,d+f)},mA=(i,e)=>t=>{const r=i.get(t);return e(r)||e(t)},gA=(i,e)=>t=>i.has(t)||e(t),vA=(i,e)=>t=>i.has(t)||e(t),yA=(i,e)=>t=>{const r=i.get(t);return e(r)||e(t)},bA=i=>e=>i!==null&&e instanceof i,_A=i=>e=>i!==null&&typeof i.AudioNode=="function"&&e instanceof i.AudioNode,xA=i=>e=>i!==null&&typeof i.AudioParam=="function"&&e instanceof i.AudioParam,wA=(i,e)=>t=>i(t)||e(t),SA=i=>e=>i!==null&&e instanceof i,AA=i=>i!==null&&i.isSecureContext,NA=(i,e,t,r)=>class extends i{constructor(o,h){const c=t(o),f=e(c,h);if(r(c))throw TypeError();super(o,!0,f,null),this._nativeMediaElementAudioSourceNode=f}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},CA={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},TA=(i,e,t,r)=>class extends i{constructor(o,h){const c=t(o);if(r(c))throw new TypeError;const f={...CA,...h},d=e(c,f);super(o,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},EA=(i,e,t,r)=>class extends i{constructor(o,h){const c=t(o),f=e(c,h);if(r(c))throw new TypeError;super(o,!0,f,null),this._nativeMediaStreamAudioSourceNode=f}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},kA=(i,e,t)=>class extends i{constructor(a,o){const h=t(a),c=e(h,o);super(a,!0,c,null)}},OA=(i,e,t,r,a,o)=>class extends t{constructor(c,f){super(c),this._nativeContext=c,e1.set(this,c),r(c)&&a.set(c,new Set),this._destination=new i(this,f),this._listener=e(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const f=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=f;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===f?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},If=i=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const t=i.decodeAudioData(e.buffer,()=>{});return t===void 0?!1:(t.catch(()=>{}),!0)}catch{}return!1},LA=(i,e)=>(t,r,a)=>{const o=new Set;return t.connect=(h=>(c,f=0,d=0)=>{const m=o.size===0;if(e(c))return h.call(t,c,f,d),i(o,[c,f,d],b=>b[0]===c&&b[1]===f&&b[2]===d,!0),m&&r(),c;h.call(t,c,f),i(o,[c,f],b=>b[0]===c&&b[1]===f,!0),m&&r()})(t.connect),t.disconnect=(h=>(c,f,d)=>{const m=o.size>0;if(c===void 0)h.apply(t),o.clear();else if(typeof c=="number"){h.call(t,c);for(const w of o)w[1]===c&&o.delete(w)}else{e(c)?h.call(t,c,f,d):h.call(t,c,f);for(const w of o)w[0]===c&&(f===void 0||w[1]===f)&&(d===void 0||w[2]===d)&&o.delete(w)}const b=o.size===0;m&&b&&a()})(t.disconnect),t},pi=(i,e,t)=>{const r=e[t];r!==void 0&&r!==i[t]&&(i[t]=r)},ar=(i,e)=>{pi(i,e,"channelCount"),pi(i,e,"channelCountMode"),pi(i,e,"channelInterpretation")},Hv=i=>typeof i.getFloatTimeDomainData=="function",MA=i=>{i.getFloatTimeDomainData=e=>{const t=new Uint8Array(e.length);i.getByteTimeDomainData(t);const r=Math.max(t.length,i.fftSize);for(let a=0;a<r;a+=1)e[a]=(t[a]-128)*.0078125;return e}},DA=(i,e)=>(t,r)=>{const a=t.createAnalyser();if(ar(a,r),!(r.maxDecibels>r.minDecibels))throw e();return pi(a,r,"fftSize"),pi(a,r,"maxDecibels"),pi(a,r,"minDecibels"),pi(a,r,"smoothingTimeConstant"),i(Hv,()=>Hv(a))||MA(a),a},jA=i=>i===null?null:i.hasOwnProperty("AudioBuffer")?i.AudioBuffer:null,Li=(i,e,t)=>{const r=e[t];r!==void 0&&r!==i[t].value&&(i[t].value=r)},RA=i=>{i.start=(e=>{let t=!1;return(r=0,a=0,o)=>{if(t)throw gr();e.call(i,r,a,o),t=!0}})(i.start)},sg=i=>{i.start=(e=>(t=0,r=0,a)=>{if(typeof a=="number"&&a<0||r<0||t<0)throw new RangeError("The parameters can't be negative.");e.call(i,t,r,a)})(i.start)},ag=i=>{i.stop=(e=>(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");e.call(i,t)})(i.stop)},IA=(i,e,t,r,a,o,h,c,f,d,m)=>(b,w)=>{const y=b.createBufferSource();return ar(y,w),Li(y,w,"playbackRate"),pi(y,w,"buffer"),pi(y,w,"loop"),pi(y,w,"loopEnd"),pi(y,w,"loopStart"),e(t,()=>t(b))||RA(y),e(r,()=>r(b))||f(y),e(a,()=>a(b))||d(y,b),e(o,()=>o(b))||sg(y),e(h,()=>h(b))||m(y,b),e(c,()=>c(b))||ag(y),i(b,y),y},BA=i=>i===null?null:i.hasOwnProperty("AudioContext")?i.AudioContext:i.hasOwnProperty("webkitAudioContext")?i.webkitAudioContext:null,qA=(i,e)=>(t,r,a)=>{const o=t.destination;if(o.channelCount!==r)try{o.channelCount=r}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:r});const h=i(t,{channelCount:r,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return e(h,"channelCount",c=>()=>c.call(h),c=>f=>{c.call(h,f);try{o.channelCount=f}catch(d){if(f>o.maxChannelCount)throw d}}),e(h,"channelCountMode",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelCountMode=f}),e(h,"channelInterpretation",c=>()=>c.call(h),c=>f=>{c.call(h,f),o.channelInterpretation=f}),Object.defineProperty(h,"maxChannelCount",{get:()=>o.maxChannelCount}),h.connect(o),h},zA=i=>i===null?null:i.hasOwnProperty("AudioWorkletNode")?i.AudioWorkletNode:null,FA=i=>{const{port1:e}=new MessageChannel;try{e.postMessage(i)}finally{e.close()}},PA=(i,e,t,r,a)=>(o,h,c,f,d,m)=>{if(c!==null)try{const b=new c(o,f,m),w=new Map;let y=null;if(Object.defineProperties(b,{channelCount:{get:()=>m.channelCount,set:()=>{throw i()}},channelCountMode:{get:()=>"explicit",set:()=>{throw i()}},onprocessorerror:{get:()=>y,set:N=>{typeof y=="function"&&b.removeEventListener("processorerror",y),y=typeof N=="function"?N:null,typeof y=="function"&&b.addEventListener("processorerror",y)}}}),b.addEventListener=(N=>(...A)=>{if(A[0]==="processorerror"){const E=typeof A[1]=="function"?A[1]:typeof A[1]=="object"&&A[1]!==null&&typeof A[1].handleEvent=="function"?A[1].handleEvent:null;if(E!==null){const T=w.get(A[1]);T!==void 0?A[1]=T:(A[1]=U=>{U.type==="error"?(Object.defineProperties(U,{type:{value:"processorerror"}}),E(U)):E(new ErrorEvent(A[0],{...U}))},w.set(E,A[1]))}}return N.call(b,"error",A[1],A[2]),N.call(b,...A)})(b.addEventListener),b.removeEventListener=(N=>(...A)=>{if(A[0]==="processorerror"){const E=w.get(A[1]);E!==void 0&&(w.delete(A[1]),A[1]=E)}return N.call(b,"error",A[1],A[2]),N.call(b,A[0],A[1],A[2])})(b.removeEventListener),m.numberOfOutputs!==0){const N=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return b.connect(N).connect(o.destination),a(b,()=>N.disconnect(),()=>N.connect(o.destination))}return b}catch(b){throw b.code===11?r():b}if(d===void 0)throw r();return FA(m),e(o,h,d,m)},n_=(i,e)=>i===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(i*e))))),UA=i=>new Promise((e,t)=>{const{port1:r,port2:a}=new MessageChannel;r.onmessage=({data:o})=>{r.close(),a.close(),e(o)},r.onmessageerror=({data:o})=>{r.close(),a.close(),t(o)},a.postMessage(i)}),VA=async(i,e)=>{const t=await UA(e);return new i(t)},HA=(i,e,t,r)=>{let a=O0.get(i);a===void 0&&(a=new WeakMap,O0.set(i,a));const o=VA(t,r);return a.set(e,o),o},GA=(i,e,t,r,a,o,h,c,f,d,m,b,w)=>(y,N,A,E)=>{if(E.numberOfInputs===0&&E.numberOfOutputs===0)throw f();const T=Array.isArray(E.outputChannelCount)?E.outputChannelCount:Array.from(E.outputChannelCount);if(T.some(H=>H<1))throw f();if(T.length!==E.numberOfOutputs)throw e();if(E.channelCountMode!=="explicit")throw f();const U=E.channelCount*E.numberOfInputs,P=T.reduce((H,Me)=>H+Me,0),F=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length;if(U+F>6||P>6)throw f();const q=new MessageChannel,te=[],G=[];for(let H=0;H<E.numberOfInputs;H+=1)te.push(h(y,{channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1})),G.push(a(y,{channelCount:E.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:E.channelCount}));const D=[];if(A.parameterDescriptors!==void 0)for(const{defaultValue:H,maxValue:Me,minValue:st,name:$e}of A.parameterDescriptors){const ge=o(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:E.parameterData[$e]!==void 0?E.parameterData[$e]:H===void 0?0:H});Object.defineProperties(ge.offset,{defaultValue:{get:()=>H===void 0?0:H},maxValue:{get:()=>Me===void 0?Xr:Me},minValue:{get:()=>st===void 0?ys:st}}),D.push(ge)}const I=r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,U+F)}),Z=n_(N,y.sampleRate),L=c(y,Z,U+F,Math.max(1,P)),j=a(y,{channelCount:Math.max(1,P),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,P)}),$=[];for(let H=0;H<E.numberOfOutputs;H+=1)$.push(r(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[H]}));for(let H=0;H<E.numberOfInputs;H+=1){te[H].connect(G[H]);for(let Me=0;Me<E.channelCount;Me+=1)G[H].connect(I,Me,H*E.channelCount+Me)}const ee=new $b(A.parameterDescriptors===void 0?[]:A.parameterDescriptors.map(({name:H},Me)=>{const st=D[Me];return st.connect(I,0,U+Me),st.start(0),[H,st.offset]}));I.connect(L);let ue=E.channelInterpretation,Q=null;const re=E.numberOfOutputs===0?[L]:$,ce={get bufferSize(){return Z},get channelCount(){return E.channelCount},set channelCount(H){throw t()},get channelCountMode(){return E.channelCountMode},set channelCountMode(H){throw t()},get channelInterpretation(){return ue},set channelInterpretation(H){for(const Me of te)Me.channelInterpretation=H;ue=H},get context(){return L.context},get inputs(){return te},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get onprocessorerror(){return Q},set onprocessorerror(H){typeof Q=="function"&&ce.removeEventListener("processorerror",Q),Q=typeof H=="function"?H:null,typeof Q=="function"&&ce.addEventListener("processorerror",Q)},get parameters(){return ee},get port(){return q.port2},addEventListener(...H){return L.addEventListener(H[0],H[1],H[2])},connect:i.bind(null,re),disconnect:d.bind(null,re),dispatchEvent(...H){return L.dispatchEvent(H[0])},removeEventListener(...H){return L.removeEventListener(H[0],H[1],H[2])}},de=new Map;q.port1.addEventListener=(H=>(...Me)=>{if(Me[0]==="message"){const st=typeof Me[1]=="function"?Me[1]:typeof Me[1]=="object"&&Me[1]!==null&&typeof Me[1].handleEvent=="function"?Me[1].handleEvent:null;if(st!==null){const $e=de.get(Me[1]);$e!==void 0?Me[1]=$e:(Me[1]=ge=>{m(y.currentTime,y.sampleRate,()=>st(ge))},de.set(st,Me[1]))}}return H.call(q.port1,Me[0],Me[1],Me[2])})(q.port1.addEventListener),q.port1.removeEventListener=(H=>(...Me)=>{if(Me[0]==="message"){const st=de.get(Me[1]);st!==void 0&&(de.delete(Me[1]),Me[1]=st)}return H.call(q.port1,Me[0],Me[1],Me[2])})(q.port1.removeEventListener);let Ae=null;Object.defineProperty(q.port1,"onmessage",{get:()=>Ae,set:H=>{typeof Ae=="function"&&q.port1.removeEventListener("message",Ae),Ae=typeof H=="function"?H:null,typeof Ae=="function"&&(q.port1.addEventListener("message",Ae),q.port1.start())}}),A.prototype.port=q.port1;let Y=null;HA(y,ce,A,E).then(H=>Y=H);const z=Ip(E.numberOfInputs,E.channelCount),X=Ip(E.numberOfOutputs,T),ie=A.parameterDescriptors===void 0?[]:A.parameterDescriptors.reduce((H,{name:Me})=>({...H,[Me]:new Float32Array(128)}),{});let ae=!0;const fe=()=>{E.numberOfOutputs>0&&L.disconnect(j);for(let H=0,Me=0;H<E.numberOfOutputs;H+=1){const st=$[H];for(let $e=0;$e<T[H];$e+=1)j.disconnect(st,Me+$e,$e);Me+=T[H]}},pe=new Map;L.onaudioprocess=({inputBuffer:H,outputBuffer:Me})=>{if(Y!==null){const st=b(ce);for(let $e=0;$e<Z;$e+=128){for(let ge=0;ge<E.numberOfInputs;ge+=1)for(let qe=0;qe<E.channelCount;qe+=1)Rp(H,z[ge],qe,qe,$e);A.parameterDescriptors!==void 0&&A.parameterDescriptors.forEach(({name:ge},qe)=>{Rp(H,ie,ge,U+qe,$e)});for(let ge=0;ge<E.numberOfInputs;ge+=1)for(let qe=0;qe<T[ge];qe+=1)X[ge][qe].byteLength===0&&(X[ge][qe]=new Float32Array(128));try{const ge=z.map((Ye,et)=>{if(st[et].size>0)return pe.set(et,Z/128),Ye;const Ie=pe.get(et);return Ie===void 0?[]:(Ye.every(ze=>ze.every(Ge=>Ge===0))&&(Ie===1?pe.delete(et):pe.set(et,Ie-1)),Ye)});ae=m(y.currentTime+$e/y.sampleRate,y.sampleRate,()=>Y.process(ge,X,ie));for(let Ye=0,et=0;Ye<E.numberOfOutputs;Ye+=1){for(let nt=0;nt<T[Ye];nt+=1)e_(Me,X[Ye],nt,et+nt,$e);et+=T[Ye]}}catch(ge){ae=!1,ce.dispatchEvent(new ErrorEvent("processorerror",{colno:ge.colno,filename:ge.filename,lineno:ge.lineno,message:ge.message}))}if(!ae){for(let ge=0;ge<E.numberOfInputs;ge+=1){te[ge].disconnect(G[ge]);for(let qe=0;qe<E.channelCount;qe+=1)G[$e].disconnect(I,qe,ge*E.channelCount+qe)}if(A.parameterDescriptors!==void 0){const ge=A.parameterDescriptors.length;for(let qe=0;qe<ge;qe+=1){const Ye=D[qe];Ye.disconnect(I,0,U+qe),Ye.stop()}}I.disconnect(L),L.onaudioprocess=null,xe?fe():Ze();break}}}};let xe=!1;const Ce=h(y,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),He=()=>L.connect(Ce).connect(y.destination),Ze=()=>{L.disconnect(Ce),Ce.disconnect()},Je=()=>{if(ae){Ze(),E.numberOfOutputs>0&&L.connect(j);for(let H=0,Me=0;H<E.numberOfOutputs;H+=1){const st=$[H];for(let $e=0;$e<T[H];$e+=1)j.connect(st,Me+$e,$e);Me+=T[H]}}xe=!0},it=()=>{ae&&(He(),fe()),xe=!1};return He(),w(ce,Je,it)},i_=(i,e)=>{const t=i.createBiquadFilter();return ar(t,e),Li(t,e,"Q"),Li(t,e,"detune"),Li(t,e,"frequency"),Li(t,e,"gain"),pi(t,e,"type"),t},YA=(i,e)=>(t,r)=>{const a=t.createChannelMerger(r.numberOfInputs);return i!==null&&i.name==="webkitAudioContext"&&e(t,a),ar(a,r),a},WA=i=>{const e=i.numberOfOutputs;Object.defineProperty(i,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw gr()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:t=>{if(t!=="explicit")throw gr()}}),Object.defineProperty(i,"channelInterpretation",{get:()=>"discrete",set:t=>{if(t!=="discrete")throw gr()}})},Kf=(i,e)=>{const t=i.createChannelSplitter(e.numberOfOutputs);return ar(t,e),WA(t),t},XA=(i,e,t,r,a)=>(o,h)=>{if(o.createConstantSource===void 0)return t(o,h);const c=o.createConstantSource();return ar(c,h),Li(c,h,"offset"),e(r,()=>r(o))||sg(c),e(a,()=>a(o))||ag(c),i(o,c),c},Ch=(i,e)=>(i.connect=e.connect.bind(e),i.disconnect=e.disconnect.bind(e),i),ZA=(i,e,t,r)=>(a,{offset:o,...h})=>{const c=a.createBuffer(1,2,44100),f=e(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t(a,{...h,gain:o}),m=c.getChannelData(0);m[0]=1,m[1]=1,f.buffer=c,f.loop=!0;const b={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(N){d.channelCount=N},get channelCountMode(){return d.channelCountMode},set channelCountMode(N){d.channelCountMode=N},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(N){d.channelInterpretation=N},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return f.onended},set onended(N){f.onended=N},addEventListener(...N){return f.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return f.dispatchEvent(N[0])},removeEventListener(...N){return f.removeEventListener(N[0],N[1],N[2])},start(N=0){f.start.call(f,N)},stop(N=0){f.stop.call(f,N)}},w=()=>f.connect(d),y=()=>f.disconnect(d);return i(a,f),r(Ch(b,d),w,y)},KA=(i,e)=>(t,r)=>{const a=t.createConvolver();if(ar(a,r),r.disableNormalization===a.normalize&&(a.normalize=!r.disableNormalization),pi(a,r,"buffer"),r.channelCount>2||(e(a,"channelCount",o=>()=>o.call(a),o=>h=>{if(h>2)throw i();return o.call(a,h)}),r.channelCountMode==="max"))throw i();return e(a,"channelCountMode",o=>()=>o.call(a),o=>h=>{if(h==="max")throw i();return o.call(a,h)}),a},r_=(i,e)=>{const t=i.createDelay(e.maxDelayTime);return ar(t,e),Li(t,e,"delayTime"),t},QA=i=>(e,t)=>{const r=e.createDynamicsCompressor();if(ar(r,t),t.channelCount>2||t.channelCountMode==="max")throw i();return Li(r,t,"attack"),Li(r,t,"knee"),Li(r,t,"ratio"),Li(r,t,"release"),Li(r,t,"threshold"),r},_s=(i,e)=>{const t=i.createGain();return ar(t,e),Li(t,e,"gain"),t},JA=i=>(e,t,r)=>{if(e.createIIRFilter===void 0)return i(e,t,r);const a=e.createIIRFilter(r.feedforward,r.feedback);return ar(a,r),a};function $A(i,e){const t=e[0]*e[0]+e[1]*e[1];return[(i[0]*e[0]+i[1]*e[1])/t,(i[1]*e[0]-i[0]*e[1])/t]}function eN(i,e){return[i[0]*e[0]-i[1]*e[1],i[0]*e[1]+i[1]*e[0]]}function Gv(i,e){let t=[0,0];for(let r=i.length-1;r>=0;r-=1)t=eN(t,e),t[0]+=i[r];return t}const tN=(i,e,t,r)=>(a,o,{channelCount:h,channelCountMode:c,channelInterpretation:f,feedback:d,feedforward:m})=>{const b=n_(o,a.sampleRate),w=d instanceof Float64Array?d:new Float64Array(d),y=m instanceof Float64Array?m:new Float64Array(m),N=w.length,A=y.length,E=Math.min(N,A);if(N===0||N>20)throw r();if(w[0]===0)throw e();if(A===0||A>20)throw r();if(y[0]===0)throw e();if(w[0]!==1){for(let D=0;D<A;D+=1)y[D]/=w[0];for(let D=1;D<N;D+=1)w[D]/=w[0]}const T=t(a,b,h,h);T.channelCount=h,T.channelCountMode=c,T.channelInterpretation=f;const U=32,P=[],F=[],q=[];for(let D=0;D<h;D+=1){P.push(0);const I=new Float32Array(U),Z=new Float32Array(U);I.fill(0),Z.fill(0),F.push(I),q.push(Z)}T.onaudioprocess=D=>{const I=D.inputBuffer,Z=D.outputBuffer,L=I.numberOfChannels;for(let j=0;j<L;j+=1){const $=I.getChannelData(j),ee=Z.getChannelData(j);P[j]=t_(w,N,y,A,E,F[j],q[j],P[j],U,$,ee)}};const te=a.sampleRate/2;return Ch({get bufferSize(){return b},get channelCount(){return T.channelCount},set channelCount(D){T.channelCount=D},get channelCountMode(){return T.channelCountMode},set channelCountMode(D){T.channelCountMode=D},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(D){T.channelInterpretation=D},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},addEventListener(...D){return T.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return T.dispatchEvent(D[0])},getFrequencyResponse(D,I,Z){if(D.length!==I.length||I.length!==Z.length)throw i();const L=D.length;for(let j=0;j<L;j+=1){const $=-Math.PI*(D[j]/te),ee=[Math.cos($),Math.sin($)],ue=Gv(y,ee),Q=Gv(w,ee),re=$A(ue,Q);I[j]=Math.sqrt(re[0]*re[0]+re[1]*re[1]),Z[j]=Math.atan2(re[1],re[0])}},removeEventListener(...D){return T.removeEventListener(D[0],D[1],D[2])}},T)},nN=(i,e)=>i.createMediaElementSource(e.mediaElement),iN=(i,e)=>{const t=i.createMediaStreamDestination();return ar(t,e),t.numberOfOutputs===1&&Object.defineProperty(t,"numberOfOutputs",{get:()=>0}),t},rN=(i,{mediaStream:e})=>{const t=e.getAudioTracks();t.sort((o,h)=>o.id<h.id?-1:o.id>h.id?1:0);const r=t.slice(0,1),a=i.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(a,"mediaStream",{value:e}),a},sN=(i,e)=>(t,{mediaStreamTrack:r})=>{if(typeof t.createMediaStreamTrackSource=="function")return t.createMediaStreamTrackSource(r);const a=new MediaStream([r]),o=t.createMediaStreamSource(a);if(r.kind!=="audio")throw i();if(e(t))throw new TypeError;return o},aN=i=>i===null?null:i.hasOwnProperty("OfflineAudioContext")?i.OfflineAudioContext:i.hasOwnProperty("webkitOfflineAudioContext")?i.webkitOfflineAudioContext:null,oN=(i,e,t,r,a,o)=>(h,c)=>{const f=h.createOscillator();return ar(f,c),Li(f,c,"detune"),Li(f,c,"frequency"),c.periodicWave!==void 0?f.setPeriodicWave(c.periodicWave):pi(f,c,"type"),e(t,()=>t(h))||sg(f),e(r,()=>r(h))||o(f,h),e(a,()=>a(h))||ag(f),i(h,f),f},lN=i=>(e,t)=>{const r=e.createPanner();return r.orientationX===void 0?i(e,t):(ar(r,t),Li(r,t,"orientationX"),Li(r,t,"orientationY"),Li(r,t,"orientationZ"),Li(r,t,"positionX"),Li(r,t,"positionY"),Li(r,t,"positionZ"),pi(r,t,"coneInnerAngle"),pi(r,t,"coneOuterAngle"),pi(r,t,"coneOuterGain"),pi(r,t,"distanceModel"),pi(r,t,"maxDistance"),pi(r,t,"panningModel"),pi(r,t,"refDistance"),pi(r,t,"rolloffFactor"),r)},cN=(i,e,t,r,a,o,h,c,f,d)=>(m,{coneInnerAngle:b,coneOuterAngle:w,coneOuterGain:y,distanceModel:N,maxDistance:A,orientationX:E,orientationY:T,orientationZ:U,panningModel:P,positionX:F,positionY:q,positionZ:te,refDistance:G,rolloffFactor:D,...I})=>{const Z=m.createPanner();if(I.channelCount>2||I.channelCountMode==="max")throw h();ar(Z,I);const L={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},j=t(m,{...L,channelInterpretation:"speakers",numberOfInputs:6}),$=r(m,{...I,gain:1}),ee=r(m,{...L,gain:1}),ue=r(m,{...L,gain:0}),Q=r(m,{...L,gain:0}),re=r(m,{...L,gain:0}),ce=r(m,{...L,gain:0}),de=r(m,{...L,gain:0}),Ae=a(m,256,6,1),Y=o(m,{...L,curve:new Float32Array([1,1]),oversample:"none"});let C=[E,T,U],z=[F,q,te];const X=new Float32Array(1);Ae.onaudioprocess=({inputBuffer:pe})=>{const xe=[f(pe,X,0),f(pe,X,1),f(pe,X,2)];xe.some((He,Ze)=>He!==C[Ze])&&(Z.setOrientation(...xe),C=xe);const Ce=[f(pe,X,3),f(pe,X,4),f(pe,X,5)];Ce.some((He,Ze)=>He!==z[Ze])&&(Z.setPosition(...Ce),z=Ce)},Object.defineProperty(ue.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ce.gain,"defaultValue",{get:()=>0}),Object.defineProperty(de.gain,"defaultValue",{get:()=>0});const ie={get bufferSize(){},get channelCount(){return Z.channelCount},set channelCount(pe){if(pe>2)throw h();$.channelCount=pe,Z.channelCount=pe},get channelCountMode(){return Z.channelCountMode},set channelCountMode(pe){if(pe==="max")throw h();$.channelCountMode=pe,Z.channelCountMode=pe},get channelInterpretation(){return Z.channelInterpretation},set channelInterpretation(pe){$.channelInterpretation=pe,Z.channelInterpretation=pe},get coneInnerAngle(){return Z.coneInnerAngle},set coneInnerAngle(pe){Z.coneInnerAngle=pe},get coneOuterAngle(){return Z.coneOuterAngle},set coneOuterAngle(pe){Z.coneOuterAngle=pe},get coneOuterGain(){return Z.coneOuterGain},set coneOuterGain(pe){if(pe<0||pe>1)throw e();Z.coneOuterGain=pe},get context(){return Z.context},get distanceModel(){return Z.distanceModel},set distanceModel(pe){Z.distanceModel=pe},get inputs(){return[$]},get maxDistance(){return Z.maxDistance},set maxDistance(pe){if(pe<0)throw new RangeError;Z.maxDistance=pe},get numberOfInputs(){return Z.numberOfInputs},get numberOfOutputs(){return Z.numberOfOutputs},get orientationX(){return ee.gain},get orientationY(){return ue.gain},get orientationZ(){return Q.gain},get panningModel(){return Z.panningModel},set panningModel(pe){Z.panningModel=pe},get positionX(){return re.gain},get positionY(){return ce.gain},get positionZ(){return de.gain},get refDistance(){return Z.refDistance},set refDistance(pe){if(pe<0)throw new RangeError;Z.refDistance=pe},get rolloffFactor(){return Z.rolloffFactor},set rolloffFactor(pe){if(pe<0)throw new RangeError;Z.rolloffFactor=pe},addEventListener(...pe){return $.addEventListener(pe[0],pe[1],pe[2])},dispatchEvent(...pe){return $.dispatchEvent(pe[0])},removeEventListener(...pe){return $.removeEventListener(pe[0],pe[1],pe[2])}};b!==ie.coneInnerAngle&&(ie.coneInnerAngle=b),w!==ie.coneOuterAngle&&(ie.coneOuterAngle=w),y!==ie.coneOuterGain&&(ie.coneOuterGain=y),N!==ie.distanceModel&&(ie.distanceModel=N),A!==ie.maxDistance&&(ie.maxDistance=A),E!==ie.orientationX.value&&(ie.orientationX.value=E),T!==ie.orientationY.value&&(ie.orientationY.value=T),U!==ie.orientationZ.value&&(ie.orientationZ.value=U),P!==ie.panningModel&&(ie.panningModel=P),F!==ie.positionX.value&&(ie.positionX.value=F),q!==ie.positionY.value&&(ie.positionY.value=q),te!==ie.positionZ.value&&(ie.positionZ.value=te),G!==ie.refDistance&&(ie.refDistance=G),D!==ie.rolloffFactor&&(ie.rolloffFactor=D),(C[0]!==1||C[1]!==0||C[2]!==0)&&Z.setOrientation(...C),(z[0]!==0||z[1]!==0||z[2]!==0)&&Z.setPosition(...z);const ae=()=>{$.connect(Z),i($,Y,0,0),Y.connect(ee).connect(j,0,0),Y.connect(ue).connect(j,0,1),Y.connect(Q).connect(j,0,2),Y.connect(re).connect(j,0,3),Y.connect(ce).connect(j,0,4),Y.connect(de).connect(j,0,5),j.connect(Ae).connect(m.destination)},fe=()=>{$.disconnect(Z),c($,Y,0,0),Y.disconnect(ee),ee.disconnect(j),Y.disconnect(ue),ue.disconnect(j),Y.disconnect(Q),Q.disconnect(j),Y.disconnect(re),re.disconnect(j),Y.disconnect(ce),ce.disconnect(j),Y.disconnect(de),de.disconnect(j),j.disconnect(Ae),Ae.disconnect(m.destination)};return d(Ch(ie,Z),ae,fe)},uN=i=>(e,{disableNormalization:t,imag:r,real:a})=>{const o=r instanceof Float32Array?r:new Float32Array(r),h=a instanceof Float32Array?a:new Float32Array(a),c=e.createPeriodicWave(h,o,{disableNormalization:t});if(Array.from(r).length<2)throw i();return c},Qf=(i,e,t,r)=>i.createScriptProcessor(e,t,r),hN=(i,e)=>(t,r)=>{const a=r.channelCountMode;if(a==="clamped-max")throw e();if(t.createStereoPanner===void 0)return i(t,r);const o=t.createStereoPanner();return ar(o,r),Li(o,r,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:h=>{if(h!==a)throw e()}}),o},fN=(i,e,t,r,a,o)=>{const c=new Float32Array([1,1]),f=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...d,oversample:"none"},b=(N,A,E,T)=>{const U=new Float32Array(16385),P=new Float32Array(16385);for(let I=0;I<16385;I+=1){const Z=I/16384*f;U[I]=Math.cos(Z),P[I]=Math.sin(Z)}const F=t(N,{...d,gain:0}),q=r(N,{...m,curve:U}),te=r(N,{...m,curve:c}),G=t(N,{...d,gain:0}),D=r(N,{...m,curve:P});return{connectGraph(){A.connect(F),A.connect(te.inputs===void 0?te:te.inputs[0]),A.connect(G),te.connect(E),E.connect(q.inputs===void 0?q:q.inputs[0]),E.connect(D.inputs===void 0?D:D.inputs[0]),q.connect(F.gain),D.connect(G.gain),F.connect(T,0,0),G.connect(T,0,1)},disconnectGraph(){A.disconnect(F),A.disconnect(te.inputs===void 0?te:te.inputs[0]),A.disconnect(G),te.disconnect(E),E.disconnect(q.inputs===void 0?q:q.inputs[0]),E.disconnect(D.inputs===void 0?D:D.inputs[0]),q.disconnect(F.gain),D.disconnect(G.gain),F.disconnect(T,0,0),G.disconnect(T,0,1)}}},w=(N,A,E,T)=>{const U=new Float32Array(16385),P=new Float32Array(16385),F=new Float32Array(16385),q=new Float32Array(16385),te=Math.floor(16385/2);for(let re=0;re<16385;re+=1)if(re>te){const ce=(re-te)/(16384-te)*f;U[re]=Math.cos(ce),P[re]=Math.sin(ce),F[re]=0,q[re]=1}else{const ce=re/(16384-te)*f;U[re]=1,P[re]=0,F[re]=Math.cos(ce),q[re]=Math.sin(ce)}const G=e(N,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),D=t(N,{...d,gain:0}),I=r(N,{...m,curve:U}),Z=t(N,{...d,gain:0}),L=r(N,{...m,curve:P}),j=r(N,{...m,curve:c}),$=t(N,{...d,gain:0}),ee=r(N,{...m,curve:F}),ue=t(N,{...d,gain:0}),Q=r(N,{...m,curve:q});return{connectGraph(){A.connect(G),A.connect(j.inputs===void 0?j:j.inputs[0]),G.connect(D,0),G.connect(Z,0),G.connect($,1),G.connect(ue,1),j.connect(E),E.connect(I.inputs===void 0?I:I.inputs[0]),E.connect(L.inputs===void 0?L:L.inputs[0]),E.connect(ee.inputs===void 0?ee:ee.inputs[0]),E.connect(Q.inputs===void 0?Q:Q.inputs[0]),I.connect(D.gain),L.connect(Z.gain),ee.connect($.gain),Q.connect(ue.gain),D.connect(T,0,0),$.connect(T,0,0),Z.connect(T,0,1),ue.connect(T,0,1)},disconnectGraph(){A.disconnect(G),A.disconnect(j.inputs===void 0?j:j.inputs[0]),G.disconnect(D,0),G.disconnect(Z,0),G.disconnect($,1),G.disconnect(ue,1),j.disconnect(E),E.disconnect(I.inputs===void 0?I:I.inputs[0]),E.disconnect(L.inputs===void 0?L:L.inputs[0]),E.disconnect(ee.inputs===void 0?ee:ee.inputs[0]),E.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),I.disconnect(D.gain),L.disconnect(Z.gain),ee.disconnect($.gain),Q.disconnect(ue.gain),D.disconnect(T,0,0),$.disconnect(T,0,0),Z.disconnect(T,0,1),ue.disconnect(T,0,1)}}},y=(N,A,E,T,U)=>{if(A===1)return b(N,E,T,U);if(A===2)return w(N,E,T,U);throw a()};return(N,{channelCount:A,channelCountMode:E,pan:T,...U})=>{if(E==="max")throw a();const P=i(N,{...U,channelCount:1,channelCountMode:E,numberOfInputs:2}),F=t(N,{...U,channelCount:A,channelCountMode:E,gain:1}),q=t(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:T});let{connectGraph:te,disconnectGraph:G}=y(N,A,F,q,P);Object.defineProperty(q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"maxValue",{get:()=>1}),Object.defineProperty(q.gain,"minValue",{get:()=>-1});const D={get bufferSize(){},get channelCount(){return F.channelCount},set channelCount(j){F.channelCount!==j&&(I&&G(),{connectGraph:te,disconnectGraph:G}=y(N,j,F,q,P),I&&te()),F.channelCount=j},get channelCountMode(){return F.channelCountMode},set channelCountMode(j){if(j==="clamped-max"||j==="max")throw a();F.channelCountMode=j},get channelInterpretation(){return F.channelInterpretation},set channelInterpretation(j){F.channelInterpretation=j},get context(){return F.context},get inputs(){return[F]},get numberOfInputs(){return F.numberOfInputs},get numberOfOutputs(){return F.numberOfOutputs},get pan(){return q.gain},addEventListener(...j){return F.addEventListener(j[0],j[1],j[2])},dispatchEvent(...j){return F.dispatchEvent(j[0])},removeEventListener(...j){return F.removeEventListener(j[0],j[1],j[2])}};let I=!1;const Z=()=>{te(),I=!0},L=()=>{G(),I=!1};return o(Ch(D,P),Z,L)}},dN=(i,e,t,r,a,o,h)=>(c,f)=>{const d=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return t(c,f);ar(d,f);const m=f.curve===null||f.curve instanceof Float32Array?f.curve:new Float32Array(f.curve);if(m!==null&&m.length<2)throw e();pi(d,{curve:m},"curve"),pi(d,f,"oversample");let b=null,w=!1;return h(d,"curve",A=>()=>A.call(d),A=>E=>(A.call(d,E),w&&(r(E)&&b===null?b=i(c,d):!r(E)&&b!==null&&(b(),b=null)),E)),a(d,()=>{w=!0,r(d.curve)&&(b=i(c,d))},()=>{w=!1,b!==null&&(b(),b=null)})},pN=(i,e,t,r,a)=>(o,{curve:h,oversample:c,...f})=>{const d=o.createWaveShaper(),m=o.createWaveShaper();ar(d,f),ar(m,f);const b=t(o,{...f,gain:1}),w=t(o,{...f,gain:-1}),y=t(o,{...f,gain:1}),N=t(o,{...f,gain:-1});let A=null,E=!1,T=null;const U={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(q){b.channelCount=q,w.channelCount=q,d.channelCount=q,y.channelCount=q,m.channelCount=q,N.channelCount=q},get channelCountMode(){return d.channelCountMode},set channelCountMode(q){b.channelCountMode=q,w.channelCountMode=q,d.channelCountMode=q,y.channelCountMode=q,m.channelCountMode=q,N.channelCountMode=q},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(q){b.channelInterpretation=q,w.channelInterpretation=q,d.channelInterpretation=q,y.channelInterpretation=q,m.channelInterpretation=q,N.channelInterpretation=q},get context(){return d.context},get curve(){return T},set curve(q){if(q!==null&&q.length<2)throw e();if(q===null)d.curve=q,m.curve=q;else{const te=q.length,G=new Float32Array(te+2-te%2),D=new Float32Array(te+2-te%2);G[0]=q[0],D[0]=-q[te-1];const I=Math.ceil((te+1)/2),Z=(te+1)/2-1;for(let L=1;L<I;L+=1){const j=L/I*Z,$=Math.floor(j),ee=Math.ceil(j);G[L]=$===ee?q[$]:(1-(j-$))*q[$]+(1-(ee-j))*q[ee],D[L]=$===ee?-q[te-1-$]:-((1-(j-$))*q[te-1-$])-(1-(ee-j))*q[te-1-ee]}G[I]=te%2===1?q[I-1]:(q[I-2]+q[I-1])/2,d.curve=G,m.curve=D}T=q,E&&(r(T)&&A===null?A=i(o,b):A!==null&&(A(),A=null))},get inputs(){return[b]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(q){d.oversample=q,m.oversample=q},addEventListener(...q){return b.addEventListener(q[0],q[1],q[2])},dispatchEvent(...q){return b.dispatchEvent(q[0])},removeEventListener(...q){return b.removeEventListener(q[0],q[1],q[2])}};h!==null&&(U.curve=h instanceof Float32Array?h:new Float32Array(h)),c!==U.oversample&&(U.oversample=c);const P=()=>{b.connect(d).connect(y),b.connect(w).connect(m).connect(N).connect(y),E=!0,r(T)&&(A=i(o,b))},F=()=>{b.disconnect(d),d.disconnect(y),b.disconnect(w),w.disconnect(m),m.disconnect(N),N.disconnect(y),E=!1,A!==null&&(A(),A=null)};return a(Ch(U,y),P,F)},Kr=()=>new DOMException("","NotSupportedError"),mN={numberOfChannels:1},gN=(i,e,t,r,a)=>class extends i{constructor(h,c,f){let d;if(typeof h=="number"&&c!==void 0&&f!==void 0)d={length:c,numberOfChannels:h,sampleRate:f};else if(typeof h=="object")d=h;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:b,sampleRate:w}={...mN,...d},y=r(b,m,w);e(If,()=>If(y))||y.addEventListener("statechange",(()=>{let N=0;const A=E=>{this._state==="running"&&(N>0?(y.removeEventListener("statechange",A),E.stopImmediatePropagation(),this._waitForThePromiseToSettle(E)):N+=1)};return A})()),super(y,b),this._length=m,this._nativeOfflineAudioContext=y,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(t()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Zb(this)}))}_waitForThePromiseToSettle(h){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(h):setTimeout(()=>this._waitForThePromiseToSettle(h))}},vN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},yN=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...vN,...d},w=t(m,b),y=o(m),N=y?r():null,A=f.sampleRate/2;super(f,!1,w,N),this._detune=e(this,y,w.detune,153600,-153600),this._frequency=e(this,y,w.frequency,A,-A),this._nativeOscillatorNode=w,this._onended=null,this._oscillatorNodeRenderer=N,this._oscillatorNodeRenderer!==null&&b.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=b.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(f){const d=typeof f=="function"?h(this,f):null;this._nativeOscillatorNode.onended=d;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===d?f:m}get type(){return this._nativeOscillatorNode.type}set type(f){this._nativeOscillatorNode.type=f,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(f){this._nativeOscillatorNode.setPeriodicWave(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=f)}start(f=0){if(this._nativeOscillatorNode.start(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=f),this.context.state!=="closed"){wh(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),fl(this)&&Wf(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(f=0){this._nativeOscillatorNode.stop(f),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=f)}},bN=(i,e,t,r,a)=>()=>{const o=new WeakMap;let h=null,c=null,f=null;const d=async(m,b)=>{let w=t(m);const y=qr(w,b);if(!y){const N={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,detune:w.detune.value,frequency:w.frequency.value,periodicWave:h===null?void 0:h,type:w.type};w=e(b,N),c!==null&&w.start(c),f!==null&&w.stop(f)}return o.set(b,w),y?(await i(b,m.detune,w.detune),await i(b,m.frequency,w.frequency)):(await r(b,m.detune,w.detune),await r(b,m.frequency,w.frequency)),await a(m,b,w),w};return{set periodicWave(m){h=m},set start(m){c=m},set stop(m){f=m},render(m,b){const w=o.get(b);return w!==void 0?Promise.resolve(w):d(m,b)}}},_N={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},xN=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={..._N,...d},w=t(m,b),y=o(m),N=y?r():null;super(f,!1,w,N),this._nativePannerNode=w,this._orientationX=e(this,y,w.orientationX,Xr,ys),this._orientationY=e(this,y,w.orientationY,Xr,ys),this._orientationZ=e(this,y,w.orientationZ,Xr,ys),this._positionX=e(this,y,w.positionX,Xr,ys),this._positionY=e(this,y,w.positionY,Xr,ys),this._positionZ=e(this,y,w.positionZ,Xr,ys),h(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(f){this._nativePannerNode.coneInnerAngle=f}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(f){this._nativePannerNode.coneOuterAngle=f}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(f){this._nativePannerNode.coneOuterGain=f}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(f){this._nativePannerNode.distanceModel=f}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(f){this._nativePannerNode.maxDistance=f}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(f){this._nativePannerNode.panningModel=f}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(f){this._nativePannerNode.refDistance=f}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(f){this._nativePannerNode.rolloffFactor=f}},wN=(i,e,t,r,a,o,h,c,f,d)=>()=>{const m=new WeakMap;let b=null;const w=async(y,N)=>{let A=null,E=o(y);const T={channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation},U={...T,coneInnerAngle:E.coneInnerAngle,coneOuterAngle:E.coneOuterAngle,coneOuterGain:E.coneOuterGain,distanceModel:E.distanceModel,maxDistance:E.maxDistance,panningModel:E.panningModel,refDistance:E.refDistance,rolloffFactor:E.rolloffFactor},P=qr(E,N);if("bufferSize"in E)A=r(N,{...T,gain:1});else if(!P){const F={...U,orientationX:E.orientationX.value,orientationY:E.orientationY.value,orientationZ:E.orientationZ.value,positionX:E.positionX.value,positionY:E.positionY.value,positionZ:E.positionZ.value};E=a(N,F)}if(m.set(N,A===null?E:A),A!==null){if(b===null){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const L=new h(6,y.context.length,N.sampleRate),j=e(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});j.connect(L.destination),b=(async()=>{const $=await Promise.all([y.orientationX,y.orientationY,y.orientationZ,y.positionX,y.positionY,y.positionZ].map(async(ee,ue)=>{const Q=t(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue===0?1:0});return await c(L,ee,Q.offset),Q}));for(let ee=0;ee<6;ee+=1)$[ee].connect(j,0,ee),$[ee].start(0);return d(L)})()}const F=await b,q=r(N,{...T,gain:1});await f(y,N,q);const te=[];for(let L=0;L<F.numberOfChannels;L+=1)te.push(F.getChannelData(L));let G=[te[0][0],te[1][0],te[2][0]],D=[te[3][0],te[4][0],te[5][0]],I=r(N,{...T,gain:1}),Z=a(N,{...U,orientationX:G[0],orientationY:G[1],orientationZ:G[2],positionX:D[0],positionY:D[1],positionZ:D[2]});q.connect(I).connect(Z.inputs[0]),Z.connect(A);for(let L=128;L<F.length;L+=128){const j=[te[0][L],te[1][L],te[2][L]],$=[te[3][L],te[4][L],te[5][L]];if(j.some((ee,ue)=>ee!==G[ue])||$.some((ee,ue)=>ee!==D[ue])){G=j,D=$;const ee=L/N.sampleRate;I.gain.setValueAtTime(0,ee),I=r(N,{...T,gain:0}),Z=a(N,{...U,orientationX:G[0],orientationY:G[1],orientationZ:G[2],positionX:D[0],positionY:D[1],positionZ:D[2]}),I.gain.setValueAtTime(1,ee),q.connect(I).connect(Z.inputs[0]),Z.connect(A)}}return A}return P?(await i(N,y.orientationX,E.orientationX),await i(N,y.orientationY,E.orientationY),await i(N,y.orientationZ,E.orientationZ),await i(N,y.positionX,E.positionX),await i(N,y.positionY,E.positionY),await i(N,y.positionZ,E.positionZ)):(await c(N,y.orientationX,E.orientationX),await c(N,y.orientationY,E.orientationY),await c(N,y.orientationZ,E.orientationZ),await c(N,y.positionX,E.positionX),await c(N,y.positionY,E.positionY),await c(N,y.positionZ,E.positionZ)),Nh(E)?await f(y,N,E.inputs[0]):await f(y,N,E),E};return{render(y,N){const A=m.get(N);return A!==void 0?Promise.resolve(A):w(y,N)}}},SN={disableNormalization:!1},AN=(i,e,t,r)=>class s_{constructor(o,h){const c=e(o),f=r({...SN,...h}),d=i(c,f);return t.add(d),d}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===s_.prototype||t.has(o)}},NN=(i,e)=>(t,r,a)=>(i(r).replay(a),e(r,t,a)),CN=(i,e,t)=>async(r,a,o)=>{const h=i(r);await Promise.all(h.activeInputs.map((c,f)=>Array.from(c).map(async([d,m])=>{const w=await e(d).render(d,a),y=r.context.destination;!t(d)&&(r!==y||!t(r))&&w.connect(o,m,f)})).reduce((c,f)=>[...c,...f],[]))},TN=(i,e,t)=>async(r,a,o)=>{const h=e(r);await Promise.all(Array.from(h.activeInputs).map(async([c,f])=>{const m=await i(c).render(c,a);t(c)||m.connect(o,f)}))},EN=(i,e,t,r)=>a=>i(If,()=>If(a))?Promise.resolve(i(r,r)).then(o=>{if(!o){const h=t(a,512,0,1);a.oncomplete=()=>{h.onaudioprocess=null,h.disconnect()},h.onaudioprocess=()=>a.currentTime,h.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const h=e(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{h.disconnect(),o(c.renderedBuffer)},h.connect(a.destination),a.startRendering()}),kN=i=>(e,t)=>{i.set(e,t)},ON=i=>(e,t)=>i.set(e,t),LN=(i,e,t,r,a,o,h,c)=>(f,d)=>t(f).render(f,d).then(()=>Promise.all(Array.from(r(d)).map(m=>t(m).render(m,d)))).then(()=>a(d)).then(m=>(typeof m.copyFromChannel!="function"?(h(m),ng(m)):e(o,()=>o(m))||c(m),i.add(m),m)),MN={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},DN=(i,e,t,r,a,o)=>class extends i{constructor(c,f){const d=a(c),m={...MN,...f},b=t(d,m),w=o(d),y=w?r():null;super(c,!1,b,y),this._pan=e(this,w,b.pan)}get pan(){return this._pan}},jN=(i,e,t,r,a)=>()=>{const o=new WeakMap,h=async(c,f)=>{let d=t(c);const m=qr(d,f);if(!m){const b={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=e(f,b)}return o.set(f,d),m?await i(f,c.pan,d.pan):await r(f,c.pan,d.pan),Nh(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=o.get(f);return d!==void 0?Promise.resolve(d):h(c,f)}}},RN=i=>()=>{if(i===null)return!1;try{new i({length:1,sampleRate:44100})}catch{return!1}return!0},IN=(i,e)=>async()=>{if(i===null)return!0;if(e===null)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),a=URL.createObjectURL(t);let o=!1,h=!1;try{await r.audioWorklet.addModule(a);const c=new i(r,"a",{numberOfOutputs:0}),f=r.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>h=!0,f.connect(c),f.start(0),await r.startRendering(),await new Promise(d=>setTimeout(d))}catch{}finally{URL.revokeObjectURL(a)}return o&&!h},BN=(i,e)=>()=>{if(e===null)return Promise.resolve(!1);const t=new e(1,1,44100),r=i(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{t.oncomplete=()=>{r.disconnect(),a(t.currentTime!==0)},t.startRendering()})},qN=()=>new DOMException("","UnknownError"),zN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},FN=(i,e,t,r,a,o,h)=>class extends i{constructor(f,d){const m=a(f),b={...zN,...d},w=t(m,b),N=o(m)?r():null;super(f,!0,w,N),this._isCurveNullified=!1,this._nativeWaveShaperNode=w,h(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(f){if(f===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(f.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=f}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(f){this._nativeWaveShaperNode.oversample=f}},PN=(i,e,t)=>()=>{const r=new WeakMap,a=async(o,h)=>{let c=e(o);if(!qr(c,h)){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=i(h,d)}return r.set(h,c),Nh(c)?await t(o,h,c.inputs[0]):await t(o,h,c),c};return{render(o,h){const c=r.get(h);return c!==void 0?Promise.resolve(c):a(o,h)}}},UN=()=>typeof window>"u"?null:window,VN=(i,e)=>t=>{t.copyFromChannel=(r,a,o=0)=>{const h=i(o),c=i(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=r.length;for(let b=h<0?-h:0;b+h<f&&b<m;b+=1)r[b]=d[b+h]},t.copyToChannel=(r,a,o=0)=>{const h=i(o),c=i(a);if(c>=t.numberOfChannels)throw e();const f=t.length,d=t.getChannelData(c),m=r.length;for(let b=h<0?-h:0;b+h<f&&b<m;b+=1)d[b+h]=r[b]}},HN=i=>e=>{e.copyFromChannel=(t=>(r,a,o=0)=>{const h=i(o),c=i(a);if(h<e.length)return t.call(e,r,c,h)})(e.copyFromChannel),e.copyToChannel=(t=>(r,a,o=0)=>{const h=i(o),c=i(a);if(h<e.length)return t.call(e,r,c,h)})(e.copyToChannel)},GN=i=>(e,t)=>{const r=t.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),i(e,"buffer",a=>()=>{const o=a.call(e);return o===r?null:o},a=>o=>a.call(e,o===null?r:o))},YN=(i,e)=>(t,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw i()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw i()}});const a=t.createBufferSource();e(r,()=>{const c=r.numberOfInputs;for(let f=0;f<c;f+=1)a.connect(r,0,f)},()=>a.disconnect(r))},a_=(i,e,t)=>i.copyFromChannel===void 0?i.getChannelData(t)[0]:(i.copyFromChannel(e,t),e[0]),o_=i=>{if(i===null)return!1;const e=i.length;return e%2!==0?i[Math.floor(e/2)]!==0:i[e/2-1]+i[e/2]!==0},Jf=(i,e,t,r)=>{let a=i;for(;!a.hasOwnProperty(e);)a=Object.getPrototypeOf(a);const{get:o,set:h}=Object.getOwnPropertyDescriptor(a,e);Object.defineProperty(i,e,{get:t(o),set:r(h)})},WN=i=>({...i,outputChannelCount:i.outputChannelCount!==void 0?i.outputChannelCount:i.numberOfInputs===1&&i.numberOfOutputs===1?[i.channelCount]:Array.from({length:i.numberOfOutputs},()=>1)}),XN=i=>({...i,channelCount:i.numberOfOutputs}),ZN=i=>{const{imag:e,real:t}=i;return e===void 0?t===void 0?{...i,imag:[0,0],real:[0,0]}:{...i,imag:Array.from(t,()=>0),real:t}:t===void 0?{...i,imag:e,real:Array.from(e,()=>0)}:{...i,imag:e,real:t}},l_=(i,e,t)=>{try{i.setValueAtTime(e,t)}catch(r){if(r.code!==9)throw r;l_(i,e,t+1e-7)}},KN=i=>{const e=i.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},QN=i=>{const e=i.createBufferSource(),t=i.createBuffer(1,1,44100);e.buffer=t;try{e.start(0,1)}catch{return!1}return!0},JN=i=>{const e=i.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},og=i=>{const e=i.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},c_=i=>{const e=i.createBuffer(1,1,44100),t=i.createBufferSource();t.buffer=e,t.start(),t.stop();try{return t.stop(),!0}catch{return!1}},lg=i=>{const e=i.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},$N=i=>{const{port1:e,port2:t}=new MessageChannel;try{e.postMessage(i)}finally{e.close(),t.close()}},e8=i=>{i.start=(e=>(t=0,r=0,a)=>{const o=i.buffer,h=o===null?r:Math.min(o.duration,r);o!==null&&h>o.duration-.5/i.context.sampleRate?e.call(i,t,0,0):e.call(i,t,h,a)})(i.start)},u_=(i,e)=>{const t=e.createGain();i.connect(t);const r=(a=>()=>{a.call(i,t),i.removeEventListener("ended",r)})(i.disconnect);i.addEventListener("ended",r),Ch(i,t),i.stop=(a=>{let o=!1;return(h=0)=>{if(o)try{a.call(i,h)}catch{t.gain.setValueAtTime(0,h)}else a.call(i,h),o=!0}})(i.stop)},Th=(i,e)=>t=>{const r={value:i};return Object.defineProperties(t,{currentTarget:r,target:r}),typeof e=="function"?e.call(i,t):e.handleEvent.call(i,t)},t8=xS(ou),n8=TS(ou),i8=z6(t1),h_=new WeakMap,r8=iA(h_),Ja=m6(new Map,new WeakMap),Eo=UN(),f_=DA(Ja,ko),cg=nA(Zr),Tr=CN(Zr,cg,iu),s8=MS(f_,oi,Tr),Qn=aA(e1),vl=aN(Eo),Vn=SA(vl),d_=new WeakMap,p_=Z6(Th),$f=BA(Eo),ug=bA($f),hg=_A(Eo),m_=xA(Eo),Bf=zA(Eo),Fi=i6(wS(Ub),CS(t8,n8,Mp,i8,Dp,Zr,r8,Yf,oi,ou,fl,iu,yp),Ja,pA(E0,Dp,Zr,oi,Rf,fl),ko,n1,Kr,R6(Mp,E0,Zr,oi,Rf,Qn,fl,Vn),U6(d_,Zr,Wa),p_,Qn,ug,hg,m_,Vn,Bf),a8=LS(Fi,s8,ko,f_,Qn,Vn),fg=new WeakSet,Yv=jA(Eo),g_=E6(new Uint32Array(1)),dg=VN(g_,ko),pg=HN(g_),v_=jS(fg,Ja,Kr,Yv,vl,RN(Yv),dg,pg),i1=ES(_s),y_=TN(cg,Xf,iu),Oo=w6(y_),Eh=IA(i1,Ja,KN,QN,JN,og,c_,lg,e8,GN(Jf),u_),Lo=NN(rA(Xf),y_),o8=BS(Oo,Eh,oi,Lo,Tr),$a=r6(SS(Vb),d_,tg,s6,mS,gS,vS,yS,bS,N0,Fb,$f,l_),l8=IS(Fi,o8,$a,gr,Eh,Qn,Vn,Th),c8=YS(Fi,WS,ko,gr,qA(_s,Jf),Qn,Vn,Tr),u8=p6(Oo,i_,oi,Lo,Tr),lu=ON(h_),h8=d6(Fi,$a,u8,n1,i_,Qn,Vn,lu),pc=LA(ou,hg),f8=YN(gr,pc),mc=YA($f,f8),d8=y6(mc,oi,Tr),p8=v6(Fi,d8,mc,Qn,Vn),m8=x6(Kf,oi,Tr),g8=_6(Fi,m8,Kf,Qn,Vn,XN),v8=ZA(i1,Eh,_s,pc),kh=XA(i1,Ja,v8,og,lg),y8=T6(Oo,kh,oi,Lo,Tr),b8=C6(Fi,$a,y8,kh,Qn,Vn,Th),b_=KA(Kr,Jf),_8=L6(b_,oi,Tr),x8=O6(Fi,_8,b_,Qn,Vn,lu),w8=q6(Oo,r_,oi,Lo,Tr),S8=B6(Fi,$a,w8,r_,Qn,Vn,lu),__=QA(Kr),A8=Y6(Oo,__,oi,Lo,Tr),N8=G6(Fi,$a,A8,__,Kr,Qn,Vn,lu),C8=eA(Oo,_s,oi,Lo,Tr),T8=$6(Fi,$a,C8,_s,Qn,Vn),E8=tN(n1,gr,Qf,Kr),r1=EN(Ja,_s,Qf,BN(_s,vl)),k8=dA(Eh,oi,vl,Tr,r1),O8=JA(E8),L8=hA(Fi,O8,k8,Qn,Vn,lu),M8=XS($a,mc,kh,Qf,Kr,a_,Vn,Jf),x_=new WeakMap,D8=OA(c8,M8,p_,Vn,x_,Th),w_=oN(i1,Ja,og,c_,lg,u_),j8=bN(Oo,w_,oi,Lo,Tr),R8=yN(Fi,$a,w_,j8,Qn,Vn,Th),S_=A6(Eh),I8=pN(S_,gr,_s,o_,pc),s1=dN(S_,gr,I8,o_,pc,$f,Jf),B8=cN(Mp,gr,mc,_s,Qf,s1,Kr,Dp,a_,pc),A_=lN(B8),q8=wN(Oo,mc,kh,_s,A_,oi,vl,Lo,Tr,r1),z8=xN(Fi,$a,A_,q8,Qn,Vn,lu),F8=uN(ko),P8=AN(F8,Qn,new WeakSet,ZN),U8=fN(mc,Kf,_s,s1,Kr,pc),N_=hN(U8,Kr),V8=jN(Oo,N_,oi,Lo,Tr),H8=DN(Fi,$a,N_,V8,Qn,Vn),G8=PN(s1,oi,Tr),Y8=FN(Fi,gr,s1,G8,Qn,Vn,lu),C_=AA(Eo),mg=K6(Eo),T_=new WeakMap,W8=oA(T_,vl),X8=C_?NS(Ja,Kr,X6(Eo),mg,Q6(_S),Qn,W8,Vn,Bf,new WeakMap,new WeakMap,IN(Bf,vl),Eo):void 0,Z8=wA(ug,Vn),K8=j6(fg,Ja,D6,W6,new WeakSet,Qn,Z8,Op,If,dg,pg),E_=h6(X8,a8,v_,l8,h8,p8,g8,b8,x8,K8,S8,N8,T8,L8,D8,R8,z8,P8,H8,Y8),Q8=NA(Fi,nN,Qn,Vn),J8=TA(Fi,iN,Qn,Vn),$8=EA(Fi,rN,Qn,Vn),eC=sN(gr,Vn),tC=kA(Fi,eC,Qn),nC=GS(E_,gr,Kr,qN,Q8,J8,$8,tC,$f),gg=lA(x_),iC=kS(gg),k_=S6(ko),rC=F6(gg),O_=V6(ko),L_=new WeakMap,sC=tA(L_,Wa),aC=GA(k_,ko,gr,mc,Kf,kh,_s,Qf,Kr,O_,mg,sC,pc),oC=PA(gr,aC,_s,Kr,pc),lC=u6(Oo,k_,Eh,mc,Kf,kh,_s,rC,O_,mg,oi,Bf,vl,Lo,Tr,r1),cC=sA(T_),uC=kN(L_),Wv=C_?o6(iC,Fi,$a,lC,oC,Zr,cC,Qn,Vn,Bf,WN,uC,$N,Th):void 0,hC=M6(Kr,vl),fC=LN(fg,Ja,cg,gg,r1,Op,dg,pg),dC=gN(E_,Ja,gr,hC,fC),pC=mA(e1,ug),mC=gA(eg,hg),gC=vA(tg,m_),vC=yA(e1,Vn);function fa(i){return i===void 0}function tn(i){return i!==void 0}function yC(i){return typeof i=="function"}function dl(i){return typeof i=="number"}function eu(i){return Object.prototype.toString.call(i)==="[object Object]"&&i.constructor===Object}function bC(i){return typeof i=="boolean"}function Hs(i){return Array.isArray(i)}function pl(i){return typeof i=="string"}function rp(i){return pl(i)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(i)}function It(i,e){if(!i)throw new Error(e)}function ml(i,e,t=1/0){if(!(e<=i&&i<=t))throw new RangeError(`Value must be within [${e}, ${t}], got: ${i}`)}function M_(i){!i.isOffline&&i.state!=="running"&&a1('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let D_=!1,Xv=!1;function Zv(i){D_=i}function _C(i){fa(i)&&D_&&!Xv&&(Xv=!0,a1("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let j_=console;function xC(...i){j_.log(...i)}function a1(...i){j_.warn(...i)}function wC(i){return new nC(i)}function SC(i,e,t){return new dC(i,e,t)}const Ps=typeof self=="object"?self:null,AC=Ps&&(Ps.hasOwnProperty("AudioContext")||Ps.hasOwnProperty("webkitAudioContext"));function NC(i,e,t){return It(tn(Wv),"AudioWorkletNode only works in a secure context (https or localhost)"),new(i instanceof Ps?.BaseAudioContext?Ps?.AudioWorkletNode:Wv)(i,e,t)}function eo(i,e,t,r){var a=arguments.length,o=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,r);else for(var c=i.length-1;c>=0;c--)(h=i[c])&&(o=(a<3?h(o):a>3?h(e,t,o):h(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function Xi(i,e,t,r){function a(o){return o instanceof t?o:new t(function(h){h(o)})}return new(t||(t=Promise))(function(o,h){function c(m){try{d(r.next(m))}catch(b){h(b)}}function f(m){try{d(r.throw(m))}catch(b){h(b)}}function d(m){m.done?o(m.value):a(m.value).then(c,f)}d((r=r.apply(i,e||[])).next())})}class CC{constructor(e,t,r,a){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),t=URL.createObjectURL(e),r=new Worker(t);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((t=this._worker)===null||t===void 0||t.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function ru(i){return gC(i)}function oc(i){return mC(i)}function bp(i){return vC(i)}function ah(i){return pC(i)}function TC(i){return i instanceof v_}function EC(i,e){return i==="value"||ru(e)||oc(e)||TC(e)}function tu(i,...e){if(!e.length)return i;const t=e.shift();if(eu(i)&&eu(t))for(const r in t)EC(r,t[r])?i[r]=t[r]:eu(t[r])?(i[r]||Object.assign(i,{[r]:{}}),tu(i[r],t[r])):Object.assign(i,{[r]:t[r]});return tu(i,...e)}function kC(i,e){return i.length===e.length&&i.every((t,r)=>e[r]===t)}function jt(i,e,t=[],r){const a={},o=Array.from(e);if(eu(o[0])&&r&&!Reflect.has(o[0],r)&&(Object.keys(o[0]).some(c=>Reflect.has(i,c))||(tu(a,{[r]:o[0]}),t.splice(t.indexOf(r),1),o.shift())),o.length===1&&eu(o[0]))tu(a,o[0]);else for(let h=0;h<t.length;h++)tn(o[h])&&(a[t[h]]=o[h]);return tu(i,a)}function OC(i){return i.constructor.getDefaults()}function mh(i,e){return fa(i)?e:i}function Ha(i,e){return e.forEach(t=>{Reflect.has(i,t)&&delete i[t]}),i}class yl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Ps&&this.toString()===Ps.TONE_DEBUG_CLASS)&&xC(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}yl.version=zb;const vg=1e-6;function Sh(i,e){return i>e+vg}function D0(i,e){return Sh(i,e)||Va(i,e)}function Bp(i,e){return i+vg<e}function Va(i,e){return Math.abs(i-e)<vg}function LC(i,e,t){return Math.max(Math.min(i,t),e)}let To=class R_ extends yl{constructor(){super(),this.name="Timeline",this._timeline=[];const e=jt(R_.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(It(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];It(D0(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(e){const t=this._timeline.indexOf(e);return t!==-1&&this._timeline.splice(t,1),this}get(e,t="time"){const r=this._search(e,t);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const r=this._search(e,t);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Va(this._timeline[t].time,e)){for(let r=t;r>=0&&Va(this._timeline[r].time,e);r--)t=r;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else this._timeline.length===1&&D0(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(this._timeline.length===0)return-1;let r=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][t]<=e)return a-1;for(;r<o;){let h=Math.floor(r+(o-r)/2);const c=this._timeline[h],f=this._timeline[h+1];if(Va(c[t],e)){for(let d=h;d<this._timeline.length;d++){const m=this._timeline[d];if(Va(m[t],e))h=d;else break}return h}else{if(Bp(c[t],e)&&Sh(f[t],e))return h;Sh(c[t],e)?o=h:r=h+1}}return-1}_iterate(e,t=0,r=this._timeline.length-1){this._timeline.slice(t,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const r=this._search(e);return r!==-1&&this._iterate(t,0,r),this}forEachAfter(e,t){const r=this._search(e);return this._iterate(t,r+1),this}forEachBetween(e,t,r){let a=this._search(e),o=this._search(t);return a!==-1&&o!==-1?(this._timeline[a].time!==e&&(a+=1),this._timeline[o].time===t&&(o-=1),this._iterate(r,a,o)):a===-1&&this._iterate(r,0,o),this}forEachFrom(e,t){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(t,r+1),this}forEachAtTime(e,t){const r=this._search(e);if(r!==-1&&Va(this._timeline[r].time,e)){let a=r;for(let o=r;o>=0&&Va(this._timeline[o].time,e);o--)a=o;this._iterate(o=>{t(o)},a,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}};const I_=[];function o1(i){I_.push(i)}function MC(i){I_.forEach(e=>e(i))}const B_=[];function l1(i){B_.push(i)}function DC(i){B_.forEach(e=>e(i))}class ed extends yl{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach(a=>{fa(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(t)}),this}once(e,t){const r=(...a)=>{t(...a),this.off(e,r)};return this.on(e,r),this}off(e,t){return e.split(/\W+/).forEach(a=>{if(fa(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(fa(t))this._events[a]=[];else{const o=this._events[a];for(let h=o.length-1;h>=0;h--)o[h]===t&&o.splice(h,1)}}),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let a=0,o=r.length;a<o;a++)r[a].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach(t=>{const r=Object.getOwnPropertyDescriptor(ed.prototype,t);Object.defineProperty(e.prototype,t,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class q_ extends ed{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}let yg=class z_ extends q_{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new To,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const r=jt(z_.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=wC({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new CC(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((t=arguments[0])===null||t===void 0)&&t.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(MC(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,r){return this._context.createBuffer(e,t,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,r){return this._context.createPeriodicWave(e,t,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return It(ah(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return It(ah(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return It(ah(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){It(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){It(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){It(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){It(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return NC(this.rawContext,e,t)}addAudioWorkletModule(e){return Xi(this,void 0,void 0,function*(){It(tn(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Xi(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ah(this._context)?this._context.resume():Promise.resolve()}close(){return Xi(this,void 0,void 0,function*(){ah(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&DC(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),r=t.getChannelData(0);for(let o=0;o<r.length;o++)r[o]=e;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=t,a.loop=!0,a.start(0),this._constants.set(e,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,t=>{t.callback(),this._timeouts.remove(t)})}setTimeout(e,t){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const r=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{e(),a()},id:r,time:o+t})};return a(),r}};class jC extends q_{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Xi(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function li(i,e){Hs(e)?e.forEach(t=>li(i,t)):Object.defineProperty(i,e,{enumerable:!0,writable:!1})}function bg(i,e){Hs(e)?e.forEach(t=>bg(i,t)):Object.defineProperty(i,e,{writable:!0})}const Un=()=>{};class si extends yl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Un;const e=jt(si.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,pl(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Un,onload:Un,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Ga().sampleRate}set(e){return e instanceof si?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Xi(this,void 0,void 0,function*(){const t=si.load(e).then(r=>{this.set(r),this.onload(this)});si.downloads.push(t);try{yield t}finally{const r=si.downloads.indexOf(t);si.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Hs(e)&&e[0].length>0,r=t?e.length:1,a=t?e[0].length:e.length,o=Ga(),h=o.createBuffer(r,a,o.sampleRate),c=!t&&r===1?[e]:e;for(let f=0;f<r;f++)h.copyToChannel(c[f],f);return this._buffer=h,this}toMono(e){if(dl(e))this.fromArray(this.toArray(e));else{let t=new Float32Array(this.length);const r=this.numberOfChannels;for(let a=0;a<r;a++){const o=this.toArray(a);for(let h=0;h<o.length;h++)t[h]+=o[h]}t=t.map(a=>a/r),this.fromArray(t)}return this}toArray(e){if(dl(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const t=[];for(let r=0;r<this.numberOfChannels;r++)t[r]=this.getChannelData(r);return t}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){It(this.loaded,"Buffer is not loaded");const r=Math.floor(e*this.sampleRate),a=Math.floor(t*this.sampleRate);It(r<a,"The start time must be less than the end time");const o=a-r,h=Ga().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)h.copyToChannel(this.getChannelData(c).subarray(r,a),c);return new si(h)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new si().fromArray(e)}static fromUrl(e){return Xi(this,void 0,void 0,function*(){return yield new si().load(e)})}static load(e){return Xi(this,void 0,void 0,function*(){const t=si.baseUrl===""||si.baseUrl.endsWith("/")?si.baseUrl:si.baseUrl+"/",r=yield fetch(t+e);if(!r.ok)throw new Error(`could not load url: ${e}`);const a=yield r.arrayBuffer();return yield Ga().decodeAudioData(a)})}static supportsType(e){const t=e.split("."),r=t[t.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Xi(this,void 0,void 0,function*(){for(yield Promise.resolve();si.downloads.length;)yield si.downloads[0]})}}si.baseUrl="";si.downloads=[];class _g extends yg{constructor(){super({clockSource:"offline",context:bp(arguments[0])?arguments[0]:SC(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:bp(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=bp(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Xi(this,void 0,void 0,function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const r=Math.floor(this.sampleRate/128);e&&t%r===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return Xi(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new si(t)})}close(){return Promise.resolve()}}const F_=new jC;let Jc=F_;function Ga(){return Jc===F_&&AC&&RC(new yg),Jc}function RC(i,e=!1){e&&Jc.dispose(),ah(i)?Jc=new yg(i):bp(i)?Jc=new _g(i):Jc=i}function P_(){return Jc.resume()}if(Ps&&!Ps.TONE_SILENCE_LOGGING){const e=` * Tone.js v${zb} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function IC(i){return Math.pow(10,i/20)}function BC(i){return 20*(Math.log(i)/Math.LN10)}function U_(i){return Math.pow(2,i/12)}let c1=440;function qC(){return c1}function zC(i){c1=i}function $c(i){return Math.round(V_(i))}function V_(i){return 69+12*Math.log2(i/c1)}function H_(i){return c1*Math.pow(2,(i-69)/12)}class xg extends yl{constructor(e,t,r){super(),this.defaultUnits="s",this._val=t,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const r=parseInt(e,10),a=t==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/r)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(t)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,t,r)=>{let a=0;return e&&e!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a+=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(a+=this._beatsToUnits(parseFloat(r)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof xg&&this.fromType(this._val),fa(this._val))return this._noArg();if(pl(this._val)&&fa(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(eu(this._val)){let e=0;for(const t in this._val)if(tn(this._val[t])){const r=this._val[t],a=new this.constructor(this.context,t).valueOf()*r;e+=a}return e}if(tn(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}else return pl(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Ya extends xg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Ya(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const r=new this.constructor(this.context,e).valueOf(),a=this.valueOf(),c=Math.round(a/r)*r-a;return a+c*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let o=1;o<9;o++){const h=Math.pow(2,o);t.push(h+"n."),t.push(h+"n"),t.push(h+"t")}t.push("0");let r=t[0],a=new Ya(this.context,t[0]).toSeconds();return t.forEach(o=>{const h=new Ya(this.context,o).toSeconds();Math.abs(h-e)<Math.abs(a-e)&&(r=o,a=h)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const r=Math.floor(t/this._getTimeSignature());let a=t%1*4;t=Math.floor(t)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[r,t,a].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return $c(this.toFrequency())}_now(){return this.context.now()}}class Us extends Ya{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return qC()}static set A4(e){zC(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Us.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const a=FC[e.toLowerCase()]+(parseInt(t,10)+1)*12;return this.defaultUnits==="midi"?a:Us.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,r){let a=1;return e&&e!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&t!=="0"&&(a*=this._beatsToUnits(parseFloat(t))),r&&r!=="0"&&(a*=this._beatsToUnits(parseFloat(r)/4)),a}}})}transpose(e){return new Us(this.context,this.valueOf()*U_(e))}harmonize(e){return e.map(t=>this.transpose(t))}toMidi(){return $c(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Us.A4);let r=Math.round(12*t)+57;const a=Math.floor(r/12);return a<0&&(r+=-12*a),PC[r%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return H_(e)}static ftom(e){return $c(e)}}const FC={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},PC=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Tf extends Ya{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class bs extends yl{constructor(){super();const e=jt(bs.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Ga()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return _C(e),new Ya(this.context,e).toSeconds()}toFrequency(e){return new Us(this.context,e).toFrequency()}toTicks(e){return new Tf(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach(r=>{fa(e[r])&&delete t[r]}),t}get(){const e=OC(this);return Object.keys(e).forEach(t=>{if(Reflect.has(this,t)){const r=this[t];tn(r)&&tn(r.value)&&tn(r.setValueAtTime)?e[t]=r.value:r instanceof bs?e[t]=r._getPartialProperties(e[t]):Hs(r)||dl(r)||pl(r)||bC(r)?e[t]=r:delete e[t]}}),e}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&tn(this[t])&&(this[t]&&tn(this[t].value)&&tn(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof bs?this[t].set(e[t]):this[t]=e[t])}),this}}class wg extends To{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return t!==null?t.state:this._initial}setStateAtTime(e,t,r){return ml(t,0),this.add(Object.assign({},r,{state:e,time:t})),this}getLastState(e,t){const r=this._search(t);for(let a=r;a>=0;a--){const o=this._timeline[a];if(o.state===e)return o}}getNextState(e,t){const r=this._search(t);if(r!==-1)for(let a=r;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===e)return o}}}class Zn extends bs{constructor(){const e=jt(Zn.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,It(tn(e.param)&&(ru(e.param)||e.param instanceof Zn),"param must be an AudioParam");!ru(e.param);)e.param=e.param._param;this._swappable=tn(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new To(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,tn(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(bs.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return tn(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return tn(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return tn(this.maxValue)&&tn(this.minValue)&&ml(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?IC(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?BC(e):e}setValueAtTime(e,t){const r=this.toSeconds(t),a=this._fromType(e);return It(isFinite(a)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,r),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),r=this._events.getAfter(t),a=this._events.get(t);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const h=this._events.getBefore(a.time);let c;h===null?c=this._initialValue:c=h.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,t))}else if(r===null)o=a.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let h=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?h=this._initialValue:h=c.value}r.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,h,r.time,r.value,t):o=this._exponentialInterpolate(a.time,h,r.time,r.value,t)}else o=a.value;return this._toType(o)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(t)===0&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const r=this._fromType(e),a=this.toSeconds(t);return It(isFinite(r)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(r),this._events.add({time:a,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,a),this._param.linearRampToValueAtTime(r,a),this}exponentialRampToValueAtTime(e,t){let r=this._fromType(e);r=Va(r,0)?this._minOutput:r,this._assertRange(r);const a=this.toSeconds(t);return It(isFinite(r)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,a),this._param.exponentialRampToValueAtTime(r,a),this}exponentialRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(t)),this}linearRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(t)),this}targetRampTo(e,t,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,t),this}exponentialApproachValueAtTime(e,t,r){t=this.toSeconds(t),r=this.toSeconds(r);const a=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,t,a),this.cancelAndHoldAtTime(t+r*.9),this.linearRampToValueAtTime(e,t+r),this}setTargetAtTime(e,t,r){const a=this._fromType(e);It(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(t);return this._assertRange(a),It(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:r,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",e,o,r),this._param.setTargetAtTime(a,o,r),this}setValueCurveAtTime(e,t,r,a=1){r=this.toSeconds(r),t=this.toSeconds(t);const o=this._fromType(e[0])*a;this.setValueAtTime(this._toType(o),t);const h=r/(e.length-1);for(let c=1;c<e.length;c++){const f=this._fromType(e[c])*a;this.linearRampToValueAtTime(this._toType(f),t+c*h)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return It(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),r=this._fromType(this.getValueAtTime(t));It(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+r);const a=this._events.get(t),o=this._events.getAfter(t);return a&&Va(a.time,t)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),t):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),t)),this._events.add({time:t,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,t),this}rampTo(e,t=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,t,r):this.linearRampTo(e,t,r),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const r=this._events.get(t);if(r&&r.type==="setTargetAtTime"){const a=this._events.getAfter(r.time),o=a?a.time:t+2,h=(o-t)/10;for(let c=t;c<o;c+=h)e.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?e.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?e.setTargetAtTime(a.value,a.time,a.constant):e[a.type](a.value,a.time)}),this}setParam(e){It(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,r,a,o){return r+(t-r)*Math.exp(-(o-e)/a)}_linearInterpolate(e,t,r,a,o){return t+(a-t)*((o-e)/(r-e))}_exponentialInterpolate(e,t,r,a,o){return t*Math.pow(a/t,(o-e)/(r-e))}}class zt extends bs{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return tn(this.input)?ru(this.input)||this.input instanceof Zn?1:this.input.numberOfInputs:0}get numberOfOutputs(){return tn(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return tn(e)&&(e instanceof zt||oc(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();It(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,r=0){return Oh(this,e,t,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return a1("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,r=0){return UC(this,e,t,r),this}chain(...e){return qf(this,...e),this}fan(...e){return e.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),tn(this.input)&&(this.input instanceof zt?this.input.dispose():oc(this.input)&&this.input.disconnect()),tn(this.output)&&(this.output instanceof zt?this.output.dispose():oc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function qf(...i){const e=i.shift();i.reduce((t,r)=>(t instanceof zt?t.connect(r):oc(t)&&Oh(t,r),r),e)}function Oh(i,e,t=0,r=0){for(It(tn(i),"Cannot connect from undefined node"),It(tn(e),"Cannot connect to undefined node"),(e instanceof zt||oc(e))&&It(e.numberOfInputs>0,"Cannot connect to node with no inputs"),It(i.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof zt||e instanceof Zn;)tn(e.input)&&(e=e.input);for(;i instanceof zt;)tn(i.output)&&(i=i.output);ru(e)?i.connect(e,t):i.connect(e,t,r)}function UC(i,e,t=0,r=0){if(tn(e))for(;e instanceof zt;)e=e.input;for(;!oc(i);)tn(i.output)&&(i=i.output);ru(e)?i.disconnect(e,t):oc(e)?i.disconnect(e,t,r):i.disconnect()}class Zi extends zt{constructor(){const e=jt(Zi.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Zn({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),li(this,"gain")}static getDefaults(){return Object.assign(zt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ah extends zt{constructor(e){super(e),this.onended=Un,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Zi({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const r=this.toSeconds(t);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(zt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Un})}_startGain(e,t=1){It(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(t,e+r):this._gainNode.gain.exponentialApproachValueAtTime(t,e,r)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){It(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?t*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Un&&(this.onended(this),this.onended=Un,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),It(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Un,this}}class Sg extends Ah{constructor(){const e=jt(Sg.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Oh(this._source,this._gainNode),this.offset=new Zn({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Ah.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Kn extends zt{constructor(){const e=jt(Kn.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new Sg({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(zt.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,r=0){return Ag(this,e,t,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,r){return this._param.exponentialRampTo(e,t,r),this}linearRampTo(e,t,r){return this._param.linearRampTo(e,t,r),this}targetRampTo(e,t,r){return this._param.targetRampTo(e,t,r),this}exponentialApproachValueAtTime(e,t,r){return this._param.exponentialApproachValueAtTime(e,t,r),this}setTargetAtTime(e,t,r){return this._param.setTargetAtTime(e,t,r),this}setValueCurveAtTime(e,t,r,a){return this._param.setValueCurveAtTime(e,t,r,a),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,r){return this._param.rampTo(e,t,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Ag(i,e,t,r){(e instanceof Zn||ru(e)||e instanceof Kn&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Kn&&(e.overridden=!0)),Oh(i,e,t,r)}class Ng extends Zn{constructor(){const e=jt(Ng.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new To(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Zn.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,r){t=this.toSeconds(t),this.setRampPoint(t);const a=this._fromType(e),o=this._events.get(t),h=Math.round(Math.max(1/r,1));for(let c=0;c<=h;c++){const f=r*c+t,d=this._exponentialApproach(o.time,o.value,a,r,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}setValueAtTime(e,t){const r=this.toSeconds(t);super.setValueAtTime(e,t);const a=this._events.get(r),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,r);return a.ticks=Math.max(h,0),this}linearRampToValueAtTime(e,t){const r=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const a=this._events.get(r),o=this._events.previousEvent(a),h=this._getTicksUntilEvent(o,r);return a.ticks=Math.max(h,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const r=this._fromType(e),a=this._events.get(t),o=Math.round(Math.max((t-a.time)*10,1)),h=(t-a.time)/o;for(let c=0;c<=o;c++){const f=h*c+a.time,d=this._exponentialInterpolate(a.time,a.value,t,r,f);this.linearRampToValueAtTime(this._toType(d),f)}return this}_getTicksUntilEvent(e,t){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(fa(e.ticks)){const h=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(h,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let a=this._fromType(this.getValueAtTime(t));const o=this._events.get(t);return o&&o.time===t&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(r+a)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),r=this._events.get(t);return Math.max(this._getTicksUntilEvent(r,t),0)}getDurationOfTicks(e,t){const r=this.toSeconds(t),a=this.getTicksAtTime(t);return this.getTimeOfTick(a+e)-r}getTimeOfTick(e){const t=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&r&&r.type==="linearRampToValueAtTime"&&t.value!==r.value){const a=this._fromType(this.getValueAtTime(t.time)),h=(this._fromType(this.getValueAtTime(r.time))-a)/(r.time-t.time),c=Math.sqrt(Math.pow(a,2)-2*h*(t.ticks-e)),f=(-a+c)/h,d=(-a-c)/h;return(f>0?f:d)+t.time}else return t?t.value===0?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const r=this.toSeconds(t),a=this.toSeconds(e),o=this.getTicksAtTime(r);return this.getTicksAtTime(r+a)-o}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Cg extends Kn{constructor(){const e=jt(Cg.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Ng({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Kn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Tg extends bs{constructor(){const e=jt(Tg.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new wg,this._tickOffset=new To,this._ticksAtTime=new To,this._secondsAtTime=new To,this.frequency=new Cg({context:this.context,units:e.units,value:e.frequency}),li(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},bs.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),tn(t)&&this.setTicksAtTime(t,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){const t=this.toSeconds(e);if(this._state.getValueAtTime(t)==="stopped"){const r=this._state.get(t);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),r=this._state.getLastState("stopped",t),a=this._ticksAtTime.get(t),o={state:"paused",time:t};this._state.add(o);let h=a||r,c=a?a.ticks:0,f=null;return this._state.forEachBetween(h.time,t+this.sampleTime,d=>{let m=h.time;const b=this._tickOffset.get(d.time);b&&b.time>=h.time&&(c=b.ticks,m=b.time),h.state==="started"&&d.state!=="started"&&(c+=this.frequency.getTicksAtTime(d.time)-this.frequency.getTicksAtTime(m),d.time!==o.time&&(f={state:d.state,time:d.time,ticks:c})),h=d}),this._state.remove(o),f&&this._ticksAtTime.add(f),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),r=this.frequency.timeToTicks(e,t);this.setTicksAtTime(r,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);const a=this._secondsAtTime.get(e);let o=a||t,h=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,e+this.sampleTime,f=>{let d=o.time;const m=this._tickOffset.get(f.time);m&&m.time>=o.time&&(h=m.seconds,d=m.time),o.state==="started"&&f.state!=="started"&&(h+=f.time-d,f.time!==r.time&&(c={state:f.state,time:f.time,seconds:h})),o=f}),this._state.remove(r),c&&this._secondsAtTime.add(c),h}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const r=this._tickOffset.get(t),a=this._state.get(t),o=Math.max(r.time,a.time),h=this.frequency.getTicksAtTime(o)+e-r.ticks;return this.frequency.getTimeOfTick(h)}forEachTickBetween(e,t,r){let a=this._state.get(e);this._state.forEachBetween(e,t,h=>{a&&a.state==="started"&&h.state!=="started"&&this.forEachTickBetween(Math.max(a.time,e),h.time-this.sampleTime,r),a=h});let o=null;if(a&&a.state==="started"){const h=Math.max(a.time,e),c=this.frequency.getTicksAtTime(h),f=this.frequency.getTicksAtTime(a.time),d=c-f;let m=Math.ceil(d)-d;m=Va(m,1)?0:m;let b=this.frequency.getTimeOfTick(c+m);for(;b<t;){try{r(b,Math.round(this.getTicksAtTime(b)))}catch(w){o=w;break}b+=this.frequency.getDurationOfTicks(1,b)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class u1 extends bs{constructor(){const e=jt(u1.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Un,this._lastUpdate=0,this._state=new wg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Tg({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,li(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(bs.getDefaults(),{callback:Un,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){M_(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,t),r<this._lastUpdate&&this.emit("start",r,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)==="started"&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const r=this.toSeconds(t),a=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(a+e,r)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,r=>{switch(r.state){case"started":const a=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,a);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,t,(r,a)=>{this.callback(r,a)}))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}ed.mixin(u1);class Lh extends zt{constructor(){const e=jt(Lh.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Zi({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,li(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(zt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Eg extends zt{constructor(){const e=jt(Eg.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Lh({context:this.context}),this.output=new Zi({context:this.context}),this.volume=this.input.volume,qf(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(zt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),qf(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}o1(i=>{i.destination=new Eg({context:i})});l1(i=>{i.destination.dispose()});class VC extends zt{constructor(){super(...arguments),this.name="Listener",this.positionX=new Zn({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Zn({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Zn({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Zn({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Zn({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Zn({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Zn({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Zn({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Zn({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(zt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}o1(i=>{i.listener=new VC({context:i})});l1(i=>{i.listener.dispose()});class kg extends yl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=jt(kg.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(t=>{this._loadingCount++;const r=e.urls[t];this.add(t,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Un,onload:Un,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return It(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,t])=>t.loaded)}add(e,t,r=Un,a=Un){return pl(t)?(this.baseUrl&&t.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new si(this.baseUrl+t,r,a))):this._buffers.set(e.toString(),new si(t,r,a)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class qp extends Us{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return $c(super._frequencyToUnits(e))}_ticksToUnits(e){return $c(super._ticksToUnits(e))}_beatsToUnits(e){return $c(super._beatsToUnits(e))}_secondsToUnits(e){return $c(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return H_(this.toMidi())}transpose(e){return new qp(this.context,this.toMidi()+e)}}class fh extends Tf{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class HC extends bs{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new To,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,t=>{e-t.time<=this.expiration&&t.callback(),this._events.remove(t)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}o1(i=>{i.draw=new HC({context:i})});l1(i=>{i.draw.dispose()});class GC extends yl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){It(tn(e.time),"Events must have a time property"),It(tn(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new YC(e.time,e.time+e.duration,e);for(this._root===null?this._root=t:this._root.insert(t),this._length++;t!==null;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(this._root!==null){const t=[];this._root.search(e.time,t);for(const r of t)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,t=>this.remove(t)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,t){e.parent!==null?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const t=e.getBalance();let r,a=null;if(t>0)if(e.left.right===null)r=e.left,r.right=e.right,a=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,a=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,a=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,a=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),a&&this._rebalance(a)}e.dispose()}_rotateLeft(e){const t=e.parent,r=e.isLeftChild(),a=e.right;a&&(e.right=a.left,a.left=e),t!==null?r?t.left=a:t.right=a:this._setRoot(a)}_rotateRight(e){const t=e.parent,r=e.isLeftChild(),a=e.left;a&&(e.left=a.right,a.right=e),t!==null?r?t.left=a:t.right=a:this._setRoot(a)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const t=[];if(this._root.search(e,t),t.length>0){let r=t[0];for(let a=1;a<t.length;a++)t[a].low>r.low&&(r=t[a]);return r.event}}return null}forEach(e){if(this._root!==null){const t=[];this._root.traverse(r=>t.push(r)),t.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,t){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(a=>{a.event&&t(a.event)})}return this}forEachFrom(e,t){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(a=>{a.event&&t(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class YC{constructor(e,t,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(this.left!==null&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),this.left!==null&&this.left.searchAfter(e,t)),this.right!==null&&this.right.searchAfter(e,t)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class WC extends yl{constructor(e){super(),this.name="TimelineValue",this._timeline=new To({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class lc extends zt{constructor(){super(jt(lc.getDefaults(),arguments,["context"]))}connect(e,t=0,r=0){return Ag(this,e,t,r),this}}class td extends lc{constructor(){const e=jt(td.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Hs(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):yC(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Kn.getDefaults(),{length:1024})}setMap(e,t=1024){const r=new Float32Array(t);for(let a=0,o=t;a<o;a++){const h=a/(o-1)*2-1;r[a]=e(h,a)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const t=["none","2x","4x"].some(r=>r.includes(e));It(t,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class h1 extends lc{constructor(){const e=jt(h1.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new td({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(lc.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class cc{constructor(e,t){this.id=cc._eventId++,this._remainderTime=0;const r=Object.assign(cc.getDefaults(),t);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=Math.floor(r.time),this._remainderTime=r.time-this.time}static getDefaults(){return{callback:Un,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}cc._eventId=0;class Og extends cc{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(Og.getDefaults(),t);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},cc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Bp(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new fh(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Bp(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new fh(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);Sh(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class f1 extends bs{constructor(){const e=jt(f1.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new WC(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new To,this._repeatedEvents=new GC,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new u1({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),li(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(bs.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(this._swingTicks*2)!==0){const r=t%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(r*Math.PI)*this._swingAmount;e+=new fh(this.context,this._swingTicks*2/3).toSeconds()*a}Zv(!0),this._timeline.forEachAtTime(t,r=>r.invoke(e)),Zv(!1)}schedule(e,t){const r=new cc(this,{callback:e,time:new Tf(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,t,r,a=1/0){const o=new Og(this,{callback:e,duration:new Ya(this.context,a).toTicks(),interval:new Ya(this.context,t).toTicks(),time:new Tf(this.context,r).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(e,t){const r=new cc(this,{callback:e,once:!0,time:new Tf(this.context,t).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(t,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,t)=>{t=new fh(this.context,t).toSeconds(),this.emit("start",e,t)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){this.context.resume();let r;return tn(t)&&(r=this.toTicks(t)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Hs(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Ya(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Ya(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new fh(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new fh(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),r=this._clock.frequency.timeToTicks(e,t);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(t),a=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,t),o=t+a;this.emit("stop",o),this._clock.setTicksAtTime(e,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const t=this.now(),r=this.getTicksAtTime(t),a=e-r%e;return this._clock.nextTickTime(a,t)}}syncSignal(e,t){const r=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(r)/this.PPQ),h=[];if(e.units==="time"){const f=.015625/o,d=new Zi(f),m=new h1(-1),b=new Zi(f);a.chain(d,m,b),a=b,o=1/o,h=[d,m,b]}t||(e.getValueAtTime(r)!==0?t=e.getValueAtTime(r)/o:t=0);const c=new Zi(t);return a.connect(c),c.connect(e._param),h.push(c),this._syncedSignals.push({initial:e.value,nodes:h,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const r=this._syncedSignals[t];r.signal===e&&(r.nodes.forEach(a=>a.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),bg(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}ed.mixin(f1);o1(i=>{i.transport=new f1({context:i})});l1(i=>{i.transport.dispose()});class Br extends zt{constructor(e){super(e),this.input=void 0,this._state=new wg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Un,this._syncedStop=Un,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Lh({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,li(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(zt.getDefaults(),{mute:!1,onstop:Un,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,r){let a=fa(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")It(Sh(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,t,r);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(mh(t,0)),o.duration=r?this.toSeconds(r):void 0);const h=this.context.transport.schedule(c=>{this._start(c,t,r)},a);this._scheduled.push(h),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else M_(this.context),this._start(a,t,r);return this}stop(e){let t=fa(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),this._state.getValueAtTime(t)==="started"||tn(this._state.getNextState("started",t))){if(this.log("stop",t),!this._synced)this._stop(t);else{const r=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(r)}this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,t,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(Sh(t,0)){const r=this._state.get(t);if(r&&r.state==="started"&&r.time!==t){const a=t-this.toSeconds(r.time);let o;r.duration&&(o=this.toSeconds(r.duration)-a),this._start(e,this.toSeconds(r.offset)+a,o)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(t)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Un,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class d1 extends Ah{constructor(){const e=jt(d1.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Oh(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Zn({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new si(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ah.getDefaults(),{url:new si,loop:!1,loopEnd:0,loopStart:0,onload:Un,onerror:Un,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,r,a=1){It(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(e);this._startGain(o,a),this.loop?t=mh(t,this.loopStart):t=mh(t,0);let h=Math.max(this.toSeconds(t),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,f=this.toSeconds(this.loopStart),d=c-f;D0(h,c)&&(h=(h-f)%d+f),Va(h,this.buffer.duration)&&(h=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Bp(h,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,h)),tn(r)){let c=this.toSeconds(r);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function cu(i,e){return Xi(this,void 0,void 0,function*(){const t=e/i.context.sampleRate,r=new _g(1,t,i.context.sampleRate);return new i.constructor(Object.assign(i.get(),{frequency:2/t,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Lg extends Ah{constructor(){const e=jt(Lg.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Oh(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Zn({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Zn({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),li(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ah.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Wi extends Br{constructor(){const e=jt(Wi.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Kn({context:this.context,units:"frequency",value:e.frequency}),li(this,"frequency"),this.detune=new Kn({context:this.context,units:"cents",value:e.detune}),li(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Br.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),r=new Lg({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Wi._periodicWaveCache.find(t=>t.phase===this._phase&&kC(t.partials,this._partials));{const e=Wi._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&t)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(tn(r)){const{partials:a,wave:o}=r;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(e,this._phase),h=this.context.createPeriodicWave(a,o);this._wave=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Wi._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Wi._periodicWaveCache.length>100&&Wi._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){ml(e,0);let t=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(t=r[1]),this._type!=="custom")e===0?this.type=t:this.type=t+e.toString();else{const a=new Float32Array(e);this._partials.forEach((o,h)=>a[h]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(e,t){let a=2048;const o=new Float32Array(a),h=new Float32Array(a);let c=1;if(e==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,h]}else{const f=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);f?(c=parseInt(f[2],10)+1,this._partialCount=parseInt(f[2],10),e=f[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let f=1;f<a;++f){const d=2/(f*Math.PI);let m;switch(e){case"sine":m=f<=c?1:0,this._partials[f-1]=m;break;case"square":m=f&1?2*d:0,this._partials[f-1]=m;break;case"sawtooth":m=d*(f&1?1:-1),this._partials[f-1]=m;break;case"triangle":f&1?m=2*(d*d)*(f-1>>1&1?-1:1):m=0,this._partials[f-1]=m;break;case"custom":m=this._partials[f-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}m!==0?(o[f]=-m*Math.sin(t*f),h[f]=m*Math.cos(t*f)):(o[f]=0,h[f]=0)}return[o,h]}_inverseFFT(e,t,r){let a=0;const o=e.length;for(let h=0;h<o;h++)a+=e[h]*Math.cos(h*r)+t[h]*Math.sin(h*r);return a}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let r=0;const a=Math.PI*2,o=32;for(let h=0;h<o;h++)r=Math.max(this._inverseFFT(e,t,h/o*a),r);return LC(-this._inverseFFT(e,t,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return Xi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Wi._periodicWaveCache=[];class G_ extends lc{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new td({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class gl extends Kn{constructor(){const e=jt(gl.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Zi({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Kn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class p1 extends Br{constructor(){const e=jt(p1.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new G_({context:this.context}),this._modulationNode=new Zi({context:this.context}),this._carrier=new Wi({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Wi({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new gl({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),li(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Xi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class m1 extends Br{constructor(){const e=jt(m1.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Zi({context:this.context,gain:0}),this._carrier=new Wi({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Kn({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Wi({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new gl({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new gl({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),li(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Xi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class nd extends Br{constructor(){const e=jt(nd.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Zi({context:this.context,gain:0}),this._thresh=new td({context:this.context,mapping:t=>t<=0?-1:1}),this.width=new Kn({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Wi({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),li(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Br.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Xi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class g1 extends Br{constructor(){const e=jt(g1.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Kn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Kn({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,li(this,["frequency","detune"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,r=e/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=t+r*o)}}get count(){return this._oscillators.length}set count(e){if(ml(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const r=new Wi({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:t===0?()=>this.onstop(this):Un});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[t]=r}this.spread=this._spread,this.state==="started"&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((t,r)=>t.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Xi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class v1 extends Br{constructor(){const e=jt(v1.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new gl({context:this.context,value:2}),this._pulse=new nd({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Wi({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),li(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Br.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Xi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Kv={am:p1,fat:g1,fm:m1,oscillator:Wi,pulse:nd,pwm:v1};class uc extends Br{constructor(){const e=jt(uc.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Kn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Kn({context:this.context,units:"cents",value:e.detune}),li(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Wi.getDefaults(),m1.getDefaults(),p1.getDefaults(),g1.getDefaults(),nd.getDefaults(),v1.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=Kv[e],r=this.now();if(this._oscillator){const a=this._oscillator;a.stop(r),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(t=this._oscillator.type),e==="fm"?this.type="fm"+t:e==="am"?this.type="am"+t:e==="fat"?this.type="fat"+t:e==="oscillator"?this.type=t:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,t){return e instanceof Kv[t]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&dl(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&dl(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&pl(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Xi(this,arguments,void 0,function*(e=1024){return cu(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Mg extends Kn{constructor(){super(jt(Mg.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new Zi({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,qf(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Kn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Dg extends lc{constructor(){const e=jt(Dg.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new gl({context:this.context,value:e.max-e.min}),this._add=this.output=new Mg({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(lc.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function Y_(i,e=1/0){const t=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){ml(o,i,e),t.set(this,o)}})}}function bl(i,e=1/0){const t=new WeakMap;return function(r,a){Reflect.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){return t.get(this)},set:function(o){ml(this.toSeconds(o),i,e),t.set(this,o)}})}}class y1 extends Br{constructor(){const e=jt(y1.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new si({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Br.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Un,onerror:Un,playbackRate:1,reverse:!1})}load(e){return Xi(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Un){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,r){return super.start(e,t,r),this}_start(e,t,r){this._loop?t=mh(t,this._loopStart):t=mh(t,0);const a=this.toSeconds(t),o=r;r=mh(r,Math.max(this._buffer.duration-a,0));let h=this.toSeconds(r);h=h/this._playbackRate,e=this.toSeconds(e);const c=new d1({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+h),this._state.setStateAtTime("stopped",e+h,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&fa(o)?c.start(e,a):c.start(e,a,h-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(t))}restart(e,t,r){return super.restart(e,t,r),this}_restart(e,t,r){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(e),this._start(e,t,r)}seek(e,t){const r=this.toSeconds(t);if(this._state.getValueAtTime(r)==="started"){const a=this.toSeconds(e);this._stop(r),this._start(r,a)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&ml(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&ml(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),r=this._state.getNextState("stopped",t);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(e,t)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}eo([bl(0)],y1.prototype,"fadeIn",void 0);eo([bl(0)],y1.prototype,"fadeOut",void 0);class Gs extends zt{constructor(){const e=jt(Gs.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Kn({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(zt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(pl(e))return e;{let r;for(r in sp)if(sp[r][t]===e)return r;return e}}_setCurve(e,t,r){if(pl(r)&&Reflect.has(sp,r)){const a=sp[r];eu(a)?e!=="_decayCurve"&&(this[e]=a[t]):this[e]=a}else if(Hs(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),h=this.getValueAtTime(e);if(h>0){const c=1/a;a=(1-h)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(t,a,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(t,a,e);else{this._sig.cancelAndHoldAtTime(e);let c=this._attackCurve;for(let f=1;f<c.length;f++)if(c[f-1]<=h&&h<=c[f]){c=this._attackCurve.slice(f),c[0]=h;break}this._sig.setValueCurveAtTime(c,e,a,t)}if(o&&this.sustain<1){const c=t*this.sustain,f=e+a;this.log("decay",f),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+f):this._sig.exponentialApproachValueAtTime(c,f,o)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(It(Hs(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,r=1){return t=this.toSeconds(t),this.triggerAttack(t,r),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,r=0){return Ag(this,e,t,r),this}asArray(){return Xi(this,arguments,void 0,function*(e=1024){const t=e/this.context.sampleRate,r=new _g(1,t,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),h=o*.1,c=o+h,f=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/c,decay:t*this.toSeconds(this.decay)/c,release:t*this.toSeconds(this.release)/c,context:r}));return f._sig.toDestination(),f.triggerAttackRelease(t*(a+h)/c,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}eo([bl(0)],Gs.prototype,"attack",void 0);eo([bl(0)],Gs.prototype,"decay",void 0);eo([Y_(0,1)],Gs.prototype,"sustain",void 0);eo([bl(0)],Gs.prototype,"release",void 0);const sp=(()=>{let e,t;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));const a=[],o=6.4;for(e=0;e<127;e++){t=e/127;const w=Math.sin(t*(Math.PI*2)*o-Math.PI/2)+1;a[e]=w/10+t*.83}a[127]=1;const h=[],c=5;for(e=0;e<128;e++)h[e]=Math.ceil(e/127*c)/c;const f=[];for(e=0;e<128;e++)t=e/127,f[e]=.5*(1-Math.cos(Math.PI*t));const d=[];for(e=0;e<128;e++){t=e/127;const w=Math.pow(t,3)*4+.2,y=Math.cos(w*Math.PI*2*t);d[e]=Math.abs(y*(1-t))}function m(w){const y=new Array(w.length);for(let N=0;N<w.length;N++)y[N]=1-w[N];return y}function b(w){return w.slice(0).reverse()}return{bounce:{In:m(d),Out:d},cosine:{In:r,Out:b(r)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:m(a)},sine:{In:f,Out:m(f)},step:{In:h,Out:m(h)}}})();class hc extends zt{constructor(){const e=jt(hc.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=t=>this._original_triggerRelease(t),this._volume=this.output=new Lh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,li(this,"volume")}static getDefaults(){return Object.assign(zt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const r=this["_original_"+e]=this[e];this[e]=(...a)=>{const o=a[t],h=this.context.transport.schedule(c=>{a[t]=c,r.apply(this,a)},o);this._scheduledEvents.push(h)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,r,a){const o=this.toSeconds(r),h=this.toSeconds(t);return this.triggerAttack(e,o,a),this.triggerRelease(o+h),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Xa extends hc{constructor(){const e=jt(Xa.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(hc.getDefaults(),{detune:0,onsilence:Un,portamento:0})}triggerAttack(e,t,r=1){this.log("triggerAttack",e,t,r);const a=this.toSeconds(t);return this._triggerEnvelopeAttack(a,r),this.setNote(e,a),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const r=this.toSeconds(t),a=e instanceof Us?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,r)}else this.frequency.setValueAtTime(a,r);return this}}eo([bl(0)],Xa.prototype,"portamento",void 0);class b1 extends Gs{constructor(){super(jt(b1.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Zi({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ua extends Xa{constructor(){const e=jt(ua.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new uc(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new b1(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),li(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Xa.getDefaults(),{envelope:Object.assign(Ha(Gs.getDefaults(),Object.keys(zt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ha(uc.getDefaults(),[...Object.keys(Br.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class zf extends Xa{constructor(){const e=jt(zf.getDefaults(),arguments);super(e),this.name="ModulationSynth",this._carrier=new ua({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new ua({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Kn({context:this.context,units:"frequency"}),this.detune=new Kn({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new gl({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new Zi({context:this.context,gain:0}),li(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Xa.getDefaults(),{harmonicity:3,oscillator:Object.assign(Ha(uc.getDefaults(),[...Object.keys(Br.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Ha(Gs.getDefaults(),Object.keys(zt.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Ha(uc.getDefaults(),[...Object.keys(Br.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Ha(Gs.getDefaults(),Object.keys(zt.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class zp extends zf{constructor(){super(jt(zp.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new G_({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Fp extends zt{constructor(){const e=jt(Fp.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Zn({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Zn({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Zn({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Zn({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(zt.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){It(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let h=0;h<e;h++){const f=Math.pow(h/e,2)*19980+20;t[h]=f}const r=new Float32Array(e),a=new Float32Array(e),o=this.context.createBiquadFilter();return o.type=this.type,o.Q.value=this.Q.value,o.frequency.value=this.frequency.value,o.gain.value=this.gain.value,o.getFrequencyResponse(t,r,a),r}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Pp extends zt{constructor(){const e=jt(Pp.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new Zi({context:this.context}),this.output=new Zi({context:this.context}),this._filters=[],this._filters=[],this.Q=new Kn({context:this.context,units:"positive",value:e.Q}),this.frequency=new Kn({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Kn({context:this.context,units:"cents",value:e.detune}),this.gain=new Kn({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,li(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(zt.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){It(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(r=>r.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const t=dl(e)?e:parseInt(e,10),r=[-12,-24,-48,-96];let a=r.indexOf(t);It(a!==-1,`rolloff can only be ${r.join(", ")}`),a+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach(o=>o.disconnect()),this._filters=new Array(a);for(let o=0;o<a;o++){const h=new Fp({context:this.context});h.type=this._type,this.frequency.connect(h.frequency),this.detune.connect(h.detune),this.Q.connect(h.Q),this.gain.connect(h.gain),this._filters[o]=h}this._internalChannels=this._filters,qf(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new Fp({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),r=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{t.getFrequencyResponse(e).forEach((o,h)=>r[h]*=o)}),t.dispose(),r}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),bg(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Up extends Gs{constructor(){const e=jt(Up.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="FrequencyEnvelope",this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new h1({context:this.context,value:e.exponent}),this._scale=this.output=new Dg({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Gs.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);ml(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Vp extends Xa{constructor(){const e=jt(Vp.getDefaults(),arguments);super(e),this.name="MonoSynth",this.oscillator=new uc(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Pp(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Up(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new b1(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),li(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Xa.getDefaults(),{envelope:Object.assign(Ha(Gs.getDefaults(),Object.keys(zt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Ha(Pp.getDefaults(),Object.keys(zt.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Ha(Up.getDefaults(),Object.keys(zt.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Ha(uc.getDefaults(),Object.keys(Br.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+a)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Ef extends zf{constructor(){const e=jt(Ef.getDefaults(),arguments);super(e),this.name="FMSynth",this.modulationIndex=new gl({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(zf.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}class _1 extends ua{constructor(){const e=jt(_1.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,li(this,["oscillator","envelope"])}static getDefaults(){return tu(Xa.getDefaults(),ua.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const r=this.toSeconds(t),a=this.toFrequency(e instanceof Us?e.toFrequency():e),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,r),this.oscillator.frequency.exponentialRampToValueAtTime(a,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}eo([Y_(0)],_1.prototype,"octaves",void 0);eo([bl(0)],_1.prototype,"pitchDecay",void 0);const W_=new Set;function jg(i){W_.add(i)}function X_(i,e){const t=`registerProcessor("${i}", ${e})`;W_.add(t)}const XC=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;jg(XC);const ZC=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;jg(ZC);const KC=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;jg(KC);const QC="feedback-comb-filter",JC=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;X_(QC,JC);class gs extends hc{constructor(){const e=jt(gs.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),It(!dl(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const r=this._voices.indexOf(this._dummyVoice);this._voices.splice(r,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(hc.getDefaults(),{maxPolyphony:32,options:{},voice:ua})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex(r=>r.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return It(e instanceof Xa,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else a1("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,r){e.forEach(a=>{const o=new qp(this.context,a).toMidi(),h=this._getNextAvailableVoice();h&&(h.triggerAttack(a,t,r),this._activeVoices.push({midi:o,voice:h,released:!1}),this.log("triggerAttack",a,t))})}_triggerRelease(e,t){e.forEach(r=>{const a=new qp(this.context,r).toMidi(),o=this._activeVoices.find(({midi:h,released:c})=>h===a&&!c);o&&(o.voice.triggerRelease(t),o.released=!0,this.log("triggerRelease",r,t))})}_scheduleEvent(e,t,r,a){It(!this.disposed,"Synth was already disposed"),r<=this.now()?e==="attack"?this._triggerAttack(t,r,a):this._triggerRelease(t,r):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,t,r,a)},r-this.now())}triggerAttack(e,t,r){Array.isArray(e)||(e=[e]);const a=this.toSeconds(t);return this._scheduleEvent("attack",e,a,r),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const r=this.toSeconds(t);return this._scheduleEvent("release",e,r),this}triggerAttackRelease(e,t,r,a){const o=this.toSeconds(r);if(this.triggerAttack(e,o,a),Hs(t)){It(Hs(e),"If the duration is an array, the notes must also be an array"),e=e;for(let h=0;h<e.length;h++){const c=t[Math.min(h,t.length-1)],f=this.toSeconds(c);It(f>0,"The duration must be greater than 0"),this.triggerRelease(e[h],o+f)}}else{const h=this.toSeconds(t);It(h>0,"The duration must be greater than 0"),this.triggerRelease(e,o+h)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const t=Ha(e,["onsilence","context"]);return this.options=tu(this.options,t),this._voices.forEach(r=>r.set(t)),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach(({voice:r})=>{r.triggerRelease(t)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class id extends hc{constructor(){const e=jt(id.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach(r=>{const a=parseInt(r,10);if(It(rp(r)||dl(a)&&isFinite(a),`url key is neither a note or midi pitch: ${r}`),rp(r)){const o=new Us(this.context,r).toMidi();t[o]=e.urls[r]}else dl(a)&&isFinite(a)&&(t[a]=e.urls[a])}),this._buffers=new kg({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(hc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Un,onerror:Un,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,r=1){return this.log("triggerAttack",e,t,r),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=V_(new Us(this.context,a).toFrequency()),h=Math.round(o),c=o-h,f=this._findClosest(h),d=h-f,m=this._buffers.get(d),b=U_(f+c),w=new d1({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:b}).connect(this.output);w.start(t,0,m.duration/b,r),Hs(this._activeSources.get(h))||this._activeSources.set(h,[]),this._activeSources.get(h).push(w),w.onended=()=>{if(this._activeSources&&this._activeSources.has(h)){const y=this._activeSources.get(h),N=y.indexOf(w);N!==-1&&y.splice(N,1)}}}),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach(r=>{const a=new Us(this.context,r).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);t=this.toSeconds(t),o.forEach(h=>{h.stop(t)}),this._activeSources.set(a,[])}}),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(t)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,r,a=1){const o=this.toSeconds(r);return this.triggerAttack(e,o,a),Hs(t)?(It(Hs(e),"notes must be an array when duration is array"),e.forEach((h,c)=>{const f=t[Math.min(c,t.length-1)];this.triggerRelease(h,o+this.toSeconds(f))})):this.triggerRelease(e,o+this.toSeconds(t)),this}add(e,t,r){if(It(rp(e)||isFinite(e),`note must be a pitch or midi: ${e}`),rp(e)){const a=new Us(this.context,e).toMidi();this._buffers.add(a,t,r)}else this._buffers.add(e,t,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}eo([bl(0)],id.prototype,"attack",void 0);eo([bl(0)],id.prototype,"release",void 0);class Rg extends zt{constructor(){const e=jt(Rg.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Zn({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",li(this,"pan")}static getDefaults(){return Object.assign(zt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const $C="bit-crusher",eT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;X_($C,eT);class Yi extends zt{constructor(){const e=jt(Yi.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Zi({context:this.context}),Yi._allSolos.has(this.context)||Yi._allSolos.set(this.context,new Set),Yi._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(zt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Yi._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Yi._soloed.has(this.context)||Yi._soloed.set(this.context,new Set),Yi._soloed.get(this.context).add(this)}_removeSolo(){Yi._soloed.has(this.context)&&Yi._soloed.get(this.context).delete(this)}_isSoloed(){return Yi._soloed.has(this.context)&&Yi._soloed.get(this.context).has(this)}_noSolos(){return!Yi._soloed.has(this.context)||Yi._soloed.has(this.context)&&Yi._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Yi._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Yi._allSolos=new Map;Yi._soloed=new Map;class Ig extends zt{constructor(){const e=jt(Ig.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Rg({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Lh({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,li(this,["pan","volume"])}static getDefaults(){return Object.assign(zt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class dh extends zt{constructor(){const e=jt(dh.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Yi({solo:e.solo,context:this.context}),this._panVol=this.output=new Ig({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),li(this,["pan","volume"])}static getDefaults(){return Object.assign(zt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return dh.buses.has(e)||dh.buses.set(e,new Zi({context:this.context})),dh.buses.get(e)}send(e,t=0){const r=this._getBus(e),a=new Zi({context:this.context,units:"decibels",gain:t});return this.connect(a),a.connect(r),a}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}dh.buses=new Map;Ga().transport;const Z_=Ga().destination;Ga().destination;Ga().listener;Ga().draw;const tT=Ga();function nT(){return si.loaded()}let Ff={piano:null,epiano:null,guitar:null,organ:null,synth:null,strings:null,pad:null,brass:null,marimba:null,bell:null,lead:null,bass:null,choir:null},_p="piano",xf=null;const iT=i=>{i in Ff&&(_p=i)},rT=i=>{const e=i<=0?-1/0:20*Math.log10(i);console.log(`Setting volume: ${i} -> ${e} db`);try{Z_.volume.rampTo(e,.1)}catch(t){console.error("Error setting volume:",t)}},sT=i=>{console.log(`Setting mute: ${i}`),Z_.mute=i},Bg=async()=>{if(xf)return xf;xf=(async()=>{const i="https://tonejs.github.io/audio/salamander/",e=(t,r)=>{if(!Ff[t])try{const a=r();a&&(Ff[t]=a,console.log(`Instrument "${t}" ready`))}catch(a){console.error(`Failed to init instrument "${t}"`,a)}};e("piano",()=>new id({urls:{C4:"C4.mp3","D#4":"Ds4.mp3","F#4":"Fs4.mp3",A4:"A4.mp3"},release:1,baseUrl:i}).toDestination()),e("guitar",()=>new gs(ua,{oscillator:{type:"triangle"},envelope:{attack:.002,decay:.25,sustain:.3,release:1.2},filter:{type:"lowpass",frequency:2400,rolloff:-12,Q:1.2},filterEnvelope:{attack:.002,decay:.25,sustain:.2,release:.8,baseFrequency:800,octaves:2.5}}).toDestination()),e("organ",()=>new gs(zp,{harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("synth",()=>new gs(Ef,{harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}}).toDestination()),e("epiano",()=>new gs(zp,{harmonicity:2,oscillator:{type:"triangle"},envelope:{attack:.01,decay:.2,sustain:.7,release:.8},modulation:{type:"sine"},modulationEnvelope:{attack:.2,decay:.1,sustain:.6,release:.6}}).toDestination()),e("strings",()=>new gs(ua,{oscillator:{type:"sawtooth"},envelope:{attack:.2,decay:.2,sustain:.8,release:1.2}}).toDestination()),e("pad",()=>new gs(Ef,{harmonicity:1.5,modulationIndex:8,oscillator:{type:"sine"},envelope:{attack:.5,decay:.3,sustain:.9,release:1.5},modulation:{type:"triangle"},modulationEnvelope:{attack:.8,decay:.3,sustain:.8,release:1.2}}).toDestination()),e("brass",()=>new gs(Vp,{oscillator:{type:"square"},filter:{Q:2,type:"lowpass",rolloff:-12},envelope:{attack:.02,decay:.25,sustain:.6,release:.7},filterEnvelope:{attack:.01,decay:.2,sustain:.8,release:.4,baseFrequency:200,octaves:2.5}}).toDestination()),e("marimba",()=>new gs(ua,{oscillator:{type:"triangle"},envelope:{attack:.001,decay:.35,sustain:0,release:.6}}).toDestination()),e("bell",()=>new gs(Ef,{harmonicity:8,modulationIndex:2,oscillator:{type:"sine"},envelope:{attack:.01,decay:1.2,sustain:0,release:1.2},modulation:{type:"square"},modulationEnvelope:{attack:.01,decay:.5,sustain:0,release:1.2}}).toDestination()),e("lead",()=>new gs(ua,{oscillator:{type:"sawtooth"},envelope:{attack:.005,decay:.15,sustain:.6,release:.35}}).toDestination()),e("bass",()=>new gs(Vp,{oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:2},envelope:{attack:.01,decay:.2,sustain:.6,release:.4},filterEnvelope:{attack:.001,decay:.15,sustain:.4,release:.2,baseFrequency:80,octaves:3}}).toDestination()),e("choir",()=>new gs(ua,{oscillator:{type:"sine"},envelope:{attack:.8,decay:.3,sustain:.9,release:1.8}}).toDestination()),await nT(),console.log("Audio initialized")})();try{await xf}catch(i){xf=null,console.error("Failed to initialize audio",i)}},Qv=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],K_=async(i,e="1n")=>{if(tT.state!=="running"&&await P_(),await Bg(),!i||i.length===0)return;const t=i[0],r=Qv.indexOf(t.replace(/\d/,"")),a=i.map((h,c)=>{if(h.match(/\d/))return h;const f=h,d=Qv.indexOf(f);if(c===0)return`${f}3`;let m=3;return(d<r||d-r>6)&&(m=4),c>=4&&(m=4),c>=5&&(m=5),`${f}${m}`});let o=Ff[_p];if(o||(console.warn(`Instrument "${_p}" not ready, falling back to piano`),o=Ff.piano),!!o)try{o.triggerAttackRelease(a,e)}catch(h){console.error(`Failed to play on "${_p}"`,h)}},aT=({zoomScale:i,zoomOriginY:e,onZoomChange:t})=>{const{selectedKey:r,setKey:a,wheelRotation:o,wheelMode:h,rotateWheel:c,toggleWheelMode:f,addChordToSlot:d,selectedSectionId:m,selectedSlotId:b,currentSong:w,setSelectedChord:y,selectedChord:N,selectNextSlotAfter:A,setSelectedSlot:E}=ha(),T=h==="rotating"?o:0,U=Cf.indexOf(r),P=be.useRef(null),[F,q]=be.useState(null);be.useEffect(()=>{const Ie=N?.segmentId??null;q(Ie)},[N]);const te=be.useRef(null),G=be.useRef(null),[D,I]=be.useState(!1),Z=be.useRef(0),L=be.useRef(0),j=be.useCallback((Ie,ze)=>{if(!G.current)return 0;const Ge=G.current.getBoundingClientRect(),rt=Ge.left+Ge.width/2,at=Ge.top+Ge.height/2,Qe=Ie-rt,ht=ze-at;return Math.atan2(ht,Qe)*(180/Math.PI)},[]),$=be.useCallback(Ie=>{const ze=Cf.indexOf(r),Ge=Ie==="cw"?(ze+1)%12:(ze-1+12)%12;a(Cf[Ge]),c(Ie)},[r,a,c]),ee=be.useCallback(Ie=>{if(!G.current)return;const ze=G.current.getBoundingClientRect(),Ge=ze.width/2,rt=ze.height/2,at=Ie.clientX-ze.left-Ge,Qe=Ie.clientY-ze.top-rt,ht=Math.sqrt(at*at+Qe*Qe),ot=ze.width/600*70;ht>ot&&(I(!0),Z.current=j(Ie.clientX,Ie.clientY),L.current=o,Ie.preventDefault())},[j,o,h]),ue=be.useCallback(Ie=>{if(!D)return;const ze=j(Ie.clientX,Ie.clientY),Ge=ze-Z.current;if(Math.abs(Ge)>=15){const rt=Math.round(Ge/30);if(rt!==0){let at;h==="fixed"?at=rt>0?"cw":"ccw":at=rt>0?"ccw":"cw";const Qe=Math.abs(rt);for(let ht=0;ht<Qe;ht++)$(at);Z.current=ze}}},[D,j,$,h]),Q=be.useCallback(()=>{I(!1)},[]);be.useEffect(()=>{if(D)return document.addEventListener("mousemove",ue),document.addEventListener("mouseup",Q),()=>{document.removeEventListener("mousemove",ue),document.removeEventListener("mouseup",Q)}},[D,ue,Q]);const re=be.useCallback(Ie=>{if(Ie.touches.length===2){const ze=Ie.touches[0].clientX-Ie.touches[1].clientX,Ge=Ie.touches[0].clientY-Ie.touches[1].clientY;P.current=Math.sqrt(ze*ze+Ge*Ge)}},[]),ce=be.useCallback(Ie=>{if(Ie.touches.length===2&&P.current!==null){Ie.preventDefault();const ze=Ie.touches[0].clientX-Ie.touches[1].clientX,Ge=Ie.touches[0].clientY-Ie.touches[1].clientY,rt=Math.sqrt(ze*ze+Ge*Ge),at=rt/P.current;P.current=rt;const Qe=Math.max(1,Math.min(2.5,i*at)),ht=Qe>1.3?38:50;t(Qe,ht)}},[i,t]),de=be.useCallback(()=>{P.current=null},[]),Ae=be.useCallback(Ie=>{if(Ie.ctrlKey||Ie.metaKey){Ie.preventDefault();const ze=Ie.deltaY>0?.9:1.1,Ge=Math.max(1,Math.min(2.5,i*ze)),rt=Ge>1.3?38:50;t(Ge,rt)}},[i,t]),Y=K0(),C=600,z=C/2,X=C/2,ie=60,ae=ie+8,fe=145,pe=fe,xe=210,Ce=xe,He=250,Ze=be.useMemo(()=>Y3(r),[r]),Je=be.useMemo(()=>Ze.sharps>0?`${Ze.sharps}`:Ze.flats>0?`${Ze.flats}`:"",[Ze]),it=be.useRef(0),H=Ie=>{const ze=Ie,Ge=Date.now();Ge-it.current<300||(it.current=Ge,K_(Ie.notes),q(ze.segmentId??null),y(Ie))},Me=Ie=>{const ze=Ie;let Ge=null,rt=null;if(m&&b)Ge=m,rt=b;else if(m){const at=w.sections.find(Qe=>Qe.id===m);if(at)for(const Qe of at.measures){for(const ht of Qe.beats)if(!ht.chord){Ge=at.id,rt=ht.id;break}if(rt)break}}if(!Ge||!rt)for(const at of w.sections){for(const Qe of at.measures){for(const ht of Qe.beats)if(!ht.chord){Ge=at.id,rt=ht.id;break}if(rt)break}if(rt)break}Ge&&rt&&(d(Ie,Ge,rt),A(Ge,rt)||(E(Ge,rt),q(ze.segmentId??null),y(Ie)))},st=Ie=>(Ie-U+12)%12,$e=(Ie,ze)=>{const Ge=st(Ie);return ze==="major"?Ge===0||Ge===1||Ge===11:ze==="ii"||ze==="iii"||ze==="dim"?Ge===0:!1},ge=Ie=>st(Ie)===1,qe=Ie=>{const ze=st(Ie);return ze===2||ze===4},Ye=(Ie,ze)=>{const Ge=st(Ie);if(ze==="major"){if(Ge===0)return"I";if(Ge===1)return"V";if(Ge===11)return"IV";if(Ge===2)return"II";if(Ge===4)return"III"}if(ze==="ii"){if(Ge===0)return"ii";if(Ge===1)return"vi"}return ze==="iii"&&Ge===0?"iii":ze==="dim"&&Ge===0?"vii":""},et=(Ie,ze)=>{const Ge=st(Ie);if(ze==="major"){if(Ge===0)return"maj7, maj9, maj13 or 6";if(Ge===1)return"7, 9, 11, sus4, 13";if(Ge===11)return"maj7, maj9, maj13 or 6";if(Ge===2||Ge===4)return"7, sus4"}if(ze==="ii"){if(Ge===0)return"m7, m9, m11, m6";if(Ge===1)return"m7, m9, m11"}return ze==="iii"&&Ge===0?"m7":ze==="dim"&&Ge===0?"m75 (7)":""},nt=Ie=>{if(F)return F===Ie.segmentId;const ze=N?.segmentId;return ze?ze===Ie.segmentId:!1};return M.jsx("div",{ref:te,className:"relative flex flex-col items-center justify-center w-[600px] h-[600px] aspect-square p-2 touch-none",onTouchStart:re,onTouchMove:ce,onTouchEnd:de,onWheel:Ae,children:M.jsx("div",{className:"w-full h-full transition-transform duration-150 ease-out overflow-hidden",style:{transform:`scale(${i})`,transformOrigin:`center ${e}%`},children:M.jsxs("svg",{ref:G,width:"100%",height:"100%",viewBox:`0 0 ${C} ${C}`,className:`w-full h-full select-none ${D?"cursor-grabbing":"cursor-grab"}`,onMouseDown:ee,children:[M.jsxs("defs",{children:[M.jsxs("filter",{id:"glow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[M.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),M.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]}),M.jsx("filter",{id:"segment-glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:M.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"4",floodColor:"#ffffff",floodOpacity:"0.9"})})]}),M.jsx("g",{style:{transform:`rotate(${T}deg)`,transformOrigin:`${z}px ${X}px`,transition:"transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)"},children:V3.map((Ie,ze)=>{const rt=ze*30-15,at=rt+30,Qe=Y[Ie.major]||Y.C,ht=Ie.ii.replace("m",""),ot=Ie.iii.replace("m",""),Nn=Ie.diminished.replace("",""),Ft=$e(ze,"major"),wt=qe(ze),At=$e(ze,"ii")||ge(ze),Pt=$e(ze,"iii"),bt=$e(ze,"dim"),on={root:Ie.major,quality:"major",numeral:Ye(ze,"major"),notes:ch(Ie.major,"major"),symbol:Ie.major,segmentId:`major-${ze}`,ringType:"major",positionIndex:ze},Nt={root:ht,quality:"minor",numeral:Ye(ze,"ii"),notes:ch(ht,"minor"),symbol:Ie.ii,segmentId:`ii-${ze}`,ringType:"minor",positionIndex:ze},kt={root:ot,quality:"minor",numeral:Ye(ze,"iii"),notes:ch(ot,"minor"),symbol:Ie.iii,segmentId:`iii-${ze}`,ringType:"minor",positionIndex:ze},ln={root:Nn,quality:"diminished",numeral:Ye(ze,"dim"),notes:ch(Nn,"diminished"),symbol:Ie.diminished,segmentId:`dim-${ze}`,ringType:"diminished",positionIndex:ze},yt=15,Ot=rt+-7.5,Jn=Ot+yt,cn=Jn,Mn=cn+yt,Dn=15,ft=rt+(30-Dn)/2,_n=ft+Dn,mi=Ie.major,jn=Ie.ii,Hn=Ie.iii,un=Ie.diminished;return M.jsxs("g",{children:[M.jsx(tp,{cx:z,cy:X,innerRadius:ae,outerRadius:fe,startAngle:rt,endAngle:at,color:Qe,label:mi,chord:on,isSelected:nt(on),isDiatonic:Ft,isSecondary:wt,onClick:H,onDoubleClick:Me,ringType:"major",wheelRotation:T,romanNumeral:Ft||wt?Ye(ze,"major"):void 0,voicingSuggestion:Ft||wt?et(ze,"major"):void 0,segmentId:`major-${ze}`}),M.jsx(tp,{cx:z,cy:X,innerRadius:pe,outerRadius:xe,startAngle:Ot,endAngle:Jn,color:Qe,label:jn,chord:Nt,isSelected:nt(Nt),isDiatonic:At,onClick:H,onDoubleClick:Me,ringType:"minor",wheelRotation:T,romanNumeral:At?Ye(ze,"ii"):void 0,voicingSuggestion:At?et(ze,"ii"):void 0,segmentId:`ii-${ze}`}),M.jsx(tp,{cx:z,cy:X,innerRadius:pe,outerRadius:xe,startAngle:cn,endAngle:Mn,color:Qe,label:Hn,chord:kt,isSelected:nt(kt),isDiatonic:Pt,onClick:H,onDoubleClick:Me,ringType:"minor",wheelRotation:T,romanNumeral:Pt?Ye(ze,"iii"):void 0,voicingSuggestion:Pt?et(ze,"iii"):void 0,segmentId:`iii-${ze}`}),M.jsx(tp,{cx:z,cy:X,innerRadius:Ce,outerRadius:He,startAngle:ft,endAngle:_n,color:Qe,label:un,chord:ln,isSelected:nt(ln),isDiatonic:bt,onClick:H,onDoubleClick:Me,ringType:"diminished",wheelRotation:T,romanNumeral:bt?Ye(ze,"dim"):void 0,voicingSuggestion:bt?et(ze,"dim"):void 0,segmentId:`dim-${ze}`})]},Ie.major)})}),M.jsx("circle",{cx:z,cy:X,r:ie,fill:"#1a1a24",stroke:"#3a3a4a",strokeWidth:"2"}),M.jsx("text",{x:z,y:X-22,textAnchor:"middle",fill:"#6366f1",fontSize:"9",fontWeight:"bold",letterSpacing:"2",children:"KEY"}),M.jsx("text",{x:z,y:X+6,textAnchor:"middle",fill:"white",fontSize:"26",fontWeight:"bold",children:r}),M.jsx("text",{x:z,y:X+24,textAnchor:"middle",fill:"#9898a6",fontSize:"11",children:Je||"No /"}),M.jsxs("g",{transform:`translate(${z-22}, ${X+38})`,onClick:()=>$("ccw"),className:"cursor-pointer",style:{pointerEvents:"all"},children:[M.jsx("circle",{r:"9",fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors"}),M.jsx("g",{transform:"translate(-4.5, -4.5)",children:M.jsx(Ib,{size:9,color:"#9898a6"})})]}),M.jsxs("g",{transform:`translate(${z+22}, ${X+38})`,onClick:()=>$("cw"),className:"cursor-pointer",style:{pointerEvents:"all"},children:[M.jsx("circle",{r:"9",fill:"#282833",className:"hover:fill-[#3a3a4a] transition-colors"}),M.jsx("g",{transform:"translate(-4.5, -4.5)",children:M.jsx(Bb,{size:9,color:"#9898a6"})})]}),M.jsxs("g",{transform:`translate(${z}, ${X+52})`,onClick:f,className:"cursor-pointer",style:{pointerEvents:"all"},children:[M.jsx("rect",{x:"-18",y:"-6",width:"36",height:"12",rx:"6",fill:h==="fixed"?"#6366f1":"#282833",className:"hover:brightness-110 transition-all"}),h==="fixed"?M.jsx("g",{transform:"translate(-4, -4)",children:M.jsx(Ev,{size:8,color:"white"})}):M.jsx("g",{transform:"translate(-4, -4) rotate(-35 4 4)",children:M.jsx(Ev,{size:8,color:"#ef4444"})})]})]})})})};var Nf=Lb();function oT(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return be.useMemo(()=>r=>{e.forEach(a=>a(r))},e)}const x1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mh(i){const e=Object.prototype.toString.call(i);return e==="[object Window]"||e==="[object global]"}function qg(i){return"nodeType"in i}function Qr(i){var e,t;return i?Mh(i)?i:qg(i)&&(e=(t=i.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function zg(i){const{Document:e}=Qr(i);return i instanceof e}function rd(i){return Mh(i)?!1:i instanceof Qr(i).HTMLElement}function Q_(i){return i instanceof Qr(i).SVGElement}function Dh(i){return i?Mh(i)?i.document:qg(i)?zg(i)?i:rd(i)||Q_(i)?i.ownerDocument:document:document:document}const Za=x1?be.useLayoutEffect:be.useEffect;function w1(i){const e=be.useRef(i);return Za(()=>{e.current=i}),be.useCallback(function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e.current==null?void 0:e.current(...r)},[])}function lT(){const i=be.useRef(null),e=be.useCallback((r,a)=>{i.current=setInterval(r,a)},[]),t=be.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[e,t]}function Pf(i,e){e===void 0&&(e=[i]);const t=be.useRef(i);return Za(()=>{t.current!==i&&(t.current=i)},e),t}function sd(i,e){const t=be.useRef();return be.useMemo(()=>{const r=i(t.current);return t.current=r,r},[...e])}function Hp(i){const e=w1(i),t=be.useRef(null),r=be.useCallback(a=>{a!==t.current&&e?.(a,t.current),t.current=a},[]);return[t,r]}function Gp(i){const e=be.useRef();return be.useEffect(()=>{e.current=i},[i]),e.current}let Xm={};function ad(i,e){return be.useMemo(()=>{if(e)return e;const t=Xm[i]==null?0:Xm[i]+1;return Xm[i]=t,i+"-"+t},[i,e])}function J_(i){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return r.reduce((o,h)=>{const c=Object.entries(h);for(const[f,d]of c){const m=o[f];m!=null&&(o[f]=m+i*d)}return o},{...e})}}const gh=J_(1),Uf=J_(-1);function cT(i){return"clientX"in i&&"clientY"in i}function S1(i){if(!i)return!1;const{KeyboardEvent:e}=Qr(i.target);return e&&i instanceof e}function uT(i){if(!i)return!1;const{TouchEvent:e}=Qr(i.target);return e&&i instanceof e}function Yp(i){if(uT(i)){if(i.touches&&i.touches.length){const{clientX:e,clientY:t}=i.touches[0];return{x:e,y:t}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:e,clientY:t}=i.changedTouches[0];return{x:e,y:t}}}return cT(i)?{x:i.clientX,y:i.clientY}:null}const fc=Object.freeze({Translate:{toString(i){if(!i)return;const{x:e,y:t}=i;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:e,scaleY:t}=i;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(i){if(i)return[fc.Translate.toString(i),fc.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:e,duration:t,easing:r}=i;return e+" "+t+"ms "+r}}}),Jv="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function hT(i){return i.matches(Jv)?i:i.querySelector(Jv)}const fT={display:"none"};function dT(i){let{id:e,value:t}=i;return An.createElement("div",{id:e,style:fT},t)}function pT(i){let{id:e,announcement:t,ariaLiveType:r="assertive"}=i;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return An.createElement("div",{id:e,style:a,role:"status","aria-live":r,"aria-atomic":!0},t)}function mT(){const[i,e]=be.useState("");return{announce:be.useCallback(r=>{r!=null&&e(r)},[]),announcement:i}}const $_=be.createContext(null);function ex(i){const e=be.useContext($_);be.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(i)},[i,e])}function gT(){const[i]=be.useState(()=>new Set),e=be.useCallback(r=>(i.add(r),()=>i.delete(r)),[i]);return[be.useCallback(r=>{let{type:a,event:o}=r;i.forEach(h=>{var c;return(c=h[a])==null?void 0:c.call(h,o)})},[i]),e]}const vT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},yT={onDragStart(i){let{active:e}=i;return"Picked up draggable item "+e.id+"."},onDragOver(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(i){let{active:e,over:t}=i;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(i){let{active:e}=i;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function bT(i){let{announcements:e=yT,container:t,hiddenTextDescribedById:r,screenReaderInstructions:a=vT}=i;const{announce:o,announcement:h}=mT(),c=ad("DndLiveRegion"),[f,d]=be.useState(!1);if(be.useEffect(()=>{d(!0)},[]),ex(be.useMemo(()=>({onDragStart(b){let{active:w}=b;o(e.onDragStart({active:w}))},onDragMove(b){let{active:w,over:y}=b;e.onDragMove&&o(e.onDragMove({active:w,over:y}))},onDragOver(b){let{active:w,over:y}=b;o(e.onDragOver({active:w,over:y}))},onDragEnd(b){let{active:w,over:y}=b;o(e.onDragEnd({active:w,over:y}))},onDragCancel(b){let{active:w,over:y}=b;o(e.onDragCancel({active:w,over:y}))}}),[o,e])),!f)return null;const m=An.createElement(An.Fragment,null,An.createElement(dT,{id:r,value:a.draggable}),An.createElement(pT,{id:c,announcement:h}));return t?Nf.createPortal(m,t):m}var sr;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(sr||(sr={}));function Wp(){}function $v(i,e){return be.useMemo(()=>({sensor:i,options:e??{}}),[i,e])}function _T(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return be.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Ka=Object.freeze({x:0,y:0});function tx(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function xT(i,e){const t=Yp(i);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function nx(i,e){let{data:{value:t}}=i,{data:{value:r}}=e;return t-r}function wT(i,e){let{data:{value:t}}=i,{data:{value:r}}=e;return r-t}function ey(i){let{left:e,top:t,height:r,width:a}=i;return[{x:e,y:t},{x:e+a,y:t},{x:e,y:t+r},{x:e+a,y:t+r}]}function ix(i,e){if(!i||i.length===0)return null;const[t]=i;return t[e]}function ty(i,e,t){return e===void 0&&(e=i.left),t===void 0&&(t=i.top),{x:e+i.width*.5,y:t+i.height*.5}}const ST=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=i;const a=ty(e,e.left,e.top),o=[];for(const h of r){const{id:c}=h,f=t.get(c);if(f){const d=tx(ty(f),a);o.push({id:c,data:{droppableContainer:h,value:d}})}}return o.sort(nx)},AT=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=i;const a=ey(e),o=[];for(const h of r){const{id:c}=h,f=t.get(c);if(f){const d=ey(f),m=a.reduce((w,y,N)=>w+tx(d[N],y),0),b=Number((m/4).toFixed(4));o.push({id:c,data:{droppableContainer:h,value:b}})}}return o.sort(nx)};function NT(i,e){const t=Math.max(e.top,i.top),r=Math.max(e.left,i.left),a=Math.min(e.left+e.width,i.left+i.width),o=Math.min(e.top+e.height,i.top+i.height),h=a-r,c=o-t;if(r<a&&t<o){const f=e.width*e.height,d=i.width*i.height,m=h*c,b=m/(f+d-m);return Number(b.toFixed(4))}return 0}const CT=i=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=i;const a=[];for(const o of r){const{id:h}=o,c=t.get(h);if(c){const f=NT(c,e);f>0&&a.push({id:h,data:{droppableContainer:o,value:f}})}}return a.sort(wT)};function TT(i,e,t){return{...i,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function rx(i,e){return i&&e?{x:i.left-e.left,y:i.top-e.top}:Ka}function ET(i){return function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return a.reduce((h,c)=>({...h,top:h.top+i*c.y,bottom:h.bottom+i*c.y,left:h.left+i*c.x,right:h.right+i*c.x}),{...t})}}const kT=ET(1);function sx(i){if(i.startsWith("matrix3d(")){const e=i.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(i.startsWith("matrix(")){const e=i.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function OT(i,e,t){const r=sx(e);if(!r)return i;const{scaleX:a,scaleY:o,x:h,y:c}=r,f=i.left-h-(1-a)*parseFloat(t),d=i.top-c-(1-o)*parseFloat(t.slice(t.indexOf(" ")+1)),m=a?i.width/a:i.width,b=o?i.height/o:i.height;return{width:m,height:b,top:d,right:f+m,bottom:d+b,left:f}}const LT={ignoreTransform:!1};function jh(i,e){e===void 0&&(e=LT);let t=i.getBoundingClientRect();if(e.ignoreTransform){const{transform:d,transformOrigin:m}=Qr(i).getComputedStyle(i);d&&(t=OT(t,d,m))}const{top:r,left:a,width:o,height:h,bottom:c,right:f}=t;return{top:r,left:a,width:o,height:h,bottom:c,right:f}}function ny(i){return jh(i,{ignoreTransform:!0})}function MT(i){const e=i.innerWidth,t=i.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function DT(i,e){return e===void 0&&(e=Qr(i).getComputedStyle(i)),e.position==="fixed"}function jT(i,e){e===void 0&&(e=Qr(i).getComputedStyle(i));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const o=e[a];return typeof o=="string"?t.test(o):!1})}function A1(i,e){const t=[];function r(a){if(e!=null&&t.length>=e||!a)return t;if(zg(a)&&a.scrollingElement!=null&&!t.includes(a.scrollingElement))return t.push(a.scrollingElement),t;if(!rd(a)||Q_(a)||t.includes(a))return t;const o=Qr(i).getComputedStyle(a);return a!==i&&jT(a,o)&&t.push(a),DT(a,o)?t:r(a.parentNode)}return i?r(i):t}function ax(i){const[e]=A1(i,1);return e??null}function Zm(i){return!x1||!i?null:Mh(i)?i:qg(i)?zg(i)||i===Dh(i).scrollingElement?window:rd(i)?i:null:null}function ox(i){return Mh(i)?i.scrollX:i.scrollLeft}function lx(i){return Mh(i)?i.scrollY:i.scrollTop}function j0(i){return{x:ox(i),y:lx(i)}}var pr;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(pr||(pr={}));function cx(i){return!x1||!i?!1:i===document.scrollingElement}function ux(i){const e={x:0,y:0},t=cx(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},r={x:i.scrollWidth-t.width,y:i.scrollHeight-t.height},a=i.scrollTop<=e.y,o=i.scrollLeft<=e.x,h=i.scrollTop>=r.y,c=i.scrollLeft>=r.x;return{isTop:a,isLeft:o,isBottom:h,isRight:c,maxScroll:r,minScroll:e}}const RT={x:.2,y:.2};function IT(i,e,t,r,a){let{top:o,left:h,right:c,bottom:f}=t;r===void 0&&(r=10),a===void 0&&(a=RT);const{isTop:d,isBottom:m,isLeft:b,isRight:w}=ux(i),y={x:0,y:0},N={x:0,y:0},A={height:e.height*a.y,width:e.width*a.x};return!d&&o<=e.top+A.height?(y.y=pr.Backward,N.y=r*Math.abs((e.top+A.height-o)/A.height)):!m&&f>=e.bottom-A.height&&(y.y=pr.Forward,N.y=r*Math.abs((e.bottom-A.height-f)/A.height)),!w&&c>=e.right-A.width?(y.x=pr.Forward,N.x=r*Math.abs((e.right-A.width-c)/A.width)):!b&&h<=e.left+A.width&&(y.x=pr.Backward,N.x=r*Math.abs((e.left+A.width-h)/A.width)),{direction:y,speed:N}}function BT(i){if(i===document.scrollingElement){const{innerWidth:o,innerHeight:h}=window;return{top:0,left:0,right:o,bottom:h,width:o,height:h}}const{top:e,left:t,right:r,bottom:a}=i.getBoundingClientRect();return{top:e,left:t,right:r,bottom:a,width:i.clientWidth,height:i.clientHeight}}function hx(i){return i.reduce((e,t)=>gh(e,j0(t)),Ka)}function qT(i){return i.reduce((e,t)=>e+ox(t),0)}function zT(i){return i.reduce((e,t)=>e+lx(t),0)}function fx(i,e){if(e===void 0&&(e=jh),!i)return;const{top:t,left:r,bottom:a,right:o}=e(i);ax(i)&&(a<=0||o<=0||t>=window.innerHeight||r>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const FT=[["x",["left","right"],qT],["y",["top","bottom"],zT]];class Fg{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=A1(t),a=hx(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,h,c]of FT)for(const f of h)Object.defineProperty(this,f,{get:()=>{const d=c(r),m=a[o]-d;return this.rect[f]+m},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class kf{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var a;(a=this.target)==null||a.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function PT(i){const{EventTarget:e}=Qr(i);return i instanceof e?i:Dh(i)}function Km(i,e){const t=Math.abs(i.x),r=Math.abs(i.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var ca;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(ca||(ca={}));function iy(i){i.preventDefault()}function UT(i){i.stopPropagation()}var an;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(an||(an={}));const dx={start:[an.Space,an.Enter],cancel:[an.Esc],end:[an.Space,an.Enter,an.Tab]},VT=(i,e)=>{let{currentCoordinates:t}=e;switch(i.code){case an.Right:return{...t,x:t.x+25};case an.Left:return{...t,x:t.x-25};case an.Down:return{...t,y:t.y+25};case an.Up:return{...t,y:t.y-25}}};class Pg{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new kf(Dh(t)),this.windowListeners=new kf(Qr(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ca.Resize,this.handleCancel),this.windowListeners.add(ca.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ca.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&fx(r),t(Ka)}handleKeyDown(e){if(S1(e)){const{active:t,context:r,options:a}=this.props,{keyboardCodes:o=dx,coordinateGetter:h=VT,scrollBehavior:c="smooth"}=a,{code:f}=e;if(o.end.includes(f)){this.handleEnd(e);return}if(o.cancel.includes(f)){this.handleCancel(e);return}const{collisionRect:d}=r.current,m=d?{x:d.left,y:d.top}:Ka;this.referenceCoordinates||(this.referenceCoordinates=m);const b=h(e,{active:t,context:r.current,currentCoordinates:m});if(b){const w=Uf(b,m),y={x:0,y:0},{scrollableAncestors:N}=r.current;for(const A of N){const E=e.code,{isTop:T,isRight:U,isLeft:P,isBottom:F,maxScroll:q,minScroll:te}=ux(A),G=BT(A),D={x:Math.min(E===an.Right?G.right-G.width/2:G.right,Math.max(E===an.Right?G.left:G.left+G.width/2,b.x)),y:Math.min(E===an.Down?G.bottom-G.height/2:G.bottom,Math.max(E===an.Down?G.top:G.top+G.height/2,b.y))},I=E===an.Right&&!U||E===an.Left&&!P,Z=E===an.Down&&!F||E===an.Up&&!T;if(I&&D.x!==b.x){const L=A.scrollLeft+w.x,j=E===an.Right&&L<=q.x||E===an.Left&&L>=te.x;if(j&&!w.y){A.scrollTo({left:L,behavior:c});return}j?y.x=A.scrollLeft-L:y.x=E===an.Right?A.scrollLeft-q.x:A.scrollLeft-te.x,y.x&&A.scrollBy({left:-y.x,behavior:c});break}else if(Z&&D.y!==b.y){const L=A.scrollTop+w.y,j=E===an.Down&&L<=q.y||E===an.Up&&L>=te.y;if(j&&!w.x){A.scrollTo({top:L,behavior:c});return}j?y.y=A.scrollTop-L:y.y=E===an.Down?A.scrollTop-q.y:A.scrollTop-te.y,y.y&&A.scrollBy({top:-y.y,behavior:c});break}}this.handleMove(e,gh(Uf(b,this.referenceCoordinates),y))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Pg.activators=[{eventName:"onKeyDown",handler:(i,e,t)=>{let{keyboardCodes:r=dx,onActivation:a}=e,{active:o}=t;const{code:h}=i.nativeEvent;if(r.start.includes(h)){const c=o.activatorNode.current;return c&&i.target!==c?!1:(i.preventDefault(),a?.({event:i.nativeEvent}),!0)}return!1}}];function ry(i){return!!(i&&"distance"in i)}function sy(i){return!!(i&&"delay"in i)}class Ug{constructor(e,t,r){var a;r===void 0&&(r=PT(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:h}=o;this.props=e,this.events=t,this.document=Dh(h),this.documentListeners=new kf(this.document),this.listeners=new kf(r),this.windowListeners=new kf(Qr(h)),this.initialCoordinates=(a=Yp(o))!=null?a:Ka,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ca.Resize,this.handleCancel),this.windowListeners.add(ca.DragStart,iy),this.windowListeners.add(ca.VisibilityChange,this.handleCancel),this.windowListeners.add(ca.ContextMenu,iy),this.documentListeners.add(ca.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(sy(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(ry(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:a}=this.props;a(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(ca.Click,UT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ca.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:a,props:o}=this,{onMove:h,options:{activationConstraint:c}}=o;if(!a)return;const f=(t=Yp(e))!=null?t:Ka,d=Uf(a,f);if(!r&&c){if(ry(c)){if(c.tolerance!=null&&Km(d,c.tolerance))return this.handleCancel();if(Km(d,c.distance))return this.handleStart()}if(sy(c)&&Km(d,c.tolerance))return this.handleCancel();this.handlePending(c,d);return}e.cancelable&&e.preventDefault(),h(f)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===an.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const HT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Vg extends Ug{constructor(e){const{event:t}=e,r=Dh(t.target);super(e,HT,r)}}Vg.activators=[{eventName:"onPointerDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r?.({event:t}),!0)}}];const GT={move:{name:"mousemove"},end:{name:"mouseup"}};var R0;(function(i){i[i.RightClick=2]="RightClick"})(R0||(R0={}));class YT extends Ug{constructor(e){super(e,GT,Dh(e.event.target))}}YT.activators=[{eventName:"onMouseDown",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:r}=e;return t.button===R0.RightClick?!1:(r?.({event:t}),!0)}}];const Qm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class WT extends Ug{constructor(e){super(e,Qm)}static setup(){return window.addEventListener(Qm.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Qm.move.name,e)};function e(){}}}WT.activators=[{eventName:"onTouchStart",handler:(i,e)=>{let{nativeEvent:t}=i,{onActivation:r}=e;const{touches:a}=t;return a.length>1?!1:(r?.({event:t}),!0)}}];var Of;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(Of||(Of={}));var Xp;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(Xp||(Xp={}));function XT(i){let{acceleration:e,activator:t=Of.Pointer,canScroll:r,draggingRect:a,enabled:o,interval:h=5,order:c=Xp.TreeOrder,pointerCoordinates:f,scrollableAncestors:d,scrollableAncestorRects:m,delta:b,threshold:w}=i;const y=KT({delta:b,disabled:!o}),[N,A]=lT(),E=be.useRef({x:0,y:0}),T=be.useRef({x:0,y:0}),U=be.useMemo(()=>{switch(t){case Of.Pointer:return f?{top:f.y,bottom:f.y,left:f.x,right:f.x}:null;case Of.DraggableRect:return a}},[t,a,f]),P=be.useRef(null),F=be.useCallback(()=>{const te=P.current;if(!te)return;const G=E.current.x*T.current.x,D=E.current.y*T.current.y;te.scrollBy(G,D)},[]),q=be.useMemo(()=>c===Xp.TreeOrder?[...d].reverse():d,[c,d]);be.useEffect(()=>{if(!o||!d.length||!U){A();return}for(const te of q){if(r?.(te)===!1)continue;const G=d.indexOf(te),D=m[G];if(!D)continue;const{direction:I,speed:Z}=IT(te,D,U,e,w);for(const L of["x","y"])y[L][I[L]]||(Z[L]=0,I[L]=0);if(Z.x>0||Z.y>0){A(),P.current=te,N(F,h),E.current=Z,T.current=I;return}}E.current={x:0,y:0},T.current={x:0,y:0},A()},[e,F,r,A,o,h,JSON.stringify(U),JSON.stringify(y),N,d,q,m,JSON.stringify(w)])}const ZT={x:{[pr.Backward]:!1,[pr.Forward]:!1},y:{[pr.Backward]:!1,[pr.Forward]:!1}};function KT(i){let{delta:e,disabled:t}=i;const r=Gp(e);return sd(a=>{if(t||!r||!a)return ZT;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[pr.Backward]:a.x[pr.Backward]||o.x===-1,[pr.Forward]:a.x[pr.Forward]||o.x===1},y:{[pr.Backward]:a.y[pr.Backward]||o.y===-1,[pr.Forward]:a.y[pr.Forward]||o.y===1}}},[t,e,r])}function QT(i,e){const t=e!=null?i.get(e):void 0,r=t?t.node.current:null;return sd(a=>{var o;return e==null?null:(o=r??a)!=null?o:null},[r,e])}function JT(i,e){return be.useMemo(()=>i.reduce((t,r)=>{const{sensor:a}=r,o=a.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,r)}));return[...t,...o]},[]),[i,e])}var Vf;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Vf||(Vf={}));var I0;(function(i){i.Optimized="optimized"})(I0||(I0={}));const ay=new Map;function $T(i,e){let{dragging:t,dependencies:r,config:a}=e;const[o,h]=be.useState(null),{frequency:c,measure:f,strategy:d}=a,m=be.useRef(i),b=E(),w=Pf(b),y=be.useCallback(function(T){T===void 0&&(T=[]),!w.current&&h(U=>U===null?T:U.concat(T.filter(P=>!U.includes(P))))},[w]),N=be.useRef(null),A=sd(T=>{if(b&&!t)return ay;if(!T||T===ay||m.current!==i||o!=null){const U=new Map;for(let P of i){if(!P)continue;if(o&&o.length>0&&!o.includes(P.id)&&P.rect.current){U.set(P.id,P.rect.current);continue}const F=P.node.current,q=F?new Fg(f(F),F):null;P.rect.current=q,q&&U.set(P.id,q)}return U}return T},[i,o,t,b,f]);return be.useEffect(()=>{m.current=i},[i]),be.useEffect(()=>{b||y()},[t,b]),be.useEffect(()=>{o&&o.length>0&&h(null)},[JSON.stringify(o)]),be.useEffect(()=>{b||typeof c!="number"||N.current!==null||(N.current=setTimeout(()=>{y(),N.current=null},c))},[c,b,y,...r]),{droppableRects:A,measureDroppableContainers:y,measuringScheduled:o!=null};function E(){switch(d){case Vf.Always:return!1;case Vf.BeforeDragging:return t;default:return!t}}}function Hg(i,e){return sd(t=>i?t||(typeof e=="function"?e(i):i):null,[e,i])}function e7(i,e){return Hg(i,e)}function t7(i){let{callback:e,disabled:t}=i;const r=w1(e),a=be.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,t]);return be.useEffect(()=>()=>a?.disconnect(),[a]),a}function N1(i){let{callback:e,disabled:t}=i;const r=w1(e),a=be.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[t]);return be.useEffect(()=>()=>a?.disconnect(),[a]),a}function n7(i){return new Fg(jh(i),i)}function oy(i,e,t){e===void 0&&(e=n7);const[r,a]=be.useState(null);function o(){a(f=>{if(!i)return null;if(i.isConnected===!1){var d;return(d=f??t)!=null?d:null}const m=e(i);return JSON.stringify(f)===JSON.stringify(m)?f:m})}const h=t7({callback(f){if(i)for(const d of f){const{type:m,target:b}=d;if(m==="childList"&&b instanceof HTMLElement&&b.contains(i)){o();break}}}}),c=N1({callback:o});return Za(()=>{o(),i?(c?.observe(i),h?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),h?.disconnect())},[i]),r}function i7(i){const e=Hg(i);return rx(i,e)}const ly=[];function r7(i){const e=be.useRef(i),t=sd(r=>i?r&&r!==ly&&i&&e.current&&i.parentNode===e.current.parentNode?r:A1(i):ly,[i]);return be.useEffect(()=>{e.current=i},[i]),t}function s7(i){const[e,t]=be.useState(null),r=be.useRef(i),a=be.useCallback(o=>{const h=Zm(o.target);h&&t(c=>c?(c.set(h,j0(h)),new Map(c)):null)},[]);return be.useEffect(()=>{const o=r.current;if(i!==o){h(o);const c=i.map(f=>{const d=Zm(f);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,j0(d)]):null}).filter(f=>f!=null);t(c.length?new Map(c):null),r.current=i}return()=>{h(i),h(o)};function h(c){c.forEach(f=>{const d=Zm(f);d?.removeEventListener("scroll",a)})}},[a,i]),be.useMemo(()=>i.length?e?Array.from(e.values()).reduce((o,h)=>gh(o,h),Ka):hx(i):Ka,[i,e])}function cy(i,e){e===void 0&&(e=[]);const t=be.useRef(null);return be.useEffect(()=>{t.current=null},e),be.useEffect(()=>{const r=i!==Ka;r&&!t.current&&(t.current=i),!r&&t.current&&(t.current=null)},[i]),t.current?Uf(i,t.current):Ka}function a7(i){be.useEffect(()=>{if(!x1)return;const e=i.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t?.()}},i.map(e=>{let{sensor:t}=e;return t}))}function o7(i,e){return be.useMemo(()=>i.reduce((t,r)=>{let{eventName:a,handler:o}=r;return t[a]=h=>{o(h,e)},t},{}),[i,e])}function px(i){return be.useMemo(()=>i?MT(i):null,[i])}const uy=[];function l7(i,e){e===void 0&&(e=jh);const[t]=i,r=px(t?Qr(t):null),[a,o]=be.useState(uy);function h(){o(()=>i.length?i.map(f=>cx(f)?r:new Fg(e(f),f)):uy)}const c=N1({callback:h});return Za(()=>{c?.disconnect(),h(),i.forEach(f=>c?.observe(f))},[i]),a}function mx(i){if(!i)return null;if(i.children.length>1)return i;const e=i.children[0];return rd(e)?e:i}function c7(i){let{measure:e}=i;const[t,r]=be.useState(null),a=be.useCallback(d=>{for(const{target:m}of d)if(rd(m)){r(b=>{const w=e(m);return b?{...b,width:w.width,height:w.height}:w});break}},[e]),o=N1({callback:a}),h=be.useCallback(d=>{const m=mx(d);o?.disconnect(),m&&o?.observe(m),r(m?e(m):null)},[e,o]),[c,f]=Hp(h);return be.useMemo(()=>({nodeRef:c,rect:t,setRef:f}),[t,c,f])}const u7=[{sensor:Vg,options:{}},{sensor:Pg,options:{}}],h7={current:{}},xp={draggable:{measure:ny},droppable:{measure:ny,strategy:Vf.WhileDragging,frequency:I0.Optimized},dragOverlay:{measure:jh}};class Lf extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const f7={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Lf,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Wp},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:xp,measureDroppableContainers:Wp,windowRect:null,measuringScheduled:!1},gx={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Wp,draggableNodes:new Map,over:null,measureDroppableContainers:Wp},od=be.createContext(gx),vx=be.createContext(f7);function d7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Lf}}}function p7(i,e){switch(e.type){case sr.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case sr.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:e.coordinates.x-i.draggable.initialCoordinates.x,y:e.coordinates.y-i.draggable.initialCoordinates.y}}};case sr.DragEnd:case sr.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case sr.RegisterDroppable:{const{element:t}=e,{id:r}=t,a=new Lf(i.droppable.containers);return a.set(r,t),{...i,droppable:{...i.droppable,containers:a}}}case sr.SetDroppableDisabled:{const{id:t,key:r,disabled:a}=e,o=i.droppable.containers.get(t);if(!o||r!==o.key)return i;const h=new Lf(i.droppable.containers);return h.set(t,{...o,disabled:a}),{...i,droppable:{...i.droppable,containers:h}}}case sr.UnregisterDroppable:{const{id:t,key:r}=e,a=i.droppable.containers.get(t);if(!a||r!==a.key)return i;const o=new Lf(i.droppable.containers);return o.delete(t),{...i,droppable:{...i.droppable,containers:o}}}default:return i}}function m7(i){let{disabled:e}=i;const{active:t,activatorEvent:r,draggableNodes:a}=be.useContext(od),o=Gp(r),h=Gp(t?.id);return be.useEffect(()=>{if(!e&&!r&&o&&h!=null){if(!S1(o)||document.activeElement===o.target)return;const c=a.get(h);if(!c)return;const{activatorNode:f,node:d}=c;if(!f.current&&!d.current)return;requestAnimationFrame(()=>{for(const m of[f.current,d.current]){if(!m)continue;const b=hT(m);if(b){b.focus();break}}})}},[r,e,a,h,o]),null}function yx(i,e){let{transform:t,...r}=e;return i!=null&&i.length?i.reduce((a,o)=>o({transform:a,...r}),t):t}function g7(i){return be.useMemo(()=>({draggable:{...xp.draggable,...i?.draggable},droppable:{...xp.droppable,...i?.droppable},dragOverlay:{...xp.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function v7(i){let{activeNode:e,measure:t,initialRect:r,config:a=!0}=i;const o=be.useRef(!1),{x:h,y:c}=typeof a=="boolean"?{x:a,y:a}:a;Za(()=>{if(!h&&!c||!e){o.current=!1;return}if(o.current||!r)return;const d=e?.node.current;if(!d||d.isConnected===!1)return;const m=t(d),b=rx(m,r);if(h||(b.x=0),c||(b.y=0),o.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const w=ax(d);w&&w.scrollBy({top:b.y,left:b.x})}},[e,h,c,r,t])}const C1=be.createContext({...Ka,scaleX:1,scaleY:1});var rc;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(rc||(rc={}));const y7=be.memo(function(e){var t,r,a,o;let{id:h,accessibility:c,autoScroll:f=!0,children:d,sensors:m=u7,collisionDetection:b=CT,measuring:w,modifiers:y,...N}=e;const A=be.useReducer(p7,void 0,d7),[E,T]=A,[U,P]=gT(),[F,q]=be.useState(rc.Uninitialized),te=F===rc.Initialized,{draggable:{active:G,nodes:D,translate:I},droppable:{containers:Z}}=E,L=G!=null?D.get(G):null,j=be.useRef({initial:null,translated:null}),$=be.useMemo(()=>{var yt;return G!=null?{id:G,data:(yt=L?.data)!=null?yt:h7,rect:j}:null},[G,L]),ee=be.useRef(null),[ue,Q]=be.useState(null),[re,ce]=be.useState(null),de=Pf(N,Object.values(N)),Ae=ad("DndDescribedBy",h),Y=be.useMemo(()=>Z.getEnabled(),[Z]),C=g7(w),{droppableRects:z,measureDroppableContainers:X,measuringScheduled:ie}=$T(Y,{dragging:te,dependencies:[I.x,I.y],config:C.droppable}),ae=QT(D,G),fe=be.useMemo(()=>re?Yp(re):null,[re]),pe=ln(),xe=e7(ae,C.draggable.measure);v7({activeNode:G!=null?D.get(G):null,config:pe.layoutShiftCompensation,initialRect:xe,measure:C.draggable.measure});const Ce=oy(ae,C.draggable.measure,xe),He=oy(ae?ae.parentElement:null),Ze=be.useRef({activatorEvent:null,active:null,activeNode:ae,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:Z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Je=Z.getNodeFor((t=Ze.current.over)==null?void 0:t.id),it=c7({measure:C.dragOverlay.measure}),H=(r=it.nodeRef.current)!=null?r:ae,Me=te?(a=it.rect)!=null?a:Ce:null,st=!!(it.nodeRef.current&&it.rect),$e=i7(st?null:Ce),ge=px(H?Qr(H):null),qe=r7(te?Je??ae:null),Ye=l7(qe),et=yx(y,{transform:{x:I.x-$e.x,y:I.y-$e.y,scaleX:1,scaleY:1},activatorEvent:re,active:$,activeNodeRect:Ce,containerNodeRect:He,draggingNodeRect:Me,over:Ze.current.over,overlayNodeRect:it.rect,scrollableAncestors:qe,scrollableAncestorRects:Ye,windowRect:ge}),nt=fe?gh(fe,I):null,Ie=s7(qe),ze=cy(Ie),Ge=cy(Ie,[Ce]),rt=gh(et,ze),at=Me?kT(Me,et):null,Qe=$&&at?b({active:$,collisionRect:at,droppableRects:z,droppableContainers:Y,pointerCoordinates:nt}):null,ht=ix(Qe,"id"),[ot,Nn]=be.useState(null),Ft=st?et:gh(et,Ge),wt=TT(Ft,(o=ot?.rect)!=null?o:null,Ce),At=be.useRef(null),Pt=be.useCallback((yt,lt)=>{let{sensor:Ot,options:Jn}=lt;if(ee.current==null)return;const cn=D.get(ee.current);if(!cn)return;const Mn=yt.nativeEvent,Dn=new Ot({active:ee.current,activeNode:cn,event:Mn,options:Jn,context:Ze,onAbort(_n){if(!D.get(_n))return;const{onDragAbort:jn}=de.current,Hn={id:_n};jn?.(Hn),U({type:"onDragAbort",event:Hn})},onPending(_n,mi,jn,Hn){if(!D.get(_n))return;const{onDragPending:Rn}=de.current,Cn={id:_n,constraint:mi,initialCoordinates:jn,offset:Hn};Rn?.(Cn),U({type:"onDragPending",event:Cn})},onStart(_n){const mi=ee.current;if(mi==null)return;const jn=D.get(mi);if(!jn)return;const{onDragStart:Hn}=de.current,un={activatorEvent:Mn,active:{id:mi,data:jn.data,rect:j}};Nf.unstable_batchedUpdates(()=>{Hn?.(un),q(rc.Initializing),T({type:sr.DragStart,initialCoordinates:_n,active:mi}),U({type:"onDragStart",event:un}),Q(At.current),ce(Mn)})},onMove(_n){T({type:sr.DragMove,coordinates:_n})},onEnd:ft(sr.DragEnd),onCancel:ft(sr.DragCancel)});At.current=Dn;function ft(_n){return async function(){const{active:jn,collisions:Hn,over:un,scrollAdjustedTranslate:Rn}=Ze.current;let Cn=null;if(jn&&Rn){const{cancelDrop:Er}=de.current;Cn={activatorEvent:Mn,active:jn,collisions:Hn,delta:Rn,over:un},_n===sr.DragEnd&&typeof Er=="function"&&await Promise.resolve(Er(Cn))&&(_n=sr.DragCancel)}ee.current=null,Nf.unstable_batchedUpdates(()=>{T({type:_n}),q(rc.Uninitialized),Nn(null),Q(null),ce(null),At.current=null;const Er=_n===sr.DragEnd?"onDragEnd":"onDragCancel";if(Cn){const Mi=de.current[Er];Mi?.(Cn),U({type:Er,event:Cn})}})}}},[D]),bt=be.useCallback((yt,lt)=>(Ot,Jn)=>{const cn=Ot.nativeEvent,Mn=D.get(Jn);if(ee.current!==null||!Mn||cn.dndKit||cn.defaultPrevented)return;const Dn={active:Mn};yt(Ot,lt.options,Dn)===!0&&(cn.dndKit={capturedBy:lt.sensor},ee.current=Jn,Pt(Ot,lt))},[D,Pt]),on=JT(m,bt);a7(m),Za(()=>{Ce&&F===rc.Initializing&&q(rc.Initialized)},[Ce,F]),be.useEffect(()=>{const{onDragMove:yt}=de.current,{active:lt,activatorEvent:Ot,collisions:Jn,over:cn}=Ze.current;if(!lt||!Ot)return;const Mn={active:lt,activatorEvent:Ot,collisions:Jn,delta:{x:rt.x,y:rt.y},over:cn};Nf.unstable_batchedUpdates(()=>{yt?.(Mn),U({type:"onDragMove",event:Mn})})},[rt.x,rt.y]),be.useEffect(()=>{const{active:yt,activatorEvent:lt,collisions:Ot,droppableContainers:Jn,scrollAdjustedTranslate:cn}=Ze.current;if(!yt||ee.current==null||!lt||!cn)return;const{onDragOver:Mn}=de.current,Dn=Jn.get(ht),ft=Dn&&Dn.rect.current?{id:Dn.id,rect:Dn.rect.current,data:Dn.data,disabled:Dn.disabled}:null,_n={active:yt,activatorEvent:lt,collisions:Ot,delta:{x:cn.x,y:cn.y},over:ft};Nf.unstable_batchedUpdates(()=>{Nn(ft),Mn?.(_n),U({type:"onDragOver",event:_n})})},[ht]),Za(()=>{Ze.current={activatorEvent:re,active:$,activeNode:ae,collisionRect:at,collisions:Qe,droppableRects:z,draggableNodes:D,draggingNode:H,draggingNodeRect:Me,droppableContainers:Z,over:ot,scrollableAncestors:qe,scrollAdjustedTranslate:rt},j.current={initial:Me,translated:at}},[$,ae,Qe,at,D,H,Me,z,Z,ot,qe,rt]),XT({...pe,delta:I,draggingRect:at,pointerCoordinates:nt,scrollableAncestors:qe,scrollableAncestorRects:Ye});const Nt=be.useMemo(()=>({active:$,activeNode:ae,activeNodeRect:Ce,activatorEvent:re,collisions:Qe,containerNodeRect:He,dragOverlay:it,draggableNodes:D,droppableContainers:Z,droppableRects:z,over:ot,measureDroppableContainers:X,scrollableAncestors:qe,scrollableAncestorRects:Ye,measuringConfiguration:C,measuringScheduled:ie,windowRect:ge}),[$,ae,Ce,re,Qe,He,it,D,Z,z,ot,X,qe,Ye,C,ie,ge]),kt=be.useMemo(()=>({activatorEvent:re,activators:on,active:$,activeNodeRect:Ce,ariaDescribedById:{draggable:Ae},dispatch:T,draggableNodes:D,over:ot,measureDroppableContainers:X}),[re,on,$,Ce,T,Ae,D,ot,X]);return An.createElement($_.Provider,{value:P},An.createElement(od.Provider,{value:kt},An.createElement(vx.Provider,{value:Nt},An.createElement(C1.Provider,{value:wt},d)),An.createElement(m7,{disabled:c?.restoreFocus===!1})),An.createElement(bT,{...c,hiddenTextDescribedById:Ae}));function ln(){const yt=ue?.autoScrollEnabled===!1,lt=typeof f=="object"?f.enabled===!1:f===!1,Ot=te&&!yt&&!lt;return typeof f=="object"?{...f,enabled:Ot}:{enabled:Ot}}}),b7=be.createContext(null),hy="button",_7="Draggable";function bx(i){let{id:e,data:t,disabled:r=!1,attributes:a}=i;const o=ad(_7),{activators:h,activatorEvent:c,active:f,activeNodeRect:d,ariaDescribedById:m,draggableNodes:b,over:w}=be.useContext(od),{role:y=hy,roleDescription:N="draggable",tabIndex:A=0}=a??{},E=f?.id===e,T=be.useContext(E?C1:b7),[U,P]=Hp(),[F,q]=Hp(),te=o7(h,e),G=Pf(t);Za(()=>(b.set(e,{id:e,key:o,node:U,activatorNode:F,data:G}),()=>{const I=b.get(e);I&&I.key===o&&b.delete(e)}),[b,e]);const D=be.useMemo(()=>({role:y,tabIndex:A,"aria-disabled":r,"aria-pressed":E&&y===hy?!0:void 0,"aria-roledescription":N,"aria-describedby":m.draggable}),[r,y,A,E,N,m.draggable]);return{active:f,activatorEvent:c,activeNodeRect:d,attributes:D,isDragging:E,listeners:r?void 0:te,node:U,over:w,setNodeRef:P,setActivatorNodeRef:q,transform:T}}function _x(){return be.useContext(vx)}const x7="Droppable",w7={timeout:25};function xx(i){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:a}=i;const o=ad(x7),{active:h,dispatch:c,over:f,measureDroppableContainers:d}=be.useContext(od),m=be.useRef({disabled:t}),b=be.useRef(!1),w=be.useRef(null),y=be.useRef(null),{disabled:N,updateMeasurementsFor:A,timeout:E}={...w7,...a},T=Pf(A??r),U=be.useCallback(()=>{if(!b.current){b.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{d(Array.isArray(T.current)?T.current:[T.current]),y.current=null},E)},[E]),P=N1({callback:U,disabled:N||!h}),F=be.useCallback((D,I)=>{P&&(I&&(P.unobserve(I),b.current=!1),D&&P.observe(D))},[P]),[q,te]=Hp(F),G=Pf(e);return be.useEffect(()=>{!P||!q.current||(P.disconnect(),b.current=!1,P.observe(q.current))},[q,P]),be.useEffect(()=>(c({type:sr.RegisterDroppable,element:{id:r,key:o,disabled:t,node:q,rect:w,data:G}}),()=>c({type:sr.UnregisterDroppable,key:o,id:r})),[r]),be.useEffect(()=>{t!==m.current.disabled&&(c({type:sr.SetDroppableDisabled,id:r,key:o,disabled:t}),m.current.disabled=t)},[r,o,t,c]),{active:h,rect:w,isOver:f?.id===r,node:q,over:f,setNodeRef:te}}function S7(i){let{animation:e,children:t}=i;const[r,a]=be.useState(null),[o,h]=be.useState(null),c=Gp(t);return!t&&!r&&c&&a(c),Za(()=>{if(!o)return;const f=r?.key,d=r?.props.id;if(f==null||d==null){a(null);return}Promise.resolve(e(d,o)).then(()=>{a(null)})},[e,r,o]),An.createElement(An.Fragment,null,t,r?be.cloneElement(r,{ref:h}):null)}const A7={x:0,y:0,scaleX:1,scaleY:1};function N7(i){let{children:e}=i;return An.createElement(od.Provider,{value:gx},An.createElement(C1.Provider,{value:A7},e))}const C7={position:"fixed",touchAction:"none"},T7=i=>S1(i)?"transform 250ms ease":void 0,E7=be.forwardRef((i,e)=>{let{as:t,activatorEvent:r,adjustScale:a,children:o,className:h,rect:c,style:f,transform:d,transition:m=T7}=i;if(!c)return null;const b=a?d:{...d,scaleX:1,scaleY:1},w={...C7,width:c.width,height:c.height,top:c.top,left:c.left,transform:fc.Transform.toString(b),transformOrigin:a&&r?xT(r,c):void 0,transition:typeof m=="function"?m(r):m,...f};return An.createElement(t,{className:h,style:w,ref:e},o)}),k7=i=>e=>{let{active:t,dragOverlay:r}=e;const a={},{styles:o,className:h}=i;if(o!=null&&o.active)for(const[c,f]of Object.entries(o.active))f!==void 0&&(a[c]=t.node.style.getPropertyValue(c),t.node.style.setProperty(c,f));if(o!=null&&o.dragOverlay)for(const[c,f]of Object.entries(o.dragOverlay))f!==void 0&&r.node.style.setProperty(c,f);return h!=null&&h.active&&t.node.classList.add(h.active),h!=null&&h.dragOverlay&&r.node.classList.add(h.dragOverlay),function(){for(const[f,d]of Object.entries(a))t.node.style.setProperty(f,d);h!=null&&h.active&&t.node.classList.remove(h.active)}},O7=i=>{let{transform:{initial:e,final:t}}=i;return[{transform:fc.Transform.toString(e)},{transform:fc.Transform.toString(t)}]},L7={duration:250,easing:"ease",keyframes:O7,sideEffects:k7({styles:{active:{opacity:"0"}}})};function M7(i){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:a}=i;return w1((o,h)=>{if(e===null)return;const c=t.get(o);if(!c)return;const f=c.node.current;if(!f)return;const d=mx(h);if(!d)return;const{transform:m}=Qr(h).getComputedStyle(h),b=sx(m);if(!b)return;const w=typeof e=="function"?e:D7(e);return fx(f,a.draggable.measure),w({active:{id:o,data:c.data,node:f,rect:a.draggable.measure(f)},draggableNodes:t,dragOverlay:{node:h,rect:a.dragOverlay.measure(d)},droppableContainers:r,measuringConfiguration:a,transform:b})})}function D7(i){const{duration:e,easing:t,sideEffects:r,keyframes:a}={...L7,...i};return o=>{let{active:h,dragOverlay:c,transform:f,...d}=o;if(!e)return;const m={x:c.rect.left-h.rect.left,y:c.rect.top-h.rect.top},b={scaleX:f.scaleX!==1?h.rect.width*f.scaleX/c.rect.width:1,scaleY:f.scaleY!==1?h.rect.height*f.scaleY/c.rect.height:1},w={x:f.x-m.x,y:f.y-m.y,...b},y=a({...d,active:h,dragOverlay:c,transform:{initial:f,final:w}}),[N]=y,A=y[y.length-1];if(JSON.stringify(N)===JSON.stringify(A))return;const E=r?.({active:h,dragOverlay:c,...d}),T=c.node.animate(y,{duration:e,easing:t,fill:"forwards"});return new Promise(U=>{T.onfinish=()=>{E?.(),U()}})}}let fy=0;function j7(i){return be.useMemo(()=>{if(i!=null)return fy++,fy},[i])}const R7=An.memo(i=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:a,transition:o,modifiers:h,wrapperElement:c="div",className:f,zIndex:d=999}=i;const{activatorEvent:m,active:b,activeNodeRect:w,containerNodeRect:y,draggableNodes:N,droppableContainers:A,dragOverlay:E,over:T,measuringConfiguration:U,scrollableAncestors:P,scrollableAncestorRects:F,windowRect:q}=_x(),te=be.useContext(C1),G=j7(b?.id),D=yx(h,{activatorEvent:m,active:b,activeNodeRect:w,containerNodeRect:y,draggingNodeRect:E.rect,over:T,overlayNodeRect:E.rect,scrollableAncestors:P,scrollableAncestorRects:F,transform:te,windowRect:q}),I=Hg(w),Z=M7({config:r,draggableNodes:N,droppableContainers:A,measuringConfiguration:U}),L=I?E.setRef:void 0;return An.createElement(N7,null,An.createElement(S7,{animation:Z},b&&G?An.createElement(E7,{key:G,id:b.id,ref:L,as:c,activatorEvent:m,adjustScale:e,className:f,transition:o,rect:I,style:{zIndex:d,...a},transform:D},t):null))});function Gg(i,e,t){const r=i.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function I7(i,e){return i.reduce((t,r,a)=>{const o=e.get(r);return o&&(t[a]=o),t},Array(i.length))}function ap(i){return i!==null&&i>=0}function B7(i,e){if(i===e)return!0;if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function q7(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const op={scaleX:1,scaleY:1},z7=i=>{var e;let{rects:t,activeNodeRect:r,activeIndex:a,overIndex:o,index:h}=i;const c=(e=t[a])!=null?e:r;if(!c)return null;const f=F7(t,h,a);if(h===a){const d=t[o];return d?{x:a<o?d.left+d.width-(c.left+c.width):d.left-c.left,y:0,...op}:null}return h>a&&h<=o?{x:-c.width-f,y:0,...op}:h<a&&h>=o?{x:c.width+f,y:0,...op}:{x:0,y:0,...op}};function F7(i,e,t){const r=i[e],a=i[e-1],o=i[e+1];return!r||!a&&!o?0:t<e?a?r.left-(a.left+a.width):o.left-(r.left+r.width):o?o.left-(r.left+r.width):r.left-(a.left+a.width)}const wx=i=>{let{rects:e,activeIndex:t,overIndex:r,index:a}=i;const o=Gg(e,r,t),h=e[a],c=o[a];return!c||!h?null:{x:c.left-h.left,y:c.top-h.top,scaleX:c.width/h.width,scaleY:c.height/h.height}},Sx="Sortable",Ax=An.createContext({activeIndex:-1,containerId:Sx,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:wx,disabled:{draggable:!1,droppable:!1}});function P7(i){let{children:e,id:t,items:r,strategy:a=wx,disabled:o=!1}=i;const{active:h,dragOverlay:c,droppableRects:f,over:d,measureDroppableContainers:m}=_x(),b=ad(Sx,t),w=c.rect!==null,y=be.useMemo(()=>r.map(te=>typeof te=="object"&&"id"in te?te.id:te),[r]),N=h!=null,A=h?y.indexOf(h.id):-1,E=d?y.indexOf(d.id):-1,T=be.useRef(y),U=!B7(y,T.current),P=E!==-1&&A===-1||U,F=q7(o);Za(()=>{U&&N&&m(y)},[U,y,N,m]),be.useEffect(()=>{T.current=y},[y]);const q=be.useMemo(()=>({activeIndex:A,containerId:b,disabled:F,disableTransforms:P,items:y,overIndex:E,useDragOverlay:w,sortedRects:I7(y,f),strategy:a}),[A,b,F.draggable,F.droppable,P,y,E,f,w,a]);return An.createElement(Ax.Provider,{value:q},e)}const U7=i=>{let{id:e,items:t,activeIndex:r,overIndex:a}=i;return Gg(t,r,a).indexOf(e)},V7=i=>{let{containerId:e,isSorting:t,wasDragging:r,index:a,items:o,newIndex:h,previousItems:c,previousContainerId:f,transition:d}=i;return!d||!r||c!==o&&a===h?!1:t?!0:h!==a&&e===f},H7={duration:200,easing:"ease"},Nx="transform",G7=fc.Transition.toString({property:Nx,duration:0,easing:"linear"}),Y7={roleDescription:"sortable"};function W7(i){let{disabled:e,index:t,node:r,rect:a}=i;const[o,h]=be.useState(null),c=be.useRef(t);return Za(()=>{if(!e&&t!==c.current&&r.current){const f=a.current;if(f){const d=jh(r.current,{ignoreTransform:!0}),m={x:f.left-d.left,y:f.top-d.top,scaleX:f.width/d.width,scaleY:f.height/d.height};(m.x||m.y)&&h(m)}}t!==c.current&&(c.current=t)},[e,t,r,a]),be.useEffect(()=>{o&&h(null)},[o]),o}function X7(i){let{animateLayoutChanges:e=V7,attributes:t,disabled:r,data:a,getNewIndex:o=U7,id:h,strategy:c,resizeObserverConfig:f,transition:d=H7}=i;const{items:m,containerId:b,activeIndex:w,disabled:y,disableTransforms:N,sortedRects:A,overIndex:E,useDragOverlay:T,strategy:U}=be.useContext(Ax),P=Z7(r,y),F=m.indexOf(h),q=be.useMemo(()=>({sortable:{containerId:b,index:F,items:m},...a}),[b,a,F,m]),te=be.useMemo(()=>m.slice(m.indexOf(h)),[m,h]),{rect:G,node:D,isOver:I,setNodeRef:Z}=xx({id:h,data:q,disabled:P.droppable,resizeObserverConfig:{updateMeasurementsFor:te,...f}}),{active:L,activatorEvent:j,activeNodeRect:$,attributes:ee,setNodeRef:ue,listeners:Q,isDragging:re,over:ce,setActivatorNodeRef:de,transform:Ae}=bx({id:h,data:q,attributes:{...Y7,...t},disabled:P.draggable}),Y=oT(Z,ue),C=!!L,z=C&&!N&&ap(w)&&ap(E),X=!T&&re,ie=X&&z?Ae:null,fe=z?ie??(c??U)({rects:A,activeNodeRect:$,activeIndex:w,overIndex:E,index:F}):null,pe=ap(w)&&ap(E)?o({id:h,items:m,activeIndex:w,overIndex:E}):F,xe=L?.id,Ce=be.useRef({activeId:xe,items:m,newIndex:pe,containerId:b}),He=m!==Ce.current.items,Ze=e({active:L,containerId:b,isDragging:re,isSorting:C,id:h,index:F,items:m,newIndex:Ce.current.newIndex,previousItems:Ce.current.items,previousContainerId:Ce.current.containerId,transition:d,wasDragging:Ce.current.activeId!=null}),Je=W7({disabled:!Ze,index:F,node:D,rect:G});return be.useEffect(()=>{C&&Ce.current.newIndex!==pe&&(Ce.current.newIndex=pe),b!==Ce.current.containerId&&(Ce.current.containerId=b),m!==Ce.current.items&&(Ce.current.items=m)},[C,pe,b,m]),be.useEffect(()=>{if(xe===Ce.current.activeId)return;if(xe!=null&&Ce.current.activeId==null){Ce.current.activeId=xe;return}const H=setTimeout(()=>{Ce.current.activeId=xe},50);return()=>clearTimeout(H)},[xe]),{active:L,activeIndex:w,attributes:ee,data:q,rect:G,index:F,newIndex:pe,items:m,isOver:I,isSorting:C,isDragging:re,listeners:Q,node:D,overIndex:E,over:ce,setNodeRef:Y,setActivatorNodeRef:de,setDroppableNodeRef:Z,setDraggableNodeRef:ue,transform:Je??fe,transition:it()};function it(){if(Je||He&&Ce.current.newIndex===F)return G7;if(!(X&&!S1(j)||!d)&&(C||Ze))return fc.Transition.toString({...d,property:Nx})}}function Z7(i,e){var t,r;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(t=i?.draggable)!=null?t:e.draggable,droppable:(r=i?.droppable)!=null?r:e.droppable}}function Zp(i){if(!i)return!1;const e=i.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const K7=[an.Down,an.Right,an.Up,an.Left],Q7=(i,e)=>{let{context:{active:t,collisionRect:r,droppableRects:a,droppableContainers:o,over:h,scrollableAncestors:c}}=e;if(K7.includes(i.code)){if(i.preventDefault(),!t||!r)return;const f=[];o.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const w=a.get(b.id);if(w)switch(i.code){case an.Down:r.top<w.top&&f.push(b);break;case an.Up:r.top>w.top&&f.push(b);break;case an.Left:r.left>w.left&&f.push(b);break;case an.Right:r.left<w.left&&f.push(b);break}});const d=AT({collisionRect:r,droppableRects:a,droppableContainers:f});let m=ix(d,"id");if(m===h?.id&&d.length>1&&(m=d[1].id),m!=null){const b=o.get(t.id),w=o.get(m),y=w?a.get(w.id):null,N=w?.node.current;if(N&&y&&b&&w){const E=A1(N).some((te,G)=>c[G]!==te),T=Cx(b,w),U=J7(b,w),P=E||!T?{x:0,y:0}:{x:U?r.width-y.width:0,y:U?r.height-y.height:0},F={x:y.left,y:y.top};return P.x&&P.y?F:Uf(F,P)}}}};function Cx(i,e){return!Zp(i)||!Zp(e)?!1:i.data.current.sortable.containerId===e.data.current.sortable.containerId}function J7(i,e){return!Zp(i)||!Zp(e)||!Cx(i,e)?!1:i.data.current.sortable.index<e.data.current.sortable.index}const $7=({slot:i,sectionId:e,size:t=48,width:r})=>{const{selectedSlots:a,setSelectedSlot:o,toggleSlotSelection:h,selectRangeTo:c,setSelectedSlots:f}=ha(),d=K0(),m=r??t,{isOver:b,setNodeRef:w}=xx({id:`slot-${i.id}`,data:{type:"slot",sectionId:e,slotId:i.id}}),{attributes:y,listeners:N,setNodeRef:A,transform:E,isDragging:T}=bx({id:`chord-${i.id}`,data:{type:"chord",chord:i.chord,originSlotId:i.id,originSectionId:e},disabled:!i.chord}),U=a.some(D=>D.slotId===i.id&&D.sectionId===e),P=E?{transform:`translate3d(${E.x}px, ${E.y}px, 0)`,zIndex:999}:void 0,F=D=>{if(D.button===0)if(D.stopPropagation(),D.shiftKey)c(e,i.id);else if(D.metaKey||D.ctrlKey)h(e,i.id);else if(U&&a.length>0){const I=[...a.filter(Z=>!(Z.sectionId===e&&Z.slotId===i.id)),{sectionId:e,slotId:i.id}];f(I)}else o(e,i.id)},te=(()=>{if(!i.chord)return;const D=i.chord.root;if(d[D])return d[D];const I=hl(D);for(const Z of Object.keys(d))if(hl(Z)===I)return d[Z];return"hsl(230, 60%, 50%)"})(),G=Math.max(8,Math.min(12,t*.22));return M.jsxs("div",{ref:w,onMouseDown:F,onClick:D=>D.stopPropagation(),onDoubleClick:D=>D.stopPropagation(),style:{width:m,height:t},className:Fs("rounded border-2 flex items-center justify-center transition-all relative flex-shrink-0",b?"border-accent-primary bg-accent-glow scale-105":"border-border-medium bg-bg-elevated",U?"ring-2 ring-accent-primary ring-offset-1 ring-offset-bg-primary":"",!i.chord&&"hover:border-text-muted cursor-pointer"),children:[!i.chord&&M.jsx("span",{className:"text-text-muted font-light select-none",style:{fontSize:G+4},children:"+"}),i.chord&&M.jsx("div",{ref:A,...N,...y,style:{...P,backgroundColor:te},className:Fs("w-full h-full rounded flex items-center justify-center font-bold shadow cursor-grab active:cursor-grabbing select-none overflow-hidden",T?"opacity-50":"opacity-100"),children:M.jsx("span",{style:{fontSize:G,color:X3(te||"")},className:"truncate px-0.5 text-center font-bold",children:i.chord.symbol})})]})},eE=i=>{const[e,t]=i;return e*(4/t)},tE=({measure:i,sectionId:e,index:t,chordSize:r=48,timeSignature:a,scale:o=1})=>{const{setMeasureSubdivision:h}=ha(),c=Math.max(.1,Math.min(1.6,o)),f=eE(a),d=i.beats.length,m=r*.9,b=Math.max(8,m*c),y=f%3===0?[1,3,6]:[2,4,8],N=A=>{Number.isFinite(A)&&h(e,i.id,A)};return M.jsxs("div",{className:"flex flex-col border-r-2 border-border-medium last:border-r-0 px-1 min-w-[64px]",style:{minWidth:b*Math.max(1,f)+8},children:[M.jsx("div",{className:"text-[8px] text-text-muted mb-0.5 font-mono uppercase tracking-wider text-center",children:t+1}),M.jsx("div",{className:"flex gap-0.5",children:i.beats.map(A=>{const E=Math.max(b*(A.duration||1),b);return M.jsx($7,{slot:A,sectionId:e,size:r,width:E},A.id)})}),M.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5 mt-1",children:[M.jsx("span",{className:"text-[8px] uppercase tracking-wider text-text-muted leading-tight",children:"Steps"}),M.jsxs("select",{value:d,onChange:A=>N(parseInt(A.target.value,10)),className:"bg-bg-tertiary text-text-primary text-[10px] rounded px-1 py-0.5 border border-border-subtle focus:outline-none",children:[y.map(A=>M.jsx("option",{value:A,className:"bg-bg-secondary text-text-primary",children:A},A)),!y.includes(d)&&M.jsx("option",{value:d,className:"bg-bg-secondary text-text-primary",children:d})]})]})]})},nE=({section:i,chordSize:e=48,scale:t=1})=>{const{removeSection:r,duplicateSection:a,updateSection:o,selectedSectionId:h,setSelectedSlot:c,setSectionMeasures:f,setSectionTimeSignature:d,currentSong:m,collapsedSections:b,toggleSectionCollapsed:w}=ha(),[y,N]=be.useState(!1),[A,E]=be.useState(i.name),T=be.useRef(null);be.useEffect(()=>{y&&T.current&&(T.current.focus(),T.current.select())},[y]);const U=C=>{C.stopPropagation(),E(i.name),N(!0)},P=()=>{const C=A.trim();C&&C!==i.name&&o(i.id,{name:C}),N(!1)},F=C=>{C.key==="Enter"?P():C.key==="Escape"&&(E(i.name),N(!1))},{attributes:q,listeners:te,setNodeRef:G,transform:D,transition:I,isDragging:Z}=X7({id:i.id,data:{type:"section",sectionId:i.id}}),L={transform:fc.Transform.toString(D),transition:I},j=C=>{C.stopPropagation(),confirm(`Delete section "${i.name}"?`)&&r(i.id)},$=()=>{c(i.id,null)},ee=(t??1)<=.2,ue=b[i.id]??!1,Q=i.timeSignature||m.timeSignature||[4,4],re=i.measures.length,ce=C=>{const z=Number.isFinite(C)?C:re;f(i.id,z)},de=C=>{const[z,X]=C.split("/").map(ae=>parseInt(ae,10));!z||!X||i.measures.some(ae=>ae.beats.some(fe=>!!fe.chord))&&!confirm("Changing the time signature will clear chords in this section. Continue?")||d(i.id,[z,X])},Ae=`${Q[0]}/${Q[1]}`,Y=[[4,4],[3,4],[2,4],[6,8]];return M.jsxs("div",{ref:G,style:L,className:Fs("flex flex-col bg-bg-secondary rounded-lg overflow-hidden border-2 shadow-[0_0_0_2px_rgba(255,255,255,0.12)] transition-all h-full",h===i.id?"border-accent-primary shadow-[0_0_0_2px_rgba(99,102,241,0.35)]":"border-border-medium",Z?"opacity-50":"opacity-100"),onClick:$,children:[M.jsxs("div",{className:Fs("flex items-center justify-between bg-bg-elevated border-b border-border-subtle group",ee?"px-1.5 py-1 gap-1.5":"flex-wrap gap-3 px-2 py-1.5"),children:[M.jsxs("div",{className:Fs("flex items-center min-w-0",ee?"gap-1":"gap-1.5"),children:[M.jsx("div",{...q,...te,className:"cursor-grab active:cursor-grabbing text-text-muted hover:text-text-primary shrink-0",title:"Drag section",children:M.jsx(jb,{size:ee?10:12})}),!ee&&M.jsx(M.Fragment,{children:y?M.jsx("input",{ref:T,type:"text",value:A,onChange:C=>E(C.target.value),onBlur:P,onKeyDown:F,onClick:C=>C.stopPropagation(),className:"font-medium text-xs text-text-primary bg-bg-tertiary border border-border-medium rounded px-1.5 py-0.5 w-24 focus:outline-none focus:border-accent-primary",maxLength:30}):M.jsx("span",{className:"font-medium text-xs text-text-primary cursor-pointer hover:text-accent-primary transition-colors truncate max-w-[120px]",onDoubleClick:U,title:"Double-click to rename",children:i.name})})]}),!ee&&M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded px-1.5 py-0.5",onClick:C=>C.stopPropagation(),children:[M.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Bars"}),M.jsx("input",{type:"number",min:1,max:32,value:re,onChange:C=>ce(parseInt(C.target.value,10)),className:"w-12 bg-transparent text-text-primary text-xs focus:outline-none"})]}),M.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-text-muted bg-bg-tertiary/70 border border-border-subtle rounded px-1.5 py-0.5",onClick:C=>C.stopPropagation(),children:[M.jsx("span",{className:"uppercase font-semibold tracking-wider text-[8px]",children:"Meter"}),M.jsx("select",{value:Ae,onChange:C=>de(C.target.value),className:"bg-transparent text-text-primary text-xs focus:outline-none",children:Y.map(([C,z])=>M.jsxs("option",{value:`${C}/${z}`,className:"bg-bg-secondary text-text-primary",children:[C,"/",z]},`${C}/${z}`))})]})]}),M.jsxs("div",{className:Fs("flex items-center gap-1",ee?"":"opacity-0 group-hover:opacity-100 focus-within:opacity-100 transition-opacity"),children:[M.jsx("button",{onClick:C=>{C.stopPropagation(),w(i.id)},className:Fs("p-1 rounded text-text-muted hover:text-text-primary",ee?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:ue?"Expand section":"Collapse section",children:ue?M.jsx(S0,{size:ee?12:11}):M.jsx(J0,{size:ee?12:11})}),M.jsx("button",{onClick:C=>{C.stopPropagation(),a(i.id)},className:Fs("p-1 rounded text-text-muted hover:text-text-primary",ee?"hover:bg-bg-tertiary/60":"hover:bg-bg-tertiary"),title:"Duplicate section",children:M.jsx(N4,{size:ee?12:11})}),M.jsx("button",{onClick:j,className:Fs("p-1 rounded text-text-muted hover:text-red-400",ee?"hover:bg-red-500/15":"hover:bg-red-500/10"),title:"Delete section",children:M.jsx(qb,{size:ee?12:11})})]})]}),ue?M.jsxs("div",{className:"flex items-center justify-between px-2 py-2 border-t border-border-subtle bg-bg-secondary text-[10px] text-text-muted",children:[M.jsx("span",{className:"font-semibold text-text-secondary truncate pr-2",children:i.name}),M.jsxs("div",{className:"flex items-center gap-2 uppercase tracking-wider",children:[M.jsxs("span",{children:[re," bars"]}),M.jsx("span",{children:Ae})]})]}):M.jsx("div",{className:"flex p-1.5 gap-0 overflow-x-auto flex-1",children:i.measures.map((C,z)=>M.jsx(tE,{measure:C,sectionId:i.id,index:z,chordSize:e,timeSignature:Q,scale:t},C.id))})]})},iE=({onAltChange:i})=>(ex({onDragMove:e=>{const t=e.modifiers?.altKey??!1;i(!!t)},onDragEnd:()=>i(!1),onDragCancel:()=>i(!1)}),null),rE=({height:i=180,scale:e=1})=>{const{currentSong:t,addSection:r,reorderSections:a,addChordToSlot:o,moveChord:h,moveSelection:c}=ha(),f=Math.max(.1,Math.min(1.6,e)),d=i-40,m=Math.max(32,Math.min(64,d-24)),[b,w]=An.useState(null),[y,N]=An.useState(null),[A,E]=An.useState(!1),T=_T($v(Vg,{activationConstraint:{distance:8}}),$v(Pg,{coordinateGetter:Q7})),U=F=>{const q=F.activatorEvent,te=!!(q&&"altKey"in q&&q.altKey);w(F.active.id),N({...F.active.data.current,copyMode:te}),E(te)},P=F=>{const{active:q,over:te}=F;if(w(null),N(null),E(!1),!!te){if(q.data.current?.type==="section"&&te.data.current?.type==="section"){if(q.id!==te.id){const G=t.sections.findIndex(I=>I.id===q.id),D=t.sections.findIndex(I=>I.id===te.id);a(Gg(t.sections,G,D))}return}if(q.data.current?.type==="chord"&&te.data.current?.type==="slot"){const G=q.data.current.originSlotId,D=q.data.current.originSectionId,I=te.data.current.slotId,Z=te.data.current.sectionId,L=q.data.current.chord;if(G&&D){if(G===I&&D===Z||c({sectionId:D,slotId:G},{sectionId:Z,slotId:I},y?.copyMode||A?"copy":"move"))return;const $=ha.getState(),ee=$.currentSong.sections.find(ue=>ue.id===Z)?.measures.flatMap(ue=>ue.beats).find(ue=>ue.id===I)?.chord;h(D,G,Z,I),ee?($.setSelectedSlot(D,G),$.setSelectedChord(ee)):L&&($.setSelectedSlot(Z,I),$.setSelectedChord(L))}else o(L,Z,I),ha.getState().setSelectedSlot(Z,I),ha.getState().setSelectedChord(L)}}};return An.useEffect(()=>{const F=te=>{te.altKey&&E(!0)},q=te=>{te.altKey||E(!1)};return window.addEventListener("keydown",F),window.addEventListener("keyup",q),()=>{window.removeEventListener("keydown",F),window.removeEventListener("keyup",q)}},[]),M.jsx("div",{className:"w-full h-full flex flex-col",children:M.jsx("div",{className:"flex-1 overflow-x-auto px-3 py-1.5 overflow-y-hidden",ref:F=>{F&&F.addEventListener("wheel",q=>{q.deltaY!==0&&(q.preventDefault(),F.scrollLeft+=q.deltaY)},{passive:!1})},children:M.jsxs(y7,{sensors:T,collisionDetection:ST,onDragStart:U,onDragEnd:P,children:[M.jsx(iE,{onAltChange:E}),M.jsx(P7,{items:t.sections.map(F=>F.id),strategy:z7,children:M.jsxs("div",{className:"flex gap-3 min-w-max h-full items-stretch",children:[t.sections.map(F=>M.jsx(nE,{section:F,chordSize:m,scale:f},F.id)),M.jsxs("button",{onClick:()=>r("chorus"),className:"w-10 rounded-lg border-2 border-dashed border-border-medium hover:border-accent-primary hover:bg-bg-elevated transition-all flex flex-col items-center justify-center text-text-muted hover:text-accent-primary gap-0.5 self-stretch",children:[M.jsx(Rb,{size:12}),M.jsx("span",{className:"text-[6px] font-medium uppercase tracking-wider",children:"Add"})]})]})}),M.jsxs(R7,{children:[b&&y?.type==="section"?M.jsx("div",{className:"opacity-80 rotate-2 scale-105",children:M.jsx("div",{className:"bg-bg-elevated p-4 rounded-xl border border-accent-primary w-[400px] h-[200px] flex items-center justify-center shadow-2xl",children:M.jsx("span",{className:"font-bold text-xl",children:"Moving Section..."})})}):null,b&&y?.type==="chord"?M.jsxs("div",{className:"relative",children:[M.jsx("div",{className:"w-24 h-24 rounded-lg bg-accent-primary text-white flex items-center justify-center font-bold text-xl shadow-2xl rotate-6 scale-110 cursor-grabbing",children:y.chord.symbol}),(y?.copyMode||A)&&M.jsx("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white text-[11px] font-bold px-2 py-0.5 rounded-full shadow-md border border-white",children:"+"})]}):null]})]})})})},sE=({highlightedNotes:i,rootNote:e,color:t="#6366f1"})=>{const r=["C","D","E","F","G","A","B"],a=i.map(m=>hl(m)),o=e?hl(e):null,h=m=>{const b=hl(m);return a.includes(b)},c=m=>o?hl(m)===o:!1,f=()=>{const m=[];for(let w=3;w<=4;w++)r.forEach(y=>{const N=h(y),A=c(y);m.push(M.jsx("div",{className:Fs("h-full border border-gray-400 rounded-b-sm relative transition-colors duration-200",!N&&"bg-white hover:bg-gray-100"),style:{width:`${100/14}%`,backgroundColor:N?A?t:`${t}99`:void 0},children:A&&M.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 rounded-full bg-white shadow-sm"})},`white-${w}-${y}`))});return m},d=()=>{const m=[],b=[14.3,28.6,57.1,71.4,85.7];for(let w=0;w<2;w++){const y=w*50;["C#","D#","F#","G#","A#"].forEach((A,E)=>{const T=h(A),U=c(A),P=y+b[E]/2;m.push(M.jsx("div",{className:Fs("absolute top-0 h-[65%] w-[4%] -translate-x-1/2 rounded-b-sm z-10 border border-black/50 transition-colors duration-200",!T&&"bg-gray-900"),style:{left:`${P}%`,backgroundColor:T?t:void 0,boxShadow:T?`0 0 12px ${t}`:"inset 0 -2px 4px rgba(0,0,0,0.3)"},children:U&&M.jsx("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1.5 h-1.5 rounded-full bg-white shadow-sm"})},`black-${w}-${A}`))})}return m};return M.jsxs("div",{className:"relative w-full h-16 bg-gray-700 rounded overflow-hidden select-none shadow-inner",children:[M.jsx("div",{className:"flex w-full h-full",children:f()}),d()]})},dy=()=>M.jsxs(M.Fragment,{children:[M.jsxs("section",{children:[M.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[M.jsx(_4,{size:12,className:"fill-accent-primary"}),"Quick Start"]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-3 text-sm text-gray-300",children:[M.jsx("p",{children:"The Chord Wheel puts chord theory into your hands. No music reading is necessary; simply rotate the transparent disk and analyze any chord progression instantly."}),M.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[M.jsx("li",{children:"Determine which chords belong to a given key"}),M.jsx("li",{children:"Transpose a chord progression to any key"}),M.jsx("li",{children:"Compose your own music"})]})]})]}),M.jsxs("section",{children:[M.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[M.jsx(q4,{size:12}),"Understanding the Rings"]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-bold text-white mb-2",children:"Inner Ring (Major)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Contains the 12 major chords arranged in the Circle of Fifths. Upper-case numerals (I, IV, V) denote major chords."})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-bold text-white mb-2",children:"Middle Ring (Minor)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Contains 24 minor chords. Lower-case numerals (ii, iii, vi) denote minor chords in a key."})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-bold text-white mb-2",children:"Outer Ring (Diminished)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"The vii chord for each key. The diminished chord has a harsh, dissonant quality due to the 5."})]})]})]}),M.jsxs("section",{children:[M.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[M.jsx(I4,{size:12}),"Roman Numerals"]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"Roman numerals denote the harmonic progression. Upper-case = major, lower-case = minor."}),M.jsxs("div",{className:"grid grid-cols-7 gap-2 text-center text-sm",children:[M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"I"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Tonic"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"ii"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Super"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"iii"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Mediant"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"IV"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Subdom"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"V"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Dominant"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"vi"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Relative"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2",children:[M.jsx("span",{className:"font-bold text-white",children:"vii"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"Leading"})]})]})]})]}),M.jsxs("section",{children:[M.jsxs("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3 flex items-center gap-2",children:[M.jsx(u4,{size:12}),"The Circle of Fifths"]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[M.jsx("p",{children:'Starting with C and moving clockwise (C  G  D  A  E  B  F#  Db  Ab  Eb  Bb  F), each step is a "dominant" (fifth) progression. This cyclical nature is one of the most fundamental principles in music theory.'}),M.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[M.jsx("li",{children:'Modulations often move one "key" clockwise or counter-clockwise'}),M.jsx("li",{children:"Neighboring keys share many chords in common"}),M.jsx("li",{children:"The strong pull of V  I is why songs resolve satisfyingly"})]})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Building Chords"}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 space-y-4",children:[M.jsxs("div",{children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"Triads (3 Notes)"}),M.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Built using "every other note" of the scale: Root, 3rd, 5th'}),M.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Major"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Minor"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Diminished"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5"})]})]})]}),M.jsxs("div",{children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"Seventh Chords (4 Notes)"}),M.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Add the 7th note: 1st, 3rd, 5th, 7th"}),M.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Major 7th (maj7)"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Dominant 7th (7)"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Minor 7th (m7)"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-2 text-center",children:[M.jsx("span",{className:"text-white font-medium",children:"Half-Dim (m75)"}),M.jsx("span",{className:"block text-[10px] text-gray-500",children:"1-3-5-7"})]})]})]})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Common Progressions"}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-IV-V (Pop/Rock)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - F - G"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The foundation of rock 'n' roll"})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"ii-V-I (Jazz)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: Dm7 - G7 - Cmaj7"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The most common jazz progression"})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-vi-IV-V (50s/Doo-wop)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - Am - F - G"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Also used in countless pop songs"})]}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4",children:[M.jsx("h4",{className:"font-semibold text-white mb-2",children:"I-V-vi-IV (Modern Pop)"}),M.jsx("p",{className:"text-sm text-gray-400",children:"Key of C: C - G - Am - F"}),M.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'The "4 chord song" progression'})]})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Secondary Dominants (II & III)"}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[M.jsxs("p",{children:["The II and III chords (shown with half-highlighting) aren't diatonic but are commonly used. They're called ",M.jsx("strong",{className:"text-white",children:"secondary dominants"}),' because they "act" like dominant V chords:']}),M.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-400",children:[M.jsxs("li",{children:[M.jsx("strong",{className:"text-white",children:"II"})," (D in key of C) = V of V (leads strongly to G)"]}),M.jsxs("li",{children:[M.jsx("strong",{className:"text-white",children:"III"})," (E in key of C) = V of vi (leads strongly to Am)"]})]}),M.jsx("p",{className:"text-gray-400",children:"Study chord progressions by The Beatles, Rolling Stones, Elvis Costello, and you'll discover these two chords add tremendous variety."})]})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-accent-primary font-bold text-sm uppercase tracking-wider mb-3",children:"Modes & Relative Minor"}),M.jsxs("div",{className:"bg-bg-elevated/50 rounded-lg p-4 text-sm text-gray-300 space-y-3",children:[M.jsxs("p",{children:["The vi chord (Am in key of C) is special: it's the ",M.jsx("strong",{className:"text-white",children:"relative minor"}),". Songs emphasizing vi as the tonic create a minor mood using the same chords."]}),M.jsxs("div",{className:"grid grid-cols-7 gap-1 text-center text-[10px] mt-3",children:[M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"I"}),M.jsx("span",{className:"block text-gray-500",children:"Ionian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"ii"}),M.jsx("span",{className:"block text-gray-500",children:"Dorian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"iii"}),M.jsx("span",{className:"block text-gray-500",children:"Phrygian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"IV"}),M.jsx("span",{className:"block text-gray-500",children:"Lydian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"V"}),M.jsx("span",{className:"block text-gray-500",children:"Mixolyd."})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"vi"}),M.jsx("span",{className:"block text-gray-500",children:"Aeolian"})]}),M.jsxs("div",{className:"bg-bg-tertiary rounded p-1.5",children:[M.jsx("span",{className:"font-bold text-white",children:"vii"}),M.jsx("span",{className:"block text-gray-500",children:"Locrian"})]})]})]})]})]}),aE=({isOpen:i,onClose:e,isEmbedded:t=!1})=>i?t?M.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col bg-[#1a1a24]",children:[M.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border-subtle bg-[#22222e] shrink-0",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:M.jsx(A0,{size:12,className:"text-white"})}),M.jsx("h2",{className:"text-sm font-bold text-white",children:"Guide"})]}),M.jsx("button",{onClick:e,className:"p-1 hover:bg-bg-tertiary rounded transition-colors text-text-muted hover:text-white",children:M.jsx(Ov,{size:16})})]}),M.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-6 sm:py-6 space-y-8",children:M.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:M.jsx(dy,{})})})]}):M.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:[M.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm pointer-events-none"}),M.jsxs("div",{className:"relative bg-[#1a1a24] border border-border-medium rounded-xl shadow-2xl max-w-4xl w-full max-h-[85vh] overflow-hidden flex flex-col pointer-events-auto",children:[M.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border-subtle bg-[#22222e]",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center",children:M.jsx(A0,{size:16,className:"text-white"})}),M.jsx("h2",{className:"text-lg font-bold text-white",children:"Chord Wheel Guide"})]}),M.jsx("button",{onClick:e,className:"p-2 hover:bg-bg-tertiary rounded-lg transition-colors text-text-muted hover:text-white",children:M.jsx(Ov,{size:20})})]}),M.jsx("div",{className:"flex-1 overflow-y-auto px-[20px] py-[20px] sm:px-8 sm:py-8 space-y-8",children:M.jsx("div",{className:"space-y-8 text-sm leading-relaxed [p]:mb-3 [p]:mx-[20px] [ul]:mx-[20px] [li]:ml-4",children:M.jsx(dy,{})})}),M.jsx("div",{className:"px-6 py-4 sm:px-8 sm:py-5 border-t border-border-subtle bg-[#22222e] text-center",children:M.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Drag the wheel or use the rotation buttons to change keys. Click any chord to see details."})})]})]}):null,py=({variant:i="sidebar"})=>{const{selectedChord:e,selectedKey:t,chordPanelVisible:r,toggleChordPanel:a,selectedSectionId:o,selectedSlotId:h,addChordToSlot:c,setSelectedChord:f,selectNextSlotAfter:d,setSelectedSlot:m}=ha(),b=K0(),[w,y]=be.useState(null),[N,A]=be.useState([]),[E,T]=be.useState(280),[U,P]=be.useState(!1),[F,q]=be.useState(!1),te=be.useRef(0),G=i==="drawer",[D,I]=be.useState(e),Z=e??D,L={maj:"Bright, stable major triad  home base sound.",7:"Dominant 7: bluesy tension that wants to resolve.",maj7:"Dreamy, smooth major color  great on I or IV.",maj9:"Airy, modern major flavor; adds sparkle without tension.",maj13:"Lush, extended major pad; orchestral/jazz sheen.",6:"Warm vintage major; softer than maj7 for tonic use.",13:"Dominant with a soulful top; funky/jazz turnaround vibe.",m7:"Soulful, laid-back minor  default jazz ii sound.",m9:"Lush, cinematic minor color with extra depth.",m11:"Spacious, modal minor; great for grooves and vamps.",m6:"Bittersweet/film-noir minor; nice tonic minor option.",sus2:"Open and airy with no third; neutral pop/ambient feel.",sus4:"Suspended tension that likes to resolve to major.",dim:"Tense and unstable; classic passing/leading chord.",m7b5:"Half-diminished; dark ii chord in minor keys.",add9:"Sparkly major with no 7th; modern pop shimmer.",9:"Dominant 9: rich funk/jazz tension with color.",11:"Dominant 11: suspended, modal flavor over V."},j=["maj","7","maj7","maj9","maj13","6","13","m7","m9","m11","m6","sus2","sus4","dim","m7b5","add9","9","11"],$=C=>{if(!Z?.root)return"-";const z=xe=>xe.replace(/[\d]/g,"").replace(//,"b").replace(//,"#"),X={C:0,"B#":0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,Fb:4,"E#":5,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11,Cb:11},ie=X[z(Z.root)],ae=X[z(C)];if(ie===void 0||ae===void 0)return"-";const fe=(ae-ie+12)%12;return{0:"R",1:"2",2:"2",3:"3",4:"3",5:"4",6:"5",7:"5",8:"6",9:"6",10:"7",11:"7"}[fe]??"-"},ee=be.useCallback(C=>{G||(C.preventDefault(),P(!0))},[G]);be.useEffect(()=>{if(!U||G)return;const C=X=>{const ie=window.innerWidth-X.clientX;T(Math.max(200,Math.min(400,ie)))},z=()=>{P(!1)};return document.addEventListener("mousemove",C),document.addEventListener("mouseup",z),()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",z)}},[U,G]),be.useEffect(()=>{e&&I(e)},[e]),be.useEffect(()=>{y(null),A([])},[Z?.root,Z?.quality]);const ue=Z&&b[Z.root]||"#6366f1",Q=N.length>0?N:Z?.notes||[],re=C=>{const z=Date.now();if(z-te.current<300||(te.current=z,!Z))return;const X=ch(Z.root,C);console.log(`Playing ${Z.root}${C}:`,X),K_(X),y(C),A(X)},ce=C=>{if(te.current=0,!Z||!o||!h)return;const z=ch(Z.root,C),X={...Z,quality:C,symbol:`${Z.root}${C}`,notes:z};c(X,o,h),d(o,h)||(m(o,h),f(X))},de=()=>{y(null),A([])},Ae=()=>{if(!Z)return"";const C=Z.numeral;return{I:"The tonic chord  your home base. Most songs begin and end here. Try adding maj7 or 6 for a jazzier sound.",ii:"The supertonic  a pre-dominant chord that naturally leads to V. The ii-V-I progression is fundamental in jazz and pop.",iii:"The mediant  shares two notes with I. Can substitute for I or lead to vi. Often used for color.",IV:'The subdominant  creates a "plagal" sound. The IV-I is the "Amen" cadence. Adds warmth to choruses.',V:"The dominant  creates tension that resolves to I. Add a 7th for extra pull toward home.",vi:"The relative minor  shares the same notes as I major. The vi-IV-I-V is hugely popular in pop music.","vii":"The leading tone chord  unstable and wants to resolve to I. Often used as a passing chord.",II:"Secondary dominant (V/V)  borrows dominant function to approach V. Common in jazz.",III:"Secondary dominant (V/vi)  leads strongly to vi. Creates a dramatic shift."}[C||""]||"This chord adds color and interest to your progression."},Y=()=>{if(!Z)return{extensions:[],description:""};let C=Z.numeral;if(C&&C.includes("(")){const X=C.match(/^(.+?)\s*\(/);X&&(C=X[1].trim())}return{I:{extensions:["maj7","maj9","maj13","6"],description:"Major 7th or 6th voicings sound rich and resolved"},IV:{extensions:["maj7","maj9","maj13","6"],description:"Same as I  warm major extensions work beautifully"},V:{extensions:["7","9","11","sus4","13"],description:"Dominant 7th adds tension that pulls to I"},ii:{extensions:["m7","m9","m11","m6"],description:"Minor 7th extensions for a smooth jazz sound"},iii:{extensions:["m7"],description:"Keep it simple  m7 is most common for iii"},vi:{extensions:["m7","m9","m11"],description:"Minor extensions add depth and emotion"},"vii":{extensions:["m75"],description:"Half-diminished (7) is the standard voicing"},II:{extensions:["7","sus4"],description:"Dominant voicing as V/V  leads strongly to V"},III:{extensions:["7","sus4"],description:"Dominant voicing as V/vi  leads strongly to vi"}}[C||""]||{extensions:[],description:`This chord doesn't fit in the key of ${t}, but it may add color and interest to your progression.`}};return r?M.jsxs("div",{className:G?"fixed inset-x-3 bottom-[88px] max-h-[70vh] bg-bg-secondary border border-border-subtle rounded-2xl shadow-2xl overflow-hidden z-40 flex":"h-full flex bg-bg-secondary border-l border-border-subtle shrink-0",style:G?void 0:{width:E,minWidth:E},children:[!G&&M.jsx("div",{className:`w-2 flex items-center justify-center cursor-ew-resize hover:bg-bg-tertiary transition-colors ${U?"bg-accent-primary/20":""} relative z-[60]`,onMouseDown:ee,children:M.jsx(jb,{size:12,className:"text-text-muted"})}),M.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-w-0 relative",children:[M.jsxs("div",{className:`p-3 border-b border-border-subtle flex justify-between items-center gap-2 shrink-0 ${G?"bg-bg-secondary/80 backdrop-blur-md":""}`,children:[M.jsxs("span",{className:"flex items-center",children:[M.jsx("span",{className:"text-base sm:text-lg font-bold text-text-primary leading-none",children:Z?Z.symbol:"Chord Details"}),Z?.numeral&&M.jsx("span",{className:"text-[11px] font-serif italic text-text-secondary ml-3",children:Z.numeral})]}),M.jsx("div",{className:"flex items-center gap-2",children:M.jsx("button",{onClick:a,className:"p-1 hover:bg-bg-tertiary rounded transition-colors",title:"Hide panel",children:M.jsx(V4,{size:16,className:"text-text-muted"})})})]}),Z?M.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0",children:[M.jsx("div",{className:"px-4 py-3 border-b border-border-subtle bg-bg-elevated/30",children:M.jsxs("p",{className:"text-xs text-text-muted",children:["Key of ",M.jsx("span",{className:"font-bold text-text-primary text-sm",children:t})]})}),M.jsxs("div",{className:"px-4 py-4 border-b border-border-subtle",children:[M.jsxs("div",{className:"flex items-center justify-between mb-3",children:[M.jsxs("h3",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider",children:["Voicing ",w&&M.jsxs("span",{className:"text-accent-primary ml-1",children:["(",w,")"]})]}),w&&M.jsxs("button",{onClick:de,className:"text-[9px] text-accent-primary hover:text-accent-secondary transition-colors",children:[" back to ",Z.symbol]})]}),M.jsx(sE,{highlightedNotes:Q,rootNote:Z.root,color:ue}),M.jsx("div",{className:"mt-4 w-full",children:M.jsxs("div",{className:"grid w-full items-center gap-y-1",style:{gridTemplateColumns:`auto repeat(${Q.length}, minmax(0,1fr))`,columnGap:"6px",rowGap:"4px"},children:[M.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Notes"}),Q.map((C,z)=>M.jsx("div",{className:"text-center text-[12px] font-bold text-text-primary leading-none py-1",style:{minHeight:24},children:C},`note-${z}`)),M.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Absolute"}),Q.map((C,z)=>M.jsx("div",{className:"text-center text-[11px] text-text-primary font-semibold leading-none py-1",style:{minHeight:24},children:$(C)},`abs-${z}`)),M.jsx("div",{className:"text-[9px] font-semibold uppercase tracking-wide text-text-muted leading-tight",children:"Relative to Key"}),Q.map((C,z)=>M.jsx("div",{className:"text-center text-[11px] text-text-secondary leading-none py-1",style:{minHeight:24},children:W3(t,C).replace(/^1/,"R")},`rel-${z}`))]})})]}),M.jsxs("div",{className:"px-4 py-4 border-b border-border-subtle",children:[M.jsx("h3",{className:"text-[10px] font-bold text-text-muted uppercase tracking-wider mb-3",children:"Variations"}),M.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-1.5",children:j.map((C,z)=>{const ie=z%2===0?{left:"calc(100% + 10px)"}:{right:"calc(100% + 10px)"};return M.jsxs("button",{className:`relative group px-2 py-1.5 rounded text-[10px] font-medium transition-colors border ${w===C?"bg-accent-primary text-white border-accent-primary":"bg-bg-elevated hover:bg-bg-tertiary text-text-secondary hover:text-text-primary border-border-subtle"}`,onClick:()=>re(C),onDoubleClick:()=>ce(C),children:[C,L[C]&&M.jsx("span",{className:"pointer-events-none absolute top-1/2 -translate-y-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-150 z-50 w-44 text-left",style:{...ie,backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:L[C]})]},C)})})]}),Z?.numeral&&Y().extensions.length>0&&M.jsxs("div",{className:"px-4 py-4 border-b border-border-subtle bg-accent-primary/5",children:[M.jsxs("h3",{className:"text-[10px] font-bold text-accent-primary uppercase tracking-wider mb-3",children:["Suggested for ",Z.numeral]}),M.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:Y().extensions.map(C=>M.jsxs("button",{className:`relative group px-3 py-1.5 rounded text-xs font-semibold transition-colors ${w===C?"bg-accent-primary text-white":"bg-bg-elevated hover:bg-accent-primary/20 text-text-primary border border-border-subtle"}`,onClick:()=>re(C),onDoubleClick:()=>ce(C),children:[Z.root,C,L[C]&&M.jsx("span",{className:"pointer-events-none absolute -top-6 -translate-y-full left-1/2 -translate-x-1/2 whitespace-normal text-[10px] leading-tight bg-black text-white px-3 py-2 rounded border border-white/10 shadow-xl opacity-0 group-hover:opacity-100 group-active:opacity-0 group-focus:opacity-0 transition-opacity duration-150 group-hover:delay-150 z-50 w-44 text-left",style:{backgroundColor:"#000",color:"#fff",padding:"8px 10px"},children:L[C]})]},C))}),M.jsx("p",{className:"text-[10px] text-text-muted leading-relaxed",children:Y().description})]}),M.jsx("div",{className:"px-4 py-4",children:M.jsxs("div",{className:"p-4 bg-bg-elevated rounded-lg border border-border-subtle",children:[M.jsx("h3",{className:"text-[10px] font-bold text-accent-primary uppercase tracking-wider mb-2",children:"Theory"}),M.jsx("p",{className:"text-xs text-text-secondary leading-relaxed",children:Ae()})]})})]}):M.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:M.jsx("p",{className:"text-sm text-text-muted text-center",children:"Select a chord from the wheel or timeline"})}),M.jsx("div",{className:"p-3 border-t border-border-subtle flex justify-end shrink-0",children:M.jsx("button",{onClick:()=>q(!0),className:"w-9 h-9 flex items-center justify-center bg-bg-tertiary hover:bg-accent-primary/20 border border-border-subtle rounded-full text-text-muted hover:text-accent-primary transition-colors shadow-lg",title:"Chord Wheel Guide",children:M.jsx(y4,{size:16})})})]}),M.jsx(aE,{isOpen:F,onClose:()=>q(!1)})]}):G?M.jsxs("button",{onClick:a,className:"w-full h-11 flex items-center justify-center gap-2 bg-bg-secondary border border-border-subtle rounded-xl text-[11px] font-semibold text-text-primary shadow-md",title:"Show chord details",children:[M.jsx(J0,{size:14}),M.jsx("span",{children:"Open chord details"})]}):M.jsx("button",{onClick:a,className:"h-full px-2 flex items-center justify-center bg-bg-secondary border-l border-border-subtle hover:bg-bg-tertiary transition-colors shrink-0",title:"Show chord details",children:M.jsx(G4,{size:18,className:"text-text-muted"})})},oE=()=>{const{isPlaying:i,tempo:e,volume:t,setIsPlaying:r,setTempo:a,setVolume:o,instrument:h,setInstrument:c,isMuted:f,toggleMute:d}=ha(),m=async()=>{i?r(!1):(await Bg(),r(!0))},b=[{value:"piano",label:"Piano"},{value:"epiano",label:"Electric Piano"},{value:"organ",label:"Organ"},{value:"pad",label:"Pad"},{value:"guitar",label:"Guitar"}];b.find(y=>y.value===h)||c("piano");const w=y=>{const N=b.findIndex(E=>E.value===h);if(N===-1){c("piano");return}const A=y==="next"?(N+1)%b.length:(N-1+b.length)%b.length;c(b[A].value)};return M.jsxs("div",{className:"h-14 bg-bg-elevated border-t border-border-subtle flex items-center justify-between px-6",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("button",{className:"p-1.5 text-text-secondary hover:text-text-primary transition-colors",children:M.jsx(iS,{size:16})}),M.jsx("button",{onClick:m,className:"w-9 h-9 rounded-full bg-accent-primary hover:bg-indigo-500 flex items-center justify-center text-white shadow-lg transition-all hover:scale-105 active:scale-95",children:i?M.jsx(W4,{size:18,fill:"currentColor"}):M.jsx(Z4,{size:18,fill:"currentColor",className:"ml-0.5"})}),M.jsx("button",{className:"p-1.5 text-text-secondary hover:text-text-primary transition-colors",children:M.jsx(sS,{size:16})}),M.jsx("button",{className:"p-1.5 text-text-secondary hover:text-text-primary transition-colors ml-1",children:M.jsx(J4,{size:14})})]}),M.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-text-muted",children:[M.jsxs("div",{className:"flex items-center gap-1.5",children:[M.jsx("span",{children:"Tempo"}),M.jsx("input",{type:"number",value:e,onChange:y=>a(Number(y.target.value)),className:"w-10 bg-bg-tertiary border border-border-subtle rounded px-1 py-0.5 text-center text-text-primary text-[10px]"}),M.jsx("span",{children:"BPM"})]}),M.jsx("span",{className:"text-text-muted",children:""}),M.jsx("span",{children:"4/4"})]}),M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("div",{className:"flex items-center rounded bg-bg-tertiary/60 border border-border-subtle/70 h-8",children:[M.jsx("button",{onClick:()=>w("prev"),className:"px-1.5 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-l transition-colors flex items-center",title:"Previous instrument",children:M.jsx(m4,{size:12})}),M.jsx("button",{onClick:()=>w("next"),className:"px-1.5 h-full text-text-secondary hover:text-text-primary hover:bg-bg-tertiary rounded-r transition-colors flex items-center",title:"Next instrument",children:M.jsx(d4,{size:12})})]}),M.jsx("select",{value:h,onChange:y=>c(y.target.value),className:"bg-bg-tertiary border border-border-subtle rounded px-2 h-8 text-[10px] text-text-secondary focus:outline-none focus:border-accent-primary cursor-pointer min-w-[140px]",children:b.map(y=>M.jsx("option",{value:y.value,children:y.label},y.value))})]}),M.jsxs("div",{className:"flex items-center gap-2 w-32",children:[M.jsx("button",{onClick:d,className:"text-text-secondary hover:text-text-primary transition-colors",title:f?"Unmute":"Mute",children:f||t===0?M.jsx(uS,{size:14}):M.jsx(lS,{size:14})}),M.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:f?0:t,onChange:y=>{f&&d(),o(Number(y.target.value))},className:`w-full h-1 bg-bg-tertiary rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-2.5 [&::-webkit-slider-thumb]:h-2.5 [&::-webkit-slider-thumb]:bg-accent-primary [&::-webkit-slider-thumb]:rounded-full ${f?"opacity-50":""}`})]})]})]})},lE="modulepreload",cE=function(i){return"/chord-wheel-writer/"+i},my={},Jm=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let f=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),c=h?.nonce||h?.getAttribute("nonce");a=f(t.map(d=>{if(d=cE(d),d in my)return;my[d]=!0;const m=d.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${b}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":lE,m||(w.as="script"),w.crossOrigin="",w.href=d,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((y,N)=>{w.addEventListener("load",y),w.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(h){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=h,window.dispatchEvent(c),!c.defaultPrevented)throw h}return a.then(h=>{for(const c of h||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function Ln(i){"@babel/helpers - typeof";return Ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(i)}var Qa=Uint8Array,Vs=Uint16Array,Yg=Int32Array,Wg=new Qa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xg=new Qa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gy=new Qa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tx=function(i,e){for(var t=new Vs(31),r=0;r<31;++r)t[r]=e+=1<<i[r-1];for(var a=new Yg(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)a[o]=o-t[r]<<5|r;return{b:t,r:a}},Ex=Tx(Wg,2),uE=Ex.b,B0=Ex.r;uE[28]=258,B0[258]=28;var hE=Tx(Xg,0),vy=hE.r,q0=new Vs(32768);for(var ai=0;ai<32768;++ai){var tc=(ai&43690)>>1|(ai&21845)<<1;tc=(tc&52428)>>2|(tc&13107)<<2,tc=(tc&61680)>>4|(tc&3855)<<4,q0[ai]=((tc&65280)>>8|(tc&255)<<8)>>1}var Mf=(function(i,e,t){for(var r=i.length,a=0,o=new Vs(e);a<r;++a)i[a]&&++o[i[a]-1];var h=new Vs(e);for(a=1;a<e;++a)h[a]=h[a-1]+o[a-1]<<1;var c;if(t){c=new Vs(1<<e);var f=15-e;for(a=0;a<r;++a)if(i[a])for(var d=a<<4|i[a],m=e-i[a],b=h[i[a]-1]++<<m,w=b|(1<<m)-1;b<=w;++b)c[q0[b]>>f]=d}else for(c=new Vs(r),a=0;a<r;++a)i[a]&&(c[a]=q0[h[i[a]-1]++]>>15-i[a]);return c}),su=new Qa(288);for(var ai=0;ai<144;++ai)su[ai]=8;for(var ai=144;ai<256;++ai)su[ai]=9;for(var ai=256;ai<280;++ai)su[ai]=7;for(var ai=280;ai<288;++ai)su[ai]=8;var Kp=new Qa(32);for(var ai=0;ai<32;++ai)Kp[ai]=5;var fE=Mf(su,9,0),dE=Mf(Kp,5,0),kx=function(i){return(i+7)/8|0},pE=function(i,e,t){return(t==null||t>i.length)&&(t=i.length),new Qa(i.subarray(e,t))},ol=function(i,e,t){t<<=e&7;var r=e/8|0;i[r]|=t,i[r+1]|=t>>8},wf=function(i,e,t){t<<=e&7;var r=e/8|0;i[r]|=t,i[r+1]|=t>>8,i[r+2]|=t>>16},$m=function(i,e){for(var t=[],r=0;r<i.length;++r)i[r]&&t.push({s:r,f:i[r]});var a=t.length,o=t.slice();if(!a)return{t:Lx,l:0};if(a==1){var h=new Qa(t[0].s+1);return h[t[0].s]=1,{t:h,l:1}}t.sort(function(q,te){return q.f-te.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,m=1,b=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};m!=a-1;)c=t[t[d].f<t[b].f?d++:b++],f=t[d!=m&&t[d].f<t[b].f?d++:b++],t[m++]={s:-1,f:c.f+f.f,l:c,r:f};for(var w=o[0].s,r=1;r<a;++r)o[r].s>w&&(w=o[r].s);var y=new Vs(w+1),N=z0(t[m-1],y,0);if(N>e){var r=0,A=0,E=N-e,T=1<<E;for(o.sort(function(te,G){return y[G.s]-y[te.s]||te.f-G.f});r<a;++r){var U=o[r].s;if(y[U]>e)A+=T-(1<<N-y[U]),y[U]=e;else break}for(A>>=E;A>0;){var P=o[r].s;y[P]<e?A-=1<<e-y[P]++-1:++r}for(;r>=0&&A;--r){var F=o[r].s;y[F]==e&&(--y[F],++A)}N=e}return{t:new Qa(y),l:N}},z0=function(i,e,t){return i.s==-1?Math.max(z0(i.l,e,t+1),z0(i.r,e,t+1)):e[i.s]=t},yy=function(i){for(var e=i.length;e&&!i[--e];);for(var t=new Vs(++e),r=0,a=i[0],o=1,h=function(f){t[r++]=f},c=1;c<=e;++c)if(i[c]==a&&c!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)h(32754);o>2&&(h(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(h(a),--o;o>6;o-=6)h(8304);o>2&&(h(o-3<<5|8208),o=0)}for(;o--;)h(a);o=1,a=i[c]}return{c:t.subarray(0,r),n:e}},Sf=function(i,e){for(var t=0,r=0;r<e.length;++r)t+=i[r]*e[r];return t},Ox=function(i,e,t){var r=t.length,a=kx(e+2);i[a]=r&255,i[a+1]=r>>8,i[a+2]=i[a]^255,i[a+3]=i[a+1]^255;for(var o=0;o<r;++o)i[a+o+4]=t[o];return(a+4+r)*8},by=function(i,e,t,r,a,o,h,c,f,d,m){ol(e,m++,t),++a[256];for(var b=$m(a,15),w=b.t,y=b.l,N=$m(o,15),A=N.t,E=N.l,T=yy(w),U=T.c,P=T.n,F=yy(A),q=F.c,te=F.n,G=new Vs(19),D=0;D<U.length;++D)++G[U[D]&31];for(var D=0;D<q.length;++D)++G[q[D]&31];for(var I=$m(G,7),Z=I.t,L=I.l,j=19;j>4&&!Z[gy[j-1]];--j);var $=d+5<<3,ee=Sf(a,su)+Sf(o,Kp)+h,ue=Sf(a,w)+Sf(o,A)+h+14+3*j+Sf(G,Z)+2*G[16]+3*G[17]+7*G[18];if(f>=0&&$<=ee&&$<=ue)return Ox(e,m,i.subarray(f,f+d));var Q,re,ce,de;if(ol(e,m,1+(ue<ee)),m+=2,ue<ee){Q=Mf(w,y,0),re=w,ce=Mf(A,E,0),de=A;var Ae=Mf(Z,L,0);ol(e,m,P-257),ol(e,m+5,te-1),ol(e,m+10,j-4),m+=14;for(var D=0;D<j;++D)ol(e,m+3*D,Z[gy[D]]);m+=3*j;for(var Y=[U,q],C=0;C<2;++C)for(var z=Y[C],D=0;D<z.length;++D){var X=z[D]&31;ol(e,m,Ae[X]),m+=Z[X],X>15&&(ol(e,m,z[D]>>5&127),m+=z[D]>>12)}}else Q=fE,re=su,ce=dE,de=Kp;for(var D=0;D<c;++D){var ie=r[D];if(ie>255){var X=ie>>18&31;wf(e,m,Q[X+257]),m+=re[X+257],X>7&&(ol(e,m,ie>>23&31),m+=Wg[X]);var ae=ie&31;wf(e,m,ce[ae]),m+=de[ae],ae>3&&(wf(e,m,ie>>5&8191),m+=Xg[ae])}else wf(e,m,Q[ie]),m+=re[ie]}return wf(e,m,Q[256]),m+re[256]},mE=new Yg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Lx=new Qa(0),gE=function(i,e,t,r,a,o){var h=o.z||i.length,c=new Qa(r+h+5*(1+Math.ceil(h/7e3))+a),f=c.subarray(r,c.length-a),d=o.l,m=(o.r||0)&7;if(e){m&&(f[0]=o.r>>3);for(var b=mE[e-1],w=b>>13,y=b&8191,N=(1<<t)-1,A=o.p||new Vs(32768),E=o.h||new Vs(N+1),T=Math.ceil(t/3),U=2*T,P=function(it){return(i[it]^i[it+1]<<T^i[it+2]<<U)&N},F=new Yg(25e3),q=new Vs(288),te=new Vs(32),G=0,D=0,I=o.i||0,Z=0,L=o.w||0,j=0;I+2<h;++I){var $=P(I),ee=I&32767,ue=E[$];if(A[ee]=ue,E[$]=ee,L<=I){var Q=h-I;if((G>7e3||Z>24576)&&(Q>423||!d)){m=by(i,f,0,F,q,te,D,Z,j,I-j,m),Z=G=D=0,j=I;for(var re=0;re<286;++re)q[re]=0;for(var re=0;re<30;++re)te[re]=0}var ce=2,de=0,Ae=y,Y=ee-ue&32767;if(Q>2&&$==P(I-Y))for(var C=Math.min(w,Q)-1,z=Math.min(32767,I),X=Math.min(258,Q);Y<=z&&--Ae&&ee!=ue;){if(i[I+ce]==i[I+ce-Y]){for(var ie=0;ie<X&&i[I+ie]==i[I+ie-Y];++ie);if(ie>ce){if(ce=ie,de=Y,ie>C)break;for(var ae=Math.min(Y,ie-2),fe=0,re=0;re<ae;++re){var pe=I-Y+re&32767,xe=A[pe],Ce=pe-xe&32767;Ce>fe&&(fe=Ce,ue=pe)}}}ee=ue,ue=A[ee],Y+=ee-ue&32767}if(de){F[Z++]=268435456|B0[ce]<<18|vy[de];var He=B0[ce]&31,Ze=vy[de]&31;D+=Wg[He]+Xg[Ze],++q[257+He],++te[Ze],L=I+ce,++G}else F[Z++]=i[I],++q[i[I]]}}for(I=Math.max(I,L);I<h;++I)F[Z++]=i[I],++q[i[I]];m=by(i,f,d,F,q,te,D,Z,j,I-j,m),d||(o.r=m&7|f[m/8|0]<<3,m-=7,o.h=E,o.p=A,o.i=I,o.w=L)}else{for(var I=o.w||0;I<h+d;I+=65535){var Je=I+65535;Je>=h&&(f[m/8|0]=d,Je=h),m=Ox(f,m+1,i.subarray(I,Je))}o.i=h}return pE(c,0,r+kx(m)+a)},Mx=function(){var i=1,e=0;return{p:function(t){for(var r=i,a=e,o=t.length|0,h=0;h!=o;){for(var c=Math.min(h+2655,o);h<c;++h)a+=r+=t[h];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}i=r,e=a},d:function(){return i%=65521,e%=65521,(i&255)<<24|(i&65280)<<8|(e&255)<<8|e>>8}}},vE=function(i,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),h=new Qa(o.length+i.length);h.set(o),h.set(i,o.length),i=h,a.w=o.length}return gE(i,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+e.mem,t,r,a)},Dx=function(i,e,t){for(;t;++e)i[e]=t,t>>>=8},yE=function(i,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(i[0]=120,i[1]=r<<6|(e.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,e.dictionary){var a=Mx();a.p(e.dictionary),Dx(i,2,a.d())}};function F0(i,e){e||(e={});var t=Mx();t.p(i);var r=vE(i,e,e.dictionary?6:2,4);return yE(r,e),Dx(r,r.length-4,t.d()),r}var bE=typeof TextDecoder<"u"&&new TextDecoder,_E=0;try{bE.decode(Lx,{stream:!0}),_E=1}catch{}function xE(i){if(Array.isArray(i))return i}function wE(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var r,a,o,h,c=[],f=!0,d=!1;try{if(o=(t=t.call(i)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(m){d=!0,a=m}finally{try{if(!f&&t.return!=null&&(h=t.return(),Object(h)!==h))return}finally{if(d)throw a}}return c}}function _y(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=Array(e);t<e;t++)r[t]=i[t];return r}function SE(i,e){if(i){if(typeof i=="string")return _y(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_y(i,e):void 0}}function AE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xy(i,e){return xE(i)||wE(i,e)||SE(i,e)||AE()}function wy(i,e="utf8"){return new TextDecoder(e).decode(i)}const NE=new TextEncoder;function CE(i){return NE.encode(i)}const TE=1024*8,EE=(()=>{const i=new Uint8Array(4),e=new Uint32Array(i.buffer);return!((e[0]=1)&i[0])})(),e0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Zg{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=TE,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,o=e.byteLength-a;let h=a;(ArrayBuffer.isView(e)||e instanceof Zg)&&(e.byteLength!==e.buffer.byteLength&&(h=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=e0[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+r);if(this.littleEndian===EE&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+r));c.reverse();const f=new e0[t](c.buffer);return this.offset+=r,f.reverse(),f}const h=new e0[t](o);return this.offset+=r,h}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return wy(this.readBytes(e))}decodeText(e=1,t="utf8"){return wy(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(CE(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Rh(i){let e=i.length;for(;--e>=0;)i[e]=0}const kE=3,OE=258,jx=29,LE=256,ME=LE+1+jx,Rx=30,DE=512,jE=new Array((ME+2)*2);Rh(jE);const RE=new Array(Rx*2);Rh(RE);const IE=new Array(DE);Rh(IE);const BE=new Array(OE-kE+1);Rh(BE);const qE=new Array(jx);Rh(qE);const zE=new Array(Rx);Rh(zE);const FE=(i,e,t,r)=>{let a=i&65535|0,o=i>>>16&65535|0,h=0;for(;t!==0;){h=t>2e3?2e3:t,t-=h;do a=a+e[r++]|0,o=o+a|0;while(--h);a%=65521,o%=65521}return a|o<<16|0};var P0=FE;const PE=()=>{let i,e=[];for(var t=0;t<256;t++){i=t;for(var r=0;r<8;r++)i=i&1?3988292384^i>>>1:i>>>1;e[t]=i}return e},UE=new Uint32Array(PE()),VE=(i,e,t,r)=>{const a=UE,o=r+t;i^=-1;for(let h=r;h<o;h++)i=i>>>8^a[(i^e[h])&255];return i^-1};var Ao=VE,U0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ix={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const HE=(i,e)=>Object.prototype.hasOwnProperty.call(i,e);var GE=function(i){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)HE(t,r)&&(i[r]=t[r])}}return i},YE=i=>{let e=0;for(let r=0,a=i.length;r<a;r++)e+=i[r].length;const t=new Uint8Array(e);for(let r=0,a=0,o=i.length;r<o;r++){let h=i[r];t.set(h,a),a+=h.length}return t},Bx={assign:GE,flattenChunks:YE};let qx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{qx=!1}const Hf=new Uint8Array(256);for(let i=0;i<256;i++)Hf[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Hf[254]=Hf[254]=1;var WE=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let e,t,r,a,o,h=i.length,c=0;for(a=0;a<h;a++)t=i.charCodeAt(a),(t&64512)===55296&&a+1<h&&(r=i.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,a=0;o<c;a++)t=i.charCodeAt(a),(t&64512)===55296&&a+1<h&&(r=i.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const XE=(i,e)=>{if(e<65534&&i.subarray&&qx)return String.fromCharCode.apply(null,i.length===e?i:i.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(i[r]);return t};var ZE=(i,e)=>{const t=e||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,e));let r,a;const o=new Array(t*2);for(a=0,r=0;r<t;){let h=i[r++];if(h<128){o[a++]=h;continue}let c=Hf[h];if(c>4){o[a++]=65533,r+=c-1;continue}for(h&=c===2?31:c===3?15:7;c>1&&r<t;)h=h<<6|i[r++]&63,c--;if(c>1){o[a++]=65533;continue}h<65536?o[a++]=h:(h-=65536,o[a++]=55296|h>>10&1023,o[a++]=56320|h&1023)}return XE(o,a)},KE=(i,e)=>{e=e||i.length,e>i.length&&(e=i.length);let t=e-1;for(;t>=0&&(i[t]&192)===128;)t--;return t<0||t===0?e:t+Hf[i[t]]>e?t:e},V0={string2buf:WE,buf2string:ZE,utf8border:KE};function QE(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var JE=QE;const lp=16209,$E=16191;var ek=function(e,t){let r,a,o,h,c,f,d,m,b,w,y,N,A,E,T,U,P,F,q,te,G,D,I,Z;const L=e.state;r=e.next_in,I=e.input,a=r+(e.avail_in-5),o=e.next_out,Z=e.output,h=o-(t-e.avail_out),c=o+(e.avail_out-257),f=L.dmax,d=L.wsize,m=L.whave,b=L.wnext,w=L.window,y=L.hold,N=L.bits,A=L.lencode,E=L.distcode,T=(1<<L.lenbits)-1,U=(1<<L.distbits)-1;e:do{N<15&&(y+=I[r++]<<N,N+=8,y+=I[r++]<<N,N+=8),P=A[y&T];t:for(;;){if(F=P>>>24,y>>>=F,N-=F,F=P>>>16&255,F===0)Z[o++]=P&65535;else if(F&16){q=P&65535,F&=15,F&&(N<F&&(y+=I[r++]<<N,N+=8),q+=y&(1<<F)-1,y>>>=F,N-=F),N<15&&(y+=I[r++]<<N,N+=8,y+=I[r++]<<N,N+=8),P=E[y&U];n:for(;;){if(F=P>>>24,y>>>=F,N-=F,F=P>>>16&255,F&16){if(te=P&65535,F&=15,N<F&&(y+=I[r++]<<N,N+=8,N<F&&(y+=I[r++]<<N,N+=8)),te+=y&(1<<F)-1,te>f){e.msg="invalid distance too far back",L.mode=lp;break e}if(y>>>=F,N-=F,F=o-h,te>F){if(F=te-F,F>m&&L.sane){e.msg="invalid distance too far back",L.mode=lp;break e}if(G=0,D=w,b===0){if(G+=d-F,F<q){q-=F;do Z[o++]=w[G++];while(--F);G=o-te,D=Z}}else if(b<F){if(G+=d+b-F,F-=b,F<q){q-=F;do Z[o++]=w[G++];while(--F);if(G=0,b<q){F=b,q-=F;do Z[o++]=w[G++];while(--F);G=o-te,D=Z}}}else if(G+=b-F,F<q){q-=F;do Z[o++]=w[G++];while(--F);G=o-te,D=Z}for(;q>2;)Z[o++]=D[G++],Z[o++]=D[G++],Z[o++]=D[G++],q-=3;q&&(Z[o++]=D[G++],q>1&&(Z[o++]=D[G++]))}else{G=o-te;do Z[o++]=Z[G++],Z[o++]=Z[G++],Z[o++]=Z[G++],q-=3;while(q>2);q&&(Z[o++]=Z[G++],q>1&&(Z[o++]=Z[G++]))}}else if((F&64)===0){P=E[(P&65535)+(y&(1<<F)-1)];continue n}else{e.msg="invalid distance code",L.mode=lp;break e}break}}else if((F&64)===0){P=A[(P&65535)+(y&(1<<F)-1)];continue t}else if(F&32){L.mode=$E;break e}else{e.msg="invalid literal/length code",L.mode=lp;break e}break}}while(r<a&&o<c);q=N>>3,r-=q,N-=q<<3,y&=(1<<N)-1,e.next_in=r,e.next_out=o,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=o<c?257+(c-o):257-(o-c),L.hold=y,L.bits=N};const nh=15,Sy=852,Ay=592,Ny=0,t0=1,Cy=2,tk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),nk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ik=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),rk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),sk=(i,e,t,r,a,o,h,c)=>{const f=c.bits;let d=0,m=0,b=0,w=0,y=0,N=0,A=0,E=0,T=0,U=0,P,F,q,te,G,D=null,I;const Z=new Uint16Array(nh+1),L=new Uint16Array(nh+1);let j=null,$,ee,ue;for(d=0;d<=nh;d++)Z[d]=0;for(m=0;m<r;m++)Z[e[t+m]]++;for(y=f,w=nh;w>=1&&Z[w]===0;w--);if(y>w&&(y=w),w===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,c.bits=1,0;for(b=1;b<w&&Z[b]===0;b++);for(y<b&&(y=b),E=1,d=1;d<=nh;d++)if(E<<=1,E-=Z[d],E<0)return-1;if(E>0&&(i===Ny||w!==1))return-1;for(L[1]=0,d=1;d<nh;d++)L[d+1]=L[d]+Z[d];for(m=0;m<r;m++)e[t+m]!==0&&(h[L[e[t+m]]++]=m);if(i===Ny?(D=j=h,I=20):i===t0?(D=tk,j=nk,I=257):(D=ik,j=rk,I=0),U=0,m=0,d=b,G=o,N=y,A=0,q=-1,T=1<<y,te=T-1,i===t0&&T>Sy||i===Cy&&T>Ay)return 1;for(;;){$=d-A,h[m]+1<I?(ee=0,ue=h[m]):h[m]>=I?(ee=j[h[m]-I],ue=D[h[m]-I]):(ee=96,ue=0),P=1<<d-A,F=1<<N,b=F;do F-=P,a[G+(U>>A)+F]=$<<24|ee<<16|ue|0;while(F!==0);for(P=1<<d-1;U&P;)P>>=1;if(P!==0?(U&=P-1,U+=P):U=0,m++,--Z[d]===0){if(d===w)break;d=e[t+h[m]]}if(d>y&&(U&te)!==q){for(A===0&&(A=y),G+=b,N=d-A,E=1<<N;N+A<w&&(E-=Z[N+A],!(E<=0));)N++,E<<=1;if(T+=1<<N,i===t0&&T>Sy||i===Cy&&T>Ay)return 1;q=U&te,a[q]=y<<24|N<<16|G-o|0}}return U!==0&&(a[G+U]=d-A<<24|64<<16|0),c.bits=y,0};var Df=sk;const ak=0,zx=1,Fx=2,{Z_FINISH:Ty,Z_BLOCK:ok,Z_TREES:cp,Z_OK:au,Z_STREAM_END:lk,Z_NEED_DICT:ck,Z_STREAM_ERROR:da,Z_DATA_ERROR:Px,Z_MEM_ERROR:Ux,Z_BUF_ERROR:uk,Z_DEFLATED:Ey}=Ix,T1=16180,ky=16181,Oy=16182,Ly=16183,My=16184,Dy=16185,jy=16186,Ry=16187,Iy=16188,By=16189,Qp=16190,ll=16191,n0=16192,qy=16193,i0=16194,zy=16195,Fy=16196,Py=16197,Uy=16198,up=16199,hp=16200,Vy=16201,Hy=16202,Gy=16203,Yy=16204,Wy=16205,r0=16206,Xy=16207,Zy=16208,di=16209,Vx=16210,Hx=16211,hk=852,fk=592,dk=15,pk=dk,Ky=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function mk(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const uu=i=>{if(!i)return 1;const e=i.state;return!e||e.strm!==i||e.mode<T1||e.mode>Hx?1:0},Gx=i=>{if(uu(i))return da;const e=i.state;return i.total_in=i.total_out=e.total=0,i.msg="",e.wrap&&(i.adler=e.wrap&1),e.mode=T1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(hk),e.distcode=e.distdyn=new Int32Array(fk),e.sane=1,e.back=-1,au},Yx=i=>{if(uu(i))return da;const e=i.state;return e.wsize=0,e.whave=0,e.wnext=0,Gx(i)},Wx=(i,e)=>{let t;if(uu(i))return da;const r=i.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?da:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,Yx(i))},Xx=(i,e)=>{if(!i)return da;const t=new mk;i.state=t,t.strm=i,t.window=null,t.mode=T1;const r=Wx(i,e);return r!==au&&(i.state=null),r},gk=i=>Xx(i,pk);let Qy=!0,s0,a0;const vk=i=>{if(Qy){s0=new Int32Array(512),a0=new Int32Array(32);let e=0;for(;e<144;)i.lens[e++]=8;for(;e<256;)i.lens[e++]=9;for(;e<280;)i.lens[e++]=7;for(;e<288;)i.lens[e++]=8;for(Df(zx,i.lens,0,288,s0,0,i.work,{bits:9}),e=0;e<32;)i.lens[e++]=5;Df(Fx,i.lens,0,32,a0,0,i.work,{bits:5}),Qy=!1}i.lencode=s0,i.lenbits=9,i.distcode=a0,i.distbits=5},Zx=(i,e,t,r)=>{let a;const o=i.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>r&&(a=r),o.window.set(e.subarray(t-r,t-r+a),o.wnext),r-=a,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},yk=(i,e)=>{let t,r,a,o,h,c,f,d,m,b,w,y,N,A,E=0,T,U,P,F,q,te,G,D;const I=new Uint8Array(4);let Z,L;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(uu(i)||!i.output||!i.input&&i.avail_in!==0)return da;t=i.state,t.mode===ll&&(t.mode=n0),h=i.next_out,a=i.output,f=i.avail_out,o=i.next_in,r=i.input,c=i.avail_in,d=t.hold,m=t.bits,b=c,w=f,D=au;e:for(;;)switch(t.mode){case T1:if(t.wrap===0){t.mode=n0;break}for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,I[0]=d&255,I[1]=d>>>8&255,t.check=Ao(t.check,I,2,0),d=0,m=0,t.mode=ky;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){i.msg="incorrect header check",t.mode=di;break}if((d&15)!==Ey){i.msg="unknown compression method",t.mode=di;break}if(d>>>=4,m-=4,G=(d&15)+8,t.wbits===0&&(t.wbits=G),G>15||G>t.wbits){i.msg="invalid window size",t.mode=di;break}t.dmax=1<<t.wbits,t.flags=0,i.adler=t.check=1,t.mode=d&512?By:ll,d=0,m=0;break;case ky:for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.flags=d,(t.flags&255)!==Ey){i.msg="unknown compression method",t.mode=di;break}if(t.flags&57344){i.msg="unknown header flags set",t.mode=di;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,t.check=Ao(t.check,I,2,0)),d=0,m=0,t.mode=Oy;case Oy:for(;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,I[2]=d>>>16&255,I[3]=d>>>24&255,t.check=Ao(t.check,I,4,0)),d=0,m=0,t.mode=Ly;case Ly:for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,t.check=Ao(t.check,I,2,0)),d=0,m=0,t.mode=My;case My:if(t.flags&1024){for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(I[0]=d&255,I[1]=d>>>8&255,t.check=Ao(t.check,I,2,0)),d=0,m=0}else t.head&&(t.head.extra=null);t.mode=Dy;case Dy:if(t.flags&1024&&(y=t.length,y>c&&(y=c),y&&(t.head&&(G=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+y),G)),t.flags&512&&t.wrap&4&&(t.check=Ao(t.check,r,y,o)),c-=y,o+=y,t.length-=y),t.length))break e;t.length=0,t.mode=jy;case jy:if(t.flags&2048){if(c===0)break e;y=0;do G=r[o+y++],t.head&&G&&t.length<65536&&(t.head.name+=String.fromCharCode(G));while(G&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=Ao(t.check,r,y,o)),c-=y,o+=y,G)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Ry;case Ry:if(t.flags&4096){if(c===0)break e;y=0;do G=r[o+y++],t.head&&G&&t.length<65536&&(t.head.comment+=String.fromCharCode(G));while(G&&y<c);if(t.flags&512&&t.wrap&4&&(t.check=Ao(t.check,r,y,o)),c-=y,o+=y,G)break e}else t.head&&(t.head.comment=null);t.mode=Iy;case Iy:if(t.flags&512){for(;m<16;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.check&65535)){i.msg="header crc mismatch",t.mode=di;break}d=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),i.adler=t.check=0,t.mode=ll;break;case By:for(;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}i.adler=t.check=Ky(d),d=0,m=0,t.mode=Qp;case Qp:if(t.havedict===0)return i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,t.hold=d,t.bits=m,ck;i.adler=t.check=1,t.mode=ll;case ll:if(e===ok||e===cp)break e;case n0:if(t.last){d>>>=m&7,m-=m&7,t.mode=r0;break}for(;m<3;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}switch(t.last=d&1,d>>>=1,m-=1,d&3){case 0:t.mode=qy;break;case 1:if(vk(t),t.mode=up,e===cp){d>>>=2,m-=2;break e}break;case 2:t.mode=Fy;break;case 3:i.msg="invalid block type",t.mode=di}d>>>=2,m-=2;break;case qy:for(d>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){i.msg="invalid stored block lengths",t.mode=di;break}if(t.length=d&65535,d=0,m=0,t.mode=i0,e===cp)break e;case i0:t.mode=zy;case zy:if(y=t.length,y){if(y>c&&(y=c),y>f&&(y=f),y===0)break e;a.set(r.subarray(o,o+y),h),c-=y,o+=y,f-=y,h+=y,t.length-=y;break}t.mode=ll;break;case Fy:for(;m<14;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.nlen=(d&31)+257,d>>>=5,m-=5,t.ndist=(d&31)+1,d>>>=5,m-=5,t.ncode=(d&15)+4,d>>>=4,m-=4,t.nlen>286||t.ndist>30){i.msg="too many length or distance symbols",t.mode=di;break}t.have=0,t.mode=Py;case Py:for(;t.have<t.ncode;){for(;m<3;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.lens[j[t.have++]]=d&7,d>>>=3,m-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Z={bits:t.lenbits},D=Df(ak,t.lens,0,19,t.lencode,0,t.work,Z),t.lenbits=Z.bits,D){i.msg="invalid code lengths set",t.mode=di;break}t.have=0,t.mode=Uy;case Uy:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[d&(1<<t.lenbits)-1],T=E>>>24,U=E>>>16&255,P=E&65535,!(T<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(P<16)d>>>=T,m-=T,t.lens[t.have++]=P;else{if(P===16){for(L=T+2;m<L;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(d>>>=T,m-=T,t.have===0){i.msg="invalid bit length repeat",t.mode=di;break}G=t.lens[t.have-1],y=3+(d&3),d>>>=2,m-=2}else if(P===17){for(L=T+3;m<L;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=T,m-=T,G=0,y=3+(d&7),d>>>=3,m-=3}else{for(L=T+7;m<L;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=T,m-=T,G=0,y=11+(d&127),d>>>=7,m-=7}if(t.have+y>t.nlen+t.ndist){i.msg="invalid bit length repeat",t.mode=di;break}for(;y--;)t.lens[t.have++]=G}}if(t.mode===di)break;if(t.lens[256]===0){i.msg="invalid code -- missing end-of-block",t.mode=di;break}if(t.lenbits=9,Z={bits:t.lenbits},D=Df(zx,t.lens,0,t.nlen,t.lencode,0,t.work,Z),t.lenbits=Z.bits,D){i.msg="invalid literal/lengths set",t.mode=di;break}if(t.distbits=6,t.distcode=t.distdyn,Z={bits:t.distbits},D=Df(Fx,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Z),t.distbits=Z.bits,D){i.msg="invalid distances set",t.mode=di;break}if(t.mode=up,e===cp)break e;case up:t.mode=hp;case hp:if(c>=6&&f>=258){i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,t.hold=d,t.bits=m,ek(i,w),h=i.next_out,a=i.output,f=i.avail_out,o=i.next_in,r=i.input,c=i.avail_in,d=t.hold,m=t.bits,t.mode===ll&&(t.back=-1);break}for(t.back=0;E=t.lencode[d&(1<<t.lenbits)-1],T=E>>>24,U=E>>>16&255,P=E&65535,!(T<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(U&&(U&240)===0){for(F=T,q=U,te=P;E=t.lencode[te+((d&(1<<F+q)-1)>>F)],T=E>>>24,U=E>>>16&255,P=E&65535,!(F+T<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=F,m-=F,t.back+=F}if(d>>>=T,m-=T,t.back+=T,t.length=P,U===0){t.mode=Wy;break}if(U&32){t.back=-1,t.mode=ll;break}if(U&64){i.msg="invalid literal/length code",t.mode=di;break}t.extra=U&15,t.mode=Vy;case Vy:if(t.extra){for(L=t.extra;m<L;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Hy;case Hy:for(;E=t.distcode[d&(1<<t.distbits)-1],T=E>>>24,U=E>>>16&255,P=E&65535,!(T<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if((U&240)===0){for(F=T,q=U,te=P;E=t.distcode[te+((d&(1<<F+q)-1)>>F)],T=E>>>24,U=E>>>16&255,P=E&65535,!(F+T<=m);){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}d>>>=F,m-=F,t.back+=F}if(d>>>=T,m-=T,t.back+=T,U&64){i.msg="invalid distance code",t.mode=di;break}t.offset=P,t.extra=U&15,t.mode=Gy;case Gy:if(t.extra){for(L=t.extra;m<L;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){i.msg="invalid distance too far back",t.mode=di;break}t.mode=Yy;case Yy:if(f===0)break e;if(y=w-f,t.offset>y){if(y=t.offset-y,y>t.whave&&t.sane){i.msg="invalid distance too far back",t.mode=di;break}y>t.wnext?(y-=t.wnext,N=t.wsize-y):N=t.wnext-y,y>t.length&&(y=t.length),A=t.window}else A=a,N=h-t.offset,y=t.length;y>f&&(y=f),f-=y,t.length-=y;do a[h++]=A[N++];while(--y);t.length===0&&(t.mode=hp);break;case Wy:if(f===0)break e;a[h++]=t.length,f--,t.mode=hp;break;case r0:if(t.wrap){for(;m<32;){if(c===0)break e;c--,d|=r[o++]<<m,m+=8}if(w-=f,i.total_out+=w,t.total+=w,t.wrap&4&&w&&(i.adler=t.check=t.flags?Ao(t.check,a,w,h-w):P0(t.check,a,w,h-w)),w=f,t.wrap&4&&(t.flags?d:Ky(d))!==t.check){i.msg="incorrect data check",t.mode=di;break}d=0,m=0}t.mode=Xy;case Xy:if(t.wrap&&t.flags){for(;m<32;){if(c===0)break e;c--,d+=r[o++]<<m,m+=8}if(t.wrap&4&&d!==(t.total&4294967295)){i.msg="incorrect length check",t.mode=di;break}d=0,m=0}t.mode=Zy;case Zy:D=lk;break e;case di:D=Px;break e;case Vx:return Ux;case Hx:default:return da}return i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=c,t.hold=d,t.bits=m,(t.wsize||w!==i.avail_out&&t.mode<di&&(t.mode<r0||e!==Ty))&&Zx(i,i.output,i.next_out,w-i.avail_out),b-=i.avail_in,w-=i.avail_out,i.total_in+=b,i.total_out+=w,t.total+=w,t.wrap&4&&w&&(i.adler=t.check=t.flags?Ao(t.check,a,w,i.next_out-w):P0(t.check,a,w,i.next_out-w)),i.data_type=t.bits+(t.last?64:0)+(t.mode===ll?128:0)+(t.mode===up||t.mode===i0?256:0),(b===0&&w===0||e===Ty)&&D===au&&(D=uk),D},bk=i=>{if(uu(i))return da;let e=i.state;return e.window&&(e.window=null),i.state=null,au},_k=(i,e)=>{if(uu(i))return da;const t=i.state;return(t.wrap&2)===0?da:(t.head=e,e.done=!1,au)},xk=(i,e)=>{const t=e.length;let r,a,o;return uu(i)||(r=i.state,r.wrap!==0&&r.mode!==Qp)?da:r.mode===Qp&&(a=1,a=P0(a,e,t,0),a!==r.check)?Px:(o=Zx(i,e,t,t),o?(r.mode=Vx,Ux):(r.havedict=1,au))};var wk=Yx,Sk=Wx,Ak=Gx,Nk=gk,Ck=Xx,Tk=yk,Ek=bk,kk=_k,Ok=xk,Lk="pako inflate (from Nodeca project)",ul={inflateReset:wk,inflateReset2:Sk,inflateResetKeep:Ak,inflateInit:Nk,inflateInit2:Ck,inflate:Tk,inflateEnd:Ek,inflateGetHeader:kk,inflateSetDictionary:Ok,inflateInfo:Lk};function Mk(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Dk=Mk;const Kx=Object.prototype.toString,{Z_NO_FLUSH:jk,Z_FINISH:Rk,Z_OK:Gf,Z_STREAM_END:o0,Z_NEED_DICT:l0,Z_STREAM_ERROR:Ik,Z_DATA_ERROR:Jy,Z_MEM_ERROR:Bk}=Ix;function ld(i){this.options=Bx.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new JE,this.strm.avail_out=0;let t=ul.inflateInit2(this.strm,e.windowBits);if(t!==Gf)throw new Error(U0[t]);if(this.header=new Dk,ul.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=V0.string2buf(e.dictionary):Kx.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=ul.inflateSetDictionary(this.strm,e.dictionary),t!==Gf)))throw new Error(U0[t])}ld.prototype.push=function(i,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let o,h,c;if(this.ended)return!1;for(e===~~e?h=e:h=e===!0?Rk:jk,Kx.call(i)==="[object ArrayBuffer]"?t.input=new Uint8Array(i):t.input=i,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=ul.inflate(t,h),o===l0&&a&&(o=ul.inflateSetDictionary(t,a),o===Gf?o=ul.inflate(t,h):o===Jy&&(o=l0));t.avail_in>0&&o===o0&&t.state.wrap>0&&i[t.next_in]!==0;)ul.inflateReset(t),o=ul.inflate(t,h);switch(o){case Ik:case Jy:case l0:case Bk:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===o0))if(this.options.to==="string"){let f=V0.utf8border(t.output,t.next_out),d=t.next_out-f,m=V0.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Gf&&c===0)){if(o===o0)return o=ul.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};ld.prototype.onData=function(i){this.chunks.push(i)};ld.prototype.onEnd=function(i){i===Gf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bx.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function qk(i,e){const t=new ld(e);if(t.push(i),t.err)throw t.msg||U0[t.err];return t.result}var zk=ld,Fk=qk,Pk={Inflate:zk,inflate:Fk};const{Inflate:Uk,inflate:Vk}=Pk;var $y=Uk,Hk=Vk;const Qx=[];for(let i=0;i<256;i++){let e=i;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;Qx[i]=e}const eb=4294967295;function Gk(i,e,t){let r=i;for(let a=0;a<t;a++)r=Qx[(r^e[a])&255]^r>>>8;return r}function Yk(i,e){return(Gk(eb,i,e)^eb)>>>0}function tb(i,e,t){const r=i.readUint32(),a=Yk(new Uint8Array(i.buffer,i.byteOffset+i.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function Jx(i,e,t){for(let r=0;r<t;r++)e[r]=i[r]}function $x(i,e,t,r){let a=0;for(;a<r;a++)e[a]=i[a];for(;a<t;a++)e[a]=i[a]+e[a-r]&255}function ew(i,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=i[a];else for(;a<r;a++)e[a]=i[a]+t[a]&255}function tw(i,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=i[o];for(;o<r;o++)e[o]=i[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=i[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=i[o]+(e[o-a]+t[o]>>1)&255}}function nw(i,e,t,r,a){let o=0;if(t.length===0){for(;o<a;o++)e[o]=i[o];for(;o<r;o++)e[o]=i[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=i[o]+t[o]&255;for(;o<r;o++)e[o]=i[o]+Wk(e[o-a],t[o],t[o-a])&255}}function Wk(i,e,t){const r=i+e-t,a=Math.abs(r-i),o=Math.abs(r-e),h=Math.abs(r-t);return a<=o&&a<=h?i:o<=h?e:t}function Xk(i,e,t,r,a,o){switch(i){case 0:Jx(e,t,a);break;case 1:$x(e,t,a,o);break;case 2:ew(e,t,r,a);break;case 3:tw(e,t,r,a,o);break;case 4:nw(e,t,r,a,o);break;default:throw new Error(`Unsupported filter: ${i}`)}}const Zk=new Uint16Array([255]),Kk=new Uint8Array(Zk.buffer),Qk=Kk[0]===255;function Jk(i){const{data:e,width:t,height:r,channels:a,depth:o}=i,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*a,f=new Uint8Array(r*t*c);let d=0;for(let m=0;m<7;m++){const b=h[m],w=Math.ceil((t-b.x)/b.xStep),y=Math.ceil((r-b.y)/b.yStep);if(w<=0||y<=0)continue;const N=w*c,A=new Uint8Array(N);for(let E=0;E<y;E++){const T=e[d++],U=e.subarray(d,d+N);d+=N;const P=new Uint8Array(N);Xk(T,U,P,A,N,c),A.set(P);for(let F=0;F<w;F++){const q=b.x+F*b.xStep,te=b.y+E*b.yStep;if(!(q>=t||te>=r))for(let G=0;G<c;G++)f[(te*t+q)*c+G]=P[F*c+G]}}}if(o===16){const m=new Uint16Array(f.buffer);if(Qk)for(let b=0;b<m.length;b++)m[b]=$k(m[b]);return m}else return f}function $k(i){return(i&255)<<8|i>>8&255}const eO=new Uint16Array([255]),tO=new Uint8Array(eO.buffer),nO=tO[0]===255,iO=new Uint8Array(0);function nb(i){const{data:e,width:t,height:r,channels:a,depth:o}=i,h=Math.ceil(o/8)*a,c=Math.ceil(o/8*a*t),f=new Uint8Array(r*c);let d=iO,m=0,b,w;for(let y=0;y<r;y++){switch(b=e.subarray(m+1,m+1+c),w=f.subarray(y*c,(y+1)*c),e[m]){case 0:Jx(b,w,c);break;case 1:$x(b,w,c,h);break;case 2:ew(b,w,d,c);break;case 3:tw(b,w,d,c,h);break;case 4:nw(b,w,d,c,h);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}d=w,m+=c+1}if(o===16){const y=new Uint16Array(f.buffer);if(nO)for(let N=0;N<y.length;N++)y[N]=rO(y[N]);return y}else return f}function rO(i){return(i&255)<<8|i>>8&255}const wp=Uint8Array.of(137,80,78,71,13,10,26,10);function ib(i){if(!sO(i.readBytes(wp.length)))throw new Error("wrong PNG signature")}function sO(i){if(i.length<wp.length)return!1;for(let e=0;e<wp.length;e++)if(i[e]!==wp[e])return!1;return!0}const aO="tEXt",oO=0,iw=new TextDecoder("latin1");function lO(i){if(uO(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const cO=/^[\u0000-\u00FF]*$/;function uO(i){if(!cO.test(i))throw new Error("invalid latin1 text")}function hO(i,e,t){const r=rw(e);i[r]=fO(e,t-r.length-1)}function rw(i){for(i.mark();i.readByte()!==oO;);const e=i.offset;i.reset();const t=iw.decode(i.readBytes(e-i.offset-1));return i.skip(1),lO(t),t}function fO(i,e){return iw.decode(i.readBytes(e))}const zs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},c0={UNKNOWN:-1,DEFLATE:0},rb={UNKNOWN:-1,ADAPTIVE:0},u0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},fp={NONE:0,BACKGROUND:1,PREVIOUS:2},h0={SOURCE:0,OVER:1};class dO extends Zg{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new $y,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=c0.UNKNOWN,this._filterMethod=rb.UNKNOWN,this._interlaceMethod=u0.UNKNOWN,this._colorType=zs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(ib(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(ib(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case aO:hO(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?tb(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?tb(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=pO(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case zs.GREYSCALE:r=1;break;case zs.TRUECOLOUR:r=3;break;case zs.INDEXED_COLOUR:r=1;break;case zs.GREYSCALE_ALPHA:r=2;break;case zs.TRUECOLOUR_ALPHA:r=4;break;case zs.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==c0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case zs.GREYSCALE:case zs.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case zs.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case zs.UNKNOWN:case zs.GREYSCALE_ALPHA:case zs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=rw(this),r=this.readUint8();if(r!==c0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Hk(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=nb({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case fp.NONE:break;case fp.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const h=(a*e.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[h+c]=0}break;case fp.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(o,h)=>{const c=((o+t.yOffset)*this._png.width+t.xOffset+h)*this._png.channels,f=(o*t.width+h)*this._png.channels;return{index:c,frameIndex:f}};switch(t.blendOp){case h0.SOURCE:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++)e.data[c+d]=t.data[f+d]}break;case h0.OVER:for(let o=0;o<t.height;o++)for(let h=0;h<t.width;h++){const{index:c,frameIndex:f}=a(o,h);for(let d=0;d<this._png.channels;d++){const m=t.data[f+this._png.channels-1]/r,b=d%(this._png.channels-1)===0?1:t.data[f+d],w=Math.floor(m*b+(1-m)*e.data[c+d]);e.data[c+d]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==rb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===u0.NO_INTERLACE)this._png.data=nb({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===u0.ADAM7)this._png.data=Jk({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:fp.NONE,blendOp:h0.SOURCE,data:e}),this._inflator=new $y,this._writingDataChunks=!1}}function pO(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var sb;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(sb||(sb={}));function mO(i,e){return new dO(i,e).decode()}var qt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function f0(){qt.console&&typeof qt.console.log=="function"&&qt.console.log.apply(qt.console,arguments)}var Xn={log:f0,warn:function(i){qt.console&&(typeof qt.console.warn=="function"?qt.console.warn.apply(qt.console,arguments):f0.call(null,arguments))},error:function(i){qt.console&&(typeof qt.console.error=="function"?qt.console.error.apply(qt.console,arguments):f0(i))}};function d0(i,e,t){var r=new XMLHttpRequest;r.open("GET",i),r.responseType="blob",r.onload=function(){Zc(r.response,e,t)},r.onerror=function(){Xn.error("could not download file")},r.send()}function ab(i){var e=new XMLHttpRequest;e.open("HEAD",i,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function dp(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(e)}}var Zc=qt.saveAs||((typeof window>"u"?"undefined":Ln(window))!=="object"||window!==qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,e,t){var r=qt.URL||qt.webkitURL,a=document.createElement("a");e=e||i.name||"download",a.download=e,a.rel="noopener",typeof i=="string"?(a.href=i,a.origin!==location.origin?ab(a.href)?d0(i,e,t):dp(a,a.target="_blank"):dp(a)):(a.href=r.createObjectURL(i),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){dp(a)},0))}:"msSaveOrOpenBlob"in navigator?function(i,e,t){if(e=e||i.name||"download",typeof i=="string")if(ab(i))d0(i,e,t);else{var r=document.createElement("a");r.href=i,r.target="_blank",setTimeout(function(){dp(r)})}else navigator.msSaveOrOpenBlob((function(a,o){return o===void 0?o={autoBom:!1}:Ln(o)!=="object"&&(Xn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(i,t),e)}:function(i,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof i=="string")return d0(i,e,t);var a=i.type==="application/octet-stream",o=/constructor/i.test(qt.HTMLElement)||qt.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||a&&o)&&(typeof FileReader>"u"?"undefined":Ln(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=h?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},c.readAsDataURL(i)}else{var f=qt.URL||qt.webkitURL,d=f.createObjectURL(i);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});function sw(i){var e;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,o=t[r].process,h=a.exec(i);h&&(e=o(h),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var Sp=qt.atob.bind(qt),ob=qt.btoa.bind(qt);function p0(i,e){var t=i[0],r=i[1],a=i[2],o=i[3];t=Dr(t,r,a,o,e[0],7,-680876936),o=Dr(o,t,r,a,e[1],12,-389564586),a=Dr(a,o,t,r,e[2],17,606105819),r=Dr(r,a,o,t,e[3],22,-1044525330),t=Dr(t,r,a,o,e[4],7,-176418897),o=Dr(o,t,r,a,e[5],12,1200080426),a=Dr(a,o,t,r,e[6],17,-1473231341),r=Dr(r,a,o,t,e[7],22,-45705983),t=Dr(t,r,a,o,e[8],7,1770035416),o=Dr(o,t,r,a,e[9],12,-1958414417),a=Dr(a,o,t,r,e[10],17,-42063),r=Dr(r,a,o,t,e[11],22,-1990404162),t=Dr(t,r,a,o,e[12],7,1804603682),o=Dr(o,t,r,a,e[13],12,-40341101),a=Dr(a,o,t,r,e[14],17,-1502002290),t=jr(t,r=Dr(r,a,o,t,e[15],22,1236535329),a,o,e[1],5,-165796510),o=jr(o,t,r,a,e[6],9,-1069501632),a=jr(a,o,t,r,e[11],14,643717713),r=jr(r,a,o,t,e[0],20,-373897302),t=jr(t,r,a,o,e[5],5,-701558691),o=jr(o,t,r,a,e[10],9,38016083),a=jr(a,o,t,r,e[15],14,-660478335),r=jr(r,a,o,t,e[4],20,-405537848),t=jr(t,r,a,o,e[9],5,568446438),o=jr(o,t,r,a,e[14],9,-1019803690),a=jr(a,o,t,r,e[3],14,-187363961),r=jr(r,a,o,t,e[8],20,1163531501),t=jr(t,r,a,o,e[13],5,-1444681467),o=jr(o,t,r,a,e[2],9,-51403784),a=jr(a,o,t,r,e[7],14,1735328473),t=Rr(t,r=jr(r,a,o,t,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Rr(o,t,r,a,e[8],11,-2022574463),a=Rr(a,o,t,r,e[11],16,1839030562),r=Rr(r,a,o,t,e[14],23,-35309556),t=Rr(t,r,a,o,e[1],4,-1530992060),o=Rr(o,t,r,a,e[4],11,1272893353),a=Rr(a,o,t,r,e[7],16,-155497632),r=Rr(r,a,o,t,e[10],23,-1094730640),t=Rr(t,r,a,o,e[13],4,681279174),o=Rr(o,t,r,a,e[0],11,-358537222),a=Rr(a,o,t,r,e[3],16,-722521979),r=Rr(r,a,o,t,e[6],23,76029189),t=Rr(t,r,a,o,e[9],4,-640364487),o=Rr(o,t,r,a,e[12],11,-421815835),a=Rr(a,o,t,r,e[15],16,530742520),t=Ir(t,r=Rr(r,a,o,t,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Ir(o,t,r,a,e[7],10,1126891415),a=Ir(a,o,t,r,e[14],15,-1416354905),r=Ir(r,a,o,t,e[5],21,-57434055),t=Ir(t,r,a,o,e[12],6,1700485571),o=Ir(o,t,r,a,e[3],10,-1894986606),a=Ir(a,o,t,r,e[10],15,-1051523),r=Ir(r,a,o,t,e[1],21,-2054922799),t=Ir(t,r,a,o,e[8],6,1873313359),o=Ir(o,t,r,a,e[15],10,-30611744),a=Ir(a,o,t,r,e[6],15,-1560198380),r=Ir(r,a,o,t,e[13],21,1309151649),t=Ir(t,r,a,o,e[4],6,-145523070),o=Ir(o,t,r,a,e[11],10,-1120210379),a=Ir(a,o,t,r,e[2],15,718787259),r=Ir(r,a,o,t,e[9],21,-343485551),i[0]=ac(t,i[0]),i[1]=ac(r,i[1]),i[2]=ac(a,i[2]),i[3]=ac(o,i[3])}function E1(i,e,t,r,a,o){return e=ac(ac(e,i),ac(r,o)),ac(e<<a|e>>>32-a,t)}function Dr(i,e,t,r,a,o,h){return E1(e&t|~e&r,i,e,a,o,h)}function jr(i,e,t,r,a,o,h){return E1(e&r|t&~r,i,e,a,o,h)}function Rr(i,e,t,r,a,o,h){return E1(e^t^r,i,e,a,o,h)}function Ir(i,e,t,r,a,o,h){return E1(t^(e|~r),i,e,a,o,h)}function aw(i){var e,t=i.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=i.length;e+=64)p0(r,gO(i.substring(e-64,e)));i=i.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i.length;e++)a[e>>2]|=i.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(p0(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,p0(r,a),r}function gO(i){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=i.charCodeAt(e)+(i.charCodeAt(e+1)<<8)+(i.charCodeAt(e+2)<<16)+(i.charCodeAt(e+3)<<24);return t}var lb="0123456789abcdef".split("");function vO(i){for(var e="",t=0;t<4;t++)e+=lb[i>>8*t+4&15]+lb[i>>8*t&15];return e}function yO(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function H0(i){return aw(i).map(yO).join("")}var bO=(function(i){for(var e=0;e<i.length;e++)i[e]=vO(i[e]);return i.join("")})(aw("hello"))!="5d41402abc4b2a76b9719d911017c592";function ac(i,e){if(bO){var t=(65535&i)+(65535&e);return(i>>16)+(e>>16)+(t>>16)<<16|65535&t}return i+e&4294967295}function G0(i,e){var t,r,a,o;if(i!==t){for(var h=(a=i,o=1+(256/i.length|0),new Array(o+1).join(a)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var m=c[f];d=(d+m+h.charCodeAt(f))%256,c[f]=c[d],c[d]=m}t=i,r=c}else c=r;var b=e.length,w=0,y=0,N="";for(f=0;f<b;f++)y=(y+(m=c[w=(w+1)%256]))%256,c[w]=c[y],c[y]=m,h=c[(c[w]+c[y])%256],N+=String.fromCharCode(e.charCodeAt(f)^h);return N}var cb={print:4,modify:8,copy:16,"annot-forms":32};function oh(i,e,t,r){this.v=1,this.r=2;var a=192;i.forEach(function(c){if(cb.perm!==void 0)throw new Error("Invalid permission: "+c);a+=cb[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),h=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,h),this.P=-(1+(255^a)),this.encryptionKey=H0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=G0(this.encryptionKey,this.padding)}function lh(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var e="",t=i.length,r=0;r<t;r++){var a=i.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):i[r]}return e}function ub(i){if(Ln(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!a],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[t]){var h=e[t][o];try{h[0].apply(i,r)}catch(c){qt.console&&Xn.error("jsPDF PubSub Error",c.message,c)}h[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Jp(i){if(!(this instanceof Jp))return new Jp(i);var e="opacity,stroke-opacity".split(",");for(var t in i)i.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=i[t]);this.id="",this.objectNumber=-1}function ow(i,e){this.gState=i,this.matrix=e,this.id="",this.objectNumber=-1}function Qc(i,e,t,r,a){if(!(this instanceof Qc))return new Qc(i,e,t,r,a);this.type=i==="axial"?2:3,this.coords=e,this.colors=t,ow.call(this,r,a)}function ph(i,e,t,r,a){if(!(this instanceof ph))return new ph(i,e,t,r,a);this.boundingBox=i,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,ow.call(this,r,a)}function St(i){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],o=arguments[3],h=[],c=1,f=16,d="S",m=null;Ln(i=i||{})==="object"&&(t=i.orientation,r=i.unit||r,a=i.format||a,o=i.compress||i.compressPdf||o,(m=i.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(e=i.precision),i.floatPrecision!==void 0&&(f=i.floatPrecision),d=i.defaultPathOperation||"S"),h=i.filters||(o===!0?["FlateEncode"]:h),r=r||"mm",t=(""+(t||"P")).toLowerCase();var b=i.putOnlyUsedFonts||!1,w={},y={internal:{},__private__:{}};y.__private__.PubSub=ub;var N="1.3",A=y.__private__.getPdfVersion=function(){return N};y.__private__.setPdfVersion=function(x){N=x};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return E};var T=y.__private__.getPageFormat=function(x){return E[x]};a=a||"a4";var U="compat",P="advanced",F=U;function q(){this.saveGraphicsState(),H(new ft(ht,0,0,-ht,0,wa()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),d="n",F=P}function te(){this.restoreGraphicsState(),d="S",F=U}var G=y.__private__.combineFontStyleAndFontWeight=function(x,R){if(x=="bold"&&R=="normal"||x=="bold"&&R==400||x=="normal"&&R=="italic"||x=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(x=R==400||R==="normal"?x==="italic"?"italic":"normal":R!=700&&R!=="bold"||x!=="normal"?(R==700?"bold":R)+""+x:"bold"),x};y.advancedAPI=function(x){var R=F===U;return R&&q.call(this),typeof x!="function"||(x(this),R&&te.call(this)),this},y.compatAPI=function(x){var R=F===P;return R&&te.call(this),typeof x!="function"||(x(this),R&&q.call(this)),this},y.isAdvancedAPI=function(){return F===P};var D,I=function(x){if(F!==P)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=y.roundToPrecision=y.__private__.roundToPrecision=function(x,R){var le=e||R;if(isNaN(x)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(le).replace(/0+$/,"")};D=y.hpf=y.__private__.hpf=typeof f=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(x,f)}:f==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(x,16)};var L=y.f2=y.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return Z(x,2)},j=y.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return Z(x,3)},$=y.scale=y.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return F===U?x*ht:F===P?x:void 0},ee=function(x){return $((function(R){return F===U?wa()-R:F===P?R:void 0})(x))};y.__private__.setPrecision=y.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var ue,Q="00000000000000000000000000000000",re=y.__private__.getFileId=function(){return Q},ce=y.__private__.setFileId=function(x){return Q=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Di=new oh(m.userPermissions,m.userPassword,m.ownerPassword,Q)),Q};y.setFileId=function(x){return ce(x),this},y.getFileId=function(){return re()};var de=y.__private__.convertDateToPDFDate=function(x){var R=x.getTimezoneOffset(),le=R<0?"+":"-",me=Math.floor(Math.abs(R/60)),we=Math.abs(R%60),Fe=[le,X(me),"'",X(we),"'"].join("");return["D:",x.getFullYear(),X(x.getMonth()+1),X(x.getDate()),X(x.getHours()),X(x.getMinutes()),X(x.getSeconds()),Fe].join("")},Ae=y.__private__.convertPDFDateToDate=function(x){var R=parseInt(x.substr(2,4),10),le=parseInt(x.substr(6,2),10)-1,me=parseInt(x.substr(8,2),10),we=parseInt(x.substr(10,2),10),Fe=parseInt(x.substr(12,2),10),Xe=parseInt(x.substr(14,2),10);return new Date(R,le,me,we,Fe,Xe,0)},Y=y.__private__.setCreationDate=function(x){var R;if(x===void 0&&(x=new Date),x instanceof Date)R=de(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=x}return ue=R},C=y.__private__.getCreationDate=function(x){var R=ue;return x==="jsDate"&&(R=Ae(ue)),R};y.setCreationDate=function(x){return Y(x),this},y.getCreationDate=function(x){return C(x)};var z,X=y.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},ie=y.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},ae=0,fe=[],pe=[],xe=0,Ce=[],He=[],Ze=!1,Je=pe;y.__private__.setCustomOutputDestination=function(x){Ze=!0,Je=x};var it=function(x){Ze||(Je=x)};y.__private__.resetCustomOutputDestination=function(){Ze=!1,Je=pe};var H=y.__private__.out=function(x){return x=x.toString(),xe+=x.length+1,Je.push(x),Je},Me=y.__private__.write=function(x){return H(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},st=y.__private__.getArrayBuffer=function(x){for(var R=x.length,le=new ArrayBuffer(R),me=new Uint8Array(le);R--;)me[R]=x.charCodeAt(R);return le},$e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return $e};var ge=i.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(x){return ge=F===P?x/ht:x,this};var qe,Ye=y.__private__.getFontSize=y.getFontSize=function(){return F===U?ge:ge*ht},et=i.R2L||!1;y.__private__.setR2L=y.setR2L=function(x){return et=x,this},y.__private__.getR2L=y.getR2L=function(){return et};var nt,Ie=y.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))qe=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');qe=x}else qe=parseInt(x,10)};y.__private__.getZoomMode=function(){return qe};var ze,Ge=y.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');nt=x};y.__private__.getPageMode=function(){return nt};var rt=y.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');ze=x};y.__private__.getLayoutMode=function(){return ze},y.__private__.setDisplayMode=y.setDisplayMode=function(x,R,le){return Ie(x),rt(R),Ge(le),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(x){if(Object.keys(at).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[x]},y.__private__.getDocumentProperties=function(){return at},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(x){for(var R in at)at.hasOwnProperty(R)&&x[R]&&(at[R]=x[R]);return this},y.__private__.setDocumentProperty=function(x,R){if(Object.keys(at).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[x]=R};var Qe,ht,ot,Nn,Ft,wt={},At={},Pt=[],bt={},on={},Nt={},kt={},ln=null,yt=0,lt=[],Ot=new ub(y),Jn=i.hotfixes||[],cn={},Mn={},Dn=[],ft=function x(R,le,me,we,Fe,Xe){if(!(this instanceof x))return new x(R,le,me,we,Fe,Xe);isNaN(R)&&(R=1),isNaN(le)&&(le=0),isNaN(me)&&(me=0),isNaN(we)&&(we=1),isNaN(Fe)&&(Fe=0),isNaN(Xe)&&(Xe=0),this._matrix=[R,le,me,we,Fe,Xe]};Object.defineProperty(ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ft.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(x)},ft.prototype.multiply=function(x){var R=x.sx*this.sx+x.shy*this.shx,le=x.sx*this.shy+x.shy*this.sy,me=x.shx*this.sx+x.sy*this.shx,we=x.shx*this.shy+x.sy*this.sy,Fe=x.tx*this.sx+x.ty*this.shx+this.tx,Xe=x.tx*this.shy+x.ty*this.sy+this.ty;return new ft(R,le,me,we,Fe,Xe)},ft.prototype.decompose=function(){var x=this.sx,R=this.shy,le=this.shx,me=this.sy,we=this.tx,Fe=this.ty,Xe=Math.sqrt(x*x+R*R),pt=(x/=Xe)*le+(R/=Xe)*me;le-=x*pt,me-=R*pt;var _t=Math.sqrt(le*le+me*me);return pt/=_t,x*(me/=_t)<R*(le/=_t)&&(x=-x,R=-R,pt=-pt,Xe=-Xe),{scale:new ft(Xe,0,0,_t,0,0),translate:new ft(1,0,0,1,we,Fe),rotate:new ft(x,R,-R,x,0,0),skew:new ft(1,0,pt,1,0,0)}},ft.prototype.toString=function(x){return this.join(" ")},ft.prototype.inversed=function(){var x=this.sx,R=this.shy,le=this.shx,me=this.sy,we=this.tx,Fe=this.ty,Xe=1/(x*me-R*le),pt=me*Xe,_t=-R*Xe,Rt=-le*Xe,Ut=x*Xe;return new ft(pt,_t,Rt,Ut,-pt*we-Rt*Fe,-_t*we-Ut*Fe)},ft.prototype.applyToPoint=function(x){var R=x.x*this.sx+x.y*this.shx+this.tx,le=x.x*this.shy+x.y*this.sy+this.ty;return new es(R,le)},ft.prototype.applyToRectangle=function(x){var R=this.applyToPoint(x),le=this.applyToPoint(new es(x.x+x.w,x.y+x.h));return new va(R.x,R.y,le.x-R.x,le.y-R.y)},ft.prototype.clone=function(){var x=this.sx,R=this.shy,le=this.shx,me=this.sy,we=this.tx,Fe=this.ty;return new ft(x,R,le,me,we,Fe)},y.Matrix=ft;var _n=y.matrixMult=function(x,R){return R.multiply(x)},mi=new ft(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=mi;var jn=function(x,R){if(!on[x]){var le=(R instanceof Qc?"Sh":"P")+(Object.keys(bt).length+1).toString(10);R.id=le,on[x]=le,bt[le]=R,Ot.publish("addPattern",R)}};y.ShadingPattern=Qc,y.TilingPattern=ph,y.addShadingPattern=function(x,R){return I("addShadingPattern()"),jn(x,R),this},y.beginTilingPattern=function(x){I("beginTilingPattern()"),zo(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},y.endTilingPattern=function(x,R){I("endTilingPattern()"),R.stream=He[z].join(`
`),jn(x,R),Ot.publish("endTilingPattern",R),Dn.pop().restore()};var Hn,un=y.__private__.newObject=function(){var x=Rn();return Cn(x,!0),x},Rn=y.__private__.newObjectDeferred=function(){return ae++,fe[ae]=function(){return xe},ae},Cn=function(x,R){return R=typeof R=="boolean"&&R,fe[x]=xe,R&&H(x+" 0 obj"),x},Er=y.__private__.newAdditionalObject=function(){var x={objId:Rn(),content:""};return Ce.push(x),x},Mi=Rn(),Tn=Rn(),$n=y.__private__.decodeColorString=function(x){var R=x.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var le=parseFloat(R[0]);R=[le,le,le,"r"]}for(var me="#",we=0;we<3;we++)me+=("0"+Math.floor(255*parseFloat(R[we])).toString(16)).slice(-2);return me},or=y.__private__.encodeColorString=function(x){var R;typeof x=="string"&&(x={ch1:x});var le=x.ch1,me=x.ch2,we=x.ch3,Fe=x.ch4,Xe=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var pt=new sw(le);if(pt.ok)le=pt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var _t=parseInt(le.substr(1),16);le=_t>>16&255,me=_t>>8&255,we=255&_t}if(me===void 0||Fe===void 0&&le===me&&me===we)R=typeof le=="string"?le+" "+Xe[0]:x.precision===2?L(le/255)+" "+Xe[0]:j(le/255)+" "+Xe[0];else if(Fe===void 0||Ln(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return["1.","1.","1.",Xe[1]].join(" ");R=typeof le=="string"?[le,me,we,Xe[1]].join(" "):x.precision===2?[L(le/255),L(me/255),L(we/255),Xe[1]].join(" "):[j(le/255),j(me/255),j(we/255),Xe[1]].join(" ")}else R=typeof le=="string"?[le,me,we,Fe,Xe[2]].join(" "):x.precision===2?[L(le),L(me),L(we),L(Fe),Xe[2]].join(" "):[j(le),j(me),j(we),j(Fe),Xe[2]].join(" ");return R},zr=y.__private__.getFilters=function(){return h},Jr=y.__private__.putStream=function(x){var R=(x=x||{}).data||"",le=x.filters||zr(),me=x.alreadyAppliedFilters||[],we=x.addLength1||!1,Fe=R.length,Xe=x.objectId,pt=function(ji){return ji};if(m!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(pt=Di.encryptor(Xe,0));var _t={};le===!0&&(le=["FlateEncode"]);var Rt=x.additionalKeyValues||[],Ut=(_t=St.API.processDataByFilters!==void 0?St.API.processDataByFilters(R,le):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(_t.data.length!==0&&(Rt.push({key:"Length",value:_t.data.length}),we===!0&&Rt.push({key:"Length1",value:Fe})),Ut.length!=0)if(Ut.split("/").length-1==1)Rt.push({key:"Filter",value:Ut});else{Rt.push({key:"Filter",value:"["+Ut+"]"});for(var nn=0;nn<Rt.length;nn+=1)if(Rt[nn].key==="DecodeParms"){for(var ei=[],vi=0;vi<_t.reverseChain.split("/").length-1;vi+=1)ei.push("null");ei.push(Rt[nn].value),Rt[nn].value="["+ei.join(" ")+"]"}}H("<<");for(var In=0;In<Rt.length;In++)H("/"+Rt[In].key+" "+Rt[In].value);H(">>"),_t.data.length!==0&&(H("stream"),H(pt(_t.data)),H("endstream"))},Do=y.__private__.putPage=function(x){var R=x.number,le=x.data,me=x.objId,we=x.contentsObjId;Cn(me,!0),H("<</Type /Page"),H("/Parent "+x.rootDictionaryObjId+" 0 R"),H("/Resources "+x.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(D(x.mediaBox.bottomLeftX))+" "+parseFloat(D(x.mediaBox.bottomLeftY))+" "+D(x.mediaBox.topRightX)+" "+D(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&H("/CropBox ["+D(x.cropBox.bottomLeftX)+" "+D(x.cropBox.bottomLeftY)+" "+D(x.cropBox.topRightX)+" "+D(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&H("/BleedBox ["+D(x.bleedBox.bottomLeftX)+" "+D(x.bleedBox.bottomLeftY)+" "+D(x.bleedBox.topRightX)+" "+D(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&H("/TrimBox ["+D(x.trimBox.bottomLeftX)+" "+D(x.trimBox.bottomLeftY)+" "+D(x.trimBox.topRightX)+" "+D(x.trimBox.topRightY)+"]"),x.artBox!==null&&H("/ArtBox ["+D(x.artBox.bottomLeftX)+" "+D(x.artBox.bottomLeftY)+" "+D(x.artBox.topRightX)+" "+D(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&H("/UserUnit "+x.userUnit),Ot.publish("putPage",{objId:me,pageContext:lt[R],pageNumber:R,page:le}),H("/Contents "+we+" 0 R"),H(">>"),H("endobj");var Fe=le.join(`
`);return F===P&&(Fe+=`
Q`),Cn(we,!0),Jr({data:Fe,filters:zr(),objectId:we}),H("endobj"),me},ws=y.__private__.putPages=function(){var x,R,le=[];for(x=1;x<=yt;x++)lt[x].objId=Rn(),lt[x].contentsObjId=Rn();for(x=1;x<=yt;x++)le.push(Do({number:x,data:He[x],objId:lt[x].objId,contentsObjId:lt[x].contentsObjId,mediaBox:lt[x].mediaBox,cropBox:lt[x].cropBox,bleedBox:lt[x].bleedBox,trimBox:lt[x].trimBox,artBox:lt[x].artBox,userUnit:lt[x].userUnit,rootDictionaryObjId:Mi,resourceDictionaryObjId:Tn}));Cn(Mi,!0),H("<</Type /Pages");var me="/Kids [";for(R=0;R<yt;R++)me+=le[R]+" 0 R ";H(me+"]"),H("/Count "+yt),H(">>"),H("endobj"),Ot.publish("postPutPages")},Ss=function(x){Ot.publish("putFont",{font:x,out:H,newObject:un,putStream:Jr}),x.isAlreadyPutted!==!0&&(x.objectNumber=un(),H("<<"),H("/Type /Font"),H("/BaseFont /"+lh(x.postScriptName)),H("/Subtype /Type1"),typeof x.encoding=="string"&&H("/Encoding /"+x.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},io=function(x){x.objectNumber=un();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[D(x.x),D(x.y),D(x.x+x.width),D(x.y+x.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var le=x.pages[1].join(`
`);Jr({data:le,additionalKeyValues:R,objectId:x.objectNumber}),H("endobj")},As=function(x,R){R||(R=21);var le=un(),me=(function(Xe,pt){var _t,Rt=[],Ut=1/(pt-1);for(_t=0;_t<1;_t+=Ut)Rt.push(_t);if(Rt.push(1),Xe[0].offset!=0){var nn={offset:0,color:Xe[0].color};Xe.unshift(nn)}if(Xe[Xe.length-1].offset!=1){var ei={offset:1,color:Xe[Xe.length-1].color};Xe.push(ei)}for(var vi="",In=0,ji=0;ji<Rt.length;ji++){for(_t=Rt[ji];_t>Xe[In+1].offset;)In++;var Si=Xe[In].offset,Qi=(_t-Si)/(Xe[In+1].offset-Si),Sa=Xe[In].color,Os=Xe[In+1].color;vi+=ie(Math.round((1-Qi)*Sa[0]+Qi*Os[0]).toString(16))+ie(Math.round((1-Qi)*Sa[1]+Qi*Os[1]).toString(16))+ie(Math.round((1-Qi)*Sa[2]+Qi*Os[2]).toString(16))}return vi.trim()})(x.colors,R),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+R+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jr({data:me,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),H("endobj"),x.objectNumber=un(),H("<< /ShadingType "+x.type),H("/ColorSpace /DeviceRGB");var Fe="/Coords ["+D(parseFloat(x.coords[0]))+" "+D(parseFloat(x.coords[1]))+" ";x.type===2?Fe+=D(parseFloat(x.coords[2]))+" "+D(parseFloat(x.coords[3])):Fe+=D(parseFloat(x.coords[2]))+" "+D(parseFloat(x.coords[3]))+" "+D(parseFloat(x.coords[4]))+" "+D(parseFloat(x.coords[5])),H(Fe+="]"),x.matrix&&H("/Matrix ["+x.matrix.toString()+"]"),H("/Function "+le+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},Ns=function(x,R){var le=Rn(),me=un();R.push({resourcesOid:le,objectOid:me}),x.objectNumber=me;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+x.boundingBox.map(D).join(" ")+"]"}),we.push({key:"XStep",value:D(x.xStep)}),we.push({key:"YStep",value:D(x.yStep)}),we.push({key:"Resources",value:le+" 0 R"}),x.matrix&&we.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),Jr({data:x.stream,additionalKeyValues:we,objectId:x.objectNumber}),H("endobj")},jo=function(x){for(var R in x.objectNumber=un(),H("<<"),x)switch(R){case"opacity":H("/ca "+L(x[R]));break;case"stroke-opacity":H("/CA "+L(x[R]))}H(">>"),H("endobj")},Ys=function(x){Cn(x.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var R in H("/Font <<"),wt)wt.hasOwnProperty(R)&&(b===!1||b===!0&&w.hasOwnProperty(R))&&H("/"+R+" "+wt[R].objectNumber+" 0 R");H(">>")})(),(function(){if(Object.keys(bt).length>0){for(var R in H("/Shading <<"),bt)bt.hasOwnProperty(R)&&bt[R]instanceof Qc&&bt[R].objectNumber>=0&&H("/"+R+" "+bt[R].objectNumber+" 0 R");Ot.publish("putShadingPatternDict"),H(">>")}})(),(function(R){if(Object.keys(bt).length>0){for(var le in H("/Pattern <<"),bt)bt.hasOwnProperty(le)&&bt[le]instanceof y.TilingPattern&&bt[le].objectNumber>=0&&bt[le].objectNumber<R&&H("/"+le+" "+bt[le].objectNumber+" 0 R");Ot.publish("putTilingPatternDict"),H(">>")}})(x.objectOid),(function(){if(Object.keys(Nt).length>0){var R;for(R in H("/ExtGState <<"),Nt)Nt.hasOwnProperty(R)&&Nt[R].objectNumber>=0&&H("/"+R+" "+Nt[R].objectNumber+" 0 R");Ot.publish("putGStateDict"),H(">>")}})(),(function(){for(var R in H("/XObject <<"),cn)cn.hasOwnProperty(R)&&cn[R].objectNumber>=0&&H("/"+R+" "+cn[R].objectNumber+" 0 R");Ot.publish("putXobjectDict"),H(">>")})(),H(">>"),H("endobj")},gi=function(x){At[x.fontName]=At[x.fontName]||{},At[x.fontName][x.fontStyle]=x.id},gc=function(x,R,le,me,we){var Fe={id:"F"+(Object.keys(wt).length+1).toString(10),postScriptName:x,fontName:R,fontStyle:le,encoding:me,isStandardFont:we||!1,metadata:{}};return Ot.publish("addFont",{font:Fe,instance:this}),wt[Fe.id]=Fe,gi(Fe),Fe.id},Fr=y.__private__.pdfEscape=y.pdfEscape=function(x,R){return(function(le,me){var we,Fe,Xe,pt,_t,Rt,Ut,nn,ei;if(Xe=(me=me||{}).sourceEncoding||"Unicode",_t=me.outputEncoding,(me.autoencode||_t)&&wt[Qe].metadata&&wt[Qe].metadata[Xe]&&wt[Qe].metadata[Xe].encoding&&(pt=wt[Qe].metadata[Xe].encoding,!_t&&wt[Qe].encoding&&(_t=wt[Qe].encoding),!_t&&pt.codePages&&(_t=pt.codePages[0]),typeof _t=="string"&&(_t=pt[_t]),_t)){for(Ut=!1,Rt=[],we=0,Fe=le.length;we<Fe;we++)(nn=_t[le.charCodeAt(we)])?Rt.push(String.fromCharCode(nn)):Rt.push(le[we]),Rt[we].charCodeAt(0)>>8&&(Ut=!0);le=Rt.join("")}for(we=le.length;Ut===void 0&&we!==0;)le.charCodeAt(we-1)>>8&&(Ut=!0),we--;if(!Ut)return le;for(Rt=me.noBOM?[]:[254,255],we=0,Fe=le.length;we<Fe;we++){if((ei=(nn=le.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+le+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rt.push(ei),Rt.push(nn-(ei<<8))}return String.fromCharCode.apply(void 0,Rt)})(x,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cs=y.__private__.beginPage=function(x){He[++yt]=[],lt[yt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},yc(yt),it(He[z])},pa=function(x,R){var le,me,we;switch(t=R||t,typeof x=="string"&&(le=T(x.toLowerCase()),Array.isArray(le)&&(me=le[0],we=le[1])),Array.isArray(x)&&(me=x[0]*ht,we=x[1]*ht),isNaN(me)&&(me=a[0],we=a[1]),(me>14400||we>14400)&&(Xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),we=Math.min(14400,we)),a=[me,we],t.substr(0,1)){case"l":we>me&&(a=[we,me]);break;case"p":me>we&&(a=[we,me])}Cs(a),Lt(Io),H(Vr),wl!==0&&H(wl+" J"),Pi!==0&&H(Pi+" j"),Ot.publish("addPage",{pageNumber:yt})},vc=function(x){x>0&&x<=yt&&(He.splice(x,1),lt.splice(x,1),yt--,z>yt&&(z=yt),this.setPage(z))},yc=function(x){x>0&&x<=yt&&(z=x)},bc=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return He.length-1},fu=function(x,R,le){var me,we=void 0;return le=le||{},x=x!==void 0?x:wt[Qe].fontName,R=R!==void 0?R:wt[Qe].fontStyle,me=x.toLowerCase(),At[me]!==void 0&&At[me][R]!==void 0?we=At[me][R]:At[x]!==void 0&&At[x][R]!==void 0?we=At[x][R]:le.disableWarning===!1&&Xn.warn("Unable to look up font label for font '"+x+"', '"+R+"'. Refer to getFontList() for available fonts."),we||le.noFallback||(we=At.times[R])==null&&(we=At.times.normal),we},Pr=y.__private__.putInfo=function(){var x=un(),R=function(me){return me};for(var le in m!==null&&(R=Di.encryptor(x,0)),H("<<"),H("/Producer ("+Fr(R("jsPDF "+St.version))+")"),at)at.hasOwnProperty(le)&&at[le]&&H("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Fr(R(at[le]))+")");H("/CreationDate ("+Fr(R(ue))+")"),H(">>"),H("endobj")},ma=y.__private__.putCatalog=function(x){var R=(x=x||{}).rootDictionaryObjId||Mi;switch(un(),H("<<"),H("/Type /Catalog"),H("/Pages "+R+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+qe;le.substr(le.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&H("/OpenAction [3 0 R /XYZ null null "+L(qe)+"]")}switch(ze||(ze="continuous"),ze){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}nt&&H("/PageMode /"+nt),Ot.publish("putCatalog"),H(">>"),H("endobj")},Ts=y.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(ae+1)),H("/Root "+ae+" 0 R"),H("/Info "+(ae-1)+" 0 R"),m!==null&&H("/Encrypt "+Di.oid+" 0 R"),H("/ID [ <"+Q+"> <"+Q+"> ]"),H(">>")},mn=y.__private__.putHeader=function(){H("%PDF-"+N),H("%")},_c=y.__private__.putXRef=function(){var x="0000000000";H("xref"),H("0 "+(ae+1)),H("0000000000 65535 f ");for(var R=1;R<=ae;R++)typeof fe[R]=="function"?H((x+fe[R]()).slice(-10)+" 00000 n "):fe[R]!==void 0?H((x+fe[R]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},Ws=y.__private__.buildDocument=function(){var x;ae=0,xe=0,pe=[],fe=[],Ce=[],Mi=Rn(),Tn=Rn(),it(pe),Ot.publish("buildDocument"),mn(),ws(),(function(){Ot.publish("putAdditionalObjects");for(var le=0;le<Ce.length;le++){var me=Ce[le];Cn(me.objId,!0),H(me.content),H("endobj")}Ot.publish("postPutAdditionalObjects")})(),x=[],(function(){for(var le in wt)wt.hasOwnProperty(le)&&(b===!1||b===!0&&w.hasOwnProperty(le))&&Ss(wt[le])})(),(function(){var le;for(le in Nt)Nt.hasOwnProperty(le)&&jo(Nt[le])})(),(function(){for(var le in cn)cn.hasOwnProperty(le)&&io(cn[le])})(),(function(le){var me;for(me in bt)bt.hasOwnProperty(me)&&(bt[me]instanceof Qc?As(bt[me]):bt[me]instanceof ph&&Ns(bt[me],le))})(x),Ot.publish("putResources"),x.forEach(Ys),Ys({resourcesOid:Tn,objectOid:Number.MAX_SAFE_INTEGER}),Ot.publish("postPutResources"),m!==null&&(Di.oid=un(),H("<<"),H("/Filter /Standard"),H("/V "+Di.v),H("/R "+Di.r),H("/U <"+Di.toHexString(Di.U)+">"),H("/O <"+Di.toHexString(Di.O)+">"),H("/P "+Di.P),H(">>"),H("endobj")),Pr(),ma();var R=xe;return _c(),Ts(),H("startxref"),H(""+R),H("%%EOF"),it(He[z]),pe.join(`
`)},ro=y.__private__.getBlob=function(x){return new Blob([st(x)],{type:"application/pdf"})},xc=y.output=y.__private__.output=(Hn=function(x,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",x){case void 0:return Ws();case"save":y.save(R.filename);break;case"arraybuffer":return st(Ws());case"blob":return ro(Ws());case"bloburi":case"bloburl":if(qt.URL!==void 0&&typeof qt.URL.createObjectURL=="function")return qt.URL&&qt.URL.createObjectURL(ro(Ws()))||void 0;Xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",me=Ws();try{le=ob(me)}catch{le=ob(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+R.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(we=R.pdfObjectUrl,Fe="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",pt=qt.open();return pt!==null&&pt.document.write(Xe),pt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',Rt=qt.open();if(Rt!==null){Rt.document.write(_t);var Ut=this;Rt.document.documentElement.querySelector("#pdfViewer").onload=function(){Rt.document.title=R.filename,Rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ut.output("bloburl"))}}return Rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var nn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',ei=qt.open();if(ei!==null&&(ei.document.write(nn),ei.document.title=R.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return qt.document.location.href=this.output("datauristring",R);default:return null}},Hn.foo=function(){try{return Hn.apply(this,arguments)}catch(le){var x=le.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var R="Error in function "+x.split(`
`)[0].split("<")[0]+": "+le.message;if(!qt.console)throw new Error(R);qt.console.error(R,le),qt.alert&&alert(R)}},Hn.foo.bar=Hn,Hn.foo),vr=function(x){return Array.isArray(Jn)===!0&&Jn.indexOf(x)>-1};switch(r){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=vr("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ht=r}var Di=null;Y(),ce();var wi=y.__private__.getPageInfo=y.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[x].objId,pageNumber:x,pageContext:lt[x]}},_l=y.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in lt)if(lt[R].objId===x)break;return wi(R)},du=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:lt[z].objId,pageNumber:z,pageContext:lt[z]}};y.addPage=function(){return pa.apply(this,arguments),this},y.setPage=function(){return yc.apply(this,arguments),it.call(this,He[z]),this},y.insertPage=function(x){return this.addPage(),this.movePage(z,x),this},y.movePage=function(x,R){var le,me;if(x>R){le=He[x],me=lt[x];for(var we=x;we>R;we--)He[we]=He[we-1],lt[we]=lt[we-1];He[R]=le,lt[R]=me,this.setPage(R)}else if(x<R){le=He[x],me=lt[x];for(var Fe=x;Fe<R;Fe++)He[Fe]=He[Fe+1],lt[Fe]=lt[Fe+1];He[R]=le,lt[R]=me,this.setPage(R)}return this},y.deletePage=function(){return vc.apply(this,arguments),this},y.__private__.text=y.text=function(x,R,le,me,we){var Fe,Xe,pt,_t,Rt,Ut,nn,ei,vi,In=(me=me||{}).scope||this;if(typeof x=="number"&&typeof R=="number"&&(typeof le=="string"||Array.isArray(le))){var ji=le;le=R,R=x,x=ji}if(arguments[3]instanceof ft==0?(pt=arguments[4],_t=arguments[5],Ln(nn=arguments[3])==="object"&&nn!==null||(typeof pt=="string"&&(_t=pt,pt=null),typeof nn=="string"&&(_t=nn,nn=null),typeof nn=="number"&&(pt=nn,nn=null),me={flags:nn,angle:pt,align:_t})):(I("The transform parameter of text() with a Matrix value"),vi=we),isNaN(R)||isNaN(le)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return In;var Si,Qi="",Sa=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:ga,Os=In.internal.scaleFactor;function Aa(gn){return gn=gn.split("	").join(Array(me.TabLen||9).join(" ")),Fr(gn,nn)}function Oc(gn){for(var rn,Bn=gn.concat(),bi=[],ia=Bn.length;ia--;)typeof(rn=Bn.shift())=="string"?bi.push(rn):Array.isArray(gn)&&(rn.length===1||rn[1]===void 0&&rn[2]===void 0)?bi.push(rn[0]):bi.push([rn[0],rn[1],rn[2]]);return bi}function Al(gn,rn){var Bn;if(typeof gn=="string")Bn=rn(gn)[0];else if(Array.isArray(gn)){for(var bi,ia,js=gn.concat(),Vo=[],Dc=js.length;Dc--;)typeof(bi=js.shift())=="string"?Vo.push(rn(bi)[0]):Array.isArray(bi)&&typeof bi[0]=="string"&&(ia=rn(bi[0],bi[1],bi[2]),Vo.push([ia[0],ia[1],ia[2]]));Bn=Vo}return Bn}var Ks=!1,Ls=!0;if(typeof x=="string")Ks=!0;else if(Array.isArray(x)){var Po=x.concat();Xe=[];for(var Na,Ui=Po.length;Ui--;)(typeof(Na=Po.shift())!="string"||Array.isArray(Na)&&typeof Na[0]!="string")&&(Ls=!1);Ks=Ls}if(Ks===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var ao=ge/In.internal.scaleFactor,oo=ao*(Sa-1);switch(me.baseline){case"bottom":le-=oo;break;case"top":le+=ao-oo;break;case"hanging":le+=ao-2*oo;break;case"middle":le+=ao/2-oo}if((Ut=me.maxWidth||0)>0&&(typeof x=="string"?x=In.splitTextToSize(x,Ut):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(gn,rn){return gn.concat(In.splitTextToSize(rn,Ut))},[]))),Fe={text:x,x:R,y:le,options:me,mutex:{pdfEscape:Fr,activeFontKey:Qe,fonts:wt,activeFontSize:ge}},Ot.publish("preProcessText",Fe),x=Fe.text,pt=(me=Fe.options).angle,vi instanceof ft==0&&pt&&typeof pt=="number"){pt*=Math.PI/180,me.rotationDirection===0&&(pt=-pt),F===P&&(pt=-pt);var Nl=Math.cos(pt),Qs=Math.sin(pt);vi=new ft(Nl,Qs,-Qs,Nl,0,0)}else pt&&pt instanceof ft&&(vi=pt);F!==P||vi||(vi=mi),(Rt=me.charSpace||$r)!==void 0&&(Qi+=D($(Rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=me.horizontalScale)!==void 0&&(Qi+=D(100*ei)+` Tz
`),me.lang;var br=-1,Ca=me.renderingMode!==void 0?me.renderingMode:me.stroke,Cl=In.internal.getCurrentPageInfo().pageContext;switch(Ca){case 0:case!1:case"fill":br=0;break;case 1:case!0:case"stroke":br=1;break;case 2:case"fillThenStroke":br=2;break;case 3:case"invisible":br=3;break;case 4:case"fillAndAddForClipping":br=4;break;case 5:case"strokeAndAddPathForClipping":br=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":br=6;break;case 7:case"addToPathForClipping":br=7}var Lc=Cl.usedRenderingMode!==void 0?Cl.usedRenderingMode:-1;br!==-1?Qi+=br+` Tr
`:Lc!==-1&&(Qi+=`0 Tr
`),br!==-1&&(Cl.usedRenderingMode=br),_t=me.align||"left";var Hr,Ms=ge*Sa,Ta=In.internal.pageSize.getWidth(),Mc=wt[Qe];Rt=me.charSpace||$r,Ut=me.maxWidth||0,nn=Object.assign({autoencode:!0,noBOM:!0},me.flags);var Ds=[],lo=function(gn){return In.getStringUnitWidth(gn,{font:Mc,charSpace:Rt,fontSize:ge,doKerning:!1})*ge/Os};if(Object.prototype.toString.call(x)==="[object Array]"){var Or;Xe=Oc(x),_t!=="left"&&(Hr=Xe.map(lo));var _r,Js=0;if(_t==="right"){R-=Hr[0],x=[],Ui=Xe.length;for(var $s=0;$s<Ui;$s++)$s===0?(_r=Ur(R),Or=Ki(le)):(_r=$(Js-Hr[$s]),Or=-Ms),x.push([Xe[$s],_r,Or]),Js=Hr[$s]}else if(_t==="center"){R-=Hr[0]/2,x=[],Ui=Xe.length;for(var Ea=0;Ea<Ui;Ea++)Ea===0?(_r=Ur(R),Or=Ki(le)):(_r=$((Js-Hr[Ea])/2),Or=-Ms),x.push([Xe[Ea],_r,Or]),Js=Hr[Ea]}else if(_t==="left"){x=[],Ui=Xe.length;for(var Tl=0;Tl<Ui;Tl++)x.push(Xe[Tl])}else if(_t==="justify"&&Mc.encoding==="Identity-H"){x=[],Ui=Xe.length,Ut=Ut!==0?Ut:Ta;for(var El=0,yi=0;yi<Ui;yi++)if(Or=yi===0?Ki(le):-Ms,_r=yi===0?Ur(R):El,yi<Ui-1){var wu=$((Ut-Hr[yi])/(Xe[yi].split(" ").length-1)),ea=Xe[yi].split(" ");x.push([ea[0]+" ",_r,Or]),El=0;for(var ta=1;ta<ea.length;ta++){var Ji=(lo(ea[ta-1]+" "+ea[ta])-lo(ea[ta]))*Os+wu;ta==ea.length-1?x.push([ea[ta],Ji,0]):x.push([ea[ta]+" ",Ji,0]),El-=Ji}}else x.push([Xe[yi],_r,Or]);x.push(["",El,0])}else{if(_t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Ui=Xe.length,Ut=Ut!==0?Ut:Ta,yi=0;yi<Ui;yi++){Or=yi===0?Ki(le):-Ms,_r=yi===0?Ur(R):0;var ka=Xe[yi].split(" ").length-1,kl=ka>0?(Ut-Hr[yi])/ka:0;yi<Ui-1?Ds.push(D($(kl))):Ds.push(0),x.push([Xe[yi],_r,Or])}}}(typeof me.R2L=="boolean"?me.R2L:et)===!0&&(x=Al(x,function(gn,rn,Bn){return[gn.split("").reverse().join(""),rn,Bn]})),Fe={text:x,x:R,y:le,options:me,mutex:{pdfEscape:Fr,activeFontKey:Qe,fonts:wt,activeFontSize:ge}},Ot.publish("postProcessText",Fe),x=Fe.text,Si=Fe.mutex.isHex||!1;var Ol=wt[Qe].encoding;Ol!=="WinAnsiEncoding"&&Ol!=="StandardEncoding"||(x=Al(x,function(gn,rn,Bn){return[Aa(gn),rn,Bn]})),Xe=Oc(x),x=[];for(var Oa,La,na,Uo=Array.isArray(Xe[0])?1:0,Gr="",Ma=function(gn,rn,Bn){var bi="";return Bn instanceof ft?(Bn=typeof me.angle=="number"?_n(Bn,new ft(1,0,0,1,gn,rn)):_n(new ft(1,0,0,1,gn,rn),Bn),F===P&&(Bn=_n(new ft(1,0,0,-1,0,0),Bn)),bi=Bn.join(" ")+` Tm
`):bi=D(gn)+" "+D(rn)+` Td
`,bi},lr=0;lr<Xe.length;lr++){switch(Gr="",Uo){case 1:na=(Si?"<":"(")+Xe[lr][0]+(Si?">":")"),Oa=parseFloat(Xe[lr][1]),La=parseFloat(Xe[lr][2]);break;case 0:na=(Si?"<":"(")+Xe[lr]+(Si?">":")"),Oa=Ur(R),La=Ki(le)}Ds!==void 0&&Ds[lr]!==void 0&&(Gr=Ds[lr]+` Tw
`),lr===0?x.push(Gr+Ma(Oa,La,vi)+na):Uo===0?x.push(Gr+na):Uo===1&&x.push(Gr+Ma(Oa,La,vi)+na)}x=Uo===0?x.join(` Tj
T* `):x.join(` Tj
`),x+=` Tj
`;var ts=`BT
/`;return ts+=Qe+" "+ge+` Tf
`,ts+=D(ge*Sa)+` TL
`,ts+=Xs+`
`,ts+=Qi,ts+=x,H(ts+="ET"),w[Qe]=!0,In};var wc=y.__private__.clip=y.clip=function(x){return H(x==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return wc("evenodd")},y.__private__.discardPath=y.discardPath=function(){return H("n"),this};var yr=y.__private__.isValidStyle=function(x){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(R=!0),R};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(x){return yr(x)&&(d=x),this};var Sc=y.__private__.getStyle=y.getStyle=function(x){var R=d;switch(x){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=x}return R},Ac=y.close=function(){return H("h"),this};y.stroke=function(){return H("S"),this},y.fill=function(x){return Es("f",x),this},y.fillEvenOdd=function(x){return Es("f*",x),this},y.fillStroke=function(x){return Es("B",x),this},y.fillStrokeEvenOdd=function(x){return Es("B*",x),this};var Es=function(x,R){Ln(R)==="object"?mu(R,x):H(x)},Ro=function(x){x===null||F===P&&x===void 0||(x=Sc(x),H(x))};function pu(x,R,le,me,we){var Fe=new ph(R||this.boundingBox,le||this.xStep,me||this.yStep,this.gState,we||this.matrix);Fe.stream=this.stream;var Xe=x+"$$"+this.cloneIndex+++"$$";return jn(Xe,Fe),Fe}var mu=function(x,R){var le=on[x.key],me=bt[le];if(me instanceof Qc)H("q"),H(Nc(R)),me.gState&&y.setGState(me.gState),H(x.matrix.toString()+" cm"),H("/"+le+" sh"),H("Q");else if(me instanceof ph){var we=new ft(1,0,0,-1,0,wa());x.matrix&&(we=we.multiply(x.matrix||mi),le=pu.call(me,x.key,x.boundingBox,x.xStep,x.yStep,we).id),H("q"),H("/Pattern cs"),H("/"+le+" scn"),me.gState&&y.setGState(me.gState),H(R),H("Q")}},Nc=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cc=y.moveTo=function(x,R){return H(D($(x))+" "+D(ee(R))+" m"),this},gu=y.lineTo=function(x,R){return H(D($(x))+" "+D(ee(R))+" l"),this},kr=y.curveTo=function(x,R,le,me,we,Fe){return H([D($(x)),D(ee(R)),D($(le)),D(ee(me)),D($(we)),D(ee(Fe)),"c"].join(" ")),this};y.__private__.line=y.line=function(x,R,le,me,we){if(isNaN(x)||isNaN(R)||isNaN(le)||isNaN(me)||!yr(we))throw new Error("Invalid arguments passed to jsPDF.line");return F===U?this.lines([[le-x,me-R]],x,R,[1,1],we||"S"):this.lines([[le-x,me-R]],x,R,[1,1]).stroke()},y.__private__.lines=y.lines=function(x,R,le,me,we,Fe){var Xe,pt,_t,Rt,Ut,nn,ei,vi,In,ji,Si,Qi;if(typeof x=="number"&&(Qi=le,le=R,R=x,x=Qi),me=me||[1,1],Fe=Fe||!1,isNaN(R)||isNaN(le)||!Array.isArray(x)||!Array.isArray(me)||!yr(we)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cc(R,le),Xe=me[0],pt=me[1],Rt=x.length,ji=R,Si=le,_t=0;_t<Rt;_t++)(Ut=x[_t]).length===2?(ji=Ut[0]*Xe+ji,Si=Ut[1]*pt+Si,gu(ji,Si)):(nn=Ut[0]*Xe+ji,ei=Ut[1]*pt+Si,vi=Ut[2]*Xe+ji,In=Ut[3]*pt+Si,ji=Ut[4]*Xe+ji,Si=Ut[5]*pt+Si,kr(nn,ei,vi,In,ji,Si));return Fe&&Ac(),Ro(we),this},y.path=function(x){for(var R=0;R<x.length;R++){var le=x[R],me=le.c;switch(le.op){case"m":Cc(me[0],me[1]);break;case"l":gu(me[0],me[1]);break;case"c":kr.apply(this,me);break;case"h":Ac()}}return this},y.__private__.rect=y.rect=function(x,R,le,me,we){if(isNaN(x)||isNaN(R)||isNaN(le)||isNaN(me)||!yr(we))throw new Error("Invalid arguments passed to jsPDF.rect");return F===U&&(me=-me),H([D($(x)),D(ee(R)),D($(le)),D($(me)),"re"].join(" ")),Ro(we),this},y.__private__.triangle=y.triangle=function(x,R,le,me,we,Fe,Xe){if(isNaN(x)||isNaN(R)||isNaN(le)||isNaN(me)||isNaN(we)||isNaN(Fe)||!yr(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-x,me-R],[we-le,Fe-me],[x-we,R-Fe]],x,R,[1,1],Xe,!0),this},y.__private__.roundedRect=y.roundedRect=function(x,R,le,me,we,Fe,Xe){if(isNaN(x)||isNaN(R)||isNaN(le)||isNaN(me)||isNaN(we)||isNaN(Fe)||!yr(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*le),Fe=Math.min(Fe,.5*me),this.lines([[le-2*we,0],[we*pt,0,we,Fe-Fe*pt,we,Fe],[0,me-2*Fe],[0,Fe*pt,-we*pt,Fe,-we,Fe],[2*we-le,0],[-we*pt,0,-we,-Fe*pt,-we,-Fe],[0,2*Fe-me],[0,-Fe*pt,we*pt,-Fe,we,-Fe]],x+we,R,[1,1],Xe,!0),this},y.__private__.ellipse=y.ellipse=function(x,R,le,me,we){if(isNaN(x)||isNaN(R)||isNaN(le)||isNaN(me)||!yr(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*le,Xe=4/3*(Math.SQRT2-1)*me;return Cc(x+le,R),kr(x+le,R-Xe,x+Fe,R-me,x,R-me),kr(x-Fe,R-me,x-le,R-Xe,x-le,R),kr(x-le,R+Xe,x-Fe,R+me,x,R+me),kr(x+Fe,R+me,x+le,R+Xe,x+le,R),Ro(we),this},y.__private__.circle=y.circle=function(x,R,le,me){if(isNaN(x)||isNaN(R)||isNaN(le)||!yr(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,R,le,le,me)},y.setFont=function(x,R,le){return le&&(R=G(R,le)),Qe=fu(x,R,{disableWarning:!1}),this};var ks=y.__private__.getFont=y.getFont=function(){return wt[fu.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var x,R,le={};for(x in At)if(At.hasOwnProperty(x))for(R in le[x]=[],At[x])At[x].hasOwnProperty(R)&&le[x].push(R);return le},y.addFont=function(x,R,le,me,we){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(le=G(le,me)),gc.call(this,x,R,le,we=we||"Identity-H")};var ga,Io=i.lineWidth||.200025,so=y.__private__.getLineWidth=y.getLineWidth=function(){return Io},Lt=y.__private__.setLineWidth=y.setLineWidth=function(x){return Io=x,H(D($(x))+" w"),this};y.__private__.setLineDash=St.API.setLineDash=St.API.setLineDashPattern=function(x,R){if(x=x||[],R=R||0,isNaN(R)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(le){return D($(le))}).join(" "),R=D($(R)),H("["+x+"] "+R+" d"),this};var vu=y.__private__.getLineHeight=y.getLineHeight=function(){return ge*ga};y.__private__.getLineHeight=y.getLineHeight=function(){return ge*ga};var Tc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(ga=x),this},yu=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return ga};Tc(i.lineHeight);var Ur=y.__private__.getHorizontalCoordinate=function(x){return $(x)},Ki=y.__private__.getVerticalCoordinate=function(x){return F===P?x:lt[z].mediaBox.topRightY-lt[z].mediaBox.bottomLeftY-$(x)},Ec=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(x){return D(Ur(x))},Bo=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(x){return D(Ki(x))},Vr=i.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return $n(Vr)},y.__private__.setStrokeColor=y.setDrawColor=function(x,R,le,me){return Vr=or({ch1:x,ch2:R,ch3:le,ch4:me,pdfColorType:"draw",precision:2}),H(Vr),this};var qo=i.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return $n(qo)},y.__private__.setFillColor=y.setFillColor=function(x,R,le,me){return qo=or({ch1:x,ch2:R,ch3:le,ch4:me,pdfColorType:"fill",precision:2}),H(qo),this};var Xs=i.textColor||"0 g",bu=y.__private__.getTextColor=y.getTextColor=function(){return $n(Xs)};y.__private__.setTextColor=y.setTextColor=function(x,R,le,me){return Xs=or({ch1:x,ch2:R,ch3:le,ch4:me,pdfColorType:"text",precision:3}),this};var $r=i.charSpace,xl=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat($r||0)};y.__private__.setCharSpace=y.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $r=x,this};var wl=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(x){var R=y.CapJoinStyles[x];if(R===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wl=R,H(R+" J"),this};var Pi=0;y.__private__.setLineJoin=y.setLineJoin=function(x){var R=y.CapJoinStyles[x];if(R===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pi=R,H(R+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(D($(x))+" M"),this},y.GState=Jp,y.setGState=function(x){(x=typeof x=="string"?Nt[kt[x]]:Zs(null,x)).equals(ln)||(H("/"+x.id+" gs"),ln=x)};var Zs=function(x,R){if(!x||!kt[x]){var le=!1;for(var me in Nt)if(Nt.hasOwnProperty(me)&&Nt[me].equals(R)){le=!0;break}if(le)R=Nt[me];else{var we="GS"+(Object.keys(Nt).length+1).toString(10);Nt[we]=R,R.id=we}return x&&(kt[x]=R.id),Ot.publish("addGState",R),R}};y.addGState=function(x,R){return Zs(x,R),this},y.saveGraphicsState=function(){return H("q"),Pt.push({key:Qe,size:ge,color:Xs}),this},y.restoreGraphicsState=function(){H("Q");var x=Pt.pop();return Qe=x.key,ge=x.size,Xs=x.color,ln=null,this},y.setCurrentTransformationMatrix=function(x){return H(x.toString()+" cm"),this},y.comment=function(x){return H("#"+x),this};var es=function(x,R){var le=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Fe){isNaN(Fe)||(le=parseFloat(Fe))}});var me=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(Fe){isNaN(Fe)||(me=parseFloat(Fe))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Fe){we=Fe.toString()}}),this},va=function(x,R,le,me){es.call(this,x,R),this.type="rect";var we=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Xe){isNaN(Xe)||(we=parseFloat(Xe))}});var Fe=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function(Xe){isNaN(Xe)||(Fe=parseFloat(Xe))}}),this},Sl=function(){this.page=yt,this.currentPage=z,this.pages=He.slice(0),this.pagesContext=lt.slice(0),this.x=ot,this.y=Nn,this.matrix=Ft,this.width=ba(z),this.height=kc(z),this.outputDestination=Je,this.id="",this.objectNumber=-1};Sl.prototype.restore=function(){yt=this.page,z=this.currentPage,lt=this.pagesContext,He=this.pages,ot=this.x,Nn=this.y,Ft=this.matrix,Fo(z,this.width),_a(z,this.height),Je=this.outputDestination};var zo=function(x,R,le,me,we){Dn.push(new Sl),yt=z=0,He=[],ot=x,Nn=R,Ft=we,Cs([le,me])};for(var ya in y.beginFormObject=function(x,R,le,me,we){return zo(x,R,le,me,we),this},y.endFormObject=function(x){return(function(R){if(Mn[R])Dn.pop().restore();else{var le=new Sl,me="Xo"+(Object.keys(cn).length+1).toString(10);le.id=me,Mn[R]=me,cn[me]=le,Ot.publish("addFormObject",le),Dn.pop().restore()}})(x),this},y.doFormObject=function(x,R){var le=cn[Mn[x]];return H("q"),H(R.toString()+" cm"),H("/"+le.id+" Do"),H("Q"),this},y.getFormObject=function(x){var R=cn[Mn[x]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},y.save=function(x,R){return x=x||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(Zc(ro(Ws()),x),typeof Zc.unload=="function"&&qt.setTimeout&&setTimeout(Zc.unload,911),this):new Promise(function(le,me){try{var we=Zc(ro(Ws()),x);typeof Zc.unload=="function"&&qt.setTimeout&&setTimeout(Zc.unload,911),le(we)}catch(Fe){me(Fe.message)}})},St.API)St.API.hasOwnProperty(ya)&&(ya==="events"&&St.API.events.length?(function(x,R){var le,me,we;for(we=R.length-1;we!==-1;we--)le=R[we][0],me=R[we][1],x.subscribe.apply(x,[le].concat(typeof me=="function"?[me]:me))})(Ot,St.API.events):y[ya]=St.API[ya]);function ba(x){return lt[x].mediaBox.topRightX-lt[x].mediaBox.bottomLeftX}function Fo(x,R){lt[x].mediaBox.topRightX=R+lt[x].mediaBox.bottomLeftX}function kc(x){return lt[x].mediaBox.topRightY-lt[x].mediaBox.bottomLeftY}function _a(x,R){lt[x].mediaBox.topRightY=R+lt[x].mediaBox.bottomLeftY}var xa=y.getPageWidth=function(x){return ba(x=x||z)/ht},_u=y.setPageWidth=function(x,R){Fo(x,R*ht)},wa=y.getPageHeight=function(x){return kc(x=x||z)/ht},xu=y.setPageHeight=function(x,R){_a(x,R*ht)};return y.internal={pdfEscape:Fr,getStyle:Sc,getFont:ks,getFontSize:Ye,getCharSpace:xl,getTextColor:bu,getLineHeight:vu,getLineHeightFactor:yu,getLineWidth:so,write:Me,getHorizontalCoordinate:Ur,getVerticalCoordinate:Ki,getCoordinateString:Ec,getVerticalCoordinateString:Bo,collections:{},newObject:un,newAdditionalObject:Er,newObjectDeferred:Rn,newObjectDeferredBegin:Cn,getFilters:zr,putStream:Jr,events:Ot,scaleFactor:ht,pageSize:{getWidth:function(){return xa(z)},setWidth:function(x){_u(z,x)},getHeight:function(){return wa(z)},setHeight:function(x){xu(z,x)}},encryptionOptions:m,encryption:Di,getEncryptor:function(x){return m!==null?Di.encryptor(x,0):function(R){return R}},output:xc,getNumberOfPages:bc,get pages(){return He},out:H,f2:L,f3:j,getPageInfo:wi,getPageInfoByObjId:_l,getCurrentPageInfo:du,getPDFVersion:A,Point:es,Rectangle:va,Matrix:ft,hasHotfix:vr},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return xa(z)},set:function(x){_u(z,x)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return wa(z)},set:function(x){xu(z,x)},enumerable:!0,configurable:!0}),(function(x){for(var R=0,le=$e.length;R<le;R++){var me=gc.call(this,x[R][0],x[R][1],x[R][2],$e[R][3],!0);b===!1&&(w[me]=!0);var we=x[R][0].split("-");gi({id:me,fontName:we[0],fontStyle:we[1]||""})}Ot.publish("addFonts",{fonts:wt,dictionary:At})}).call(y,$e),Qe="F1",pa(a,t),Ot.publish("initialized"),y}oh.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},oh.prototype.toHexString=function(i){return i.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},oh.prototype.hexToBytes=function(i){for(var e=[],t=0;t<i.length;t+=2)e.push(String.fromCharCode(parseInt(i.substr(t,2),16)));return e.join("")},oh.prototype.processOwnerPassword=function(i,e){return G0(H0(e).substr(0,5),i)},oh.prototype.encryptor=function(i,e){var t=H0(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return G0(t,r)}},Jp.prototype.equals=function(i){var e,t="id,objectNumber,equals";if(!i||Ln(i)!==Ln(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!i.hasOwnProperty(e)||this[e]!==i[e])return!1;r++}for(e in i)i.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},St.API={events:[]},St.version="3.0.4";var Oi=St.API,Kg=1,hu=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ih=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Gt=function(i){return i.toFixed(2)},nc=function(i){return i.toFixed(5)};Oi.__acroform__={};var xs=function(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i},hb=function(i){return i*Kg},No=function(i){var e=new cw,t=vt.internal.getHeight(i)||0,r=vt.internal.getWidth(i)||0;return e.BBox=[0,0,Number(Gt(r)),Number(Gt(t))],e},_O=Oi.__acroform__.setBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<e},xO=Oi.__acroform__.clearBit=function(i,e){if(i=i||0,e=e||0,isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<e)},wO=Oi.__acroform__.getBit=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<e?1:0},Bi=Oi.__acroform__.getBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wO(i,e-1)},qi=Oi.__acroform__.setBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _O(i,e-1)},zi=Oi.__acroform__.clearBitForPdf=function(i,e){if(isNaN(i)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return xO(i,e-1)},SO=Oi.__acroform__.calculateCoordinates=function(i,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=i[0],o=i[1],h=i[2],c=i[3],f={};return f.lowerLeft_X=t(a)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(a+h)||0,f.upperRight_Y=r(o)||0,[Number(Gt(f.lowerLeft_X)),Number(Gt(f.lowerLeft_Y)),Number(Gt(f.upperRight_X)),Number(Gt(f.upperRight_Y))]},AO=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var e=[],t=i._V||i.DV,r=Y0(i,t),a=i.scope.internal.getFont(i.fontName,i.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(i.scope.__private__.encodeColorString(i.color)),e.push("/"+a+" "+Gt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=No(i);return o.scope=i.scope,o.stream=e.join(`
`),o}},Y0=function(i,e){var t=i.fontSize===0?i.maxFontSize:i.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=i.multiline?a.map(function(L){return L.split(`
`)}):a.map(function(L){return[L]});var o=t,h=vt.internal.getHeight(i)||0;h=h<0?-h:h;var c=vt.internal.getWidth(i)||0;c=c<0?-c:c;var f=function(L,j,$){if(L+1<a.length){var ee=j+" "+a[L+1][0];return pp(ee,i,$).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,m,b=pp("3",i,o).height,w=i.multiline?h-o:(h-b)/2,y=w+=2,N=0,A=0,E=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+pp(e,i,o=12).width+", FieldWidth:"+c+`
`;break}for(var T="",U=0,P=0;P<a.length;P++)if(a.hasOwnProperty(P)){var F=!1;if(a[P].length!==1&&E!==a[P].length-1){if((b+2)*(U+2)+2>h)continue e;T+=a[P][E],F=!0,A=P,P--}else{T=(T+=a[P][E]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var q=parseInt(P),te=f(q,T,o),G=P>=a.length-1;if(te&&!G){T+=" ",E=0;continue}if(te||G){if(G)A=q;else if(i.multiline&&(b+2)*(U+2)+2>h)continue e}else{if(!i.multiline||(b+2)*(U+2)+2>h)continue e;A=q}}for(var D="",I=N;I<=A;I++){var Z=a[I];if(i.multiline){if(I===A){D+=Z[E]+" ",E=(E+1)%Z.length;continue}if(I===N){D+=Z[Z.length-1]+" ";continue}}D+=Z[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,m=pp(D,i,o).width,i.textAlign){case"right":d=c-m-2;break;case"center":d=(c-m)/2;break;default:d=2}e+=Gt(d)+" "+Gt(y)+` Td
`,e+="("+hu(D)+`) Tj
`,e+=-Gt(d)+` 0 Td
`,y=-(o+2),m=0,N=F?A:A+1,U++,T=""}break}return r.text=e,r.fontSize=o,r},pp=function(i,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(i,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},NO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},CO=function(i,e){var t={type:"reference",object:i};e.internal.getPageInfo(i.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(i.page).pageContext.annotations.push(t)},TO=function(i,e){if(e.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(to.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(NO)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Kg=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new uw,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];o.objId=void 0,o.hasAnnotation&&CO(o,t)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(t){(function(r,a){var o=!r;for(var h in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(h)){var c=r[h],f=[],d=c.Rect;if(c.Rect&&(c.Rect=SO(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=vt.createDefaultAppearanceStream(c),Ln(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=AO(c);f.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var b="";for(var w in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(w)){var y=c.appearanceStreamContent[w];if(b+="/"+w+" ",b+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var h in y)if(y.hasOwnProperty(h)){var N=y[h];typeof N=="function"&&(N=N.call(a,c)),b+="/"+h+" "+N+" ",a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N)}}else typeof(N=y)=="function"&&(N=N.call(a,c)),b+="/"+h+" "+N,a.internal.acroformPlugin.xForms.indexOf(N)>=0||a.internal.acroformPlugin.xForms.push(N);b+=">>"}f.push({key:"AP",value:`<<
`+b+">>"})}a.internal.putStream({additionalKeyValues:f,objectId:c.objId}),a.internal.out("endobj")}o&&(function(A,E){for(var T in A)if(A.hasOwnProperty(T)){var U=T,P=A[T];E.internal.newObjectDeferredBegin(P.objId,!0),Ln(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete A[U]}})(a.internal.acroformPlugin.xForms,a)})(t,i)}),i.internal.acroformPlugin.isInitialized=!0}},lw=Oi.__acroform__.arrayToPdfArray=function(i,e,t){var r=function(h){return h};if(Array.isArray(i)){for(var a="[",o=0;o<i.length;o++)switch(o!==0&&(a+=" "),Ln(i[o])){case"boolean":case"number":case"object":a+=i[o].toString();break;case"string":i[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+hu(r(i[o].toString()))+")"):a+=i[o].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},m0=function(i,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(i=i||"").toString(),"("+hu(r(i))+")"},Co=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Co.prototype.toString=function(){return this.objId+" 0 R"},Co.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Co.prototype.getKeyValueListForStream=function(){var i=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?i.push({key:r,value:lw(a,this.objId,this.scope)}):a instanceof Co?(a.scope=this.scope,i.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&i.push({key:r,value:a}))}return i};var cw=function(){Co.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){i=t.trim()},get:function(){return i||null}})};xs(cw,Co);var uw=function(){Co.call(this);var i,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+hu(t(i))+")"}},set:function(t){i=t}})};xs(uw,Co);var to=function i(){Co.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Bi(e,3)},set:function(T){T?this.F=qi(e,3):this.F=zi(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');t=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(T){r=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof $p)return;o="FieldObject"+i.FieldNum++}var T=function(U){return U};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+hu(T(o))+")"},set:function(T){o=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(T){o=T}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(T){h=T}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(T){f=T}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Kg:d},set:function(T){d=T}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(T){m=T}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof $p||this instanceof nu))return m0(b,this.objId,this.scope)},set:function(T){T=T.toString(),b=T}});var w=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof mr==0?m0(w,this.objId,this.scope):w},set:function(T){T=T.toString(),w=this instanceof mr==0?T.substr(0,1)==="("?ih(T.substr(1,T.length-2)):ih(T):T}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mr==1?ih(w.substr(1,w.length-1)):w},set:function(T){T=T.toString(),w=this instanceof mr==1?"/"+T:T}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof mr==0?m0(y,this.objId,this.scope):y},set:function(T){T=T.toString(),y=this instanceof mr==0?T.substr(0,1)==="("?ih(T.substr(1,T.length-2)):ih(T):T}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mr==1?ih(y.substr(1,y.length-1)):y},set:function(T){T=T.toString(),y=this instanceof mr==1?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(T){T=!!T,A=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(T){N=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,1)},set:function(T){T?this.Ff=qi(this.Ff,1):this.Ff=zi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,2)},set:function(T){T?this.Ff=qi(this.Ff,2):this.Ff=zi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,3)},set:function(T){T?this.Ff=qi(this.Ff,3):this.Ff=zi(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');E=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(E){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};xs(to,Co);var vh=function(){to.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){i=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lw(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(o,h,c){c||(c=1);for(var f,d=[];f=h.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,18)},set:function(t){t?this.Ff=qi(this.Ff,18):this.Ff=zi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=qi(this.Ff,19):this.Ff=zi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,20)},set:function(t){t?(this.Ff=qi(this.Ff,20),e.sort()):this.Ff=zi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,22)},set:function(t){t?this.Ff=qi(this.Ff,22):this.Ff=zi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,23)},set:function(t){t?this.Ff=qi(this.Ff,23):this.Ff=zi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,27)},set:function(t){t?this.Ff=qi(this.Ff,27):this.Ff=zi(this.Ff,27)}}),this.hasAppearanceStream=!1};xs(vh,to);var yh=function(){vh.call(this),this.fontName="helvetica",this.combo=!1};xs(yh,vh);var bh=function(){yh.call(this),this.combo=!0};xs(bh,yh);var Ap=function(){bh.call(this),this.edit=!0};xs(Ap,bh);var mr=function(){to.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,15)},set:function(t){t?this.Ff=qi(this.Ff,15):this.Ff=zi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,16)},set:function(t){t?this.Ff=qi(this.Ff,16):this.Ff=zi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,17)},set:function(t){t?this.Ff=qi(this.Ff,17):this.Ff=zi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,26)},set:function(t){t?this.Ff=qi(this.Ff,26):this.Ff=zi(this.Ff,26)}});var i,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+hu(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Ln(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+t}})};xs(mr,to);var Np=function(){mr.call(this),this.pushButton=!0};xs(Np,mr);var _h=function(){mr.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e!==void 0?e:[]}})};xs(_h,mr);var $p=function(){var i,e;to.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,h=[];for(o in h.push("<<"),r)h.push("/"+o+" ("+hu(a(r[o]))+")");return h.push(">>"),h.join(`
`)},set:function(a){Ln(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xs($p,to),_h.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=i.createAppearanceStream(t.optionName),t.caption=i.getCA()}},_h.prototype.createOption=function(i){var e=new $p;return e.Parent=this,e.optionName=i,this.Kids.push(e),EO.call(this.scope,e),e};var Cp=function(){mr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vt.CheckBox.createAppearanceStream()};xs(Cp,mr);var nu=function(){to.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,13)},set:function(e){e?this.Ff=qi(this.Ff,13):this.Ff=zi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,21)},set:function(e){e?this.Ff=qi(this.Ff,21):this.Ff=zi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,23)},set:function(e){e?this.Ff=qi(this.Ff,23):this.Ff=zi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,24)},set:function(e){e?this.Ff=qi(this.Ff,24):this.Ff=zi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,25)},set:function(e){e?this.Ff=qi(this.Ff,25):this.Ff=zi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,26)},set:function(e){e?this.Ff=qi(this.Ff,26):this.Ff=zi(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){Number.isInteger(e)&&(i=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xs(nu,to);var Tp=function(){nu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Bi(this.Ff,14)},set:function(i){i?this.Ff=qi(this.Ff,14):this.Ff=zi(this.Ff,14)}}),this.password=!0};xs(Tp,nu);var vt={CheckBox:{createAppearanceStream:function(){return{N:{On:vt.CheckBox.YesNormal},D:{On:vt.CheckBox.YesPushDown,Off:vt.CheckBox.OffPushDown}}},YesPushDown:function(i){var e=No(i);e.scope=i.scope;var t=[],r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,a=i.scope.__private__.encodeColorString(i.color),o=Y0(i,i.caption);return t.push("0.749023 g"),t.push("0 0 "+Gt(vt.internal.getWidth(i))+" "+Gt(vt.internal.getHeight(i))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Gt(o.fontSize)+" Tf "+a),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(i){var e=No(i);e.scope=i.scope;var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),a=[],o=vt.internal.getHeight(i),h=vt.internal.getWidth(i),c=Y0(i,i.caption);return a.push("1 g"),a.push("0 0 "+Gt(h)+" "+Gt(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Gt(h-1)+" "+Gt(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Gt(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(i){var e=No(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Gt(vt.internal.getWidth(i))+" "+Gt(vt.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(i){var e={D:{Off:vt.RadioButton.Circle.OffPushDown},N:{}};return e.N[i]=vt.RadioButton.Circle.YesNormal,e.D[i]=vt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(i){var e=No(i);e.scope=i.scope;var t=[],r=vt.internal.getWidth(i)<=vt.internal.getHeight(i)?vt.internal.getWidth(i)/4:vt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=vt.internal.Bezier_C,o=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+nc(vt.internal.getWidth(i)/2)+" "+nc(vt.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=No(i);e.scope=i.scope;var t=[],r=vt.internal.getWidth(i)<=vt.internal.getHeight(i)?vt.internal.getWidth(i)/4:vt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*vt.internal.Bezier_C).toFixed(5)),h=Number((r*vt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+nc(vt.internal.getWidth(i)/2)+" "+nc(vt.internal.getHeight(i)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+nc(vt.internal.getWidth(i)/2)+" "+nc(vt.internal.getHeight(i)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+h+" "+h+" "+r+" 0 "+r+" c"),t.push("-"+h+" "+r+" -"+r+" "+h+" -"+r+" 0 c"),t.push("-"+r+" -"+h+" -"+h+" -"+r+" 0 -"+r+" c"),t.push(h+" -"+r+" "+r+" -"+h+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(i){var e=No(i);e.scope=i.scope;var t=[],r=vt.internal.getWidth(i)<=vt.internal.getHeight(i)?vt.internal.getWidth(i)/4:vt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),o=Number((a*vt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+nc(vt.internal.getWidth(i)/2)+" "+nc(vt.internal.getHeight(i)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),t.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),t.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),t.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(i){var e={D:{Off:vt.RadioButton.Cross.OffPushDown},N:{}};return e.N[i]=vt.RadioButton.Cross.YesNormal,e.D[i]=vt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(i){var e=No(i);e.scope=i.scope;var t=[],r=vt.internal.calculateCross(i);return t.push("q"),t.push("1 1 "+Gt(vt.internal.getWidth(i)-2)+" "+Gt(vt.internal.getHeight(i)-2)+" re"),t.push("W"),t.push("n"),t.push(Gt(r.x1.x)+" "+Gt(r.x1.y)+" m"),t.push(Gt(r.x2.x)+" "+Gt(r.x2.y)+" l"),t.push(Gt(r.x4.x)+" "+Gt(r.x4.y)+" m"),t.push(Gt(r.x3.x)+" "+Gt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(i){var e=No(i);e.scope=i.scope;var t=vt.internal.calculateCross(i),r=[];return r.push("0.749023 g"),r.push("0 0 "+Gt(vt.internal.getWidth(i))+" "+Gt(vt.internal.getHeight(i))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Gt(vt.internal.getWidth(i)-2)+" "+Gt(vt.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(Gt(t.x1.x)+" "+Gt(t.x1.y)+" m"),r.push(Gt(t.x2.x)+" "+Gt(t.x2.y)+" l"),r.push(Gt(t.x4.x)+" "+Gt(t.x4.y)+" m"),r.push(Gt(t.x3.x)+" "+Gt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(i){var e=No(i);e.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Gt(vt.internal.getWidth(i))+" "+Gt(vt.internal.getHeight(i))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(i){var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,t=i.scope.__private__.encodeColorString(i.color);return"/"+e+" "+i.fontSize+" Tf "+t}};vt.internal={Bezier_C:.551915024494,calculateCross:function(i){var e=vt.internal.getWidth(i),t=vt.internal.getHeight(i),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},vt.internal.getWidth=function(i){var e=0;return Ln(i)==="object"&&(e=hb(i.Rect[2])),e},vt.internal.getHeight=function(i){var e=0;return Ln(i)==="object"&&(e=hb(i.Rect[3])),e};var EO=Oi.addField=function(i){if(TO(this,i),!(i instanceof to))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=i).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};Oi.AcroFormChoiceField=vh,Oi.AcroFormListBox=yh,Oi.AcroFormComboBox=bh,Oi.AcroFormEditBox=Ap,Oi.AcroFormButton=mr,Oi.AcroFormPushButton=Np,Oi.AcroFormRadioButton=_h,Oi.AcroFormCheckBox=Cp,Oi.AcroFormTextField=nu,Oi.AcroFormPasswordField=Tp,Oi.AcroFormAppearance=vt,Oi.AcroForm={ChoiceField:vh,ListBox:yh,ComboBox:bh,EditBox:Ap,Button:mr,PushButton:Np,RadioButton:_h,CheckBox:Cp,TextField:nu,PasswordField:Tp,Appearance:vt},St.AcroForm={ChoiceField:vh,ListBox:yh,ComboBox:bh,EditBox:Ap,Button:mr,PushButton:Np,RadioButton:_h,CheckBox:Cp,TextField:nu,PasswordField:Tp,Appearance:vt};St.AcroForm;function hw(i){return i.reduce(function(e,t,r){return e[t]=r,e},{})}(function(i){var e="addImage_";i.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=i.__addimage__.getImageFileTypeByImageData=function(L,j){var $,ee,ue,Q,re,ce=t;if((j=j||t)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(te(L))for(re in r)for(ue=r[re],$=0;$<ue.length;$+=1){for(Q=!0,ee=0;ee<ue[$].length;ee+=1)if(ue[$][ee]!==void 0&&ue[$][ee]!==L[ee]){Q=!1;break}if(Q===!0){ce=re;break}}else for(re in r)for(ue=r[re],$=0;$<ue.length;$+=1){for(Q=!0,ee=0;ee<ue[$].length;ee+=1)if(ue[$][ee]!==void 0&&ue[$][ee]!==L.charCodeAt(ee)){Q=!1;break}if(Q===!0){ce=re;break}}return ce===t&&j!==t&&(ce=j),ce},o=function L(j){for(var $=this.internal.write,ee=this.internal.putStream,ue=(0,this.internal.getFilters)();ue.indexOf("FlateEncode")!==-1;)ue.splice(ue.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:j.width}),Q.push({key:"Height",value:j.height}),j.colorSpace===T.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===T.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var re="",ce=0,de=j.transparency.length;ce<de;ce++)re+=j.transparency[ce]+" "+j.transparency[ce]+" ";Q.push({key:"Mask",value:"["+re+"]"})}j.sMask!==void 0&&Q.push({key:"SMask",value:j.objectId+1+" 0 R"});var Ae=j.filter!==void 0?["/"+j.filter]:void 0;if(ee({data:j.data,additionalKeyValues:Q,alreadyAppliedFilters:Ae,objectId:j.objectId}),$("endobj"),"sMask"in j&&j.sMask!==void 0){var Y,C=(Y=j.sMaskBitsPerComponent)!==null&&Y!==void 0?Y:j.bitsPerComponent,z={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:j.sMask};"filter"in j&&(z.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(j.width),z.filter=j.filter),L.call(this,z)}if(j.colorSpace===T.INDEXED){var X=this.internal.newObject();ee({data:D(new Uint8Array(j.palette)),objectId:X}),$("endobj")}},h=function(){var L=this.internal.collections[e+"images"];for(var j in L)o.call(this,L[j])},c=function(){var L,j=this.internal.collections[e+"images"],$=this.internal.write;for(var ee in j)$("/I"+(L=j[ee]).index,L.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var L=this.internal.collections[e+"images"];return f.call(this),L},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},b=function(L){return typeof i["process"+L.toUpperCase()]=="function"},w=function(L){return Ln(L)==="object"&&L.nodeType===1},y=function(L,j){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var $=""+L.getAttribute("src");if($.indexOf("data:image/")===0)return Sp(unescape($).split("base64,").pop());var ee=i.loadFile($,!0);if(ee!==void 0)return ee}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var ue;switch(j){case"PNG":ue="image/png";break;case"WEBP":ue="image/webp";break;default:ue="image/jpeg"}return Sp(L.toDataURL(ue,1).split("base64,").pop())}},N=function(L){var j=this.internal.collections[e+"images"];if(j){for(var $ in j)if(L===j[$].alias)return j[$]}},A=function(L,j,$){return L||j||(L=-96,j=-96),L<0&&(L=-1*$.width*72/L/this.internal.scaleFactor),j<0&&(j=-1*$.height*72/j/this.internal.scaleFactor),L===0&&(L=j*$.width/$.height),j===0&&(j=L*$.height/$.width),[L,j]},E=function(L,j,$,ee,ue,Q){var re=A.call(this,$,ee,ue),ce=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,Ae=d.call(this);if($=re[0],ee=re[1],Ae[ue.index]=ue,Q){Q*=Math.PI/180;var Y=Math.cos(Q),C=Math.sin(Q),z=function(ie){return ie.toFixed(4)},X=[z(Y),z(C),z(-1*C),z(Y),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,ce(L),de(j+ee),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([ce($),"0","0",ce(ee),"0","0","cm"].join(" "))):this.internal.write([ce($),"0","0",ce(ee),ce(L),de(j+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ue.index+" Do"),this.internal.write("Q")},T=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var U=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=i.__addimage__.sHashCode=function(L){var j,$,ee=0;if(typeof L=="string")for($=L.length,j=0;j<$;j++)ee=(ee<<5)-ee+L.charCodeAt(j),ee|=0;else if(te(L))for($=L.byteLength/2,j=0;j<$;j++)ee=(ee<<5)-ee+L[j],ee|=0;return ee},F=i.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var j=!0;return L.length===0&&(j=!1),L.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(j=!1),j},q=i.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var j=L.indexOf(",");return j<0?null:L.substring(0,j).trim().endsWith("base64")?L.substring(j+1):null};i.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var te=i.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},G=i.__addimage__.binaryStringToUint8Array=function(L){for(var j=L.length,$=new Uint8Array(j),ee=0;ee<j;ee++)$[ee]=L.charCodeAt(ee);return $},D=i.__addimage__.arrayBufferToBinaryString=function(L){for(var j="",$=te(L)?L:new Uint8Array(L),ee=0;ee<$.length;ee+=8192)j+=String.fromCharCode.apply(null,$.subarray(ee,ee+8192));return j};i.addImage=function(){var L,j,$,ee,ue,Q,re,ce,de;if(typeof arguments[1]=="number"?(j=t,$=arguments[1],ee=arguments[2],ue=arguments[3],Q=arguments[4],re=arguments[5],ce=arguments[6],de=arguments[7]):(j=arguments[1],$=arguments[2],ee=arguments[3],ue=arguments[4],Q=arguments[5],re=arguments[6],ce=arguments[7],de=arguments[8]),Ln(L=arguments[0])==="object"&&!w(L)&&"imageData"in L){var Ae=L;L=Ae.imageData,j=Ae.format||j||t,$=Ae.x||$||0,ee=Ae.y||ee||0,ue=Ae.w||Ae.width||ue,Q=Ae.h||Ae.height||Q,re=Ae.alias||re,ce=Ae.compression||ce,de=Ae.rotation||Ae.angle||de}var Y=this.internal.getFilters();if(ce===void 0&&Y.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN($)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var C=I.call(this,L,j,re,ce);return E.call(this,$,ee,ue,Q,C,de),this};var I=function(L,j,$,ee){var ue,Q,re;if(typeof L=="string"&&a(L)===t){L=unescape(L);var ce=Z(L,!1);(ce!==""||(ce=i.loadFile(L,!0))!==void 0)&&(L=ce)}if(w(L)&&(L=y(L,j)),j=a(L,j),!b(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((re=$)==null||re.length===0)&&($=(function(de){return typeof de=="string"||te(de)?P(de):te(de.data)?P(de.data):null})(L)),(ue=N.call(this,$))||(L instanceof Uint8Array||j==="RGBA"||(Q=L,L=G(L)),ue=this["process"+j.toUpperCase()](L,m.call(this),$,(function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in i.image_compression?de:U.NONE})(ee),Q)),!ue)throw new Error("An unknown error occurred whilst processing the image.");return ue},Z=i.__addimage__.convertBase64ToBinaryString=function(L,j){j=typeof j!="boolean"||j;var $,ee="";if(typeof L=="string"){var ue;$=(ue=q(L))!==null&&ue!==void 0?ue:L;try{ee=Sp($)}catch(Q){if(j)throw F($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};i.getImageProperties=function(L){var j,$,ee="";if(w(L)&&(L=y(L)),typeof L=="string"&&a(L)===t&&((ee=Z(L,!1))===""&&(ee=i.loadFile(L)||""),L=ee),$=a(L),!b($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(L instanceof Uint8Array||(L=G(L)),!(j=this["process"+$.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=$,j}})(St.API),(function(i){var e=function(t){if(t!==void 0&&t!="")return!0};St.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(t){for(var r,a,o,h=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,m=!1,b=0;b<d.length&&!m;b++)switch((r=d[b]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var w=0;w<d.length;w++){r=d[w];var y=this.internal.pdfEscape,N=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(A.objId),U=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+y(T(r.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+y(T(U))+") >>",A.content=o;var P=A.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+h(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+h(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+P,r.open&&(o+=" /Open true"),o+=" >>",E.content=o,this.internal.write(A.objId,"0 R",E.objId,"0 R");break;case"freetext":a="/Rect ["+h(r.bounds.x)+" "+c(r.bounds.y)+" "+h(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+y(N(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+y(N(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var te=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+te+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),i.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},i.link=function(t,r,a,o,h){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+a),h:d(r+o)},options:h,type:"link"})},i.textWithLink=function(t,r,a,o){var h,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var m=this.splitTextToSize(t,c).length;h=Math.ceil(d*m)}else c=f,h=d;return this.text(t,r,a,o),a+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,a-d,c,h,o),f},i.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(St.API),(function(i){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];i.__arabicParser__={};var o=i.__arabicParser__.isInArabicSubstitutionA=function(A){return e[A.charCodeAt(0)]!==void 0},h=i.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},c=i.__arabicParser__.isArabicEndLetter=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length<=2},f=i.__arabicParser__.isArabicAlfLetter=function(A){return h(A)&&a.indexOf(A.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length>=1};var d=i.__arabicParser__.arabicLetterHasFinalForm=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length>=3};var m=i.__arabicParser__.arabicLetterHasMedialForm=function(A){return h(A)&&o(A)&&e[A.charCodeAt(0)].length==4},b=i.__arabicParser__.resolveLigatures=function(A){var E=0,T=t,U="",P=0;for(E=0;E<A.length;E+=1)T[A.charCodeAt(E)]!==void 0?(P++,typeof(T=T[A.charCodeAt(E)])=="number"&&(U+=String.fromCharCode(T),T=t,P=0),E===A.length-1&&(T=t,U+=A.charAt(E-(P-1)),E-=P-1,P=0)):(T=t,U+=A.charAt(E-P),E-=P,P=0);return U};i.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var w=i.__arabicParser__.getCorrectForm=function(A,E,T){return h(A)?o(A)===!1?-1:!d(A)||!h(E)&&!h(T)||!h(T)&&c(E)||c(A)&&!h(E)||c(A)&&f(E)||c(A)&&c(E)?0:m(A)&&h(E)&&!c(E)&&h(T)&&d(T)?3:c(A)||!h(T)?1:2:-1},y=function(A){var E=0,T=0,U=0,P="",F="",q="",te=(A=A||"").split("\\s+"),G=[];for(E=0;E<te.length;E+=1){for(G.push(""),T=0;T<te[E].length;T+=1)P=te[E][T],F=te[E][T-1],q=te[E][T+1],h(P)?(U=w(P,F,q),G[E]+=U!==-1?String.fromCharCode(e[P.charCodeAt(0)][U]):P):G[E]+=P;G[E]=b(G[E])}return G.join(" ")},N=i.__arabicParser__.processArabic=i.processArabic=function(){var A,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(E)){var U=0;for(T=[],U=0;U<E.length;U+=1)Array.isArray(E[U])?T.push([y(E[U][0]),E[U][1],E[U][2]]):T.push([y(E[U])]);A=T}else A=y(E);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};i.events.push(["preProcessText",N])})(St.API),St.API.autoPrint=function(i){var e;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(i){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(c){h=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(St.API),(function(i){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(A){d=A}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(A){m=A}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(A){b=A}});var w=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return w},set:function(A){w=A}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(A){y=A}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(A){N=A}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},i.getTextDimensions=function(f,d){r.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),b=d.font||this.getFont(),w=d.scaleFactor||this.internal.scaleFactor,y=0,N=0,A=0,E=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var T=d.maxWidth;T>0?typeof f=="string"?f=this.splitTextToSize(f,T):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(P,F){return P.concat(E.splitTextToSize(F,T))},[])):f=Array.isArray(f)?f:[f];for(var U=0;U<f.length;U++)y<(A=this.getStringUnitWidth(f[U],{font:b})*m)&&(y=A);return y!==0&&(N=f.length),{w:y/=w,h:Math.max((N*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/w,0)}},i.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=i.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,w=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=b.top,y&&w&&(this.printHeaderRow(f.lineNumber,!0),f.y+=w[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-m,f.y+m,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+m,{align:"center",baseline:"top",maxWidth:f.width-m-m}):this.text(f.text,f.x+m,f.y+m,{align:"left",baseline:"top",maxWidth:f.width-m-m})),this.internal.__cell__.lastCell=f,this};i.table=function(f,d,m,b,w){if(r.call(this),!m)throw new Error("No data for PDF table.");var y,N,A,E,T=[],U=[],P=[],F={},q={},te=[],G=[],D=(w=w||{}).autoSize||!1,I=w.printHeaders!==!1,Z=w.css&&w.css["font-size"]!==void 0?16*w.css["font-size"]:w.fontSize||12,L=w.margins||Object.assign({width:this.getPageWidth()},e),j=typeof w.padding=="number"?w.padding:3,$=w.headerBackgroundColor||"#c8c8c8",ee=w.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=ee,this.setFontSize(Z),b==null)U=T=Object.keys(m[0]),P=T.map(function(){return"left"});else if(Array.isArray(b)&&Ln(b[0])==="object")for(T=b.map(function(Ae){return Ae.name}),U=b.map(function(Ae){return Ae.prompt||Ae.name||""}),P=b.map(function(Ae){return Ae.align||"left"}),y=0;y<b.length;y+=1)q[b[y].name]=.7499990551181103*b[y].width;else Array.isArray(b)&&typeof b[0]=="string"&&(U=T=b,P=T.map(function(){return"left"}));if(D||Array.isArray(b)&&typeof b[0]=="string")for(y=0;y<T.length;y+=1){for(F[E=T[y]]=m.map(function(Ae){return Ae[E]}),this.setFont(void 0,"bold"),te.push(this.getTextDimensions(U[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=F[E],this.setFont(void 0,"normal"),A=0;A<N.length;A+=1)te.push(this.getTextDimensions(N[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[E]=Math.max.apply(null,te)+j+j,te=[]}if(I){var ue={};for(y=0;y<T.length;y+=1)ue[T[y]]={},ue[T[y]].text=U[y],ue[T[y]].align=P[y];var Q=c.call(this,ue,q);G=T.map(function(Ae){return new o(f,d,q[Ae],Q,ue[Ae].text,void 0,ue[Ae].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var re=b.reduce(function(Ae,Y){return Ae[Y.name]=Y.align,Ae},{});for(y=0;y<m.length;y+=1){"rowStart"in w&&w.rowStart instanceof Function&&w.rowStart({row:y,data:m[y]},this);var ce=c.call(this,m[y],q);for(A=0;A<T.length;A+=1){var de=m[y][T[A]];"cellStart"in w&&w.cellStart instanceof Function&&w.cellStart({row:y,col:A,data:de},this),h.call(this,new o(f,d,q[T[A]],ce,de,y+2,re[T[A]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var m=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,w=this.internal.scaleFactor;return Object.keys(f).map(function(y){var N=f[y];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[y]-m-m)},this).map(function(y){return this.getLineHeightFactor()*y.length*b/w+m+m},this).reduce(function(y,N){return Math.max(y,N)},0)};i.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},i.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var w=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){m=this.internal.__cell__.tableHeaderRow[y].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,w.push(m)),m.lineNumber=f;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,m),this.setTextColor(N)}w.length>0&&this.setTableHeaderRow(w),this.setFont(void 0,"normal"),t=!1}})(St.API);var fw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},dw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],W0=hw(dw),pw=[100,200,300,400,500,600,700,800,900],kO=hw(pw);function g0(i){var e=i.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return fw[o=o||"normal"]?o:"normal"})(i.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(i.weight),a=(function(o){return typeof W0[o=o||"normal"]=="number"?o:"normal"})(i.stretch);return{family:e,style:t,weight:r,stretch:a,src:i.src||[],ref:i.ref||{name:e,style:[a,t,r].join(" ")}}}function fb(i,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(i[e[a]])return i[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(i[e[a]])return i[e[a]]}var OO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},db={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function pb(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function mb(i){return i.trimLeft()}function LO(i,e){for(var t=0;t<i.length;){if(i.charAt(t)===e)return[i.substring(0,t),i.substring(t+1)];t+=1}return null}function MO(i){var e=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],i.substring(e[0].length)]}var mp,gb,vb,rh,gp,yb,bb,_b,v0=["times"];function xb(i,e,t,r,a){var o=4,h=Sb;switch(a){case St.API.image_compression.FAST:o=1,h=wb;break;case St.API.image_compression.MEDIUM:o=6,h=Ab;break;case St.API.image_compression.SLOW:o=9,h=Nb}i=(function(f,d,m,b){for(var w,y=f.length/d,N=new Uint8Array(f.length+y),A=[DO,wb,Sb,Ab,Nb],E=0;E<y;E+=1){var T=E*d,U=f.subarray(T,T+d);if(b)N.set(b(U,m,w),T+E);else{for(var P=A.length,F=[],q=0;q<P;q+=1)F[q]=A[q](U,m,w);var te=RO(F.concat());N.set(F[te],T+E)}w=U}return N})(i,e,Math.ceil(t*r/8),h);var c=F0(i,{level:o});return St.API.__addimage__.arrayBufferToBinaryString(c)}function DO(i){var e=Array.apply([],i);return e.unshift(0),e}function wb(i,e){var t=i.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var o=i[a-e]||0;r[a+1]=i[a]-o+256&255}return r}function Sb(i,e,t){var r=i.length,a=[];a[0]=2;for(var o=0;o<r;o+=1){var h=t&&t[o]||0;a[o+1]=i[o]-h+256&255}return a}function Ab(i,e,t){var r=i.length,a=[];a[0]=3;for(var o=0;o<r;o+=1){var h=i[o-e]||0,c=t&&t[o]||0;a[o+1]=i[o]+256-(h+c>>>1)&255}return a}function Nb(i,e,t){var r=i.length,a=[];a[0]=4;for(var o=0;o<r;o+=1){var h=jO(i[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);a[o+1]=i[o]-h+256&255}return a}function jO(i,e,t){if(i===e&&e===t)return i;var r=Math.abs(e-t),a=Math.abs(i-t),o=Math.abs(i+e-t-t);return r<=a&&r<=o?i:a<=o?e:t}function RO(i){var e=i.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function y0(i,e,t){var r=e*t,a=Math.floor(r/8),o=16-(r-8*a+t),h=(1<<t)-1;return mw(i,a)>>o&h}function Cb(i,e,t,r){var a=t*r,o=Math.floor(a/8),h=16-(a-8*o+r),c=(1<<r)-1,f=(e&c)<<h;(function(d,m,b){if(m+1<d.byteLength)d.setUint16(m,b,!1);else{var w=b>>8&255;d.setUint8(m,w)}})(i,o,mw(i,o)&~(c<<h)&65535|f)}function mw(i,e){return e+1<i.byteLength?i.getUint16(e,!1):i.getUint8(e)<<8}function IO(i){var e=0;if(i[e++]!==71||i[e++]!==73||i[e++]!==70||i[e++]!==56||(i[e++]+1&253)!=56||i[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=i[e++]|i[e++]<<8,r=i[e++]|i[e++]<<8,a=i[e++],o=a>>7,h=1<<1+(7&a);i[e++],i[e++];var c=null,f=null;o&&(c=e,f=h,e+=3*h);var d=!0,m=[],b=0,w=null,y=0,N=null;for(this.width=t,this.height=r;d&&e<i.length;)switch(i[e++]){case 33:switch(i[e++]){case 255:if(i[e]!==11||i[e+1]==78&&i[e+2]==69&&i[e+3]==84&&i[e+4]==83&&i[e+5]==67&&i[e+6]==65&&i[e+7]==80&&i[e+8]==69&&i[e+9]==50&&i[e+10]==46&&i[e+11]==48&&i[e+12]==3&&i[e+13]==1&&i[e+16]==0)e+=14,N=i[e++]|i[e++]<<8,e++;else for(e+=12;;){if(!((L=i[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(i[e++]!==4||i[e+4]!==0)throw new Error("Invalid graphics extension block.");var A=i[e++];b=i[e++]|i[e++]<<8,w=i[e++],1&A||(w=null),y=A>>2&7,e++;break;case 254:for(;;){if(!((L=i[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+i[e-1].toString(16))}break;case 44:var E=i[e++]|i[e++]<<8,T=i[e++]|i[e++]<<8,U=i[e++]|i[e++]<<8,P=i[e++]|i[e++]<<8,F=i[e++],q=F>>6&1,te=1<<1+(7&F),G=c,D=f,I=!1;F>>7&&(I=!0,G=e,D=te,e+=3*te);var Z=e;for(e++;;){var L;if(!((L=i[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}m.push({x:E,y:T,width:U,height:P,has_local_palette:I,palette_offset:G,palette_size:D,data_offset:Z,data_length:e-Z,transparent_index:w,interlaced:!!q,delay:b,disposal:y});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+i[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return N},this.frameInfo=function(j){if(j<0||j>=m.length)throw new Error("Frame index out of range.");return m[j]},this.decodeAndBlitFrameBGRA=function(j,$){var ee=this.frameInfo(j),ue=ee.width*ee.height,Q=new Uint8Array(ue);Tb(i,ee.data_offset,Q,ue);var re=ee.palette_offset,ce=ee.transparent_index;ce===null&&(ce=256);var de=ee.width,Ae=t-de,Y=de,C=4*(ee.y*t+ee.x),z=4*((ee.y+ee.height)*t+ee.x),X=C,ie=4*Ae;ee.interlaced===!0&&(ie+=4*t*7);for(var ae=8,fe=0,pe=Q.length;fe<pe;++fe){var xe=Q[fe];if(Y===0&&(Y=de,(X+=ie)>=z&&(ie=4*Ae+4*t*(ae-1),X=C+(de+Ae)*(ae<<1),ae>>=1)),xe===ce)X+=4;else{var Ce=i[re+3*xe],He=i[re+3*xe+1],Ze=i[re+3*xe+2];$[X++]=Ze,$[X++]=He,$[X++]=Ce,$[X++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(j,$){var ee=this.frameInfo(j),ue=ee.width*ee.height,Q=new Uint8Array(ue);Tb(i,ee.data_offset,Q,ue);var re=ee.palette_offset,ce=ee.transparent_index;ce===null&&(ce=256);var de=ee.width,Ae=t-de,Y=de,C=4*(ee.y*t+ee.x),z=4*((ee.y+ee.height)*t+ee.x),X=C,ie=4*Ae;ee.interlaced===!0&&(ie+=4*t*7);for(var ae=8,fe=0,pe=Q.length;fe<pe;++fe){var xe=Q[fe];if(Y===0&&(Y=de,(X+=ie)>=z&&(ie=4*Ae+4*t*(ae-1),X=C+(de+Ae)*(ae<<1),ae>>=1)),xe===ce)X+=4;else{var Ce=i[re+3*xe],He=i[re+3*xe+1],Ze=i[re+3*xe+2];$[X++]=Ce,$[X++]=He,$[X++]=Ze,$[X++]=255}--Y}}}function Tb(i,e,t,r){for(var a=i[e++],o=1<<a,h=o+1,c=h+1,f=a+1,d=(1<<f)-1,m=0,b=0,w=0,y=i[e++],N=new Int32Array(4096),A=null;;){for(;m<16&&y!==0;)b|=i[e++]<<m,m+=8,y===1?y=i[e++]:--y;if(m<f)break;var E=b&d;if(b>>=f,m-=f,E!==o){if(E===h)break;for(var T=E<c?E:A,U=0,P=T;P>o;)P=N[P]>>8,++U;var F=P;if(w+U+(T!==E?1:0)>r)return void Xn.log("Warning, gif stream longer than expected.");t[w++]=F;var q=w+=U;for(T!==E&&(t[w++]=F),P=T;U--;)P=N[P],t[--q]=255&P,P>>=8;A!==null&&c<4096&&(N[c++]=A<<8|F,c>=d+1&&f<12&&(++f,d=d<<1|1)),A=E}else c=h+1,d=(1<<(f=a+1))-1,A=null}return w!==r&&Xn.log("Warning, gif stream shorter than expected."),t}function b0(i){var e,t,r,a,o,h=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),m=new Array(64),b=new Array(65535),w=new Array(65535),y=new Array(64),N=new Array(64),A=[],E=0,T=7,U=new Array(64),P=new Array(64),F=new Array(64),q=new Array(256),te=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ue=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(C,z){for(var X=0,ie=0,ae=new Array,fe=1;fe<=16;fe++){for(var pe=1;pe<=C[fe];pe++)ae[z[ie]]=[],ae[z[ie]][0]=X,ae[z[ie]][1]=fe,ie++,X++;X*=2}return ae}function re(C){for(var z=C[0],X=C[1]-1;X>=0;)z&1<<X&&(E|=1<<T),X--,--T<0&&(E==255?(ce(255),ce(0)):ce(E),T=7,E=0)}function ce(C){A.push(C)}function de(C){ce(C>>8&255),ce(255&C)}function Ae(C,z,X,ie,ae){for(var fe,pe=ae[0],xe=ae[240],Ce=(function(ge,qe){var Ye,et,nt,Ie,ze,Ge,rt,at,Qe,ht,ot=0;for(Qe=0;Qe<8;++Qe){Ye=ge[ot],et=ge[ot+1],nt=ge[ot+2],Ie=ge[ot+3],ze=ge[ot+4],Ge=ge[ot+5],rt=ge[ot+6];var Nn=Ye+(at=ge[ot+7]),Ft=Ye-at,wt=et+rt,At=et-rt,Pt=nt+Ge,bt=nt-Ge,on=Ie+ze,Nt=Ie-ze,kt=Nn+on,ln=Nn-on,yt=wt+Pt,lt=wt-Pt;ge[ot]=kt+yt,ge[ot+4]=kt-yt;var Ot=.707106781*(lt+ln);ge[ot+2]=ln+Ot,ge[ot+6]=ln-Ot;var Jn=.382683433*((kt=Nt+bt)-(lt=At+Ft)),cn=.5411961*kt+Jn,Mn=1.306562965*lt+Jn,Dn=.707106781*(yt=bt+At),ft=Ft+Dn,_n=Ft-Dn;ge[ot+5]=_n+cn,ge[ot+3]=_n-cn,ge[ot+1]=ft+Mn,ge[ot+7]=ft-Mn,ot+=8}for(ot=0,Qe=0;Qe<8;++Qe){Ye=ge[ot],et=ge[ot+8],nt=ge[ot+16],Ie=ge[ot+24],ze=ge[ot+32],Ge=ge[ot+40],rt=ge[ot+48];var mi=Ye+(at=ge[ot+56]),jn=Ye-at,Hn=et+rt,un=et-rt,Rn=nt+Ge,Cn=nt-Ge,Er=Ie+ze,Mi=Ie-ze,Tn=mi+Er,$n=mi-Er,or=Hn+Rn,zr=Hn-Rn;ge[ot]=Tn+or,ge[ot+32]=Tn-or;var Jr=.707106781*(zr+$n);ge[ot+16]=$n+Jr,ge[ot+48]=$n-Jr;var Do=.382683433*((Tn=Mi+Cn)-(zr=un+jn)),ws=.5411961*Tn+Do,Ss=1.306562965*zr+Do,io=.707106781*(or=Cn+un),As=jn+io,Ns=jn-io;ge[ot+40]=Ns+ws,ge[ot+24]=Ns-ws,ge[ot+8]=As+Ss,ge[ot+56]=As-Ss,ot++}for(Qe=0;Qe<64;++Qe)ht=ge[Qe]*qe[Qe],y[Qe]=ht>0?ht+.5|0:ht-.5|0;return y})(C,z),He=0;He<64;++He)N[G[He]]=Ce[He];var Ze=N[0]-X;X=N[0],Ze==0?re(ie[0]):(re(ie[w[fe=32767+Ze]]),re(b[fe]));for(var Je=63;Je>0&&N[Je]==0;)Je--;if(Je==0)return re(pe),X;for(var it,H=1;H<=Je;){for(var Me=H;N[H]==0&&H<=Je;)++H;var st=H-Me;if(st>=16){it=st>>4;for(var $e=1;$e<=it;++$e)re(xe);st&=15}fe=32767+N[H],re(ae[(st<<4)+w[fe]]),re(b[fe]),H++}return Je!=63&&re(pe),X}function Y(C){C=Math.min(Math.max(C,1),100),o!=C&&((function(z){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ae=h((X[ie]*z+50)/100);ae=Math.min(Math.max(ae,1),255),c[G[ie]]=ae}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var xe=h((fe[pe]*z+50)/100);xe=Math.min(Math.max(xe,1),255),f[G[pe]]=xe}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,Ze=0;Ze<8;Ze++)for(var Je=0;Je<8;Je++)d[He]=1/(c[G[He]]*Ce[Ze]*Ce[Je]*8),m[He]=1/(f[G[He]]*Ce[Ze]*Ce[Je]*8),He++})(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),o=C)}this.encode=function(C,z){z&&Y(z),A=new Array,E=0,T=7,de(65496),de(65504),de(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),de(1),de(1),ce(0),ce(0),(function(){de(65499),de(132),ce(0);for(var et=0;et<64;et++)ce(c[et]);ce(1);for(var nt=0;nt<64;nt++)ce(f[nt])})(),(function(et,nt){de(65472),de(17),ce(8),de(nt),de(et),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(C.width,C.height),(function(){de(65476),de(418),ce(0);for(var et=0;et<16;et++)ce(D[et+1]);for(var nt=0;nt<=11;nt++)ce(I[nt]);ce(16);for(var Ie=0;Ie<16;Ie++)ce(Z[Ie+1]);for(var ze=0;ze<=161;ze++)ce(L[ze]);ce(1);for(var Ge=0;Ge<16;Ge++)ce(j[Ge+1]);for(var rt=0;rt<=11;rt++)ce($[rt]);ce(17);for(var at=0;at<16;at++)ce(ee[at+1]);for(var Qe=0;Qe<=161;Qe++)ce(ue[Qe])})(),de(65498),de(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var X=0,ie=0,ae=0;E=0,T=7,this.encode.displayName="_encode_";for(var fe,pe,xe,Ce,He,Ze,Je,it,H,Me=C.data,st=C.width,$e=C.height,ge=4*st,qe=0;qe<$e;){for(fe=0;fe<ge;){for(He=ge*qe+fe,Je=-1,it=0,H=0;H<64;H++)Ze=He+(it=H>>3)*ge+(Je=4*(7&H)),qe+it>=$e&&(Ze-=ge*(qe+1+it-$e)),fe+Je>=ge&&(Ze-=fe+Je-ge+4),pe=Me[Ze++],xe=Me[Ze++],Ce=Me[Ze++],U[H]=(te[pe]+te[xe+256|0]+te[Ce+512|0]>>16)-128,P[H]=(te[pe+768|0]+te[xe+1024|0]+te[Ce+1280|0]>>16)-128,F[H]=(te[pe+1280|0]+te[xe+1536|0]+te[Ce+1792|0]>>16)-128;X=Ae(U,d,X,e,r),ie=Ae(P,m,ie,t,a),ae=Ae(F,m,ae,t,a),fe+=32}qe+=8}if(T>=0){var Ye=[];Ye[1]=T+1,Ye[0]=(1<<T+1)-1,re(Ye)}return de(65497),new Uint8Array(A)},i=i||50,(function(){for(var C=String.fromCharCode,z=0;z<256;z++)q[z]=C(z)})(),e=Q(D,I),t=Q(j,$),r=Q(Z,L),a=Q(ee,ue),(function(){for(var C=1,z=2,X=1;X<=15;X++){for(var ie=C;ie<z;ie++)w[32767+ie]=X,b[32767+ie]=[],b[32767+ie][1]=X,b[32767+ie][0]=ie;for(var ae=-(z-1);ae<=-C;ae++)w[32767+ae]=X,b[32767+ae]=[],b[32767+ae][1]=X,b[32767+ae][0]=z-1+ae;C<<=1,z<<=1}})(),(function(){for(var C=0;C<256;C++)te[C]=19595*C,te[C+256|0]=38470*C,te[C+512|0]=7471*C+32768,te[C+768|0]=-11059*C,te[C+1024|0]=-21709*C,te[C+1280|0]=32768*C+8421375,te[C+1536|0]=-27439*C,te[C+1792|0]=-5329*C})(),Y(i)}function Pa(i,e){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Eb(i){function e(I){if(!I)throw Error("assert :P")}function t(I,Z,L){for(var j=0;4>j;j++)if(I[Z+j]!=L.charCodeAt(j))return!0;return!1}function r(I,Z,L,j,$){for(var ee=0;ee<$;ee++)I[Z+ee]=L[j+ee]}function a(I,Z,L,j){for(var $=0;$<j;$++)I[Z+$]=L}function o(I){return new Int32Array(I)}function h(I,Z){for(var L=[],j=0;j<I;j++)L.push(new Z);return L}function c(I,Z){var L=[];return(function j($,ee,ue){for(var Q=ue[ee],re=0;re<Q&&($.push(ue.length>ee+1?[]:new Z),!(ue.length<ee+1));re++)j($[re],ee+1,ue)})(L,0,I),L}var f=function(){var I=this;function Z(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function L(p,v,S,k,B){e(!(k%S));do p[v+(k-=S)]=B;while(0<k)}function j(p,v,S,k,B){if(e(2328>=B),512>=B)var V=o(512);else if((V=o(B))==null)return 0;return(function(W,J,ne,oe,ve,Ee){var se,_e,Ne=J,Re=1<<ne,Te=o(16),je=o(16);for(e(ve!=0),e(oe!=null),e(W!=null),e(0<ne),_e=0;_e<ve;++_e){if(15<oe[_e])return 0;++Te[oe[_e]]}if(Te[0]==ve)return 0;for(je[1]=0,se=1;15>se;++se){if(Te[se]>1<<se)return 0;je[se+1]=je[se]+Te[se]}for(_e=0;_e<ve;++_e)se=oe[_e],0<oe[_e]&&(Ee[je[se]++]=_e);if(je[15]==1)return(oe=new $).g=0,oe.value=Ee[0],L(W,Ne,1,Re,oe),Re;var Pe,Ke=-1,We=Re-1,gt=0,ct=1,Bt=1,dt=1<<ne;for(_e=0,se=1,ve=2;se<=ne;++se,ve<<=1){if(ct+=Bt<<=1,0>(Bt-=Te[se]))return 0;for(;0<Te[se];--Te[se])(oe=new $).g=se,oe.value=Ee[_e++],L(W,Ne+gt,ve,dt,oe),gt=Z(gt,se)}for(se=ne+1,ve=2;15>=se;++se,ve<<=1){if(ct+=Bt<<=1,0>(Bt-=Te[se]))return 0;for(;0<Te[se];--Te[se]){if(oe=new $,(gt&We)!=Ke){for(Ne+=dt,Pe=1<<(Ke=se)-ne;15>Ke&&!(0>=(Pe-=Te[Ke]));)++Ke,Pe<<=1;Re+=dt=1<<(Pe=Ke-ne),W[J+(Ke=gt&We)].g=Pe+ne,W[J+Ke].value=Ne-J-Ke}oe.g=se-ne,oe.value=Ee[_e++],L(W,Ne+(gt>>ne),ve,dt,oe),gt=Z(gt,se)}}return ct!=2*je[15]-1?0:Re})(p,v,S,k,B,V)}function $(){this.value=this.g=0}function ee(){this.value=this.g=0}function ue(){this.G=h(5,$),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(lo,ee)}function Q(p,v,S,k){e(p!=null),e(v!=null),e(2147483648>k),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+k,p.Zc=4<=k?S+k-4+1:S,pe(p)}function re(p,v){for(var S=0;0<v--;)S|=Ce(p,128)<<v;return S}function ce(p,v){var S=re(p,v);return xe(p)?-S:S}function de(p,v,S,k){var B,V=0;for(e(p!=null),e(v!=null),e(4294967288>k),p.Sb=k,p.Ra=0,p.u=0,p.h=0,4<k&&(k=4),B=0;B<k;++B)V+=v[S+B]<<8*B;p.Ra=V,p.bb=k,p.oa=v,p.pa=S}function Ae(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Js-8>>>0,++p.bb,p.u-=8;ie(p)&&(p.h=1,p.u=0)}function Y(p,v){if(e(0<=v),!p.h&&v<=_r){var S=X(p)&Or[v];return p.u+=v,Ae(p),S}return p.h=1,p.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(p){return p.Ra>>>(p.u&Js-1)>>>0}function ie(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Js}function ae(p,v){p.u=v,p.h=ie(p)}function fe(p){p.u>=$s&&(e(p.u>=$s),Ae(p))}function pe(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function xe(p){return re(p,1)}function Ce(p,v){var S=p.Ca;0>p.b&&pe(p);var k=p.b,B=S*v>>>8,V=(p.I>>>k>B)+0;for(V?(S-=B,p.I-=B+1<<k>>>0):S=B+1,k=S,B=0;256<=k;)B+=8,k>>=8;return k=7^B+Ea[k],p.b-=k,p.Ca=(S<<k)-1,V}function He(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function Ze(p,v){return p[v+0]|p[v+1]<<8}function Je(p,v){return Ze(p,v)|p[v+2]<<16}function it(p,v){return Ze(p,v)|Ze(p,v+2)<<16}function H(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function Me(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function st(){this.X=[],this.Xa=this.Mb=0}function $e(p,v,S,k){e(S!=null),e(k!=null);var B=S[0],V=k[0];return B==0&&(B=(p*V+v/2)/v),V==0&&(V=(v*B+p/2)/p),0>=B||0>=V?0:(S[0]=B,k[0]=V,1)}function ge(p,v){return p+(1<<v)-1>>>v}function qe(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function Ye(p,v){I[v]=function(S,k,B,V,W,J,ne){var oe;for(oe=0;oe<W;++oe){var ve=I[p](J[ne+oe-1],B,V+oe);J[ne+oe]=qe(S[k+oe],ve)}}}function et(){this.ud=this.hd=this.jd=0}function nt(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Ie(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function ze(p,v){return Ie(p+(p-v+.5>>1))}function Ge(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function rt(p,v,S,k,B,V,W){for(k=V[W-1],S=0;S<B;++S)V[W+S]=k=qe(p[v+S],k)}function at(p,v,S,k,B){var V;for(V=0;V<S;++V){var W=p[v+V],J=W>>8&255,ne=16711935&(ne=(ne=16711935&W)+((J<<16)+J));k[B+V]=(4278255360&W)+ne>>>0}}function Qe(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function ht(p,v,S,k,B,V){var W;for(W=0;W<k;++W){var J=v[S+W],ne=J>>>8,oe=J,ve=255&(ve=(ve=J>>>16)+((p.jd<<24>>24)*(ne<<24>>24)>>>5));oe=255&(oe=(oe+=(p.hd<<24>>24)*(ne<<24>>24)>>>5)+((p.ud<<24>>24)*(ve<<24>>24)>>>5)),B[V+W]=(4278255360&J)+(ve<<16)+oe}}function ot(p,v,S,k,B){I[v]=function(V,W,J,ne,oe,ve,Ee,se,_e){for(ne=Ee;ne<se;++ne)for(Ee=0;Ee<_e;++Ee)oe[ve++]=B(J[k(V[W++])])},I[p]=function(V,W,J,ne,oe,ve,Ee){var se=8>>V.b,_e=V.Ea,Ne=V.K[0],Re=V.w;if(8>se)for(V=(1<<V.b)-1,Re=(1<<se)-1;W<J;++W){var Te,je=0;for(Te=0;Te<_e;++Te)Te&V||(je=k(ne[oe++])),ve[Ee++]=B(Ne[je&Re]),je>>=se}else I["VP8LMapColor"+S](ne,oe,Ne,Re,ve,Ee,W,J,_e)}}function Nn(p,v,S,k,B){for(S=v+S;v<S;){var V=p[v++];k[B++]=V>>16&255,k[B++]=V>>8&255,k[B++]=255&V}}function Ft(p,v,S,k,B){for(S=v+S;v<S;){var V=p[v++];k[B++]=V>>16&255,k[B++]=V>>8&255,k[B++]=255&V,k[B++]=V>>24&255}}function wt(p,v,S,k,B){for(S=v+S;v<S;){var V=(W=p[v++])>>16&240|W>>12&15,W=240&W|W>>28&15;k[B++]=V,k[B++]=W}}function At(p,v,S,k,B){for(S=v+S;v<S;){var V=(W=p[v++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;k[B++]=V,k[B++]=W}}function Pt(p,v,S,k,B){for(S=v+S;v<S;){var V=p[v++];k[B++]=255&V,k[B++]=V>>8&255,k[B++]=V>>16&255}}function bt(p,v,S,k,B,V){if(V==0)for(S=v+S;v<S;)He(k,((V=p[v++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),B+=32;else r(k,B,p,v,S)}function on(p,v){I[v][0]=I[p+"0"],I[v][1]=I[p+"1"],I[v][2]=I[p+"2"],I[v][3]=I[p+"3"],I[v][4]=I[p+"4"],I[v][5]=I[p+"5"],I[v][6]=I[p+"6"],I[v][7]=I[p+"7"],I[v][8]=I[p+"8"],I[v][9]=I[p+"9"],I[v][10]=I[p+"10"],I[v][11]=I[p+"11"],I[v][12]=I[p+"12"],I[v][13]=I[p+"13"],I[v][14]=I[p+"0"],I[v][15]=I[p+"0"]}function Nt(p){return p==zc||p==Tu||p==Ml||p==Eu}function kt(){this.eb=[],this.size=this.A=this.fb=0}function ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kt,this.f.kb=new ln,this.sd=null}function lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ot(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Jn(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function cn(p,v){var S=p.T,k=v.ba.f.RGBA,B=k.eb,V=k.fb+p.ka*k.A,W=tr[v.ba.S],J=p.y,ne=p.O,oe=p.f,ve=p.N,Ee=p.ea,se=p.W,_e=v.cc,Ne=v.dc,Re=v.Mc,Te=v.Nc,je=p.ka,Pe=p.ka+p.T,Ke=p.U,We=Ke+1>>1;for(je==0?W(J,ne,null,null,oe,ve,Ee,se,oe,ve,Ee,se,B,V,null,null,Ke):(W(v.ec,v.fc,J,ne,_e,Ne,Re,Te,oe,ve,Ee,se,B,V-k.A,B,V,Ke),++S);je+2<Pe;je+=2)_e=oe,Ne=ve,Re=Ee,Te=se,ve+=p.Rc,se+=p.Rc,V+=2*k.A,W(J,(ne+=2*p.fa)-p.fa,J,ne,_e,Ne,Re,Te,oe,ve,Ee,se,B,V-k.A,B,V,Ke);return ne+=p.fa,p.j+Pe<p.o?(r(v.ec,v.fc,J,ne,Ke),r(v.cc,v.dc,oe,ve,We),r(v.Mc,v.Nc,Ee,se,We),S--):1&Pe||W(J,ne,null,null,oe,ve,Ee,se,oe,ve,Ee,se,B,V+k.A,null,null,Ke),S}function Mn(p,v,S){var k=p.F,B=[p.J];if(k!=null){var V=p.U,W=v.ba.S,J=W==qc||W==Ml;v=v.ba.f.RGBA;var ne=[0],oe=p.ka;ne[0]=p.T,p.Kb&&(oe==0?--ne[0]:(--oe,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(ne[0]=p.o-p.j-oe));var ve=v.eb;oe=v.fb+oe*v.A,p=jc(k,B[0],p.width,V,ne,ve,oe+(J?0:3),v.A),e(S==ne),p&&Nt(W)&&Ho(ve,oe,J,V,ne,v.A)}return 0}function Dn(p){var v=p.ma,S=v.ba.S,k=11>S,B=S==ur||S==is||S==qc||S==Ll||S==12||Nt(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Ta(v.Oa,p,B?11:12))return 0;if(B&&Nt(S)&&Oc(),p.da)alert("todo:use_scaling");else{if(k){if(v.Ib=Jn,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=cn,Oc()}}else alert("todo:EmitYUV");B&&(v.Jb=Mn,k&&Os())}if(k&&!go){for(p=0;256>p;++p)nr[p]=89858*(p-128)+Rl>>cs,k1[p]=-22014*(p-128)+Rl,pd[p]=-45773*(p-128),Du[p]=113618*(p-128)+Rl>>cs;for(p=Xo;p<mo;++p)v=76283*(p-16)+Rl>>cs,O1[p-Xo]=Pr(v,255),L1[p-Xo]=Pr(v+8>>4,15);go=1}return 1}function ft(p){var v=p.ma,S=p.U,k=p.T;return e(!(1&p.ka)),0>=S||0>=k?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function _n(p){p.ma.memory=null}function mi(p,v,S,k){return Y(p,8)!=47?0:(v[0]=Y(p,14)+1,S[0]=Y(p,14)+1,k[0]=Y(p,1),Y(p,3)!=0?0:!p.h)}function jn(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+Y(v,S)+1}function Hn(p,v){return 120<v?v-120:1<=(S=((S=ss[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function un(p,v,S){var k=X(S),B=p[v+=255&k].g-8;return 0<B&&(ae(S,S.u+8),k=X(S),v+=p[v].value,v+=k&(1<<B)-1),ae(S,S.u+p[v].g),p[v].value}function Rn(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function Cn(p,v,S){var k=p.xc;return e((v=k==0?0:p.vc[p.md*(S>>k)+(v>>k)])<p.Wb),p.Ya[v]}function Er(p,v,S,k){var B=p.ab,V=p.c*v,W=p.C;v=W+v;var J=S,ne=k;for(k=p.Ta,S=p.Ua;0<B--;){var oe=p.gc[B],ve=W,Ee=v,se=J,_e=ne,Ne=(ne=k,J=S,oe.Ea);switch(e(ve<Ee),e(Ee<=oe.nc),oe.hc){case 2:yi(se,_e,(Ee-ve)*Ne,ne,J);break;case 0:var Re=ve,Te=Ee,je=ne,Pe=J,Ke=(dt=oe).Ea;Re==0&&(Tl(se,_e,null,null,1,je,Pe),rt(se,_e+1,0,0,Ke-1,je,Pe+1),_e+=Ke,Pe+=Ke,++Re);for(var We=1<<dt.b,gt=We-1,ct=ge(Ke,dt.b),Bt=dt.K,dt=dt.w+(Re>>dt.b)*ct;Re<Te;){var Zt=Bt,Yn=dt,Vt=1;for(El(se,_e,je,Pe-Ke,1,je,Pe);Vt<Ke;){var ut=(Vt&~gt)+We;ut>Ke&&(ut=Ke),(0,ka[Zt[Yn++]>>8&15])(se,_e+ +Vt,je,Pe+Vt-Ke,ut-Vt,je,Pe+Vt),Vt=ut}_e+=Ke,Pe+=Ke,++Re&gt||(dt+=ct)}Ee!=oe.nc&&r(ne,J-Ne,ne,J+(Ee-ve-1)*Ne,Ne);break;case 1:for(Ne=se,Te=_e,Ke=(se=oe.Ea)-(Pe=se&~(je=(_e=1<<oe.b)-1)),Re=ge(se,oe.b),We=oe.K,oe=oe.w+(ve>>oe.b)*Re;ve<Ee;){for(gt=We,ct=oe,Bt=new et,dt=Te+Pe,Zt=Te+se;Te<dt;)Qe(gt[ct++],Bt),kl(Bt,Ne,Te,_e,ne,J),Te+=_e,J+=_e;Te<Zt&&(Qe(gt[ct++],Bt),kl(Bt,Ne,Te,Ke,ne,J),Te+=Ke,J+=Ke),++ve&je||(oe+=Re)}break;case 3:if(se==ne&&_e==J&&0<oe.b){for(Te=ne,se=Ne=J+(Ee-ve)*Ne-(Pe=(Ee-ve)*ge(oe.Ea,oe.b)),_e=ne,je=J,Re=[],Pe=(Ke=Pe)-1;0<=Pe;--Pe)Re[Pe]=_e[je+Pe];for(Pe=Ke-1;0<=Pe;--Pe)Te[se+Pe]=Re[Pe];wu(oe,ve,Ee,ne,Ne,ne,J)}else wu(oe,ve,Ee,se,_e,ne,J)}J=k,ne=S}ne!=S&&r(k,S,J,ne,V)}function Mi(p,v){var S=p.V,k=p.Ba+p.c*p.C,B=v-p.C;if(e(v<=p.l.o),e(16>=B),0<B){var V=p.l,W=p.Ta,J=p.Ua,ne=V.width;if(Er(p,B,S,k),B=J=[J],e((S=p.C)<(k=v)),e(V.v<V.va),k>V.o&&(k=V.o),S<V.j){var oe=V.j-S;S=V.j,B[0]+=oe*ne}if(S>=k?S=0:(B[0]+=4*V.v,V.ka=S-V.j,V.U=V.va-V.v,V.T=k-S,S=1),S){if(J=J[0],11>(S=p.ca).S){var ve=S.f.RGBA,Ee=(k=S.S,B=V.U,V=V.T,oe=ve.eb,ve.A),se=V;for(ve=ve.fb+p.Ma*ve.A;0<se--;){var _e=W,Ne=J,Re=B,Te=oe,je=ve;switch(k){case Nu:Ol(_e,Ne,Re,Te,je);break;case ur:Oa(_e,Ne,Re,Te,je);break;case zc:Oa(_e,Ne,Re,Te,je),Ho(Te,je,0,Re,1,0);break;case Cu:Uo(_e,Ne,Re,Te,je);break;case is:bt(_e,Ne,Re,Te,je,1);break;case Tu:bt(_e,Ne,Re,Te,je,1),Ho(Te,je,0,Re,1,0);break;case qc:bt(_e,Ne,Re,Te,je,0);break;case Ml:bt(_e,Ne,Re,Te,je,0),Ho(Te,je,1,Re,1,0);break;case Ll:La(_e,Ne,Re,Te,je);break;case Eu:La(_e,Ne,Re,Te,je),ns(Te,je,Re,1,0);break;case co:na(_e,Ne,Re,Te,je);break;default:e(0)}J+=ne,ve+=Ee}p.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function Tn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,k=p.Ya[v].H;if(0<S[1][k[1]+0].g||0<S[2][k[2]+0].g||0<S[3][k[3]+0].g)return 0}return 1}function $n(p,v,S,k,B,V){if(p.Z!=0){var W=p.qd,J=p.rd;for(e(ja[p.Z]!=null);v<S;++v)ja[p.Z](W,J,k,B,k,B,V),W=k,J=B,B+=V;p.qd=W,p.rd=J}}function or(p,v){var S=p.l.ma,k=S.Z==0||S.Z==1?p.l.j:p.C;if(k=p.C<k?k:p.C,e(v<=p.l.o),v>k){var B=p.l.width,V=S.ca,W=S.tb+B*k,J=p.V,ne=p.Ba+p.c*k,oe=p.gc;e(p.ab==1),e(oe[0].hc==3),ta(oe[0],k,v,J,ne,V,W),$n(S,k,v,V,W,B)}p.C=p.Ma=v}function zr(p,v,S,k,B,V,W){var J=p.$/k,ne=p.$%k,oe=p.m,ve=p.s,Ee=S+p.$,se=Ee;B=S+k*B;var _e=S+k*V,Ne=280+ve.ua,Re=p.Pb?J:16777216,Te=0<ve.ua?ve.Wa:null,je=ve.wc,Pe=Ee<_e?Cn(ve,ne,J):null;e(p.C<V),e(_e<=B);var Ke=!1;e:for(;;){for(;Ke||Ee<_e;){var We=0;if(J>=Re){var gt=Ee-S;e((Re=p).Pb),Re.wd=Re.m,Re.xd=gt,0<Re.s.ua&&Me(Re.s.Wa,Re.s.vb),Re=J+uo}if(ne&je||(Pe=Cn(ve,ne,J)),e(Pe!=null),Pe.Qb&&(v[Ee]=Pe.qb,Ke=!0),!Ke)if(fe(oe),Pe.jc){We=oe,gt=v;var ct=Ee,Bt=Pe.pd[X(We)&lo-1];e(Pe.jc),256>Bt.g?(ae(We,We.u+Bt.g),gt[ct]=Bt.value,We=0):(ae(We,We.u+Bt.g-256),e(256<=Bt.value),We=Bt.value),We==0&&(Ke=!0)}else We=un(Pe.G[0],Pe.H[0],oe);if(oe.h)break;if(Ke||256>We){if(!Ke)if(Pe.nd)v[Ee]=(Pe.qb|We<<8)>>>0;else{if(fe(oe),Ke=un(Pe.G[1],Pe.H[1],oe),fe(oe),gt=un(Pe.G[2],Pe.H[2],oe),ct=un(Pe.G[3],Pe.H[3],oe),oe.h)break;v[Ee]=(ct<<24|Ke<<16|We<<8|gt)>>>0}if(Ke=!1,++Ee,++ne>=k&&(ne=0,++J,W!=null&&J<=V&&!(J%16)&&W(p,J),Te!=null))for(;se<Ee;)We=v[se++],Te.X[(506832829*We&4294967295)>>>Te.Mb]=We}else if(280>We){if(We=jn(We-256,oe),gt=un(Pe.G[4],Pe.H[4],oe),fe(oe),gt=Hn(k,gt=jn(gt,oe)),oe.h)break;if(Ee-S<gt||B-Ee<We)break e;for(ct=0;ct<We;++ct)v[Ee+ct]=v[Ee+ct-gt];for(Ee+=We,ne+=We;ne>=k;)ne-=k,++J,W!=null&&J<=V&&!(J%16)&&W(p,J);if(e(Ee<=B),ne&je&&(Pe=Cn(ve,ne,J)),Te!=null)for(;se<Ee;)We=v[se++],Te.X[(506832829*We&4294967295)>>>Te.Mb]=We}else{if(!(We<Ne))break e;for(Ke=We-280,e(Te!=null);se<Ee;)We=v[se++],Te.X[(506832829*We&4294967295)>>>Te.Mb]=We;We=Ee,e(!(Ke>>>(gt=Te).Xa)),v[We]=gt.X[Ke],Ke=!0}Ke||e(oe.h==ie(oe))}if(p.Pb&&oe.h&&Ee<B)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Me(p.s.vb,p.s.Wa);else{if(oe.h)break e;W?.(p,J>V?V:J),p.a=0,p.$=Ee-S}return 1}return p.a=3,0}function Jr(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function Do(){var p=new Rt;return p==null?null:(p.a=0,p.xb=Fh,on("Predictor","VP8LPredictors"),on("Predictor","VP8LPredictors_C"),on("PredictorAdd","VP8LPredictorsAdd"),on("PredictorAdd","VP8LPredictorsAdd_C"),yi=at,kl=ht,Ol=Nn,Oa=Ft,La=wt,na=At,Uo=Pt,I.VP8LMapColor32b=ea,I.VP8LMapColor8b=Ji,p)}function ws(p,v,S,k,B){var V=1,W=[p],J=[v],ne=k.m,oe=k.s,ve=null,Ee=0;e:for(;;){if(S)for(;V&&Y(ne,1);){var se=W,_e=J,Ne=k,Re=1,Te=Ne.m,je=Ne.gc[Ne.ab],Pe=Y(Te,2);if(Ne.Oc&1<<Pe)V=0;else{switch(Ne.Oc|=1<<Pe,je.hc=Pe,je.Ea=se[0],je.nc=_e[0],je.K=[null],++Ne.ab,e(4>=Ne.ab),Pe){case 0:case 1:je.b=Y(Te,3)+2,Re=ws(ge(je.Ea,je.b),ge(je.nc,je.b),0,Ne,je.K),je.K=je.K[0];break;case 3:var Ke,We=Y(Te,8)+1,gt=16<We?0:4<We?1:2<We?2:3;if(se[0]=ge(je.Ea,gt),je.b=gt,Ke=Re=ws(We,1,0,Ne,je.K)){var ct,Bt=We,dt=je,Zt=1<<(8>>dt.b),Yn=o(Zt);if(Yn==null)Ke=0;else{var Vt=dt.K[0],ut=dt.w;for(Yn[0]=dt.K[0][0],ct=1;ct<1*Bt;++ct)Yn[ct]=qe(Vt[ut+ct],Yn[ct-1]);for(;ct<4*Zt;++ct)Yn[ct]=0;dt.K[0]=null,dt.K[0]=Yn,Ke=1}}Re=Ke;break;case 2:break;default:e(0)}V=Re}}if(W=W[0],J=J[0],V&&Y(ne,1)&&!(V=1<=(Ee=Y(ne,4))&&11>=Ee)){k.a=3;break e}var tt;if(tt=V)t:{var ti,Mt,Yt,xn=k,Ri=W,ir=J,qn=Ee,Ai=S,hr=xn.m,Ni=xn.s,Xt=[null],hn=1,ni=0,vn=as[qn];n:for(;;){if(Ai&&Y(hr,1)){var Ii=Y(hr,3)+2,ii=ge(Ri,Ii),fn=ge(ir,Ii),xi=ii*fn;if(!ws(ii,fn,0,xn,Xt))break n;for(Xt=Xt[0],Ni.xc=Ii,ti=0;ti<xi;++ti){var wn=Xt[ti]>>8&65535;Xt[ti]=wn,wn>=hn&&(hn=wn+1)}}if(hr.h)break n;for(Mt=0;5>Mt;++Mt){var Ci=Yo[Mt];!Mt&&0<qn&&(Ci+=1<<qn),ni<Ci&&(ni=Ci)}var Ti=h(hn*vn,$),En=hn,sn=h(En,ue);if(sn==null)var fr=null;else e(65536>=En),fr=sn;var ui=o(ni);if(fr==null||ui==null||Ti==null){xn.a=1;break n}var Ct=Ti;for(ti=Yt=0;ti<hn;++ti){var Tt=fr[ti],dn=Tt.G,Lr=Tt.H,us=0,wr=1,Ei=0;for(Mt=0;5>Mt;++Mt){Ci=Yo[Mt],dn[Mt]=Ct,Lr[Mt]=Yt,!Mt&&0<qn&&(Ci+=1<<qn);r:{var vo,yo=Ci,Ru=xn,zn=ui,Uh=Ct,Vh=Yt,Iu=0,Ra=Ru.m,M1=Y(Ra,1);if(a(zn,0,0,yo),M1){var Hh=Y(Ra,1)+1,Gh=Y(Ra,1),Bu=Y(Ra,Gh==0?1:8);zn[Bu]=1,Hh==2&&(zn[Bu=Y(Ra,8)]=1);var Vi=1}else{var hi=o(19),Vc=Y(Ra,4)+4;if(19<Vc){Ru.a=3;var bo=0;break r}for(vo=0;vo<Vc;++vo)hi[Fc[vo]]=Y(Ra,3);var Bl=void 0,Zo=void 0,sa=Ru,qu=hi,ql=yo,zu=zn,Fu=0,Ia=sa.m,Yh=8,Wh=h(128,$);i:for(;j(Wh,0,7,qu,19);){if(Y(Ia,1)){var md=2+2*Y(Ia,3);if((Bl=2+Y(Ia,md))>ql)break i}else Bl=ql;for(Zo=0;Zo<ql&&Bl--;){fe(Ia);var Xh=Wh[0+(127&X(Ia))];ae(Ia,Ia.u+Xh.g);var _o=Xh.value;if(16>_o)zu[Zo++]=_o,_o!=0&&(Yh=_o);else{var gd=_o==16,vd=_o-16,yd=Dl[vd],Zh=Y(Ia,rs[vd])+yd;if(Zo+Zh>ql)break i;for(var bd=gd?Yh:0;0<Zh--;)zu[Zo++]=bd}}Fu=1;break i}Fu||(sa.a=3),Vi=Fu}(Vi=Vi&&!Ra.h)&&(Iu=j(Uh,Vh,8,zn,yo)),Vi&&Iu!=0?bo=Iu:(Ru.a=3,bo=0)}if(bo==0)break n;if(wr&&ku[Mt]==1&&(wr=Ct[Yt].g==0),us+=Ct[Yt].g,Yt+=bo,3>=Mt){var Ko,Pu=ui[0];for(Ko=1;Ko<Ci;++Ko)ui[Ko]>Pu&&(Pu=ui[Ko]);Ei+=Pu}}if(Tt.nd=wr,Tt.Qb=0,wr&&(Tt.qb=(dn[3][Lr[3]+0].value<<24|dn[1][Lr[1]+0].value<<16|dn[2][Lr[2]+0].value)>>>0,us==0&&256>dn[0][Lr[0]+0].value&&(Tt.Qb=1,Tt.qb+=dn[0][Lr[0]+0].value<<8)),Tt.jc=!Tt.Qb&&6>Ei,Tt.jc){var Hc,aa=Tt;for(Hc=0;Hc<lo;++Hc){var Ba=Hc,qa=aa.pd[Ba],Uu=aa.G[0][aa.H[0]+Ba];256<=Uu.value?(qa.g=Uu.g+256,qa.value=Uu.value):(qa.g=0,qa.value=0,Ba>>=Rn(Uu,8,qa),Ba>>=Rn(aa.G[1][aa.H[1]+Ba],16,qa),Ba>>=Rn(aa.G[2][aa.H[2]+Ba],0,qa),Rn(aa.G[3][aa.H[3]+Ba],24,qa))}}}Ni.vc=Xt,Ni.Wb=hn,Ni.Ya=fr,Ni.yc=Ti,tt=1;break t}tt=0}if(!(V=tt)){k.a=3;break e}if(0<Ee){if(oe.ua=1<<Ee,!H(oe.Wa,Ee)){k.a=1,V=0;break e}}else oe.ua=0;var Vu=k,Qo=W,_d=J,zl=Vu.s,Fl=zl.xc;if(Vu.c=Qo,Vu.i=_d,zl.md=ge(Qo,Fl),zl.wc=Fl==0?-1:(1<<Fl)-1,S){k.xb=ho;break e}if((ve=o(W*J))==null){k.a=1,V=0;break e}V=(V=zr(k,ve,0,W,J,J,null))&&!ne.h;break e}return V?(B!=null?B[0]=ve:(e(ve==null),e(S)),k.$=0,S||Jr(oe)):Jr(oe),V}function Ss(p,v){var S=p.c*p.i,k=S+v+16*v;return e(p.c<=v),p.V=o(k),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function io(p,v){var S=p.C,k=v-S,B=p.V,V=p.Ba+p.c*S;for(e(v<=p.l.o);0<k;){var W=16<k?16:k,J=p.l.ma,ne=p.l.width,oe=ne*W,ve=J.ca,Ee=J.tb+ne*S,se=p.Ta,_e=p.Ua;Er(p,W,B,V),Yr(se,_e,ve,Ee,oe),$n(J,S,S+W,ve,Ee,ne),k-=W,B+=W*p.c,S+=W}e(S==v),p.C=p.Ma=v}function As(){this.ub=this.yd=this.td=this.Rb=0}function Ns(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ys(){this.Yb=(function(){var p=[];return(function v(S,k,B){for(var V=B[k],W=0;W<V&&(S.push(B.length>k+1?[]:0),!(B.length<k+1));W++)v(S[W],k+1,B)})(p,0,[3,11]),p})()}function gi(){this.jb=o(3),this.Wc=c([4,8],Ys),this.Xc=c([4,17],Ys)}function gc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Fr(){this.ld=this.La=this.dd=this.tc=0}function Cs(){this.Na=this.la=0}function pa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vc(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fr),this.Y=0,this.ya=Array(new vc),this.aa=0,this.l=new ma}function bc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function fu(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new As,this.Kc=new Ns,this.ed=new gc,this.Qa=new jo,this.Ic=this.$c=this.Aa=0,this.D=new yc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,C),this.ia=0,this.pb=h(4,pa),this.Pa=new gi,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bc),this.Hd=0,this.rb=Array(new Cs),this.sb=0,this.wa=Array(new Fr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vc),this.L=this.aa=0,this.gd=c([4,2],Fr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pr(p,v){return 0>p?0:p>v?v:p}function ma(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ts(){var p=new fu;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Wr||(Wr=ro)),p}function mn(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function _c(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Ws(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return mn(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,k=v.w,B=v.ha;if(4>B)return mn(p,7,"Truncated header.");var V=S[k+0]|S[k+1]<<8|S[k+2]<<16,W=p.Od;if(W.Rb=!(1&V),W.td=V>>1&7,W.yd=V>>4&1,W.ub=V>>5,3<W.td)return mn(p,3,"Incorrect keyframe parameters.");if(!W.yd)return mn(p,4,"Frame not displayable.");k+=3,B-=3;var J=p.Kc;if(W.Rb){if(7>B)return mn(p,7,"cannot parse picture header");if(!_c(S,k,B))return mn(p,3,"Bad code word");J.c=16383&(S[k+4]<<8|S[k+3]),J.Td=S[k+4]>>6,J.i=16383&(S[k+6]<<8|S[k+5]),J.Ud=S[k+6]>>6,k+=7,B-=7,p.za=J.c+15>>4,p.Ub=J.i+15>>4,v.width=J.c,v.height=J.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((V=p.Pa).jb,0,255,V.jb.length),e((V=p.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,a(V.Zb,0,0,V.Zb.length),a(V.Lb,0,0,V.Lb)}if(W.ub>B)return mn(p,7,"bad partition length");Q(V=p.m,S,k,W.ub),k+=W.ub,B-=W.ub,W.Rb&&(J.Ld=xe(V),J.Kd=xe(V)),J=p.Qa;var ne,oe=p.Pa;if(e(V!=null),e(J!=null),J.Cb=xe(V),J.Cb){if(J.Bb=xe(V),xe(V)){for(J.Fb=xe(V),ne=0;4>ne;++ne)J.Zb[ne]=xe(V)?ce(V,7):0;for(ne=0;4>ne;++ne)J.Lb[ne]=xe(V)?ce(V,6):0}if(J.Bb)for(ne=0;3>ne;++ne)oe.jb[ne]=xe(V)?re(V,8):255}else J.Bb=0;if(V.Ka)return mn(p,3,"cannot parse segment header");if((J=p.ed).zd=xe(V),J.Tb=re(V,6),J.wb=re(V,3),J.Pc=xe(V),J.Pc&&xe(V)){for(oe=0;4>oe;++oe)xe(V)&&(J.vd[oe]=ce(V,6));for(oe=0;4>oe;++oe)xe(V)&&(J.od[oe]=ce(V,6))}if(p.L=J.Tb==0?0:J.zd?1:2,V.Ka)return mn(p,3,"cannot parse filter header");var ve=B;if(B=ne=k,k=ne+ve,J=ve,p.Xb=(1<<re(p.m,2))-1,ve<3*(oe=p.Xb))S=7;else{for(ne+=3*oe,J-=3*oe,ve=0;ve<oe;++ve){var Ee=S[B+0]|S[B+1]<<8|S[B+2]<<16;Ee>J&&(Ee=J),Q(p.Jc[+ve],S,ne,Ee),ne+=Ee,J-=Ee,B+=3}Q(p.Jc[+oe],S,ne,J),S=ne<k?0:5}if(S!=0)return mn(p,S,"cannot parse partitions");for(S=re(ne=p.m,7),B=xe(ne)?ce(ne,4):0,k=xe(ne)?ce(ne,4):0,J=xe(ne)?ce(ne,4):0,oe=xe(ne)?ce(ne,4):0,ne=xe(ne)?ce(ne,4):0,ve=p.Qa,Ee=0;4>Ee;++Ee){if(ve.Cb){var se=ve.Zb[Ee];ve.Fb||(se+=S)}else{if(0<Ee){p.pb[Ee]=p.pb[0];continue}se=S}var _e=p.pb[Ee];_e.Sc[0]=os[Pr(se+B,127)],_e.Sc[1]=ls[Pr(se+0,127)],_e.Eb[0]=2*os[Pr(se+k,127)],_e.Eb[1]=101581*ls[Pr(se+J,127)]>>16,8>_e.Eb[1]&&(_e.Eb[1]=8),_e.Qc[0]=os[Pr(se+oe,117)],_e.Qc[1]=ls[Pr(se+ne,127)],_e.lc=se+ne}if(!W.Rb)return mn(p,4,"Not a key frame.");for(xe(V),W=p.Pa,S=0;4>S;++S){for(B=0;8>B;++B)for(k=0;3>k;++k)for(J=0;11>J;++J)oe=Ce(V,Gn[S][B][k][J])?re(V,8):dd[S][B][k][J],W.Wc[S][B].Yb[k][J]=oe;for(B=0;17>B;++B)W.Xc[S][B]=W.Wc[S][Kt[B]]}return p.kc=xe(V),p.kc&&(p.Bd=re(V,8)),p.cb=1}function ro(p,v,S,k,B,V,W){var J=v[B].Yb[S];for(S=0;16>B;++B){if(!Ce(p,J[S+0]))return B;for(;!Ce(p,J[S+1]);)if(J=v[++B].Yb[0],S=0,B==16)return 16;var ne=v[B+1].Yb;if(Ce(p,J[S+2])){var oe=p,ve=0;if(Ce(oe,(se=J)[(Ee=S)+3]))if(Ce(oe,se[Ee+6])){for(J=0,Ee=2*(ve=Ce(oe,se[Ee+8]))+(se=Ce(oe,se[Ee+9+ve])),ve=0,se=fd[Ee];se[J];++J)ve+=ve+Ce(oe,se[J]);ve+=3+(8<<Ee)}else Ce(oe,se[Ee+7])?(ve=7+2*Ce(oe,165),ve+=Ce(oe,145)):ve=5+Ce(oe,159);else ve=Ce(oe,se[Ee+4])?3+Ce(oe,se[Ee+5]):2;J=ne[2]}else ve=1,J=ne[1];ne=W+zh[B],0>(oe=p).b&&pe(oe);var Ee,se=oe.b,_e=(Ee=oe.Ca>>1)-(oe.I>>se)>>31;--oe.b,oe.Ca+=_e,oe.Ca|=1,oe.I-=(Ee+1&_e)<<se,V[ne]=((ve^_e)-_e)*k[(0<B)+0]}return 16}function xc(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function vr(p,v,S,k,B){B=p[v+S+32*k]+(B>>3),p[v+S+32*k]=-256&B?0>B?0:255:B}function Di(p,v,S,k,B,V){vr(p,v,0,S,k+B),vr(p,v,1,S,k+V),vr(p,v,2,S,k-V),vr(p,v,3,S,k-B)}function wi(p){return(20091*p>>16)+p}function _l(p,v,S,k){var B,V=0,W=o(16);for(B=0;4>B;++B){var J=p[v+0]+p[v+8],ne=p[v+0]-p[v+8],oe=(35468*p[v+4]>>16)-wi(p[v+12]),ve=wi(p[v+4])+(35468*p[v+12]>>16);W[V+0]=J+ve,W[V+1]=ne+oe,W[V+2]=ne-oe,W[V+3]=J-ve,V+=4,v++}for(B=V=0;4>B;++B)J=(p=W[V+0]+4)+W[V+8],ne=p-W[V+8],oe=(35468*W[V+4]>>16)-wi(W[V+12]),vr(S,k,0,0,J+(ve=wi(W[V+4])+(35468*W[V+12]>>16))),vr(S,k,1,0,ne+oe),vr(S,k,2,0,ne-oe),vr(S,k,3,0,J-ve),V++,k+=32}function du(p,v,S,k){var B=p[v+0]+4,V=35468*p[v+4]>>16,W=wi(p[v+4]),J=35468*p[v+1]>>16;Di(S,k,0,B+W,p=wi(p[v+1]),J),Di(S,k,1,B+V,p,J),Di(S,k,2,B-V,p,J),Di(S,k,3,B-W,p,J)}function wc(p,v,S,k,B){_l(p,v,S,k),B&&_l(p,v+16,S,k+4)}function yr(p,v,S,k){Ma(p,v+0,S,k,1),Ma(p,v+32,S,k+128,1)}function Sc(p,v,S,k){var B;for(p=p[v+0]+4,B=0;4>B;++B)for(v=0;4>v;++v)vr(S,k,v,B,p)}function Ac(p,v,S,k){p[v+0]&&gn(p,v+0,S,k),p[v+16]&&gn(p,v+16,S,k+4),p[v+32]&&gn(p,v+32,S,k+128),p[v+48]&&gn(p,v+48,S,k+128+4)}function Es(p,v,S,k){var B,V=o(16);for(B=0;4>B;++B){var W=p[v+0+B]+p[v+12+B],J=p[v+4+B]+p[v+8+B],ne=p[v+4+B]-p[v+8+B],oe=p[v+0+B]-p[v+12+B];V[0+B]=W+J,V[8+B]=W-J,V[4+B]=oe+ne,V[12+B]=oe-ne}for(B=0;4>B;++B)W=(p=V[0+4*B]+3)+V[3+4*B],J=V[1+4*B]+V[2+4*B],ne=V[1+4*B]-V[2+4*B],oe=p-V[3+4*B],S[k+0]=W+J>>3,S[k+16]=oe+ne>>3,S[k+32]=W-J>>3,S[k+48]=oe-ne>>3,k+=64}function Ro(p,v,S){var k,B=v-32,V=cr,W=255-p[B-1];for(k=0;k<S;++k){var J,ne=V,oe=W+p[v-1];for(J=0;J<S;++J)p[v+J]=ne[oe+p[B+J]];v+=32}}function pu(p,v){Ro(p,v,4)}function mu(p,v){Ro(p,v,8)}function Nc(p,v){Ro(p,v,16)}function Cc(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function gu(p,v){var S;for(S=16;0<S;--S)a(p,v,p[v-1],16),v+=32}function kr(p,v,S){var k;for(k=0;16>k;++k)a(v,S+32*k,p,16)}function ks(p,v){var S,k=16;for(S=0;16>S;++S)k+=p[v-1+32*S]+p[v+S-32];kr(k>>5,p,v)}function ga(p,v){var S,k=8;for(S=0;16>S;++S)k+=p[v-1+32*S];kr(k>>4,p,v)}function Io(p,v){var S,k=8;for(S=0;16>S;++S)k+=p[v+S-32];kr(k>>4,p,v)}function so(p,v){kr(128,p,v)}function Lt(p,v,S){return p+2*v+S+2>>2}function vu(p,v){var S,k=v-32;for(k=new Uint8Array([Lt(p[k-1],p[k+0],p[k+1]),Lt(p[k+0],p[k+1],p[k+2]),Lt(p[k+1],p[k+2],p[k+3]),Lt(p[k+2],p[k+3],p[k+4])]),S=0;4>S;++S)r(p,v+32*S,k,0,k.length)}function Tc(p,v){var S=p[v-1],k=p[v-1+32],B=p[v-1+64],V=p[v-1+96];He(p,v+0,16843009*Lt(p[v-1-32],S,k)),He(p,v+32,16843009*Lt(S,k,B)),He(p,v+64,16843009*Lt(k,B,V)),He(p,v+96,16843009*Lt(B,V,V))}function yu(p,v){var S,k=4;for(S=0;4>S;++S)k+=p[v+S-32]+p[v-1+32*S];for(k>>=3,S=0;4>S;++S)a(p,v+32*S,k,4)}function Ur(p,v){var S=p[v-1+0],k=p[v-1+32],B=p[v-1+64],V=p[v-1-32],W=p[v+0-32],J=p[v+1-32],ne=p[v+2-32],oe=p[v+3-32];p[v+0+96]=Lt(k,B,p[v-1+96]),p[v+1+96]=p[v+0+64]=Lt(S,k,B),p[v+2+96]=p[v+1+64]=p[v+0+32]=Lt(V,S,k),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Lt(W,V,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=Lt(J,W,V),p[v+3+32]=p[v+2+0]=Lt(ne,J,W),p[v+3+0]=Lt(oe,ne,J)}function Ki(p,v){var S=p[v+1-32],k=p[v+2-32],B=p[v+3-32],V=p[v+4-32],W=p[v+5-32],J=p[v+6-32],ne=p[v+7-32];p[v+0+0]=Lt(p[v+0-32],S,k),p[v+1+0]=p[v+0+32]=Lt(S,k,B),p[v+2+0]=p[v+1+32]=p[v+0+64]=Lt(k,B,V),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Lt(B,V,W),p[v+3+32]=p[v+2+64]=p[v+1+96]=Lt(V,W,J),p[v+3+64]=p[v+2+96]=Lt(W,J,ne),p[v+3+96]=Lt(J,ne,ne)}function Ec(p,v){var S=p[v-1+0],k=p[v-1+32],B=p[v-1+64],V=p[v-1-32],W=p[v+0-32],J=p[v+1-32],ne=p[v+2-32],oe=p[v+3-32];p[v+0+0]=p[v+1+64]=V+W+1>>1,p[v+1+0]=p[v+2+64]=W+J+1>>1,p[v+2+0]=p[v+3+64]=J+ne+1>>1,p[v+3+0]=ne+oe+1>>1,p[v+0+96]=Lt(B,k,S),p[v+0+64]=Lt(k,S,V),p[v+0+32]=p[v+1+96]=Lt(S,V,W),p[v+1+32]=p[v+2+96]=Lt(V,W,J),p[v+2+32]=p[v+3+96]=Lt(W,J,ne),p[v+3+32]=Lt(J,ne,oe)}function Bo(p,v){var S=p[v+0-32],k=p[v+1-32],B=p[v+2-32],V=p[v+3-32],W=p[v+4-32],J=p[v+5-32],ne=p[v+6-32],oe=p[v+7-32];p[v+0+0]=S+k+1>>1,p[v+1+0]=p[v+0+64]=k+B+1>>1,p[v+2+0]=p[v+1+64]=B+V+1>>1,p[v+3+0]=p[v+2+64]=V+W+1>>1,p[v+0+32]=Lt(S,k,B),p[v+1+32]=p[v+0+96]=Lt(k,B,V),p[v+2+32]=p[v+1+96]=Lt(B,V,W),p[v+3+32]=p[v+2+96]=Lt(V,W,J),p[v+3+64]=Lt(W,J,ne),p[v+3+96]=Lt(J,ne,oe)}function Vr(p,v){var S=p[v-1+0],k=p[v-1+32],B=p[v-1+64],V=p[v-1+96];p[v+0+0]=S+k+1>>1,p[v+2+0]=p[v+0+32]=k+B+1>>1,p[v+2+32]=p[v+0+64]=B+V+1>>1,p[v+1+0]=Lt(S,k,B),p[v+3+0]=p[v+1+32]=Lt(k,B,V),p[v+3+32]=p[v+1+64]=Lt(B,V,V),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=V}function qo(p,v){var S=p[v-1+0],k=p[v-1+32],B=p[v-1+64],V=p[v-1+96],W=p[v-1-32],J=p[v+0-32],ne=p[v+1-32],oe=p[v+2-32];p[v+0+0]=p[v+2+32]=S+W+1>>1,p[v+0+32]=p[v+2+64]=k+S+1>>1,p[v+0+64]=p[v+2+96]=B+k+1>>1,p[v+0+96]=V+B+1>>1,p[v+3+0]=Lt(J,ne,oe),p[v+2+0]=Lt(W,J,ne),p[v+1+0]=p[v+3+32]=Lt(S,W,J),p[v+1+32]=p[v+3+64]=Lt(k,S,W),p[v+1+64]=p[v+3+96]=Lt(B,k,S),p[v+1+96]=Lt(V,B,k)}function Xs(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function bu(p,v){var S;for(S=0;8>S;++S)a(p,v,p[v-1],8),v+=32}function $r(p,v,S){var k;for(k=0;8>k;++k)a(v,S+32*k,p,8)}function xl(p,v){var S,k=8;for(S=0;8>S;++S)k+=p[v+S-32]+p[v-1+32*S];$r(k>>4,p,v)}function wl(p,v){var S,k=4;for(S=0;8>S;++S)k+=p[v+S-32];$r(k>>3,p,v)}function Pi(p,v){var S,k=4;for(S=0;8>S;++S)k+=p[v-1+32*S];$r(k>>3,p,v)}function Zs(p,v){$r(128,p,v)}function es(p,v,S){var k=p[v-S],B=p[v+0],V=3*(B-k)+Da[1020+p[v-2*S]-p[v+S]],W=Bc[112+(V+4>>3)];p[v-S]=cr[255+k+Bc[112+(V+3>>3)]],p[v+0]=cr[255+B-W]}function va(p,v,S,k){var B=p[v+0],V=p[v+S];return $i[255+p[v-2*S]-p[v-S]]>k||$i[255+V-B]>k}function Sl(p,v,S,k){return 4*$i[255+p[v-S]-p[v+0]]+$i[255+p[v-2*S]-p[v+S]]<=k}function zo(p,v,S,k,B){var V=p[v-3*S],W=p[v-2*S],J=p[v-S],ne=p[v+0],oe=p[v+S],ve=p[v+2*S],Ee=p[v+3*S];return 4*$i[255+J-ne]+$i[255+W-oe]>k?0:$i[255+p[v-4*S]-V]<=B&&$i[255+V-W]<=B&&$i[255+W-J]<=B&&$i[255+Ee-ve]<=B&&$i[255+ve-oe]<=B&&$i[255+oe-ne]<=B}function ya(p,v,S,k){var B=2*k+1;for(k=0;16>k;++k)Sl(p,v+k,S,B)&&es(p,v+k,S)}function ba(p,v,S,k){var B=2*k+1;for(k=0;16>k;++k)Sl(p,v+k*S,1,B)&&es(p,v+k*S,1)}function Fo(p,v,S,k){var B;for(B=3;0<B;--B)ya(p,v+=4*S,S,k)}function kc(p,v,S,k){var B;for(B=3;0<B;--B)ba(p,v+=4,S,k)}function _a(p,v,S,k,B,V,W,J){for(V=2*V+1;0<B--;){if(zo(p,v,S,V,W))if(va(p,v,S,J))es(p,v,S);else{var ne=p,oe=v,ve=S,Ee=ne[oe-2*ve],se=ne[oe-ve],_e=ne[oe+0],Ne=ne[oe+ve],Re=ne[oe+2*ve],Te=27*(Pe=Da[1020+3*(_e-se)+Da[1020+Ee-Ne]])+63>>7,je=18*Pe+63>>7,Pe=9*Pe+63>>7;ne[oe-3*ve]=cr[255+ne[oe-3*ve]+Pe],ne[oe-2*ve]=cr[255+Ee+je],ne[oe-ve]=cr[255+se+Te],ne[oe+0]=cr[255+_e-Te],ne[oe+ve]=cr[255+Ne-je],ne[oe+2*ve]=cr[255+Re-Pe]}v+=k}}function xa(p,v,S,k,B,V,W,J){for(V=2*V+1;0<B--;){if(zo(p,v,S,V,W))if(va(p,v,S,J))es(p,v,S);else{var ne=p,oe=v,ve=S,Ee=ne[oe-ve],se=ne[oe+0],_e=ne[oe+ve],Ne=Bc[112+(4+(Re=3*(se-Ee))>>3)],Re=Bc[112+(Re+3>>3)],Te=Ne+1>>1;ne[oe-2*ve]=cr[255+ne[oe-2*ve]+Te],ne[oe-ve]=cr[255+Ee+Re],ne[oe+0]=cr[255+se-Ne],ne[oe+ve]=cr[255+_e-Te]}v+=k}}function _u(p,v,S,k,B,V){_a(p,v,S,1,16,k,B,V)}function wa(p,v,S,k,B,V){_a(p,v,1,S,16,k,B,V)}function xu(p,v,S,k,B,V){var W;for(W=3;0<W;--W)xa(p,v+=4*S,S,1,16,k,B,V)}function x(p,v,S,k,B,V){var W;for(W=3;0<W;--W)xa(p,v+=4,1,S,16,k,B,V)}function R(p,v,S,k,B,V,W,J){_a(p,v,B,1,8,V,W,J),_a(S,k,B,1,8,V,W,J)}function le(p,v,S,k,B,V,W,J){_a(p,v,1,B,8,V,W,J),_a(S,k,1,B,8,V,W,J)}function me(p,v,S,k,B,V,W,J){xa(p,v+4*B,B,1,8,V,W,J),xa(S,k+4*B,B,1,8,V,W,J)}function we(p,v,S,k,B,V,W,J){xa(p,v+4,1,B,8,V,W,J),xa(S,k+4,1,B,8,V,W,J)}function Fe(){this.ba=new yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ot,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function pt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _t(){this.ua=0,this.Wa=new st,this.vb=new st,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ue,this.yc=new $}function Rt(){this.xb=this.a=0,this.l=new ma,this.ca=new yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _t,this.ab=0,this.gc=h(4,pt),this.Oc=0}function Ut(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ma,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nn(p,v,S,k,B,V,W){for(p=p==null?0:p[v+0],v=0;v<W;++v)B[V+v]=p+S[k+v]&255,p=B[V+v]}function ei(p,v,S,k,B,V,W){var J;if(p==null)nn(null,null,S,k,B,V,W);else for(J=0;J<W;++J)B[V+J]=p[v+J]+S[k+J]&255}function vi(p,v,S,k,B,V,W){if(p==null)nn(null,null,S,k,B,V,W);else{var J,ne=p[v+0],oe=ne,ve=ne;for(J=0;J<W;++J)oe=ve+(ne=p[v+J])-oe,ve=S[k+J]+(-256&oe?0>oe?0:255:oe)&255,oe=ne,B[V+J]=ve}}function In(p,v,S,k){var B=v.width,V=v.o;if(e(p!=null&&v!=null),0>S||0>=k||S+k>V)return null;if(!p.Cc){if(p.ga==null){var W;if(p.ga=new Ut,(W=p.ga==null)||(W=v.width*v.o,e(p.Gb.length==0),p.Gb=o(W),p.Uc=0,p.Gb==null?W=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,W=1),W=!W),!W){W=p.ga;var J=p.Fa,ne=p.P,oe=p.qc,ve=p.mb,Ee=p.nb,se=ne+1,_e=oe-1,Ne=W.l;if(e(J!=null&&ve!=null&&v!=null),ja[0]=null,ja[1]=nn,ja[2]=ei,ja[3]=vi,W.ca=ve,W.tb=Ee,W.c=v.width,W.i=v.height,e(0<W.c&&0<W.i),1>=oe)v=0;else if(W.$a=3&J[ne+0],W.Z=J[ne+0]>>2&3,W.Lc=J[ne+0]>>4&3,ne=J[ne+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||ne)v=0;else if(Ne.put=ft,Ne.ac=Dn,Ne.bc=_n,Ne.ma=W,Ne.width=v.width,Ne.height=v.height,Ne.Da=v.Da,Ne.v=v.v,Ne.va=v.va,Ne.j=v.j,Ne.o=v.o,W.$a)e:{e(W.$a==1),v=Do();t:for(;;){if(v==null){v=0;break e}if(e(W!=null),W.mc=v,v.c=W.c,v.i=W.i,v.l=W.l,v.l.ma=W,v.l.width=W.c,v.l.height=W.i,v.a=0,de(v.m,J,se,_e),!ws(W.c,W.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Tn(v.s)?(W.ic=1,J=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(J),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(W.ic=0,v=Ss(v,W.c)),!v))break t;v=1;break e}W.mc=null,v=0}else v=_e>=W.c*W.i;W=!v}if(W)return null;p.ga.Lc!=1?p.Ga=0:k=V-S}e(p.ga!=null),e(S+k<=V);e:{if(v=(J=p.ga).c,V=J.l.o,J.$a==0){if(se=p.rc,_e=p.Vc,Ne=p.Fa,ne=p.P+1+S*v,oe=p.mb,ve=p.nb+S*v,e(ne<=p.P+p.qc),J.Z!=0)for(e(ja[J.Z]!=null),W=0;W<k;++W)ja[J.Z](se,_e,Ne,ne,oe,ve,v),se=oe,_e=ve,ve+=v,ne+=v;else for(W=0;W<k;++W)r(oe,ve,Ne,ne,v),se=oe,_e=ve,ve+=v,ne+=v;p.rc=se,p.Vc=_e}else{if(e(J.mc!=null),v=S+k,e((W=J.mc)!=null),e(v<=W.i),W.C>=v)v=1;else if(J.ic||Os(),J.ic){J=W.V,se=W.Ba,_e=W.c;var Re=W.i,Te=(Ne=1,ne=W.$/_e,oe=W.$%_e,ve=W.m,Ee=W.s,W.$),je=_e*Re,Pe=_e*v,Ke=Ee.wc,We=Te<Pe?Cn(Ee,oe,ne):null;e(Te<=je),e(v<=Re),e(Tn(Ee));t:for(;;){for(;!ve.h&&Te<Pe;){if(oe&Ke||(We=Cn(Ee,oe,ne)),e(We!=null),fe(ve),256>(Re=un(We.G[0],We.H[0],ve)))J[se+Te]=Re,++Te,++oe>=_e&&(oe=0,++ne<=v&&!(ne%16)&&or(W,ne));else{if(!(280>Re)){Ne=0;break t}Re=jn(Re-256,ve);var gt,ct=un(We.G[4],We.H[4],ve);if(fe(ve),!(Te>=(ct=Hn(_e,ct=jn(ct,ve)))&&je-Te>=Re)){Ne=0;break t}for(gt=0;gt<Re;++gt)J[se+Te+gt]=J[se+Te+gt-ct];for(Te+=Re,oe+=Re;oe>=_e;)oe-=_e,++ne<=v&&!(ne%16)&&or(W,ne);Te<Pe&&oe&Ke&&(We=Cn(Ee,oe,ne))}e(ve.h==ie(ve))}or(W,ne>v?v:ne);break t}!Ne||ve.h&&Te<je?(Ne=0,W.a=ve.h?5:3):W.$=Te,v=Ne}else v=zr(W,W.V,W.Ba,W.c,W.i,v,io);if(!v){k=0;break e}}S+k>=V&&(p.Cc=1),k=1}if(!k)return null;if(p.Cc&&((k=p.ga)!=null&&(k.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*B}function ji(p,v,S,k,B,V){for(;0<B--;){var W,J=p,ne=v+(S?1:0),oe=p,ve=v+(S?0:3);for(W=0;W<k;++W){var Ee=oe[ve+4*W];Ee!=255&&(Ee*=32897,J[ne+4*W+0]=J[ne+4*W+0]*Ee>>23,J[ne+4*W+1]=J[ne+4*W+1]*Ee>>23,J[ne+4*W+2]=J[ne+4*W+2]*Ee>>23)}v+=V}}function Si(p,v,S,k,B){for(;0<k--;){var V;for(V=0;V<S;++V){var W=p[v+2*V+0],J=15&(oe=p[v+2*V+1]),ne=4369*J,oe=(240&oe|oe>>4)*ne>>16;p[v+2*V+0]=(240&W|W>>4)*ne>>16&240|(15&W|W<<4)*ne>>16>>4&15,p[v+2*V+1]=240&oe|J}v+=B}}function Qi(p,v,S,k,B,V,W,J){var ne,oe,ve=255;for(oe=0;oe<B;++oe){for(ne=0;ne<k;++ne){var Ee=p[v+ne];V[W+4*ne]=Ee,ve&=Ee}v+=S,W+=J}return ve!=255}function Sa(p,v,S,k,B){var V;for(V=0;V<B;++V)S[k+V]=p[v+V]>>8}function Os(){Ho=ji,ns=Si,jc=Qi,Yr=Sa}function Aa(p,v,S){I[p]=function(k,B,V,W,J,ne,oe,ve,Ee,se,_e,Ne,Re,Te,je,Pe,Ke){var We,gt=Ke-1>>1,ct=J[ne+0]|oe[ve+0]<<16,Bt=Ee[se+0]|_e[Ne+0]<<16;e(k!=null);var dt=3*ct+Bt+131074>>2;for(v(k[B+0],255&dt,dt>>16,Re,Te),V!=null&&(dt=3*Bt+ct+131074>>2,v(V[W+0],255&dt,dt>>16,je,Pe)),We=1;We<=gt;++We){var Zt=J[ne+We]|oe[ve+We]<<16,Yn=Ee[se+We]|_e[Ne+We]<<16,Vt=ct+Zt+Bt+Yn+524296,ut=Vt+2*(Zt+Bt)>>3;dt=ut+ct>>1,ct=(Vt=Vt+2*(ct+Yn)>>3)+Zt>>1,v(k[B+2*We-1],255&dt,dt>>16,Re,Te+(2*We-1)*S),v(k[B+2*We-0],255&ct,ct>>16,Re,Te+(2*We-0)*S),V!=null&&(dt=Vt+Bt>>1,ct=ut+Yn>>1,v(V[W+2*We-1],255&dt,dt>>16,je,Pe+(2*We-1)*S),v(V[W+2*We+0],255&ct,ct>>16,je,Pe+(2*We+0)*S)),ct=Zt,Bt=Yn}1&Ke||(dt=3*ct+Bt+131074>>2,v(k[B+Ke-1],255&dt,dt>>16,Re,Te+(Ke-1)*S),V!=null&&(dt=3*Bt+ct+131074>>2,v(V[W+Ke-1],255&dt,dt>>16,je,Pe+(Ke-1)*S)))}}function Oc(){tr[Nu]=Wo,tr[ur]=jl,tr[Cu]=Ph,tr[is]=Lu,tr[qc]=fo,tr[Ll]=ra,tr[co]=po,tr[zc]=jl,tr[Tu]=Lu,tr[Ml]=fo,tr[Eu]=ra}function Al(p){return p&-16384?0>p?0:255:p>>Mu}function Ks(p,v){return Al((19077*p>>8)+(26149*v>>8)-14234)}function Ls(p,v,S){return Al((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function Po(p,v){return Al((19077*p>>8)+(33050*v>>8)-17685)}function Na(p,v,S,k,B){k[B+0]=Ks(p,S),k[B+1]=Ls(p,v,S),k[B+2]=Po(p,v)}function Ui(p,v,S,k,B){k[B+0]=Po(p,v),k[B+1]=Ls(p,v,S),k[B+2]=Ks(p,S)}function ao(p,v,S,k,B){var V=Ls(p,v,S);v=V<<3&224|Po(p,v)>>3,k[B+0]=248&Ks(p,S)|V>>5,k[B+1]=v}function oo(p,v,S,k,B){var V=240&Po(p,v)|15;k[B+0]=240&Ks(p,S)|Ls(p,v,S)>>4,k[B+1]=V}function Nl(p,v,S,k,B){k[B+0]=255,Na(p,v,S,k,B+1)}function Qs(p,v,S,k,B){Ui(p,v,S,k,B),k[B+3]=255}function br(p,v,S,k,B){Na(p,v,S,k,B),k[B+3]=255}function Ca(p,v,S){I[p]=function(k,B,V,W,J,ne,oe,ve,Ee){for(var se=ve+(-2&Ee)*S;ve!=se;)v(k[B+0],V[W+0],J[ne+0],oe,ve),v(k[B+1],V[W+0],J[ne+0],oe,ve+S),B+=2,++W,++ne,ve+=2*S;1&Ee&&v(k[B+0],V[W+0],J[ne+0],oe,ve)}}function Cl(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function Lc(p,v,S,k,B){switch(p>>>30){case 3:Ma(v,S,k,B,0);break;case 2:lr(v,S,k,B);break;case 1:gn(v,S,k,B)}}function Hr(p,v){var S,k,B=v.M,V=v.Nb,W=p.oc,J=p.pc+40,ne=p.oc,oe=p.pc+584,ve=p.oc,Ee=p.pc+600;for(S=0;16>S;++S)W[J+32*S-1]=129;for(S=0;8>S;++S)ne[oe+32*S-1]=129,ve[Ee+32*S-1]=129;for(0<B?W[J-1-32]=ne[oe-1-32]=ve[Ee-1-32]=129:(a(W,J-32-1,127,21),a(ne,oe-32-1,127,9),a(ve,Ee-32-1,127,9)),k=0;k<p.za;++k){var se=v.ya[v.aa+k];if(0<k){for(S=-1;16>S;++S)r(W,J+32*S-4,W,J+32*S+12,4);for(S=-1;8>S;++S)r(ne,oe+32*S-4,ne,oe+32*S+4,4),r(ve,Ee+32*S-4,ve,Ee+32*S+4,4)}var _e=p.Gd,Ne=p.Hd+k,Re=se.ad,Te=se.Hc;if(0<B&&(r(W,J-32,_e[Ne].y,0,16),r(ne,oe-32,_e[Ne].f,0,8),r(ve,Ee-32,_e[Ne].ea,0,8)),se.Za){var je=W,Pe=J-32+16;for(0<B&&(k>=p.za-1?a(je,Pe,_e[Ne].y[15],4):r(je,Pe,_e[Ne+1].y,0,4)),S=0;4>S;S++)je[Pe+128+S]=je[Pe+256+S]=je[Pe+384+S]=je[Pe+0+S];for(S=0;16>S;++S,Te<<=2)je=W,Pe=J+_i[S],ci[se.Ob[S]](je,Pe),Lc(Te,Re,16*+S,je,Pe)}else if(je=Cl(k,B,se.Ob[0]),xr[je](W,J),Te!=0)for(S=0;16>S;++S,Te<<=2)Lc(Te,Re,16*+S,W,J+_i[S]);for(S=se.Gc,je=Cl(k,B,se.Dd),Rs[je](ne,oe),Rs[je](ve,Ee),Te=Re,je=ne,Pe=oe,255&(se=0|S)&&(170&se?ts(Te,256,je,Pe):rn(Te,256,je,Pe)),se=ve,Te=Ee,255&(S>>=8)&&(170&S?ts(Re,320,se,Te):rn(Re,320,se,Te)),B<p.Ub-1&&(r(_e[Ne].y,0,W,J+480,16),r(_e[Ne].f,0,ne,oe+224,8),r(_e[Ne].ea,0,ve,Ee+224,8)),S=8*V*p.B,_e=p.sa,Ne=p.ta+16*k+16*V*p.R,Re=p.qa,se=p.ra+8*k+S,Te=p.Ha,je=p.Ia+8*k+S,S=0;16>S;++S)r(_e,Ne+S*p.R,W,J+32*S,16);for(S=0;8>S;++S)r(Re,se+S*p.B,ne,oe+32*S,8),r(Te,je+S*p.B,ve,Ee+32*S,8)}}function Ms(p,v,S,k,B,V,W,J,ne){var oe=[0],ve=[0],Ee=0,se=ne!=null?ne.kd:0,_e=ne??new Xe;if(p==null||12>S)return 7;_e.data=p,_e.w=v,_e.ha=S,v=[v],S=[S],_e.gb=[_e.gb];e:{var Ne=v,Re=S,Te=_e.gb;if(e(p!=null),e(Re!=null),e(Te!=null),Te[0]=0,12<=Re[0]&&!t(p,Ne[0],"RIFF")){if(t(p,Ne[0]+8,"WEBP")){Te=3;break e}var je=it(p,Ne[0]+4);if(12>je||4294967286<je){Te=3;break e}if(se&&je>Re[0]-8){Te=7;break e}Te[0]=je,Ne[0]+=12,Re[0]-=12}Te=0}if(Te!=0)return Te;for(je=0<_e.gb[0],S=S[0];;){e:{var Pe=p;Re=v,Te=S;var Ke=oe,We=ve,gt=Ne=[0];if((dt=Ee=[Ee])[0]=0,8>Te[0])Te=7;else{if(!t(Pe,Re[0],"VP8X")){if(it(Pe,Re[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var ct=it(Pe,Re[0]+8),Bt=1+Je(Pe,Re[0]+12);if(2147483648<=Bt*(Pe=1+Je(Pe,Re[0]+15))){Te=3;break e}gt!=null&&(gt[0]=ct),Ke!=null&&(Ke[0]=Bt),We!=null&&(We[0]=Pe),Re[0]+=18,Te[0]-=18,dt[0]=1}Te=0}}if(Ee=Ee[0],Ne=Ne[0],Te!=0)return Te;if(Re=!!(2&Ne),!je&&Ee)return 3;if(V!=null&&(V[0]=!!(16&Ne)),W!=null&&(W[0]=Re),J!=null&&(J[0]=0),W=oe[0],Ne=ve[0],Ee&&Re&&ne==null){Te=0;break}if(4>S){Te=7;break}if(je&&Ee||!je&&!Ee&&!t(p,v[0],"ALPH")){S=[S],_e.na=[_e.na],_e.P=[_e.P],_e.Sa=[_e.Sa];e:{ct=p,Te=v,je=S;var dt=_e.gb;Ke=_e.na,We=_e.P,gt=_e.Sa,Bt=22,e(ct!=null),e(je!=null),Pe=Te[0];var Zt=je[0];for(e(Ke!=null),e(gt!=null),Ke[0]=null,We[0]=null,gt[0]=0;;){if(Te[0]=Pe,je[0]=Zt,8>Zt){Te=7;break e}var Yn=it(ct,Pe+4);if(4294967286<Yn){Te=3;break e}var Vt=8+Yn+1&-2;if(Bt+=Vt,0<dt&&Bt>dt){Te=3;break e}if(!t(ct,Pe,"VP8 ")||!t(ct,Pe,"VP8L")){Te=0;break e}if(Zt[0]<Vt){Te=7;break e}t(ct,Pe,"ALPH")||(Ke[0]=ct,We[0]=Pe+8,gt[0]=Yn),Pe+=Vt,Zt-=Vt}}if(S=S[0],_e.na=_e.na[0],_e.P=_e.P[0],_e.Sa=_e.Sa[0],Te!=0)break}S=[S],_e.Ja=[_e.Ja],_e.xa=[_e.xa];e:if(dt=p,Te=v,je=S,Ke=_e.gb[0],We=_e.Ja,gt=_e.xa,ct=Te[0],Pe=!t(dt,ct,"VP8 "),Bt=!t(dt,ct,"VP8L"),e(dt!=null),e(je!=null),e(We!=null),e(gt!=null),8>je[0])Te=7;else{if(Pe||Bt){if(dt=it(dt,ct+4),12<=Ke&&dt>Ke-12){Te=3;break e}if(se&&dt>je[0]-8){Te=7;break e}We[0]=dt,Te[0]+=8,je[0]-=8,gt[0]=Bt}else gt[0]=5<=je[0]&&dt[ct+0]==47&&!(dt[ct+4]>>5),We[0]=je[0];Te=0}if(S=S[0],_e.Ja=_e.Ja[0],_e.xa=_e.xa[0],v=v[0],Te!=0)break;if(4294967286<_e.Ja)return 3;if(J==null||Re||(J[0]=_e.xa?2:1),W=[W],Ne=[Ne],_e.xa){if(5>S){Te=7;break}J=W,se=Ne,Re=V,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(je=[0],dt=[0],Ke=[0],de(We=new z,p,v,S),mi(We,je,dt,Ke)?(J!=null&&(J[0]=je[0]),se!=null&&(se[0]=dt[0]),Re!=null&&(Re[0]=Ke[0]),p=1):p=0):p=0}else{if(10>S){Te=7;break}J=Ne,p==null||10>S||!_c(p,v+3,S-3)?p=0:(se=p[v+0]|p[v+1]<<8|p[v+2]<<16,Re=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&se||3<(se>>1&7)||!(se>>4&1)||se>>5>=_e.Ja||!Re||!p?p=0:(W&&(W[0]=Re),J&&(J[0]=p),p=1))}if(!p||(W=W[0],Ne=Ne[0],Ee&&(oe[0]!=W||ve[0]!=Ne)))return 3;ne!=null&&(ne[0]=_e,ne.offset=v-ne.w,e(4294967286>v-ne.w),e(ne.offset==ne.ha-S));break}return Te==0||Te==7&&Ee&&ne==null?(V!=null&&(V[0]|=_e.na!=null&&0<_e.na.length),k!=null&&(k[0]=W),B!=null&&(B[0]=Ne),0):Te}function Ta(p,v,S){var k=v.width,B=v.height,V=0,W=0,J=k,ne=B;if(v.Da=p!=null&&0<p.Da,v.Da&&(J=p.cd,ne=p.bd,V=p.v,W=p.j,11>S||(V&=-2,W&=-2),0>V||0>W||0>=J||0>=ne||V+J>k||W+ne>B))return 0;if(v.v=V,v.j=W,v.va=V+J,v.o=W+ne,v.U=J,v.T=ne,v.da=p!=null&&0<p.da,v.da){if(!$e(J,ne,S=[p.ib],V=[p.hb]))return 0;v.ib=S[0],v.hb=V[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*k/4&&v.hb<3*B/4,v.Kb=0),1}function Mc(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function Ds(p,v,S,k){if(k==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var B=S.cd,V=S.bd,W=-2&S.v,J=-2&S.j;if(0>W||0>J||0>=B||0>=V||W+B>p||J+V>v)return 2;p=B,v=V}if(S.da){if(!$e(p,v,B=[S.ib],V=[S.hb]))return 2;p=B[0],v=V[0]}}k.width=p,k.height=v;e:{var ne=k.width,oe=k.height;if(p=k.S,0>=ne||0>=oe||!(p>=Nu&&13>p))p=2;else{if(0>=k.Rd&&k.sd==null){W=V=B=v=0;var ve=(J=ne*ju[p])*oe;if(11>p||(V=(oe+1)/2*(v=(ne+1)/2),p==12&&(W=(B=ne)*oe)),(oe=o(ve+2*V+W))==null){p=1;break e}k.sd=oe,11>p?((ne=k.f.RGBA).eb=oe,ne.fb=0,ne.A=J,ne.size=ve):((ne=k.f.kb).y=oe,ne.O=0,ne.fa=J,ne.Fd=ve,ne.f=oe,ne.N=0+ve,ne.Ab=v,ne.Cd=V,ne.ea=oe,ne.W=0+ve+V,ne.Db=v,ne.Ed=V,p==12&&(ne.F=oe,ne.J=0+ve+2*V),ne.Tc=W,ne.lb=B)}if(v=1,B=k.S,V=k.width,W=k.height,B>=Nu&&13>B)if(11>B)p=k.f.RGBA,v&=(J=Math.abs(p.A))*(W-1)+V<=p.size,v&=J>=V*ju[B],v&=p.eb!=null;else{p=k.f.kb,J=(V+1)/2,ve=(W+1)/2,ne=Math.abs(p.fa),oe=Math.abs(p.Ab);var Ee=Math.abs(p.Db),se=Math.abs(p.lb),_e=se*(W-1)+V;v&=ne*(W-1)+V<=p.Fd,v&=oe*(ve-1)+J<=p.Cd,v=(v&=Ee*(ve-1)+J<=p.Ed)&ne>=V&oe>=J&Ee>=J,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,B==12&&(v&=se>=V,v&=_e<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=Mc(k)),p}var lo=64,Or=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],_r=24,Js=32,$s=8,Ea=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(p){return p},I.Predictor2=function(p,v,S){return v[S+0]},I.Predictor3=function(p,v,S){return v[S+1]},I.Predictor4=function(p,v,S){return v[S-1]},I.Predictor5=function(p,v,S){return nt(nt(p,v[S+1]),v[S+0])},I.Predictor6=function(p,v,S){return nt(p,v[S-1])},I.Predictor7=function(p,v,S){return nt(p,v[S+0])},I.Predictor8=function(p,v,S){return nt(v[S-1],v[S+0])},I.Predictor9=function(p,v,S){return nt(v[S+0],v[S+1])},I.Predictor10=function(p,v,S){return nt(nt(p,v[S-1]),nt(v[S+0],v[S+1]))},I.Predictor11=function(p,v,S){var k=v[S+0];return 0>=Ge(k>>24&255,p>>24&255,(v=v[S-1])>>24&255)+Ge(k>>16&255,p>>16&255,v>>16&255)+Ge(k>>8&255,p>>8&255,v>>8&255)+Ge(255&k,255&p,255&v)?k:p},I.Predictor12=function(p,v,S){var k=v[S+0];return(Ie((p>>24&255)+(k>>24&255)-((v=v[S-1])>>24&255))<<24|Ie((p>>16&255)+(k>>16&255)-(v>>16&255))<<16|Ie((p>>8&255)+(k>>8&255)-(v>>8&255))<<8|Ie((255&p)+(255&k)-(255&v)))>>>0},I.Predictor13=function(p,v,S){var k=v[S-1];return(ze((p=nt(p,v[S+0]))>>24&255,k>>24&255)<<24|ze(p>>16&255,k>>16&255)<<16|ze(p>>8&255,k>>8&255)<<8|ze(255&p,255&k))>>>0};var Tl=I.PredictorAdd0;I.PredictorAdd1=rt,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var El=I.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var yi,wu=I.ColorIndexInverseTransform,ea=I.MapARGB,ta=I.VP8LColorIndexInverseTransformAlpha,Ji=I.MapAlpha,ka=I.VP8LPredictorsAdd=[];ka.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var kl,Ol,Oa,La,na,Uo,Gr,Ma,lr,ts,gn,rn,Bn,bi,ia,js,Vo,Dc,Ih,cd,ud,hd,Bh,qh,Ho,ns,jc,Yr,Go=o(511),Su=o(2041),Rc=o(225),Ic=o(767),Au=0,Da=Su,Bc=Rc,cr=Ic,$i=Go,Nu=0,ur=1,Cu=2,is=3,qc=4,Ll=5,co=6,zc=7,Tu=8,Ml=9,Eu=10,rs=[2,3,7],Dl=[3,3,11],Yo=[280,256,256,256,40],ku=[0,1,1,1,0],Fc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ss=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],as=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],uo=8,os=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ls=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wr=null,fd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ou=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],dd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],er=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Gn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Kt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xr=[],ci=[],Rs=[],ho=1,Fh=2,ja=[],tr=[];Aa("UpsampleRgbLinePair",Na,3),Aa("UpsampleBgrLinePair",Ui,3),Aa("UpsampleRgbaLinePair",br,4),Aa("UpsampleBgraLinePair",Qs,4),Aa("UpsampleArgbLinePair",Nl,4),Aa("UpsampleRgba4444LinePair",oo,2),Aa("UpsampleRgb565LinePair",ao,2);var Wo=I.UpsampleRgbLinePair,Ph=I.UpsampleBgrLinePair,jl=I.UpsampleRgbaLinePair,Lu=I.UpsampleBgraLinePair,fo=I.UpsampleArgbLinePair,ra=I.UpsampleRgba4444LinePair,po=I.UpsampleRgb565LinePair,cs=16,Rl=1<<cs-1,Xo=-227,mo=482,Mu=6,go=0,nr=o(256),Du=o(256),pd=o(256),k1=o(256),O1=o(mo-Xo),L1=o(mo-Xo);Ca("YuvToRgbRow",Na,3),Ca("YuvToBgrRow",Ui,3),Ca("YuvToRgbaRow",br,4),Ca("YuvToBgraRow",Qs,4),Ca("YuvToArgbRow",Nl,4),Ca("YuvToRgba4444Row",oo,2),Ca("YuvToRgb565Row",ao,2);var _i=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Il=[0,2,8],Pc=[8,7,6,4,4,2,2,2,1,1,1,1],Uc=1;this.WebPDecodeRGBA=function(p,v,S,k,B){var V=ur,W=new Fe,J=new yt;W.ba=J,J.S=V,J.width=[J.width],J.height=[J.height];var ne=J.width,oe=J.height,ve=new lt;if(ve==null||p==null)var Ee=2;else e(ve!=null),Ee=Ms(p,v,S,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Ee!=0?ne=0:(ne!=null&&(ne[0]=ve.width[0]),oe!=null&&(oe[0]=ve.height[0]),ne=1),ne){J.width=J.width[0],J.height=J.height[0],k!=null&&(k[0]=J.width),B!=null&&(B[0]=J.height);e:{if(k=new ma,(B=new Xe).data=p,B.w=v,B.ha=S,B.kd=1,v=[0],e(B!=null),((p=Ms(B.data,B.w,B.ha,null,null,null,v,null,B))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(W!=null),k.data=B.data,k.w=B.w+B.offset,k.ha=B.ha-B.offset,k.put=ft,k.ac=Dn,k.bc=_n,k.ma=W,B.xa){if((p=Do())==null){W=1;break e}if((function(se,_e){var Ne=[0],Re=[0],Te=[0];t:for(;;){if(se==null)return 0;if(_e==null)return se.a=2,0;if(se.l=_e,se.a=0,de(se.m,_e.data,_e.w,_e.ha),!mi(se.m,Ne,Re,Te)){se.a=3;break t}if(se.xb=Fh,_e.width=Ne[0],_e.height=Re[0],!ws(Ne[0],Re[0],1,se,null))break t;return 1}return e(se.a!=0),0})(p,k)){if(k=(v=Ds(k.width,k.height,W.Oa,W.ba))==0){t:{k=p;n:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((S=k.l)!=null),e((B=S.ma)!=null),k.xb!=0){if(k.ca=B.ba,k.tb=B.tb,e(k.ca!=null),!Ta(B.Oa,S,is)){k.a=2;break n}if(!Ss(k,S.width)||S.da)break n;if((S.da||Nt(k.ca.S))&&Os(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&Os()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!H(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!zr(k,k.V,k.Ba,k.c,k.i,S.o,Mi))break n;B.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(v=p.a)}else v=p.a}else{if((p=new Ts)==null){W=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,Ws(p,k)){if((v=Ds(k.width,k.height,W.Oa,W.ba))==0){if(p.Aa=0,S=W.Oa,e((B=p)!=null),S!=null){if(0<(ne=0>(ne=S.Md)?0:100<ne?255:255*ne/100)){for(oe=ve=0;4>oe;++oe)12>(Ee=B.pb[oe]).lc&&(Ee.ia=ne*Pc[0>Ee.lc?0:Ee.lc]>>3),ve|=Ee.ia;ve&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=S.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(se,_e){if(se==null)return 0;if(_e==null)return mn(se,2,"NULL VP8Io parameter in VP8Decode().");if(!se.cb&&!Ws(se,_e))return 0;if(e(se.cb),_e.ac==null||_e.ac(_e)){_e.ob&&(se.L=0);var Ne=Il[se.L];if(se.L==2?(se.yb=0,se.zb=0):(se.yb=_e.v-Ne>>4,se.zb=_e.j-Ne>>4,0>se.yb&&(se.yb=0),0>se.zb&&(se.zb=0)),se.Va=_e.o+15+Ne>>4,se.Hb=_e.va+15+Ne>>4,se.Hb>se.za&&(se.Hb=se.za),se.Va>se.Ub&&(se.Va=se.Ub),0<se.L){var Re=se.ed;for(Ne=0;4>Ne;++Ne){var Te;if(se.Qa.Cb){var je=se.Qa.Lb[Ne];se.Qa.Fb||(je+=Re.Tb)}else je=Re.Tb;for(Te=0;1>=Te;++Te){var Pe=se.gd[Ne][Te],Ke=je;if(Re.Pc&&(Ke+=Re.vd[0],Te&&(Ke+=Re.od[0])),0<(Ke=0>Ke?0:63<Ke?63:Ke)){var We=Ke;0<Re.wb&&(We=4<Re.wb?We>>2:We>>1)>9-Re.wb&&(We=9-Re.wb),1>We&&(We=1),Pe.dd=We,Pe.tc=2*Ke+We,Pe.ld=40<=Ke?2:15<=Ke?1:0}else Pe.tc=0;Pe.La=Te}}}Ne=0}else mn(se,6,"Frame setup failed"),Ne=se.a;if(Ne=Ne==0){if(Ne){se.$c=0,0<se.Aa||(se.Ic=Uc);t:{Ne=se.Ic,Re=4*(We=se.za);var gt=32*We,ct=We+1,Bt=0<se.L?We*(0<se.Aa?2:1):0,dt=(se.Aa==2?2:1)*We;if((Pe=Re+832+(Te=3*(16*Ne+Il[se.L])/2*gt)+(je=se.Fa!=null&&0<se.Fa.length?se.Kc.c*se.Kc.i:0))!=Pe)Ne=0;else{if(Pe>se.Vb){if(se.Vb=0,se.Ec=o(Pe),se.Fc=0,se.Ec==null){Ne=mn(se,1,"no memory during frame initialization.");break t}se.Vb=Pe}Pe=se.Ec,Ke=se.Fc,se.Ac=Pe,se.Bc=Ke,Ke+=Re,se.Gd=h(gt,bc),se.Hd=0,se.rb=h(ct+1,Cs),se.sb=1,se.wa=Bt?h(Bt,Fr):null,se.Y=0,se.D.Nb=0,se.D.wa=se.wa,se.D.Y=se.Y,0<se.Aa&&(se.D.Y+=We),e(!0),se.oc=Pe,se.pc=Ke,Ke+=832,se.ya=h(dt,vc),se.aa=0,se.D.ya=se.ya,se.D.aa=se.aa,se.Aa==2&&(se.D.aa+=We),se.R=16*We,se.B=8*We,We=(gt=Il[se.L])*se.R,gt=gt/2*se.B,se.sa=Pe,se.ta=Ke+We,se.qa=se.sa,se.ra=se.ta+16*Ne*se.R+gt,se.Ha=se.qa,se.Ia=se.ra+8*Ne*se.B+gt,se.$c=0,Ke+=Te,se.mb=je?Pe:null,se.nb=je?Ke:null,e(Ke+je<=se.Fc+se.Vb),xc(se),a(se.Ac,se.Bc,0,Re),Ne=1}}if(Ne){if(_e.ka=0,_e.y=se.sa,_e.O=se.ta,_e.f=se.qa,_e.N=se.ra,_e.ea=se.Ha,_e.Vd=se.Ia,_e.fa=se.R,_e.Rc=se.B,_e.F=null,_e.J=0,!Au){for(Ne=-255;255>=Ne;++Ne)Go[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)Su[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)Rc[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)Ic[255+Ne]=0>Ne?0:255<Ne?255:Ne;Au=1}Gr=Es,Ma=wc,ts=yr,gn=Sc,rn=Ac,lr=du,Bn=_u,bi=wa,ia=R,js=le,Vo=xu,Dc=x,Ih=me,cd=we,ud=ya,hd=ba,Bh=Fo,qh=kc,ci[0]=yu,ci[1]=pu,ci[2]=vu,ci[3]=Tc,ci[4]=Ur,ci[5]=Ec,ci[6]=Ki,ci[7]=Bo,ci[8]=qo,ci[9]=Vr,xr[0]=ks,xr[1]=Nc,xr[2]=Cc,xr[3]=gu,xr[4]=ga,xr[5]=Io,xr[6]=so,Rs[0]=xl,Rs[1]=mu,Rs[2]=Xs,Rs[3]=bu,Rs[4]=Pi,Rs[5]=wl,Rs[6]=Zs,Ne=1}else Ne=0}Ne&&(Ne=(function(Zt,Yn){for(Zt.M=0;Zt.M<Zt.Va;++Zt.M){var Vt,ut=Zt.Jc[Zt.M&Zt.Xb],tt=Zt.m,ti=Zt;for(Vt=0;Vt<ti.za;++Vt){var Mt=tt,Yt=ti,xn=Yt.Ac,Ri=Yt.Bc+4*Vt,ir=Yt.zc,qn=Yt.ya[Yt.aa+Vt];if(Yt.Qa.Bb?qn.$b=Ce(Mt,Yt.Pa.jb[0])?2+Ce(Mt,Yt.Pa.jb[2]):Ce(Mt,Yt.Pa.jb[1]):qn.$b=0,Yt.kc&&(qn.Ad=Ce(Mt,Yt.Bd)),qn.Za=!Ce(Mt,145)+0,qn.Za){var Ai=qn.Ob,hr=0;for(Yt=0;4>Yt;++Yt){var Ni,Xt=ir[0+Yt];for(Ni=0;4>Ni;++Ni){Xt=er[xn[Ri+Ni]][Xt];for(var hn=Ou[Ce(Mt,Xt[0])];0<hn;)hn=Ou[2*hn+Ce(Mt,Xt[hn])];Xt=-hn,xn[Ri+Ni]=Xt}r(Ai,hr,xn,Ri,4),hr+=4,ir[0+Yt]=Xt}}else Xt=Ce(Mt,156)?Ce(Mt,128)?1:3:Ce(Mt,163)?2:0,qn.Ob[0]=Xt,a(xn,Ri,Xt,4),a(ir,0,Xt,4);qn.Dd=Ce(Mt,142)?Ce(Mt,114)?Ce(Mt,183)?1:3:2:0}if(ti.m.Ka)return mn(Zt,7,"Premature end-of-partition0 encountered.");for(;Zt.ja<Zt.za;++Zt.ja){if(ti=ut,Mt=(tt=Zt).rb[tt.sb-1],xn=tt.rb[tt.sb+tt.ja],Vt=tt.ya[tt.aa+tt.ja],Ri=tt.kc?Vt.Ad:0)Mt.la=xn.la=0,Vt.Za||(Mt.Na=xn.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var ni,vn;if(Mt=xn,xn=ti,Ri=tt.Pa.Xc,ir=tt.ya[tt.aa+tt.ja],qn=tt.pb[ir.$b],Yt=ir.ad,Ai=0,hr=tt.rb[tt.sb-1],Xt=Ni=0,a(Yt,Ai,0,384),ir.Za)var Ii=0,ii=Ri[3];else{hn=o(16);var fn=Mt.Na+hr.Na;if(fn=Wr(xn,Ri[1],fn,qn.Eb,0,hn,0),Mt.Na=hr.Na=(0<fn)+0,1<fn)Gr(hn,0,Yt,Ai);else{var xi=hn[0]+3>>3;for(hn=0;256>hn;hn+=16)Yt[Ai+hn]=xi}Ii=1,ii=Ri[0]}var wn=15&Mt.la,Ci=15&hr.la;for(hn=0;4>hn;++hn){var Ti=1&Ci;for(xi=vn=0;4>xi;++xi)wn=wn>>1|(Ti=(fn=Wr(xn,ii,fn=Ti+(1&wn),qn.Sc,Ii,Yt,Ai))>Ii)<<7,vn=vn<<2|(3<fn?3:1<fn?2:Yt[Ai+0]!=0),Ai+=16;wn>>=4,Ci=Ci>>1|Ti<<7,Ni=(Ni<<8|vn)>>>0}for(ii=wn,Ii=Ci>>4,ni=0;4>ni;ni+=2){for(vn=0,wn=Mt.la>>4+ni,Ci=hr.la>>4+ni,hn=0;2>hn;++hn){for(Ti=1&Ci,xi=0;2>xi;++xi)fn=Ti+(1&wn),wn=wn>>1|(Ti=0<(fn=Wr(xn,Ri[2],fn,qn.Qc,0,Yt,Ai)))<<3,vn=vn<<2|(3<fn?3:1<fn?2:Yt[Ai+0]!=0),Ai+=16;wn>>=2,Ci=Ci>>1|Ti<<5}Xt|=vn<<4*ni,ii|=wn<<4<<ni,Ii|=(240&Ci)<<ni}Mt.la=ii,hr.la=Ii,ir.Hc=Ni,ir.Gc=Xt,ir.ia=43690&Xt?0:qn.ia,Ri=!(Ni|Xt)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[Vt.$b][Vt.Za],tt.wa[tt.Y+tt.ja].La|=!Ri),ti.Ka)return mn(Zt,7,"Premature end-of-file encountered.")}if(xc(Zt),tt=Yn,ti=1,Vt=(ut=Zt).D,Mt=0<ut.L&&ut.M>=ut.zb&&ut.M<=ut.Va,ut.Aa==0)t:{if(Vt.M=ut.M,Vt.uc=Mt,Hr(ut,Vt),ti=1,Vt=(vn=ut.D).Nb,Mt=(Xt=Il[ut.L])*ut.R,xn=Xt/2*ut.B,hn=16*Vt*ut.R,xi=8*Vt*ut.B,Ri=ut.sa,ir=ut.ta-Mt+hn,qn=ut.qa,Yt=ut.ra-xn+xi,Ai=ut.Ha,hr=ut.Ia-xn+xi,Ci=(wn=vn.M)==0,Ni=wn>=ut.Va-1,ut.Aa==2&&Hr(ut,vn),vn.uc)for(Ti=(fn=ut).D.M,e(fn.D.uc),vn=fn.yb;vn<fn.Hb;++vn){Ii=vn,ii=Ti;var En=(sn=(Ei=fn).D).Nb;ni=Ei.R;var sn=sn.wa[sn.Y+Ii],fr=Ei.sa,ui=Ei.ta+16*En*ni+16*Ii,Ct=sn.dd,Tt=sn.tc;if(Tt!=0)if(e(3<=Tt),Ei.L==1)0<Ii&&hd(fr,ui,ni,Tt+4),sn.La&&qh(fr,ui,ni,Tt),0<ii&&ud(fr,ui,ni,Tt+4),sn.La&&Bh(fr,ui,ni,Tt);else{var dn=Ei.B,Lr=Ei.qa,us=Ei.ra+8*En*dn+8*Ii,wr=Ei.Ha,Ei=Ei.Ia+8*En*dn+8*Ii;En=sn.ld,0<Ii&&(bi(fr,ui,ni,Tt+4,Ct,En),js(Lr,us,wr,Ei,dn,Tt+4,Ct,En)),sn.La&&(Dc(fr,ui,ni,Tt,Ct,En),cd(Lr,us,wr,Ei,dn,Tt,Ct,En)),0<ii&&(Bn(fr,ui,ni,Tt+4,Ct,En),ia(Lr,us,wr,Ei,dn,Tt+4,Ct,En)),sn.La&&(Vo(fr,ui,ni,Tt,Ct,En),Ih(Lr,us,wr,Ei,dn,Tt,Ct,En))}}if(ut.ia&&alert("todo:DitherRow"),tt.put!=null){if(vn=16*wn,wn=16*(wn+1),Ci?(tt.y=ut.sa,tt.O=ut.ta+hn,tt.f=ut.qa,tt.N=ut.ra+xi,tt.ea=ut.Ha,tt.W=ut.Ia+xi):(vn-=Xt,tt.y=Ri,tt.O=ir,tt.f=qn,tt.N=Yt,tt.ea=Ai,tt.W=hr),Ni||(wn-=Xt),wn>tt.o&&(wn=tt.o),tt.F=null,tt.J=null,ut.Fa!=null&&0<ut.Fa.length&&vn<wn&&(tt.J=In(ut,tt,vn,wn-vn),tt.F=ut.mb,tt.F==null&&tt.F.length==0)){ti=mn(ut,3,"Could not decode alpha data.");break t}vn<tt.j&&(Xt=tt.j-vn,vn=tt.j,e(!(1&Xt)),tt.O+=ut.R*Xt,tt.N+=ut.B*(Xt>>1),tt.W+=ut.B*(Xt>>1),tt.F!=null&&(tt.J+=tt.width*Xt)),vn<wn&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=vn-tt.j,tt.U=tt.va-tt.v,tt.T=wn-vn,ti=tt.put(tt))}Vt+1!=ut.Ic||Ni||(r(ut.sa,ut.ta-Mt,Ri,ir+16*ut.R,Mt),r(ut.qa,ut.ra-xn,qn,Yt+8*ut.B,xn),r(ut.Ha,ut.Ia-xn,Ai,hr+8*ut.B,xn))}if(!ti)return mn(Zt,6,"Output aborted.")}return 1})(se,_e)),_e.bc!=null&&_e.bc(_e),Ne&=1}return Ne?(se.cb=0,Ne):0})(p,k)||(v=p.a)}}else v=p.a}v==0&&W.Oa!=null&&W.Oa.fd&&(v=Mc(W.ba))}W=v}V=W!=0?null:11>V?J.f.RGBA.eb:J.f.kb.y}else V=null;return V};var ju=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(I,Z){for(var L="",j=0;j<4;j++)L+=String.fromCharCode(I[Z++]);return L}function m(I,Z){return I[Z+0]|I[Z+1]<<8}function b(I,Z){return(I[Z+0]|I[Z+1]<<8|I[Z+2]<<16)>>>0}function w(I,Z){return(I[Z+0]|I[Z+1]<<8|I[Z+2]<<16|I[Z+3]<<24)>>>0}new f;var y=[0],N=[0],A=[],E=new f,T=i,U=(function(I,Z){var L={},j=0,$=!1,ee=0,ue=0;if(L.frames=[],!(function(C,z){for(var X=0;X<4;X++)if(C[z+X]!="RIFF".charCodeAt(X))return!0;return!1})(I,Z)){for(w(I,Z+=4),Z+=8;Z<I.length;){var Q=d(I,Z),re=w(I,Z+=4);Z+=4;var ce=re+(1&re);switch(Q){case"VP8 ":case"VP8L":L.frames[j]===void 0&&(L.frames[j]={}),(Y=L.frames[j]).src_off=$?ue:Z-8,Y.src_size=ee+re+8,j++,$&&($=!1,ee=0,ue=0);break;case"VP8X":(Y=L.header={}).feature_flags=I[Z];var de=Z+4;Y.canvas_width=1+b(I,de),de+=3,Y.canvas_height=1+b(I,de),de+=3;break;case"ALPH":$=!0,ee=ce+8,ue=Z-8;break;case"ANIM":(Y=L.header).bgcolor=w(I,Z),de=Z+4,Y.loop_count=m(I,de),de+=2;break;case"ANMF":var Ae,Y;(Y=L.frames[j]={}).offset_x=2*b(I,Z),Z+=3,Y.offset_y=2*b(I,Z),Z+=3,Y.width=1+b(I,Z),Z+=3,Y.height=1+b(I,Z),Z+=3,Y.duration=b(I,Z),Z+=3,Ae=I[Z++],Y.dispose=1&Ae,Y.blend=Ae>>1&1}Q!="ANMF"&&(Z+=ce)}return L}})(T,0);U.response=T,U.rgbaoutput=!0,U.dataurl=!1;var P=U.header?U.header:null,F=U.frames?U.frames:null;if(P){P.loop_counter=P.loop_count,y=[P.canvas_height],N=[P.canvas_width];for(var q=0;q<F.length&&F[q].blend!=0;q++);}var te=F[0],G=E.WebPDecodeRGBA(T,te.src_off,te.src_size,N,y);te.rgba=G,te.imgwidth=N[0],te.imgheight=y[0];for(var D=0;D<N[0]*y[0]*4;D++)A[D]=G[D];return this.width=N,this.height=y,this.data=A,this}(function(i){var e,t,r,a,o,h,c,f,d,m=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new f,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new h,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new h,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,h=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new m}]);var b=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=C;Object.defineProperty(this,"pdf",{get:function(){return z}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(H){X=!!H}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(H){ie=!!H}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(H){isNaN(H)||(ae=H)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(H){isNaN(H)||(fe=H)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(H){var Me;typeof H=="number"?Me=[H,H,H,H]:((Me=new Array(4))[0]=H[0],Me[1]=H.length>=2?H[1]:Me[0],Me[2]=H.length>=3?H[2]:Me[0],Me[3]=H.length>=4?H[3]:Me[1]),d.margin=Me}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(H){pe=H}});var xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return xe},set:function(H){xe=H}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(H){Ce=H}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(H){H instanceof m&&(d=H)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(H){d.path=H}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(H){He=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var Me;Me=w(H),this.ctx.fillStyle=Me.style,this.ctx.isFillTransparent=Me.a===0,this.ctx.fillOpacity=Me.a,this.pdf.setFillColor(Me.r,Me.g,Me.b,{a:Me.a}),this.pdf.setTextColor(Me.r,Me.g,Me.b,{a:Me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var Me=w(H);this.ctx.strokeStyle=Me.style,this.ctx.isStrokeTransparent=Me.a===0,this.ctx.strokeOpacity=Me.a,Me.a===0?this.pdf.setDrawColor(255,255,255):(Me.a,this.pdf.setDrawColor(Me.r,Me.g,Me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var Ze=null,Je=null,it=null;Object.defineProperty(this,"fontFaces",{get:function(){return it},set:function(H){Ze=null,Je=null,it=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var Me;if(this.ctx.font=H,(Me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var st=Me[1];Me[2];var $e=Me[3],ge=Me[4];Me[5];var qe=Me[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ge)[2];ge=Math.floor(Ye==="px"?parseFloat(ge)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(ge)*this.pdf.getFontSize():parseFloat(ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ge);var et=(function(ot){var Nn,Ft,wt=[],At=ot.trim();if(At==="")return v0;if(At in db)return[db[At]];for(;At!=="";){switch(Ft=null,Nn=(At=mb(At)).charAt(0)){case'"':case"'":Ft=LO(At.substring(1),Nn);break;default:Ft=MO(At)}if(Ft===null||(wt.push(Ft[0]),(At=mb(Ft[1]))!==""&&At.charAt(0)!==","))return v0;At=At.replace(/^,/,"")}return wt})(qe);if(this.fontFaces){var nt=(function(ot,Nn){var Ft=ot.getFontList(),wt=JSON.stringify(Ft);if(Ze===null||Je!==wt){var At=(function(Pt){var bt=[];return Object.keys(Pt).forEach(function(on){Pt[on].forEach(function(Nt){var kt=null;switch(Nt){case"bold":kt={family:on,weight:"bold"};break;case"italic":kt={family:on,style:"italic"};break;case"bolditalic":kt={family:on,weight:"bold",style:"italic"};break;case"":case"normal":kt={family:on}}kt!==null&&(kt.ref={name:on,style:Nt},bt.push(kt))})}),bt})(Ft);Ze=(function(Pt){for(var bt={},on=0;on<Pt.length;++on){var Nt=g0(Pt[on]),kt=Nt.family,ln=Nt.stretch,yt=Nt.style,lt=Nt.weight;bt[kt]=bt[kt]||{},bt[kt][ln]=bt[kt][ln]||{},bt[kt][ln][yt]=bt[kt][ln][yt]||{},bt[kt][ln][yt][lt]=Nt}return bt})(At.concat(Nn)),Je=wt}return Ze})(this.pdf,this.fontFaces),Ie=et.map(function(ot){return{family:ot,stretch:"normal",weight:$e,style:st}}),ze=(function(ot,Nn,Ft){for(var wt=(Ft=Ft||{}).defaultFontFamily||"times",At=Object.assign({},OO,Ft.genericFontFamilies||{}),Pt=null,bt=null,on=0;on<Nn.length;++on)if(At[(Pt=g0(Nn[on])).family]&&(Pt.family=At[Pt.family]),ot.hasOwnProperty(Pt.family)){bt=ot[Pt.family];break}if(!(bt=bt||ot[wt]))throw new Error("Could not find a font-family for the rule '"+pb(Pt)+"' and default family '"+wt+"'.");if(bt=(function(Nt,kt){if(kt[Nt])return kt[Nt];var ln=W0[Nt],yt=ln<=W0.normal?-1:1,lt=fb(kt,dw,ln,yt);if(!lt)throw new Error("Could not find a matching font-stretch value for "+Nt);return lt})(Pt.stretch,bt),bt=(function(Nt,kt){if(kt[Nt])return kt[Nt];for(var ln=fw[Nt],yt=0;yt<ln.length;++yt)if(kt[ln[yt]])return kt[ln[yt]];throw new Error("Could not find a matching font-style for "+Nt)})(Pt.style,bt),!(bt=(function(Nt,kt){if(kt[Nt])return kt[Nt];if(Nt===400&&kt[500])return kt[500];if(Nt===500&&kt[400])return kt[400];var ln=kO[Nt],yt=fb(kt,pw,ln,Nt<400?-1:1);if(!yt)throw new Error("Could not find a matching font-weight for value "+Nt);return yt})(Pt.weight,bt)))throw new Error("Failed to resolve a font for the rule '"+pb(Pt)+"'.");return bt})(nt,Ie);this.pdf.setFont(ze.ref.name,ze.ref.style)}else{var Ge="";($e==="bold"||parseInt($e,10)>=700||st==="bold")&&(Ge="bold"),st==="italic"&&(Ge+="italic"),Ge.length===0&&(Ge="normal");for(var rt="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<et.length;Qe++){if(this.pdf.internal.getFont(et[Qe],Ge,{noFallback:!0,disableWarning:!0})!==void 0){rt=et[Qe];break}if(Ge==="bolditalic"&&this.pdf.internal.getFont(et[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)rt=et[Qe],Ge="bold";else if(this.pdf.internal.getFont(et[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){rt=et[Qe],Ge="normal";break}}if(rt===""){for(var ht=0;ht<et.length;ht++)if(at[et[ht]]){rt=at[et[ht]];break}}rt=rt===""?"Times":rt,this.pdf.setFont(rt,Ge)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};b.prototype.setLineDash=function(C){this.lineDash=C},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){F.call(this,"fill",!1)},b.prototype.stroke=function(){F.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(C,z){if(isNaN(C)||isNaN(z))throw Xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new h(C,z));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new h(C,z)},b.prototype.closePath=function(){var C=new h(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&Ln(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){C=new h(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(C.x,C.y)},b.prototype.lineTo=function(C,z){if(isNaN(C)||isNaN(z))throw Xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new h(C,z));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new h(X.x,X.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},b.prototype.quadraticCurveTo=function(C,z,X,ie){if(isNaN(X)||isNaN(ie)||isNaN(C)||isNaN(z))throw Xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new h(X,ie)),fe=this.ctx.transform.applyToPoint(new h(C,z));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new h(ae.x,ae.y)},b.prototype.bezierCurveTo=function(C,z,X,ie,ae,fe){if(isNaN(ae)||isNaN(fe)||isNaN(C)||isNaN(z)||isNaN(X)||isNaN(ie))throw Xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new h(ae,fe)),xe=this.ctx.transform.applyToPoint(new h(C,z)),Ce=this.ctx.transform.applyToPoint(new h(X,ie));this.path.push({type:"bct",x1:xe.x,y1:xe.y,x2:Ce.x,y2:Ce.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new h(pe.x,pe.y)},b.prototype.arc=function(C,z,X,ie,ae,fe){if(isNaN(C)||isNaN(z)||isNaN(X)||isNaN(ie)||isNaN(ae))throw Xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new h(C,z));C=pe.x,z=pe.y;var xe=this.ctx.transform.applyToPoint(new h(0,X)),Ce=this.ctx.transform.applyToPoint(new h(0,0));X=Math.sqrt(Math.pow(xe.x-Ce.x,2)+Math.pow(xe.y-Ce.y,2))}Math.abs(ae-ie)>=2*Math.PI&&(ie=0,ae=2*Math.PI),this.path.push({type:"arc",x:C,y:z,radius:X,startAngle:ie,endAngle:ae,counterclockwise:fe})},b.prototype.arcTo=function(C,z,X,ie,ae){throw new Error("arcTo not implemented.")},b.prototype.rect=function(C,z,X,ie){if(isNaN(C)||isNaN(z)||isNaN(X)||isNaN(ie))throw Xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,z),this.lineTo(C+X,z),this.lineTo(C+X,z+ie),this.lineTo(C,z+ie),this.lineTo(C,z),this.lineTo(C+X,z),this.lineTo(C,z)},b.prototype.fillRect=function(C,z,X,ie){if(isNaN(C)||isNaN(z)||isNaN(X)||isNaN(ie))throw Xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,z,X,ie),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},b.prototype.strokeRect=function(C,z,X,ie){if(isNaN(C)||isNaN(z)||isNaN(X)||isNaN(ie))throw Xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(C,z,X,ie),this.stroke())},b.prototype.clearRect=function(C,z,X,ie){if(isNaN(C)||isNaN(z)||isNaN(X)||isNaN(ie))throw Xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,z,X,ie))},b.prototype.save=function(C){C=typeof C!="boolean"||C;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},b.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(z),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var w=function(C){var z,X,ie,ae;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))z=0,X=0,ie=0,ae=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(fe!==null)z=parseInt(fe[1]),X=parseInt(fe[2]),ie=parseInt(fe[3]),ae=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)z=parseInt(fe[1]),X=parseInt(fe[2]),ie=parseInt(fe[3]),ae=parseFloat(fe[4]);else{if(ae=1,typeof C=="string"&&C.charAt(0)!=="#"){var pe=new sw(C);C=pe.ok?pe.toHex():"#000000"}C.length===4?(z=C.substring(1,2),z+=z,X=C.substring(2,3),X+=X,ie=C.substring(3,4),ie+=ie):(z=C.substring(1,3),X=C.substring(3,5),ie=C.substring(5,7)),z=parseInt(z,16),X=parseInt(X,16),ie=parseInt(ie,16)}}return{r:z,g:X,b:ie,a:ae,style:C}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(C,z,X,ie){if(isNaN(z)||isNaN(X)||typeof C!="string")throw Xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!y.call(this)){var ae=ce(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;j.call(this,{text:C,x:z,y:X,scale:fe,angle:ae,align:this.textAlign,maxWidth:ie})}},b.prototype.strokeText=function(C,z,X,ie){if(isNaN(z)||isNaN(X)||typeof C!="string")throw Xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){ie=isNaN(ie)?void 0:ie;var ae=ce(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;j.call(this,{text:C,x:z,y:X,scale:fe,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:ie})}},b.prototype.measureText=function(C){if(typeof C!="string")throw Xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,X=this.pdf.internal.scaleFactor,ie=z.internal.getFontSize(),ae=z.getStringUnitWidth(C)*ie/z.internal.scaleFactor;return new function(fe){var pe=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:ae*=Math.round(96*X/72*1e4)/1e4})},b.prototype.scale=function(C,z){if(isNaN(C)||isNaN(z))throw Xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new f(C,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},b.prototype.rotate=function(C){if(isNaN(C))throw Xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new f(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},b.prototype.translate=function(C,z){if(isNaN(C)||isNaN(z))throw Xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new f(1,0,0,1,C,z);this.ctx.transform=this.ctx.transform.multiply(X)},b.prototype.transform=function(C,z,X,ie,ae,fe){if(isNaN(C)||isNaN(z)||isNaN(X)||isNaN(ie)||isNaN(ae)||isNaN(fe))throw Xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new f(C,z,X,ie,ae,fe);this.ctx.transform=this.ctx.transform.multiply(pe)},b.prototype.setTransform=function(C,z,X,ie,ae,fe){C=isNaN(C)?1:C,z=isNaN(z)?0:z,X=isNaN(X)?0:X,ie=isNaN(ie)?1:ie,ae=isNaN(ae)?0:ae,fe=isNaN(fe)?0:fe,this.ctx.transform=new f(C,z,X,ie,ae,fe)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(C,z,X,ie,ae,fe,pe,xe,Ce){var He=this.pdf.getImageProperties(C),Ze=1,Je=1,it=1,H=1;ie!==void 0&&xe!==void 0&&(it=xe/ie,H=Ce/ae,Ze=He.width/ie*xe/ie,Je=He.height/ae*Ce/ae),fe===void 0&&(fe=z,pe=X,z=0,X=0),ie!==void 0&&xe===void 0&&(xe=ie,Ce=ae),ie===void 0&&xe===void 0&&(xe=He.width,Ce=He.height);var Me=this.ctx.transform.decompose(),st=ce(Me.rotate.shx),$e=new f,ge=($e=($e=($e=$e.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new c(fe-z*it,pe-X*H,ie*Ze,ae*Je));if(this.autoPaging){for(var qe,Ye=E.call(this,ge),et=[],nt=0;nt<Ye.length;nt+=1)et.indexOf(Ye[nt])===-1&&et.push(Ye[nt]);P(et);for(var Ie=et[0],ze=et[et.length-1],Ge=Ie;Ge<ze+1;Ge++){this.pdf.setPage(Ge);var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=Ge===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Ge===1?0:Qe+(Ge-2)*ht;if(this.ctx.clip_path.length!==0){var Nn=this.path;qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(qe,this.posX+this.margin[3],-ot+at+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Nn}var Ft=JSON.parse(JSON.stringify(ge));Ft=U([Ft],this.posX+this.margin[3],-ot+at+this.ctx.prevPageLastElemOffset)[0];var wt=(Ge>Ie||Ge<ze)&&A.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,ht,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,st),wt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",ge.x,ge.y,ge.w,ge.h,null,null,st)};var E=function(C,z,X){var ie=[];z=z||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":ie.push(Math.floor((C.y+ae)/X)+1);break;case"arc":ie.push(Math.floor((C.y+ae-C.radius)/X)+1),ie.push(Math.floor((C.y+ae+C.radius)/X)+1);break;case"qct":var fe=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);ie.push(Math.floor((fe.y+ae)/X)+1),ie.push(Math.floor((fe.y+fe.h+ae)/X)+1);break;case"bct":var pe=Ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);ie.push(Math.floor((pe.y+ae)/X)+1),ie.push(Math.floor((pe.y+pe.h+ae)/X)+1);break;case"rect":ie.push(Math.floor((C.y+ae)/X)+1),ie.push(Math.floor((C.y+C.h+ae)/X)+1)}for(var xe=0;xe<ie.length;xe+=1)for(;this.pdf.internal.getNumberOfPages()<ie[xe];)T.call(this);return ie},T=function(){var C=this.fillStyle,z=this.strokeStyle,X=this.font,ie=this.lineCap,ae=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=z,this.font=X,this.lineCap=ie,this.lineWidth=ae,this.lineJoin=fe},U=function(C,z,X){for(var ie=0;ie<C.length;ie++)switch(C[ie].type){case"bct":C[ie].x2+=z,C[ie].y2+=X;case"qct":C[ie].x1+=z,C[ie].y1+=X;default:C[ie].x+=z,C[ie].y+=X}return C},P=function(C){return C.sort(function(z,X){return z-X})},F=function(C,z){var X=this.fillStyle,ie=this.strokeStyle,ae=this.lineCap,fe=this.lineWidth,pe=Math.abs(fe*this.ctx.transform.scaleX),xe=this.lineJoin;if(this.autoPaging){for(var Ce,He,Ze=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),it=[],H=0;H<Je.length;H++)if(Je[H].x!==void 0)for(var Me=E.call(this,Je[H]),st=0;st<Me.length;st+=1)it.indexOf(Me[st])===-1&&it.push(Me[st]);for(var $e=0;$e<it.length;$e++)for(;this.pdf.internal.getNumberOfPages()<it[$e];)T.call(this);P(it);for(var ge=it[0],qe=it[it.length-1],Ye=ge;Ye<qe+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=X,this.strokeStyle=ie,this.lineCap=ae,this.lineWidth=pe,this.lineJoin=xe;var et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=Ye===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Ye===1?0:Ie+(Ye-2)*ze;if(this.ctx.clip_path.length!==0){var rt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(Ce,this.posX+this.margin[3],-Ge+nt+this.ctx.prevPageLastElemOffset),q.call(this,C,!0),this.path=rt}if(He=JSON.parse(JSON.stringify(Ze)),this.path=U(He,this.posX+this.margin[3],-Ge+nt+this.ctx.prevPageLastElemOffset),z===!1||Ye===0){var at=(Ye>ge||Ye<qe)&&A.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,ze,null).clip().discardPath()),q.call(this,C,z),at&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}this.path=Ze}else this.lineWidth=pe,q.call(this,C,z),this.lineWidth=fe},q=function(C,z){if((C!=="stroke"||z||!N.call(this))&&(C==="stroke"||z||!y.call(this))){for(var X,ie,ae=[],fe=this.path,pe=0;pe<fe.length;pe++){var xe=fe[pe];switch(xe.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:xe,deltas:[],abs:[]});break;case"lt":var Ce=ae.length;if(fe[pe-1]&&!isNaN(fe[pe-1].x)&&(X=[xe.x-fe[pe-1].x,xe.y-fe[pe-1].y],Ce>0)){for(;Ce>=0;Ce--)if(ae[Ce-1].close!==!0&&ae[Ce-1].begin!==!0){ae[Ce-1].deltas.push(X),ae[Ce-1].abs.push(xe);break}}break;case"bct":X=[xe.x1-fe[pe-1].x,xe.y1-fe[pe-1].y,xe.x2-fe[pe-1].x,xe.y2-fe[pe-1].y,xe.x-fe[pe-1].x,xe.y-fe[pe-1].y],ae[ae.length-1].deltas.push(X);break;case"qct":var He=fe[pe-1].x+2/3*(xe.x1-fe[pe-1].x),Ze=fe[pe-1].y+2/3*(xe.y1-fe[pe-1].y),Je=xe.x+2/3*(xe.x1-xe.x),it=xe.y+2/3*(xe.y1-xe.y),H=xe.x,Me=xe.y;X=[He-fe[pe-1].x,Ze-fe[pe-1].y,Je-fe[pe-1].x,it-fe[pe-1].y,H-fe[pe-1].x,Me-fe[pe-1].y],ae[ae.length-1].deltas.push(X);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(xe)}}ie=z?null:C==="stroke"?"stroke":"fill";for(var st=!1,$e=0;$e<ae.length;$e++)if(ae[$e].arc)for(var ge=ae[$e].abs,qe=0;qe<ge.length;qe++){var Ye=ge[qe];Ye.type==="arc"?D.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,z,!st):$.call(this,Ye.x,Ye.y),st=!0}else if(ae[$e].close===!0)this.pdf.internal.out("h"),st=!1;else if(ae[$e].begin!==!0){var et=ae[$e].start.x,nt=ae[$e].start.y;ee.call(this,ae[$e].deltas,et,nt),st=!0}ie&&I.call(this,ie),z&&Z.call(this)}},te=function(C){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-X;case"top":return C+z-X;case"hanging":return C+z-2*X;case"middle":return C+z/2-X;default:return C}},G=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(z,X){this.colorStops.push([z,X])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(C,z,X,ie,ae,fe,pe,xe,Ce){for(var He=Q.call(this,X,ie,ae,fe),Ze=0;Ze<He.length;Ze++){var Je=He[Ze];Ze===0&&(Ce?L.call(this,Je.x1+C,Je.y1+z):$.call(this,Je.x1+C,Je.y1+z)),ue.call(this,C,z,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}xe?Z.call(this):I.call(this,pe)},I=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(C,z){this.pdf.internal.out(t(C)+" "+r(z)+" m")},j=function(C){var z;switch(C.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var X,ie,ae,fe=this.pdf.getTextDimensions(C.text),pe=te.call(this,C.y),xe=G.call(this,pe)-fe.h,Ce=this.ctx.transform.applyToPoint(new h(C.x,pe));if(this.autoPaging){var He=this.ctx.transform.decompose(),Ze=new f;Ze=(Ze=(Ze=Ze.multiply(He.translate)).multiply(He.skew)).multiply(He.scale);for(var Je=this.ctx.transform.applyToRectangle(new c(C.x,pe,fe.w,fe.h)),it=Ze.applyToRectangle(new c(C.x,xe,fe.w,fe.h)),H=E.call(this,it),Me=[],st=0;st<H.length;st+=1)Me.indexOf(H[st])===-1&&Me.push(H[st]);P(Me);for(var $e=Me[0],ge=Me[Me.length-1],qe=$e;qe<ge+1;qe++){this.pdf.setPage(qe);var Ye=qe===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[2],Ie=nt-this.margin[0],ze=this.pdf.internal.pageSize.width-this.margin[1],Ge=ze-this.margin[3],rt=qe===1?0:et+(qe-2)*Ie;if(this.ctx.clip_path.length!==0){var at=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=U(X,this.posX+this.margin[3],-1*rt+Ye),q.call(this,"fill",!0),this.path=at}var Qe=U([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-rt+Ye+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*C.scale),ae=this.lineWidth,this.lineWidth=ae*C.scale);var ht=this.autoPaging!=="text";if(ht||Qe.y+Qe.h<=nt){if(ht||Qe.y>=Ye&&Qe.x<=ze){var ot=ht?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||ze-Qe.x)[0],Nn=U([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-rt+Ye+this.ctx.prevPageLastElemOffset)[0],Ft=ht&&(qe>$e||qe<ge)&&A.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Ie,null).clip().discardPath()),this.pdf.text(ot,Nn.x,Nn.y,{angle:C.angle,align:z,renderingMode:C.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else Qe.y<nt&&(this.ctx.prevPageLastElemOffset+=nt-Qe.y);C.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=ae)}}else C.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*C.scale),ae=this.lineWidth,this.lineWidth=ae*C.scale),this.pdf.text(C.text,Ce.x+this.posX,Ce.y+this.posY,{angle:C.angle,align:z,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=ae)},$=function(C,z,X,ie){X=X||0,ie=ie||0,this.pdf.internal.out(t(C+X)+" "+r(z+ie)+" l")},ee=function(C,z,X){return this.pdf.lines(C,z,X,null,null)},ue=function(C,z,X,ie,ae,fe,pe,xe){this.pdf.internal.out([e(a(X+C)),e(o(ie+z)),e(a(ae+C)),e(o(fe+z)),e(a(pe+C)),e(o(xe+z)),"c"].join(" "))},Q=function(C,z,X,ie){for(var ae=2*Math.PI,fe=Math.PI/2;z>X;)z-=ae;var pe=Math.abs(X-z);pe<ae&&ie&&(pe=ae-pe);for(var xe=[],Ce=ie?-1:1,He=z;pe>1e-5;){var Ze=He+Ce*Math.min(pe,fe);xe.push(re.call(this,C,He,Ze)),pe-=Math.abs(Ze-He),He=Ze}return xe},re=function(C,z,X){var ie=(X-z)/2,ae=C*Math.cos(ie),fe=C*Math.sin(ie),pe=ae,xe=-fe,Ce=pe*pe+xe*xe,He=Ce+pe*ae+xe*fe,Ze=4/3*(Math.sqrt(2*Ce*He)-He)/(pe*fe-xe*ae),Je=pe-Ze*xe,it=xe+Ze*pe,H=Je,Me=-it,st=ie+z,$e=Math.cos(st),ge=Math.sin(st);return{x1:C*Math.cos(z),y1:C*Math.sin(z),x2:Je*$e-it*ge,y2:Je*ge+it*$e,x3:H*$e-Me*ge,y3:H*ge+Me*$e,x4:C*Math.cos(X),y4:C*Math.sin(X)}},ce=function(C){return 180*C/Math.PI},de=function(C,z,X,ie,ae,fe){var pe=C+.5*(X-C),xe=z+.5*(ie-z),Ce=ae+.5*(X-ae),He=fe+.5*(ie-fe),Ze=Math.min(C,ae,pe,Ce),Je=Math.max(C,ae,pe,Ce),it=Math.min(z,fe,xe,He),H=Math.max(z,fe,xe,He);return new c(Ze,it,Je-Ze,H-it)},Ae=function(C,z,X,ie,ae,fe,pe,xe){var Ce,He,Ze,Je,it,H,Me,st,$e,ge,qe,Ye,et,nt,Ie=X-C,ze=ie-z,Ge=ae-X,rt=fe-ie,at=pe-ae,Qe=xe-fe;for(He=0;He<41;He++)$e=(Me=(Ze=C+(Ce=He/40)*Ie)+Ce*((it=X+Ce*Ge)-Ze))+Ce*(it+Ce*(ae+Ce*at-it)-Me),ge=(st=(Je=z+Ce*ze)+Ce*((H=ie+Ce*rt)-Je))+Ce*(H+Ce*(fe+Ce*Qe-H)-st),He==0?(qe=$e,Ye=ge,et=$e,nt=ge):(qe=Math.min(qe,$e),Ye=Math.min(Ye,ge),et=Math.max(et,$e),nt=Math.max(nt,ge));return new c(Math.round(qe),Math.round(Ye),Math.round(et-qe),Math.round(nt-Ye))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,z,X=(C=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:z}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(St.API),(function(i){var e=function(h){var c,f,d,m,b,w,y,N,A,E;for(f=[],d=0,m=(h+=c="\0\0\0\0".slice(h.length%4||4)).length;m>d;d+=4)(b=(h.charCodeAt(d)<<24)+(h.charCodeAt(d+1)<<16)+(h.charCodeAt(d+2)<<8)+h.charCodeAt(d+3))!==0?(w=(b=((b=((b=((b=(b-(E=b%85))/85)-(A=b%85))/85)-(N=b%85))/85)-(y=b%85))/85)%85,f.push(w+33,y+33,N+33,A+33,E+33)):f.push(122);return(function(T,U){for(var P=U;P>0;P--)T.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(h){var c,f,d,m,b,w=String,y="length",N=255,A="charCodeAt",E="slice",T="replace";for(h[E](-2),h=h[E](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),d=[],m=0,b=(h+=c="uuuuu"[E](h[y]%5||5))[y];b>m;m+=5)f=52200625*(h[A](m)-33)+614125*(h[A](m+1)-33)+7225*(h[A](m+2)-33)+85*(h[A](m+3)-33)+(h[A](m+4)-33),d.push(N&f>>24,N&f>>16,N&f>>8,N&f);return(function(U,P){for(var F=P;F>0;F--)U.pop()})(d,c[y]),w.fromCharCode.apply(w,d)},r=function(h){return h.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(h){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),c.test(h)===!1)return"";for(var f="",d=0;d<h.length;d+=2)f+=String.fromCharCode("0x"+(h[d]+h[d+1]));return f},o=function(h){for(var c=new Uint8Array(h.length),f=h.length;f--;)c[f]=h.charCodeAt(f);return(c=F0(c)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};i.processDataByFilters=function(h,c){var f=0,d=h||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}})(St.API),(function(i){i.loadFile=function(e,t,r){return(function(a,o,h){o=o!==!1,h=typeof h=="function"?h:function(){};var c=void 0;try{c=(function(f,d,m){var b=new XMLHttpRequest,w=0,y=function(N){var A=N.length,E=[],T=String.fromCharCode;for(w=0;w<A;w+=1)E.push(T(255&N.charCodeAt(w)));return E.join("")};if(b.open("GET",f,!d),b.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(b.onload=function(){b.status===200?m(y(this.responseText)):m(void 0)}),b.send(null),d&&b.status===200)return y(b.responseText)})(a,o,h)}catch{}return c})(e,t,r)},i.loadImageFile=i.loadFile})(St.API),(function(i){function e(){return(qt.html2canvas?Promise.resolve(qt.html2canvas):Jm(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(qt.DOMPurify?Promise.resolve(qt.DOMPurify):Jm(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=Ln(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},a=function(c,f){var d=document.createElement(c);for(var m in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[m]=f.style[m];return d},o=function c(f,d){for(var m=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)d!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||m.appendChild(c(b,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(m.width=f.width,m.height=f.height,m.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(m.value=f.value),m.addEventListener("load",function(){m.scrollTop=f.scrollTop,m.scrollLeft=f.scrollLeft},!0)),m},h=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),d);return(m=m.setProgress(1,c,1,[c])).set(f)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(c,f){return c.__proto__=f||h.prototype,c},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},h.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,m=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,w=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete w.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var y=0;y<m.length;++y){var N=m[y],A=N.src.find(function(E){return E.format==="truetype"});A&&d.addFont(A.url,N.ref.name,N.ref.style)}return w.windowHeight=w.windowHeight||0,w.windowHeight=w.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):w.windowHeight,d.context2d.save(!0),f(this.prop.container,w)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},h.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},h.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},h.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in h.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},h.prototype.get=function(c,f){return this.then(function(){var d=c in h.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},h.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},h.prototype.setPageSize=function(c){function f(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(c=c||St.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},h.prototype.setProgress=function(c,f,d,m){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(c,f,d,m){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},h.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(m,b){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(w){return d.updateProgress(null,m),w}).then(m,b).then(function(w){return d.updateProgress(1),w})})},h.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),f&&(f=f.bind(m));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:h.convert(Object.assign({},m),Promise.prototype),w=d.call(b,c,f);return h.convert(w,m.__proto__)},h.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},h.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},h.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return h.convert(f,this)},h.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},h.prototype.error=function(c){return this.then(function(){throw new Error(c)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,St.getPageSize=function(c,f,d){if(Ln(c)==="object"){var m=c;c=m.orientation,f=m.unit||f,d=m.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var b,w=(""+d).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+f}var N,A=0,E=0;if(y.hasOwnProperty(w))A=y[w][1]/b,E=y[w][0]/b;else try{A=d[1],E=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",E>A&&(N=E,E=A,A=N);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",A>E&&(N=E,E=A,A=N)}return{width:E,height:A,unit:f,k:b,orientation:c}},i.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(g0):null;var d=new h(f);return f.worker?d:d.from(c).doCallback()}})(St.API),St.API.addJS=function(i){return vb=i,this.internal.events.subscribe("postPutResources",function(){mp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mp+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),gb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+vb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){mp!==void 0&&gb!==void 0&&this.internal.out("/Names <</JavaScript "+mp+" 0 R>>")}),this},(function(i){var e;i.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),o=0;o<a.length;o++){var h=a[o],c=r.exec(h);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(h)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(o=0;o<d;o++){var b=t.internal.newObject();m.push(b);var w=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+w.objId+" 0 R /XYZ null null null]>> endobj")}var y=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<m.length;o++)t.internal.write("(page_"+(o+1)+")"+m[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+y+" 0 R"),t.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),i.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,o){var h={title:a,options:o,children:[]};return r==null&&(r=this.root),r.children.push(h),h},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var h=r.children[o];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var c=this.count=this.count_r({count:0},h);if(c>0&&this.line("/Count "+c),h.options&&h.options.pageNumber){var f=t.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var o=0;o<a.children.length;o++)r.count++,this.count_r(r,a.children[o]);return r.count}}])})(St.API),(function(i){var e=[192,193,194,195,196,197,198,199];i.processJPEG=function(t,r,a,o,h,c){var f,d=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=h||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(b){for(var w,y=256*b.charCodeAt(4)+b.charCodeAt(5),N=b.length,A={width:0,height:0,numcomponents:1},E=4;E<N;E+=2){if(E+=y,e.indexOf(b.charCodeAt(E+1))!==-1){w=256*b.charCodeAt(E+5)+b.charCodeAt(E+6),A={width:256*b.charCodeAt(E+7)+b.charCodeAt(E+8),height:w,numcomponents:b.charCodeAt(E+9)};break}y=256*b.charCodeAt(E+2)+b.charCodeAt(E+3)}return A})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:a}}return m}})(St.API),St.API.processPNG=function(i,e,t,r){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var a,o=mO(i,{checkCrc:!0}),h=o.width,c=o.height,f=o.channels,d=o.palette,m=o.depth;a=d&&f===1?(function(D){for(var I=D.width,Z=D.height,L=D.data,j=D.palette,$=D.depth,ee=!1,ue=[],Q=[],re=void 0,ce=!1,de=0,Ae=0;Ae<j.length;Ae++){var Y=xy(j[Ae],4),C=Y[0],z=Y[1],X=Y[2],ie=Y[3];ue.push(C,z,X),ie!=null&&(ie===0?(de++,Q.length<1&&Q.push(Ae)):ie<255&&(ce=!0))}if(ce||de>1){ee=!0,Q=void 0;var ae=I*Z;re=new Uint8Array(ae);for(var fe=new DataView(L.buffer),pe=0;pe<ae;pe++){var xe=y0(fe,pe,$),Ce=xy(j[xe],4)[3];re[pe]=Ce}}else de===0&&(Q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ee?8:void 0,colorBytes:L,alphaBytes:re,needSMask:ee,palette:ue,mask:Q}})(o):f===2||f===4?(function(D){for(var I=D.data,Z=D.width,L=D.height,j=D.channels,$=D.depth,ee=j===2?"DeviceGray":"DeviceRGB",ue=j-1,Q=Z*L,re=ue,ce=Q*re,de=1*Q,Ae=Math.ceil(ce*$/8),Y=Math.ceil(de*$/8),C=new Uint8Array(Ae),z=new Uint8Array(Y),X=new DataView(I.buffer),ie=new DataView(C.buffer),ae=new DataView(z.buffer),fe=!1,pe=0;pe<Q;pe++){for(var xe=pe*j,Ce=0;Ce<re;Ce++)Cb(ie,y0(X,xe+Ce,$),pe*re+Ce,$);var He=y0(X,xe+re,$);He<(1<<$)-1&&(fe=!0),Cb(ae,He,1*pe,$)}return{colorSpace:ee,colorsPerPixel:ue,sMaskBitsPerComponent:fe?$:void 0,colorBytes:C,alphaBytes:z,needSMask:fe}})(o):(function(D){var I=D.data,Z=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Z,colorsPerPixel:Z==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(L){for(var j=L.length,$=new Uint8Array(2*j),ee=new DataView($.buffer,$.byteOffset,$.byteLength),ue=0;ue<j;ue++)ee.setUint16(2*ue,L[ue],!1);return $})(I):I,needSMask:!1}})(o);var b,w,y,N=a,A=N.colorSpace,E=N.colorsPerPixel,T=N.sMaskBitsPerComponent,U=N.colorBytes,P=N.alphaBytes,F=N.needSMask,q=N.palette,te=N.mask,G=null;return r!==St.API.image_compression.NONE&&typeof F0=="function"?(G=(function(D){var I;switch(D){case St.API.image_compression.FAST:I=11;break;case St.API.image_compression.MEDIUM:I=13;break;case St.API.image_compression.SLOW:I=14;break;default:I=12}return I})(r),b=this.decode.FLATE_DECODE,w="/Predictor ".concat(G," /Colors ").concat(E," /BitsPerComponent ").concat(m," /Columns ").concat(h),i=xb(U,Math.ceil(h*E*m/8),E,m,r),F&&(y=xb(P,Math.ceil(h*T/8),1,T,r))):(b=void 0,w=void 0,i=U,F&&(y=P)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:t,data:i,index:e,filter:b,decodeParameters:w,transparency:te,palette:q,sMask:y,predictor:G,width:h,height:c,bitsPerComponent:m,sMaskBitsPerComponent:T,colorSpace:A}}},(function(i){i.processGIF89A=function(e,t,r,a){var o=new IO(e),h=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:h,height:c},m=new b0(100).encode(d,100);return i.processJPEG.call(this,m,t,r,a)},i.processGIF87A=i.processGIF89A})(St.API),Pa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var e=0;e<i;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pa.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[i]()}catch(t){Xn.log("bit decode error:"+t)}},Pa.prototype.bit1=function(){var i,e=Math.ceil(this.width/8),t=e%4;for(i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[h+4*c]=f.blue,this.data[h+4*c+1]=f.green,this.data[h+4*c+2]=f.red,this.data[h+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Pa.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),e=i%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<i;a++){var o=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+2*a*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[h]=d.blue,this.data[h+1]=d.green,this.data[h+2]=d.red,this.data[h+3]=255,2*a+1>=this.width)break;d=this.palette[f],this.data[h+4]=d.blue,this.data[h+4+1]=d.green,this.data[h+4+2]=d.red,this.data[h+4+3]=255}e!==0&&(this.pos+=4-e)}},Pa.prototype.bit8=function(){for(var i=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(a<this.palette.length){var h=this.palette[a];this.data[o]=h.red,this.data[o+1]=h.green,this.data[o+2]=h.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}i!==0&&(this.pos+=4-i)}},Pa.prototype.bit15=function(){for(var i=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,m=r*this.width*4+4*a;this.data[m]=f,this.data[m+1]=c,this.data[m+2]=h,this.data[m+3]=d}this.pos+=i}},Pa.prototype.bit16=function(){for(var i=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(h&e)/e*255|0,f=(h>>5&t)/t*255|0,d=(h>>11)/e*255|0,m=a*this.width*4+4*o;this.data[m]=d,this.data[m+1]=f,this.data[m+2]=c,this.data[m+3]=255}this.pos+=i}},Pa.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=e*this.width*4+4*t;this.data[h]=o,this.data[h+1]=a,this.data[h+2]=r,this.data[h+3]=255}this.pos+=this.width%4}},Pa.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var e=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=h}},Pa.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(e,t,r,a){var o=new Pa(e,!1),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new b0(100).encode(f,100);return i.processJPEG.call(this,d,t,r,a)}})(St.API),Eb.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(e,t,r,a){var o=new Eb(e),h=o.width,c=o.height,f={data:o.getData(),width:h,height:c},d=new b0(100).encode(f,100);return i.processJPEG.call(this,d,t,r,a)}})(St.API),St.API.processRGBA=function(i,e,t){for(var r=i.data,a=r.length,o=new Uint8Array(a/4*3),h=new Uint8Array(a/4),c=0,f=0,d=0;d<a;d+=4){var m=r[d],b=r[d+1],w=r[d+2],y=r[d+3];o[c++]=m,o[c++]=b,o[c++]=w,h[f++]=y}var N=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:N,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},St.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rh=St.API,gp=rh.getCharWidthsArray=function(i,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),h=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:a.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,b=e.doKerning!==!1,w=0,y=i.length,N=0,A=c[0]||f,E=[];for(t=0;t<y;t++)r=i.charCodeAt(t),typeof a.metadata.widthOfString=="function"?E.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+h*(1e3/o)||0)/1e3):(w=b&&Ln(d[r])==="object"&&!isNaN(parseInt(d[r][N],10))?d[r][N]/m:0,E.push((c[r]||A)/f+w)),N=r;return E},yb=rh.getStringUnitWidth=function(i,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return rh.processArabic&&(i=rh.processArabic(i)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(i,t,a)/t:gp.apply(this,arguments).reduce(function(o,h){return o+h},0)},bb=function(i,e,t,r){for(var a=[],o=0,h=i.length,c=0;o!==h&&c+e[o]<t;)c+=e[o],o++;a.push(i.slice(0,o));var f=o;for(c=0;o!==h;)c+e[o]>r&&(a.push(i.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&a.push(i.slice(f,o)),a},_b=function(i,e,t){t||(t={});var r,a,o,h,c,f,d,m=[],b=[m],w=t.textIndent||0,y=0,N=0,A=i.split(" "),E=gp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?A[0].length+2:t.lineIndent||0){var T=Array(f).join(" "),U=[];A.map(function(F){(F=F.split(/\s*\n/)).length>1?U=U.concat(F.map(function(q,te){return(te&&q.length?`
`:"")+q})):U.push(F[0])}),A=U,f=yb.apply(this,[T,t])}for(o=0,h=A.length;o<h;o++){var P=0;if(r=A[o],f&&r[0]==`
`&&(r=r.substr(1),P=1),w+y+(N=(a=gp.apply(this,[r,t])).reduce(function(F,q){return F+q},0))>e||P){if(N>e){for(c=bb.apply(this,[r,a,e-(w+y),e]),m.push(c.shift()),m=[c.pop()];c.length;)b.push([c.shift()]);N=a.slice(r.length-(m[0]?m[0].length:0)).reduce(function(F,q){return F+q},0)}else m=[r];b.push(m),w=N+f,y=E}else m.push(r),w+=y+N,y=E}return d=f?function(F,q){return(q?T:"")+F.join(" ")}:function(F){return F.join(" ")},b.map(d)},rh.splitTextToSize=function(i,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var b=this.internal.getFont(m.fontName,m.fontStyle),w="Unicode";return b.metadata[w]?{widths:b.metadata[w].widths||{0:1},kerning:b.metadata[w].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(i)?i:String(i).split(/\r?\n/);var h=1*this.internal.scaleFactor*e/a;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(_b.apply(this,[r[c],h,o]));return d},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},o=0;o<16;o++)r[t[o]]=e[o],a[e[o]]=t[o];var h=function(w){return"0x"+parseInt(w,10).toString(16)},c=i.__fontmetrics__.compress=function(w){var y,N,A,E,T=["{"];for(var U in w){if(y=w[U],isNaN(parseInt(U,10))?N="'"+U+"'":(U=parseInt(U,10),N=(N=h(U).slice(2)).slice(0,-1)+a[N.slice(-1)]),typeof y=="number")y<0?(A=h(y).slice(3),E="-"):(A=h(y).slice(2),E=""),A=E+A.slice(0,-1)+a[A.slice(-1)];else{if(Ln(y)!=="object")throw new Error("Don't know what to do with value type "+Ln(y)+".");A=c(y)}T.push(N+A)}return T.push("}"),T.join("")},f=i.__fontmetrics__.uncompress=function(w){if(typeof w!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,N,A,E,T={},U=1,P=T,F=[],q="",te="",G=w.length-1,D=1;D<G;D+=1)(E=w[D])=="'"?y?(A=y.join(""),y=void 0):y=[]:y?y.push(E):E=="{"?(F.push([P,A]),P={},A=void 0):E=="}"?((N=F.pop())[0][N[1]]=P,A=void 0,P=N[0]):E=="-"?U=-1:A===void 0?r.hasOwnProperty(E)?(q+=r[E],A=parseInt(q,16)*U,U=1,q=""):q+=E:r.hasOwnProperty(E)?(te+=r[E],P[A]=parseInt(te,16)*U,U=1,A=void 0,te=""):te+=E;return T},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},b={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(w){var y=w.font,N=b.Unicode[y.postScriptName];N&&(y.metadata.Unicode={},y.metadata.Unicode.widths=N.widths,y.metadata.Unicode.kerning=N.kerning);var A=m.Unicode[y.postScriptName];A&&(y.metadata.Unicode.encoding=A,y.encoding=A.codePages[0])}])})(St.API),(function(i){var e=function(t){for(var r=t.length,a=new Uint8Array(r),o=0;o<r;o++)a[o]=t.charCodeAt(o);return a};i.API.events.push(["addFont",function(t){var r=void 0,a=t.font,o=t.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(h,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Sp(c)),h.metadata=i.API.TTFFont.open(c),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(a,r)}}])})(St),St.API.addSvgAsImage=function(i,e,t,r,a,o,h,c){if(isNaN(e)||isNaN(t))throw Xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw Xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=a;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(qt.canvg?Promise.resolve(qt.canvg):Jm(()=>import("./index.es-Db9aWvF_.js"),[])).catch(function(w){return Promise.reject(new Error("Could not load canvg: "+w))}).then(function(w){return w.default?w.default:w}).then(function(w){return w.fromString(d,i,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(m)}).then(function(){b.addImage(f.toDataURL("image/jpeg",1),e,t,r,a,h,c)})},St.API.putTotalPages=function(i){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(i,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},St.API.viewerPreferences=function(i,e){var t;i=i||{},e=e||!1;var r,a,o,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(h),f=[],d=0,m=0,b=0;function w(N,A){var E,T=!1;for(E=0;E<N.length;E+=1)N[E]===A&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,i==="reset"||e===!0){var y=c.length;for(b=0;b<y;b+=1)t[c[b]].value=t[c[b]].defaultValue,t[c[b]].explicitSet=!1}if(Ln(i)==="object"){for(a in i)if(o=i[a],w(c,a)&&o!==void 0){if(t[a].type==="boolean"&&typeof o=="boolean")t[a].value=o;else if(t[a].type==="name"&&w(t[a].valueSet,o))t[a].value=o;else if(t[a].type==="integer"&&Number.isInteger(o))t[a].value=o;else if(t[a].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(m=0;m<o[d].length;m+=1)typeof o[d][m]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[a].value="["+f.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,A=[];for(N in t)t[N].explicitSet===!0&&(t[N].type==="name"?A.push("/"+N+" /"+t[N].value):A.push("/"+N+" "+t[N].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(i){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+h.length+c.length+a.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+o+h+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(St.API),(function(i){var e=i.API,t=e.pdfEscape16=function(o,h){for(var c,f=h.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],b=0,w=o.length;b<w;++b){if(c=h.metadata.characterToGlyph(o.charCodeAt(b)),h.metadata.glyIdsUsed.push(c),h.metadata.toUnicode[c]=o.charCodeAt(b),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(h.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(d[4-c.length],c)}return m.join("")},r=function(o){var h,c,f,d,m,b,w;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],b=0,w=(c=Object.keys(o).sort(function(y,N){return y-N})).length;b<w;b++)h=c[b],f.length>=100&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[h]!==void 0&&o[h]!==null&&typeof o[h].toString=="function"&&(d=("0000"+o[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),f.push("<"+h+"><"+d+">"));return f.length&&(m+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="Identity-H"){for(var b=c.metadata.Unicode.widths,w=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),y="",N=0;N<w.length;N++)y+=String.fromCharCode(w[N]);var A=d();m({data:y,addLength1:!0,objectId:A}),f("endobj");var E=d();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:E}),f("endobj");var T=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+lh(c.fontName)),f("/FontFile2 "+A+" 0 R"),f("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var U=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+lh(c.fontName)),f("/FontDescriptor "+T+" 0 R"),f("/W "+i.API.PDFObject.convert(b)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+E+" 0 R"),f("/BaseFont /"+lh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+U+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(h){var c=h.font,f=h.out,d=h.newObject,m=h.putStream;if(c.metadata instanceof i.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var b=c.metadata.rawData,w="",y=0;y<b.length;y++)w+=String.fromCharCode(b[y]);var N=d();m({data:w,addLength1:!0,objectId:N}),f("endobj");var A=d();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:A}),f("endobj");var E=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+N+" 0 R"),f("/Flags 96"),f("/FontBBox "+i.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+lh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var T=0;T<c.metadata.hmtx.widths.length;T++)c.metadata.hmtx.widths[T]=parseInt(c.metadata.hmtx.widths[T]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+lh(c.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var a=function(o){var h,c=o.text||"",f=o.x,d=o.y,m=o.options||{},b=o.mutex||{},w=b.pdfEscape,y=b.activeFontKey,N=b.fonts,A=y,E="",T=0,U="",P=N[A].encoding;if(N[A].encoding!=="Identity-H")return{text:c,x:f,y:d,options:m,mutex:b};for(U=c,A=y,Array.isArray(c)&&(U=c[0]),T=0;T<U.length;T+=1)N[A].metadata.hasOwnProperty("cmap")&&(h=N[A].metadata.cmap.unicode.codeMap[U[T].charCodeAt(0)]),h||U[T].charCodeAt(0)<256&&N[A].metadata.hasOwnProperty("Unicode")?E+=U[T]:E+="";var F="";return parseInt(A.slice(1))<14||P==="WinAnsiEncoding"?F=w(E,A).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(F=t(E,N[A])),b.isHex=!0,{text:F,x:f,y:d,options:m,mutex:b}};e.events.push(["postProcessText",function(o){var h=o.text||"",c=[],f={text:h,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(h)){var d=0;for(d=0;d<h.length;d+=1)Array.isArray(h[d])&&h[d].length===3?c.push([a(Object.assign({},f,{text:h[d][0]})).text,h[d][1],h[d][2]]):c.push(a(Object.assign({},f,{text:h[d]})).text);o.text=c}else o.text=a(Object.assign({},f,{text:h})).text}])})(St),(function(i){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},i.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},i.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(St.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(r){var a,o,h,c,f,d,m,b=e,w=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),U=!1,P=0;this.__bidiEngine__={};var F=function(L){var j=L.charCodeAt(),$=j>>8,ee=A[$];return ee!==void 0?b[256*ee+(255&j)]:$===252||$===253?"AL":T.test($)?"L":$===8?"R":"N"},q=function(L){for(var j,$=0;$<L.length;$++){if((j=F(L.charAt($)))==="L")return!1;if(j==="R")return!0}return!1},te=function(L,j,$,ee){var ue,Q,re,ce,de=j[ee];switch(de){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":U=!1;break;case"N":case"AN":break;case"EN":U&&(de="AN");break;case"AL":U=!0,de="R";break;case"WS":case"BN":de="N";break;case"CS":ee<1||ee+1>=j.length||(ue=$[ee-1])!=="EN"&&ue!=="AN"||(Q=j[ee+1])!=="EN"&&Q!=="AN"?de="N":U&&(Q="AN"),de=Q===ue?Q:"N";break;case"ES":de=(ue=ee>0?$[ee-1]:"B")==="EN"&&ee+1<j.length&&j[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&$[ee-1]==="EN"){de="EN";break}if(U){de="N";break}for(re=ee+1,ce=j.length;re<ce&&j[re]==="ET";)re++;de=re<ce&&j[re]==="EN"?"EN":"N";break;case"NSM":if(h&&!c){for(ce=j.length,re=ee+1;re<ce&&j[re]==="NSM";)re++;if(re<ce){var Ae=L[ee],Y=Ae>=1425&&Ae<=2303||Ae===64286;if(ue=j[re],Y&&(ue==="R"||ue==="AL")){de="R";break}}}de=ee<1||(ue=j[ee-1])==="B"?"N":$[ee-1];break;case"B":U=!1,a=!0,de=P;break;case"S":o=!0,de="N"}return de},G=function(L,j,$){var ee=L.split("");return $&&D(ee,$,{hiLevel:P}),ee.reverse(),j&&j.reverse(),ee.join("")},D=function(L,j,$){var ee,ue,Q,re,ce,de=-1,Ae=L.length,Y=0,C=[],z=P?y:w,X=[];for(U=!1,a=!1,o=!1,ue=0;ue<Ae;ue++)X[ue]=F(L[ue]);for(Q=0;Q<Ae;Q++){if(ce=Y,C[Q]=te(L,X,C,Q),ee=240&(Y=z[ce][N[C[Q]]]),Y&=15,j[Q]=re=z[Y][5],ee>0)if(ee===16){for(ue=de;ue<Q;ue++)j[ue]=1;de=-1}else de=-1;if(z[Y][6])de===-1&&(de=Q);else if(de>-1){for(ue=de;ue<Q;ue++)j[ue]=re;de=-1}X[Q]==="B"&&(j[Q]=0),$.hiLevel|=re}o&&(function(ie,ae,fe){for(var pe=0;pe<fe;pe++)if(ie[pe]==="S"){ae[pe]=P;for(var xe=pe-1;xe>=0&&ie[xe]==="WS";xe--)ae[xe]=P}})(X,j,Ae)},I=function(L,j,$,ee,ue){if(!(ue.hiLevel<L)){if(L===1&&P===1&&!a)return j.reverse(),void($&&$.reverse());for(var Q,re,ce,de,Ae=j.length,Y=0;Y<Ae;){if(ee[Y]>=L){for(ce=Y+1;ce<Ae&&ee[ce]>=L;)ce++;for(de=Y,re=ce-1;de<re;de++,re--)Q=j[de],j[de]=j[re],j[re]=Q,$&&(Q=$[de],$[de]=$[re],$[re]=Q);Y=ce}Y++}}},Z=function(L,j,$){var ee=L.split(""),ue={hiLevel:P};return $||($=[]),D(ee,$,ue),(function(Q,re,ce){if(ce.hiLevel!==0&&m)for(var de,Ae=0;Ae<Q.length;Ae++)re[Ae]===1&&(de=E.indexOf(Q[Ae]))>=0&&(Q[Ae]=E[de+1])})(ee,$,ue),I(2,ee,j,$,ue),I(1,ee,j,$,ue),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(L,j,$){if((function(ue,Q){if(Q)for(var re=0;re<ue.length;re++)Q[re]=re;c===void 0&&(c=q(ue)),d===void 0&&(d=q(ue))})(L,j),h||!f||d)if(h&&f&&c^d)P=c?1:0,L=G(L,j,$);else if(!h&&f&&d)P=c?1:0,L=Z(L,j,$),L=G(L,j);else if(!h||c||f||d){if(h&&!f&&c^d)L=G(L,j),c?(P=0,L=Z(L,j,$)):(P=1,L=Z(L,j,$),L=G(L,j));else if(h&&c&&!f&&d)P=1,L=Z(L,j,$),L=G(L,j);else if(!h&&!f&&c^d){var ee=m;c?(P=1,L=Z(L,j,$),P=0,m=!1,L=Z(L,j,$),m=ee):(P=0,L=Z(L,j,$),L=G(L,j),P=1,m=!1,L=Z(L,j,$),m=ee,L=G(L,j))}}else P=0,L=Z(L,j,$);else P=c?1:0,L=Z(L,j,$);return L},this.__bidiEngine__.setOptions=function(L){L&&(h=L.isInputVisual,f=L.isOutputVisual,c=L.isInputRtl,d=L.isOutputRtl,m=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var h=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(h=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?h.push([t.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):h.push([t.doBidiReorder(a[c])]);r.text=h}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(St),St.API.TTFFont=(function(){function i(e){var t;if(this.rawData=e,t=this.contents=new dc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new QO(this),this.registerTTF()}return i.open=function(e){return new i(e)},i.prototype.parse=function(){return this.directory=new BO(this.contents),this.head=new zO(this),this.name=new HO(this),this.cmap=new gw(this),this.toUnicode={},this.hhea=new FO(this),this.maxp=new GO(this),this.hmtx=new YO(this),this.post=new UO(this),this.os2=new PO(this),this.loca=new KO(this),this.glyf=new WO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var e,t,r,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,c,f,d;for(d=[],h=0,c=(f=this.bbox).length;h<c;h++)e=f[h],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},i.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},i.prototype.widthOfString=function(e,t,r){var a,o,h,c;for(h=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)a=e.charCodeAt(o),h+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return h*(t/1e3)},i.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},i})();var no,dc=(function(){function i(e){this.data=e??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(e){return this.data[this.pos++]=e},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},i.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},i.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},i.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},i.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},i.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(e){return this.writeInt16(e)},i.prototype.readLongLong=function(){var e,t,r,a,o,h,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),o=this.readByte(),h=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^o)+65536*(255^h)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*o+65536*h+256*c+f},i.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(e){return this.writeInt32(e)},i.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},i.prototype.write=function(e){var t,r,a,o;for(o=[],r=0,a=e.length;r<a;r++)t=e[r],o.push(this.writeByte(t));return o},i})(),BO=(function(){var i;function e(t){var r,a,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,o,h,c,f,d,m,b,w,y,N,A;for(A in y=Object.keys(t).length,f=Math.log(2),b=16*Math.floor(Math.log(y)/f),h=Math.floor(b/f),m=16*y-b,(a=new dc).writeInt(this.scalarType),a.writeShort(y),a.writeShort(b),a.writeShort(h),a.writeShort(m),o=16*y,d=a.pos+o,c=null,N=[],t)for(w=t[A],a.writeString(A),a.writeInt(i(w)),a.writeInt(d),a.writeInt(w.length),N=N.concat(w),A==="head"&&(c=d),d+=w.length;d%4;)N.push(0),d++;return a.write(N),r=2981146554-i(a.data),a.pos=c+8,a.writeUInt32(r),a.data},i=function(t){var r,a,o,h;for(t=vw.call(t);t.length%4;)t.push(0);for(o=new dc(t),a=0,r=0,h=t.length;r<h;r=r+=4)a+=o.readUInt32();return 4294967295&a},e})(),qO={}.hasOwnProperty,Mo=function(i,e){for(var t in e)qO.call(e,t)&&(i[t]=e[t]);function r(){this.constructor=i}return r.prototype=e.prototype,i.prototype=new r,i.__super__=e.prototype,i};no=(function(){function i(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var zO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Mo(i,no),i.prototype.tag="head",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},i.prototype.encode=function(e){var t;return(t=new dc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},i})(),kb=(function(){function i(e,t){var r,a,o,h,c,f,d,m,b,w,y,N,A,E,T,U,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(y=e.readUInt16(),w=y/2,e.pos+=6,o=(function(){var F,q;for(q=[],f=F=0;0<=w?F<w:F>w;f=0<=w?++F:--F)q.push(e.readUInt16());return q})(),e.pos+=2,A=(function(){var F,q;for(q=[],f=F=0;0<=w?F<w:F>w;f=0<=w?++F:--F)q.push(e.readUInt16());return q})(),d=(function(){var F,q;for(q=[],f=F=0;0<=w?F<w:F>w;f=0<=w?++F:--F)q.push(e.readUInt16());return q})(),m=(function(){var F,q;for(q=[],f=F=0;0<=w?F<w:F>w;f=0<=w?++F:--F)q.push(e.readUInt16());return q})(),a=(this.length-e.pos+this.offset)/2,c=(function(){var F,q;for(q=[],f=F=0;0<=a?F<a:F>a;f=0<=a?++F:--F)q.push(e.readUInt16());return q})(),f=T=0,P=o.length;T<P;f=++T)for(E=o[f],r=U=N=A[f];N<=E?U<=E:U>=E;r=N<=E?++U:--U)m[f]===0?h=r+d[f]:(h=c[m[f]/2+(r-N)-(w-f)]||0)!==0&&(h+=d[f]),this.codeMap[r]=65535&h}e.pos=b}return i.encode=function(e,t){var r,a,o,h,c,f,d,m,b,w,y,N,A,E,T,U,P,F,q,te,G,D,I,Z,L,j,$,ee,ue,Q,re,ce,de,Ae,Y,C,z,X,ie,ae,fe,pe,xe,Ce,He,Ze;switch(ee=new dc,h=Object.keys(e).sort(function(Je,it){return Je-it}),t){case"macroman":for(A=0,E=(function(){var Je=[];for(N=0;N<256;++N)Je.push(0);return Je})(),U={0:0},o={},ue=0,de=h.length;ue<de;ue++)U[xe=e[a=h[ue]]]==null&&(U[xe]=++A),o[a]={old:e[a],new:U[e[a]]},E[a]=U[e[a]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(E),{charMap:o,subtable:ee.data,maxGlyphID:A+1};case"unicode":for(j=[],b=[],P=0,U={},r={},T=d=null,Q=0,Ae=h.length;Q<Ae;Q++)U[q=e[a=h[Q]]]==null&&(U[q]=++P),r[a]={old:q,new:U[q]},c=U[q]-a,T!=null&&c===d||(T&&b.push(T),j.push(a),d=c),T=a;for(T&&b.push(T),b.push(65535),j.push(65535),Z=2*(I=j.length),D=2*Math.pow(Math.log(I)/Math.LN2,2),w=Math.log(D/2)/Math.LN2,G=2*I-D,f=[],te=[],y=[],N=re=0,Y=j.length;re<Y;N=++re){if(L=j[N],m=b[N],L===65535){f.push(0),te.push(0);break}if(L-($=r[L].new)>=32768)for(f.push(0),te.push(2*(y.length+I-N)),a=ce=L;L<=m?ce<=m:ce>=m;a=L<=m?++ce:--ce)y.push(r[a].new);else f.push($-L),te.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*I+2*y.length),ee.writeUInt16(0),ee.writeUInt16(Z),ee.writeUInt16(D),ee.writeUInt16(w),ee.writeUInt16(G),fe=0,C=b.length;fe<C;fe++)a=b[fe],ee.writeUInt16(a);for(ee.writeUInt16(0),pe=0,z=j.length;pe<z;pe++)a=j[pe],ee.writeUInt16(a);for(Ce=0,X=f.length;Ce<X;Ce++)c=f[Ce],ee.writeUInt16(c);for(He=0,ie=te.length;He<ie;He++)F=te[He],ee.writeUInt16(F);for(Ze=0,ae=y.length;Ze<ae;Ze++)A=y[Ze],ee.writeUInt16(A);return{charMap:r,subtable:ee.data,maxGlyphID:P+1}}},i})(),gw=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Mo(i,no),i.prototype.tag="cmap",i.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new kb(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},i.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=kb.encode(e,t),(a=new dc).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},i})(),FO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Mo(i,no),i.prototype.tag="hhea",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},i})(),PO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Mo(i,no),i.prototype.tag="OS/2",i.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},i})(),UO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Mo(i,no),i.prototype.tag="post",i.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var h,c,f;for(f=[],o=h=0,c=this.file.maxp.numGlyphs;0<=c?h<c:h>c;o=0<=c?++h:--h)f.push(e.readUInt32());return f}).call(this)}},i})(),VO=function(i,e){this.raw=i,this.length=i.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},HO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Mo(i,no),i.prototype.tag="name",i.prototype.parse=function(e){var t,r,a,o,h,c,f,d,m,b,w;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=m=0,b=r.length;m<b;o=++m)a=r[o],e.pos=a.offset,d=e.readString(a.length),h=new VO(d,a),f[w=a.nameID]==null&&(f[w]=[]),f[a.nameID].push(h);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},i})(),GO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Mo(i,no),i.prototype.tag="maxp",i.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},i})(),YO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Mo(i,no),i.prototype.tag="hmtx",i.prototype.parse=function(e){var t,r,a,o,h,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,m;for(m=[],t=d=0;0<=a?d<a:d>a;t=0<=a?++d:--d)m.push(e.readInt16());return m})(),this.widths=(function(){var d,m,b,w;for(w=[],d=0,m=(b=this.metrics).length;d<m;d++)o=b[d],w.push(o.advance);return w}).call(this),r=this.widths[this.widths.length-1],f=[],t=h=0;0<=a?h<a:h>a;t=0<=a?++h:--h)f.push(this.widths.push(r));return f},i.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},i})(),vw=[].slice,WO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Mo(i,no),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(e){var t,r,a,o,h,c,f,d,m,b;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,h=(c=new dc(t.read(a))).readShort(),d=c.readShort(),b=c.readShort(),f=c.readShort(),m=c.readShort(),this.cache[e]=h===-1?new ZO(c,d,b,f,m):new XO(c,h,d,b,f,m),this.cache[e]))},i.prototype.encode=function(e,t,r){var a,o,h,c,f;for(h=[],o=[],c=0,f=t.length;c<f;c++)a=e[t[c]],o.push(h.length),a&&(h=h.concat(a.encode(r)));return o.push(h.length),{table:h,offsets:o}},i})(),XO=(function(){function i(e,t,r,a,o,h){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=o,this.yMax=h,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),ZO=(function(){function i(e,t,r,a,o){var h,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;c=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&c;)h.pos+=1&c?4:2,128&c?h.pos+=8:64&c?h.pos+=4:8&c&&(h.pos+=2)}return i.prototype.encode=function(){var e,t,r;for(t=new dc(vw.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},i})(),KO=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Mo(i,no),i.prototype.tag="loca",i.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],r=0,a=this.length;r<a;r+=4)o.push(e.readUInt32());return o}).call(this)},i.prototype.indexOf=function(e){return this.offsets[e]},i.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},i.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,o=0,h=0;h<r.length;++h)if(r[h]=a,o<t.length&&t[o]==h){++o,r[h]=a;var c=this.offsets[h],f=this.offsets[h+1]-c;f>0&&(a+=f)}for(var d=new Array(4*r.length),m=0;m<r.length;++m)d[4*m+3]=255&r[m],d[4*m+2]=(65280&r[m])>>8,d[4*m+1]=(16711680&r[m])>>16,d[4*m]=(4278190080&r[m])>>24;return d},i})(),QO=(function(){function i(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var e,t,r,a,o;for(t in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=a[r];return e},i.prototype.glyphsFor=function(e){var t,r,a,o,h,c,f;for(a={},h=0,c=e.length;h<c;h++)a[o=e[h]]=this.font.glyf.glyphFor(o);for(o in t=[],a)(r=a[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],a[o]=r;return a},i.prototype.encode=function(e,t){var r,a,o,h,c,f,d,m,b,w,y,N,A,E,T;for(a in r=gw.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(e),y={0:0},T=r.charMap)y[(f=T[a]).old]=f.new;for(N in w=r.maxGlyphID,h)N in y||(y[N]=w++);return m=(function(U){var P,F;for(P in F={},U)F[U[P]]=P;return F})(y),b=Object.keys(m).sort(function(U,P){return U-P}),A=(function(){var U,P,F;for(F=[],U=0,P=b.length;U<P;U++)c=b[U],F.push(m[c]);return F})(),o=this.font.glyf.encode(h,A,y),d=this.font.loca.encode(o.offsets,A),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},i})();St.API.PDFObject=(function(){var i;function e(){}return i=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,o,h;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+i(t.getUTCFullYear(),4)+i(t.getUTCMonth(),2)+i(t.getUTCDate(),2)+i(t.getUTCHours(),2)+i(t.getUTCMinutes(),2)+i(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in o=["<<"],t)h=t[a],o.push("/"+a+" "+e.convert(h));return o.push(">>"),o.join(`
`)}return""+t},e})();const Qg="chordWheelSongs",X0="chordWheelCurrentSongId",jf=()=>{try{const i=localStorage.getItem(Qg);return i?JSON.parse(i).map(t=>({...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})):[]}catch(i){return console.error("Error loading saved songs:",i),[]}},Ob=i=>{try{const e=jf(),t=e.findIndex(a=>a.id===i.id),r={...i,updatedAt:new Date().toISOString(),createdAt:i.createdAt instanceof Date?i.createdAt.toISOString():i.createdAt};t>=0?e[t]=r:e.push({...r,createdAt:new Date().toISOString()}),localStorage.setItem(Qg,JSON.stringify(e)),localStorage.setItem(X0,i.id)}catch(e){console.error("Error saving song:",e)}},JO=i=>{try{const t=jf().filter(r=>r.id!==i);localStorage.setItem(Qg,JSON.stringify(t)),localStorage.getItem(X0)===i&&localStorage.removeItem(X0)}catch(e){console.error("Error deleting song:",e)}};function $O(){const{currentSong:i,selectedKey:e,timelineVisible:t,toggleTimeline:r,selectedSectionId:a,selectedSlotId:o,clearSlot:h,setTitle:c,loadSong:f,newSong:d,instrument:m,volume:b,isMuted:w,undo:y,redo:N,canUndo:A,canRedo:E}=ha();be.useEffect(()=>{console.log("App Audio Sync: Instrument",m),iT(m)},[m]),be.useEffect(()=>{console.log("App Audio Sync: Volume",b),rT(b)},[b]),be.useEffect(()=>{console.log("App Audio Sync: Mute",w),sT(w)},[w]);const[T,U]=be.useState(180),[P,F]=be.useState(!1),[q,te]=be.useState(1),[G,D]=be.useState(1),[I,Z]=be.useState(50),[L,j]=be.useState(720),[$,ee]=be.useState(()=>typeof window<"u"?window.innerWidth<768:!1),ue=be.useRef(!1);be.useEffect(()=>{const ge=()=>{const qe=window.innerWidth,Ye=window.innerHeight,et=qe<768;ee(et);const nt=et?24:120,rt=Math.max(360,Ye-48-56-140),at=Math.min(720,Math.max(320,Math.min(qe-nt,rt)));j(at);const Qe=ha.getState();et&&Qe.chordPanelVisible?(Qe.toggleChordPanel(),ue.current=!0):!et&&ue.current&&!Qe.chordPanelVisible&&(Qe.toggleChordPanel(),ue.current=!1)};return ge(),window.addEventListener("resize",ge),()=>window.removeEventListener("resize",ge)},[]);const Q=be.useCallback((ge,qe)=>{D(ge),Z(qe)},[]),re=be.useCallback(()=>{const ge=Math.min(2.5,G+.3);D(ge),Z(ge>1.3?38:50)},[G]),ce=be.useCallback(()=>{const ge=Math.max(1,G-.3);D(ge),Z(ge>1.3?38:50)},[G]),[de,Ae]=be.useState(!1),[Y,C]=be.useState(i.title),z=be.useMemo(()=>{const ge=i.sections.reduce((Ie,ze)=>{const Ge=ze.measures.reduce((rt,at)=>rt+at.beats.reduce((Qe,ht)=>Qe+ht.duration,0),0);return Ie+Ge},0),qe=i.tempo/60,Ye=ge/qe,et=Math.floor(Ye/60),nt=Math.floor(Ye%60);return`${et}:${nt.toString().padStart(2,"0")}`},[i.sections,i.tempo]);be.useEffect(()=>{const ge=async()=>{await P_(),console.log("Audio Context Started")};return document.addEventListener("click",ge,{once:!0}),Bg().catch(console.error),()=>document.removeEventListener("click",ge)},[]),be.useEffect(()=>{const ge=qe=>{if((qe.key==="Delete"||qe.key==="Backspace")&&a&&o){if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;qe.preventDefault(),h(a,o)}};return window.addEventListener("keydown",ge),()=>window.removeEventListener("keydown",ge)},[a,o,h]),be.useEffect(()=>{const ge=qe=>{const Ye=qe.target;Ye?.tagName==="INPUT"||Ye?.tagName==="TEXTAREA"||Ye?.isContentEditable||qe.metaKey&&qe.key.toLowerCase()==="z"&&(qe.preventDefault(),qe.shiftKey?E&&N():A&&y())};return window.addEventListener("keydown",ge),()=>window.removeEventListener("keydown",ge)},[y,N,A,E]);const X=()=>{C(i.title),Ae(!0)},ie=()=>{c(Y.trim()||"Untitled Song"),Ae(!1)},[ae,fe]=be.useState(!1),[pe,xe]=be.useState([]),Ce=be.useRef(null);be.useEffect(()=>{xe(jf())},[]),be.useEffect(()=>{const ge=qe=>{Ce.current&&!Ce.current.contains(qe.target)&&fe(!1)};return document.addEventListener("mousedown",ge),()=>document.removeEventListener("mousedown",ge)},[]);const He=()=>{if(i.title==="Untitled Song"||!i.title.trim()){const ge=prompt("Please name your song:",i.title);if(ge===null)return;const qe=ge.trim()||"Untitled Song";c(qe);const Ye={...i,title:qe};Ob(Ye)}else Ob(i);xe(jf()),fe(!1)},Ze=ge=>{f(ge),fe(!1)},Je=()=>{confirm("Start a new song? Unsaved changes will be lost.")&&(d(),fe(!1))},it=(ge,qe,Ye)=>{Ye.stopPropagation(),confirm(`Delete "${qe}"?`)&&(JO(ge),xe(jf()))},H=ge=>{ge.key==="Enter"?ie():ge.key==="Escape"&&(C(i.title),Ae(!1))},Me=be.useCallback(ge=>{ge.preventDefault(),F(!0)},[]);be.useEffect(()=>{if(!P)return;const ge=Ye=>{const nt=window.innerHeight-Ye.clientY-56;U(Math.max(100,Math.min(350,nt)))},qe=()=>{F(!1)};return document.addEventListener("mousemove",ge),document.addEventListener("mouseup",qe),()=>{document.removeEventListener("mousemove",ge),document.removeEventListener("mouseup",qe)}},[P]);const st=()=>{const ge=new St;ge.setFontSize(24),ge.setFont("helvetica","bold"),ge.text(i.title,20,20),ge.setFontSize(12),ge.setFont("helvetica","normal"),ge.text(`Key: ${e} | Tempo: ${i.tempo} BPM`,20,30);let qe=50;i.sections.forEach(Ye=>{qe>270&&(ge.addPage(),qe=20),ge.setFontSize(14),ge.setFont("helvetica","bold"),ge.text(`[${Ye.name}]`,20,qe),qe+=10;const et=Ye.measures.flatMap(nt=>nt.beats).filter(nt=>nt.chord).map(nt=>nt.chord?.symbol).join("  |  ");ge.setFontSize(12),ge.setFont("helvetica","normal"),ge.text(et||"(No chords)",20,qe),qe+=15}),ge.save(`${i.title.replace(/\s+/g,"-").toLowerCase()}.pdf`)},$e=Math.max(80,T-42);return M.jsxs("div",{className:`${$?"min-h-screen":"h-screen"} w-screen flex flex-col bg-bg-primary text-text-primary overflow-x-hidden`,children:[M.jsxs("header",{className:"h-12 border-b border-border-subtle grid grid-cols-[1fr_auto_1fr] items-center px-3 bg-bg-secondary shrink-0 z-20 sticky top-0",children:[M.jsx("div",{className:"flex items-center gap-3 shrink-0",children:M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-accent-primary to-purple-600 flex items-center justify-center shadow-lg",children:M.jsx(A0,{size:12,className:"text-white"})}),M.jsx("span",{className:"font-bold text-sm tracking-tight hidden sm:block text-text-muted",children:"Songwriter's Wheel"})]})}),M.jsx("div",{className:"flex items-center justify-center",children:de?M.jsx("input",{type:"text",value:Y,onChange:ge=>C(ge.target.value),onBlur:ie,onKeyDown:H,autoFocus:!0,className:"bg-bg-tertiary border border-border-medium rounded px-3 py-1 text-sm font-medium text-text-primary focus:outline-none focus:border-accent-primary text-center w-56 max-w-[70vw]",maxLength:50}):M.jsx("span",{onDoubleClick:X,className:"text-sm font-medium text-text-primary cursor-pointer hover:text-accent-primary transition-colors px-3 py-1 rounded text-center",title:"Double-click to edit title",children:i.title})}),M.jsxs("div",{className:"flex items-center gap-[20px] shrink-0 justify-self-end mr-2",children:[M.jsxs("div",{className:"flex items-center gap-[6px] text-[10px] text-text-muted",children:[M.jsx(w4,{size:11,className:"shrink-0"}),M.jsx("span",{className:"leading-none",children:z})]}),M.jsxs("div",{className:"flex items-center gap-[6px] text-[10px] text-text-muted",children:[M.jsx("span",{className:"uppercase font-bold",children:"Key"}),M.jsx("span",{className:"font-bold text-accent-primary text-sm",children:e})]}),M.jsxs("div",{className:"relative",ref:Ce,children:[M.jsxs("button",{onClick:()=>fe(!ae),className:"flex items-center gap-[20px] text-[11px] text-text-secondary hover:text-text-primary transition-colors px-2 py-1",children:[M.jsx(kv,{size:12}),M.jsx("span",{className:"hidden sm:inline",children:"Save"}),M.jsx(S0,{size:10,className:`transition-transform ${ae?"rotate-180":""}`})]}),ae&&M.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-[#1a1a24] border border-border-medium rounded-lg shadow-2xl z-50 overflow-hidden",children:[M.jsxs("div",{className:"p-1.5 border-b border-border-subtle bg-[#22222e]",children:[M.jsxs("button",{onClick:He,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[M.jsx(kv,{size:14,className:"text-accent-primary"}),"Save Current Song"]}),M.jsxs("button",{onClick:Je,className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-gray-200 hover:bg-[#2a2a3a] rounded transition-colors",children:[M.jsx(k4,{size:14,className:"text-green-400"}),"New Song"]})]}),M.jsx("div",{className:"max-h-48 overflow-y-auto bg-[#1a1a24]",children:pe.length===0?M.jsx("p",{className:"px-3 py-4 text-[10px] text-gray-500 text-center",children:"No saved songs yet"}):M.jsxs("div",{className:"p-1.5",children:[M.jsx("p",{className:"px-2 py-1 text-[9px] text-gray-500 uppercase tracking-wider",children:"Saved Songs"}),pe.map(ge=>M.jsxs("div",{onClick:()=>Ze(ge),className:`flex items-center justify-between px-3 py-2 text-xs rounded cursor-pointer transition-colors ${ge.id===i.id?"bg-accent-primary/20 text-accent-primary":"text-gray-300 hover:bg-[#2a2a3a]"}`,children:[M.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[M.jsx(L4,{size:12,className:"shrink-0"}),M.jsx("span",{className:"truncate",children:ge.title})]}),M.jsx("button",{onClick:qe=>it(ge.id,ge.title,qe),className:"p-1 hover:bg-red-500/20 rounded text-gray-500 hover:text-red-400 shrink-0",children:M.jsx(qb,{size:10})})]},ge.id))]})})]})]}),M.jsxs("button",{onClick:st,className:"flex items-center gap-[20px] text-[11px] bg-text-primary text-bg-primary px-2 py-1 rounded font-medium hover:bg-white transition-colors",children:[M.jsx(T4,{size:12}),M.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),M.jsxs("div",{className:`flex-1 flex ${$?"flex-col":"flex-row"} overflow-x-hidden ${$?"":"overflow-hidden"} min-h-0`,children:[M.jsxs("div",{className:"flex-1 flex flex-col min-w-0 min-h-0 overflow-hidden bg-gradient-to-b from-bg-primary to-bg-secondary/30",children:[M.jsxs("div",{className:"flex-1 flex flex-col min-h-[320px] md:min-h-0 overflow-auto",children:[M.jsx("div",{className:"flex justify-end px-3 py-2 md:py-1.5 shrink-0",children:M.jsxs("div",{className:"flex items-center gap-1 bg-bg-secondary/80 backdrop-blur-sm rounded-full px-2 py-1 border border-border-subtle shadow-lg",children:[M.jsx("button",{onClick:ce,disabled:G<=1,className:"w-6 h-6 flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors",title:"Zoom out",children:M.jsx(F4,{size:12})}),M.jsxs("span",{className:"text-[9px] text-text-muted w-8 text-center",children:[Math.round(G*100),"%"]}),M.jsx("button",{onClick:re,disabled:G>=2.5,className:"w-6 h-6 flex items-center justify-center hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-text-muted hover:text-text-primary transition-colors",title:"Zoom in",children:M.jsx(Rb,{size:12})})]})}),M.jsx("div",{className:"flex-1 overflow-auto px-3 pb-3 md:px-0 md:pb-0",children:M.jsx("div",{className:"relative flex items-center justify-center mx-auto",style:{width:`${L}px`,height:`${L}px`,minWidth:"100%",minHeight:"100%"},children:M.jsx(aT,{zoomScale:G,zoomOriginY:I,onZoomChange:Q})})})]}),t?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:`h-7 bg-bg-secondary border-t border-border-subtle flex items-center justify-center group transition-colors ${P?"bg-accent-primary/20":""}`,children:M.jsx("div",{className:"flex-1 h-full cursor-ns-resize flex items-center justify-center hover:bg-bg-tertiary transition-colors",onMouseDown:Me,children:M.jsx(D4,{size:14,className:"text-text-muted group-hover:text-text-secondary"})})}),M.jsxs("div",{className:"shrink-0 bg-bg-secondary overflow-hidden",style:{height:T},children:[M.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-border-subtle bg-bg-secondary/90 backdrop-blur-sm",children:[M.jsxs("div",{className:"flex items-center gap-4",children:[M.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-text-muted",children:[M.jsx("span",{className:"uppercase font-bold tracking-wider text-[9px]",children:"Scale"}),M.jsx("input",{type:"range",min:.01,max:1.6,step:.01,value:q,onChange:ge=>te(parseFloat(ge.target.value)),className:"w-32",style:{accentColor:"#8b5cf6"},"aria-label":"Timeline scale"}),M.jsxs("span",{className:"text-[10px] text-text-secondary w-12 text-right",children:[Math.round(q*100),"%"]})]}),M.jsxs("div",{className:"flex items-center gap-1",children:[M.jsxs("button",{onClick:y,disabled:!A,className:"flex items-center gap-1 text-[10px] px-2 py-1 rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle",title:"Undo (Z)",children:[M.jsx(Ib,{size:12}),M.jsx("span",{className:"uppercase font-bold tracking-wider",children:"Undo"})]}),M.jsxs("button",{onClick:N,disabled:!E,className:"flex items-center gap-1 text-[10px] px-2 py-1 rounded bg-bg-tertiary/60 hover:bg-bg-tertiary text-text-muted hover:text-text-primary disabled:opacity-40 disabled:cursor-not-allowed border border-border-subtle",title:"Redo (Z)",children:[M.jsx(Bb,{size:12}),M.jsx("span",{className:"uppercase font-bold tracking-wider",children:"Redo"})]})]})]}),M.jsxs("button",{onClick:r,className:"text-[10px] text-text-muted hover:text-text-primary px-2 py-1 rounded hover:bg-bg-tertiary transition-colors flex items-center gap-1",title:"Hide timeline",children:[M.jsx(S0,{size:12}),M.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Hide"})]})]}),M.jsx(rE,{height:$e,scale:q})]})]}):M.jsx("div",{className:"h-7 bg-bg-secondary border-t border-border-subtle flex items-center justify-center shrink-0",children:M.jsxs("button",{onClick:r,className:"px-3 h-full flex items-center gap-1 text-[9px] text-text-muted hover:text-text-primary hover:bg-bg-tertiary transition-colors",title:"Show timeline",children:[M.jsx(J0,{size:12}),M.jsx("span",{className:"uppercase tracking-wider font-bold",children:"Timeline"})]})})]}),!$&&M.jsx(py,{variant:"sidebar"})]}),$&&M.jsx("div",{className:"px-3 pb-3 md:hidden",children:M.jsx(py,{variant:"drawer"})}),M.jsx("div",{className:"shrink-0 z-30 relative",children:M.jsx(oE,{})})]})}j3.createRoot(document.getElementById("root")).render(M.jsx(be.StrictMode,{children:M.jsx($O,{})}));export{Ln as _,eL as c,N3 as g};
